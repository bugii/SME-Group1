commit 02306277bfacaece652ba76025a6f82def9570b6
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sun Nov 10 16:17:49 2019 -0800

    DRILL-7445: Create batch copier based on result set framework
    
    The result set framework now provides both a reader and writer.
    This PR provides a copier that copies batches using this
    framework. Such a copier can:
    
    - Copy selected records
    - Copy all records, such as for an SV2 or SV4
    
    The copier uses the result set loader to create uniformly-sized
    output batches from input batches of any size. It does this
    by merging or splitting input batches as needed.
    
    Since the result set reader handles both SV2 and SV4s, the
    copier can filter or reorder rows based on the SV associated
    with the input batch.
    
    This version assumes single stream of input batches, and handles
    any schema changes in that input by creating output batches
    that track the input schema. This would be used in, say, the
    selection vector remover. A different design is needed for merging
    such as in the merging receiver.
    
    Adds a "copy" method to the column writers. Copy is implemented
    by doing a direct memory copy from source to destination vectors.
    
    A unit test verifies functionality for various use cases
    and data types.
    
    closes #1899

 .../java/org/apache/drill/common/types/Types.java  |  32 +-
 .../physical/impl/aggregate/BatchIterator.java     |   2 -
 .../impl/protocol/IndirectContainerAccessor.java   | 100 ++++
 .../impl/protocol/VectorContainerAccessor.java     |  41 +-
 .../exec/physical/resultSet/ResultSetCopier.java   | 189 ++++++
 .../exec/physical/resultSet/ResultSetReader.java   |   7 +
 .../resultSet/impl/ResultSetCopierImpl.java        | 313 ++++++++++
 .../resultSet/impl/ResultSetLoaderImpl.java        |   1 +
 .../resultSet/impl/ResultSetReaderImpl.java        |   3 +
 .../exec/physical/rowSet/RowSetFormatter.java      |  13 +-
 .../exec/record/selection/SelectionVector2.java    |  13 +-
 .../record/selection/SelectionVector2Builder.java  |  47 ++
 .../impl/protocol/TestOperatorRecordBatch.java     |   9 +-
 .../resultSet/impl/TestResultSetCopier.java        | 663 +++++++++++++++++++++
 .../resultSet/impl/TestResultSetReader.java        |  13 +-
 .../org/apache/drill/test/BaseDirTestWatcher.java  |  12 +-
 .../java/org/apache/drill/test/ClusterFixture.java |  59 +-
 .../main/codegen/templates/ColumnAccessors.java    |  21 +-
 .../drill/exec/record/MaterializedField.java       |   1 +
 .../drill/exec/vector/accessor/ColumnWriter.java   |   9 +
 .../drill/exec/vector/accessor/ObjectReader.java   |   7 +
 .../drill/exec/vector/accessor/ObjectWriter.java   |  11 +-
 .../accessor/convert/AbstractWriteConverter.java   |   6 +
 .../accessor/reader/AbstractObjectReader.java      |   1 +
 .../accessor/reader/AbstractTupleReader.java       |  16 +-
 .../vector/accessor/reader/ArrayReaderImpl.java    |   1 -
 .../vector/accessor/reader/BaseScalarReader.java   |  12 +
 .../vector/accessor/reader/OffsetVectorReader.java |   1 +
 .../vector/accessor/reader/UnionReaderImpl.java    |  12 +-
 .../accessor/writer/AbstractArrayWriter.java       |  14 +
 .../accessor/writer/AbstractObjectWriter.java      |  11 +-
 .../accessor/writer/AbstractTupleWriter.java       |  22 +-
 .../vector/accessor/writer/BaseVarWidthWriter.java |   8 +-
 .../vector/accessor/writer/BitColumnWriter.java    |   8 +
 .../exec/vector/accessor/writer/MapWriter.java     |   9 +-
 .../accessor/writer/NullableScalarWriter.java      |   9 +
 .../accessor/writer/OffsetVectorWriterImpl.java    |   6 +
 .../vector/accessor/writer/UnionWriterImpl.java    |  13 +-
 .../accessor/writer/dummy/DummyArrayWriter.java    |   4 +
 .../accessor/writer/dummy/DummyScalarWriter.java   |   4 +
 40 files changed, 1591 insertions(+), 132 deletions(-)

commit 5b9380e54d9487b2db21b52dc60a21317b127146
Author: Paul Rogers <par0328@yahoo.com>
Date:   Thu Nov 7 20:56:13 2019 -0800

    DRILL-7441: Fix issues with fillEmpties, offset vectors
    
    Fixes subtle issues with offset vectors and "fill empties"
    logic.
    
    Drill has an informal standard that if a batch has no rows, then
    offset vectors within that batch should have zero size. Contrast
    this with batches of size 1 that should have offset vectors of
    size 2. Changed to enforce this rule throughout.
    
    Nullable, repeated and variable-width vectors have "fill empties"
    logic that is used in two places: when setting the value count and
    when preparing to write a new value. The current logic is not
    quite right for either case. Added tests and fixed the code to
    properly handle each case.
    
    Revised the batch validator to enforce the offset-vector length of 0 for
    0-sized batches rule. The result was much simpler code.
    
    Added tools to easily print a batch, restoring some code that
    was recently lost when the RowSet classes were moved.
    
    Code cleanup in all files touched.
    
    Added logic to "dirty" allocated buffers when testing to ensure
    logic is not sensitive to the "pristine" state of new buffers.
    
    Added logic to the column writers to enforce the zero-size-batch rule
    for offset vectors. Added unit tests for this case.
    
    Fixed the column writers to set the "lastSet" mutator value for
    nullable types since other code relies on this value.
    
    Removed the "setCount" field in nullable vectors: turns out
    it is not actually used.
    
    closes #1896

 .../apache/drill/exec/hive/TestHiveStorage.java    |  12 +-
 .../physical/impl/validate/BatchValidator.java     | 174 +++---
 .../drill/exec/vector/complex/fn/JsonReader.java   |   1 +
 .../drill/exec/work/batch/BaseRawBatchBuffer.java  |   1 -
 .../test/java/org/apache/drill/TestBugFixes.java   |  31 +-
 .../test/java/org/apache/drill/TestCTASJson.java   |  20 +-
 .../java/org/apache/drill/TestFrameworkTest.java   |  12 +-
 .../java/org/apache/drill/TestJoinNullable.java    |   1 -
 .../exec/compile/TestLargeFileCompilation.java     |  22 +-
 .../physical/impl/TestNestedDateTimeTimestamp.java |  10 +-
 .../physical/impl/join/TestMergeJoinAdvanced.java  |  22 +-
 .../physical/impl/validate/TestBatchValidator.java |   2 +-
 .../writer/TestCorruptParquetDateCorrection.java   |  23 +-
 .../exec/physical/rowSet/TestMapAccessors.java     |  16 +-
 .../physical/rowSet/TestOffsetVectorWriter.java    |  14 +-
 .../exec/physical/rowSet/TestScalarAccessors.java  | 217 ++++++-
 .../drill/exec/planner/sql/TestDrillSQLWorker.java |   8 +-
 .../org/apache/drill/exec/server/TestOptions.java  |  12 +-
 .../java/org/apache/drill/exec/sql/TestCTAS.java   |  16 +-
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  |  30 +-
 .../complex/fn/TestJsonReaderWithSparseFiles.java  |  44 +-
 .../exec/vector/complex/writer/TestJsonNanInf.java |  20 +-
 .../exec/vector/complex/writer/TestJsonReader.java |  11 +-
 .../TestLimit0VsRegularQueriesMetadata.java        |  12 +-
 .../java/org/apache/drill/test/BaseFixture.java    |  27 +-
 .../java/org/apache/drill/test/BaseTestQuery.java  | 108 ++--
 .../org/apache/drill/test/DrillTestWrapper.java    |   8 +-
 .../org/apache/drill/test/SubOperatorTest.java     |   1 +
 .../apache/drill/exec/memory/BaseAllocator.java    |  14 +-
 .../src/main/codegen/templates/ComplexWriters.java |  14 +-
 .../main/codegen/templates/FixedValueVectors.java  |  22 +-
 .../src/main/codegen/templates/ListWriters.java    |   1 -
 .../src/main/codegen/templates/MapWriters.java     |  24 +-
 .../codegen/templates/NullableValueVectors.java    | 119 ++--
 .../codegen/templates/VariableLengthVectors.java   | 190 ++++---
 .../apache/drill/exec/vector/NullableVector.java   |   8 +-
 .../exec/vector/accessor/impl/VectorPrinter.java   |   9 +
 .../accessor/writer/NullableScalarWriter.java      |   3 +-
 .../accessor/writer/OffsetVectorWriterImpl.java    |  24 +-
 .../vector/complex/AbstractRepeatedMapVector.java  |  32 +-
 .../vector/complex/BaseRepeatedValueVector.java    |  16 +-
 .../exec/vector/complex/EmptyValuePopulator.java   |  42 +-
 .../exec/vector/VariableLengthVectorTest.java      |  52 +-
 .../org/apache/drill/exec/vector/VectorTest.java   | 623 +++++++++++++++++++++
 44 files changed, 1494 insertions(+), 574 deletions(-)

commit 120e10bb8d79d99117464404bb6c870a10169d92
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Mon Nov 18 19:51:55 2019 +0200

    DRILL-7448: Fix warnings when running Drill memory tests
    
    closes #1902

 common/pom.xml                             |  8 -----
 common/src/test/resources/logback-test.xml | 47 ++++++++++++++----------------
 2 files changed, 22 insertions(+), 33 deletions(-)

commit ffd3c352586a5884747edcc5a93b0c625a47e100
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Nov 15 16:01:52 2019 +0200

    DRILL-7388: Kafka improvements
    
    1. Upgraded Kafka libraries to 2.3.1 (DRILL-6739).
    2. Added new options to support the same features as native JSON reader:
      a. store.kafka.reader.skip_invalid_records, default: false (DRILL-6723);
      b. store.kafka.reader.allow_nan_inf, default: true;
      c. store.kafka.reader.allow_escape_any_char, default: false.
    3. Fixed issue when Kafka topic contains only one message (DRILL-7388).
    4. Replaced Gson parser with Jackson to parse JSON in the same manner as Drill native Json reader.
    5. Performance improvements: Kafka consumers will be closed async, fixed issue with resource leak (DRILL-7290), moved to debug unnecessary info logging.
    6. Updated bootstrap-storage-plugins.json to reflect actual Kafka connection properties.
    7. Added unit tests.
    8. Refactoring and code clean up.
    
    closes #1901

 contrib/storage-kafka/README.md                    |  12 +-
 contrib/storage-kafka/pom.xml                      |   6 +-
 .../drill/exec/store/kafka/KafkaAsyncCloser.java   | 105 +++++++++++++
 .../drill/exec/store/kafka/KafkaGroupScan.java     |  52 ++++---
 .../drill/exec/store/kafka/KafkaNodeProcessor.java |   1 -
 .../exec/store/kafka/KafkaPartitionScanSpec.java   |  10 +-
 .../store/kafka/KafkaPartitionScanSpecBuilder.java | 111 +++++++------
 .../store/kafka/KafkaPushDownFilterIntoScan.java   |  25 +--
 .../drill/exec/store/kafka/KafkaRecordReader.java  |  85 +++++-----
 .../exec/store/kafka/KafkaScanBatchCreator.java    |  14 +-
 .../drill/exec/store/kafka/KafkaScanSpec.java      |   3 +-
 .../drill/exec/store/kafka/KafkaStoragePlugin.java |  21 +--
 .../exec/store/kafka/KafkaStoragePluginConfig.java |  35 ++---
 .../drill/exec/store/kafka/KafkaSubScan.java       |   2 +-
 .../drill/exec/store/kafka/MessageIterator.java    |  50 ++++--
 .../drill/exec/store/kafka/MetaDataField.java      |  10 +-
 .../apache/drill/exec/store/kafka/ReadOptions.java |  95 +++++++++++
 .../store/kafka/decoders/JsonMessageReader.java    |  95 +++++++----
 .../exec/store/kafka/decoders/MessageReader.java   |  10 +-
 .../store/kafka/decoders/MessageReaderFactory.java |   4 +-
 .../store/kafka/schema/KafkaMessageSchema.java     |  14 +-
 .../store/kafka/schema/KafkaSchemaFactory.java     |   5 +-
 .../main/resources/bootstrap-storage-plugins.json  |  10 +-
 .../exec/store/kafka/KafkaFilterPushdownTest.java  |  22 +--
 .../exec/store/kafka/KafkaMessageGenerator.java    |  99 ++++++------
 .../drill/exec/store/kafka/KafkaQueriesTest.java   | 173 ++++++++++++++++++---
 .../drill/exec/store/kafka/KafkaTestBase.java      |  12 +-
 .../exec/store/kafka/MessageIteratorTest.java      |   5 +-
 .../drill/exec/store/kafka/TestKafkaSuit.java      |  81 +++++-----
 .../store/kafka/cluster/EmbeddedKafkaCluster.java  |  57 ++++---
 .../kafka/decoders/MessageReaderFactoryTest.java   |   6 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |  10 ++
 .../exec/server/options/SystemOptionManager.java   |   3 +
 .../java-exec/src/main/resources/drill-module.conf |   3 +
 34 files changed, 807 insertions(+), 439 deletions(-)

commit 8e6cdbeae0788594ed64334a1019a7cef424abff
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sat Nov 16 21:58:12 2019 -0800

    DRILL-7446: Fix Eclipse compilation issue in AbstractParquetGroupScan
    
    Adds dummy parameter types to several files to avoid compilation errors
    when loading Drill into Eclipse.

 .../base/AbstractGroupScanWithMetadata.java        | 89 +++++++++++-----------
 .../drill/exec/physical/impl/ImplCreator.java      | 18 +++--
 .../store/parquet/AbstractParquetGroupScan.java    | 87 +++++++++++----------
 3 files changed, 100 insertions(+), 94 deletions(-)

commit 7ab4c3739f34e9e96cbdfa883325a10311a8ef02
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Jun 26 18:11:59 2019 +0300

    DRILL-7273: Introduce operators for handling metadata
    
    closes #1886

 .../java/org/apache/drill/common/types/Types.java  |    2 +-
 .../common/util/function/CheckedSupplier.java      |   26 +-
 .../native/client/src/protobuf/UserBitShared.pb.cc |   17 +-
 .../native/client/src/protobuf/UserBitShared.pb.h  |    6 +-
 docs/dev/MetastoreAnalyze.md                       |  119 +
 .../java-exec/src/main/codegen/data/AggrTypes1.tdd |    2 +
 .../src/main/codegen/includes/parserImpls.ftl      |  131 +-
 .../main/codegen/templates/AggrTypeFunctions1.java |    4 +
 .../templates/JsonBaseStatisticsRecordWriter.java  |    2 +-
 .../templates/StatisticsRecordCollector.java       |   79 +
 .../codegen/templates/StatisticsRecordWriter.java  |   24 +-
 .../templates/StatisticsRecordWriterImpl.java      |   10 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   41 +-
 .../drill/exec/exception/MetadataException.java    |   80 +
 .../expr/fn/DrillComplexWriterAggFuncHolder.java   |    2 +-
 .../drill/exec/expr/fn/FunctionConverter.java      |   12 +-
 .../exec/expr/fn/impl/AggregateErrorFunctions.java |    4 +-
 .../expr/fn/impl/CollectListMapsAggFunction.java   |   77 +
 .../fn/impl/CollectToListVarcharAggFunction.java   |   68 +
 .../exec/expr/fn/impl/ParentPathFunction.java      |   55 +
 .../drill/exec/expr/fn/impl/SchemaFunctions.java   |  251 ++
 .../MetastoreMetadataProviderManager.java          |  123 +
 .../MetastoreParquetTableMetadataProvider.java     |  414 +++
 .../metastore/SimpleFileTableMetadataProvider.java |    5 +
 .../exec/metastore/analyze/AnalyzeColumnUtils.java |  130 +
 .../metastore/analyze/AnalyzeFileInfoProvider.java |   91 +
 .../metastore/analyze/AnalyzeInfoProvider.java     |  118 +
 .../analyze/AnalyzeParquetInfoProvider.java        |   73 +
 .../analyze/FileMetadataInfoCollector.java         |  411 +++
 .../analyze/MetadataAggregateContext.java          |  115 +
 .../analyze/MetadataControllerContext.java         |  176 ++
 .../metastore/analyze/MetadataHandlerContext.java  |  132 +
 .../metastore/analyze/MetadataIdentifierUtils.java |   88 +
 .../metastore/analyze/MetadataInfoCollector.java   |   82 +
 .../analyze/MetastoreAnalyzeConstants.java         |   29 +
 .../org/apache/drill/exec/ops/QueryContext.java    |   12 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |    2 +-
 .../exec/physical/base/AbstractGroupScan.java      |   11 +
 .../base/AbstractGroupScanWithMetadata.java        |   95 +-
 .../apache/drill/exec/physical/base/GroupScan.java |   17 +
 .../drill/exec/physical/config/MetadataAggPOP.java |   48 +
 .../physical/config/MetadataControllerPOP.java     |   83 +
 .../exec/physical/config/MetadataHandlerPOP.java   |   58 +
 .../exec/physical/config/StatisticsAggregate.java  |    2 +-
 .../exec/physical/config/StreamingAggregate.java   |    9 +-
 .../drill/exec/physical/config/UnpivotMaps.java    |   11 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |   30 +-
 .../physical/impl/join/HashJoinProbeTemplate.java  |    3 +-
 .../exec/physical/impl/join/JoinTemplate.java      |    3 +-
 .../physical/impl/metadata/MetadataAggBatch.java   |  288 ++
 .../impl/metadata/MetadataAggBatchCreator.java     |   38 +
 .../impl/metadata/MetadataControllerBatch.java     |  760 ++++++
 .../metadata/MetadataControllerBatchCreator.java   |   39 +
 .../impl/metadata/MetadataHandlerBatch.java        |  498 ++++
 .../impl/metadata/MetadataHandlerBatchCreator.java |   38 +
 .../exec/planner/DFSDirPartitionLocation.java      |    1 -
 .../apache/drill/exec/planner/PlannerPhase.java    |    7 +
 .../drill/exec/planner/common/DrillStatsTable.java |   49 +-
 .../logical/ConvertCountToDirectScanRule.java      |    5 +-
 .../drill/exec/planner/logical/DrillScanRel.java   |    4 +-
 .../drill/exec/planner/logical/MetadataAggRel.java |   74 +
 .../planner/logical/MetadataControllerRel.java     |   85 +
 .../exec/planner/logical/MetadataHandlerRel.java   |   73 +
 .../exec/planner/logical/ScanFieldDeterminer.java  |   44 +-
 .../physical/ConvertCountToDirectScanPrule.java    |    4 +-
 .../exec/planner/physical/MetadataAggPrel.java     |   82 +
 .../exec/planner/physical/MetadataAggPrule.java    |   60 +
 .../planner/physical/MetadataControllerPrel.java   |   95 +
 .../planner/physical/MetadataControllerPrule.java  |   46 +
 .../exec/planner/physical/MetadataHandlerPrel.java |   82 +
 .../planner/physical/MetadataHandlerPrule.java     |   45 +
 .../drill/exec/planner/physical/PrelUtil.java      |    2 +-
 .../drill/exec/planner/physical/StreamAggPrel.java |    2 +-
 .../physical/visitor/StarColumnConverter.java      |    9 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   78 +-
 .../drill/exec/planner/sql/SqlConverter.java       |   43 +-
 .../planner/sql/handlers/AnalyzeTableHandler.java  |   44 +-
 .../sql/handlers/MetastoreAnalyzeTableHandler.java |  536 ++++
 .../MetastoreDropTableMetadataHandler.java         |   97 +
 .../sql/handlers/RefreshMetadataHandler.java       |    8 +-
 .../sql/parser/CompoundIdentifierConverter.java    |    2 +
 .../exec/planner/sql/parser/SqlAnalyzeTable.java   |    2 +-
 .../exec/planner/sql/parser/SqlDropTable.java      |    4 +-
 .../planner/sql/parser/SqlDropTableMetadata.java   |  123 +
 .../sql/parser/SqlMetastoreAnalyzeTable.java       |  165 ++
 .../exec/planner/types/DrillRelDataTypeSystem.java |   21 +
 .../exec/record/AbstractBinaryRecordBatch.java     |    2 -
 .../drill/exec/record/AbstractRecordBatch.java     |    8 +-
 .../exec/record/AbstractSingleRecordBatch.java     |    4 +-
 .../exec/record/AbstractUnaryRecordBatch.java      |    9 -
 .../drill/exec/record/RecordBatchLoader.java       |    1 +
 .../org/apache/drill/exec/record/SchemaUtil.java   |   32 +
 .../exec/server/options/SystemOptionManager.java   |    6 +-
 .../apache/drill/exec/store/AbstractSchema.java    |    4 +-
 .../apache/drill/exec/store/ColumnExplorer.java    |  122 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |   36 +-
 .../exec/store/direct/MetadataDirectGroupScan.java |   19 +-
 .../easy/json/JsonStatisticsRecordWriter.java      |  341 +--
 .../store/easy/json/StatisticsCollectorImpl.java   |  387 +++
 .../store/parquet/AbstractParquetGroupScan.java    |   25 +-
 .../parquet/AbstractParquetScanBatchCreator.java   |   54 +-
 .../store/parquet/BaseParquetMetadataProvider.java |    6 +-
 .../exec/store/parquet/FilterEvaluatorUtils.java   |    9 +-
 .../ParquetFileTableMetadataProviderBuilder.java   |    4 +
 .../drill/exec/store/parquet/ParquetGroupScan.java |   58 +-
 .../parquet/ParquetTableMetadataProviderImpl.java  |    2 +-
 .../store/parquet/ParquetTableMetadataUtils.java   |  107 +-
 .../parquet/metadata/FileMetadataCollector.java    |    7 +-
 .../exec/store/parquet/metadata/Metadata.java      |   47 +-
 .../exec/store/parquet/metadata/Metadata_V4.java   |    5 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |    2 +-
 .../java-exec/src/main/resources/drill-module.conf |   12 +-
 .../java/org/apache/drill/TestFunctionsQuery.java  |   12 +
 .../drill/exec/fn/impl/TestAggregateFunctions.java |  261 +-
 .../physical/impl/agg/TestAggWithAnyValue.java     |    2 +-
 .../impl/agg/TestStreamingAggEmitOutcome.java      |   85 +-
 .../physical/unit/BasicPhysicalOpUnitTest.java     |    2 +-
 .../exec/physical/unit/TestNullInputMiniPlan.java  |    2 +-
 .../apache/drill/exec/record/vector/TestLoad.java  |   57 +
 .../drill/exec/sql/TestMetastoreCommands.java      | 2824 ++++++++++++++++++++
 .../store/parquet/TestParquetFilterPushDown.java   |    3 +-
 .../TestPushDownAndPruningWithItemStar.java        |   68 +-
 .../org/apache/drill/test/OperatorFixture.java     |    3 +-
 .../apache/drill/test/PhysicalOpUnitTestBase.java  |    3 +-
 .../java/org/apache/drill/test/PrintingUtils.java  |    9 +-
 .../java/org/apache/drill/test/QueryBuilder.java   |   26 +
 .../record/metadata/AbstractColumnMetadata.java    |   24 +-
 .../record/metadata/PrimitiveColumnMetadata.java   |   32 +-
 .../drill/exec/vector/UntypedNullVector.java       |    2 +-
 .../drill/exec/vector/accessor/ColumnWriter.java   |    2 +-
 .../accessor/writer/OffsetVectorWriterImpl.java    |    4 +-
 .../vector/complex/impl/RepeatedMapReaderImpl.java |    6 +
 .../vector/complex/impl/SingleMapReaderImpl.java   |    8 +-
 .../drill/common/expression/FieldReference.java    |   37 +-
 .../common/logical/data/MetadataAggregate.java     |   38 +
 .../common/logical/data/MetadataController.java    |   50 +
 .../drill/common/logical/data/MetadataHandler.java |   38 +
 .../components/tables/TestBasicRequests.java       |  165 ++
 metastore/metastore-api/pom.xml                    |    5 +
 .../components/tables/BasicTablesRequests.java     |  179 ++
 .../components/tables/MetastoreTableInfo.java      |   12 +-
 .../drill/metastore/metadata/BaseMetadata.java     |   26 +
 .../metastore/metadata/BaseTableMetadata.java      |   59 +-
 .../drill/metastore/metadata/FileMetadata.java     |   45 +
 .../drill/metastore/metadata/MetadataInfo.java     |   11 +
 .../drill/metastore/metadata/MetadataType.java     |   44 +-
 .../metastore/metadata/PartitionMetadata.java      |   51 +
 .../drill/metastore/metadata/RowGroupMetadata.java |   51 +
 .../drill/metastore/metadata/SegmentMetadata.java  |   54 +
 .../apache/drill/metastore/metadata/TableInfo.java |   13 +
 .../metastore/metadata/TableMetadataProvider.java  |    8 +
 .../metastore/statistics/BaseStatisticsKind.java   |   29 +
 .../metastore/statistics/ColumnStatistics.java     |   51 +-
 .../metastore/statistics/StatisticsHolder.java     |   44 +-
 .../metastore/statistics/TableStatisticsKind.java  |   24 +
 .../org/apache/drill/exec/proto/UserBitShared.java |   31 +-
 protocol/src/main/protobuf/UserBitShared.proto     |    2 +
 157 files changed, 11739 insertions(+), 1008 deletions(-)

commit aba268ae70dd5d4012fe2ccbed89e88dc4f81b60
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Oct 30 16:49:45 2019 +0200

    DRILL-7372: MethodAnalyzer consumes too much memory
    
    closes #1887

 .../exec/compile/bytecode/MethodAnalyzer.java      | 35 ++++++++++++----------
 .../exec/compile/TestClassTransformation.java      |  2 +-
 .../exec/compile/TestLargeFileCompilation.java     | 22 +++++++++++++-
 3 files changed, 42 insertions(+), 17 deletions(-)

commit 0b6608655dd8217a6706119605d65743cf5549a2
Author: Denys Ordynskiy <denysord88@gmail.com>
Date:   Tue Nov 5 14:55:09 2019 +0200

    DRILL-7409: Moving test with huge test data to the drill-test-framework.
    
    closes #1891

 .../columnreaders/TestColumnReaderFactory.java        |  15 ---------------
 .../test/resources/parquet/bigIntDictionary.parquet   | Bin 1918423 -> 0 bytes
 2 files changed, 15 deletions(-)

commit 7badf0f12a59c75a02e5ac3eee9a49c40c01426f
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Thu Nov 7 19:12:26 2019 +0200

    DRILL-7440: Failure during loading of RepeatedCount functions
    
    closes #1894

 .../exec/hive/complex_types/TestHiveArrays.java    | 22 +++++++++++++
 .../src/main/codegen/templates/TypeHelper.java     | 38 +++++++++++++++++++++-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java | 28 +++++-----------
 .../exec/expr/holders/RepeatedDictHolder.java      |  3 +-
 4 files changed, 69 insertions(+), 22 deletions(-)

commit 701a3166669a84563a76b48bc8e35e214d20187b
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sun Nov 10 16:17:49 2019 -0800

    DRILL-7442: Create multi-batch row set reader
    
    Adds a ResultSetReader that works across multiple batches
    in a result set. Reuses the same row set and readers if
    schema is unchanged, creates a new set if the schema changes.
    
    Adds a unit test for the result set reader.
    
    Adds a "rebind" capability to the row set readers to focus
    on new buffers under an existing set of vectors. Used when
    a new batch arrives, if the schema is unchanged.
    
    Extends row set classses to be aware of the BatchAccessor class
    which encapsulates a container and optional selection vector,
    and tracks schema changes.
    
    Moves row set tests into the same package as the row sets.
    (Row set classes were moved a while back, but the tests were
    not moved.)
    
    Renames some BatchAccessor methods.
    
    closes #1897

 .../exec/physical/impl/protocol/BatchAccessor.java |  12 +-
 .../physical/impl/protocol/OperatorDriver.java     |   4 +-
 .../impl/protocol/OperatorRecordBatch.java         |  14 +-
 .../impl/protocol/VectorContainerAccessor.java     |  16 +-
 .../drill/exec/physical/impl/scan/ReaderState.java |   6 +-
 .../exec/physical/impl/scan/ScanOperatorExec.java  |   2 +-
 .../exec/physical/resultSet/ResultSetReader.java   |  92 ++++++++++
 .../resultSet/impl/ResultSetReaderImpl.java        | 103 +++++++++++
 .../exec/physical/resultSet/model/ReaderIndex.java |   5 +
 .../drill/exec/physical/rowSet/AbstractRowSet.java |   5 +
 .../apache/drill/exec/physical/rowSet/RowSet.java  |  14 +-
 .../exec/physical/rowSet/RowSetFormatter.java      |  20 +-
 .../drill/exec/physical/rowSet/RowSetReader.java   |  56 +++++-
 .../exec/physical/rowSet/RowSetReaderImpl.java     |  16 +-
 .../apache/drill/exec/physical/rowSet/RowSets.java |  66 +++++++
 .../org/apache/drill/exec/util/BatchPrinter.java   |   6 +-
 .../impl/protocol/TestOperatorRecordBatch.java     |   4 +-
 .../physical/impl/scan/TestFileScanFramework.java  |  32 ++--
 .../physical/impl/scan/TestScanOperExecBasics.java |  12 +-
 .../impl/scan/TestScanOperExecEarlySchema.java     |  34 ++--
 .../impl/scan/TestScanOperExecLateSchema.java      |  40 ++--
 .../impl/scan/TestScanOperExecOuputSchema.java     |  16 +-
 .../impl/scan/TestScanOperExecOverflow.java        |   8 +-
 .../impl/scan/TestScanOperExecSmoothing.java       |  14 +-
 .../impl/TestResultSetLoaderTypeConversion.java    |   4 +-
 .../resultSet/impl/TestResultSetReader.java        | 203 +++++++++++++++++++++
 .../physical/rowSet}/TestColumnConverter.java      |   8 +-
 .../physical/rowSet}/TestDummyWriter.java          |   2 +-
 .../physical/rowSet}/TestFillEmpties.java          |   8 +-
 .../physical/rowSet}/TestFixedWidthWriter.java     |   2 +-
 .../physical/rowSet}/TestHyperVectorReaders.java   |  12 +-
 .../physical/rowSet}/TestIndirectReaders.java      |  14 +-
 .../physical/rowSet}/TestMapAccessors.java         |  10 +-
 .../physical/rowSet}/TestOffsetVectorWriter.java   |   4 +-
 .../rowSet}/TestRepeatedListAccessors.java         |  16 +-
 .../test => exec/physical/rowSet}/TestRowSet.java  |  10 +-
 .../physical/rowSet}/TestScalarAccessors.java      |   9 +-
 .../physical/rowSet}/TestSchemaBuilder.java        |   4 +-
 .../physical/rowSet}/TestVariableWidthWriter.java  |   6 +-
 .../physical/rowSet}/TestVariantAccessors.java     |   8 +-
 .../drill/exec/store/mock/TestMockRowReader.java   |  36 ++--
 .../src/main/java/io/netty/buffer/DrillBuf.java    |  10 +-
 .../exec/vector/accessor/ColumnReaderIndex.java    |   7 +
 .../accessor/reader/AbstractScalarReader.java      |   3 +
 .../accessor/reader/AbstractTupleReader.java       |   7 +
 .../vector/accessor/reader/ArrayReaderImpl.java    |  14 +-
 .../vector/accessor/reader/BaseScalarReader.java   |  24 ++-
 .../exec/vector/accessor/reader/ReaderEvents.java  |   1 +
 .../vector/accessor/reader/UnionReaderImpl.java    |  13 +-
 49 files changed, 813 insertions(+), 219 deletions(-)

commit 9d8ac02d05cf6f23ddc80065066722b121577656
Author: Paul Rogers <par0328@yahoo.com>
Date:   Tue Nov 5 13:50:56 2019 -0800

    DRILL-7439: Batch count fixes for six additional operators
    
    Enables vector checks, and fixes batch count and vector issues for:
    
    * StreamingAggBatch
    * RuntimeFilterRecordBatch
    * FlattenRecordBatch
    * MergeJoinBatch
    * NestedLoopJoinBatch
    * LimitRecordBatch
    
    Also fixes a zero-size batch validity issue for the CSV reader when
    all files contain no data.
    
    Includes code cleanup for files touched in this PR.
    
    closes #1893

 .../org/apache/drill/exec/util/AssertionUtil.java  |   7 +-
 .../physical/impl/aggregate/HashAggTemplate.java   | 109 +++++------
 .../physical/impl/aggregate/StreamingAggBatch.java | 124 +++++++------
 .../impl/aggregate/StreamingAggTemplate.java       |  43 ++---
 .../exec/physical/impl/common/HashPartition.java   |  73 +++++---
 .../impl/filter/RuntimeFilterRecordBatch.java      |  51 +++---
 .../physical/impl/flatten/FlattenRecordBatch.java  | 201 ++++++++++-----------
 .../exec/physical/impl/join/MergeJoinBatch.java    |  15 +-
 .../physical/impl/join/NestedLoopJoinBatch.java    |  20 +-
 .../exec/physical/impl/limit/LimitRecordBatch.java |  23 ++-
 .../impl/protocol/OperatorRecordBatch.java         |   4 +-
 .../drill/exec/physical/impl/scan/ReaderState.java |   4 +-
 .../exec/physical/impl/scan/ScanOperatorExec.java  |  11 +-
 .../impl/scan/framework/ManagedScanFramework.java  |   4 +-
 .../physical/impl/scan/project/ResolvedTuple.java  |  16 +-
 .../physical/impl/validate/BatchValidator.java     |  71 +++++---
 .../resultSet/impl/ResultSetLoaderImpl.java        |   4 +-
 .../drill/exec/nested/TestFastComplexSchema.java   |   4 +-
 .../exec/physical/impl/flatten/TestFlatten.java    |  11 +-
 .../main/codegen/templates/FixedValueVectors.java  |  64 +++----
 .../accessor/writer/OffsetVectorWriterImpl.java    |  31 ++--
 .../vector/complex/BaseRepeatedValueVector.java    |  13 +-
 22 files changed, 470 insertions(+), 433 deletions(-)

commit 916b399c6eb317a52950e64030317511d9341618
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sun Nov 3 16:21:54 2019 -0800

    DRILL-7436: Fix record count, vector structure issues in several operators
    
    Adds additional vector checks to the BatchValidator.
    
    Enables checking for the following operators:
    
    * FilterRecordBatch
    * PartitionLimitRecordBatch
    * UnnestRecordBatch
    * HashAggBatch
    * RemovingRecordBatch
    
    Fixes vector count issues for each of these.
    
    Fixes empty-batch (record count = 0) handling in several of the
    above operators. Added a method to VectorContainer to correctly
    create an empty batch. (An empty batch, counter-intuitively,
    needs vectors allocated to hold the 0 value in the first
    position of each offset vector.)
    
    Disables verbose logging for MongoDB tests. Details are written to
    the log rather than the console.
    
    Disables two invalid Mongo tests. See DRILL-7428.
    
    Adjusts the expression tree materializer to not add the LATE type
    to Union vectors. (See DRILL-7435.)
    
    Ensures that Union vectors contain valid vectors for each subtype.
    The present fix is a work-around, see DRILL-7434 for a better
    long-term fix.
    
    Cleans up code formatting and other minor issues in each file touched
    during the fixes in this PR.

 .../drill/exec/store/mongo/MongoTestConstants.java |   7 +-
 .../drill/exec/store/mongo/MongoTestSuit.java      |   9 +-
 .../drill/exec/store/mongo/TestMongoQueries.java   |   3 +
 .../drill/exec/store/mongo/TestTableGenerator.java |  17 +-
 .../exec/expr/ExpressionTreeMaterializer.java      | 117 ++++++-----
 .../exec/expr/annotations/FunctionTemplate.java    |  34 ++--
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  33 ++--
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |  11 +-
 .../drill/exec/expr/fn/impl/UnionFunctions.java    |  28 +--
 .../expr/fn/output/DefaultReturnTypeInference.java |  22 ++-
 .../exec/physical/impl/aggregate/HashAggBatch.java |  22 ++-
 .../physical/impl/filter/FilterRecordBatch.java    |  37 ++--
 .../exec/physical/impl/filter/FilterTemplate2.java |  39 ++--
 .../impl/limit/PartitionLimitRecordBatch.java      | 101 ++++++----
 .../physical/impl/project/ProjectRecordBatch.java  |  26 ++-
 .../physical/impl/project/ProjectorTemplate.java   |  32 +--
 .../physical/impl/svremover/AbstractCopier.java    |  14 +-
 .../impl/svremover/RemovingRecordBatch.java        |  12 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |  47 +++--
 .../physical/impl/union/UnionAllerTemplate.java    |  13 +-
 .../physical/impl/unnest/UnnestRecordBatch.java    | 115 +++++------
 .../physical/impl/validate/BatchValidator.java     | 215 +++++++++++++++------
 .../impl/xsort/managed/ExternalSortBatch.java      |  48 +++--
 .../drill/exec/record/AbstractRecordBatch.java     |  29 ++-
 .../record/AbstractTableFunctionRecordBatch.java   |   2 -
 .../exec/record/AbstractUnaryRecordBatch.java      |   4 +-
 .../apache/drill/exec/record/VectorContainer.java  |  16 ++
 .../exec/store/easy/json/JSONRecordReader.java     |  12 +-
 .../drill/exec/vector/complex/fn/JsonReader.java   |  84 ++++----
 .../apache/drill/TestTpchDistributedStreaming.java |   1 -
 .../physical/impl/validate/TestBatchValidator.java |   2 +-
 .../exec/vector/complex/writer/TestJsonReader.java |  15 +-
 .../codegen/templates/NullableValueVectors.java    |  55 +++---
 .../src/main/codegen/templates/UnionVector.java    |  82 +++++---
 .../drill/exec/record/MaterializedField.java       |  95 +++++----
 .../drill/exec/vector/complex/MapVector.java       |  35 ++--
 .../drill/common/expression/IfExpression.java      |   9 +-
 37 files changed, 847 insertions(+), 596 deletions(-)

commit 9195838aabac25bac7555896ca5c6d5993285253
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Tue Oct 29 12:49:34 2019 +0200

    DRILL-7391: Wrong result when doing left outer join on CSV table

 .../src/test/java/org/apache/drill/TestExampleQueries.java   | 12 ++++++++++++
 pom.xml                                                      |  2 +-
 2 files changed, 13 insertions(+), 1 deletion(-)

commit 81dba65268fd86fd04d9c98a4de0be5288d43ae9
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Mon Oct 28 16:19:00 2019 +0200

    DRILL-7397: Fix logback errors when building the project

 common/pom.xml | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 09284270b85d35f7a1d521539c42876bb613a6e3
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Oct 22 17:33:04 2019 +0300

    DRILL-7418: MetadataDirectGroupScan improvements
    
    1. Replaced files listing with selection root information to reduce query plan size in MetadataDirectGroupScan.
    2. Fixed MetadataDirectGroupScan ser / de issues.
    3. Added PlanMatcher to QueryBuilder for more convenient plan matching.
    4. Re-written TestConvertCountToDirectScan to use ClusterTest.
    5. Refactoring and code clean up.

 .../exec/TestHiveDrillNativeParquetReader.java     |  19 +-
 .../exec/physical/base/AbstractGroupScan.java      |   5 +
 .../apache/drill/exec/physical/base/GroupScan.java |   9 +-
 .../apache/drill/exec/physical/base/ScanStats.java |  46 ++-
 .../logical/ConvertCountToDirectScanRule.java      |  27 +-
 .../physical/ConvertCountToDirectScanPrule.java    |  17 +-
 .../drill/exec/store/direct/DirectGroupScan.java   |  24 +-
 .../exec/store/direct/MetadataDirectGroupScan.java |  49 ++-
 .../parquet/AbstractParquetScanBatchCreator.java   |   6 +-
 .../drill/TestFunctionsWithTypeExpoQueries.java    |   2 +-
 .../logical/TestConvertCountToDirectScan.java      | 444 ++++++++++++---------
 .../java/org/apache/drill/test/ClientFixture.java  |  76 ++--
 .../java/org/apache/drill/test/QueryBuilder.java   | 152 +++++--
 13 files changed, 530 insertions(+), 346 deletions(-)

commit 4b615357bd4afbf5209905d682dedd060a726fb6
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Fri Sep 13 17:21:05 2019 +0300

    DRILL-7351: Added tokens to Web forms to prevent CSRF attacks

 .../yarn/appMaster/DrillApplicationMaster.java     | 18 ++++++
 .../yarn/appMaster/http/CsrfTokenInjectFilter.java | 60 +++++++++++++++++++
 .../appMaster/http/CsrfTokenValidateFilter.java    | 63 +++++++++++++++++++
 .../apache/drill/yarn/appMaster/http/PageTree.java |  8 +++
 .../drill/yarn/appMaster/http/WebConstants.java    | 29 +++++++++
 .../drill/yarn/appMaster/http/WebServer.java       | 11 ++++
 .../drill/yarn/appMaster/http/WebUiPageTree.java   | 20 +++++--
 .../apache/drill/yarn/appMaster/http/WebUtils.java | 51 ++++++++++++++++
 .../org/apache/drill/yarn/client/DrillOnYarn.java  | 70 ++++++++++++++--------
 drill-yarn/src/main/resources/drill-am/manage.ftl  |  1 +
 .../src/main/resources/drill-am/shrink-warning.ftl |  1 +
 .../exec/server/rest/CsrfTokenInjectFilter.java    | 60 +++++++++++++++++++
 .../exec/server/rest/CsrfTokenValidateFilter.java  | 61 +++++++++++++++++++
 .../drill/exec/server/rest/QueryResources.java     | 32 +++++++---
 .../drill/exec/server/rest/StatusResources.java    | 27 +++++++--
 .../drill/exec/server/rest/StorageResources.java   | 58 +++++++++++++++---
 .../apache/drill/exec/server/rest/WebServer.java   |  6 ++
 .../drill/exec/server/rest/WebServerConstants.java |  5 +-
 .../apache/drill/exec/server/rest/WebUtils.java    | 51 ++++++++++++++++
 .../exec/server/rest/profile/ProfileResources.java | 21 +++++--
 .../exec/server/rest/profile/ProfileWrapper.java   | 15 ++++-
 exec/java-exec/src/main/resources/rest/options.ftl |  7 ++-
 .../src/main/resources/rest/profile/profile.ftl    |  1 +
 .../src/main/resources/rest/query/query.ftl        |  1 +
 .../src/main/resources/rest/storage/list.ftl       | 25 ++++----
 .../src/main/resources/rest/storage/update.ftl     | 19 +++---
 26 files changed, 640 insertions(+), 81 deletions(-)

commit f2715ab8f0e472de605d8b337e13d55f5fcc30ff
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sun Oct 27 00:23:25 2019 -0700

    DRILL-7424: Project operator fails to set the container row count
    
    Enabled the "batch validator" for the Project operator. Ran tests.
    Exceptions occurred because, in some paths, the Project operator
    fails to set the container row count.
    
    Fixes the project operator. Cleans up formatting issues in files
    touched during the investigation. Cleaned up batch-related issues
    in Project.

 .../exec/store/mongo/TestMongoChunkAssignment.java |   9 +-
 .../expr/fn/impl/AbstractSqlPatternMatcher.java    |  15 +-
 .../exec/expr/fn/impl/StringFunctionHelpers.java   |  78 ++---
 .../physical/impl/project/ProjectRecordBatch.java  | 368 ++++++++++-----------
 .../physical/impl/validate/BatchValidator.java     |  48 +--
 .../org/apache/drill/TestCTASPartitionFilter.java  |   7 +-
 .../java/org/apache/drill/TestPartitionFilter.java |   6 +-
 .../java/org/apache/drill/TestTpchSingleMode.java  |   1 -
 .../impl/lateraljoin/TestLateralPlans.java         |  12 +-
 9 files changed, 255 insertions(+), 289 deletions(-)

commit 5d6dbc8b3c7ec3fd5f3eefd1c9bf56e688e76ef0
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon Oct 28 13:51:21 2019 +0200

    DRILL-7347: Upgrade Apache Iceberg to released version

 metastore/iceberg-metastore/pom.xml | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 8f40dc9ea50c036a36ddc25183f48ce578a5154e
Author: Charles Givre <cgivre@apache.org>
Date:   Mon Oct 28 10:39:20 2019 -0400

    DRILL-4303: ESRI Shapefile (shp) Format Plugin

 contrib/format-esri/README.md                      |  35 +++
 contrib/format-esri/pom.xml                        | 104 +++++++
 .../core/geometry/ShapefileByteBufferCursor.java   |  72 +++++
 .../com/esri/core/geometry/ShapefileReader.java    |  31 ++
 .../drill/exec/store/esri/ShpBatchReader.java      | 329 +++++++++++++++++++++
 .../drill/exec/store/esri/ShpFormatConfig.java     |  66 +++++
 .../drill/exec/store/esri/ShpFormatPlugin.java     |  92 ++++++
 .../main/resources/bootstrap-format-plugins.json   |  20 ++
 .../src/main/resources/drill-module.conf           |  20 ++
 .../exec/store/esri/TestShapefileFormatPlugin.java | 107 +++++++
 .../src/test/resources/shapefiles/CA-cities.dbf    | Bin 0 -> 217692 bytes
 .../src/test/resources/shapefiles/CA-cities.prj    |   1 +
 .../src/test/resources/shapefiles/CA-cities.shp    | Bin 0 -> 160456 bytes
 .../native/client/src/protobuf/UserBitShared.pb.cc |  14 +-
 .../native/client/src/protobuf/UserBitShared.pb.h  |   5 +-
 contrib/pom.xml                                    |   1 +
 contrib/udfs/README.md                             | 165 +++++++++++
 distribution/pom.xml                               |   5 +
 distribution/src/assemble/component.xml            |   1 +
 pom.xml                                            |   3 +
 .../org/apache/drill/exec/proto/UserBitShared.java |  20 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   1 +
 22 files changed, 1079 insertions(+), 13 deletions(-)

commit f2654eed3b6d444280b5c0c2a507edc355c676e6
Author: Charles Givre <cgivre@apache.org>
Date:   Mon Oct 28 07:30:15 2019 -0400

    DRILL-7177: Format Plugin for Excel Files
    
    closes #1749

 contrib/format-excel/README.md                     |  59 +++
 contrib/format-excel/pom.xml                       | 110 +++++
 .../drill/exec/store/excel/ExcelBatchReader.java   | 527 +++++++++++++++++++++
 .../drill/exec/store/excel/ExcelFormatConfig.java  | 108 +++++
 .../drill/exec/store/excel/ExcelFormatPlugin.java  | 142 ++++++
 .../main/resources/bootstrap-format-plugins.json   |  26 +
 .../src/main/resources/drill-module.conf           |   1 +
 .../drill/exec/store/excel/TestExcelFormat.java    | 402 ++++++++++++++++
 .../src/test/resources/excel/test_data.xlsx        | Bin 0 -> 15459 bytes
 .../native/client/src/protobuf/UserBitShared.pb.cc |  15 +-
 .../native/client/src/protobuf/UserBitShared.pb.h  |   5 +-
 contrib/pom.xml                                    |   1 +
 distribution/pom.xml                               |   5 +
 distribution/src/assemble/component.xml            |   1 +
 .../store/parquet/TestParquetFilterPushDown.java   |  10 +-
 pom.xml                                            |   2 +
 .../org/apache/drill/exec/proto/UserBitShared.java |  21 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   1 +
 18 files changed, 1416 insertions(+), 20 deletions(-)

commit a18e180c8a6378779039dd1a571eb0e90fcb3924
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Oct 24 15:11:24 2019 +0300

    DRILL-1709: Add desc alias for describe command
    
    closes #1881

 exec/java-exec/src/main/codegen/includes/parserImpls.ftl           | 6 +++---
 .../src/test/java/org/apache/drill/TestSchemaCommands.java         | 6 ++++++
 .../src/test/java/org/apache/drill/exec/sql/TestInfoSchema.java    | 7 +++++++
 3 files changed, 16 insertions(+), 3 deletions(-)

commit 9388e1ceea5e7c496f4b668038e00151626e308f
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Tue Oct 22 14:16:52 2019 -0700

    DRILL-7417: Add user logged in/out event in info level logs

 .../org/apache/drill/exec/rpc/user/UserServer.java    | 19 ++++++++++++++-----
 .../drill/exec/server/rest/LogInLogOutResources.java  | 13 ++++++++++++-
 .../exec/server/rest/auth/DrillRestLoginService.java  |  2 +-
 .../server/rest/auth/DrillSpnegoAuthenticator.java    |  5 ++---
 .../server/rest/auth/DrillSpnegoLoginService.java     |  7 ++++---
 5 files changed, 33 insertions(+), 13 deletions(-)

commit 8c37156a91ee531e4d1b672a41255cdeb11bdd57
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sun Oct 20 12:03:28 2019 -0700

    DRILL-7413: Test and fix scan operator vectors
    
    Enables vector validation tests for the ScanBatch and all
    EasyFormat plugins. Fixes a bug in scan batch that failed to set
    the record count in the output container.
    
    Fixes a number of formatting and other issues found while adding
    the tests.

 .../apache/drill/exec/physical/impl/ScanBatch.java |  28 +-
 .../physical/impl/validate/BatchValidator.java     |  62 +++-
 .../apache/drill/exec/record/VectorContainer.java  |   5 +
 .../exec/store/easy/json/JSONFormatPlugin.java     |  24 +-
 .../sequencefile/SequenceFileFormatPlugin.java     |   9 +-
 .../drill/exec/record/vector/TestDateTypes.java    | 376 ++++++++++-----------
 .../test/resources/parquet/alltypes_repeated.json  |   4 +-
 7 files changed, 278 insertions(+), 230 deletions(-)

commit 7d33bf102e50089536b2c7c95d08ffb58aebf78e
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Oct 18 18:22:15 2019 +0300

    DRILL-5674: Support ZIP compression
    
    1. Added ZipCodec implementation which can read / write single file.
    2. Revisited Drill plugin formats to ensure 'openPossiblyCompressedStream' method is used in those which support compression.
    3. Added unit tests.
    4. General refactoring.

 .../drill/exec/store/ltsv/LTSVFormatPlugin.java    |  15 +--
 .../drill/exec/store/ltsv/LTSVRecordReader.java    |  32 ++---
 .../exec/store/syslog/SyslogFormatPlugin.java      |  20 ++-
 .../exec/store/syslog/SyslogRecordReader.java      |  59 +++------
 .../planner/logical/partition/PruneScanRule.java   |   2 +-
 .../drill/exec/store/dfs/BasicFormatMatcher.java   |  65 +++++-----
 .../apache/drill/exec/store/dfs/FileSelection.java |  71 +++++------
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  43 ++++++-
 .../drill/exec/store/dfs/FormatSelection.java      |  11 +-
 .../org/apache/drill/exec/store/dfs/ZipCodec.java  | 141 +++++++++++++++++++++
 .../drill/exec/store/log/LogBatchReader.java       |   2 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |  12 +-
 .../drill/exec/store/pcap/PcapBatchReader.java     |  27 +---
 .../drill/exec/store/pcap/PcapFormatPlugin.java    |  11 +-
 .../exec/store/pcapng/PcapngFormatPlugin.java      |   2 +-
 .../exec/store/pcapng/PcapngRecordReader.java      |  12 +-
 .../drill/exec/store/pcapng/package-info.java      |   2 +-
 .../drill/exec/store/dfs/TestCompressedFiles.java  | 111 ++++++++++++++++
 18 files changed, 431 insertions(+), 207 deletions(-)

commit ad75bbd9a300771e2b1d40f29876c449e9113b7c
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sun Oct 20 14:09:26 2019 -0700

    DRILL-7414: EVF incorrectly sets buffer writer index after rollover
    
    Enabling the vector validator on the "new" scan operator, in cases
    in which overflow occurs, identified that the DrillBuf writer index
    was not properly set for repeated vectors.
    
    Enables such checking, adds unit tests, and fixes the writer index
    issue.
    
    closes #1878

 .../physical/impl/validate/BatchValidator.java     |  79 ++---
 .../resultSet/impl/RepeatedVectorState.java        |  10 +-
 .../physical/resultSet/impl/SingleVectorState.java |  14 +-
 .../drill/exec/physical/impl/MockRecordBatch.java  |  84 +++---
 .../impl/TestResultSetLoaderOverflow.java          | 334 ++++++++++++---------
 .../accessor/writer/OffsetVectorWriterImpl.java    |   7 +-
 6 files changed, 292 insertions(+), 236 deletions(-)

commit ed3ad76cb7b4165911acdf5866b0b4e57cd2d680
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sun Oct 13 12:41:03 2019 -0700

    DRILL-7403: Validate batch checks, vector integretity in unit tests
    
    Enhances the existing record batch checks to check all the various
    batch record counts, and to more fully validate all vector types.
    
    This code revealed that virtually all record batches have
    problems: they omit setting some record count or other, they
    introduce some form of vector corruption.
    
    Since we want things to work as we make fixes, this change enables
    the checks for only one record batch: the "new" scan. Others are
    to come as they are fixed.
    
    closes #1871

 .../physical/impl/validate/BatchValidator.java     | 433 ++++++++++++++++-----
 .../validate/IteratorValidatorBatchIterator.java   |  38 +-
 .../apache/drill/exec/vector/VectorValidator.java  |   6 +-
 .../physical/impl/validate/TestBatchValidator.java | 118 +++---
 4 files changed, 416 insertions(+), 179 deletions(-)

commit a13608b8d1f8110d7bd944c10259b2252dfbf18b
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Oct 10 15:43:33 2019 +0300

    DRILL-6096: Provide mechanism to configure text writer configuration
    
    1. Usage of format plugin configuration allows to specify line and field delimiters, quotes and escape characters.
    2. Usage of system / session options allows to specify if writer should add headers, force quotes.
    
    closes #1873

 exec/java-exec/pom.xml                             |   2 +-
 .../templates/StringOutputRecordWriter.java        |  12 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   7 +
 .../impl/scan/columns/ColumnsArrayParser.java      |  13 +-
 .../exec/server/options/SystemOptionManager.java   |   2 +
 .../exec/store/easy/text/TextFormatPlugin.java     |  53 +++--
 .../store/easy/text/reader/BaseFieldOutput.java    |   2 +-
 .../store/easy/text/reader/FieldVarCharOutput.java |  13 +-
 .../exec/store/easy/text/reader/HeaderBuilder.java |  26 +-
 .../easy/text/reader/RepeatedVarCharOutput.java    |  21 +-
 .../exec/store/easy/text/reader/TextInput.java     |  13 +-
 .../exec/store/easy/text/reader/TextOutput.java    |  54 ++---
 .../store/easy/text/reader/TextParsingContext.java | 119 ++++++----
 .../easy/text/reader/TextParsingSettings.java      |   2 +-
 .../exec/store/easy/text/reader/TextReader.java    |  31 +--
 .../store/easy/text/writer/TextRecordWriter.java   | 121 ++++++----
 .../java-exec/src/main/resources/drill-module.conf |   2 +
 .../exec/physical/impl/writer/TestTextWriter.java  | 264 +++++++++++++++++++++
 .../text/compliant/TestCsvTableProperties.java     |  76 ++++--
 .../java/org/apache/drill/test/ClusterFixture.java |  94 +++++---
 20 files changed, 667 insertions(+), 260 deletions(-)

commit 849e2b67d6f86090c70184051c596f0b1c8f15de
Author: Abhishek Girish <agirish@apache.org>
Date:   Wed Oct 16 20:24:27 2019 -0700

    DRILL-7405: Avoiding download of TPC-H data
    
    closes #1874

 contrib/data/tpch-sample-data/bin/pom.xml          | 140 ---------------------
 .../data/tpch-sample-data/parquet/customer.parquet | Bin 0 -> 132891 bytes
 .../data/tpch-sample-data/parquet/lineitem.parquet | Bin 0 -> 2839887 bytes
 .../data/tpch-sample-data/parquet/nation.parquet   | Bin 0 -> 1845 bytes
 .../data/tpch-sample-data/parquet/orders.parquet   | Bin 0 -> 661050 bytes
 contrib/data/tpch-sample-data/parquet/part.parquet | Bin 0 -> 93889 bytes
 .../data/tpch-sample-data/parquet/partsupp.parquet | Bin 0 -> 449294 bytes
 .../data/tpch-sample-data/parquet/region.parquet   | Bin 0 -> 617 bytes
 .../data/tpch-sample-data/parquet/supplier.parquet | Bin 0 -> 9699 bytes
 contrib/data/tpch-sample-data/pom.xml              |  25 ++--
 10 files changed, 14 insertions(+), 151 deletions(-)

commit e8d9503c6574ceef2876c902117fa2f35e3dd974
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sat Oct 19 23:48:39 2019 -0700

    DRILL-7412: Minor unit test improvements
    
    Many tests intentionally trigger errors. A debug-only log setting
    sent those errors to stdout. The resulting stack dumps simply cluttered
    the test output, so disabled error output to the console.
    
    Drill can apply bounds checks to vectors. Tests run via Maven
    enable bounds checking. Now, bounds checking is also enabled in
    "debug mode" (when assertions are enabled, as in an IDE.)
    
    Drill contains two test frameworks. The older BaseTestQuery was
    marked as deprecated, but many tests still use it and are unlikely
    to be changed soon. So, removed the deprecated marker to reduce the
    number of spurious warnings.
    
    Also includes a number of minor clean-ups.
    
    closes #1876

 .../drill/common/exceptions/DrillException.java    |   8 +-
 .../drill/common/exceptions/UserException.java     |  10 +-
 common/src/test/resources/logback-test.xml         |   2 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |   2 -
 .../drill/exec/work/foreman/ForemanException.java  |   4 +-
 .../exec/work/foreman/QueryStateProcessor.java     |   9 +-
 .../drill/exec/coord/zk/TestEphemeralStore.java    |   5 +-
 .../drill/exec/record/vector/TestValueVector.java  |   7 +-
 .../java/org/apache/drill/test/BaseTestQuery.java  |  19 ++--
 .../java/org/apache/drill/test/ConfigBuilder.java  |  20 ++--
 .../org/apache/drill/test/QueryRowSetIterator.java |   5 +-
 .../java-exec/src/test/resources/drill-module.conf | 108 ++++++++++-----------
 .../apache/drill/exec/memory/BoundsChecking.java   |  29 ++++--
 .../main/codegen/templates/FixedValueVectors.java  |  11 +--
 .../org/apache/drill/exec/vector/BitVector.java    |  63 ++++++------
 .../org/apache/drill/exec/vector/ValueVector.java  |  10 +-
 .../apache/drill/exec/vector/VectorTrimmer.java    |   6 --
 .../exec/vector/complex/RepeatedValueVector.java   |  29 +++---
 18 files changed, 177 insertions(+), 170 deletions(-)

commit 698ec5844d1769fa9d4a7c24380bfb7591c68805
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sun Oct 13 14:43:27 2019 -0700

    DRILL-7402: Suppress batch dumps for expected failures in tests
    
    Drill provides a way to dump the last few batches when an error
    occurs. However, in tests, we often deliberately cause something
    to fail. In this case, the batch dump is unnecessary.
    
    This enhancement adds a config property, disabled in tests, that
    controls the dump activity. The option is enabled in the one test
    that needs it enabled.
    
    closes #1872

 .../drill/exec/physical/impl/BaseRootExec.java     | 11 ++++++---
 .../java-exec/src/main/resources/drill-module.conf |  4 ++++
 .../java/org/apache/drill/TestOperatorDump.java    |  2 ++
 .../apache/drill/test/ClusterFixtureBuilder.java   |  2 +-
 .../java/org/apache/drill/test/ConfigBuilder.java  | 27 +++++++---------------
 5 files changed, 23 insertions(+), 23 deletions(-)

commit 43d1ad31ad72ef9f307f7ef1e9c26be0a0b30f50
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Oct 16 18:10:20 2019 +0300

    DRILL-7401: Upgrade to SqlLine 1.9.0
    
    closes #1875

 distribution/src/resources/sqlline                   |  7 +------
 distribution/src/resources/sqlline.bat               | 13 ++++++-------
 exec/java-exec/src/main/resources/drill-sqlline.conf |  5 ++++-
 pom.xml                                              |  2 +-
 4 files changed, 12 insertions(+), 15 deletions(-)

commit 28407022e30b38a76791274b03a664d8200e5d61
Author: Charles Givre <cgivre@apache.org>
Date:   Sat Oct 12 19:46:13 2019 -0400

    DRILL-7385: Convert PCAP Format Plugin to EVF

 .../drill/exec/store/pcap/PcapBatchReader.java     | 330 +++++++++++++++++++++
 .../drill/exec/store/pcap/PcapDrillTable.java      |  76 -----
 .../drill/exec/store/pcap/PcapFormatConfig.java    |  28 +-
 .../drill/exec/store/pcap/PcapFormatPlugin.java    | 132 +++------
 .../drill/exec/store/pcap/PcapFormatUtils.java     |   5 +
 .../drill/exec/store/pcap/decoder/Packet.java      |   4 +
 .../drill/exec/store/pcap/schema/Schema.java       |  23 +-
 .../drill/exec/store/pcap/TestPcapEVFReader.java   | 103 +++++++
 .../exec/store/pcap/TestPcapRecordReader.java      |  13 +-
 9 files changed, 543 insertions(+), 171 deletions(-)

commit 8087223667c01f141f72e0383a0c4f42af99f5ac
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sun Oct 6 22:09:44 2019 -0700

    DRILL-7377: Nested schemas for dynamic EVF columns
    
    The Result Set Loader (part of EVF) allows adding columns up-front
    before reading rows (so-called "early schema.") Such schemas allow
    nested columns (maps with members, repeated lists with a type, etc.)
    
    The Result Set Loader also allows adding columns dynamically
    while loading data (so-called "late schema".) Previously, the code
    assumed that columns would be added top-down: first the map, then
    the map's contents, etc.
    
    Charles found a need to allow adding a nested column (a repeated
    list with a declared list type.)
    
    This patch revises the code to use the same mechanism in both the
    early- and late-schema cases, allowing adding nested columns at
    any time.
    
    Testing: Added a new unit test case for the repeated list late
    schema with content case.

 .../physical/resultSet/impl/BuildFromSchema.java   | 94 +++++++++++++++++++---
 .../physical/resultSet/impl/ColumnBuilder.java     |  6 ++
 .../resultSet/impl/ResultSetLoaderImpl.java        |  2 +-
 .../exec/physical/resultSet/impl/TupleState.java   | 15 +---
 .../impl/TestResultSetLoaderRepeatedList.java      | 73 ++++++++++++-----
 .../accessor/writer/AbstractTupleWriter.java       | 26 ++++--
 6 files changed, 162 insertions(+), 54 deletions(-)

commit 517e9b866fa4688be49afd54af1666398fa78c67
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Wed Sep 25 18:58:39 2019 +0300

    DRILL-7254: Read Hive union w/o nulls

 .../drill/exec/store/hive/HiveUtilities.java       |  10 +-
 .../store/hive/writers/HiveValueWriterFactory.java |  78 ++++--
 .../hive/writers/complex/HiveUnionWriter.java      |  44 ++++
 .../exec/hive/complex_types/TestHiveArrays.java    |  25 +-
 .../exec/hive/complex_types/TestHiveMaps.java      |  26 ++
 .../exec/hive/complex_types/TestHiveStructs.java   |  22 ++
 .../exec/hive/complex_types/TestHiveUnions.java    | 117 +++++++++
 .../resources/complex_types/array/union_array.txt  |   3 +
 .../resources/complex_types/map/map_union_tbl.avro | Bin 0 -> 344 bytes
 .../complex_types/struct/struct_union_tbl.txt      |   2 +
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |   6 +-
 .../drill/exec/vector/complex/MapUtility.java      |  84 ++++---
 .../codegen/templates/AbstractFieldWriter.java     |  12 +
 .../src/main/codegen/templates/BaseWriter.java     |   2 +
 .../src/main/codegen/templates/ListWriters.java    |  38 ++-
 .../src/main/codegen/templates/MapWriters.java     |  16 ++
 .../main/codegen/templates/UnionListWriter.java    |   2 +-
 .../src/main/codegen/templates/UnionVector.java    |   5 +
 .../codegen/templates/UnionVectorListWriter.java   | 212 ++++++++++++++++
 .../main/codegen/templates/UnionVectorWriter.java  | 268 +++++++++++++++++++++
 .../exec/vector/complex/impl/PromotableWriter.java |   6 +-
 21 files changed, 916 insertions(+), 62 deletions(-)

commit 9993fa3547b029db5fe33a2210fa6f07e8ac1990
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sat Oct 5 18:57:14 2019 -0700

    DRILL-7358: Fix COUNT(*) for empty text files
    
    Fixes a subtle error when a text file has a header (and so has a
    schema), but is in a COUNT(*) query, so that no columns are
    projected. Ensures that, in this case, an empty schema is
    treated as a valid result set.
    
    Tests: updated CSV tests to include this case.
    
    closes #1867

 .../exec/physical/impl/protocol/SchemaTracker.java |  2 +-
 .../impl/scan/framework/SchemaNegotiatorImpl.java  |  2 +-
 .../scan/project/projSet/EmptyProjectionSet.java   |  3 +
 .../project/projSet/ExplicitProjectionSet.java     |  7 +-
 .../project/projSet/WildcardProjectionSet.java     |  7 ++
 .../exec/physical/resultSet/ProjectionSet.java     |  1 +
 .../exec/physical/resultSet/impl/ColumnState.java  |  3 +-
 .../resultSet/impl/ResultSetLoaderImpl.java        | 11 +++
 .../store/easy/text/reader/BaseFieldOutput.java    |  2 +-
 .../easy/text/compliant/TestCsvWithHeaders.java    | 90 ++++++++++++++++++++--
 .../java/org/apache/drill/test/QueryBuilder.java   | 10 ++-
 11 files changed, 120 insertions(+), 18 deletions(-)

commit 09d15f39e2cda10049affca472689a4e2cbca45d
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Oct 4 14:36:01 2019 +0300

    DRILL-5983: Add missing nullable Parquet readers for INT and UINT logical types
    
    closes #1866

 .../parquet/columnreaders/ColumnReaderFactory.java | 36 ++++++++---
 .../NullableFixedByteAlignedReaders.java           | 63 +++++++++++++++++--
 .../ParquetFixedWidthDictionaryReaders.java        | 72 +++++++++++-----------
 3 files changed, 120 insertions(+), 51 deletions(-)

commit 23db12cdd57dd784b7e18b7600ef408698e3d3b1
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Wed Sep 25 13:49:51 2019 +0300

    DRILL-7387: Failed to get value by int key from map nested into struct

 .../apache/drill/exec/hive/complex_types/TestHiveMaps.java   | 12 ++++++++++++
 .../drill/exec/hive/complex_types/TestHiveStructs.java       | 12 ++++++++++++
 .../java/org/apache/drill/exec/expr/EvaluationVisitor.java   |  3 +++
 3 files changed, 27 insertions(+)

commit 7535ed9b90165a4745fce066fb8bff4018a32461
Author: Arjun Gupta <arjuntheprogrammer@gmail.com>
Date:   Wed Sep 18 11:13:44 2019 +0530

    DRILL-7374: Support for IPV6 address
    
    closes #1857

 contrib/native/client/src/clientlib/channel.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eac7ccc26b1090494bd9520ab3171eec984496cf
Author: Arjun Gupta <saimzn4241@gmail.com>
Date:   Tue Jun 25 15:21:19 2019 +0530

    DRILL-7174: Expose complex to Json control in the Drill C++ Client
    
    closes #1814

 contrib/native/client/example/querySubmitter.cpp   | 14 ++++--
 .../client/src/clientlib/drillClientImpl.cpp       | 18 +++++++
 .../client/src/clientlib/drillClientImpl.hpp       |  1 +
 contrib/native/client/src/include/drill/common.hpp |  1 +
 contrib/native/client/src/test/CMakeLists.txt      |  2 +
 contrib/native/client/src/test/DrillClientTest.cpp | 55 ++++++++++++++++++++++
 6 files changed, 86 insertions(+), 5 deletions(-)

commit 636047d3e8de6d8f77801b6748e20d5ad642c9b9
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Sep 20 19:11:31 2019 +0300

    DRILL-7357: Expose Drill Metastore data through information_schema
    
    1. Add additional columns to TABLES and COLUMNS tables.
    2. Add PARTITIONS table.
    3. General refactoring to adjust information_schema data retrieval from multiple sources.
    
    closes #1860

 .../java/org/apache/drill/common/types/Types.java  |  38 ++
 .../test/java/org/apache/drill/test/DrillTest.java |   7 +-
 contrib/format-maprdb/pom.xml                      |  78 ++--
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |   2 +-
 .../drill/exec/store/ischema/FilterEvaluator.java  | 216 +++++++++++
 .../exec/store/ischema/InfoSchemaBatchCreator.java |  10 +-
 .../drill/exec/store/ischema/InfoSchemaConfig.java |   1 -
 .../exec/store/ischema/InfoSchemaConstants.java    | 138 +++----
 .../exec/store/ischema/InfoSchemaDrillTable.java   |   2 -
 .../drill/exec/store/ischema/InfoSchemaFilter.java |  30 +-
 .../store/ischema/InfoSchemaFilterBuilder.java     |  28 +-
 .../exec/store/ischema/InfoSchemaGroupScan.java    |  29 +-
 .../InfoSchemaPushFilterIntoRecordGenerator.java   |  25 +-
 .../store/ischema/InfoSchemaRecordGenerator.java   | 386 ++++---------------
 .../store/ischema/InfoSchemaStoragePlugin.java     |  23 +-
 .../exec/store/ischema/InfoSchemaSubScan.java      |   9 +-
 .../drill/exec/store/ischema/InfoSchemaTable.java  | 322 +++++++++-------
 .../exec/store/ischema/InfoSchemaTableType.java    |  41 +-
 .../drill/exec/store/ischema/RecordCollector.java  | 413 +++++++++++++++++++++
 .../apache/drill/exec/store/ischema/Records.java   | 285 ++++++++++++--
 .../drill/exec/store/ischema/package-info.java     |  21 --
 .../drill/exec/work/metadata/MetadataProvider.java |  17 +-
 .../test/java/org/apache/drill/exec/ExecTest.java  |   4 -
 .../org/apache/drill/exec/sql/TestInfoSchema.java  |  24 +-
 .../exec/sql/TestInfoSchemaWithMetastore.java      | 401 ++++++++++++++++++++
 .../exec/sql/TestSchemaCaseInsensitivity.java      |   5 +-
 .../org/apache/drill/exec/sql/TestViewSupport.java |   3 +-
 .../exec/work/metadata/TestMetadataProvider.java   |   8 +-
 .../jdbc/test/TestInformationSchemaColumns.java    |   2 +-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |   2 +
 .../components/tables/BasicTablesRequests.java     |  12 +-
 .../drill/metastore/metadata/MetadataInfo.java     |   2 +
 .../components/tables/TestBasicTablesRequests.java |   5 +-
 pom.xml                                            |  23 +-
 34 files changed, 1883 insertions(+), 729 deletions(-)

commit d2645c7638a88a4afd162bc3f1e2d65353ca3a67
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Wed Sep 25 17:27:13 2019 -0700

    DRILL-7170: Ignore uninitialized vector containers for OOM error messages

 .../apache/drill/exec/physical/impl/common/HashTableTemplate.java  | 6 +++++-
 .../java/org/apache/drill/exec/physical/impl/spill/SpillSet.java   | 7 +++++--
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 9c0ad9c700b43b2626b1cd3d758e18c5cce11823
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Fri Sep 20 19:41:23 2019 +0300

    DRILL-7380: Query of a field inside of an array of structs returns null
    
    1. Fixed parquet reader projection for Logical lists (DrillParquetReader.java)
    2. Fixed projection pushdown for RexFieldAccess (ProjectFieldsVisitor.java)
    3. DrillParquetReader.getProjection(...) splitted into few methods
    4. Added javadocs for PathSegment and SchemaPath

 .../exec/hive/complex_types/TestHiveArrays.java    |  42 +++++-
 .../exec/hive/complex_types/TestHiveStructs.java   | 105 ++++++++++++-
 .../resources/complex_types/struct/struct_tbl.json |   6 +-
 .../drill/exec/planner/common/DrillRelOptUtil.java |   8 +
 .../exec/store/parquet2/DrillParquetReader.java    | 162 +++++++++++++--------
 .../drill/common/expression/PathSegment.java       |  16 +-
 .../apache/drill/common/expression/SchemaPath.java |  21 +--
 7 files changed, 277 insertions(+), 83 deletions(-)

commit 8a1fd5b27edf7e78a79d8f93ffe594343c22415a
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Thu Sep 5 18:05:53 2019 +0300

    DRILL-7252: Read Hive map using Dict<K,V> vector

 .../drill/exec/store/hive/HiveUtilities.java       |   4 +-
 .../store/hive/writers/HiveValueWriterFactory.java |  45 +-
 .../store/hive/writers/complex/HiveListWriter.java |   8 +-
 .../store/hive/writers/complex/HiveMapWriter.java  |  61 ++
 .../apache/drill/exec/hive/HiveTestUtilities.java  |  17 +
 .../exec/hive/complex_types/TestHiveArrays.java    | 133 +++-
 .../exec/hive/complex_types/TestHiveMaps.java      | 792 +++++++++++++++++++++
 .../exec/hive/complex_types/TestHiveStructs.java   |  80 +--
 .../resources/complex_types/array/map_array.json   |   3 +
 .../complex_types/map/map_complex_tbl.json         |   3 +
 .../test/resources/complex_types/map/map_tbl.txt   |   3 +
 .../resources/complex_types/struct/struct_tbl.json |   6 +-
 .../src/main/codegen/data/CountAggrTypes.tdd       |   4 +-
 .../apache/drill/exec/resolver/TypeCastRules.java  |   1 +
 .../drill/exec/vector/complex/MapUtility.java      | 406 ++---------
 .../src/main/codegen/templates/ListWriters.java    |   3 +
 .../drill/exec/vector/complex/DictVector.java      |   2 +-
 17 files changed, 1144 insertions(+), 427 deletions(-)

commit e32488c7d5992b1d111e8d6e4bbaf6369e8dd433
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Thu Sep 12 20:10:25 2019 +0300

    DRILL-7373: Fix problems involving reading from DICT type
    
    - Fixed FieldIdUtil to resolve reading from DICT for some complex cases;
    - optimized reading from DICT given a key by passing an appropriate Object type to DictReader#find(...) and DictReader#read(...) methods when schema is known (e.g. when reading from Hive tables) instead of generating it on fly based on int or String path and key type;
    - fixed error when accessing value by not existing key value in Avro table.

 .../apache/drill/exec/expr/EvaluationVisitor.java  | 141 ++++++++++--
 .../drill/exec/planner/logical/DrillOptiq.java     | 253 +++++++++++++++------
 .../drill/exec/store/avro/AvroRecordReader.java    |   2 +-
 .../drill/exec/vector/complex/FieldIdUtil.java     |  16 +-
 .../drill/exec/store/avro/AvroFormatTest.java      |  16 ++
 .../codegen/templates/AbstractFieldReader.java     |   9 +
 .../src/main/codegen/templates/BaseReader.java     |  30 +++
 .../src/main/codegen/templates/NullReader.java     |   9 +
 .../vector/complex/impl/SingleDictReaderImpl.java  |  25 +-
 .../drill/common/expression/PathSegment.java       |  64 ++++--
 .../apache/drill/common/expression/SchemaPath.java |  11 +
 11 files changed, 459 insertions(+), 117 deletions(-)

commit b1d8cba2c33f2c66fad20c309a3e86c644b6bb1b
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Sep 11 20:51:07 2019 +0300

    DRILL-7376: Drill ignores Hive schema for MaprDB tables when group scan has star column

 .../store/mapr/db/json/MaprDBJsonRecordReader.java |   6 +-
 ...ertHiveMapRDBJsonScanToDrillMapRDBJsonScan.java |   5 +-
 .../exec/vector/complex/fn/JsonReaderUtils.java    | 187 ++++++++++++++++-----
 .../src/main/codegen/templates/ComplexCopier.java  |  14 +-
 4 files changed, 167 insertions(+), 45 deletions(-)

commit b827d7f29590dd120fda1a6b653fa34c5701f664
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Sep 10 15:30:10 2019 +0300

    DRILL-7368: Fix Iceberg Metastore failure when filter column contains nulls

 exec/java-exec/pom.xml                             |   6 ++
 .../drill/exec/ops/ExecutorFragmentContext.java    |   4 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  37 +++++---
 .../apache/drill/exec/ops/FragmentContextImpl.java |  43 +++++----
 .../org/apache/drill/exec/ops/QueryContext.java    |   5 -
 .../apache/drill/exec/server/DrillbitContext.java  |   7 +-
 .../org/apache/drill/test/OperatorFixture.java     |   6 ++
 .../apache/drill/test/PhysicalOpUnitTestBase.java  |   2 +-
 metastore/iceberg-metastore/pom.xml                |   2 +-
 .../drill/metastore/iceberg/operate/Overwrite.java |   2 +-
 .../components/tables/TestBasicRequests.java       | 105 +++++++++++++--------
 11 files changed, 136 insertions(+), 83 deletions(-)

commit d4a2aefd530dae6bdb0a3f115bd8ef8643dbc364
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Aug 29 16:15:43 2019 +0300

    DRILL-7168: Implement ALTER SCHEMA ADD / REMOVE commands

 exec/java-exec/src/main/codegen/data/Parser.tdd    |   9 +-
 .../src/main/codegen/includes/parserImpls.ftl      | 121 +++++-
 .../exec/planner/sql/handlers/SchemaHandler.java   | 182 ++++++++-
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  |  22 ++
 .../sql/parser/CompoundIdentifierConverter.java    |   2 +
 .../drill/exec/planner/sql/parser/SqlSchema.java   | 228 +++++++++--
 .../metadata/schema/InlineSchemaProvider.java      |   4 +-
 .../record/metadata/schema/PathSchemaProvider.java |   7 +-
 .../record/metadata/schema/SchemaProvider.java     |   8 +-
 .../record/metadata/schema/StorageProperties.java  |  71 ++++
 .../java/org/apache/drill/TestSchemaCommands.java  | 415 ++++++++++++++++++++-
 .../exec/record/metadata/TestTupleSchema.java      |  64 ++++
 .../record/metadata/schema/TestSchemaProvider.java |  23 +-
 .../record/metadata/AbstractColumnMetadata.java    |   1 +
 .../exec/record/metadata/AbstractPropertied.java   |   5 +
 .../drill/exec/record/metadata/Propertied.java     |   8 +-
 .../drill/exec/record/metadata/TupleSchema.java    |   1 +
 17 files changed, 1098 insertions(+), 73 deletions(-)

commit 65df1fdeffbec41a8e538bdcbdf42356e5e94015
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Sep 6 14:57:41 2019 +0300

    DRILL-7369: Schema for MaprDB tables is not used for the case when several fields are queried
    
    closes #1852

 .../org/apache/drill/exec/vector/complex/fn/JsonReaderUtils.java    | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit f8bc0db29f08ec9f9ff082bec202a2ab2495bac1
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Sep 5 17:04:23 2019 +0300

    DRILL-7367: Remove Server details from response headers
    
    closes #1851

 .../drill/yarn/appMaster/http/WebServer.java       | 40 ++++++++--------------
 .../apache/drill/exec/server/rest/WebServer.java   | 31 ++++++++++-------
 2 files changed, 33 insertions(+), 38 deletions(-)

commit 797524dd2df4a18ef17752aff501a9e099f50a93
Author: ozinoviev <ozinoviev@solit-clouds.ru>
Date:   Thu Aug 29 15:14:17 2019 +0300

    DRILL-7362: COUNT(*) on JSON with outer list results in JsonParse error
    
    closes #1849

 .../store/easy/json/reader/BaseJsonReader.java     | 167 +++++++++++++++++++++
 .../store/easy/json/reader/CountingJsonReader.java |  47 ++----
 .../drill/exec/vector/complex/fn/JsonReader.java   | 126 ++--------------
 .../exec/store/json/TestJsonRecordReader.java      |  13 ++
 4 files changed, 203 insertions(+), 150 deletions(-)

commit bd6d7b11ff3f687f7257b86b17b8fe9e2e134b43
Author: Charles Givre <cgivre@apache.org>
Date:   Thu Sep 5 10:29:01 2019 -0400

    DRILL-7343: Add User-Agent UDFs to Drill
    
    closes #1840

 contrib/udfs/README.md                             |  56 +++++++
 contrib/udfs/pom.xml                               |   5 +
 .../apache/drill/exec/udfs/UserAgentFunctions.java | 172 +++++++++++++++++++++
 .../drill/exec/udfs/TestUserAgentFunctions.java    | 171 ++++++++++++++++++++
 4 files changed, 404 insertions(+)

commit b30830ab165d378ff55a9a215f98183d35b17ccd
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Mon Mar 25 16:40:32 2019 +0200

    DRILL-7096: Develop vector for canonical Map<K,V>
    
    - Added new type DICT;
    - Created value vectors for the type for single and repeated modes;
    - Implemented corresponding FieldReaders and FieldWriters;
    - Made changes in EvaluationVisitor to be able to read values from the map by key;
    - Made changes to DrillParquetGroupConverter to be able to read Parquet's MAP type;
    - Added an option `store.parquet.reader.enable_map_support` to disable reading MAP type as DICT from Parquet files;
    - Updated AvroRecordReader to use new DICT type for Avro's MAP;
    - Added support of the new type to ParquetRecordWriter.

 .../java/org/apache/drill/common/types/Types.java  |  30 +-
 .../client/src/include/drill/protobuf/Types.pb.h   |   5 +-
 contrib/native/client/src/protobuf/Types.pb.cc     |  12 +-
 .../codegen/templates/AbstractRecordWriter.java    |  10 +
 .../codegen/templates/EventBasedRecordWriter.java  |   9 +
 .../templates/ParquetOutputRecordWriter.java       |   9 +
 .../src/main/codegen/templates/RecordWriter.java   |   2 +
 .../src/main/codegen/templates/TypeHelper.java     |   3 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   4 +
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 118 +++-
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |   4 +-
 .../drill/exec/expr/fn/impl/UnionFunctions.java    |   4 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |  15 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  24 +-
 .../physical/impl/join/NestedLoopJoinBatch.java    |  28 +-
 .../OrderedPartitionRecordBatch.java               |   5 +-
 .../impl/statistics/StatisticsAggBatch.java        |  29 +-
 .../drill/exec/planner/index/SimpleRexRemap.java   |  14 +-
 .../drill/exec/record/RecordBatchLoader.java       |   6 +-
 .../apache/drill/exec/record/RecordBatchSizer.java |  26 +-
 .../org/apache/drill/exec/record/TypedFieldId.java | 132 +++--
 .../apache/drill/exec/record/VectorContainer.java  |   4 +-
 .../drill/exec/record/VectorInitializer.java       |   6 +-
 .../exec/resolver/ResolverTypePrecedence.java      |   1 +
 .../exec/server/options/SystemOptionManager.java   |   3 +-
 .../drill/exec/store/avro/AvroRecordReader.java    |  27 +-
 .../store/parquet/BaseParquetMetadataProvider.java |   5 +-
 .../exec/store/parquet/ParquetReaderUtility.java   |  94 ++++
 .../exec/store/parquet/ParquetRecordWriter.java    | 117 +++-
 .../store/parquet/ParquetTableMetadataUtils.java   | 127 +++--
 .../drill/exec/store/parquet/ParquetWriter.java    |   2 +-
 .../parquet/metadata/FileMetadataCollector.java    |  38 +-
 .../store/parquet/metadata/MetadataVersion.java    |  17 +-
 .../exec/store/parquet/metadata/Metadata_V4.java   |  92 ++-
 .../store/parquet2/DrillParquetGroupConverter.java | 102 ++--
 .../parquet2/DrillParquetMapGroupConverter.java    | 118 ++++
 .../exec/store/parquet2/DrillParquetReader.java    |  45 +-
 .../org/apache/drill/exec/vector/CopyUtil.java     |  12 +-
 .../drill/exec/vector/complex/FieldIdUtil.java     | 110 +++-
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 .../drill/exec/compile/TestEvaluationVisitor.java  |   2 +-
 .../org/apache/drill/exec/expr/ExpressionTest.java |  16 +-
 .../physical/impl/writer/TestParquetWriter.java    |  78 +++
 .../record/ExpressionTreeMaterializerTest.java     |  20 +-
 .../drill/exec/record/vector/TestDictVector.java   | 459 +++++++++++++++
 .../apache/drill/exec/record/vector/TestLoad.java  |   2 +-
 .../drill/exec/store/avro/AvroFormatTest.java      | 206 ++++++-
 .../apache/drill/exec/store/avro/AvroTestUtil.java |  53 ++
 .../exec/store/parquet/TestParquetComplex.java     | 615 +++++++++++++++++++++
 .../store/parquet/TestParquetMetadataCache.java    |  30 +
 .../java/org/apache/drill/test/TestBuilder.java    |  35 ++
 .../drill/test/rowSet/test/TestFillEmpties.java    |   1 +
 .../parquet/complex/map/parquet/000000_0.parquet   | Bin 0 -> 3649 bytes
 .../store/parquet/complex/simple_map.parquet       | Bin 0 -> 437 bytes
 .../src/main/codegen/includes/vv_imports.ftl       |   1 +
 .../codegen/templates/AbstractFieldReader.java     |  31 +-
 .../codegen/templates/AbstractFieldWriter.java     |  34 ++
 .../templates/AbstractPromotableFieldWriter.java   |   5 +
 .../src/main/codegen/templates/BaseReader.java     |  71 ++-
 .../src/main/codegen/templates/BaseWriter.java     |  20 +
 .../main/codegen/templates/BasicTypeHelper.java    |  41 ++
 .../src/main/codegen/templates/ComplexCopier.java  |  17 +
 .../src/main/codegen/templates/ComplexReaders.java |  12 +
 .../src/main/codegen/templates/ListWriters.java    |  35 +-
 .../src/main/codegen/templates/MapWriters.java     |  81 ++-
 .../src/main/codegen/templates/NullReader.java     |  26 +-
 .../main/codegen/templates/RepeatedDictWriter.java | 151 +++++
 .../src/main/codegen/templates/UnionReader.java    |  17 +-
 .../src/main/codegen/templates/UnionVector.java    |   8 +
 .../src/main/codegen/templates/UnionWriter.java    |   7 +
 .../apache/drill/exec/expr/holders/DictHolder.java |  31 ++
 .../exec/expr/holders/RepeatedDictHolder.java      |  28 +
 .../exec/expr/holders/RepeatedListHolder.java      |  19 +-
 .../drill/exec/expr/holders/RepeatedMapHolder.java |  22 +-
 .../exec/expr/holders/RepeatedValueHolder.java     |  31 ++
 .../record/metadata/AbstractColumnMetadata.java    |   5 +
 .../record/metadata/AbstractMapColumnMetadata.java | 142 +++++
 .../drill/exec/record/metadata/ColumnMetadata.java |   1 +
 .../exec/record/metadata/DictColumnMetadata.java   |  72 +++
 .../exec/record/metadata/MapColumnMetadata.java    |  82 +--
 .../drill/exec/record/metadata/MetadataUtils.java  |  10 +
 .../drill/exec/record/metadata/TupleSchema.java    |   6 +-
 .../main/java/org/apache/drill/exec/util/Text.java |   2 +-
 .../accessor/reader/ColumnReaderFactory.java       |   1 +
 .../accessor/writer/ColumnWriterFactory.java       |   2 +
 .../exec/vector/complex/AbstractMapVector.java     |   2 +-
 .../vector/complex/AbstractRepeatedMapVector.java  | 513 +++++++++++++++++
 .../vector/complex/BaseRepeatedValueVector.java    |  51 +-
 .../drill/exec/vector/complex/DictVector.java      | 312 +++++++++++
 .../exec/vector/complex/RepeatedDictVector.java    | 165 ++++++
 .../exec/vector/complex/RepeatedListVector.java    |  42 +-
 .../exec/vector/complex/RepeatedMapVector.java     | 511 ++---------------
 .../vector/complex/impl/AbstractBaseReader.java    |   5 +
 .../impl/AbstractRepeatedMapReaderImpl.java        | 136 +++++
 .../vector/complex/impl/MapOrListWriterImpl.java   |  11 +
 .../complex/impl/RepeatedDictReaderImpl.java       | 143 +++++
 .../complex/impl/RepeatedListReaderImpl.java       |   4 +-
 .../vector/complex/impl/RepeatedMapReaderImpl.java | 116 +---
 .../vector/complex/impl/RepeatedMapWriter.java     |  58 ++
 .../vector/complex/impl/SingleDictReaderImpl.java  | 185 +++++++
 .../exec/vector/complex/impl/SingleDictWriter.java |  98 ++++
 .../impl/SingleLikeRepeatedMapReaderImpl.java      |   2 +-
 .../exec/vector/complex/reader/FieldReader.java    |  14 +-
 .../exec/vector/complex/writer/FieldWriter.java    |   3 +-
 .../apache/drill/common/expression/SchemaPath.java |  21 +-
 .../drill/common/expression/SchemaPathTest.java    |   5 +
 .../drill/metastore/util/SchemaPathUtils.java      |  28 +-
 .../org/apache/drill/common/types/TypeProtos.java  |  17 +-
 protocol/src/main/protobuf/Types.proto             |   1 +
 109 files changed, 5225 insertions(+), 1156 deletions(-)

commit 57f8a2acc219f2e2c3919454dbba6071838ffb10
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Wed Jun 19 12:39:11 2019 +0300

    DRILL-7253: Read Hive struct w/o nulls

 .../drill/exec/store/hive/HiveUtilities.java       |   4 +-
 .../store/hive/writers/HiveValueWriterFactory.java |  15 +
 .../hive/writers/complex/HiveStructWriter.java     |  56 ++++
 .../exec/hive/complex_types/TestHiveArrays.java    | 140 +++++++-
 .../exec/hive/complex_types/TestHiveStructs.java   | 354 +++++++++++++++++++++
 .../complex_types/array/struct_array.json          |   2 +
 .../resources/complex_types/struct/struct_tbl.json |   3 +
 .../java/org/apache/drill/exec/dotdrill/View.java  |   6 +-
 .../exec/expr/fn/impl/RowConstructorFunction.java  |  57 ++++
 .../drill/exec/planner/logical/DrillOptiq.java     |  14 +-
 .../visitor/RexVisitorComplexExprSplitter.java     |  42 ++-
 .../visitor/SplitUpComplexExpressions.java         | 129 ++++----
 .../sql/DrillCalciteSqlOperatorWrapper.java        |  13 +-
 .../exec/planner/sql/DrillConvertletTable.java     |   9 +
 .../planner/sql/handlers/DefaultSqlHandler.java    |   8 +-
 .../drill/exec/fn/impl/TestVarArgFunctions.java    |  12 +
 .../main/codegen/templates/HolderReaderImpl.java   |   8 +-
 pom.xml                                            |   2 +-
 18 files changed, 769 insertions(+), 105 deletions(-)

commit 236276c7a599638e2565df7b8117de5747c689ab
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Aug 23 16:30:30 2019 +0300

    DRILL-7360: Refactor WatchService in Drillbit class and fix concurrency issues

 .../org/apache/drill/exec/server/Drillbit.java     | 138 ++++++++++++++-------
 1 file changed, 93 insertions(+), 45 deletions(-)

commit 31a41995c3f708894cc77bad3b27ce72203c423c
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Mon Aug 19 20:33:14 2019 +0300

    DRILL-7353: Wrong driver class is written to the java.sql.Driver
    
    closes #1845

 exec/jdbc-all/pom.xml                              | 16 +++++++++++++
 .../org/apache/drill/jdbc/ITTestShadedJar.java     | 28 ++++++++++++++++++----
 2 files changed, 39 insertions(+), 5 deletions(-)

commit b9a61b04b622ff4be0fa87091d3c879148d9b1ed
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Thu Aug 22 10:00:58 2019 -0700

    DRILL-7222: Visualize estimated and actual row counts for a query
    
    With statistics in place, it is useful to have the estimated rowcount along side the actual rowcount query profile's operator overview. A toggle button allows this with the estimated rows hidden by default
    
    We can extract this from the Physical Plan section of the profile.
    Added a toggle-ready table-column header
    
    closes #1779

 .../java/org/apache/drill/exec/ExecConstants.java  |  2 +
 .../exec/server/rest/profile/HtmlAttribute.java    |  2 +
 .../exec/server/rest/profile/OperatorWrapper.java  |  8 ++-
 .../exec/server/rest/profile/ProfileWrapper.java   |  6 ++
 .../java-exec/src/main/resources/drill-module.conf |  1 +
 .../src/main/resources/rest/profile/profile.ftl    | 64 +++++++++++++++++++---
 6 files changed, 74 insertions(+), 9 deletions(-)

commit 305f040ae5c4a3851bf139e9ed4b4efb70b09dd8
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Aug 14 19:17:46 2019 +0300

    DRILL-7339: Iceberg commit upgrade and Metastore tests categorization
    
    1. Upgraded Iceberg commit to fix issue with deletes in transaction
    2. Categorize Metastore tests
    
    closes #1842

 .../org/apache/drill/categories/MetastoreTest.java | 24 ++++++++++++++++++++++
 metastore/iceberg-metastore/pom.xml                |  2 +-
 .../drill/metastore/iceberg/IcebergBaseTest.java   |  3 +++
 .../components/tables/TestBasicTablesRequests.java |  3 +++
 .../tables/TestBasicTablesTransformer.java         |  3 +++
 .../components/tables/TestMetastoreTableInfo.java  |  3 +++
 .../tables/TestTableMetadataUnitConversion.java    |  3 +++
 .../metastore/metadata/MetadataSerDeTest.java      |  3 +++
 8 files changed, 43 insertions(+), 1 deletion(-)

commit ffab527451e0a23eca96f38bce52c790553cc47e
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Mon Aug 19 20:02:51 2019 +0300

    DRILL-7326: Support repeated lists for CTAS parquet format
    
    closes #1844

 .../codegen/templates/EventBasedRecordWriter.java  |  13 ++
 .../templates/ParquetOutputRecordWriter.java       | 107 +++++++++++++++-
 .../exec/store/parquet/ParquetRecordWriter.java    | 136 ++++++++++++++++++++-
 .../physical/impl/writer/TestParquetWriter.java    | 108 ++++++++++++----
 .../resources/jsoninput/repeated_list_of_maps.json |   2 +
 5 files changed, 333 insertions(+), 33 deletions(-)

commit b44b7127306f68c250beafb5a4e7980303fd5cf1
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Aug 22 19:01:15 2019 +0300

    DRILL-7356: Introduce session options for the Drill Metastore
    
    closes #1846

 .../java/org/apache/drill/exec/ExecConstants.java  | 63 ++++++++++++++++++++++
 .../exec/server/options/SystemOptionManager.java   |  9 +++-
 .../java-exec/src/main/resources/drill-module.conf | 10 +++-
 3 files changed, 80 insertions(+), 2 deletions(-)

commit ef93515f88caf232f00fd6a4b37a6751592bea8a
Author: Oleg Zinoviev <ozinoviev@solit-clouds.ru>
Date:   Sun Jun 16 21:21:46 2019 +0300

    DRILL-7156: Support empty Parquet files creation
    
    closes #1836

 .../exec/store/parquet/ParquetRecordWriter.java    |  95 +++++++++-------
 .../impl/writer/TestParquetWriterEmptyFiles.java   | 123 +++++++++++++++++----
 2 files changed, 159 insertions(+), 59 deletions(-)

commit 9c62bf1a91f611bdefa6f3a99e9dfbdf9b622413
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Aug 15 15:25:10 2019 +0300

    DRILL-7350: Move RowSet related classes from test folder

 .../drill/exec/store/syslog/TestSyslogFormat.java  |   4 +-
 docs/dev/RowSetFramework.md                        |  33 ++--
 .../impl/scan/columns/ColumnsArrayManager.java     |   2 +-
 .../impl/scan/columns/ColumnsArrayParser.java      |   4 +-
 .../scan/columns/ResolvedColumnsArrayColumn.java   |   2 +-
 .../scan/columns/UnresolvedColumnsArrayColumn.java |   2 +-
 .../impl/scan/file/FileMetadataColumnsParser.java  |   2 +-
 .../impl/scan/file/FileMetadataManager.java        |   2 +-
 .../impl/scan/framework/SchemaNegotiator.java      |   4 +-
 .../impl/scan/framework/SchemaNegotiatorImpl.java  |   2 +-
 .../impl/scan/framework/ShimBatchReader.java       |   2 +-
 .../scan/project/AbstractUnresolvedColumn.java     |   2 +-
 .../impl/scan/project/ConstantColumnLoader.java    |   4 +-
 .../scan/project/ExplicitSchemaProjection.java     |   4 +-
 .../impl/scan/project/MetadataManager.java         |   2 +-
 .../impl/scan/project/NoOpMetadataManager.java     |   2 +-
 .../impl/scan/project/NullColumnBuilder.java       |   2 +-
 .../impl/scan/project/NullColumnLoader.java        |   4 +-
 .../scan/project/ReaderSchemaOrchestrator.java     |   6 +-
 .../physical/impl/scan/project/ResolvedTuple.java  |   2 +-
 .../impl/scan/project/ScanLevelProjection.java     |   8 +-
 .../impl/scan/project/ScanSchemaOrchestrator.java  |   2 +-
 .../impl/scan/project/StaticColumnLoader.java      |   8 +-
 .../project/projSet/AbstractProjectionSet.java     |   2 +-
 .../scan/project/projSet/AbstractReadColProj.java  |   6 +-
 .../scan/project/projSet/EmptyProjectionSet.java   |   2 +-
 .../project/projSet/ExplicitProjectionSet.java     |  10 +-
 .../scan/project/projSet/ProjectedMapColumn.java   |   4 +-
 .../scan/project/projSet/ProjectedReadColumn.java  |   6 +-
 .../scan/project/projSet/ProjectionSetBuilder.java |   8 +-
 .../scan/project/projSet/ProjectionSetFactory.java |   6 +-
 .../project/projSet/UnprojectedReadColumn.java     |   2 +-
 .../{rowSet => resultSet}/ProjectionSet.java       |   4 +-
 .../exec/physical/{rowSet => resultSet}/README.md  |   0
 .../{rowSet => resultSet}/ResultSetLoader.java     |   2 +-
 .../{rowSet => resultSet}/ResultVectorCache.java   |   2 +-
 .../{rowSet => resultSet}/RowSetLoader.java        |   2 +-
 .../impl/BuildFromSchema.java                      |   2 +-
 .../{rowSet => resultSet}/impl/ColumnBuilder.java  |  28 +--
 .../{rowSet => resultSet}/impl/ColumnState.java    |   2 +-
 .../{rowSet => resultSet}/impl/ContainerState.java |   6 +-
 .../{rowSet => resultSet}/impl/ListState.java      |  10 +-
 .../impl/LoaderInternals.java                      |   2 +-
 .../impl/NullResultVectorCacheImpl.java            |   4 +-
 .../impl/NullVectorState.java                      |   2 +-
 .../impl/NullableVectorState.java                  |   6 +-
 .../{rowSet => resultSet}/impl/OptionBuilder.java  |   8 +-
 .../impl/RepeatedListState.java                    |   8 +-
 .../impl/RepeatedVectorState.java                  |   6 +-
 .../impl/ResultSetLoaderImpl.java                  |  12 +-
 .../impl/ResultVectorCacheImpl.java                |   4 +-
 .../impl/RowSetLoaderImpl.java                     |   6 +-
 .../impl/SingleVectorState.java                    |   2 +-
 .../{rowSet => resultSet}/impl/TupleState.java     |   8 +-
 .../{rowSet => resultSet}/impl/UnionState.java     |  10 +-
 .../{rowSet => resultSet}/impl/VectorState.java    |   2 +-
 .../impl/WriterIndexImpl.java                      |   4 +-
 .../{rowSet => resultSet}/impl/package-info.java   |   2 +-
 .../model/AbstractReaderBuilder.java               |   2 +-
 .../model/BaseTupleModel.java                      |   2 +-
 .../model/ContainerVisitor.java                    |   2 +-
 .../model/MetadataProvider.java                    |   2 +-
 .../{rowSet => resultSet}/model/ReaderIndex.java   |   2 +-
 .../{rowSet => resultSet}/model/TupleModel.java    |   2 +-
 .../model/hyper/BaseReaderBuilder.java             |   6 +-
 .../model/hyper/HyperSchemaInference.java          |   2 +-
 .../model/hyper/package-info.java                  |   2 +-
 .../{rowSet => resultSet}/model/package-info.java  |   4 +-
 .../model/single/BaseReaderBuilder.java            |   8 +-
 .../model/single/BaseWriterBuilder.java            |   6 +-
 .../model/single/BuildVectorsFromMetadata.java     |   2 +-
 .../model/single/DirectRowIndex.java               |   4 +-
 .../model/single/SingleSchemaInference.java        |   2 +-
 .../model/single/VectorAllocator.java              |   8 +-
 .../model/single/package-info.java                 |   2 +-
 .../exec/physical/resultSet/package-info.java      | 198 +++++++++++++++++++
 .../project/ImpliedTupleRequest.java               |   2 +-
 .../project/ProjectionType.java                    |   2 +-
 .../project/RequestedColumnImpl.java               |   4 +-
 .../project/RequestedTuple.java                    |   2 +-
 .../project/RequestedTupleImpl.java                |   2 +-
 .../exec/physical}/rowSet/AbstractRowSet.java      |  13 +-
 .../physical}/rowSet/AbstractSingleRowSet.java     |  18 +-
 .../drill/exec/physical}/rowSet/DirectRowSet.java  |  34 ++--
 .../exec/physical}/rowSet/HyperRowSetImpl.java     |   8 +-
 .../exec/physical}/rowSet/IndirectRowSet.java      |  28 +--
 .../apache/drill/exec/physical}/rowSet/RowSet.java |  22 +--
 .../drill/exec/physical}/rowSet/RowSetBuilder.java |  42 ++--
 .../exec/physical/rowSet/RowSetFormatter.java      | 123 ++++++++++++
 .../drill/exec/physical}/rowSet/RowSetReader.java  |   9 +-
 .../exec/physical}/rowSet/RowSetReaderImpl.java    |  10 +-
 .../drill/exec/physical}/rowSet/RowSetWriter.java  |   4 +-
 .../exec/physical}/rowSet/RowSetWriterImpl.java    |   8 +-
 .../drill/exec/physical/rowSet/package-info.java   | 211 ++++-----------------
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   2 +-
 .../store/easy/text/reader/BaseFieldOutput.java    |   2 +-
 .../easy/text/reader/CompliantTextBatchReader.java |   2 +-
 .../store/easy/text/reader/FieldVarCharOutput.java |   2 +-
 .../easy/text/reader/RepeatedVarCharOutput.java    |   2 +-
 .../drill/exec/store/log/LogBatchReader.java       |   4 +-
 .../exec/store/mock/ExtendedMockBatchReader.java   |   4 +-
 .../drill/exec/DrillSeparatePlanningTest.java      |   4 +-
 .../drill/exec/cache/TestBatchSerialization.java   |   8 +-
 .../physical/impl/BaseTestOpBatchEmitOutcome.java  |   2 +-
 .../drill/exec/physical/impl/MockRecordBatch.java  |   6 +-
 .../PartitionLimit/TestPartitionLimitBatch.java    |   4 +-
 .../physical/impl/TopN/TestTopNEmitOutcome.java    |   4 +-
 .../exec/physical/impl/TopN/TopNBatchTest.java     |   6 +-
 .../exec/physical/impl/agg/TestHashAggBatch.java   |   4 +-
 .../physical/impl/agg/TestHashAggEmitOutcome.java  |   6 +-
 .../impl/agg/TestStreamingAggEmitOutcome.java      |   4 +-
 .../physical/impl/common/HashPartitionTest.java    |   6 +-
 .../impl/filter/TestFilterBatchEmitOutcome.java    |   2 +-
 .../physical/impl/join/TestHashJoinOutcome.java    |   2 +-
 .../impl/join/TestLateralJoinCorrectness.java      |   4 +-
 .../TestLateralJoinCorrectnessBatchProcessing.java |   4 +-
 .../impl/limit/TestLimitBatchEmitOutcome.java      |   2 +-
 .../impl/project/TestProjectEmitOutcome.java       |   2 +-
 .../impl/protocol/TestOperatorRecordBatch.java     |   2 +-
 .../impl/scan/BaseScanOperatorExecTest.java        |   6 +-
 .../exec/physical/impl/scan/ScanTestUtils.java     |   2 +-
 .../exec/physical/impl/scan/TestColumnsArray.java  |   6 +-
 .../impl/scan/TestColumnsArrayFramework.java       |   2 +-
 .../physical/impl/scan/TestColumnsArrayParser.java |   2 +-
 .../impl/scan/TestFileMetadataColumnParser.java    |   2 +-
 .../impl/scan/TestFileMetadataProjection.java      |   2 +-
 .../physical/impl/scan/TestFileScanFramework.java  |   6 +-
 .../physical/impl/scan/TestScanBatchWriters.java   |   2 +-
 .../impl/scan/TestScanOperExecEarlySchema.java     |   4 +-
 .../impl/scan/TestScanOperExecLateSchema.java      |   5 +-
 .../impl/scan/TestScanOperExecOuputSchema.java     |   8 +-
 .../impl/scan/TestScanOperExecOverflow.java        |   2 +-
 .../impl/scan/TestScanOperExecSmoothing.java       |   5 +-
 .../impl/scan/TestScanOrchestratorEarlySchema.java |   6 +-
 .../impl/scan/TestScanOrchestratorLateSchema.java  |   8 +-
 .../impl/scan/TestScanOrchestratorMetadata.java    |   6 +-
 .../scan/project/TestConstantColumnLoader.java     |   4 +-
 .../impl/scan/project/TestNullColumnLoader.java    |   8 +-
 .../scan/project/TestReaderLevelProjection.java    |   2 +-
 .../impl/scan/project/TestRowBatchMerger.java      |   8 +-
 .../impl/scan/project/TestScanLevelProjection.java |  12 +-
 .../impl/scan/project/TestSchemaSmoothing.java     |   6 +-
 .../scan/project/projSet/TestProjectionSet.java    |   8 +-
 .../impl/svremover/AbstractGenericCopierTest.java  |   6 +-
 .../physical/impl/svremover/GenericCopierTest.java |   4 +-
 .../impl/svremover/GenericSV2BatchCopierTest.java  |   4 +-
 .../impl/svremover/GenericSV2CopierTest.java       |   4 +-
 .../impl/svremover/GenericSV4CopierTest.java       |   6 +-
 .../impl/svremover/TestSVRemoverIterOutcome.java   |   4 +-
 .../impl/unnest/TestUnnestCorrectness.java         |   6 +-
 .../unnest/TestUnnestWithLateralCorrectness.java   |   6 +-
 .../physical/impl/validate/TestBatchValidator.java |   2 +-
 .../exec/physical/impl/xsort/TestExternalSort.java |   4 +-
 .../impl/xsort/managed/SortTestUtilities.java      |   6 +-
 .../physical/impl/xsort/managed/TestCopier.java    |   6 +-
 .../impl/xsort/managed/TestShortArrays.java        |   6 +-
 .../impl/xsort/managed/TestSortEmitOutcome.java    |   4 +-
 .../physical/impl/xsort/managed/TestSortImpl.java  |  16 +-
 .../physical/impl/xsort/managed/TestSorter.java    |  12 +-
 .../impl/RowSetTestUtils.java                      |   2 +-
 .../impl/TestResultSetLoaderEmptyProject.java      |   8 +-
 .../impl/TestResultSetLoaderLimits.java            |   8 +-
 .../impl/TestResultSetLoaderMapArray.java          |  12 +-
 .../impl/TestResultSetLoaderMaps.java              |  12 +-
 .../impl/TestResultSetLoaderOmittedValues.java     |  12 +-
 .../impl/TestResultSetLoaderOverflow.java          |  44 ++---
 .../impl/TestResultSetLoaderProjection.java        |  12 +-
 .../impl/TestResultSetLoaderProtocol.java          |  12 +-
 .../impl/TestResultSetLoaderRepeatedList.java      |  12 +-
 .../impl/TestResultSetLoaderTorture.java           |  10 +-
 .../impl/TestResultSetLoaderTypeConversion.java    |  12 +-
 .../impl/TestResultSetLoaderUnions.java            |  14 +-
 .../impl/TestResultSetSchemaChange.java            |  14 +-
 .../impl/TestResultVectorCache.java                |   4 +-
 .../project/TestProjectedTuple.java                |   8 +-
 .../project/TestProjectionType.java                |   2 +-
 .../drill/exec/record/TestRecordBatchSizer.java    |   6 +-
 .../drill/exec/record/TestVectorContainer.java     |   8 +-
 .../easy/text/compliant/TestCsvIgnoreHeaders.java  |   4 +-
 .../text/compliant/TestCsvTableProperties.java     |   4 +-
 .../easy/text/compliant/TestCsvWithHeaders.java    |   8 +-
 .../easy/text/compliant/TestCsvWithSchema.java     |   6 +-
 .../easy/text/compliant/TestCsvWithoutHeaders.java |   8 +-
 .../easy/text/compliant/TestPartitionRace.java     |   8 +-
 .../drill/exec/store/httpd/TestHTTPDLogReader.java |   2 +-
 .../apache/drill/exec/store/log/TestLogReader.java |  17 +-
 .../drill/exec/store/mock/TestMockPlugin.java      |   4 +-
 .../drill/exec/store/parquet/TestEmptyParquet.java |   2 +-
 .../columnreaders/TestBatchSizingMemoryUtil.java   |   6 +-
 .../drill/exec/store/pcapng/TestPcapngHeaders.java |   4 +-
 .../java/org/apache/drill/test/ClientFixture.java  |   2 +-
 .../java/org/apache/drill/test/ExampleTest.java    |   4 +-
 .../org/apache/drill/test/OperatorFixture.java     |  12 +-
 .../org/apache/drill/test/OperatorTestBuilder.java |   4 +-
 .../apache/drill/test/OperatorTestBuilderTest.java |   4 +-
 .../java/org/apache/drill/test/QueryBuilder.java   |   6 +-
 .../java/org/apache/drill/test/QueryResultSet.java |   4 +-
 .../org/apache/drill/test/QueryRowSetIterator.java |  13 +-
 .../apache/drill/test/rowSet/RowSetComparison.java |  21 +-
 .../apache/drill/test/rowSet/RowSetPrinter.java    | 111 -----------
 .../apache/drill/test/rowSet/RowSetUtilities.java  |  23 +--
 .../drill/test/rowSet/file/JsonFileBuilder.java    |   4 +-
 .../org/apache/drill/test/rowSet/package-info.java |  42 +---
 .../test/rowSet/test/TestColumnConverter.java      |   6 +-
 .../drill/test/rowSet/test/TestFillEmpties.java    |   8 +-
 .../test/rowSet/test/TestHyperVectorReaders.java   |  14 +-
 .../test/rowSet/test/TestIndirectReaders.java      |   8 +-
 .../drill/test/rowSet/test/TestMapAccessors.java   |  10 +-
 .../rowSet/test/TestRepeatedListAccessors.java     |  10 +-
 .../apache/drill/test/rowSet/test/TestRowSet.java  |  10 +-
 .../test/rowSet/test/TestRowSetComparison.java     |   4 +-
 .../test/rowSet/test/TestScalarAccessors.java      |  12 +-
 .../test/rowSet/test/TestVariantAccessors.java     |   8 +-
 .../drill/exec/record/metadata/package-info.java   |   9 +-
 .../exec/vector/accessor/ColumnReaderIndex.java    |   4 +-
 .../accessor/writer/AbstractTupleWriter.java       |   2 +-
 .../exec/vector/accessor/writer/WriterEvents.java  |   2 +-
 217 files changed, 1045 insertions(+), 998 deletions(-)

commit 4f4e1af53c9abccd1996f3b6841731e68768b48e
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Aug 6 23:16:36 2019 +0300

    DRILL-4517: Support reading empty Parquet files
    
    1. Modified flat and complex parquet readers to output schema only when requested number of records to read is 0. In this case readers are not initialized to improve performance.
    2. Allowed reading requested number of rows instead of all rows in the row group (DRILL-6528).
    3. Fixed issue with nulls number determination in the row group (fixed IsPredicate#isAllNulls method).
    4. Allowed reading empty parquet files via adding empty / fake row group.
    5. General refactoring and unit tests.
    6. Parquet tests categorization.
    
    closes #1839

 .../exec/TestHiveDrillNativeParquetReader.java     |  16 +-
 .../apache/drill/exec/hive/TestHiveStorage.java    |  20 +
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |   2 +
 .../exec/store/hive/HiveTestDataGenerator.java     |  16 +-
 .../core/src/test/resources/empty.parquet          | Bin 0 -> 167 bytes
 .../org/apache/drill/exec/expr/IsPredicate.java    |  31 +-
 .../exec/store/CommonParquetRecordReader.java      |  33 +-
 .../parquet/AbstractParquetScanBatchCreator.java   | 145 +++----
 .../store/parquet/BaseParquetMetadataProvider.java |  28 +-
 .../exec/store/parquet/FilterEvaluatorUtils.java   |  27 +-
 .../store/parquet/ParquetTableMetadataUtils.java   |  17 +-
 .../exec/store/parquet/RowGroupReadEntry.java      |   5 +
 .../store/parquet/columnreaders/PageReader.java    |   4 +-
 .../parquet/columnreaders/ParquetRecordReader.java |  95 ++---
 .../store/parquet/columnreaders/ParquetSchema.java |  13 +-
 .../store/parquet/columnreaders/ReadState.java     |  91 ++---
 .../parquet/columnreaders/VarLenBinaryReader.java  |  15 +-
 .../columnreaders/VarLenColumnBulkInput.java       |   2 +-
 .../parquet/metadata/FileMetadataCollector.java    | 275 ++++++++++++++
 .../exec/store/parquet/metadata/Metadata.java      | 243 +++---------
 .../exec/store/parquet/metadata/MetadataBase.java  |   5 +
 .../exec/store/parquet/metadata/Metadata_V4.java   |  25 +-
 .../exec/store/parquet2/DrillParquetReader.java    | 147 ++++----
 .../drill/exec/store/schedule/AffinityCreator.java |  37 +-
 .../drill/exec/store/mock/TestMockPlugin.java      |   3 +-
 .../drill/exec/store/mock/TestMockRowReader.java   |   3 +-
 .../store/parquet/TestComplexColumnInSchema.java   |   4 +
 .../drill/exec/store/parquet/TestEmptyParquet.java | 417 +++++++++++++++++++++
 .../exec/store/parquet/TestFixedlenDecimal.java    |   3 +-
 .../exec/store/parquet/TestParquetBulkReader.java  |   4 +
 ...quetFilterPushdownWithTransitivePredicates.java |   4 +
 .../store/parquet/TestParquetLogicalTypes.java     |   4 +
 .../store/parquet/TestParquetMetadataCache.java    |   4 +
 .../store/parquet/TestParquetMetadataVersion.java  |   5 +-
 .../store/parquet/TestParquetReaderConfig.java     |   4 +
 .../store/parquet/TestParquetReaderUtility.java    |   4 +
 .../drill/exec/store/parquet/TestParquetScan.java  |   4 +
 .../parquet/TestPushDownAndPruningForDecimal.java  |   4 +
 .../parquet/TestPushDownAndPruningForVarchar.java  |   4 +
 .../TestPushDownAndPruningWithItemStar.java        |  30 +-
 .../exec/store/parquet/TestVarlenDecimal.java      |   4 +
 .../columnreaders/TestBatchSizingMemoryUtil.java   |   4 +
 .../columnreaders/TestColumnReaderFactory.java     |   4 +
 .../parquet/columnreaders/TestDateReader.java      |   4 +
 .../store/parquet2/TestDrillParquetReader.java     |   4 +
 .../parquet/empty/complex/empty_complex.parquet    | Bin 0 -> 183 bytes
 .../empty/complex/non_empty_complex.parquet        | Bin 0 -> 650 bytes
 .../parquet/empty/simple/empty_simple.parquet      | Bin 0 -> 167 bytes
 .../parquet/empty/simple/non_empty_simple.parquet  | Bin 0 -> 450 bytes
 49 files changed, 1240 insertions(+), 573 deletions(-)

commit cb6de5a5c2ff4928ce978c0c505ad1ec1d793162
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Wed Jul 10 19:59:15 2019 +0300

    DRILL-6961: Handle exceptions during queries to information_schema
    
    closes #1833

 .../exec/store/jdbc/TestJdbcPluginWithMySQLIT.java |  6 ++
 .../src/test/resources/mysql-test-data.sql         |  2 +
 .../store/kafka/schema/KafkaMessageSchema.java     | 11 ++-
 .../drill/exec/store/kafka/KafkaQueriesTest.java   |  6 ++
 .../openTSDB/client/services/ServiceImpl.java      |  8 +--
 .../drill/store/openTSDB/TestOpenTSDBPlugin.java   | 80 +++++++++++++++-------
 .../exec/store/StoragePluginRegistryImpl.java      |  6 +-
 .../store/ischema/InfoSchemaRecordGenerator.java   |  3 +-
 8 files changed, 86 insertions(+), 36 deletions(-)

commit 2aa5b385de22ddcee66cdb763d654364791731e1
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Thu Aug 8 12:34:12 2019 -0700

    DRILL-7338: REST API calls to Drill fail due to insufficient heap memory
    
    This PR allows for the 85% threshold to be customizable with a value of 0 meant for disabling.
    
    closes #1837

 .../src/main/java/org/apache/drill/exec/ExecConstants.java         | 2 ++
 .../main/java/org/apache/drill/exec/server/rest/QueryWrapper.java  | 7 ++++---
 exec/java-exec/src/main/resources/drill-module.conf                | 1 +
 3 files changed, 7 insertions(+), 3 deletions(-)

commit e5ce59ee6fe328ff338556ed6c5ff6adfc6dd64c
Author: ozinoviev <ozinoviev@solit-clouds.ru>
Date:   Wed Aug 7 16:38:01 2019 +0300

    DRILL-7341: Vector reAlloc may fail after exchange
    
    closes #1838

 .../main/codegen/templates/FixedValueVectors.java  | 12 ++++++++---
 .../codegen/templates/VariableLengthVectors.java   |  9 +++++++-
 .../org/apache/drill/exec/vector/BitVector.java    |  9 +++++++-
 .../exec/vector/VariableLengthVectorTest.java      | 24 ++++++++++++++++++++++
 4 files changed, 49 insertions(+), 5 deletions(-)

commit 85c77134d5d1bb9f96a5417036cccfb263ae8ae7
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Aug 2 17:34:33 2019 +0300

    DRILL-7337: Add vararg UDFs support

 .../apache/drill/exec/expr/fn/HiveFuncHolder.java  |   2 +-
 .../drill/exec/expr/fn/HiveFunctionRegistry.java   |  12 +-
 .../drill/exec/planner/sql/HiveUDFOperator.java    |  42 +--
 .../compile/bytecode/ReplacingInterpreter.java     |  10 +
 .../compile/sig/ConstantExpressionIdentifier.java  |  76 ++---
 .../exec/expr/ExpressionTreeMaterializer.java      |  28 +-
 .../exec/expr/annotations/FunctionTemplate.java    |   5 +
 .../drill/exec/expr/fn/AbstractFuncHolder.java     |  19 +-
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |  28 +-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java | 146 +++++++--
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |   4 +-
 .../drill/exec/expr/fn/FunctionAttributes.java     |   4 +
 .../drill/exec/expr/fn/FunctionConverter.java      |  26 +-
 .../apache/drill/exec/expr/fn/ValueReference.java  |   9 +
 .../exec/expr/fn/impl/CollectToListFunction.java   |  49 ++++
 .../expr/fn/interpreter/InterpreterEvaluator.java  |  16 +-
 .../expr/fn/registry/LocalFunctionRegistry.java    |  32 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java |  15 +-
 .../drill/exec/planner/physical/AggPrelBase.java   |   3 +-
 .../exec/planner/sql/DrillSqlAggOperator.java      |  41 +--
 .../sql/DrillSqlAggOperatorWithoutInference.java   |   8 +-
 .../drill/exec/planner/sql/DrillSqlOperator.java   |  35 ++-
 .../sql/DrillSqlOperatorWithoutInference.java      |   8 +-
 .../drill/exec/planner/sql/TypeInferenceUtils.java |   6 +-
 .../exec/planner/sql/VarArgOperandTypeChecker.java |  59 ++++
 .../apache/drill/exec/resolver/TypeCastRules.java  |  53 ++--
 .../drill/exec/vector/complex/MapUtility.java      |   5 -
 .../exec/compile/TestClassTransformation.java      |  36 +++
 .../drill/exec/fn/impl/TestVarArgFunctions.java    | 325 +++++++++++++++++++++
 .../impl/testing/CountArgumentsAggFunctions.java   | 126 ++++++++
 .../fn/impl/testing/CountArgumentsFunctions.java   |  90 ++++++
 .../fn/impl/testing/InvalidVarargFunctions.java    |  65 +++++
 .../exec/fn/impl/testing/VarArgAddFunction.java    |  42 +++
 .../fn/impl/testing/VarCharConcatFunctions.java    | 275 +++++++++++++++++
 .../exec/physical/impl/TestSimpleFunctions.java    |   4 +-
 .../drill/CompileClassWithArraysAssignment.java    |  28 ++
 .../main/codegen/templates/HolderReaderImpl.java   |  36 ++-
 .../drill/common/expression/fn/FuncHolder.java     |  24 +-
 38 files changed, 1528 insertions(+), 264 deletions(-)

commit 7bd442d02093240bc31aca827d57e12eb4c2f4f5
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Aug 1 20:18:34 2019 +0300

    DRILL-7335: Fix error when reading csv file with headers only
    
    closes #1834

 .../exec/store/easy/text/reader/TextInput.java     | 10 ++--
 .../easy/text/compliant/TestCsvWithHeaders.java    | 62 ++++++++++++++--------
 2 files changed, 46 insertions(+), 26 deletions(-)

commit df48eb8167219b7c632e8f6d760e76242805d6af
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Jul 31 14:04:32 2019 +0300

    DRILL-7334: Update Iceberg Metastore Parquet write mode
    
    closes #1832

 metastore/iceberg-metastore/README.md                 | 19 ++++++++++---------
 metastore/iceberg-metastore/pom.xml                   |  2 +-
 .../metastore/iceberg/write/ParquetFileWriter.java    |  7 ++++---
 .../src/main/resources/drill-metastore-module.conf    |  9 ++++-----
 .../iceberg/write/TestParquetFileWriter.java          |  8 +++-----
 5 files changed, 22 insertions(+), 23 deletions(-)

commit fc3d921f0783cc2044ac4ed1f1a144231b5adbad
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Jul 25 19:22:47 2019 +0300

    DRILL-7331: Drill Iceberg Metastore metadata expiration
    
    closes #1831

 .../apache/drill/exec/server/DrillbitContext.java  |   1 +
 metastore/iceberg-metastore/README.md              |  25 +-
 metastore/iceberg-metastore/pom.xml                |   2 +-
 .../drill/metastore/iceberg/IcebergMetastore.java  |  29 ++-
 .../drill/metastore/iceberg/MetastoreContext.java  |   8 +
 .../iceberg/components/tables/IcebergTables.java   |  10 +-
 .../iceberg/config/IcebergConfigConstants.java     |   5 +
 .../iceberg/operate/ExpirationHandler.java         | 276 +++++++++++++++++++++
 .../metastore/iceberg/operate/IcebergModify.java   |   3 +
 .../src/main/resources/drill-metastore-module.conf |  74 +++---
 .../iceberg/components/tables/TestTableKey.java    |   2 +-
 .../tables/TestTablesOperationTransformer.java     |   5 +-
 .../iceberg/operate/TestExpirationHandler.java     | 143 +++++++++++
 .../java/org/apache/drill/metastore/Metastore.java |   2 +-
 .../apache/drill/metastore/MetastoreRegistry.java  |   9 +-
 .../main/resources/drill-metastore-default.conf    |   2 +-
 16 files changed, 536 insertions(+), 60 deletions(-)

commit 22947ad336d8dd0d944a66ded16a7ce9ffa62f04
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Tue Jul 9 18:04:52 2019 +0300

    DRILL-7084: ResultSet getObject method throws not implemented exception if the column type is NULL
    
    closes #1825

 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |  24 ++---
 .../org/apache/drill/jdbc/DrillResultSetTest.java  | 109 ++++++++++-----------
 .../src/test/resources/testGetObjectNull.parquet   | Bin 0 -> 379 bytes
 3 files changed, 65 insertions(+), 68 deletions(-)

commit 5df449530b9165fbf77607170057e3ac5eb2116f
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sat Jul 20 18:04:15 2019 -0700

    DRILL-7327: Log Regex Plugin Won't Recognize Schema
    
    The previous commit revised the plugin config classes to work
    with table functions. That caused Jackson to stop working for
    the classess. Fixed those issues and added unit tests.
    
    closes #1827

 .../drill/exec/store/log/LogFormatConfig.java      |  10 +-
 .../drill/exec/store/log/LogFormatField.java       |  20 +-
 .../apache/drill/exec/store/log/TestLogReader.java |  80 ++++-
 .../src/test/resources/regex/firewall.ssdlog       | 396 +++++++++++++++++++++
 pom.xml                                            |   3 +-
 5 files changed, 490 insertions(+), 19 deletions(-)

commit fb30eb9a9b1dfb69fe4082ac2d3738b355572b6a
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Jul 26 14:47:51 2019 +0300

    DRILL-7332: Allow parsing empty schema
    
    closes #1828

 .../java/org/apache/drill/TestSchemaCommands.java  | 66 +++++++++++++++-------
 .../record/metadata/schema/parser/SchemaParser.g4  |  2 +-
 .../metadata/schema/parser/TestSchemaParser.java   | 14 ++++-
 3 files changed, 57 insertions(+), 25 deletions(-)

commit 275fb27126b35fe3229f6ef6dd5296f4138670fc
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Fri Jul 5 18:51:32 2019 +0300

    DRILL-7205: Drill fails to start when authentication is disabled
    
    closes #1824

 .../rpc/security/AuthenticatorProviderImpl.java    |   5 +
 .../user/security/TestCustomUserAuthenticator.java | 115 +++++++++++----------
 2 files changed, 67 insertions(+), 53 deletions(-)

commit efbf4fc4a7ae1acd2641f4e40e0697d987337a42
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Jun 18 21:29:22 2019 +0300

    DRILL-7272: Drill Metastore Read / Write API and Drill Iceberg Metastore implementation
    
    1. Drill Metastore Read / Write API.
    2. Drill Iceberg Metastore implementation in iceberg-metastore module.
    3. Patches Guava Preconditions class for Apache Iceberg.
    4. General refactoring.
    5. Unit tests.
    6. Documentation.

 .../apache/drill/common/config/DrillConfig.java    |  31 +-
 .../org/apache/drill/common/util/GuavaPatcher.java |  86 +++
 distribution/pom.xml                               |  21 +
 distribution/src/assemble/component.xml            |   3 +
 distribution/src/deb/control/control               |   2 +-
 .../metastore/SimpleFileTableMetadataProvider.java |   2 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |   5 +
 .../planner/cost/DrillRelMdDistinctRowCount.java   |   2 +-
 .../apache/drill/exec/server/DrillbitContext.java  |  10 +-
 .../store/parquet/BaseParquetMetadataProvider.java |  16 +-
 .../store/parquet/ParquetTableMetadataUtils.java   |   6 +-
 .../org/apache/drill/exec/work/WorkManager.java    |   2 +-
 metastore/iceberg-metastore/README.md              | 178 ++++++
 metastore/iceberg-metastore/pom.xml                | 188 ++++++
 .../drill/metastore/iceberg/IcebergMetastore.java  | 273 +++++++++
 .../drill/metastore/iceberg/MetastoreContext.java  |  53 ++
 .../iceberg/components/tables/IcebergTables.java   |  96 +++
 .../iceberg/components/tables/TableKey.java        | 106 ++++
 .../tables/TablesOperationTransformer.java         |  74 +++
 .../tables/TablesOutputDataTransformer.java        |  57 ++
 .../components/tables/TablesTransformer.java       |  58 ++
 .../iceberg/config/IcebergConfigConstants.java     |  93 +++
 .../exceptions/IcebergMetastoreException.java      |  35 ++
 .../drill/metastore/iceberg/operate/Delete.java    |  44 ++
 .../metastore/iceberg/operate/IcebergMetadata.java |  53 ++
 .../metastore/iceberg/operate/IcebergModify.java   |  83 +++
 .../iceberg/operate/IcebergOperation.java          |  34 ++
 .../metastore/iceberg/operate/IcebergRead.java     |  77 +++
 .../drill/metastore/iceberg/operate/Overwrite.java |  53 ++
 .../iceberg/schema/IcebergTableSchema.java         | 168 ++++++
 .../iceberg/transform/FilterExpressionVisitor.java | 118 ++++
 .../iceberg/transform/FilterTransformer.java       |  56 ++
 .../iceberg/transform/InputDataTransformer.java    | 129 ++++
 .../iceberg/transform/OperationTransformer.java    |  85 +++
 .../iceberg/transform/OutputDataTransformer.java   |  85 +++
 .../metastore/iceberg/transform/Transformer.java   |  52 ++
 .../metastore/iceberg/transform/WriteData.java     |  44 ++
 .../apache/drill/metastore/iceberg/write/File.java |  53 ++
 .../drill/metastore/iceberg/write/FileWriter.java  |  60 ++
 .../metastore/iceberg/write/ParquetFileWriter.java |  97 +++
 .../src/main/resources/drill-metastore-module.conf |  60 ++
 .../drill/metastore/iceberg/IcebergBaseTest.java   |  81 +++
 .../components/tables/TestBasicRequests.java       | 484 +++++++++++++++
 .../tables/TestIcebergTablesMetastore.java         | 486 +++++++++++++++
 .../iceberg/components/tables/TestTableKey.java    |  68 +++
 .../tables/TestTablesInputDataTransformer.java     | 209 +++++++
 .../tables/TestTablesOperationTransformer.java     | 116 ++++
 .../tables/TestTablesOutputDataTransformer.java    | 131 ++++
 .../iceberg/schema/TestIcebergTableSchema.java     | 300 ++++++++++
 .../iceberg/transform/TestFilterTransformer.java   | 222 +++++++
 .../iceberg/write/TestParquetFileWriter.java       | 283 +++++++++
 metastore/metastore-api/README.md                  | 334 +++++++++++
 metastore/metastore-api/pom.xml                    |  38 +-
 .../java/org/apache/drill/metastore/Metastore.java |  43 ++
 .../drill/metastore/MetastoreFieldDefinition.java  |  43 ++
 .../apache/drill/metastore/MetastoreRegistry.java  | 107 ++++
 .../components/tables/BasicTablesRequests.java     | 657 +++++++++++++++++++++
 .../components/tables/BasicTablesTransformer.java  | 147 +++++
 .../components/tables/MetastoreTableInfo.java      | 118 ++++
 .../components/tables/TableMetadataUnit.java       | 561 ++++++++++++++++++
 .../drill/metastore/components/tables/Tables.java  |  35 ++
 .../components/views/ViewMetadataUnit.java         |  27 +
 .../drill/metastore/components/views/Views.java    |  27 +
 .../metastore/config/MetastoreConfigConstants.java |  57 ++
 .../metastore/config/MetastoreConfigFileInfo.java  |  46 ++
 .../metastore/exceptions/MetastoreException.java   |  33 ++
 .../expressions/DoubleExpressionPredicate.java     |  90 +++
 .../metastore/expressions/FilterExpression.java    | 146 +++++
 .../drill/metastore/expressions/IsPredicate.java   |  83 +++
 .../drill/metastore/expressions/ListPredicate.java |  97 +++
 .../metastore/expressions/SimplePredicate.java     | 168 ++++++
 .../expressions/SingleExpressionPredicate.java     |  67 +++
 .../drill/metastore/metadata/BaseMetadata.java     |  82 ++-
 .../metastore/metadata/BaseTableMetadata.java      |  44 +-
 .../drill/metastore/metadata/FileMetadata.java     |  34 +-
 .../drill/metastore/metadata/LocationProvider.java |  15 +-
 .../apache/drill/metastore/metadata/Metadata.java  |   9 +
 .../drill/metastore/metadata/MetadataInfo.java     |  94 ++-
 .../drill/metastore/metadata/MetadataType.java     |  22 +-
 .../metadata/NonInterestingColumnsMetadata.java    |   6 +
 .../metastore/metadata/PartitionMetadata.java      |  41 +-
 .../drill/metastore/metadata/RowGroupMetadata.java |  24 +-
 .../drill/metastore/metadata/SegmentMetadata.java  |  65 +-
 .../apache/drill/metastore/metadata/TableInfo.java |  78 ++-
 .../apache/drill/metastore/operate/Metadata.java   |  64 ++
 .../org/apache/drill/metastore/operate/Modify.java |  74 +++
 .../apache/drill/metastore/operate/Operations.java |  42 ++
 .../org/apache/drill/metastore/operate/Read.java   |  64 ++
 .../metastore/statistics/ColumnStatistics.java     |  20 +-
 .../metastore/statistics/StatisticsHolder.java     |  19 +-
 .../main/resources/drill-metastore-default.conf    |  19 +
 .../components/tables/TestBasicTablesRequests.java | 133 +++++
 .../tables/TestBasicTablesTransformer.java         | 333 +++++++++++
 .../components/tables/TestMetastoreTableInfo.java  |  95 +++
 .../tables/TestTableMetadataUnitConversion.java    | 437 ++++++++++++++
 .../metastore/metadata/MetadataSerDeTest.java      |  14 +-
 metastore/pom.xml                                  |  31 +-
 pom.xml                                            |   2 +-
 98 files changed, 9743 insertions(+), 170 deletions(-)

commit ddcb57865f388f2588df35bcad3fd52e69d22db4
Author: Dmytriy Grinchenko <dmytriy.grinchenko@gmail.com>
Date:   Wed Jul 3 16:11:42 2019 +0300

    DRILL-7307: casthigh for decimal type can lead to the issues with VarDecimalHolder
    
    - Fixed code-gen for VarDecimal type
    - Fixed code-gen issue with nullable holders for simple cast functions
    with passed constants as arguments.
    - Code-gen now honnoring DataType.Optional type defined by UDF for
    NULL-IF-NULL functions.

 .../apache/drill/exec/expr/fn/HiveFuncHolder.java  |   2 +-
 .../src/main/codegen/templates/CastHigh.java       |  10 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 276 +++++----------------
 .../drill/exec/expr/fn/AbstractFuncHolder.java     |   4 +-
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |   3 +-
 .../expr/fn/DrillComplexWriterAggFuncHolder.java   |   3 +-
 .../exec/expr/fn/DrillComplexWriterFuncHolder.java |   4 +-
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |  11 +-
 .../expr/fn/output/DecimalReturnTypeInference.java |   9 +-
 .../drill/exec/sql/TestSimpleCastFunctions.java    |  34 +++
 10 files changed, 123 insertions(+), 233 deletions(-)

commit 3599dfd2690023db6a7af66512b3e44759eb34a1
Author: Paul Rogers <par0328@yahoo.com>
Date:   Tue Jun 18 19:26:16 2019 -0700

    DRILL-6951: Merge row set based mock data source
    
    The mock data source is used in several tests to generate a large volume
    of sample data, such as when testing spilling. The mock data source also
    lets us try new plugin featues in a very simple context. During the
    development of the row set framework, the mock data source was converted
    to use the new framework to verify functionality. This commit upgrades
    the mock data source with that work.
    
    The work changes non of the functionality. It does, however, improve
    memory usage. Batchs are limited, by default, to 10 MB in size. The row
    set framework minimizes internal fragmentation in the largest vector.
    (Previously, internal fragmentation averaged 25% but could be as high as
    50%.)
    
    As it turns out, the hash aggregate tests depended on the internal
    fragmentation: without it, the hash agg no longer spilled for the same
    row count. Adjusted the generated row counts to recreate a data volume
    that caused spilling.
    
    One test in particular always failed due to assertions in the hash agg
    code. These seem true bugs and are described in DRILL-7301. After
    multiple failed attempts to get the test to work, it ws disabled until
    DRILL-7301 is fixed.
    
    Added a new unit test to sanity check the mock data source. (No test
    already existed for this functionality except as verified via other unit
    tests.)

 .../impl/scan/framework/BasicScanFactory.java      |   4 +-
 .../drill/exec/store/mock/AbstractFieldGen.java    |  35 +++
 .../apache/drill/exec/store/mock/BooleanGen.java   |  21 +-
 .../apache/drill/exec/store/mock/ColumnDef.java    |  20 +-
 .../org/apache/drill/exec/store/mock/DateGen.java  |  21 +-
 .../apache/drill/exec/store/mock/DoubleGen.java    |  21 +-
 .../exec/store/mock/ExtendedMockBatchReader.java   | 148 ++++++++++
 .../exec/store/mock/ExtendedMockRecordReader.java  | 158 -----------
 .../org/apache/drill/exec/store/mock/FieldGen.java |   6 +-
 .../org/apache/drill/exec/store/mock/IntGen.java   |  21 +-
 .../exec/store/mock/MockScanBatchCreator.java      |  72 ++++-
 .../apache/drill/exec/store/mock/MockStorePOP.java |   2 -
 .../apache/drill/exec/store/mock/MockTableDef.java |   4 +-
 .../org/apache/drill/exec/store/mock/MoneyGen.java |  22 +-
 .../apache/drill/exec/store/mock/StringGen.java    |  16 +-
 .../drill/exec/store/mock/VaryingStringGen.java    |  14 +-
 .../exec/fn/interp/ExpressionInterpreterTest.java  |   9 +-
 .../exec/physical/impl/agg/TestHashAggrSpill.java  | 129 +++++----
 .../impl/scan/BaseScanOperatorExecTest.java        |  23 +-
 .../drill/exec/store/mock/TestMockPlugin.java      | 148 ++++++++++
 .../drill/exec/store/mock/TestMockRowReader.java   | 304 +++++++++++++++++++++
 .../drill/exec/record/metadata/SchemaBuilder.java  |   7 +
 22 files changed, 848 insertions(+), 357 deletions(-)

commit 2224ee1014cfdcc2b76f1a8290171ca63db76a53
Author: Paul Rogers <par0328@yahoo.com>
Date:   Wed Jun 12 18:28:16 2019 -0700

    DRILL-7293: Convert the regex ("log") plugin to use EVF
    
    Converts the log format plugin (which uses a regex for parsing) to work
    with the Extended Vector Format.
    
    User-visible behavior changes added to the README file.
    
    * Use the plugin config object to pass config to the Easy framework.
    * Use the EVF scan mechanism in place of the legacy "ScanBatch"
    mechanism.
    * Minor code and README cleanup.
    * Replace ad-hoc type conversion with builtin conversions
    
    The provided schema support in the enhanced vector framework (EVF)
    provides automatic conversions from VARCHAR to most types. The log
    format plugin was created before EVF was available and provided its own
    conversion mechanism. This commit removes the ad-hoc conversion code and
    instead uses the log plugin config schema information to create an
    "output schema" just as if it was provided by the provided schema
    framework.
    
    Because we need the schema in the plugin (rather than the reader), moved
    the schema-parsing code out of the reader into the plugin. The plugin
    creates two schemas: an "output schema" with the desired output types,
    and a "reader schema" that uses only VARCHAR. This causes the EVF to
    perform conversions.
    
    * Enable provided schema support
    
    Allows the user to specify types using either the format config (as
    previously) or a provided schema. If a schema is provided, it will match
    columns using names specified in the format config.
    
    The provided schema can specify both types and modes (nullable or not
    null.)
    
    If a schema is provided, then the types specified in the plugin config
    are ignored. No attempt is made to merge schemas.
    
    If a schema is provided, but a column is omitted from the schema, the
    type defaults to VARCHAR.
    
    * Added ability to specify regex in table properties
    
    Allows the user to specify the regex, and the column schema,
    using a CREATE SCHEMA statement. The README file provides the details.
    Unit tests demonstrate and verify the functionality.
    
    * Used the custom error context provided by EVF to enhance the log format
    reader error messages.
    * Added user name to default EVF error context
    * Added support for table functions
    
    Can set the regex and maxErrors fields, but not the schema.
    Schema will default to "field_0", "field_1", etc. of type
    VARCHAR.
    
    * Added unit tests to verify the functionality.
    * Added a check, and a test, for a regex with no groups.
    * Added columns array support
    
    When the log regex plugin is given no schema, it previously
    created a list of columns "field_0", "field_1", etc. After
    this change, the plugin instead follows the pattern set by
    the text plugin: it will place all fields into the columns
    array. (The two special fields are still separate.)
    
    A few adjustments were necessary to the columns array
    framework to allow use of the special columns along with
    the `columns` column.
    
    Modified unit tests and the README to reflect this change.
    The change should be backward compatible because few users
    are likely relying on the dummy field names.
    
    Added unit tests to verify that schema-based table
    functions work. A test shows that, due to the unforunate
    config property name "schema", users of this plugin cannot
    combine a config table function with the schema attribute
    in the way promised in DRILL-6965.

 .../impl/scan/columns/ColumnsArrayManager.java     |  23 +-
 .../impl/scan/columns/ColumnsArrayParser.java      |  32 +-
 .../impl/scan/columns/ColumnsScanFramework.java    |  19 +-
 .../impl/scan/project/projSet/TypeConverter.java   |   2 +
 .../exec/store/easy/text/TextFormatPlugin.java     |   4 +-
 .../easy/text/reader/CompliantTextBatchReader.java |   6 +-
 .../drill/exec/store/log/LogBatchReader.java       | 278 ++++++++
 .../drill/exec/store/log/LogFormatConfig.java      |  57 +-
 .../drill/exec/store/log/LogFormatField.java       |  61 +-
 .../drill/exec/store/log/LogFormatPlugin.java      | 402 +++++++++--
 .../drill/exec/store/log/LogRecordReader.java      | 769 ---------------------
 .../java/org/apache/drill/exec/store/log/README.md | 251 ++++++-
 .../apache/drill/TestSchemaWithTableFunction.java  |  16 +-
 .../exec/physical/impl/scan/TestColumnsArray.java  |  15 +-
 .../impl/scan/TestColumnsArrayFramework.java       |  24 +-
 .../physical/impl/scan/TestColumnsArrayParser.java |  32 +-
 .../apache/drill/exec/store/log/TestLogReader.java | 469 +++++++++++--
 .../exec/record/metadata/AbstractPropertied.java   |  16 +
 .../drill/exec/record/metadata/Propertied.java     |  21 +
 19 files changed, 1468 insertions(+), 1029 deletions(-)

commit 77cf7e2ee61fb40e7efd85148ac76947d13dda38
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Jul 5 16:13:54 2019 +0300

    DRILL-7317: Close ClassLoaders used for udf jars uploading when closing FunctionImplementationRegistry
    
    - Fix issue with caching DrillMergeProjectRule and FunctionImplementationRegistry when different drillbits are started within the same JVM

 .../expr/fn/FunctionImplementationRegistry.java    |  3 +-
 .../expr/fn/registry/FunctionRegistryHolder.java   | 75 ++++++++++++++++++----
 .../expr/fn/registry/LocalFunctionRegistry.java    |  7 +-
 .../planner/logical/DrillMergeProjectRule.java     |  6 +-
 4 files changed, 70 insertions(+), 21 deletions(-)

commit 66e8dd9f05ea068e27b272ed1b787004213c29e6
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sun Jun 23 22:10:54 2019 -0700

    DRILL-7306: Disable schema-only batch for new scan framework
    
    The EVF framework is set up to return a "fast schema" empty batch
    with only schema as its first batch because, when the code was
    written, it seemed that's how we wanted operators to work. However,
    DRILL-7305 notes that many operators cannot handle empty batches.
    
    Since the empty-batch bugs show that Drill does not, in fact,
    provide a "fast schema" batch, this ticket asks to disable the
    feature in the new scan framework. The feature is disabled with
    a config option; it can be re-enabled if ever it is needed.
    
    SQL differentiates between two subtle cases, and both are
    supported by this change.
    
    1. Empty results: the query found a schema, but no rows
       are returned. If no reader returns any rows, but at
       least one reader provides a schema, then the scan
       returns an empty batch with the schema.
    2. Null results: the query found no schema or rows. No
       schema is returned. If no reader returns rows or
       schema, then the scan returns no batch: it instead
       immediately returns a DONE status.
    
    For CSV, an empty file with headers returns the null result set
    (because we don't know the schema.) An empty CSV file without headers
    returns an empty result set because we do know the schema: it will
    always be the columns array.
    
    Old tests validate the original schema-batch mode, new tests
    added to validate the no-schema-batch mode.

 .../exec/physical/impl/filter/FilterTemplate2.java |   6 +-
 .../physical/impl/protocol/OperatorDriver.java     |  57 +++++++++--
 .../impl/protocol/OperatorRecordBatch.java         |   5 +-
 .../exec/physical/impl/protocol/SchemaTracker.java |   6 +-
 .../impl/protocol/VectorContainerAccessor.java     |  30 ++++--
 .../drill/exec/physical/impl/scan/ReaderState.java |  64 ++++++++----
 .../exec/physical/impl/scan/ScanOperatorExec.java  | 109 +++++++++++++++++++--
 .../impl/scan/columns/ColumnsScanFramework.java    |   3 +-
 .../physical/impl/scan/file/FileScanFramework.java |   4 +-
 .../impl/scan/framework/ManagedScanFramework.java  |   5 +
 .../impl/scan/project/ScanSchemaOrchestrator.java  |  64 +++++++++++-
 .../physical/impl/scan/project/SchemaSmoother.java |   3 +-
 .../apache/drill/exec/record/VectorContainer.java  |  36 ++++---
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  76 +++++++-------
 .../exec/store/easy/text/TextFormatPlugin.java     |   9 +-
 .../easy/text/reader/CompliantTextBatchReader.java |   2 +-
 .../apache/drill/TestSchemaWithTableFunction.java  |  11 +--
 .../org/apache/drill/exec/TestEmptyInputSql.java   |   6 +-
 .../impl/protocol/TestOperatorRecordBatch.java     |  24 ++---
 .../impl/scan/BaseScanOperatorExecTest.java        |  30 +++---
 .../exec/physical/impl/scan/ScanTestUtils.java     |  27 +++--
 .../exec/physical/impl/scan/TestColumnsArray.java  |   6 +-
 .../impl/scan/TestColumnsArrayFramework.java       |   6 +-
 .../physical/impl/scan/TestFileScanFramework.java  |   6 +-
 .../physical/impl/scan/TestScanOperExecBasics.java |  11 ++-
 .../impl/scan/TestScanOperExecEarlySchema.java     |  52 +++++++++-
 .../impl/scan/TestScanOperExecLateSchema.java      |  44 +++++++++
 .../impl/scan/TestScanOperExecSmoothing.java       |  21 ++++
 .../impl/scan/TestScanOrchestratorEarlySchema.java |  27 ++---
 .../impl/scan/TestScanOrchestratorLateSchema.java  |   5 +-
 .../impl/scan/TestScanOrchestratorMetadata.java    |  11 ++-
 .../impl/scan/project/TestSchemaSmoothing.java     |   3 +-
 .../store/easy/text/compliant/BaseCsvTest.java     |  11 +++
 .../store/easy/text/compliant/TestCsvHeader.java   |  10 +-
 .../easy/text/compliant/TestCsvWithHeaders.java    |  66 ++++++++-----
 .../easy/text/compliant/TestCsvWithSchema.java     |   2 +-
 .../easy/text/compliant/TestCsvWithoutHeaders.java |  43 ++++++--
 .../easy/text/compliant/TestPartitionRace.java     |  35 ++++---
 .../apache/drill/exec/store/log/TestLogReader.java |   4 -
 .../java/org/apache/drill/test/QueryBuilder.java   |  35 +++++--
 .../apache/drill/test/rowSet/RowSetBuilder.java    |  10 +-
 .../apache/drill/test/rowSet/RowSetUtilities.java  |   2 +-
 .../drill/exec/record/MaterializedField.java       |   4 +-
 .../drill/exec/record/metadata/ColumnBuilder.java  |  17 +++-
 .../record/metadata/PrimitiveColumnMetadata.java   |  18 +++-
 45 files changed, 764 insertions(+), 262 deletions(-)

commit 1522dd0e016459a03436ade38134bd98e59f7e57
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Jul 5 13:26:42 2019 +0300

    DRILL-7316: Move classes from org.apache.drill.metastore into org.apache.drill.exec.metastore package in java-exec module

 .../org/apache/drill/exec/store/mapr/db/MapRDBFormatPlugin.java     | 2 +-
 .../drill/exec/store/mapr/db/binary/BinaryTableGroupScan.java       | 4 ++--
 .../apache/drill/exec/store/mapr/db/json/JsonTableGroupScan.java    | 4 ++--
 .../drill/exec/store/mapr/db/json/RestrictedJsonTableGroupScan.java | 2 +-
 .../sql/logical/ConvertHiveMapRDBJsonScanToDrillMapRDBJsonScan.java | 2 +-
 .../{ => exec}/metastore/FileSystemMetadataProviderManager.java     | 2 +-
 .../apache/drill/{ => exec}/metastore/MetadataProviderManager.java  | 2 +-
 .../apache/drill/{ => exec}/metastore/ParquetMetadataProvider.java  | 2 +-
 .../drill/{ => exec}/metastore/ParquetTableMetadataProvider.java    | 2 +-
 .../drill/{ => exec}/metastore/SimpleFileTableMetadataProvider.java | 2 +-
 .../main/java/org/apache/drill/exec/planner/logical/DrillTable.java | 4 ++--
 .../org/apache/drill/exec/planner/logical/DynamicDrillTable.java    | 2 +-
 .../main/java/org/apache/drill/exec/planner/sql/SqlConverter.java   | 2 +-
 .../java/org/apache/drill/exec/store/AbstractStoragePlugin.java     | 2 +-
 .../src/main/java/org/apache/drill/exec/store/StoragePlugin.java    | 2 +-
 .../main/java/org/apache/drill/exec/store/dfs/FileSystemPlugin.java | 2 +-
 .../src/main/java/org/apache/drill/exec/store/dfs/FormatPlugin.java | 2 +-
 .../org/apache/drill/exec/store/dfs/WorkspaceSchemaFactory.java     | 4 ++--
 .../java/org/apache/drill/exec/store/dfs/easy/EasyFormatPlugin.java | 2 +-
 .../java/org/apache/drill/exec/store/dfs/easy/EasyGroupScan.java    | 4 ++--
 .../exec/store/dfs/easy/SimpleFileTableMetadataProviderBuilder.java | 2 +-
 .../org/apache/drill/exec/store/easy/text/TextFormatPlugin.java     | 2 +-
 .../apache/drill/exec/store/parquet/AbstractParquetGroupScan.java   | 2 +-
 .../drill/exec/store/parquet/BaseParquetMetadataProvider.java       | 2 +-
 .../exec/store/parquet/ParquetFileTableMetadataProviderBuilder.java | 2 +-
 .../org/apache/drill/exec/store/parquet/ParquetFormatPlugin.java    | 2 +-
 .../java/org/apache/drill/exec/store/parquet/ParquetGroupScan.java  | 6 +++---
 .../drill/exec/store/parquet/ParquetTableMetadataProviderImpl.java  | 6 +++---
 28 files changed, 37 insertions(+), 37 deletions(-)

commit 1c34b3923399f8f56b662dd4702041b7026e0b11
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Jul 5 13:17:52 2019 +0300

    DRILL-7315: Revise precision and scale order in the method arguments

 .../java/org/apache/drill/common/types/Types.java  |  4 +--
 .../store/hive/writers/HiveValueWriterFactory.java |  4 +--
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  4 +--
 .../expr/fn/interpreter/InterpreterEvaluator.java  |  4 +--
 .../drill/exec/planner/logical/DrillOptiq.java     |  7 ++--
 .../drill/exec/planner/sql/SqlConverter.java       |  2 +-
 .../drill/exec/store/avro/AvroRecordReader.java    |  6 ++--
 .../exec/store/parquet/ParquetReaderUtility.java   |  4 +--
 .../store/parquet/ParquetTableMetadataUtils.java   |  2 +-
 .../store/parquet2/DrillParquetGroupConverter.java | 10 +++---
 .../drill/exec/vector/complex/MapUtility.java      | 10 +++---
 .../java/org/apache/drill/TestFrameworkTest.java   |  2 +-
 .../drill/exec/fn/impl/TestAggregateFunctions.java | 16 ++++-----
 .../drill/exec/fn/impl/TestCastFunctions.java      | 10 +++---
 .../src/main/codegen/data/ValueVectorTypes.tdd     | 25 +++++++++-----
 .../codegen/templates/AbstractFieldReader.java     |  2 +-
 .../codegen/templates/AbstractFieldWriter.java     |  4 +--
 .../templates/AbstractPromotableFieldWriter.java   |  8 ++---
 .../src/main/codegen/templates/BaseWriter.java     |  6 ++--
 .../src/main/codegen/templates/ComplexCopier.java  |  4 +--
 .../src/main/codegen/templates/ComplexReaders.java | 38 +++++++++-------------
 .../src/main/codegen/templates/ListWriters.java    |  4 +--
 .../src/main/codegen/templates/MapWriters.java     |  4 +--
 .../src/main/codegen/templates/NullReader.java     |  2 +-
 .../codegen/templates/RepeatedValueVectors.java    |  5 +--
 .../main/codegen/templates/UnionListWriter.java    |  4 +--
 .../src/main/codegen/templates/UnionWriter.java    |  8 ++---
 .../drill/exec/vector/ValueHolderHelper.java       |  4 +--
 .../vector/complex/impl/MapOrListWriterImpl.java   |  4 +--
 29 files changed, 105 insertions(+), 102 deletions(-)

commit e843588178dd25408c447217aac25c0970924ebc
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Jul 5 16:43:37 2019 +0300

    DRILL-7314: Use TupleMetadata instead of concrete implementation
    
    1. Add ser / de implementation for TupleMetadata interface based on types.
    2. Replace TupleSchema usage where possible.
    3. Move patcher classes into commons.
    4. Upgrade some dependencies and general refactoring.

 common/pom.xml                                     |  2 +-
 .../apache/drill/common}/util/GuavaPatcher.java    | 14 +++--
 .../apache/drill/common}/util/ProtobufPatcher.java |  8 ++-
 .../drill/exec/store/mapr/db/MapRDBSubScan.java    |  4 +-
 .../store/mapr/db/RestrictedMapRDBSubScan.java     | 19 +++---
 .../store/mapr/db/binary/BinaryTableGroupScan.java | 10 ++-
 .../store/mapr/db/json/JsonTableGroupScan.java     | 27 ++++----
 .../mapr/db/json/RestrictedJsonTableGroupScan.java |  5 +-
 .../drill/maprdb/tests/index/TableIndexCmd.java    |  2 +-
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |  4 +-
 .../hive/HiveDrillNativeParquetRowGroupScan.java   | 30 +++++----
 .../store/hive/HiveDrillNativeParquetScan.java     |  3 +-
 exec/java-exec/pom.xml                             |  2 +-
 .../drill/exec/coord/ClusterCoordinator.java       | 16 ++---
 .../base/AbstractGroupScanWithMetadata.java        | 12 ++--
 .../exec/physical/rowSet/impl/TupleState.java      |  2 +-
 .../exec/physical/rowSet/model/BaseTupleModel.java |  6 +-
 .../rowSet/model/hyper/HyperSchemaInference.java   |  2 +-
 .../record/metadata/schema/SchemaContainer.java    |  3 +-
 .../org/apache/drill/exec/server/Drillbit.java     | 18 +++---
 .../exec/store/StoragePluginRegistryImpl.java      |  2 +-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  4 +-
 .../drill/exec/store/dfs/easy/EasySubScan.java     |  3 +-
 .../store/parquet/AbstractParquetGroupScan.java    |  1 -
 .../store/parquet/AbstractParquetRowGroupScan.java | 20 +++---
 .../parquet/AbstractParquetScanBatchCreator.java   | 20 +++---
 .../drill/exec/store/parquet/ParquetGroupScan.java | 10 +--
 .../exec/store/parquet/ParquetRowGroupScan.java    | 15 +++--
 .../org/apache/drill/exec/work/WorkManager.java    | 71 +++++++++-------------
 .../test/java/org/apache/drill/exec/ExecTest.java  |  2 +-
 .../physical/impl/join/TestHashJoinOutcome.java    | 20 +++---
 .../exec/record/metadata/TestTupleSchema.java      | 47 ++++++++++++++
 .../record/metadata/schema/TestSchemaProvider.java |  1 +
 .../drill/exec/store/pcapng/TestPcapngHeaders.java | 13 ++--
 exec/jdbc-all/pom.xml                              |  2 +-
 .../drill/exec/record/metadata/TupleMetadata.java  | 51 +++++++++++++++-
 .../drill/exec/record/metadata/TupleSchema.java    |  2 +
 logical/pom.xml                                    |  2 +-
 pom.xml                                            | 30 ++++-----
 39 files changed, 289 insertions(+), 216 deletions(-)

commit 2efa51e10e832512feae313c4226c80393dcd842
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Fri Feb 22 18:01:15 2019 +0200

    DRILL-7200: Update Calcite to 1.19.0 / 1.20.0

 common/pom.xml                                     |  5 --
 .../store/mapr/db/json/JsonConditionBuilder.java   | 10 ++++
 .../apache/drill/hbase/HBaseRecordReaderTest.java  |  6 +-
 .../org/apache/drill/hbase/TestTableGenerator.java | 14 ++---
 contrib/storage-hive/core/pom.xml                  |  2 +-
 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    |  3 +-
 docs/dev/Calcite.md                                |  3 +-
 exec/java-exec/pom.xml                             |  4 +-
 exec/java-exec/src/main/codegen/data/Parser.tdd    |  8 ++-
 .../org/apache/drill/exec/expr/FilterBuilder.java  |  9 ++-
 .../org/apache/drill/exec/expr/IsPredicate.java    |  1 +
 .../exec/expr/fn/FunctionGenerationHelper.java     |  1 +
 .../drill/exec/expr/fn/impl/LastDayFunction.java   | 48 ++++++++++++++++
 .../exec/planner/common/DrillAggregateRelBase.java |  7 +--
 .../planner/common/DrillLateralJoinRelBase.java    |  6 +-
 .../cost/DrillDefaultRelMetadataProvider.java      |  1 +
 .../exec/planner/cost/DrillRelMdMaxRowCount.java   | 48 ++++++++++++++++
 .../exec/planner/logical/DrillAggregateRel.java    | 12 ++--
 .../exec/planner/logical/DrillAggregateRule.java   |  2 +-
 .../drill/exec/planner/logical/DrillJoinRel.java   |  5 --
 .../drill/exec/planner/logical/DrillJoinRule.java  |  6 ++
 .../exec/planner/logical/DrillLateralJoinRel.java  | 17 ++++--
 .../DrillProjectPushIntoLateralJoinRule.java       |  4 +-
 .../planner/logical/DrillReduceAggregatesRule.java | 14 +----
 .../exec/planner/logical/DrillRelFactories.java    |  4 +-
 .../drill/exec/planner/logical/DrillScanRule.java  |  2 +-
 .../exec/planner/logical/DrillSemiJoinRel.java     | 30 +++++-----
 .../planner/logical/partition/PruneScanRule.java   |  1 -
 .../drill/exec/planner/physical/AggPrelBase.java   |  3 +-
 .../drill/exec/planner/physical/HashAggPrel.java   |  8 +--
 .../drill/exec/planner/physical/HashAggPrule.java  |  3 -
 .../drill/exec/planner/physical/JoinPrel.java      | 22 +++++++-
 .../exec/planner/physical/LateralJoinPrel.java     | 10 ++--
 .../drill/exec/planner/physical/StreamAggPrel.java |  9 +--
 .../exec/planner/physical/StreamAggPrule.java      |  5 --
 .../sql/DrillCalciteSqlFunctionWrapper.java        |  6 ++
 .../drill/exec/planner/sql/DrillOperatorTable.java | 15 ++---
 .../drill/exec/planner/sql/SqlConverter.java       | 28 ++++++++-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  6 +-
 .../exec/planner/sql/handlers/ViewHandler.java     |  3 +-
 .../sql/parser/UnsupportedOperatorsVisitor.java    | 66 +++++++++++-----------
 .../java/org/apache/drill/exec/util/Utilities.java |  9 +++
 .../impl/limit/TestLateLimit0Optimization.java     |  2 +-
 .../org/apache/drill/exec/sql/TestViewSupport.java | 24 ++++++++
 exec/jdbc-all/pom.xml                              |  8 +--
 logical/pom.xml                                    |  2 +-
 pom.xml                                            | 13 ++++-
 47 files changed, 351 insertions(+), 164 deletions(-)

commit 74b277d2779064e62cf589f1dfaeb25f9bb4527f
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Tue Jul 2 17:25:59 2019 +0300

    DRILL-7313: Use Hive schema for MaprDB native reader when field was empty
    
    - Added all_text_mode option for hive maprDB Json
    - Improved logic to convert Hive's schema into Drill's one
    - Added unit tests for schema conversion

 .../exec/store/mapr/db/MapRDBFormatMatcher.java    |   3 +-
 .../exec/store/mapr/db/MapRDBFormatPlugin.java     |  14 +-
 .../drill/exec/store/mapr/db/MapRDBGroupScan.java  |  53 ++++--
 .../store/mapr/db/MapRDBPushFilterIntoScan.java    |  12 +-
 .../store/mapr/db/MapRDBPushLimitIntoScan.java     |   2 +-
 .../mapr/db/MapRDBRestrictedScanBatchCreator.java  |   4 +-
 .../exec/store/mapr/db/MapRDBScanBatchCreator.java |   4 +-
 .../drill/exec/store/mapr/db/MapRDBSubScan.java    |  31 ++--
 .../store/mapr/db/RestrictedMapRDBSubScan.java     |  13 +-
 .../store/mapr/db/binary/BinaryTableGroupScan.java |  35 ++--
 .../store/mapr/db/json/JsonTableGroupScan.java     |  49 +++---
 .../store/mapr/db/json/MaprDBJsonRecordReader.java |  11 +-
 .../mapr/db/json/RestrictedJsonRecordReader.java   |   6 +-
 .../mapr/db/json/RestrictedJsonTableGroupScan.java |  20 ++-
 ...ertHiveMapRDBJsonScanToDrillMapRDBJsonScan.java |  38 +++--
 .../planner/types/HiveToRelDataTypeConverter.java  |  29 ++--
 .../drill/exec/store/hive/HiveUtilities.java       | 100 ++++++++++++
 .../store/hive/schema/TestSchemaConversion.java    | 178 +++++++++++++++++++++
 .../java/org/apache/drill/exec/ExecConstants.java  |   7 +-
 .../drill/exec/planner/sql/TypeInferenceUtils.java |  33 ++++
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |   5 +-
 .../exec/vector/complex/fn/JsonReaderUtils.java    |  59 +++++--
 .../FileSystemMetadataProviderManager.java         |  31 ++++
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 .../src/main/codegen/templates/ComplexCopier.java  |  15 +-
 .../exec/record/metadata/RepeatedListBuilder.java  |  30 ++++
 .../drill/metastore/util/SchemaPathUtils.java      |   2 +
 28 files changed, 645 insertions(+), 141 deletions(-)

commit f3d6b69a6e7a86f51e74f84c99c84aab58ed663a
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Jun 27 20:49:20 2019 +0300

    DRILL-7310: Move schema-related classes from exec module to be able to use them in metastore module
    
    closes #1816

 exec/java-exec/pom.xml                             | 21 -----
 .../exec/physical/rowSet/impl/ColumnBuilder.java   | 13 +--
 .../drill/exec/record/BatchSchemaBuilder.java      | 57 +++++++++++++
 .../org/apache/drill/exec/record/SchemaUtil.java   | 11 +++
 .../store/parquet/BaseParquetMetadataProvider.java |  5 +-
 .../store/parquet/ParquetTableMetadataUtils.java   |  4 +-
 .../java/org/apache/drill/TestFunctionsQuery.java  |  7 +-
 .../java/org/apache/drill/TestStarQueries.java     | 19 +++--
 .../test/java/org/apache/drill/TestUnionAll.java   |  7 +-
 .../java/org/apache/drill/TestUnionDistinct.java   |  7 +-
 .../java/org/apache/drill/TestUntypedNull.java     | 19 +++--
 .../org/apache/drill/exec/TestEmptyInputSql.java   | 61 +++++++++-----
 .../drill/exec/cache/TestBatchSerialization.java   | 31 ++++---
 .../drill/exec/fn/impl/TestCastFunctions.java      |  7 +-
 .../impl/agg/TestStreamingAggEmitOutcome.java      |  2 -
 .../physical/impl/join/TestHashJoinAdvanced.java   |  7 +-
 .../physical/impl/join/TestHashJoinOutcome.java    |  4 +-
 .../impl/protocol/TestOperatorRecordBatch.java     | 32 +++++---
 .../impl/scan/BaseScanOperatorExecTest.java        |  5 +-
 .../physical/impl/scan/TestFileScanFramework.java  | 30 ++++---
 .../physical/impl/scan/TestScanBatchWriters.java   |  6 +-
 .../impl/scan/TestScanOperExecSmoothing.java       |  5 +-
 .../impl/scan/TestScanOrchestratorEarlySchema.java | 24 +++---
 .../impl/scan/TestScanOrchestratorLateSchema.java  |  5 +-
 .../impl/scan/TestScanOrchestratorMetadata.java    | 17 ++--
 .../scan/project/TestConstantColumnLoader.java     | 10 +--
 .../impl/scan/project/TestRowBatchMerger.java      | 46 +++++------
 .../impl/svremover/AbstractGenericCopierTest.java  |  7 +-
 .../physical/impl/validate/TestBatchValidator.java | 42 +++++-----
 .../exec/physical/impl/xsort/TestExternalSort.java | 26 +++---
 .../physical/impl/xsort/managed/TestCopier.java    |  7 +-
 .../impl/xsort/managed/TestShortArrays.java        |  6 +-
 .../physical/impl/xsort/managed/TestSortImpl.java  |  3 +-
 .../physical/impl/xsort/managed/TestSorter.java    | 14 ++--
 .../impl/TestResultSetLoaderOmittedValues.java     |  5 +-
 .../rowSet/impl/TestResultSetLoaderProjection.java | 13 ++-
 .../rowSet/impl/TestResultSetSchemaChange.java     | 20 +++--
 .../drill/exec/physical/unit/TestMiniPlan.java     | 19 +++--
 .../exec/physical/unit/TestNullInputMiniPlan.java  | 69 ++++++++++------
 .../drill/exec/record/TestRecordBatchSizer.java    | 95 +++++++++++++++-------
 .../drill/exec/record/TestVectorContainer.java     | 13 +--
 .../exec/record/metadata/TestTupleSchema.java      |  6 +-
 .../apache/drill/exec/record/vector/TestLoad.java  | 76 +++++++++++------
 .../drill/exec/store/TestImplicitFileColumns.java  | 19 +++--
 .../drill/exec/store/httpd/TestHTTPDLogReader.java |  6 +-
 .../apache/drill/exec/store/log/TestLogReader.java | 54 ++++++------
 .../store/parquet/TestParquetMetadataCache.java    |  9 +-
 .../java/org/apache/drill/test/ClientFixture.java  |  7 +-
 .../java/org/apache/drill/test/ExampleTest.java    |  6 +-
 .../rowSet/test/TestRepeatedListAccessors.java     | 21 +++--
 .../test/rowSet/test/TestVariantAccessors.java     |  5 +-
 exec/vector/pom.xml                                | 21 +++++
 .../record/metadata/schema/parser/SchemaLexer.g4   |  0
 .../record/metadata/schema/parser/SchemaParser.g4  |  0
 .../record/metadata/AbstractColumnMetadata.java    |  0
 .../drill/exec/record/metadata/ColumnBuilder.java  |  0
 .../drill/exec/record/metadata/MapBuilder.java     |  0
 .../exec/record/metadata/MapColumnMetadata.java    |  0
 .../drill/exec/record/metadata/MetadataUtils.java  | 45 ----------
 .../record/metadata/PrimitiveColumnMetadata.java   |  6 +-
 .../exec/record/metadata/RepeatedListBuilder.java  |  0
 .../metadata/RepeatedListColumnMetadata.java       |  0
 .../drill/exec/record/metadata/SchemaBuilder.java  | 23 ------
 .../exec/record/metadata/SchemaContainer.java      |  0
 .../drill/exec/record/metadata/TupleBuilder.java   |  6 --
 .../drill/exec/record/metadata/TupleSchema.java    | 10 ---
 .../drill/exec/record/metadata/UnionBuilder.java   |  0
 .../record/metadata/VariantColumnMetadata.java     |  0
 .../drill/exec/record/metadata/VariantSchema.java  |  0
 .../drill/exec/record/metadata/package-info.java   |  2 +-
 .../metadata/schema/parser/SchemaExprParser.java   |  0
 .../schema/parser/SchemaParsingException.java      |  0
 .../metadata/schema/parser/SchemaVisitor.java      |  0
 .../schema/parser/UpperCaseCharStream.java         |  0
 .../record/metadata/TestMetadataProperties.java    |  0
 .../schema/parser/TestParserErrorHandling.java     |  0
 .../metadata/schema/parser/TestSchemaParser.java   |  0
 .../drill/metastore/util/SchemaPathUtils.java      | 37 +++++++++
 78 files changed, 675 insertions(+), 485 deletions(-)

commit e8d9b0ae6253db10fa5c2e8b5aeb4eecb3a1feb9
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Mon Jun 24 14:52:59 2019 +0300

    DRILL-6711: Use jitpack repository for Drill Calcite project artifacts instead of repository.mapr.com
    
    closes #1815

 common/pom.xml                               |  2 +-
 contrib/storage-hive/core/pom.xml            | 14 ++++++++++-
 contrib/storage-hive/hive-exec-shade/pom.xml |  4 ++--
 docs/dev/Calcite.md                          | 26 +++++++++++++++++++++
 exec/java-exec/pom.xml                       |  4 ++--
 exec/jdbc-all/pom.xml                        |  8 +++----
 logical/pom.xml                              |  2 +-
 pom.xml                                      | 35 +++++++---------------------
 8 files changed, 57 insertions(+), 38 deletions(-)

commit dc865e80d5cd67eea95e0a509ce5efd1ee521385
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Jun 19 19:31:06 2019 +0300

    DRILL-7271: Refactor Metadata interfaces and classes to contain all needed information for the File based Metastore

 .../store/hive/HiveDrillNativeParquetScan.java     |  11 +-
 exec/java-exec/pom.xml                             |   5 -
 .../drill/exec/expr/ComparisonPredicate.java       |  22 +-
 .../exec/expr/ExpressionTreeMaterializer.java      |   2 +-
 .../org/apache/drill/exec/expr/IsPredicate.java    |  42 +--
 .../apache/drill/exec/expr/StatisticsProvider.java | 195 +++++------
 .../exec/physical/base/AbstractGroupScan.java      |   3 +-
 .../base/AbstractGroupScanWithMetadata.java        | 368 +++++++++++++++------
 .../apache/drill/exec/physical/base/GroupScan.java |   3 +-
 .../impl/statistics/AbstractMergedStatistic.java   |   1 +
 .../impl/statistics/AvgWidthMergedStatistic.java   |   1 +
 .../impl/statistics/CntDupsMergedStatistic.java    |   1 +
 .../impl/statistics/ColTypeMergedStatistic.java    |   1 +
 .../impl/statistics/ColumnMergedStatistic.java     |   1 +
 .../impl/statistics/HLLMergedStatistic.java        |   1 +
 .../impl/statistics/MergedStatisticFactory.java    |   2 +
 .../impl/statistics/NDVMergedStatistic.java        |   1 +
 .../impl/statistics/NNRowCountMergedStatistic.java |   1 +
 .../impl/statistics/RowCountMergedStatistic.java   |   1 +
 .../impl/statistics/StatisticsAggBatch.java        |   1 +
 .../impl/statistics/StatisticsMergeBatch.java      |   1 +
 .../impl/statistics/TDigestMergedStatistic.java    |   1 +
 .../drill/exec/planner/common/DrillRelOptUtil.java |   6 +-
 .../drill/exec/planner/common/DrillStatsTable.java |  43 +--
 .../drill/exec/planner/common/HistogramUtils.java  |   1 +
 .../planner/common/NumericEquiDepthHistogram.java  |   5 +-
 .../planner/cost/DrillRelMdDistinctRowCount.java   |  10 +-
 .../exec/planner/cost/DrillRelMdRowCount.java      |   6 +-
 .../exec/planner/cost/DrillRelMdSelectivity.java   |  24 +-
 .../logical/ConvertCountToDirectScanRule.java      |   6 +-
 .../drill/exec/planner/logical/DrillTable.java     |   6 +-
 .../exec/planner/logical/DynamicDrillTable.java    |   2 +-
 .../drill/exec/planner/physical/AnalyzePrule.java  |   2 +-
 .../physical/ConvertCountToDirectScanPrule.java    |   8 +-
 .../drill/exec/planner/sql/SqlConverter.java       |   4 +-
 .../drill/exec/store/AbstractStoragePlugin.java    |   2 +-
 .../apache/drill/exec/store/ColumnExplorer.java    |   2 +-
 .../org/apache/drill/exec/store/StoragePlugin.java |   2 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |   2 +-
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |   2 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |   4 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   2 +-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |   8 +-
 .../SimpleFileTableMetadataProviderBuilder.java    |   5 +-
 .../easy/json/JsonStatisticsRecordWriter.java      |   2 +-
 .../exec/store/easy/text/TextFormatPlugin.java     |   2 +-
 .../store/parquet/AbstractParquetGroupScan.java    | 213 +++++++-----
 .../parquet/AbstractParquetScanBatchCreator.java   |   2 +-
 .../store/parquet/BaseParquetMetadataProvider.java | 251 ++++++++++----
 .../exec/store/parquet/FilterEvaluatorUtils.java   |  18 +-
 .../ParquetFileTableMetadataProviderBuilder.java   |   4 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |   2 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  17 +-
 .../store/parquet/ParquetGroupScanStatistics.java  |  39 +--
 .../exec/store/parquet/ParquetReaderUtility.java   |  52 ++-
 .../parquet/ParquetTableMetadataProviderImpl.java  |   6 +-
 .../store/parquet/ParquetTableMetadataUtils.java   | 276 +++++-----------
 .../FileSystemMetadataProviderManager.java         |   4 +-
 .../MetadataProviderManager.java                   |   4 +-
 .../ParquetMetadataProvider.java                   |  14 +-
 .../ParquetTableMetadataProvider.java              |   2 +-
 .../SimpleFileTableMetadataProvider.java           |  50 +--
 .../store/parquet/TestParquetFilterPushDown.java   |  34 +-
 metastore/file-metadata/pom.xml                    |  41 ---
 .../org/apache/drill/metastore/FileMetadata.java   | 114 -------
 .../apache/drill/metastore/FileTableMetadata.java  | 155 ---------
 .../apache/drill/metastore/ColumnStatistics.java   |  82 -----
 .../drill/metastore/ColumnStatisticsImpl.java      |  83 -----
 .../drill/metastore/ColumnStatisticsKind.java      | 184 -----------
 .../apache/drill/metastore/PartitionMetadata.java  | 135 --------
 .../apache/drill/metastore/RowGroupMetadata.java   | 118 -------
 .../drill/metastore/TableStatisticsKind.java       | 122 -------
 .../drill/metastore/metadata/BaseMetadata.java     | 148 +++++++++
 .../metastore/metadata/BaseTableMetadata.java      | 148 +++++++++
 .../drill/metastore/metadata/FileMetadata.java     |  91 +++++
 .../metastore/{ => metadata}/LocationProvider.java |   4 +-
 .../{BaseMetadata.java => metadata/Metadata.java}  |  16 +-
 .../drill/metastore/metadata/MetadataInfo.java     |  54 +++
 .../drill/metastore/metadata/MetadataType.java     |  61 ++++
 .../NonInterestingColumnsMetadata.java             |  29 +-
 .../metastore/metadata/PartitionMetadata.java      | 125 +++++++
 .../drill/metastore/metadata/RowGroupMetadata.java | 108 ++++++
 .../drill/metastore/metadata/SegmentMetadata.java  | 127 +++++++
 .../apache/drill/metastore/metadata/TableInfo.java | 108 ++++++
 .../metastore/{ => metadata}/TableMetadata.java    |  12 +-
 .../metastore/metadata}/TableMetadataProvider.java |  22 +-
 .../metadata}/TableMetadataProviderBuilder.java    |   2 +-
 .../metastore/statistics/BaseStatisticsKind.java   |  48 +++
 .../CollectableColumnStatisticsKind.java           |   4 +-
 .../CollectableTableStatisticsKind.java            |   8 +-
 .../metastore/statistics/ColumnStatistics.java     | 179 ++++++++++
 .../metastore/statistics/ColumnStatisticsKind.java | 172 ++++++++++
 .../statistics}/ExactStatisticsConstants.java      |   2 +-
 .../drill/metastore/statistics}/Histogram.java     |  15 +-
 .../impl => metastore}/statistics/Statistic.java   |   2 +-
 .../metastore/statistics/StatisticsHolder.java     |  76 +++++
 .../metastore/{ => statistics}/StatisticsKind.java |  22 +-
 .../metastore/statistics/TableStatisticsKind.java  | 116 +++++++
 .../util}/SchemaPathUtils.java                     |   4 +-
 .../drill/metastore/util/TableMetadataUtils.java   | 135 ++++++++
 .../metastore/metadata/MetadataSerDeTest.java      | 152 +++++++++
 metastore/pom.xml                                  |   1 -
 102 files changed, 2949 insertions(+), 1885 deletions(-)

commit 205e0289940e8b8342f3ae812640da331381ff16
Author: Fokko Driesprong <fokko@apache.org>
Date:   Thu Jun 20 15:41:57 2019 +0200

    DRILL-7302: Bump Apache Avro to 1.9.0
    
    Apache Avro 1.9.0 brings a lot of new features:
    
    Deprecate Joda-Time in favor of Java8 JSR310 and setting it as default
    Remove support for Hadoop 1.x
    Move from Jackson 1.x to 2.9
    Add ZStandard Codec
    Lots of updates on the dependencies to fix CVE's
    Remove Jackson classes from public API
    Apache Avro is built by default with Java 8
    Apache Avro is compiled and tested with Java 11 to guarantee compatibility
    Apache Avro MapReduce is compiled and tested with Hadoop 3
    Apache Avro is now leaner, multiple dependencies were removed: guava, paranamer, commons-codec, and commons-logging
    and many, many more!
    
    close apache/drill#1812

 .../org/apache/drill/exec/resourcemgr/config/selectors/AclSelector.java | 2 +-
 .../drill/exec/resourcemgr/config/selectors/NotEqualSelector.java       | 2 +-
 .../drill/exec/physical/impl/join/TestLateralJoinCorrectness.java       | 2 +-
 .../physical/impl/join/TestLateralJoinCorrectnessBatchProcessing.java   | 2 +-
 .../java/org/apache/drill/exec/physical/impl/scan/ScanTestUtils.java    | 2 +-
 pom.xml                                                                 | 2 +-
 6 files changed, 6 insertions(+), 6 deletions(-)

commit d1086772ee4d9f027d3fd6f4673aae43158d2172
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Jun 20 15:33:00 2019 +0300

    DRILL-7297: Query hangs in planning stage when Error is thrown
    
    close apache/drill#1811

 .../apache/drill/exec/work/foreman/Foreman.java    |  8 ++---
 .../java/org/apache/drill/TestFunctionsQuery.java  |  8 +++++
 .../exec/fn/impl/testing/CustomErrorFunction.java  | 42 ++++++++++++++++++++++
 3 files changed, 53 insertions(+), 5 deletions(-)

commit ddc2c02eb863dbea3b46f69bc3a33803397c35bf
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Thu Jun 6 10:47:57 2019 +0300

    DRILL-7268: Read Hive array with parquet native reader
    
    1. Fixed preserving of group originalType for projected schema
       in DrillParquetReader
    2. Added reading of LIST logical type to DrillParquetGroupConverter.
       Intermediate noop converter used to skip writing for next nested
       repeated field after recognition of parent field as LIST. For this
       skipRepeated 'true' passed to child converter's constructor.
    
    close apache/drill#1805

 .../drill/exec/store/hive/HiveUtilities.java       |    3 +-
 .../exec/hive/complex_types/TestHiveArrays.java    | 1439 ++++++++------------
 .../store/parquet2/DrillParquetGroupConverter.java |  349 +++--
 .../exec/store/parquet2/DrillParquetReader.java    |   30 +-
 .../parquet2/DrillParquetRecordMaterializer.java   |    2 +-
 .../store/parquet2/TestDrillParquetReader.java     |  855 ++++++++++++
 .../test/resources/parquet2/hive_arrays_p.parquet  |  Bin 0 -> 14270 bytes
 7 files changed, 1664 insertions(+), 1014 deletions(-)

commit f3f7dbd40f5e899f2aacba35db8f50ffedfa9d3d
Author: Paul Rogers <par0328@yahoo.com>
Date:   Wed Jun 12 17:31:56 2019 -0700

    DRILL-7292: Remove V1 and V2 text readers
    
    Drill 1.16 introduced the "V2" text reader based on the row set
    and provided schema mechanisms. V3 was available by system/session
    option as the functionality was considered experimental.
    
    The functionality has now undergone thorough testing. This commit makes
    the V3 text reader available by default, and removes the code for the
    original "V1" and the "new" (compliant, "V2") text reader.
    
    The system/session options that controlled reader selection are retained
    for backward compatibility, but they no longer do anything.
    
    Specific changes:
    
    * Removed the V2 "compliant" text reader.
    * Moved the "V3" to replace the "compliant" version.
    * Renamed the "complaint" package to "reader."
    * Removed the V1 text reader.
    * Moved the V1 text writer (still used with the V2 and V3 readers)
      into a new "writer" package adjacent to the reader.
    * Removed the CSV tests for the V2 reader, including those that
      demonstrated bugs in V2.
    * V2 did not properly handle the quote escape character. One or two unit
      tests depended on the broken behavior. Fixed them for the correct
      behavior.
    * Behavior of "messy quotes" (those that appear in a non-quoted field)
      was undefined for the text reader. Added a test to clearly demonstrate
      the (somewhat odd) behavior. The behavior itself was not changed.
    
    Reran all unit tests to ensure that they work with the now-default V3
    text reader.
    
    closes #1806

 .../java/org/apache/drill/exec/ExecConstants.java  |  19 +-
 .../impl/scan/columns/ColumnsArrayParser.java      |   2 +-
 .../exec/store/easy/text/TextFormatPlugin.java     |  57 +-
 .../text/compliant/CompliantTextRecordReader.java  | 256 -------
 .../easy/text/compliant/FieldVarCharOutput.java    | 234 ------
 .../store/easy/text/compliant/HeaderBuilder.java   | 263 -------
 .../easy/text/compliant/RepeatedVarCharOutput.java | 346 ---------
 .../exec/store/easy/text/compliant/TextInput.java  | 365 ---------
 .../exec/store/easy/text/compliant/TextOutput.java |  87 ---
 .../easy/text/compliant/TextParsingContext.java    | 122 ---
 .../easy/text/compliant/TextParsingSettings.java   | 291 -------
 .../exec/store/easy/text/compliant/TextReader.java | 511 -------------
 .../store/easy/text/compliant/package-info.java    |  27 -
 .../v3/StreamFinishedPseudoException.java          |  29 -
 .../{compliant/v3 => reader}/BaseFieldOutput.java  |   2 +-
 .../v3 => reader}/CompliantTextBatchReader.java    |   6 +-
 .../v3 => reader}/FieldVarCharOutput.java          |   2 +-
 .../{compliant/v3 => reader}/HeaderBuilder.java    |   2 +-
 .../v3 => reader}/RepeatedVarCharOutput.java       |   2 +-
 .../StreamFinishedPseudoException.java             |   9 +-
 .../text/{compliant/v3 => reader}/TextInput.java   |   6 +-
 .../text/{compliant/v3 => reader}/TextOutput.java  |   2 +-
 .../v3 => reader}/TextParsingContext.java          |   2 +-
 .../TextParsingSettings.java}                      |   7 +-
 .../text/{compliant/v3 => reader}/TextReader.java  |  27 +-
 .../{compliant/v3 => reader}/package-info.java     |   2 +-
 .../text/writer/TextRecordWriter.java}             |  14 +-
 .../exec/store/text/DrillTextRecordReader.java     | 244 ------
 .../org/apache/drill/TestSelectWithOption.java     |  13 +-
 .../drill/exec/store/TestImplicitFileColumns.java  |  16 +-
 .../store/easy/text/compliant/BaseCsvTest.java     |  10 -
 .../text/compliant}/TestCsvHeader.java             |   2 +-
 .../easy/text/compliant/TestCsvIgnoreHeaders.java  |  25 +-
 .../text/compliant/TestCsvTableProperties.java     |  67 ++
 .../easy/text/compliant/TestCsvWithHeaders.java    | 846 ++++++---------------
 .../easy/text/compliant/TestCsvWithSchema.java     | 188 +----
 .../easy/text/compliant/TestCsvWithoutHeaders.java | 344 +++------
 .../easy/text/compliant/TestHeaderBuilder.java     |   2 +-
 .../easy/text/compliant/TestPartitionRace.java     | 227 +-----
 .../text/compliant}/TestTextColumn.java            |  15 +-
 .../text/compliant/TestTextReader.java}            |  11 +-
 .../text/compliant}/TextRecordReaderTest.java      |   6 +-
 .../src/test/resources/store/text/data/letters.csv |   9 +-
 43 files changed, 517 insertions(+), 4200 deletions(-)

commit 24ec98043ecdce6af8ccb054cf44ae943cd6cb4e
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Jun 13 17:03:09 2019 +0300

    DRILL-7294: Regenerate protobufs

 .../org/apache/drill/common/types/DataMode.java    |   51 -
 .../org/apache/drill/common/types/MajorType.java   |  305 -----
 .../org/apache/drill/common/types/MinorType.java   |  123 --
 .../drill/common/types/SchemaTypeProtos.java       |   12 +-
 .../apache/drill/exec/proto/SchemaBitControl.java  |  120 +-
 .../org/apache/drill/exec/proto/SchemaBitData.java |   48 +-
 .../drill/exec/proto/SchemaCoordinationProtos.java |   36 +-
 .../apache/drill/exec/proto/SchemaExecProtos.java  |   24 +-
 .../drill/exec/proto/SchemaGeneralRPCProtos.java   |   36 +-
 .../drill/exec/proto/SchemaUserBitShared.java      |  264 ++--
 .../apache/drill/exec/proto/SchemaUserProtos.java  |  372 +++---
 .../org/apache/drill/exec/proto/beans/Ack.java     |  163 ---
 .../drill/exec/proto/beans/BitClientHandshake.java |  185 ---
 .../exec/proto/beans/BitControlHandshake.java      |  241 ----
 .../drill/exec/proto/beans/BitServerHandshake.java |  195 ---
 .../apache/drill/exec/proto/beans/BitStatus.java   |  175 ---
 .../drill/exec/proto/beans/BitToUserHandshake.java |  359 ------
 .../drill/exec/proto/beans/CatalogMetadata.java    |  207 ---
 .../drill/exec/proto/beans/CollateSupport.java     |   49 -
 .../apache/drill/exec/proto/beans/Collector.java   |  239 ----
 .../drill/exec/proto/beans/ColumnMetadata.java     |  515 --------
 .../exec/proto/beans/ColumnSearchability.java      |   55 -
 .../drill/exec/proto/beans/ColumnUpdatability.java |   51 -
 .../drill/exec/proto/beans/CompleteRpcMessage.java |  210 ---
 .../drill/exec/proto/beans/ConvertSupport.java     |  199 ---
 .../drill/exec/proto/beans/CoreOperatorType.java   |  171 ---
 .../exec/proto/beans/CorrelationNamesSupport.java  |   51 -
 .../proto/beans/CreatePreparedStatementReq.java    |  163 ---
 .../proto/beans/CreatePreparedStatementResp.java   |  211 ---
 .../drill/exec/proto/beans/CustomMessage.java      |  186 ---
 .../exec/proto/beans/DateTimeLiteralsSupport.java  |   79 --
 .../drill/exec/proto/beans/DrillPBError.java       |  341 -----
 .../exec/proto/beans/DrillServiceInstance.java     |  209 ---
 .../drill/exec/proto/beans/DrillbitEndpoint.java   |  351 -----
 .../drill/exec/proto/beans/ExceptionWrapper.java   |  243 ----
 .../drill/exec/proto/beans/FinishedReceiver.java   |  189 ---
 .../drill/exec/proto/beans/FragmentHandle.java     |  233 ----
 .../exec/proto/beans/FragmentRecordBatch.java      |  309 -----
 .../drill/exec/proto/beans/FragmentState.java      |   59 -
 .../drill/exec/proto/beans/FragmentStatus.java     |  189 ---
 .../drill/exec/proto/beans/GetCatalogsReq.java     |  165 ---
 .../drill/exec/proto/beans/GetCatalogsResp.java    |  221 ----
 .../drill/exec/proto/beans/GetColumnsReq.java      |  237 ----
 .../drill/exec/proto/beans/GetColumnsResp.java     |  221 ----
 .../exec/proto/beans/GetQueryPlanFragments.java    |  218 ----
 .../drill/exec/proto/beans/GetSchemasReq.java      |  189 ---
 .../drill/exec/proto/beans/GetSchemasResp.java     |  221 ----
 .../drill/exec/proto/beans/GetServerMetaResp.java  |  211 ---
 .../drill/exec/proto/beans/GetTablesReq.java       |  245 ----
 .../drill/exec/proto/beans/GetTablesResp.java      |  221 ----
 .../drill/exec/proto/beans/GroupBySupport.java     |   53 -
 .../drill/exec/proto/beans/HandshakeStatus.java    |   55 -
 .../drill/exec/proto/beans/IdentifierCasing.java   |   55 -
 .../exec/proto/beans/InitializeFragments.java      |  175 ---
 .../org/apache/drill/exec/proto/beans/Jar.java     |  195 ---
 .../apache/drill/exec/proto/beans/LikeFilter.java  |  185 ---
 .../exec/proto/beans/MajorFragmentProfile.java     |  197 ---
 .../apache/drill/exec/proto/beans/MetricValue.java |  207 ---
 .../exec/proto/beans/MinorFragmentProfile.java     |  399 ------
 .../apache/drill/exec/proto/beans/NamePart.java    |  237 ----
 .../apache/drill/exec/proto/beans/NodeStatus.java  |  185 ---
 .../drill/exec/proto/beans/NullCollation.java      |   55 -
 .../drill/exec/proto/beans/OperatorProfile.java    |  339 -----
 .../drill/exec/proto/beans/OrderBySupport.java     |   51 -
 .../drill/exec/proto/beans/OuterJoinSupport.java   |   61 -
 .../drill/exec/proto/beans/ParsingError.java       |  229 ----
 .../drill/exec/proto/beans/PlanFragment.java       |  495 --------
 .../drill/exec/proto/beans/PreparedStatement.java  |  199 ---
 .../exec/proto/beans/PreparedStatementHandle.java  |  164 ---
 .../apache/drill/exec/proto/beans/Property.java    |  199 ---
 .../exec/proto/beans/QueryContextInformation.java  |  229 ----
 .../apache/drill/exec/proto/beans/QueryData.java   |  233 ----
 .../org/apache/drill/exec/proto/beans/QueryId.java |  185 ---
 .../apache/drill/exec/proto/beans/QueryInfo.java   |  322 -----
 .../drill/exec/proto/beans/QueryPlanFragments.java |  255 ----
 .../drill/exec/proto/beans/QueryProfile.java       |  666 ----------
 .../apache/drill/exec/proto/beans/QueryResult.java |  263 ----
 .../drill/exec/proto/beans/QueryResultsMode.java   |   47 -
 .../apache/drill/exec/proto/beans/QueryType.java   |   55 -
 .../drill/exec/proto/beans/RecordBatchDef.java     |  241 ----
 .../apache/drill/exec/proto/beans/Registry.java    |  175 ---
 .../drill/exec/proto/beans/RequestResults.java     |  187 ---
 .../drill/exec/proto/beans/RequestStatus.java      |   53 -
 .../exec/proto/beans/ResultColumnMetadata.java     |  559 --------
 .../org/apache/drill/exec/proto/beans/Roles.java   |  256 ----
 .../apache/drill/exec/proto/beans/RpcChannel.java  |   51 -
 .../drill/exec/proto/beans/RpcEndpointInfos.java   |  317 -----
 .../apache/drill/exec/proto/beans/RpcHeader.java   |  207 ---
 .../org/apache/drill/exec/proto/beans/RpcMode.java |   55 -
 .../org/apache/drill/exec/proto/beans/RpcType.java |   95 --
 .../apache/drill/exec/proto/beans/RunQuery.java    |  287 -----
 .../drill/exec/proto/beans/RuntimeFilterBDef.java  |  337 -----
 .../apache/drill/exec/proto/beans/SaslMessage.java |  208 ---
 .../apache/drill/exec/proto/beans/SaslStatus.java  |   55 -
 .../apache/drill/exec/proto/beans/SaslSupport.java |   51 -
 .../drill/exec/proto/beans/SchemaMetadata.java     |  251 ----
 .../drill/exec/proto/beans/SerializedField.java    |  289 -----
 .../apache/drill/exec/proto/beans/ServerMeta.java  | 1341 --------------------
 .../proto/beans/ServerPreparedStatementState.java  |  163 ---
 .../exec/proto/beans/StackTraceElementWrapper.java |  251 ----
 .../drill/exec/proto/beans/StreamProfile.java      |  207 ---
 .../drill/exec/proto/beans/SubQuerySupport.java    |   57 -
 .../drill/exec/proto/beans/TableMetadata.java      |  229 ----
 .../drill/exec/proto/beans/UnionSupport.java       |   51 -
 .../drill/exec/proto/beans/UserCredentials.java    |  163 ---
 .../drill/exec/proto/beans/UserProperties.java     |  175 ---
 .../drill/exec/proto/beans/UserToBitHandshake.java |  347 -----
 .../apache/drill/exec/proto/beans/ValueMode.java   |   51 -
 .../drill/exec/proto/beans/WorkQueueStatus.java    |  209 ---
 109 files changed, 456 insertions(+), 21819 deletions(-)

commit 4eb726367adad2ae0981b6be311f9c4ec2f30c73
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Jun 13 17:02:43 2019 +0300

    DRILL-7294: Prevent generating java beans using protostuff to avoid overriding classes with the same simple name declared as nested in the proto files
    
    closes #1808

 .../apache/drill/exec/store/jdbc/JdbcSubScan.java  |  4 +--
 .../exec/coord/store/TransientStoreConfig.java     |  2 +-
 .../impl/statistics/AvgWidthMergedStatistic.java   |  7 ++---
 .../impl/statistics/NDVMergedStatistic.java        |  7 ++---
 .../drill/exec/serialization/ProtoSerializer.java  |  4 +--
 .../exec/store/sys/PersistentStoreConfig.java      |  2 +-
 exec/jdbc-all/pom.xml                              |  4 +--
 protocol/pom.xml                                   | 35 +++++-----------------
 8 files changed, 21 insertions(+), 44 deletions(-)

commit de0aec7951254949ae9206d6f63b5077684dac8a
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Tue May 14 20:16:46 2019 +0300

    DRILL-7251: Read Hive array w/o nulls
    
    1. HiveFieldConverter replaced by Hive writers for primitives
    2. Created HiveValueWriterFactory and HiveListWriter to implement arrays support
    4. Readers generation replaced by HiveDefaultRecordReader and HiveTextRecordReader
    5. Few reader initializers replaced by one
    6. Added method to repeated vardecimal writer
    7. Minor fix for array column in View

 contrib/storage-hive/core/pom.xml                  |   38 +
 .../storage-hive/core/src/main/codegen/config.fmpp |    1 -
 .../core/src/main/codegen/data/HiveFormats.tdd     |   50 -
 .../main/codegen/templates/HiveRecordReaders.java  |  178 --
 .../drill/exec/store/hive/HiveFieldConverter.java  |  241 ---
 .../exec/store/hive/HiveScanBatchCreator.java      |    6 +-
 .../drill/exec/store/hive/HiveUtilities.java       |    2 +-
 .../store/hive/readers/HiveAbstractReader.java     |  439 -----
 .../hive/readers/HiveDefaultRecordReader.java      |  530 ++++++
 .../store/hive/readers/HiveTextRecordReader.java   |  125 ++
 .../store/hive/readers/ReadersInitializer.java     |  127 ++
 .../initilializers/AbstractReadersInitializer.java |   78 -
 .../initilializers/DefaultReadersInitializer.java  |   53 -
 .../initilializers/EmptyReadersInitializer.java    |   46 -
 .../readers/initilializers/ReadersInitializer.java |   87 -
 .../inspectors/AbstractRecordsInspector.java       |    4 +-
 .../exec/store/hive/writers/HiveValueWriter.java   |   38 +
 .../store/hive/writers/HiveValueWriterFactory.java |  235 +++
 .../store/hive/writers/complex/HiveListWriter.java |   52 +
 .../exec/store/hive/writers/package-info.java      |   24 +
 .../primitive/AbstractSingleValueWriter.java       |   41 +
 .../hive/writers/primitive/HiveBinaryWriter.java   |   41 +
 .../hive/writers/primitive/HiveBooleanWriter.java  |   34 +
 .../hive/writers/primitive/HiveByteWriter.java     |   34 +
 .../hive/writers/primitive/HiveCharWriter.java     |   43 +
 .../hive/writers/primitive/HiveDateWriter.java     |   38 +
 .../hive/writers/primitive/HiveDecimalWriter.java  |   42 +
 .../primitive/HiveDoubleWriter.java}               |   24 +-
 .../hive/writers/primitive/HiveFloatWriter.java    |   34 +
 .../hive/writers/primitive/HiveIntWriter.java      |   34 +
 .../hive/writers/primitive/HiveLongWriter.java     |   34 +
 .../hive/writers/primitive/HiveShortWriter.java    |   34 +
 .../hive/writers/primitive/HiveStringWriter.java   |   43 +
 .../writers/primitive/HiveTimestampWriter.java     |   38 +
 .../hive/writers/primitive/HiveVarCharWriter.java  |   43 +
 .../apache/drill/exec/hive/HiveTestUtilities.java  |   28 +
 .../exec/hive/complex_types/TestHiveArrays.java    | 1778 ++++++++++++++++++++
 .../complex_types/array/bigint_array.json          |    3 +
 .../complex_types/array/boolean_array.json         |    3 +
 .../resources/complex_types/array/char_array.json  |    3 +
 .../resources/complex_types/array/date_array.json  |    3 +
 .../complex_types/array/decimal_array.json         |    3 +
 .../complex_types/array/double_array.json          |    3 +
 .../resources/complex_types/array/float_array.json |    3 +
 .../resources/complex_types/array/int_array.json   |    3 +
 .../complex_types/array/smallint_array.json        |    3 +
 .../complex_types/array/string_array.json          |    3 +
 .../complex_types/array/timestamp_array.json       |    3 +
 .../complex_types/array/tinyint_array.json         |    3 +
 .../complex_types/array/varchar_array.json         |    3 +
 .../java/org/apache/drill/exec/dotdrill/View.java  |    6 +
 .../org/apache/drill/test/DrillTestWrapper.java    |   14 +-
 .../src/main/codegen/templates/ComplexWriters.java |    7 +
 53 files changed, 3582 insertions(+), 1201 deletions(-)

commit 2766e653cda8b1de817b234c66b0058e707750d0
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon Jun 3 17:15:09 2019 +0300

    DRILL-7236: SqlLine 1.8 upgrade
    
    closes #1804

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0dbd501c0e2b46073dc3308f81c293452139822b
Author: Paul Rogers <par0328@yahoo.com>
Date:   Thu May 16 17:34:59 2019 -0700

    DRILL-7278: Refactor result set loader projection mechanism
    
    Drill 1.16 added a enhanced scan framework based on the row set
    mechanisms, and a "provisioned schema" feature build on top
    of that framework. Conversion of the log reader plugin to use
    the framework identified additional features we wish to add,
    such as marking a column as "special" (not expanded in a wildcard
    query.)
    
    This work identified that the code added for provisioned schemas in
    Drill 1.16 worked, but is a bit overly complex, making it hard to add
    the desired new feature.
    
    This patch refactors the "reader" projection code:
    
    * Create a "projection set" mechanism that the reader can query to ask,
      "the caller just added a column. Should it be projected or not?"
    * Unifies the type conversion mechanism added as part of provisioned
      schemas.
    * Added the "special column" property for both "reader" and "provided"
      schemas.
    * Verified that provisioned schemas work with maps (at least on the scan
      framework side.)
    * Replaced the previous "schema transformer" mechanism with a new "type
      conversion" mechanism that unifies type conversion, provided schemas
      and an optional custom type conversion mechanism.
    * Column writers can report if they are projected. Moved this query
      from metadata to the column writer itself.
    * Extended and clarified documentation of the feature.
    * Revised and/or added unit tests.
    
    closes #1797

 .../scan/project/AbstractUnresolvedColumn.java     |  38 +-
 .../scan/project/ReaderSchemaOrchestrator.java     |  18 +-
 .../impl/scan/project/ResolvedNullColumn.java      |  12 +
 .../impl/scan/project/ScanLevelProjection.java     |  63 ++-
 .../impl/scan/project/ScanSchemaOrchestrator.java  |  68 +--
 .../scan/project/WildcardSchemaProjection.java     |  35 +-
 .../physical/impl/scan/project/package-info.java   | 182 +++++-
 .../project/projSet/AbstractProjectionSet.java     |  80 +++
 .../scan/project/projSet/AbstractReadColProj.java  |  50 ++
 .../scan/project/projSet/EmptyProjectionSet.java   |  40 ++
 .../project/projSet/ExplicitProjectionSet.java     | 109 ++++
 .../scan/project/projSet/ProjectedMapColumn.java   |  39 ++
 .../scan/project/projSet/ProjectedReadColumn.java  |  78 +++
 .../scan/project/projSet/ProjectionSetBuilder.java | 101 ++++
 .../scan/project/projSet/ProjectionSetFactory.java |  79 +++
 .../impl/scan/project/projSet/TypeConverter.java   | 173 ++++++
 .../project/projSet/UnprojectedReadColumn.java     |  41 ++
 .../project/projSet/WildcardProjectionSet.java     |  55 ++
 .../impl/scan/project/projSet/package-info.java    |  99 ++++
 .../drill/exec/physical/rowSet/ProjectionSet.java  | 105 ++++
 .../exec/physical/rowSet/impl/ColumnBuilder.java   | 218 ++-----
 .../exec/physical/rowSet/impl/ColumnState.java     |   3 +-
 .../exec/physical/rowSet/impl/ContainerState.java  |  18 +-
 .../rowSet/impl/DefaultSchemaTransformer.java      |  77 ---
 .../drill/exec/physical/rowSet/impl/ListState.java |   7 +-
 .../exec/physical/rowSet/impl/LoaderInternals.java |   8 +
 .../exec/physical/rowSet/impl/OptionBuilder.java   |  47 +-
 .../physical/rowSet/impl/RepeatedListState.java    |   5 +-
 .../physical/rowSet/impl/ResultSetLoaderImpl.java  |  36 +-
 .../physical/rowSet/impl/SchemaTransformer.java    |  46 --
 .../rowSet/impl/SchemaTransformerImpl.java         | 194 -------
 .../exec/physical/rowSet/impl/TupleState.java      |  12 +-
 .../exec/physical/rowSet/impl/UnionState.java      |   5 +-
 .../rowSet/project/ImpliedTupleRequest.java        |   8 +-
 .../physical/rowSet/project/ProjectionType.java    | 178 ++++++
 .../rowSet/project/RequestedColumnImpl.java        |  29 +-
 .../physical/rowSet/project/RequestedTuple.java    |  14 +-
 .../rowSet/project/RequestedTupleImpl.java         |  30 +-
 .../record/metadata/AbstractColumnMetadata.java    |  34 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      | 138 +----
 .../exec/store/easy/text/TextFormatPlugin.java     |  78 +--
 .../easy/text/compliant/v3/FieldVarCharOutput.java |   2 +-
 .../text/compliant/v3/RepeatedVarCharOutput.java   |   2 +-
 .../physical/impl/scan/TestFileScanFramework.java  |   1 -
 .../impl/scan/TestScanOperExecOuputSchema.java     |  75 ++-
 .../impl/scan/TestScanOrchestratorEarlySchema.java |   8 +-
 .../impl/scan/project/TestScanLevelProjection.java | 208 +++++--
 .../scan/project/projSet/TestProjectionSet.java    | 625 +++++++++++++++++++++
 .../impl/TestResultSetLoaderEmptyProject.java      |  13 +-
 .../rowSet/impl/TestResultSetLoaderProjection.java |  92 +--
 .../impl/TestResultSetLoaderTypeConversion.java    |  22 +-
 .../{impl => project}/TestProjectedTuple.java      |  65 ++-
 .../rowSet/project/TestProjectionType.java         | 154 +++++
 .../record/metadata/TestMetadataProperties.java    |  20 -
 .../store/easy/text/compliant/BaseCsvTest.java     |   2 -
 .../apache/drill/exec/store/log/TestLogReader.java |  65 ++-
 .../drill/test/rowSet/test/TestDummyWriter.java    |  20 +-
 .../exec/record/metadata/AbstractPropertied.java   |   9 +
 .../drill/exec/record/metadata/ColumnMetadata.java |  30 +-
 .../drill/exec/record/metadata/ProjectionType.java | 102 ----
 .../drill/exec/record/metadata/Propertied.java     |   2 +
 .../drill/exec/vector/accessor/ColumnWriter.java   |  10 +
 .../drill/exec/vector/accessor/TupleWriter.java    |  15 -
 .../accessor/convert/AbstractWriteConverter.java   |   5 +
 .../accessor/writer/AbstractArrayWriter.java       |   3 +
 .../accessor/writer/AbstractObjectWriter.java      |   3 +
 .../accessor/writer/AbstractScalarWriterImpl.java  |   3 +
 .../accessor/writer/AbstractTupleWriter.java       |  12 +-
 .../exec/vector/accessor/writer/MapWriter.java     |  20 +-
 .../vector/accessor/writer/UnionWriterImpl.java    |   3 +
 .../accessor/writer/dummy/DummyArrayWriter.java    |   3 +
 .../accessor/writer/dummy/DummyScalarWriter.java   |   3 +
 72 files changed, 2918 insertions(+), 1329 deletions(-)

commit 20ae96a4d0de23d329de1b5534683fdaac8816a7
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sun May 26 23:32:40 2019 -0700

    DRILL-7279: Enable provided schema for text files without headers
    
    * Allows a provided schema for text files without headers. The
      provided schema columns replace the `columns` column that is
      normally used.
    * Allows customizing text format properties using table properties.
      The table properties "override" properties set in the plugin config.
    * Added unit tests for the newly supported use cases.
    * Fixed bug in quote escape handling.
    
    closes #1798

 .../impl/scan/project/ScanLevelProjection.java     |   2 +-
 .../impl/scan/project/ScanSchemaOrchestrator.java  |   2 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      | 140 ++++++-
 .../exec/store/easy/text/TextFormatPlugin.java     | 117 +++++-
 .../compliant/v3/CompliantTextBatchReader.java     |  17 +-
 .../store/easy/text/compliant/v3/TextInput.java    |   2 -
 .../text/compliant/v3/TextParsingSettingsV3.java   | 282 ++++++-------
 .../store/easy/text/compliant/v3/TextReader.java   |  43 +-
 .../store/easy/text/compliant/BaseCsvTest.java     |  25 ++
 .../easy/text/compliant/TestCsvIgnoreHeaders.java  |  11 +-
 .../text/compliant/TestCsvTableProperties.java     | 451 +++++++++++++++++++++
 .../easy/text/compliant/TestCsvWithSchema.java     |  27 +-
 .../easy/text/compliant/TestCsvWithoutHeaders.java |  10 +-
 .../exec/record/metadata/AbstractPropertied.java   |  13 +-
 .../drill/exec/record/metadata/Propertied.java     |   3 +-
 15 files changed, 917 insertions(+), 228 deletions(-)

commit 1bf7f1525374c9e414f89d5a17056e860a125510
Author: Paul Rogers <par0328@yahoo.com>
Date:   Sat May 25 20:40:22 2019 -0700

    DRILL-7261: Simplify Easy framework config for new scan
    
    Most format plugins are created using the Easy format plugin. A recent
    change added support for the "row set" scan framework. After converting
    the text and log reader plugins, it became clear that the setup code
    could be made simpler.
    
    * Add the user name to the "file scan" framework.
    * Pass the file system, split and user name to the batch reader via
      the "schema negotiator" rather than via the constructor.
    * Create the traditional "scan batch" scan or the new row-set scan via
      functions instead of classes.
    * Add Easy config option and method to choose the kind of scan
      framework.
    * Add Easy config options for some newer options such as whether the
      plugin supports statistics.
    
    Simplified reader creation
    
    * The batch reader can be created just by overriding a method.
    * A default error context is provided if the plugin does not provide
      one.
    
    Tested by running all unit tests for the CSV reader which is based on
    the new framework, and by testing the converted log reader (that reader
    is not part of this commit.)
    
    closes #1796

 .../physical/impl/scan/file/FileScanFramework.java |   8 +-
 .../impl/scan/framework/ManagedScanFramework.java  |   7 +
 .../impl/scan/framework/SchemaNegotiator.java      |   7 +
 .../impl/scan/framework/SchemaNegotiatorImpl.java  |   5 +
 .../exec/store/dfs/easy/EasyFormatPlugin.java      | 408 ++++++++++-----------
 .../exec/store/easy/text/TextFormatPlugin.java     | 142 +++----
 .../easy/text/compliant/TestCsvWithHeaders.java    |   4 +-
 7 files changed, 282 insertions(+), 299 deletions(-)

commit 8a7007f03397849b555a74297a6a637293958cc5
Author: Paul Rogers <par0328@yahoo.com>
Date:   Thu May 30 18:43:09 2019 -0700

    DRILL-7258: Remove field width limit for text reader
    
    The V2 text reader enforced a limit of 64K characters when using
    column headers, but not when using the columns[] array. The V3 reader
    enforced the 64K limit in both cases.
    
    This patch removes the limit in both cases. The limit now is the
    16MB vector size limit. With headers, no one column can exceed 16MB.
    With the columns[] array, no one row can exceed 16MB. (The 16MB
    limit is set by the Netty memory allocator.)
    
    Added an "appendBytes()" method to the scalar column writer which adds
    additional bytes to those already written for a specific column or
    array element value. The method is implemented for VarChar, Var16Char
     and VarBinary vectors. It throws an exception for all other types.
    
    When used with a type conversion shim, the appendBytes() method throws
    an exception. This should be OK because, the previous setBytes() should
    have failed because a huge value is not acceptable for numeric or date
    types conversions.
    
    Added unit tests of the append feature, and for the append feature in
    the batch overflow case (when appending bytes causes the vector or
    batch to overflow.) Also added tests to verify the lack of column width
    limit with the text reader, both with and without headers.
    
    closes #1802

 .../exec/physical/rowSet/impl/WriterIndexImpl.java |  3 +
 .../easy/text/compliant/v3/BaseFieldOutput.java    | 52 ++++++++++---
 .../easy/text/compliant/v3/FieldVarCharOutput.java | 12 +--
 .../text/compliant/v3/RepeatedVarCharOutput.java   |  7 +-
 .../store/easy/text/compliant/v3/TextInput.java    |  9 +--
 .../rowSet/impl/TestResultSetLoaderOverflow.java   | 76 +++++++++++++++++-
 .../store/easy/text/compliant/BaseCsvTest.java     | 20 +++++
 .../easy/text/compliant/TestCsvWithHeaders.java    | 25 ++++++
 .../easy/text/compliant/TestCsvWithoutHeaders.java | 29 +++++++
 .../apache/drill/test/rowSet/RowSetWriterImpl.java |  3 +
 .../drill/test/rowSet/test/PerformanceTool.java    |  5 +-
 .../test/rowSet/test/TestFixedWidthWriter.java     |  3 +
 .../test/rowSet/test/TestScalarAccessors.java      | 89 ++++++++++++++++++++++
 .../main/codegen/templates/ColumnAccessors.java    | 11 +++
 .../exec/vector/accessor/ColumnWriterIndex.java    | 13 +++-
 .../drill/exec/vector/accessor/ScalarWriter.java   |  1 +
 .../accessor/convert/AbstractWriteConverter.java   |  5 ++
 .../accessor/writer/AbstractArrayWriter.java       |  7 +-
 .../vector/accessor/writer/BaseScalarWriter.java   |  5 ++
 .../vector/accessor/writer/BaseVarWidthWriter.java |  7 ++
 .../exec/vector/accessor/writer/MapWriter.java     |  1 +
 .../accessor/writer/NullableScalarWriter.java      |  8 ++
 .../accessor/writer/OffsetVectorWriterImpl.java    |  6 ++
 .../vector/accessor/writer/ScalarArrayWriter.java  |  3 +
 .../accessor/writer/dummy/DummyScalarWriter.java   |  3 +
 25 files changed, 376 insertions(+), 27 deletions(-)

commit 2615d68de4e44b1f03f5c047018548c06a7396b4
Author: Dmytriy Grinchenko <dmytriy.grinchenko@gmail.com>
Date:   Mon May 6 09:01:29 2019 +0300

    DRILL-4782 / DRILL-7139: Fix DATE_ADD and TO_TIME functions
    
    - cast function for the day interval changed to round milliseconds to complete days
    - ToDateTypeFunctions#toTime now returning milliseconds of day
    - updated the way how DayInterval subtracts and adds, to follow the cast function logic
    
    UT core updates:
    
    - added vectorValue function to the queryBuilder to simplify retrieving value of the vector
    - refactored singleton query result functions at queryBuilder

 .../templates/CastStringTypesToInterval.java       |  29 ++--
 .../IntervalIntervalArithmetic.java                |  22 ++-
 .../ToDateTypeFunctions.java                       |   2 +-
 .../expr/fn/impl/TestIntervalDayFunctions.java     |  95 +++++++++++++
 .../drill/exec/fn/impl/TestCastFunctions.java      |  69 +++++----
 .../exec/fn/impl/testing/TestDateConversions.java  |  12 ++
 .../java/org/apache/drill/test/QueryBuilder.java   | 154 +++++++++++++++------
 7 files changed, 304 insertions(+), 79 deletions(-)

commit e8b921bae513f00ef0ede0d2787f311aea60cea0
Author: Dmytriy Grinchenko <dmytriy.grinchenko@gmail.com>
Date:   Tue May 14 11:48:50 2019 +0300

    DRILL-7196: Queries are still runnable on disabled plugins
    
    - Storage client is not created anymore for disabled plugins
    - GET "/storage/{name}.json" endpoint now working with
      plugin configuration directly, without client instantination.
      It have increased UI responsitivity.
    - Hbase and mongo base test classes refactored to honor enabled
      plugin attribute
    - Fixed path contructor for mongo test datasets:
      Now it is cross-platform
    - Fixed test json files format which using plugin definitions
    - Code cleanup

 common/src/test/resources/basic_physical.json      |  51 +++---
 common/src/test/resources/dsort-logical.json       |  48 ++---
 common/src/test/resources/jdbc_plan.json           |   4 +-
 common/src/test/resources/simple_plan.json         | 159 ++++++++---------
 common/src/test/resources/storage_engine_plan.json |   5 +-
 contrib/native/client/resources/simple_plan.json   | 126 ++++++-------
 .../exec/store/hbase/HBaseStoragePluginConfig.java |   2 +-
 .../main/resources/bootstrap-storage-plugins.json  |   8 +-
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |  30 ++--
 .../hbase/hbase_scan_screen_physical.json          |  31 ++--
 .../hbase_scan_screen_physical_column_select.json  |  33 ++--
 .../hbase_scan_screen_physical_family_select.json  |  33 ++--
 .../exec/store/hive/schema/HiveSchemaFactory.java  |   1 -
 .../main/resources/bootstrap-storage-plugins.json  |   8 +-
 .../main/resources/bootstrap-storage-plugins.json  |   8 +-
 .../main/resources/bootstrap-storage-plugins.json  |   8 +-
 .../test/resources/bootstrap-storage-plugins.json  |   8 +-
 .../main/resources/bootstrap-storage-plugins.json  |   8 +-
 .../drill/exec/store/mongo/MongoTestBase.java      |  71 ++------
 .../drill/exec/store/mongo/MongoTestConstants.java |  78 ++++-----
 .../drill/exec/store/mongo/MongoTestSuit.java      |  82 ++++-----
 .../exec/store/mongo/TestMongoFilterPushDown.java  |  34 ++--
 .../exec/store/mongo/TestMongoProjectPushDown.java |  36 ++--
 .../drill/exec/store/mongo/TestMongoQueries.java   |  79 +++++----
 .../drill/exec/store/mongo/TestTableGenerator.java |  10 +-
 .../main/resources/bootstrap-storage-plugins.json  |   8 +-
 .../org/apache/calcite/jdbc/DynamicRootSchema.java |  16 +-
 .../drill/exec/server/rest/StorageResources.java   |   9 +-
 .../exec/store/StoragePluginRegistryImpl.java      |  38 ++--
 .../main/resources/bootstrap-storage-plugins.json  | 194 ++++++++++-----------
 .../drill/exec/store/store/TestDisabledPlugin.java |   6 +
 .../src/test/resources/agg/hashagg/q6.json         |  77 ++++----
 .../src/test/resources/agg/hashagg/q7_1.json       |  69 ++++----
 .../src/test/resources/agg/hashagg/q7_2.json       |  69 ++++----
 .../src/test/resources/agg/hashagg/q7_3.json       |  67 +++----
 .../src/test/resources/agg/hashagg/q8.json         |  61 +++----
 .../src/test/resources/agg/hashagg/q8_1.json       |  95 +++++-----
 .../src/test/resources/common/test_hashtable1.json |  64 ++++---
 .../test/resources/decimal/cast_decimal_float.json |  67 ++++---
 .../test/resources/decimal/cast_decimal_int.json   |  67 ++++---
 .../resources/decimal/cast_decimal_vardecimal.json | 106 ++++++-----
 .../test/resources/decimal/cast_float_decimal.json |  74 ++++----
 .../test/resources/decimal/cast_int_decimal.json   |  67 ++++---
 .../resources/decimal/cast_simple_decimal.json     |  77 ++++----
 .../resources/decimal/cast_vardecimal_decimal.json |  73 ++++----
 .../decimal/simple_decimal_arithmetic.json         | 102 ++++++-----
 .../resources/decimal/simple_decimal_math.json     |  69 ++++----
 .../resources/decimal/test_decimal_complex.json    |  95 +++++-----
 .../decimal/test_decimal_dense_sparse.json         | 129 ++++++--------
 .../decimal/test_decimal_sort_complex.json         |  98 +++++------
 .../decimal/test_decimal_sparse_dense_dense.json   |  40 ++---
 .../functions/cast/testCastVarCharNull.json        |  64 ++++---
 .../cast/test_cast_varchar_to_bigint.json          |  60 ++++---
 .../conv/conversionTestWithLogicalPlan.json        | 138 +++++++++------
 .../src/test/resources/functions/date/age.json     |  61 ++++---
 .../functions/date/date_difference_arithmetic.json |  57 +++---
 .../functions/date/date_interval_arithmetic.json   | 100 +++++++----
 .../functions/date/interval_arithmetic.json        |  93 ++++++----
 .../src/test/resources/functions/date/to_char.json |  57 +++---
 .../resources/functions/date/to_date_type.json     |  60 ++++---
 .../src/test/resources/functions/extractFrom.json  |  81 +++++----
 .../test/resources/functions/test_covariance.json  |  55 +++---
 .../resources/functions/test_logical_aggr.json     |  53 +++---
 .../resources/functions/test_stddev_variance.json  |  24 +--
 exec/java-exec/src/test/resources/hive/test.json   | 141 ++++++++-------
 .../src/test/resources/join/hashJoinExpr.json      |   2 +-
 .../src/test/resources/join/hash_join.json         | 109 ++++++------
 .../src/test/resources/join/hj_exchanges.json      |  19 +-
 .../src/test/resources/join/hj_exchanges1.json     |   3 +-
 .../resources/join/hj_multi_condition_join.json    | 123 +++++++------
 .../src/test/resources/join/mergeJoinExpr.json     |   2 +-
 .../resources/join/merge_inner_single_batch.json   |  81 +++++----
 .../test/resources/join/merge_join_nullkey.json    |   2 +-
 .../src/test/resources/join/merge_multi_batch.json |  82 +++++----
 .../test/resources/join/merge_single_batch.json    |  82 +++++----
 .../test/resources/join/mj_multi_condition.json    |   5 +-
 .../largefiles/merging_receiver_large_data.json    |  11 +-
 .../test/resources/lateraljoin/lateralplan1.json   |   9 +-
 .../src/test/resources/limit/limit_exchanges.json  |   9 +-
 .../src/test/resources/logical_group.json          | 133 +++++++-------
 .../src/test/resources/logical_json_scan.json      |  51 +++---
 .../src/test/resources/logical_order.json          |  85 ++++-----
 .../src/test/resources/logical_string_filter.json  |  77 ++++----
 .../test/resources/parquet/par_writer_test.json    |  42 ++---
 .../parquet/parquet_group_scan_union_screen.json   |  81 ++++-----
 .../test/resources/parquet/parquet_nullable.json   |  66 ++++---
 .../resources/parquet/parquet_nullable_varlen.json |  68 ++++----
 .../resources/parquet/parquet_scan_screen.json     |  70 ++++----
 .../parquet_scan_screen_read_entry_replace.json    |   3 +-
 .../parquet_scan_union_screen_physical.json        |  48 +++--
 .../parquet/parquet_selective_column_read.json     |  40 ++---
 .../src/test/resources/physical_filter.json        |  64 +++----
 .../src/test/resources/physical_join.json          | 182 +++++++++----------
 .../test/resources/physical_json_scan_test1.json   |  54 +++---
 .../test/resources/physical_order_varbinary.json   |  73 ++++----
 .../record/vector/test_all_date_literals.json      |  61 ++++---
 .../test/resources/record/vector/test_date.json    |  50 +++---
 .../resources/record/vector/test_date_add.json     |  53 +++---
 .../resources/record/vector/test_interval.json     |  64 +++----
 .../resources/record/vector/test_sort_date.json    |  91 +++++-----
 .../resources/record/vector/test_timestamp.json    |  50 +++---
 .../src/test/resources/scan_screen_logical.json    |  75 ++++----
 .../test/resources/sender/broadcast_exchange.json  |  92 +++++-----
 .../src/test/resources/sender/hash_exchange2.json  |  84 +++++----
 .../json/project_pushdown_json_physical_plan.json  |   4 +-
 .../src/test/resources/store/text/test.json        |  73 ++++----
 .../test/resources/writer/simple_csv_writer.json   | 158 +++++++++--------
 107 files changed, 3231 insertions(+), 3142 deletions(-)

commit 20b58ab54249525a564a41e43cc8b8fe1db9a6bc
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Wed May 15 13:05:56 2019 +0300

    DRILL-7204: Add proper validation when creating plugin
    
    - Added validation for an empty plugin name.
    - Added an URL encoding for pluing name, so plugins with special characters can be accessed without issues.
    - Replaced alerts with modal windows.
    - Added a confirmation dialog when disabling a plugin on Update page.

 .../drill/exec/server/rest/StorageResources.java   |  4 ++
 .../src/main/resources/rest/confirmationModals.ftl | 54 ++++++++++++++++++++++
 .../src/main/resources/rest/storage/list.ftl       | 21 +++++++--
 .../src/main/resources/rest/storage/update.ftl     | 29 ++++++++----
 4 files changed, 94 insertions(+), 14 deletions(-)

commit 7629664b1335b77d7a7de2cc26d6241e3db604cb
Author: weijie.tong <weijie.tong@alipay.com>
Date:   Wed Apr 24 20:37:40 2019 +0800

    DRILL-7206:using primitive int list at right or full join case

 .../org/apache/drill/exec/physical/impl/common/HashPartition.java    | 3 ++-
 .../org/apache/drill/exec/physical/impl/join/HashJoinHelper.java     | 5 +++--
 .../apache/drill/exec/physical/impl/join/HashJoinProbeTemplate.java  | 4 ++--
 3 files changed, 7 insertions(+), 5 deletions(-)

commit 5542cc98f38003f028d97f95d257604c91723d70
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Thu May 23 19:41:45 2019 +0300

    DRILL-7276: Fixed an XSS vulnerability in Drill Web-UI query profile page

 exec/java-exec/src/main/resources/rest/alertModals.ftl    | 11 ++++++++++-
 exec/java-exec/src/main/resources/rest/static/js/graph.js |  2 +-
 2 files changed, 11 insertions(+), 2 deletions(-)

commit 9f67e95a91824a617785764f1bfbf1faa768526d
Author: Paul Rogers <par0328@yahoo.com>
Date:   Wed May 15 19:35:19 2019 -0700

    DRILL-7181: Improve V3 text reader (row set) error messages
    
    Adds an error context to the User Error mechanism. The context allows
    information to be passed through an intermediate layer and applied when
    errors are raised in lower-level code; without the need for that
    low-level code to know the details of the error context information.
    
    Modifies the scan framework and V3 text plugin to use the framework to
    improve error messages.
    
    Refines how the `columns` column can be used with the text reader. If
    headers are used, then `columns` is just another column. An error is
    raised, however, if `columns[x]` is used when headers are enabled.
    
    Added another builder abstraction where a constructor argument list
    became too long.
    
    Added the drill file system and split to the file schema negotiator
    to simplify reader construction.
    
    Added additional unit tests to fully define the `columns` column
    behavior.

 .../drill/common/exceptions/ChildErrorContext.java |  41 ++++++++
 .../common/exceptions/CustomErrorContext.java      |  44 ++++++++
 .../drill/common/exceptions/EmptyErrorContext.java |  26 +++++
 .../drill/common/exceptions/UserException.java     |   7 ++
 .../impl/scan/columns/ColumnsArrayParser.java      |  40 ++++++--
 .../physical/impl/scan/file/FileScanFramework.java |  69 +++++++++++--
 .../impl/scan/framework/ManagedScanFramework.java  |   3 +
 .../impl/scan/framework/SchemaNegotiator.java      |  16 +++
 .../impl/scan/framework/SchemaNegotiatorImpl.java  |  16 +++
 .../impl/scan/framework/ShimBatchReader.java       |   3 +-
 .../scan/project/ExplicitSchemaProjection.java     |  21 ++--
 .../scan/project/ReaderSchemaOrchestrator.java     |   8 ++
 .../impl/scan/project/ScanLevelProjection.java     | 106 ++++++++++++++++---
 .../impl/scan/project/ScanSchemaOrchestrator.java  |  42 ++++++--
 .../exec/physical/rowSet/ResultSetLoader.java      |   8 ++
 .../exec/physical/rowSet/impl/ColumnBuilder.java   |  33 ++----
 .../exec/physical/rowSet/impl/OptionBuilder.java   |  16 ++-
 .../physical/rowSet/impl/ResultSetLoaderImpl.java  |  13 ++-
 .../rowSet/impl/SchemaTransformerImpl.java         |   6 +-
 .../exec/store/easy/text/TextFormatPlugin.java     |  25 ++++-
 .../compliant/v3/CompliantTextBatchReader.java     |  18 ++--
 .../exec/physical/impl/scan/TestColumnsArray.java  |  41 +++++++-
 .../impl/scan/TestColumnsArrayFramework.java       |   9 +-
 .../physical/impl/scan/TestColumnsArrayParser.java |  40 ++++----
 .../impl/scan/TestFileMetadataColumnParser.java    |  35 +++----
 .../impl/scan/TestFileMetadataProjection.java      |  12 +--
 .../physical/impl/scan/TestFileScanFramework.java  |   5 +-
 .../scan/project/TestReaderLevelProjection.java    |  28 ++---
 .../impl/scan/project/TestScanLevelProjection.java |  22 ++--
 .../impl/scan/project/TestSchemaSmoothing.java     |  30 +++---
 .../exec/physical/rowSet/impl/RowSetTestUtils.java |   2 +-
 .../impl/TestResultSetLoaderTypeConversion.java    |   3 +-
 .../easy/text/compliant/TestCsvWithHeaders.java    | 113 ++++++++++++++++++++-
 .../easy/text/compliant/TestCsvWithoutHeaders.java |  60 +++++++++--
 .../drill/exec/record/metadata/ProjectionType.java |  17 ++++
 35 files changed, 783 insertions(+), 195 deletions(-)

commit 2c1a8a0afa3a1d8853e7651f1b3d47d52969f50a
Author: Paul Rogers <par0328@yahoo.com>
Date:   Thu May 16 14:54:39 2019 -0700

    DRILL-7257: Set nullable var-width vector lastSet value
    
    Turns out this is due to a subtle issue with variable-width nullable
    vectors. Such vectors have a lastSet attribute in the Mutator class.
    When using "transfer pairs" to copy values, the code somehow decides
    to zero-fill from the lastSet value to the record count. The row set
    framework did not set this value, meaning that the RemovingRecordBatch
    zero-filled the dir0 column when it chose to use transfer pairs rather
    than copying values. The use of transfer pairs occurs when all rows in
    a batch pass the filter prior to the removing record batch.
    
    Modified the nullable vector writer to properly set the lastSet value at
    the end of each batch. Added a unit test to verify the value is set
    correctly.
    
    Includes a bit of code clean-up.

 .../physical/impl/svremover/AbstractSV2Copier.java | 19 +++++++---------
 .../physical/impl/svremover/GenericSV2Copier.java  |  8 +++----
 .../apache/drill/exec/record/VectorAccessible.java |  2 +-
 .../apache/drill/exec/record/VectorContainer.java  |  5 ++---
 .../exec/record/selection/SelectionVector2.java    | 10 ++++-----
 .../test/rowSet/test/TestScalarAccessors.java      | 13 +++++++----
 .../codegen/templates/NullableValueVectors.java    | 25 ++++++++++++----------
 .../apache/drill/exec/vector/NullableVector.java   |  1 +
 .../accessor/writer/NullableScalarWriter.java      |  3 +++
 9 files changed, 46 insertions(+), 40 deletions(-)

commit 35d1af4a8bee15fc36a8a4bf683bf5c477cca5d4
Author: Bhargava Vadlamani <vvadlamani@fanatics.com>
Date:   Fri May 17 11:45:22 2019 -0700

    DRILL-7267: Add Slack Link in Documentation

 README.md | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 5da0d479a0fca9371487e4ea046fb75e253f47a5
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed May 15 00:45:24 2019 +0300

    DRILL-7250: Query with CTE fails when its name matches to the table name without access

 .../org/apache/calcite/jdbc/DynamicRootSchema.java |  2 ++
 .../drill/exec/planner/sql/SqlConverter.java       | 41 ++++++++++------------
 .../impersonation/TestImpersonationQueries.java    | 16 ++++++++-
 pom.xml                                            |  2 +-
 4 files changed, 36 insertions(+), 25 deletions(-)

commit 05a1a3a888a7408bde683acc36f406fbd2459254
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed May 8 14:41:11 2019 -0700

    DRILL-7242: Handle additional boundary cases and compute better estimates when popular values span multiple buckets.
    
    Address review comments.
    
    close apache/drill#1785

 .../drill/exec/planner/common/Histogram.java       |   2 +-
 .../planner/common/NumericEquiDepthHistogram.java  | 125 ++++++++++++++-------
 .../exec/planner/cost/DrillRelMdSelectivity.java   |   3 +-
 .../common/TestNumericEquiDepthHistogram.java      | 113 +++++++++++++++++++
 .../org/apache/drill/exec/sql/TestAnalyze.java     |  12 ++
 5 files changed, 215 insertions(+), 40 deletions(-)

commit 0195d1f34be7fd385ba76d2fd3e14a9fa13bd375
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Mon May 6 17:35:12 2019 +0300

    DRILL-7237: Fix single_value aggregate function for variable length types
    
    - Add implementations of single_value for complex data types
    
    closes #1782

 exec/java-exec/src/main/codegen/config.fmpp        |   1 -
 .../java-exec/src/main/codegen/data/AggrTypes1.tdd | 148 ++++++++-----
 .../src/main/codegen/data/DecimalAggrTypes1.tdd    |   6 +-
 .../src/main/codegen/data/SingleValue.tdd          |  62 ------
 .../main/codegen/templates/AggrTypeFunctions1.java | 237 +++++++++++----------
 .../codegen/templates/ComplexAggrFunctions1.java   | 124 ++++++-----
 .../templates/DateIntervalAggrFunctions1.java      |  13 +-
 .../Decimal/DecimalAggrTypeFunctions1.java         |  38 +---
 .../src/main/codegen/templates/SingleValueAgg.java | 144 -------------
 .../codegen/templates/VarCharAggrFunctions1.java   |   9 +-
 .../test/java/org/apache/drill/PlanTestBase.java   |   5 +-
 .../java/org/apache/drill/TestExampleQueries.java  |  15 ++
 .../drill/exec/fn/impl/TestAggregateFunctions.java | 115 +++++++++-
 13 files changed, 442 insertions(+), 475 deletions(-)

commit 0fa29677aea131727459c23602080fdf307c9ae1
Author: Gautam Parai <gparai@maprtech.com>
Date:   Tue May 7 17:44:44 2019 -0700

    DRILL-7245: Cap NDV at row count after applying filters
    
    closes #1786

 .../drill/exec/planner/cost/DrillRelMdDistinctRowCount.java   | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit b774eec8cc63bd49f638fdf743cf759ee918d50d
Author: Gautam Parai <gparai@maprtech.com>
Date:   Tue Apr 30 14:00:16 2019 -0700

    DRILL-7227: Fix predicate check in DrillRelOptUtil.analyzeSimpleEquiJoin
    
    closes #1775

 .../drill/exec/planner/common/DrillRelOptUtil.java | 10 +++-
 .../planner/cost/DrillRelMdDistinctRowCount.java   | 64 +++++++++++++++-------
 .../org/apache/drill/exec/sql/TestAnalyze.java     |  2 +-
 3 files changed, 53 insertions(+), 23 deletions(-)

commit e5e9b35588c06de6ba5b0b072567031daa50e00c
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Tue May 7 13:30:21 2019 -0700

    DRILL-7240: Catch runtime pruning filter-match exceptions and do not prune these rowgroups
    
    closes #1783

 .../parquet/AbstractParquetScanBatchCreator.java   | 37 +++++++++++++++-------
 1 file changed, 26 insertions(+), 11 deletions(-)

commit 3603f240922389939ca0498face0eb255448ea53
Author: Venkata Jyothsna Donapati <jyothsna.dvj@gmail.com>
Date:   Fri May 3 15:21:59 2019 -0700

    DRILL-7238: Fixed ConvertCountToDirectScan to handle non-existent columns
    
    closes #1781

 .../logical/ConvertCountToDirectScanRule.java      |  6 +++-
 .../logical/TestConvertCountToDirectScan.java      | 37 ++++++++++++++++++++++
 2 files changed, 42 insertions(+), 1 deletion(-)

commit 4a0d2d01a702f20df9204da39f55f3da4d6a7143
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Thu Apr 18 14:50:38 2019 -0700

    DRILL-7164: KafkaFilterPushdownTest is sometimes failing to pattern match correctly
    
    closes #1760

 .../exec/store/kafka/KafkaFilterPushdownTest.java  | 74 ++++++++++++++--------
 .../test/java/org/apache/drill/PlanTestBase.java   | 48 +++++++++-----
 2 files changed, 79 insertions(+), 43 deletions(-)

commit c1ca512ea54cc7fe1b7ee581f21aa84a95aab14f
Author: Gautam Parai <gparai@maprtech.com>
Date:   Tue Mar 19 12:04:13 2019 -0700

    DRILL-7148: Use improved join cardinality and ndv estimation with statistics
    
    closes #1744

 .../exec/planner/common/DrillJoinRelBase.java      |  34 ++--
 .../drill/exec/planner/common/DrillRelOptUtil.java |  62 +++++++
 .../drill/exec/planner/common/DrillStatsTable.java |   2 +-
 .../planner/cost/DrillRelMdDistinctRowCount.java   | 181 +++++++++++++++++----
 .../exec/planner/cost/DrillRelMdRowCount.java      |  41 +++--
 .../exec/planner/cost/DrillRelMdSelectivity.java   |  40 +++--
 .../exec/planner/physical/PlannerSettings.java     |   6 +
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../java/org/apache/drill/exec/util/Utilities.java |   2 +-
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 .../org/apache/drill/exec/sql/TestAnalyze.java     |  12 +-
 .../drill/metastore/ColumnStatisticsKind.java      |   2 +-
 12 files changed, 295 insertions(+), 89 deletions(-)

commit edbfd64c4b7d8b7af406a507e959e5856185eaea
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Mon Apr 15 19:24:11 2019 +0300

    DRILL-7030: Make format plugins fully pluggable
    
    - Bootstrap files for format plugins were introduced and added to the existing plugins in contrib.
    - Formats from these files are being added dynamically to the corresponding storage plugins.
    
    closes #1780

 .../main/resources/bootstrap-format-plugins.json   | 26 +++++++
 .../main/resources/bootstrap-format-plugins.json   | 20 +++++
 .../main/resources/bootstrap-format-plugins.json   | 26 +++++++
 .../java/org/apache/drill/exec/ExecConstants.java  |  1 +
 .../exec/store/StoragePluginRegistryImpl.java      | 88 ++++++++++++++++++----
 .../drill/exec/store/dfs/FileSystemConfig.java     |  3 +-
 6 files changed, 148 insertions(+), 16 deletions(-)

commit ba9837e0f7f1858ad3b6dba32e215b162df42d28
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sun Apr 21 11:15:50 2019 -0700

    DRILL-7187: Improve selectivity estimation of BETWEEN predicates and arbitrary combination of range predicates.
    
    Address review comments.
    
    Modify unit test expected rowcount after rebasing.
    
    close apache/drill#1772

 .../drill/exec/planner/common/DrillStatsTable.java |   9 +-
 .../drill/exec/planner/common/Histogram.java       |   3 +-
 .../planner/common/NumericEquiDepthHistogram.java  | 300 ++++++++++++---------
 .../exec/planner/cost/DrillRelMdSelectivity.java   |  84 +++++-
 .../org/apache/drill/exec/sql/TestAnalyze.java     |  28 ++
 .../drill/metastore/ColumnStatisticsKind.java      |  17 ++
 6 files changed, 308 insertions(+), 133 deletions(-)

commit 99707a3e0938c15d57ccfd8dbc7c15ae4877067f
Author: Venkata Jyothsna Donapati <jyothsna.dvj@gmail.com>
Date:   Tue Apr 23 12:05:49 2019 -0700

    DRILL-7199: Optimize population of metadata for non-interesting columns
    closes #1771

 .../base/AbstractGroupScanWithMetadata.java        | 48 +++++++++++---
 .../base/SimpleFileTableMetadataProvider.java      |  6 ++
 .../store/parquet/AbstractParquetGroupScan.java    |  3 +
 .../store/parquet/BaseParquetMetadataProvider.java | 13 +++-
 .../exec/store/parquet/FilterEvaluatorUtils.java   |  8 +++
 .../store/parquet/ParquetTableMetadataUtils.java   | 29 +++++----
 .../exec/physical/base/TableMetadataProvider.java  |  7 ++
 .../metastore/NonInterestingColumnsMetadata.java   | 74 ++++++++++++++++++++++
 8 files changed, 165 insertions(+), 23 deletions(-)

commit 7e0e583c968aea62eb73c154f66c76136f2f9c12
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Mon Apr 22 14:49:53 2019 +0300

    DRILL-7050: RexNode convert exception in sub-query
    closes #1770

 .../drill/exec/planner/sql/SqlConverter.java       | 13 +++++++++++
 .../java/org/apache/drill/TestCorrelation.java     | 25 +++++++++++++++++++++-
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  | 19 ++++++++++++++++
 pom.xml                                            |  2 +-
 4 files changed, 57 insertions(+), 2 deletions(-)

commit 772f7918700b89a0db545ce610e23bc32a5f55b2
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Mar 19 19:43:48 2019 +0200

    DRILL-6965: Implement schema table function parameter
    
    1. Added common schema table function parameter with can be used as single unit or with format plugin table function parameters.
    2. Allowed creating schema without columns, in case if user needs only to indicate table properties.
    3. Added unit tests.
    closes #1777

 .../record/metadata/schema/parser/SchemaParser.g4  |   4 +-
 .../src/main/codegen/includes/parserImpls.ftl      |   4 +-
 .../base/FileSystemMetadataProviderManager.java    |  12 +-
 .../physical/base/MetadataProviderManager.java     |  10 +-
 .../base/SimpleFileTableMetadataProvider.java      |   5 +-
 .../drill/exec/planner/logical/DrillTable.java     |   8 +-
 .../drill/exec/planner/sql/SqlConverter.java       |   2 +-
 .../exec/planner/sql/handlers/SchemaHandler.java   |  49 ++--
 .../drill/exec/planner/sql/parser/SqlSchema.java   |  22 +-
 .../record/metadata/AbstractColumnMetadata.java    |   6 +-
 .../drill/exec/record/metadata/TupleSchema.java    |   4 +-
 .../metadata/schema/FsMetastoreSchemaProvider.java |   2 +-
 .../metadata/schema/InlineSchemaProvider.java      |   9 +-
 .../record/metadata/schema/PathSchemaProvider.java |   2 +-
 .../record/metadata/schema/SchemaContainer.java    |   8 +-
 .../metadata/schema/SchemaProviderFactory.java     |  87 +++++++
 .../metadata/schema/parser/SchemaExprParser.java   |  23 +-
 .../metadata/schema/parser/SchemaVisitor.java      |  45 ++--
 .../apache/drill/exec/store/AbstractSchema.java    |  98 +++++++-
 .../store/dfs/FormatPluginOptionExtractor.java     |  35 +--
 .../store/dfs/FormatPluginOptionsDescriptor.java   |  61 ++---
 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 212 ++++--------------
 .../exec/store/table/function/TableParamDef.java   | 105 +++++++++
 .../exec/store/table/function/TableSignature.java  |  98 ++++++++
 .../table/function/WithOptionsTableMacro.java      |  91 ++++++++
 .../java/org/apache/drill/TestSchemaCommands.java  |  64 +++++-
 .../apache/drill/TestSchemaWithTableFunction.java  | 249 +++++++++++++++++++++
 .../org/apache/drill/TestSelectWithOption.java     |  54 ++---
 .../record/metadata/schema/TestSchemaProvider.java |  43 +++-
 .../schema/parser/TestParserErrorHandling.java     |  74 +++---
 .../metadata/schema/parser/TestSchemaParser.java   |  83 +++++--
 31 files changed, 1145 insertions(+), 424 deletions(-)

commit 108ced0ea10dc379f2b60b32698b6aa26683b585
Author: Vitalii Diravka <vitalii@apache.org>
Date:   Wed Apr 17 15:46:54 2019 +0300

    DRILL-7098: File Metadata Metastore Plugin
    closes #1754

 exec/java-exec/pom.xml                             | 10 +++
 .../org/apache/drill/exec/expr/IsPredicate.java    |  4 +-
 .../base/AbstractGroupScanWithMetadata.java        | 13 ++--
 .../apache/drill/exec/physical/base/GroupScan.java |  2 -
 .../base/SimpleFileTableMetadataProvider.java      |  2 +-
 .../impl/statistics/AbstractMergedStatistic.java   |  2 +-
 .../logical/ConvertCountToDirectScanRule.java      |  4 +-
 .../physical/ConvertCountToDirectScanPrule.java    |  3 +-
 .../exec/record/metadata/MapColumnMetadata.java    |  3 +-
 .../drill/exec/record/metadata/MetadataUtils.java  | 37 +++++++++++
 .../store/parquet/AbstractParquetGroupScan.java    |  3 +-
 .../store/parquet/BaseParquetMetadataProvider.java | 11 ++--
 .../store/parquet/ParquetGroupScanStatistics.java  |  8 +--
 .../store/parquet/ParquetTableMetadataUtils.java   | 10 +--
 .../store/parquet/metadata/MetadataPathUtils.java  | 13 ++--
 exec/jdbc-all/pom.xml                              |  4 +-
 .../org/apache/drill/jdbc/impl/DrillMetaImpl.java  | 17 ++---
 metastore/file-metadata/pom.xml                    | 41 ++++++++++++
 .../exec/physical/base/TableMetadataProvider.java  |  0
 .../base/TableMetadataProviderBuilder.java         |  0
 .../org/apache/drill/metastore/FileMetadata.java   |  0
 .../apache/drill/metastore/FileTableMetadata.java  |  0
 metastore/metastore-api/pom.xml                    | 33 ++++++++++
 .../drill/exec/expr/ExactStatisticsConstants.java  |  0
 .../exec/physical/impl/statistics/Statistic.java   | 36 ++++++-----
 .../exec/record/metadata/SchemaPathUtils.java      | 34 ----------
 .../org/apache/drill/metastore/BaseMetadata.java   |  0
 .../metastore/CollectableColumnStatisticsKind.java |  0
 .../metastore/CollectableTableStatisticsKind.java  |  0
 .../apache/drill/metastore/ColumnStatistics.java   |  0
 .../drill/metastore/ColumnStatisticsImpl.java      |  0
 .../drill/metastore/ColumnStatisticsKind.java      |  5 +-
 .../apache/drill/metastore/LocationProvider.java   |  0
 .../apache/drill/metastore/PartitionMetadata.java  |  0
 .../apache/drill/metastore/RowGroupMetadata.java   |  0
 .../org/apache/drill/metastore/StatisticsKind.java |  0
 .../org/apache/drill/metastore/TableMetadata.java  |  0
 .../drill/metastore/TableStatisticsKind.java       |  7 +-
 metastore/pom.xml                                  | 75 ++++++++++++++++++++++
 pom.xml                                            |  1 +
 40 files changed, 268 insertions(+), 110 deletions(-)

commit e191c54cab9ef969e290dc2bf95e100cb4f5b1eb
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Apr 30 12:03:53 2019 -0700

    DRILL-7228: Upgrade to a newer version of t-digest to address inaccuracies in histogram buckets.
    closes #1774

 exec/java-exec/pom.xml                             |   5 +
 .../drill/exec/expr/fn/impl/TDigestFunctions.java  | 140 ++++++++++-----------
 .../impl/statistics/TDigestMergedStatistic.java    |  12 +-
 .../planner/common/NumericEquiDepthHistogram.java  |   4 +-
 4 files changed, 83 insertions(+), 78 deletions(-)

commit 5862a39468773bba8aed51cc740b0ed9a8909fb4
Author: Venkata Jyothsna Donapati <jyothsna.dvj@gmail.com>
Date:   Mon Apr 29 12:27:44 2019 -0700

    DRILL-7225: Fixed merging ColumnTypeInfo for files with different schemas
    closes #1773

 .../drill/exec/store/parquet/metadata/Metadata.java     |  4 ++++
 .../exec/store/parquet/TestParquetMetadataCache.java    | 17 +++++++++++++++++
 2 files changed, 21 insertions(+)

commit caa983105b0c6ea92770f0b86d7e28d457cb0bae
Author: Dmytriy Grinchenko <dmytriy.grinchenko@gmail.com>
Date:   Wed Apr 17 12:23:34 2019 +0300

    DRILL-6974: SET option command modification
    
    - ALTER ... RESET ... and ALTER ... SET ... sub-parsers separated to 2
      different SqlCall classes with same parent SqlSetOption
    - parserImpls modified to handle new syntax of ALTER... SET...
      expresion:
      a) ALTER ... SET option.name - option.value - setting option value
      b) ALTER ... SET option.name - display option value
    - Handler for SqlSetOption separated to SetOptionHandler and
      ResetOptionhandler for better representation of handled statements
    - Base abstract class AbstractSqlSetHandler created to not repeat
      shared implementation of same functions
    - SetOptionHandler covered with unit tests for each statement
      form.
    
    Fix issues stated in the review
    closes #1763

 exec/java-exec/src/main/codegen/data/Parser.tdd    |   6 +-
 .../src/main/codegen/includes/parserImpls.ftl      |  63 +++++++++++
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  22 ++--
 .../sql/handlers/AbstractSqlSetHandler.java        |  86 +++++++++++++++
 .../planner/sql/handlers/ResetOptionHandler.java   |  73 +++++++++++++
 .../planner/sql/handlers/SetOptionHandler.java     | 119 ++++++++-------------
 .../sql/parser/CompoundIdentifierConverter.java    |   4 +-
 .../planner/sql/parser/DrillSqlResetOption.java    | 103 ++++++++++++++++++
 .../exec/planner/sql/parser/DrillSqlSetOption.java |  75 +++++++++++++
 .../sql/handlers/ResetOptionHandlerTest.java       |  64 +++++++++++
 .../planner/sql/handlers/SetOptionHandlerTest.java |  90 ++++++++++++++++
 11 files changed, 623 insertions(+), 82 deletions(-)

commit d897f709e60557be38deff2276118c8a0b0196c5
Author: Dmytriy Grinchenko <dmytriy.grinchenko@gmail.com>
Date:   Wed Apr 17 12:57:39 2019 +0300

    DRILL-6988. Utility of the too long error message when syntax error
    
    - Adding Drill wrapper around SqlparseException to customize produced by Calcite messages
    - Fix Drill SQL parse exception formatter to calculate proper position for "^" character
    closes #1753

 .../drill/exec/planner/sql/SqlConverter.java       | 104 +++++++++++---------
 .../exec/planner/sql/parser/DrillParserUtil.java   |   5 +
 .../sql/parser/impl/DrillSqlParseException.java    | 105 +++++++++++++++++++++
 .../drill/exec/planner/sql/TestDrillSQLWorker.java |  33 ++++---
 4 files changed, 189 insertions(+), 58 deletions(-)

commit de74eabe013d9249712a14e1f0acabdc8d3ebc16
Author: Venkata Jyothsna Donapati <jyothsna.dvj@gmail.com>
Date:   Thu Apr 11 14:16:36 2019 -0700

    DRILL-7171: Create metadata directories cache file in the leaf level directories to support ConvertCountToDirectScan optimization.
    closes #1748

 .../exec/store/parquet/metadata/Metadata.java      | 18 ++--
 .../logical/TestConvertCountToDirectScan.java      | 98 ++++++++++++++++++----
 2 files changed, 87 insertions(+), 29 deletions(-)

commit 878cfc033de4343e23f1422bb8845d5c6d892618
Author: Dmytriy Grinchenko <dmytriy.grinchenko@gmail.com>
Date:   Fri Apr 12 10:24:17 2019 +0300

    DRILL-7167: Implemented DESCRIBE TABLE statement
    
    - altered parser implementation to honor DESCRIBE TABLE syntax
    - extended test coverage to check the new statement
    closes #1747

 .../src/main/codegen/includes/parserImpls.ftl      |  3 +-
 .../org/apache/drill/exec/sql/TestInfoSchema.java  | 62 +++++++++++++++++++++-
 2 files changed, 63 insertions(+), 2 deletions(-)

commit 9dc81e199cbabedbdd68acfa676a66a022b51907
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Tue Mar 26 20:11:55 2019 -0700

    DRILL-7062: Initial implementation of run-time rowgroup pruning
    closes #1738

 .../hive/HiveDrillNativeParquetRowGroupScan.java   |  18 +-
 .../store/hive/HiveDrillNativeParquetScan.java     |   3 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   4 +
 .../base/AbstractGroupScanWithMetadata.java        |  43 +++-
 .../apache/drill/exec/physical/impl/ScanBatch.java |   4 +-
 .../exec/planner/physical/PlannerSettings.java     |   6 +-
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../exec/store/CommonParquetRecordReader.java      |  85 +++++++
 .../store/parquet/AbstractParquetGroupScan.java    |  11 +
 .../store/parquet/AbstractParquetRowGroupScan.java |  18 +-
 .../parquet/AbstractParquetScanBatchCreator.java   | 262 +++++++++++++++++----
 .../drill/exec/store/parquet/ParquetGroupScan.java |   3 +-
 .../exec/store/parquet/ParquetPushDownFilter.java  |  38 ++-
 .../exec/store/parquet/ParquetReaderStats.java     |  13 +-
 .../exec/store/parquet/ParquetRowGroupScan.java    |  23 +-
 .../store/parquet/ParquetTableMetadataUtils.java   |   9 +-
 .../parquet/columnreaders/ParquetRecordReader.java |  64 +----
 .../store/parquet/columnreaders/ReadState.java     |   7 +
 .../batchsizing/RecordBatchSizerManager.java       |   3 +-
 .../exec/store/parquet/metadata/Metadata.java      |  70 ++++--
 .../exec/store/parquet/metadata/Metadata_V4.java   |   2 +
 .../exec/store/parquet2/DrillParquetReader.java    |  25 +-
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 .../store/parquet/TestParquetFilterPushDown.java   |  66 +++++-
 .../TestPushDownAndPruningWithItemStar.java        |  16 +-
 25 files changed, 596 insertions(+), 199 deletions(-)

commit 422bf20208fe47477ddc3138c298912f9f2739db
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Thu Apr 25 22:24:15 2019 -0700

    [maven-release-plugin] prepare for next development iteration

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/format-ltsv/pom.xml                  | 2 +-
 contrib/format-maprdb/pom.xml                | 2 +-
 contrib/format-syslog/pom.xml                | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 2 +-
 contrib/storage-kafka/pom.xml                | 2 +-
 contrib/storage-kudu/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 contrib/storage-opentsdb/pom.xml             | 2 +-
 contrib/udfs/pom.xml                         | 2 +-
 distribution/pom.xml                         | 2 +-
 drill-yarn/pom.xml                           | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/memory/base/pom.xml                     | 2 +-
 exec/memory/pom.xml                          | 2 +-
 exec/pom.xml                                 | 2 +-
 exec/rpc/pom.xml                             | 2 +-
 exec/vector/pom.xml                          | 2 +-
 logical/pom.xml                              | 2 +-
 pom.xml                                      | 4 ++--
 protocol/pom.xml                             | 2 +-
 tools/fmpp/pom.xml                           | 2 +-
 tools/pom.xml                                | 2 +-
 32 files changed, 33 insertions(+), 33 deletions(-)

commit defb031fbbe06d6747e54dd69691d209a01d1821
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Thu Apr 25 22:24:03 2019 -0700

    [maven-release-plugin] prepare release drill-1.16.0

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/format-ltsv/pom.xml                  | 2 +-
 contrib/format-maprdb/pom.xml                | 2 +-
 contrib/format-syslog/pom.xml                | 5 ++---
 contrib/pom.xml                              | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 4 ++--
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 2 +-
 contrib/storage-kafka/pom.xml                | 2 +-
 contrib/storage-kudu/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 contrib/storage-opentsdb/pom.xml             | 2 +-
 contrib/udfs/pom.xml                         | 2 +-
 distribution/pom.xml                         | 2 +-
 drill-yarn/pom.xml                           | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/memory/base/pom.xml                     | 2 +-
 exec/memory/pom.xml                          | 2 +-
 exec/pom.xml                                 | 2 +-
 exec/rpc/pom.xml                             | 2 +-
 exec/vector/pom.xml                          | 2 +-
 logical/pom.xml                              | 2 +-
 pom.xml                                      | 4 ++--
 protocol/pom.xml                             | 2 +-
 tools/fmpp/pom.xml                           | 2 +-
 tools/pom.xml                                | 2 +-
 32 files changed, 35 insertions(+), 36 deletions(-)

commit 887dee236e822fe46614c38ab8eca7acac709062
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Thu Apr 25 13:53:51 2019 -0700

    DRILL-7201: Strange symbols in error window (Windows)
    
    Looks like some unicode characters creeped in, causing the rendering to be messed up ONLY for Windows OS. This PR patches that issue and ensures that the Alert symbol also appears correctly.

 exec/java-exec/src/main/resources/rest/alertModals.ftl | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fdb36adcbbd10ecb82e2dfcea48f5653b44abcbe
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Apr 25 13:41:27 2019 +0300

    DRILL-7213: Use dependencySets tag for including artifacts in assembly to consider dependencies from the distribution module

 distribution/src/assemble/component.xml | 80 ++++++---------------------------
 1 file changed, 14 insertions(+), 66 deletions(-)

commit 133cc2baf28db8595dc9ca02e607a90bc5823f81
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Thu Apr 25 15:16:54 2019 -0700

    DRILL-7207: Update the copyright year in NOTICE.txt file

 NOTICE                            | 2 +-
 distribution/src/resources/NOTICE | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 016a3bac0030ce33b9eaae7b24b6a31fb34c614c
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Thu Apr 25 15:19:55 2019 -0700

    DRILL-7212: Add gpg key with apache.org email for sorabh
    Note: Revert "Add public gpg key for Sorabh"
    This reverts commit 5a0155977daabe33422aafa96ba04f880d8e7b04.

 KEYS | 83 ++++++++++++++++++++++++++++++++++++++++++++++----------------------
 1 file changed, 56 insertions(+), 27 deletions(-)

commit c36bb7a517fc965d5331e8da17b43a19cbfc2309
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Wed Apr 24 15:04:26 2019 -0700

    DRILL-7202: Failed query shows warning that fragments made no progress
    
    This bug arises because of the `toggleWarning()` javascript function that shows the warning if the number of slow major fragments matches the number of major fragments.
    For failed queries, the number of major fragments = 0; and that matches the number of tags (which is also zero for a non-running query). Hence the warning shows.

 exec/java-exec/src/main/resources/rest/profile/profile.ftl | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit a148aacbdce96523677c1adf068f3bb8cf4b59b5
Author: Vitalii Diravka <vitalii@apache.org>
Date:   Sat Apr 20 04:47:15 2019 +0300

    DRILL-7190: Missing backward compatibility for REST API with DRILL-6562

 .../drill/exec/server/rest/StorageResources.java   | 61 ++++++++++++++++++++--
 .../main/resources/rest/static/js/serverMessage.js |  2 +-
 2 files changed, 57 insertions(+), 6 deletions(-)

commit ffc6ef9e7f407c4187d41957c7483ef16ce5d880
Author: Charles Givre <cgivre@apache.org>
Date:   Thu Apr 18 13:03:48 2019 -0400

    Fixed Error for Long Packets

 .../src/main/java/org/apache/drill/exec/store/pcap/decoder/Packet.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f971c1f0b2ec5c744535791c2476981e406591e3
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Apr 19 15:00:43 2019 +0300

    DRILL-7186: Add back storage.json REST endpoint (regression after DRILL-6562)

 .../java/org/apache/drill/exec/server/rest/StorageResources.java | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 162c0381cfbe3573c96596551463c12cbc4a1aaf
Author: HanumathRao <hanu.ncr@gmail.com>
Date:   Wed Apr 17 06:56:38 2019 -0700

    DRILL-7183: TPCDS query 10, 35, 69 take longer with sf 1000 when Statistics are disabled.
    This commit reverts the changes done for DRILL-6997.

 .../apache/drill/exec/planner/PlannerPhase.java    |  13 +-
 .../exec/planner/logical/DrillSemiJoinRel.java     |  56 +------
 .../exec/planner/logical/DrillSemiJoinRule.java    | 183 ---------------------
 .../drill/exec/planner/physical/JoinPrel.java      |  58 ++++++-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  10 +-
 .../exec/physical/impl/join/TestSemiJoin.java      |  25 +--
 6 files changed, 64 insertions(+), 281 deletions(-)

commit 6693d9b51eb350c53dee71542ca3b5ec29dc42b0
Author: Gautam Parai <gparai@maprtech.com>
Date:   Tue Apr 16 14:46:21 2019 -0700

    DRILL-7182: Incorrect access specifier for Join DrillRelMdDistinctRowCount

 .../drill/exec/planner/cost/DrillRelMdDistinctRowCount.java    | 10 +++++-----
 .../org/apache/drill/exec/planner/cost/DrillRelMdRowCount.java |  1 +
 2 files changed, 6 insertions(+), 5 deletions(-)

commit 494c2060a385408f27185949e6899a9017b6b7ff
Author: Vitalii Diravka <vitalii@apache.org>
Date:   Thu Apr 11 00:06:55 2019 +0300

    DRILL-7165: Redundant Checksum calculating for ASC files
    
    - change 'checksum-maven-plugin' 'goal' - 'artifacts' -> 'files'
    - specify 'includes' in 'fileSet' for 'checksum-maven-plugin'

 pom.xml | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit 1e9befd6477c918266cd8d7ef49c6a811e740eaa
Author: Venkata Jyothsna Donapati <jyothsna.dvj@gmail.com>
Date:   Wed Apr 10 17:15:32 2019 -0700

    DRILL-7166: Count query with wildcard should skip reading of metadata summary file

 .../logical/ConvertCountToDirectScanRule.java      |  8 ++++-
 .../logical/TestConvertCountToDirectScan.java      | 36 ++++++++++++++++++++++
 2 files changed, 43 insertions(+), 1 deletion(-)

commit bf0712755884db1627e8dba3df4fec6b53b70d80
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Wed Apr 10 12:33:02 2019 -0700

    DRILL-7160: e.q.max_rows QUERY-level option shown even if not set
    
    The fix is to force setting to zero IFF autoLimit was intended to be set originally but is inapplicable; such as 'SHOW DATABASES'. If autolimit was not intended to be applied, setting the value to zero is not required.
    WebUI is also patched to not show the zero value set in such scenarios.

 .../drill/exec/planner/sql/DrillSqlWorker.java     | 24 +++++++++++++---------
 .../drill/exec/server/rest/QueryWrapper.java       | 10 ++++++++-
 2 files changed, 23 insertions(+), 11 deletions(-)

commit 455cee7cffa71c3a8e5b9abe0dc490585b640fe5
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Tue Mar 19 17:15:43 2019 +0200

    DRILL-7089: Implement caching for TableMetadataProvider at query level and adapt statistics to use Drill metastore API
    
    closes #1728

 .../hive/HiveParquetTableMetadataProvider.java     |   8 +-
 .../apache/drill/exec/expr/StatisticsProvider.java |  11 +-
 .../exec/physical/base/AbstractGroupScan.java      |  11 ++
 .../base/AbstractGroupScanWithMetadata.java        |  29 +++-
 .../base/FileSystemMetadataProviderManager.java    |  79 +++++++++
 .../apache/drill/exec/physical/base/GroupScan.java |  11 ++
 .../physical/base/MetadataProviderManager.java     |  59 +++++++
 .../physical/base/ParquetMetadataProvider.java     |   7 +
 .../base/SimpleFileTableMetadataProvider.java      | 170 +++++++++++++++++++
 .../base/TableMetadataProviderBuilder.java         |  32 ++++
 .../planner/FileSystemPartitionDescriptor.java     |   3 +-
 .../drill/exec/planner/common/DrillRelOptUtil.java |  41 +++--
 .../drill/exec/planner/common/DrillStatsTable.java | 181 +++++++++++----------
 .../planner/cost/DrillRelMdDistinctRowCount.java   |  62 ++++---
 .../exec/planner/cost/DrillRelMdRowCount.java      |   7 +-
 .../exec/planner/cost/DrillRelMdSelectivity.java   |  88 ++++++----
 .../drill/exec/planner/logical/DrillTable.java     |  57 ++++---
 .../exec/planner/logical/DynamicDrillTable.java    |   6 +
 .../drill/exec/planner/sql/SqlConverter.java       |  59 ++++++-
 .../planner/sql/handlers/DefaultSqlHandler.java    |   4 -
 .../drill/exec/store/AbstractStoragePlugin.java    |   6 +-
 .../org/apache/drill/exec/store/StoragePlugin.java |  24 +--
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  10 +-
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |   8 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  32 ++--
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  11 +-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  73 +++++++--
 .../SimpleFileTableMetadataProviderBuilder.java    |  33 ++++
 .../easy/json/JsonStatisticsRecordWriter.java      |   6 +-
 .../exec/store/easy/text/TextFormatPlugin.java     |  10 +-
 .../store/parquet/AbstractParquetGroupScan.java    |  24 +--
 .../store/parquet/BaseParquetMetadataProvider.java | 149 ++++++++++++-----
 .../exec/store/parquet/FilterEvaluatorUtils.java   |   8 +-
 .../ParquetFileTableMetadataProviderBuilder.java   |  47 ++++++
 .../exec/store/parquet/ParquetFormatPlugin.java    |  15 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  63 +++++--
 .../parquet/ParquetTableMetadataProviderImpl.java  | 137 ++++++++++++++--
 .../store/parquet/ParquetTableMetadataUtils.java   |  76 ++++-----
 .../org/apache/drill/metastore/BaseMetadata.java   |  15 +-
 .../apache/drill/metastore/ColumnStatistics.java   |   9 +
 .../drill/metastore/ColumnStatisticsImpl.java      |  36 ++--
 .../drill/metastore/ColumnStatisticsKind.java      |  48 ++++++
 .../org/apache/drill/metastore/FileMetadata.java   |  24 ++-
 .../apache/drill/metastore/FileTableMetadata.java  |  43 +++--
 .../apache/drill/metastore/PartitionMetadata.java  |  24 ++-
 .../apache/drill/metastore/RowGroupMetadata.java   |  24 ++-
 .../org/apache/drill/metastore/TableMetadata.java  |   2 +-
 .../drill/metastore/TableStatisticsKind.java       |  46 +++++-
 .../parquet/TestPushDownAndPruningForDecimal.java  | 104 ++++++------
 exec/jdbc-all/pom.xml                              |   2 +
 50 files changed, 1528 insertions(+), 506 deletions(-)

commit 579ebcac17eefd01b90e5d4fac8ea87b64c499ad
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Mar 26 11:45:02 2019 -0700

    DRILL-7064: Leverage the summary metadata for plain COUNT aggregates.
    
    Add unit test
    
    Modify MetadataDirectGroupScan to track summary file information and use in unit test.
    
    Conflicts:
            exec/java-exec/src/main/java/org/apache/drill/exec/store/parquet/metadata/Metadata.java
            exec/java-exec/src/main/java/org/apache/drill/exec/store/parquet/metadata/Metadata_V4.java
    
    Fix NPE for DrillTable to account for non-eligible tables.
    
    Fix bug with direct scan after directory pruning.  Add unit test.
    
    Address review comments.
    
    closes #1736

 .../apache/drill/exec/planner/PlannerPhase.java    |  13 +-
 .../planner/common/CountToDirectScanUtils.java     | 108 ++++++++
 .../drill/exec/planner/common/DrillRelOptUtil.java |  13 +
 .../logical/ConvertCountToDirectScanRule.java      | 305 +++++++++++++++++++++
 .../planner/logical/partition/PruneScanRule.java   |  20 +-
 ...can.java => ConvertCountToDirectScanPrule.java} | 117 ++------
 .../exec/store/direct/MetadataDirectGroupScan.java |  13 +-
 .../exec/store/parquet/metadata/Metadata.java      |   4 +-
 .../logical/TestConvertCountToDirectScan.java      |  75 +++++
 9 files changed, 547 insertions(+), 121 deletions(-)

commit f3022eacebe63fe4d7a4a9e22a8c398e88e42588
Author: Venkata Jyothsna Donapati <jyothsna.dvj@gmail.com>
Date:   Thu Feb 28 16:56:02 2019 -0800

    DRILL-7063: Seperate metadata cache file into summary, file metadata
    
    closes #1723

 .../src/main/codegen/includes/parserImpls.ftl      |   6 +-
 .../sql/handlers/RefreshMetadataHandler.java       |   2 +-
 .../store/parquet/BaseParquetMetadataProvider.java |  11 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |  28 +-
 .../exec/store/parquet/ParquetReaderUtility.java   |  25 +-
 .../parquet/ParquetTableMetadataProviderImpl.java  |  74 ++-
 .../store/parquet/ParquetTableMetadataUtils.java   |  58 ++-
 .../exec/store/parquet/metadata/Metadata.java      | 449 ++++++++++++-----
 .../exec/store/parquet/metadata/MetadataBase.java  |  20 +-
 .../store/parquet/metadata/MetadataPathUtils.java  |  37 +-
 .../store/parquet/metadata/MetadataVersion.java    |   8 +-
 .../exec/store/parquet/metadata/Metadata_V1.java   |  57 ++-
 .../exec/store/parquet/metadata/Metadata_V2.java   |  73 ++-
 .../exec/store/parquet/metadata/Metadata_V3.java   |  76 ++-
 .../exec/store/parquet/metadata/Metadata_V4.java   | 540 +++++++++++++++++++++
 .../test/java/org/apache/drill/PlanTestBase.java   |  33 +-
 .../writer/TestCorruptParquetDateCorrection.java   |   4 +-
 .../store/parquet/TestParquetFilterPushDown.java   |   4 +
 .../store/parquet/TestParquetMetadataCache.java    | 445 ++++++++++++++++-
 19 files changed, 1692 insertions(+), 258 deletions(-)

commit 3577bb052ef5cb33a0e4ea21a2d9f9dedad7e2b8
Author: HanumathRao <hanu.ncr@gmail.com>
Date:   Fri Apr 5 12:08:25 2019 -0700

    DRILL-7154: TPCH query 4, 17 and 18 take longer with sf 1000 when Statistics are disabled.
    
    closes #1737

 .../exec/planner/fragment/DefaultQueryParallelizer.java     |  2 +-
 .../org/apache/drill/exec/planner/fragment/Fragment.java    | 13 ++++++++++---
 .../apache/drill/exec/planner/fragment/Materializer.java    |  4 +++-
 3 files changed, 14 insertions(+), 5 deletions(-)

commit 2f942e7e0bb8cce38db1fdf266ea6a3222004f51
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon Apr 8 19:06:08 2019 +0300

    DRILL-7159: Fix typeString method to return correct name for MAP (aka STRUCT)
    closes #1741

 .../org/apache/drill/exec/planner/sql/handlers/SchemaHandler.java  | 2 +-
 .../org/apache/drill/exec/record/metadata/MapColumnMetadata.java   | 2 +-
 .../drill/exec/record/metadata/schema/TestSchemaProvider.java      | 7 ++++++-
 3 files changed, 8 insertions(+), 3 deletions(-)

commit 849f896c491118571303a1313f75bece37e80b7e
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon Mar 25 06:55:57 2019 -0700

    DRILL-7119: Compute range predicate selectivity using histograms.
    
    Address code review comments.  Add unit test for histogram usage.
    
    close apache/drill#1733

 .../drill/exec/planner/common/DrillStatsTable.java |   2 +-
 .../drill/exec/planner/common/Histogram.java       |   2 +-
 .../planner/common/NumericEquiDepthHistogram.java  | 188 ++++++++++++++++++++-
 .../exec/planner/cost/DrillRelMdSelectivity.java   |  28 ++-
 .../test/java/org/apache/drill/PlanTestBase.java   |   4 +-
 .../org/apache/drill/exec/sql/TestAnalyze.java     |  15 ++
 6 files changed, 225 insertions(+), 14 deletions(-)

commit 771fd270b684bbf388c0e2fa10b359eba3dfdb7c
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Tue Apr 2 13:24:59 2019 -0700

    DRILL-7045: Updates to address review comments
    
    closes #7134

 .../drill/exec/vector/complex/writer/TestJsonNanInf.java      | 11 +++--------
 1 file changed, 3 insertions(+), 8 deletions(-)

commit a1986a3fec1634812712e47be0be2565b303ea2d
Author: Jean-Claude <jccote@gmail.com>
Date:   Wed Feb 20 23:52:16 2019 -0500

    DRILL-7045 UDF string_binary java.lang.IndexOutOfBoundsException
    
    UDF string_binary was not reallocating the drillbuffer so it would fill
    up and throw and out of bounds exception

 .../apache/drill/exec/expr/fn/impl/StringFunctions.java  |  6 +++---
 .../drill/exec/vector/complex/writer/TestJsonNanInf.java | 16 ++++++++++++++++
 2 files changed, 19 insertions(+), 3 deletions(-)

commit 9cbfaad0a92b4ffb6302ea1cfbcdfaa24cd8786b
Author: Vitalii Diravka <vitalii@apache.org>
Date:   Mon Apr 8 02:19:59 2019 +0300

    DRILL-7049: REST API returns the toString of byte arrays (VARBINARY types)
    
    closes #1739

 .../exec/util/ValueVectorElementFormatter.java     | 26 +++++-----------------
 .../exec/util/TestValueVectorElementFormatter.java | 11 +++++++++
 2 files changed, 17 insertions(+), 20 deletions(-)

commit 9844b61c520b27f878e7d6fc657177da05d55dad
Author: Jean-Claude <jccote@gmail.com>
Date:   Thu Feb 21 16:55:15 2019 -0500

    DRILL-7049 return VARBINARY as a string with escaped non printable bytes

 .../exec/util/ValueVectorElementFormatter.java     | 29 ++++++++++++++++++----
 1 file changed, 24 insertions(+), 5 deletions(-)

commit 9ffd6d933cdd16e10a5818991dd80ab3c36cf88f
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon Apr 8 10:32:11 2019 +0300

    DRILL-7157: Wrap SchemaParsingException into UserException when creating schema
    
    closes #1740

 .../org/apache/drill/exec/planner/sql/handlers/SchemaHandler.java  | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit cd44d1eb25127f775f7cbfa95eca8ec078caf6fa
Author: Paul Rogers <progers@cloudera.com>
Date:   Mon Apr 1 00:10:14 2019 -0700

    DRILL-7143: Support default value for empty columns
    
    Modifies the prior work to add default values for columns. The prior work added defaults
    when the entire column is missing from a reader (the old Nullable Int column). The Row
    Set mechanism now will also "fill empty" slots with the default value.
    
    Added default support for the column writers. The writers automatically obtain the
    default value from the column schema. The default can also be set explicitly on
    the column writer.
    
    Updated the null column mechanism to use this feature rather than the ad-hoc
    implemention in the prior commit.
    
    Semantics changed a bit. Only Required columns take a default. The default value
    is ignored or nullable columns since nullable columns already have a file default: NULL.
    
    Other changes:
    
    * Updated the CSV-with-schema tests to illustrate the new behavior.
    * Made multiple fixes for Boolean and Decimal columns and added unit tests.
    * Upgraded Fremarker to version 2.3.28 to allow use of the continue statement.
    * Reimplemented the Bit column reader and writer to use the BitVector directly since this vector is rather special.
    * Added get/set Boolean methods for column accessors
    * Moved the BooleanType class to the common package
    * Added more CSV unit tests to explore decimal types, booleans, and defaults
    * Add special handling for blank fields in from-string conversions
    * Added options to the conversion factory to specify blank-handling behavior.
      CSV uses a mapping of blanks to null (nullable) or default value (non-nullable)
    
    closes #1726

 .../apache/drill/common/types}/BooleanType.java    |  49 +-
 .../java/org/apache/drill/common/types/Types.java  |  55 +-
 .../exec/expr/fn/impl/SimpleCastFunctions.java     |   4 +-
 .../impl/scan/columns/ColumnsScanFramework.java    |   5 -
 .../impl/scan/project/NullColumnBuilder.java       |   2 +-
 .../impl/scan/project/NullColumnLoader.java        |  58 +-
 .../impl/scan/project/ResolvedNullColumn.java      |   8 +-
 .../impl/scan/project/ScanSchemaOrchestrator.java  |  21 +-
 .../exec/physical/rowSet/impl/ColumnBuilder.java   |   3 +-
 .../physical/rowSet/impl/ResultSetLoaderImpl.java  |  23 +-
 .../rowSet/impl/SchemaTransformerImpl.java         |  90 ++-
 .../exec/physical/rowSet/impl/TupleState.java      |   4 +-
 .../exec/planner/sql/handlers/SchemaHandler.java   |   5 +
 .../record/metadata/AbstractColumnMetadata.java    |  11 +-
 .../drill/exec/record/metadata/MapBuilder.java     |  12 +
 .../drill/exec/record/metadata/MetadataUtils.java  |  43 +-
 .../record/metadata/PrimitiveColumnMetadata.java   |   9 +-
 .../drill/exec/record/metadata/SchemaBuilder.java  |  10 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   4 +
 .../exec/store/easy/text/TextFormatPlugin.java     |   7 +
 .../apache/drill/exec/work/foreman/Foreman.java    |   9 +-
 .../exec/fn/impl/TestByteComparisonFunctions.java  |   1 -
 .../impl/scan/project/TestNullColumnLoader.java    |  29 +-
 .../impl/TestResultSetLoaderOmittedValues.java     |  43 ++
 .../impl/TestResultSetLoaderTypeConversion.java    |  61 +-
 .../exec/record/metadata/TestTupleSchema.java      |   3 +-
 .../store/easy/text/compliant/BaseCsvTest.java     |   8 +
 .../easy/text/compliant/TestCsvWithSchema.java     | 819 ++++++++++++++++++---
 .../java/org/apache/drill/test/ClusterTest.java    |   2 +-
 .../apache/drill/test/rowSet/RowSetBuilder.java    |   1 +
 .../apache/drill/test/rowSet/RowSetUtilities.java  |  20 +
 .../test/rowSet/test/TestColumnConverter.java      | 188 ++++-
 .../{DummyWriterTest.java => TestDummyWriter.java} |   2 +-
 .../drill/test/rowSet/test/TestFillEmpties.java    | 233 +++++-
 .../test/rowSet/test/TestScalarAccessors.java      | 111 ++-
 .../drill/test/rowSet/test/TestSchemaBuilder.java  | 108 ++-
 .../org/apache/drill/exec/rpc/RequestIdMap.java    |  25 +-
 .../main/codegen/templates/ColumnAccessors.java    | 256 ++++---
 .../drill/exec/record/metadata/ColumnMetadata.java |  17 +-
 .../drill/exec/vector/accessor/ScalarReader.java   |   7 +
 .../drill/exec/vector/accessor/ScalarWriter.java   |  20 +
 .../drill/exec/vector/accessor/ValueType.java      |   6 +
 .../convert/AbstractConvertFromString.java         | 210 ++++++
 .../accessor/convert/AbstractWriteConverter.java   |  11 +
 .../accessor/convert/ConvertBooleanToString.java   |   6 +-
 .../accessor/convert/ConvertStringToBoolean.java   |  26 +-
 .../accessor/convert/ConvertStringToDate.java      |  25 +-
 .../accessor/convert/ConvertStringToDecimal.java   |  24 +-
 .../accessor/convert/ConvertStringToDouble.java    |  25 +-
 .../accessor/convert/ConvertStringToInt.java       |  25 +-
 .../accessor/convert/ConvertStringToInterval.java  |  24 +-
 .../accessor/convert/ConvertStringToLong.java      |  25 +-
 .../accessor/convert/ConvertStringToTime.java      |  25 +-
 .../accessor/convert/ConvertStringToTimeStamp.java |  25 +-
 .../accessor/convert/StandardConversions.java      |  35 +-
 .../exec/vector/accessor/impl/VectorPrinter.java   |   7 +-
 .../accessor/reader/AbstractScalarReader.java      |  24 +
 .../vector/accessor/reader/BitColumnReader.java    |  49 ++
 .../accessor/writer/AbstractArrayWriter.java       |   9 +-
 .../accessor/writer/AbstractFixedWidthWriter.java  |  75 +-
 .../accessor/writer/AbstractObjectWriter.java      |   5 +-
 .../accessor/writer/AbstractScalarWriter.java      |   6 +-
 .../accessor/writer/AbstractTupleWriter.java       |  16 +-
 .../vector/accessor/writer/BaseScalarWriter.java   |  25 +
 .../vector/accessor/writer/BaseVarWidthWriter.java |  47 +-
 .../vector/accessor/writer/BitColumnWriter.java    | 121 +++
 .../accessor/writer/NullableScalarWriter.java      |  13 +
 .../accessor/writer/OffsetVectorWriterImpl.java    |  84 ++-
 .../vector/accessor/writer/ScalarArrayWriter.java  |   4 +-
 .../accessor/writer/dummy/DummyScalarWriter.java   |   6 +
 pom.xml                                            |   2 +-
 71 files changed, 2765 insertions(+), 606 deletions(-)

commit ac11a6b7917d8265ac587aadf7e0d91de9b89c3e
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Thu Apr 4 10:41:28 2019 -0700

    DRILL-7048: Implement JDBC Statement.setMaxRows() with System Option
    
    This introduces support for JDBC's Statement.setMaxRows(int) API, which can help Drill execute a query much faster if it knows that not ALL the records in the resultset will be consumed upfront.
    This Commit introduces the core changes to support the feature within Drill's execution engine
    Protobuf Changes
    
    1. RunQuery: Added "autolimit_rowcount"
    2. QueryProfile: Added "autoLimit"
    3. Regenerated Java and C++ client files
    REST API support
    
    1. Support for REST server to interpret a submitted query and also for rendering this information for an executed query
    2. Updates to the Freemarker templates (for WebUI)
    3. Safety check within Javascript (for WebUI)
    JDBC API support
    
    1. Introduces backend execution of 'ALTER SESSION' to apply the auto-limiting of resultset size
    2. Added Unit Tests for PreparedStatement and Statement objects
    3. Added getter setter methods to be skipped in testing for org.apache.drill.jdbc.test.Drill2489CallsAfterCloseThrowExceptionsTest.testclosedPreparedStmtOfOpenConnMethodsThrowRight()
    Updates based on review comments
    
    Additional Updates
    
    Test Cleanup
    
    1. Revert Drill2489 hack
    2. Formatting in *StatementTest
    3. Removal f redundant `statement.close()`
    4. Manage new Exception thrown when setting invalid maxRow values
    
    Final updates
    
    1. Test changes
    2. Trim trailing spaces in auto-limit value (Javascript)
    3. Before & After annotations to synchronize changes to system values for MaxRows(auto-limit)
    
    Reorganized tests due to synchronized locking
    
    Removed conflicting JsonCreator in QueryWrapper
    
    Additional test cleanup
    
    closes #1714

 contrib/native/client/src/protobuf/User.pb.cc      | 190 +++++++++------
 contrib/native/client/src/protobuf/User.pb.h       |  46 +++-
 .../native/client/src/protobuf/UserBitShared.pb.cc | 269 ++++++++++++---------
 .../native/client/src/protobuf/UserBitShared.pb.h  |  80 ++++--
 .../java/org/apache/drill/exec/ExecConstants.java  |   8 +
 .../org/apache/drill/exec/ops/QueryContext.java    |  19 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  35 ++-
 .../exec/server/options/SystemOptionManager.java   |   6 +-
 .../drill/exec/server/rest/QueryResources.java     |  19 +-
 .../drill/exec/server/rest/QueryWrapper.java       |  10 +-
 .../drill/exec/server/rest/WebUserConnection.java  |  20 +-
 .../exec/server/rest/profile/ProfileWrapper.java   |  14 ++
 .../apache/drill/exec/work/foreman/Foreman.java    |   9 +-
 .../drill/exec/work/foreman/QueryManager.java      |   6 +
 .../java-exec/src/main/resources/drill-module.conf |   3 +-
 .../src/main/resources/rest/profile/profile.ftl    |  33 ++-
 .../src/main/resources/rest/query/query.ftl        |   5 +-
 .../src/main/resources/rest/query/result.ftl       |   6 +-
 .../resources/rest/static/js/querySubmission.js    |  12 +-
 .../apache/drill/jdbc/DrillPreparedStatement.java  |   1 -
 .../org/apache/drill/jdbc/impl/DrillCursor.java    |   3 +
 .../jdbc/impl/DrillPreparedStatementImpl.java      |  10 +
 .../apache/drill/jdbc/impl/DrillStatementImpl.java |   7 +
 .../drill/jdbc/PreparedStatementMaxRowsTest.java   | 261 ++++++++++++++++++++
 .../apache/drill/jdbc/PreparedStatementTest.java   |   8 +-
 .../apache/drill/jdbc/StatementMaxRowsTest.java    | 248 +++++++++++++++++++
 .../java/org/apache/drill/jdbc/StatementTest.java  |  40 ++-
 .../drill/exec/proto/SchemaUserBitShared.java      |   7 +
 .../apache/drill/exec/proto/SchemaUserProtos.java  |   7 +
 .../org/apache/drill/exec/proto/UserBitShared.java | 232 ++++++++++++------
 .../org/apache/drill/exec/proto/UserProtos.java    | 240 +++++++++++++-----
 .../drill/exec/proto/beans/QueryProfile.java       |  22 ++
 .../apache/drill/exec/proto/beans/RunQuery.java    |  22 ++
 protocol/src/main/protobuf/User.proto              |   5 +
 protocol/src/main/protobuf/UserBitShared.proto     |   1 +
 35 files changed, 1497 insertions(+), 407 deletions(-)

commit cf51aa7176ee6cc285af6aa2039ba0774afaa4f0
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Tue Mar 19 21:11:41 2019 +0200

    DRILL-7115: Improve Hive schema show tables performance
    
    1. To make SHOW TABLES for Hive schema work much faster, additional Drill
       feature of showing only accesible tables when Storage-Based authorization
       is enabled was sacrificed. Now the behaviour matches to Hive/Beeline, all
       tables will be shown despite of accessibility. For details about previous
       show tables results, check description of DRILL-540.
    2. In HiveDatabaseSchema implemented faster getTableNamesAndTypes() method
       and removed bulk related code.
    3. Deprecated bulk related options and removed bulk code from AbstractSchema,
       DrillHiveMetastoreClient.
    4. For 8000 Hive tables query returned in 1.8 seconds, for combination of
       4000 tables and 8000 views query returned in 2.3 seconds. Note, that
       after first query table names will be cached and next queries will perform
       in less than 1 sec.
    5. Refactored WorkspaceSchemaFactory's getTableNamesAndTypes()
       method to reuse existing getViews() method.
    6. DrillHiveMetastoreClient was refactored. Classes were unnested and enclosed
       within client package with restricted visibility. Also was updated cache
       values type to avoid unnecessarry List to Set back and forth conversions.
       Client creation methods moved to separate class. So the new package
       exposes only factory and client class.
    
    closes #1706

 .../exec/store/hive/DrillHiveMetaStoreClient.java  | 586 ---------------------
 .../org/apache/drill/exec/store/hive/HiveScan.java |   2 +-
 .../drill/exec/store/hive/HiveUtilities.java       |  16 +
 .../store/hive/client/DatabaseNameCacheLoader.java |  75 +++
 .../hive/client/DrillHiveMetaStoreClient.java      | 106 ++++
 .../client/DrillHiveMetaStoreClientFactory.java    | 104 ++++
 .../DrillHiveMetaStoreClientWithAuthorization.java | 110 ++++
 .../hive/{ => client}/HiveAuthorizationHelper.java |  43 +-
 .../exec/store/hive/client/HiveMetadataCache.java  | 172 ++++++
 .../store/hive/client/TableEntryCacheLoader.java   | 111 ++++
 .../drill/exec/store/hive/client/TableName.java    |  72 +++
 .../store/hive/client/TableNameCacheLoader.java    |  94 ++++
 .../exec/store/hive/schema/HiveDatabaseSchema.java | 108 +---
 .../exec/store/hive/schema/HiveSchemaFactory.java  |   9 +-
 .../hive/TestStorageBasedHiveAuthorization.java    | 183 +++----
 .../java/org/apache/drill/exec/ExecConstants.java  |  32 +-
 .../exec/planner/sql/parser/DrillParserUtil.java   |  14 +-
 .../apache/drill/exec/store/AbstractSchema.java    |  59 +--
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  46 +-
 .../store/ischema/InfoSchemaRecordGenerator.java   |  29 +-
 20 files changed, 1058 insertions(+), 913 deletions(-)

commit 37727573af4352ec00229e1222e82c87361217f1
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Tue Apr 2 17:42:52 2019 +0300

    DRILL-7150: Fix timezone conversion for timestamp from MaprDB after the transition from PDT to PST
    closes #1729

 .../exec/store/mapr/db/json/CompareFunctionsProcessor.java   | 11 +++++++++--
 .../exec/store/mapr/db/json/MaprDBJsonRecordReader.java      | 12 ++++++++----
 .../java/org/apache/drill/exec/expr/fn/impl/DateUtility.java |  1 -
 3 files changed, 17 insertions(+), 7 deletions(-)

commit c9d3501708f91bf87d0ba94470d6e7ea1d04484d
Author: karthik <kmanivannan@maprtech.com>
Date:   Thu Mar 14 16:37:16 2019 -0700

    DRILL-7107 Unable to connect to Drill 1.15 through ZK
    closes #1702

 .../drill/exec/coord/zk/ZKClusterCoordinator.java  | 25 ++++++----------------
 .../org/apache/drill/exec/server/Drillbit.java     |  8 ++++++-
 2 files changed, 14 insertions(+), 19 deletions(-)

commit 463f01627c298eb0f29396f635ecfbb945800c80
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Mon Apr 1 20:11:22 2019 +0300

    DRILL-7145: Exceptions happened during retrieving values from ValueVector are not being displayed at the Drill Web UI
    closes #1727

 .../drill/exec/rpc/AbstractDisposableUserClientConnection.java    | 8 --------
 .../java/org/apache/drill/exec/server/rest/WebUserConnection.java | 7 ++++++-
 2 files changed, 6 insertions(+), 9 deletions(-)

commit c5d05d8ff5accbb711ac7073ed6f07b945bca73b
Author: Charles S. Givre <cgivre@gmail.com>
Date:   Wed Apr 3 16:37:01 2019 -0400

    DRILL-7153: Drill Fails to Build using JDK 1.8.0_65
    closes #1731

 .../org/apache/drill/exec/store/parquet/FilterEvaluatorUtils.java    | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit ec70dec1bba9865c2d2948aba8f7fcc2d4c645f2
Author: Robert Hou <rhou@mapr.com>
Date:   Tue Mar 19 11:03:25 2019 -0700

    DRILL-7155: Create a standard logging message for batch sizes generated by individual operators.
    This is needed for QA verification of the Batch Size feature DRILL-6238.
    closes #1716

 .../exec/physical/impl/aggregate/HashAggBatch.java     |  3 +--
 .../exec/physical/impl/flatten/FlattenRecordBatch.java |  4 ++--
 .../drill/exec/physical/impl/join/HashJoinBatch.java   |  4 ++--
 .../exec/physical/impl/join/LateralJoinBatch.java      |  1 +
 .../drill/exec/physical/impl/join/MergeJoinBatch.java  |  4 ++--
 .../exec/physical/impl/join/NestedLoopJoinBatch.java   |  4 ++--
 .../physical/impl/project/ProjectMemoryManager.java    |  4 ++--
 .../exec/physical/impl/union/UnionAllRecordBatch.java  |  4 ++--
 .../exec/physical/impl/unnest/UnnestRecordBatch.java   |  1 +
 .../batchsizing/RecordBatchSizerManager.java           |  3 +--
 .../drill/exec/util/record/RecordBatchStats.java       | 18 +++++++++++++++++-
 11 files changed, 33 insertions(+), 17 deletions(-)

commit e477480e7b9626abc8efd70914d3bfd4321b7258
Author: Gautam Parai <gparai@maprtech.com>
Date:   Mon Mar 25 17:12:06 2019 -0700

    DRILL-7076: Fix NPE in StatsMaterializationVisitor
    
    closes #1722

 .../impl/statistics/StatisticsAggBatch.java        | 10 +++++----
 .../drill/exec/planner/common/DrillStatsTable.java | 24 ++++++++++++----------
 .../org/apache/drill/exec/sql/TestAnalyze.java     |  2 +-
 3 files changed, 20 insertions(+), 16 deletions(-)

commit d29a5b1749a77b863be3eac1423f4ecf6d244ebf
Author: HanumathRao <hanu.ncr@gmail.com>
Date:   Mon Apr 1 14:23:27 2019 -0700

    DRILL-7146: Query failing with NPE when ZK queue is enabled.

 .../exec/planner/fragment/QueueQueryParallelizer.java     |  2 +-
 .../drill/exec/planner/rm/TestMemoryCalculator.java       | 15 +++++++++++++++
 2 files changed, 16 insertions(+), 1 deletion(-)

commit 54384a992a0742aeab23afa82c7b7f4adcd388d3
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Apr 2 14:30:26 2019 -0700

    DRILL-7152: During histogram creation handle the case when all values of a column are NULLs.
    
    close apache/drill#1730

 .../drill/exec/expr/fn/impl/TDigestFunctions.java  | 320 ++++++++++++---------
 .../org/apache/drill/exec/sql/TestAnalyze.java     |  36 +++
 2 files changed, 228 insertions(+), 128 deletions(-)

commit fd331da3872534b284ebd54fec0ff11f7bae47a5
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Feb 13 15:29:04 2019 -0800

    DRILL-7117: Support creation of equi-depth histogram for selected data types.
    
    Support int/bigint/float4/float8, time/timestamp/date and boolean.
    
    Build the histogram from the t-digest byte array and serialize as JSON string.
    
    More changes for serialization/deserialization.
    
    Add code-gen stubs (empty) for VarChar/VarBinary types.
    
    Address review comments (part 1).  Add unit test.
    
    Address review comments (part 2) for sampling.
    
    close apache/drill#1715

 .../java/org/apache/drill/exec/ExecConstants.java  |    8 +
 .../drill/exec/expr/fn/impl/TDigestFunctions.java  | 1082 ++++++++++++++++++++
 .../impl/statistics/MergedStatisticFactory.java    |    1 +
 .../exec/physical/impl/statistics/Statistic.java   |    2 +
 .../impl/statistics/StatisticsMergeBatch.java      |    5 +-
 .../impl/statistics/TDigestMergedStatistic.java    |  130 +++
 .../drill/exec/planner/common/DrillStatsTable.java |   47 +-
 .../drill/exec/planner/common/Histogram.java       |   41 +
 .../drill/exec/planner/common/HistogramUtils.java  |   53 +
 .../planner/common/NumericEquiDepthHistogram.java  |  114 +++
 .../drill/exec/planner/physical/AnalyzePrule.java  |    7 +-
 .../exec/server/options/SystemOptionManager.java   |    3 +-
 .../easy/json/JsonStatisticsRecordWriter.java      |    6 +-
 .../java-exec/src/main/resources/drill-module.conf |    3 +-
 .../org/apache/drill/exec/sql/TestAnalyze.java     |   61 ++
 exec/jdbc-all/pom.xml                              |    1 +
 16 files changed, 1557 insertions(+), 7 deletions(-)

commit 021ae66322ff8027da3c9e21fb4855aa9e5eed44
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Thu Mar 28 22:10:09 2019 -0700

    DRILL-7140: RM: Drillbits fail with "No enum constant org.apache.drill.exec.resourcemgr.config.selectionpolicy.QueueSelectionPolicy.SelectionPolicy.bestfit"
    
    closes #1720

 .../resourcemgr/config/ResourcePoolTreeImpl.java    | 17 +++++++++--------
 .../exec/resourcemgr/TestResourcePoolTree.java      | 21 +++++++++++++++++++++
 2 files changed, 30 insertions(+), 8 deletions(-)

commit 42c1a699742cf198b6c39a5285ecc9a94fa250e5
Author: Jean-Claude <jccote@gmail.com>
Date:   Sat Jan 12 09:15:44 2019 -0500

    DRILL-6970 Fix issue with logregex format plugin where drillbuf was
    overflowing
    
    closes #1673

 .../drill/exec/store/log/LogRecordReader.java      |   19 +-
 .../apache/drill/exec/store/log/TestLogReader.java |   47 +-
 exec/java-exec/src/test/resources/regex/large.log1 | 9990 ++++++++++++++++++++
 3 files changed, 10034 insertions(+), 22 deletions(-)

commit f8766b877d19710f6a358b141cb1ddbe39505005
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Mar 29 19:57:07 2019 +0200

    DRILL-7142: Add space after > in SqlLine prompt
    
    closes #1721

 .../main/java/org/apache/drill/exec/client/DrillSqlLineApplication.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3c798d338f4f4dab6713956e0a94d18e6e5c72bd
Author: Charles S. Givre <cgivre@gmail.com>
Date:   Mon Mar 25 13:45:01 2019 -0400

    DRILL-7077: Add Function to Facilitate Time Series Analysis
    
    closes #1680

 .../drill/exec/udfs/NearestDateFunctions.java      | 147 ++++++++++++++++++++
 .../apache/drill/exec/udfs/NearestDateUtils.java   | 151 ++++++++++++++++++++
 .../drill/exec/udfs/TestNearestDateFunctions.java  | 153 +++++++++++++++++++++
 3 files changed, 451 insertions(+)

commit e2ec2702519a7b8797cd203dcc83c9e7c2a87b20
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Mar 4 00:05:14 2019 +0200

    DRILL-7051: Upgrade jetty
    - upgrade Jetty dependencies to 9.3 version
    - adaptation to the new Jetty API (SessionHandler, LoginService, AbstractLoginService)
    - add JavaDocs and code refactoring
    
    closes #1681

 .../drill/yarn/appMaster/http/WebServer.java       | 31 +++++-----
 exec/java-exec/pom.xml                             | 15 ++---
 .../drill/exec/server/rest/StorageResources.java   |  9 +--
 .../apache/drill/exec/server/rest/WebServer.java   |  8 ++-
 .../server/rest/auth/DrillRestLoginService.java    |  5 +-
 .../server/rest/auth/DrillSpnegoAuthenticator.java | 13 ++--
 .../server/rest/auth/DrillSpnegoLoginService.java  | 10 +--
 .../rest/spnego/TestSpnegoAuthentication.java      | 18 +++---
 .../apache/drill/test/TestGracefulShutdown.java    | 15 +++--
 pom.xml                                            | 72 ++++++++++++++--------
 10 files changed, 99 insertions(+), 97 deletions(-)

commit 12487c9b34cf6211d9f954801ae63efc4e43280d
Author: Charles S. Givre <cgivre@gmail.com>
Date:   Mon Mar 25 11:40:29 2019 -0400

    DRILL-7032: Ignore corrupt rows in a PCAP file
    
    closes #1637

 .../drill/exec/store/pcap/PcapRecordReader.java    |  51 +++++++++++++--------
 .../drill/exec/store/pcap/decoder/Packet.java      |  19 +++++++-
 .../drill/exec/store/pcap/schema/Schema.java       |  25 +++++-----
 .../exec/store/pcap/TestPcapRecordReader.java      |   7 +++
 .../src/test/resources/store/pcap/testv1.pcap      | Bin 0 -> 544736 bytes
 5 files changed, 68 insertions(+), 34 deletions(-)

commit a61eddc12eef19f0bb68cc453719cf17076e11c7
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Feb 5 13:51:13 2019 +0200

    DRILL-6989: Upgrade to SqlLine 1.7
    
    closes #1717

 distribution/src/resources/sqlline                 |  2 +-
 distribution/src/resources/sqlline.bat             |  2 +-
 .../drill/exec/client/DrillSqlLineApplication.java | 32 ++++++++++++++++++++--
 .../src/main/resources/drill-sqlline.conf          |  4 ++-
 pom.xml                                            |  2 +-
 5 files changed, 36 insertions(+), 6 deletions(-)

commit d89d5fc769557aef4c74c0b33b9c8f854035da93
Author: Paul Rogers <progers@cloudera.com>
Date:   Sun Mar 17 13:57:54 2019 -0700

    DRILL-7011: Support schema in scan framework
    
    * Adds schema support to the row set-based scan framework and to the "V3" text reader based on that framework.
    * Adding the schema made clear that passing options as a long list of constructor arguments was not sustainable. Refactored code to use a builder pattern instead.
    * Added support for default values in the "null column loader", which required adding a "setValue" method to the column accessors.
    * Added unit tests for all new or changed functionality. See TestCsvWithSchema for the overall test of the entire integrated mechanism.
    * Added tests for explicit projection with schema
    * Better handling of date/time in column accessors
    * Converted recent column metadata work from Java 8 date/time to Joda.
    * Added more CSV-with-schema unit tests
    * Removed the ID fields from "resolved columns", used "instanceof" instead.
    * Added wildcard projection with an output schema. Handles both "lenient" and "strict" schemas.
    * Tagged projection columns with their output schema, when available.
    * Scan projection added modes for wildcard with an output schema. The reader projection added support for merging reader and output schemas.
    * Includes refactoring of scan operator tests (the test file grew too large.)
    * Renamed some classes to avoid confusing reader schemas with output schemas.
    * Added unit tests for the new functionality.
    * Added "lenient" wildcard with schema test for CSV
    * Added more type conversions: string-to-bit, many-to-string
    * Fixed bug in column writer for VarDecimal
    * Added missing unit tests, and fixed bugs, in Bit column reader/writer
    * Cleaned up a number of unneded "SuppressWarnings"
    
    closes #1711

 .../drill/common/exceptions/UserException.java     |   37 +-
 .../exec/cache/VectorAccessibleSerializable.java   |    4 -
 .../apache/drill/exec/cache/VectorSerializer.java  |    1 -
 .../drill/exec/client/LoggingResultsListener.java  |    1 -
 .../apache/drill/exec/compile/ClassBuilder.java    |    1 -
 .../drill/exec/compile/ClassTransformer.java       |    1 -
 .../expr/fn/FunctionImplementationRegistry.java    |    2 -
 .../exec/physical/impl/MergingReceiverCreator.java |    1 -
 .../apache/drill/exec/physical/impl/ScanBatch.java |    2 +-
 .../physical/impl/TopN/PriorityQueueTemplate.java  |    5 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |    7 -
 .../exec/physical/impl/WriterRecordBatch.java      |    2 -
 .../exec/physical/impl/aggregate/HashAggBatch.java |    5 +-
 .../physical/impl/aggregate/HashAggTemplate.java   |    4 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |    3 -
 .../physical/impl/common/ChainedHashTable.java     |    1 -
 .../physical/impl/common/HashTableTemplate.java    |    8 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |    4 -
 .../impl/mergereceiver/MergingRecordBatch.java     |    3 -
 .../OrderedPartitionRecordBatch.java               |    5 -
 .../OrderedPartitionSenderCreator.java             |    1 -
 .../impl/partitionsender/PartitionerTemplate.java  |    1 -
 .../impl/scan/columns/ColumnsArrayManager.java     |    8 +-
 .../impl/scan/columns/ColumnsArrayParser.java      |    4 +-
 .../impl/scan/columns/ColumnsScanFramework.java    |   74 +-
 .../impl/scan/columns/ColumnsSchemaNegotiator.java |    5 +-
 .../scan/columns/ResolvedColumnsArrayColumn.java   |    5 -
 .../scan/columns/UnresolvedColumnsArrayColumn.java |    8 +-
 .../impl/scan/file/BaseFileScanFramework.java      |  176 ---
 .../impl/scan/file/FileMetadataColumn.java         |    7 +-
 .../impl/scan/file/FileMetadataColumnsParser.java  |    4 +-
 .../impl/scan/file/FileMetadataManager.java        |  135 +-
 .../physical/impl/scan/file/FileScanFramework.java |  189 ++-
 .../physical/impl/scan/file/MetadataColumn.java    |    8 +-
 .../physical/impl/scan/file/PartitionColumn.java   |    5 -
 ...sicScanFramework.java => BasicScanFactory.java} |   34 +-
 .../impl/scan/framework/ManagedReader.java         |    2 +-
 ...canFramework.java => ManagedScanFramework.java} |  127 +-
 .../impl/scan/framework/SchemaNegotiatorImpl.java  |   23 +-
 .../impl/scan/framework/ShimBatchReader.java       |   22 +-
 ...edColumn.java => AbstractUnresolvedColumn.java} |   39 +-
 .../impl/scan/project/ColumnProjection.java        |   29 -
 .../scan/project/ExplicitSchemaProjection.java     |   23 +-
 .../impl/scan/project/MetadataManager.java         |    4 +-
 .../impl/scan/project/NoOpMetadataManager.java     |    4 +-
 .../impl/scan/project/NullColumnBuilder.java       |   96 +-
 .../impl/scan/project/NullColumnLoader.java        |   47 +-
 ...lProjection.java => ReaderLevelProjection.java} |   20 +-
 .../scan/project/ReaderSchemaOrchestrator.java     |   66 +-
 .../physical/impl/scan/project/ResolvedColumn.java |   15 +-
 .../impl/scan/project/ResolvedMapColumn.java       |    5 -
 .../impl/scan/project/ResolvedNullColumn.java      |   28 +-
 .../impl/scan/project/ResolvedTableColumn.java     |   17 +-
 .../physical/impl/scan/project/ResolvedTuple.java  |    5 +-
 .../impl/scan/project/ScanLevelProjection.java     |  203 ++-
 .../impl/scan/project/ScanSchemaOrchestrator.java  |  262 ++--
 .../physical/impl/scan/project/SchemaSmoother.java |   10 +-
 .../impl/scan/project/SmoothingProjection.java     |   20 +-
 .../impl/scan/project/WildcardProjection.java      |   63 +
 .../scan/project/WildcardSchemaProjection.java     |   81 +-
 .../physical/impl/sort/SortRecordBatchBuilder.java |    2 -
 .../drill/exec/physical/impl/spill/SpillSet.java   |    4 +-
 .../physical/impl/svremover/GenericSV4Copier.java  |    1 -
 .../physical/impl/union/UnionAllRecordBatch.java   |    2 +-
 .../physical/impl/unnest/UnnestRecordBatch.java    |    4 +-
 .../UnorderedReceiverCreator.java                  |    1 -
 .../physical/impl/validate/BatchValidator.java     |    4 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |    8 +-
 .../exec/physical/impl/xsort/MSortTemplate.java    |    2 -
 .../impl/xsort/managed/BufferedBatches.java        |    3 -
 .../impl/xsort/managed/ExternalSortBatch.java      |    1 -
 .../physical/impl/xsort/managed/MSortTemplate.java |    2 -
 .../xsort/managed/PriorityQueueCopierTemplate.java |    1 -
 .../xsort/managed/PriorityQueueCopierWrapper.java  |    1 -
 .../exec/physical/rowSet/impl/BuildFromSchema.java |    1 -
 .../rowSet/impl/DefaultSchemaTransformer.java      |    4 +
 .../physical/rowSet/impl/SchemaTransformer.java    |    2 +
 .../rowSet/impl/SchemaTransformerImpl.java         |    5 +-
 .../exec/physical/rowSet/impl/TupleState.java      |   19 +-
 .../rowSet/project/RequestedColumnImpl.java        |   14 +-
 .../drill/exec/record/HyperVectorWrapper.java      |    1 -
 .../drill/exec/record/RecordBatchLoader.java       |    1 -
 .../apache/drill/exec/record/RecordBatchSizer.java |    7 +-
 .../org/apache/drill/exec/record/SchemaUtil.java   |    3 -
 .../drill/exec/record/SimpleVectorWrapper.java     |    1 -
 .../apache/drill/exec/record/WritableBatch.java    |    4 -
 .../record/metadata/AbstractColumnMetadata.java    |    4 +-
 .../exec/record/metadata/MapColumnMetadata.java    |    1 -
 .../record/metadata/PrimitiveColumnMetadata.java   |   39 +-
 .../drill/exec/record/metadata/SchemaBuilder.java  |   10 +
 .../drill/exec/record/metadata/TupleSchema.java    |    4 +
 .../org/apache/drill/exec/server/Drillbit.java     |    3 -
 .../apache/drill/exec/server/RemoteServiceSet.java |    1 -
 .../drill/exec/server/rest/DrillRestServer.java    |    2 -
 .../apache/drill/exec/server/rest/DrillRoot.java   |    8 -
 .../drill/exec/server/rest/StatusResources.java    |    2 -
 .../drill/exec/server/rest/StorageResources.java   |    1 -
 .../apache/drill/exec/server/rest/WebServer.java   |    2 -
 .../exec/server/rest/profile/ProfileResources.java |    3 -
 .../exec/store/dfs/DrillFSDataInputStream.java     |    1 -
 .../exec/store/dfs/FileSystemSchemaFactory.java    |    1 -
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   27 +-
 .../exec/store/easy/text/TextFormatPlugin.java     |   69 +-
 .../easy/text/compliant/RepeatedVarCharOutput.java |    3 -
 .../columnreaders/FixedWidthRepeatedReader.java    |    1 -
 .../columnreaders/ParquetColumnMetadata.java       |    1 -
 .../store/parquet2/DrillParquetGroupConverter.java |    2 -
 .../drill/exec/store/sys/FunctionsIterator.java    |    1 -
 .../drill/exec/util/StoragePluginTestUtils.java    |    1 -
 .../drill/exec/vector/complex/fn/JsonReader.java   |    4 -
 .../drill/exec/vector/complex/fn/VectorOutput.java |    4 -
 .../vector/complex/impl/VectorContainerWriter.java |    1 -
 .../drill/exec/work/foreman/FragmentsRunner.java   |    1 -
 .../drill/exec/work/foreman/QueryManager.java      |    2 -
 .../work/foreman/rm/DistributedQueryQueue.java     |    1 -
 .../work/foreman/rm/DynamicResourceManager.java    |    1 -
 .../work/foreman/rm/ResourceManagerBuilder.java    |    1 -
 .../drill/exec/work/fragment/FragmentExecutor.java |    5 +-
 .../apache/drill/exec/work/user/PlanSplitter.java  |    1 -
 .../test/java/org/apache/drill/PlanningBase.java   |    1 -
 .../java/org/apache/drill/TestSchemaCommands.java  |    2 +-
 .../apache/drill/exec/cache/TestWriteToDisk.java   |    1 -
 .../exec/fn/interp/ExpressionInterpreterTest.java  |    3 -
 .../exec/physical/impl/TestConvertFunctions.java   |    2 -
 .../exec/physical/impl/TestSimpleFunctions.java    |    1 -
 .../impl/mergereceiver/TestMergingReceiver.java    |    7 -
 .../impl/scan/BaseScanOperatorExecTest.java        |  180 +++
 .../exec/physical/impl/scan/ScanTestUtils.java     |   74 +-
 .../exec/physical/impl/scan/TestColumnsArray.java  |   38 +-
 .../impl/scan/TestColumnsArrayFramework.java       |   96 +-
 .../physical/impl/scan/TestColumnsArrayParser.java |   33 +-
 .../impl/scan/TestFileMetadataColumnParser.java    |  197 ++-
 .../impl/scan/TestFileMetadataProjection.java      |   50 +-
 .../physical/impl/scan/TestFileScanFramework.java  |  166 +-
 .../physical/impl/scan/TestScanOperExecBasics.java |  398 +++++
 .../impl/scan/TestScanOperExecEarlySchema.java     |  260 ++++
 .../impl/scan/TestScanOperExecLateSchema.java      |  402 +++++
 .../impl/scan/TestScanOperExecOuputSchema.java     |  253 +++
 .../impl/scan/TestScanOperExecOverflow.java        |  195 +++
 .../impl/scan/TestScanOperExecSmoothing.java       |  257 ++++
 .../physical/impl/scan/TestScanOperatorExec.java   | 1603 --------------------
 .../impl/scan/TestScanOrchestratorEarlySchema.java |   94 +-
 .../impl/scan/TestScanOrchestratorLateSchema.java  |   11 +-
 .../impl/scan/TestScanOrchestratorMetadata.java    |   83 +-
 .../impl/scan/project/TestNullColumnLoader.java    |  221 ++-
 ...jection.java => TestReaderLevelProjection.java} |  166 +-
 .../impl/scan/project/TestRowBatchMerger.java      |   12 +-
 .../impl/scan/project/TestScanLevelProjection.java |   90 +-
 .../impl/scan/project/TestSchemaSmoothing.java     |   72 +-
 .../physical/impl/writer/TestParquetWriter.java    |    1 -
 .../impl/xsort/TestSimpleExternalSort.java         |   13 +-
 .../impl/xsort/managed/SortTestUtilities.java      |    9 +-
 .../physical/impl/xsort/managed/TestCopier.java    |   31 +-
 .../impl/xsort/managed/TestShortArrays.java        |    1 -
 .../physical/impl/xsort/managed/TestSortImpl.java  |   13 +-
 .../physical/impl/xsort/managed/TestSorter.java    |   13 +-
 .../exec/physical/unit/MiniPlanUnitTestBase.java   |    1 -
 .../metadata/schema/parser/TestSchemaParser.java   |    4 +-
 .../apache/drill/exec/record/vector/TestLoad.java  |    3 -
 .../drill/exec/record/vector/TestValueVector.java  |    6 +-
 .../drill/exec/rpc/data/TestBitBitKerberos.java    |    1 -
 .../drill/exec/server/TestDrillbitResilience.java  |    2 -
 .../store/easy/text/compliant/BaseCsvTest.java     |   13 +
 .../easy/text/compliant/TestCsvWithSchema.java     |  793 ++++++++++
 .../easy/text/compliant/TestPartitionRace.java     |   13 +-
 .../columnreaders/TestBatchSizingMemoryUtil.java   |    1 -
 .../java/org/apache/drill/test/BaseTestQuery.java  |    1 -
 .../java/org/apache/drill/test/ClusterFixture.java |    4 -
 .../drill/test/ClusterMockStorageFixture.java      |    1 -
 .../drill/test/LegacyOperatorTestBuilder.java      |    2 +-
 .../org/apache/drill/test/OperatorFixture.java     |    2 -
 .../org/apache/drill/test/OperatorTestBuilder.java |    2 +-
 .../java/org/apache/drill/test/QueryBuilder.java   |    1 -
 .../java/org/apache/drill/test/QueryTestUtil.java  |    3 -
 .../apache/drill/test/rowSet/HyperRowSetImpl.java  |    1 -
 .../apache/drill/test/rowSet/RowSetComparison.java |    5 +-
 .../test/rowSet/test/TestColumnConverter.java      |  274 +++-
 .../drill/test/rowSet/test/TestFillEmpties.java    |    3 +
 .../test/rowSet/test/TestIndirectReaders.java      |    2 -
 .../test/rowSet/test/TestScalarAccessors.java      |  346 +++--
 .../test/rowSet/test/TestVariantAccessors.java     |    2 -
 .../org/apache/drill/vector/TestFillEmpties.java   |    4 -
 .../org/apache/drill/vector/TestToNullable.java    |    6 +-
 .../main/codegen/templates/ColumnAccessors.java    |  183 ++-
 .../drill/exec/record/MaterializedField.java       |   70 +-
 .../exec/record/metadata/AbstractPropertied.java   |   12 +-
 .../drill/exec/record/metadata/ColumnMetadata.java |    3 +-
 .../drill/exec/record/metadata/ProjectionType.java |   60 +-
 .../drill/exec/record/metadata/Propertied.java     |    2 +
 .../drill/exec/record/metadata/TupleMetadata.java  |    2 +
 .../drill/exec/vector/accessor/ScalarReader.java   |   25 +
 .../drill/exec/vector/accessor/ScalarWriter.java   |   15 +
 .../drill/exec/vector/accessor/ValueType.java      |   21 +
 .../convert/AbstractConvertFromString.java         |   47 +
 .../accessor/convert/AbstractWriteConverter.java   |    2 +-
 .../accessor/convert/ConvertBooleanToString.java   |   41 +
 .../accessor/convert/ConvertDateToString.java      |   60 +
 .../accessor/convert/ConvertDecimalToString.java   |   45 +
 .../accessor/convert/ConvertDoubleToString.java    |   43 +
 .../accessor/convert/ConvertIntToString.java       |   43 +
 .../accessor/convert/ConvertIntervalToString.java  |   48 +
 .../accessor/convert/ConvertLongToString.java      |   43 +
 .../accessor/convert/ConvertStringToBoolean.java   |   47 +
 .../accessor/convert/ConvertStringToDate.java      |   17 +-
 .../accessor/convert/ConvertStringToDecimal.java   |   50 +
 .../accessor/convert/ConvertStringToDouble.java    |    4 +-
 .../accessor/convert/ConvertStringToInt.java       |    4 +-
 .../accessor/convert/ConvertStringToInterval.java  |    4 +-
 .../accessor/convert/ConvertStringToLong.java      |    4 +-
 .../accessor/convert/ConvertStringToTime.java      |   16 +-
 .../accessor/convert/ConvertStringToTimeStamp.java |   15 +-
 .../accessor/convert/ConvertTimeStampToString.java |   60 +
 .../accessor/convert/ConvertTimeToString.java      |   60 +
 .../accessor/convert/StandardConversions.java      |  104 +-
 .../exec/vector/accessor/convert/package-info.java |   23 +-
 .../accessor/reader/AbstractScalarReader.java      |   33 +-
 .../accessor/writer/AbstractScalarWriter.java      |    2 +
 .../accessor/writer/NullableScalarWriter.java      |   11 +
 .../accessor/writer/OffsetVectorWriterImpl.java    |    6 +
 .../accessor/writer/dummy/DummyScalarWriter.java   |    3 +
 220 files changed, 6634 insertions(+), 3417 deletions(-)

commit 5f5b3ca6a8af175e603877689c4b15a3126fe016
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Mar 28 18:04:31 2019 +0200

    DRILL-7138: Implement command to describe schema for table
    
    closes #1719

 .../src/main/codegen/includes/parserImpls.ftl      |  39 +++++--
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   7 ++
 .../exec/planner/sql/handlers/SchemaHandler.java   |  95 ++++++++++++++++-
 .../sql/parser/CompoundIdentifierConverter.java    |   1 +
 .../drill/exec/planner/sql/parser/SqlSchema.java   |  64 +++++++++++-
 .../record/metadata/schema/PathSchemaProvider.java |   4 +-
 .../java/org/apache/drill/TestSchemaCommands.java  | 112 +++++++++++++++++++++
 7 files changed, 311 insertions(+), 11 deletions(-)

commit 56d0a2eb40c49d278dc4fbb099008371b9f4da9c
Author: Gautam Parai <gparai@maprtech.com>
Date:   Mon Mar 25 12:08:31 2019 -0700

    DRILL-7121: Use the NDV guess (same as before) when statistics is disabled
    
    closes #1718

 .../drill/exec/planner/common/DrillRelOptUtil.java | 21 +++-----
 .../drill/exec/planner/common/DrillStatsTable.java |  3 +-
 .../planner/cost/DrillRelMdDistinctRowCount.java   | 61 +++++++++-------------
 .../exec/planner/cost/DrillRelMdRowCount.java      | 13 ++---
 .../exec/planner/cost/DrillRelMdSelectivity.java   |  7 +--
 5 files changed, 41 insertions(+), 64 deletions(-)

commit be73250e68ffd836541223cf4aca395896362866
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Jul 23 13:03:50 2018 +0300

    DRILL-6562: Plugin Management improvements
    
    - allow export plugin configs to json or hocon file formt
    - allow export plugins configs for all/enabled/disabled groups
    - add modals for export plugins and create new plugin
    - storage UI improvements,responsive Storage page
    - StorageResources refactoring. Remove redundant deletePlugin() DELETE request
    - fix broken message for deletePlugin
    
    closes #1692

 .../drill/exec/server/rest/LogsResources.java      |  15 +-
 .../drill/exec/server/rest/StorageResources.java   | 150 +++++++------
 exec/java-exec/src/main/resources/rest/options.ftl |   4 +-
 .../main/resources/rest/static/js/serverMessage.js |  35 +++
 .../src/main/resources/rest/storage/list.ftl       | 250 ++++++++++++++++++---
 .../src/main/resources/rest/storage/update.ftl     | 120 ++++++----
 6 files changed, 424 insertions(+), 150 deletions(-)

commit bd374345cf11642857b702ceba660580f3cf4af5
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Thu Mar 21 10:52:14 2019 +0200

    DRILL-7079: Drill can't query views from the S3 storage when plain authentication is enabled
    
    closes #1712

 .../main/java/org/apache/drill/exec/dotdrill/DotDrillFile.java    | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 90b8fcb8f01277de10d1cdb8c3ecca3ad8a6294d
Author: Oleg Zinoviev <ozinoviev@solit-clouds.ru>
Date:   Thu Mar 14 16:56:45 2019 +0300

    DRILL-7103: Incorrect conversion to integer in BsonRecordReader#writeTimeStamp
    
    closes #1695

 .../java/org/apache/drill/exec/store/bson/BsonRecordReader.java   | 2 +-
 .../org/apache/drill/exec/store/bson/TestBsonRecordReader.java    | 8 +++++---
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 6e98d04d06fa6c3574f857cc66a5b60135c36d40
Author: HanumathRao <hanu.ncr@gmail.com>
Date:   Wed Mar 20 12:01:11 2019 -0700

    DRILL-7118: Filter not getting pushed down on MapR-DB tables.
    
    closes #1708

 .../exec/store/mapr/db/json/CompareFunctionsProcessor.java | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit ef951f50376f4e1b993cd4788367fc891743ff6b
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Mar 20 13:03:07 2019 +0200

    DRILL-7124: Fix logger for ShowFilesHandler
    
    closes #1705

 .../org/apache/drill/exec/planner/sql/handlers/ShowFilesHandler.java | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 5e2251a9fd659b81ebfcd6702ee4ee16b3f7b6b3
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Sat Mar 23 08:32:34 2019 -0700

    DRILL-7110: Skip writing profile when an ALTER SESSION is executed (#1703)
    
    Allows (by default) for `ALTER SESSION SET <option>=<value>` queries to NOT be writen to the profile store. This would avoid the risk of potentially adding up to a lot of profiles being written unnecessarily, since those changes are also reflected on the queries that follow.

 .../main/java/org/apache/drill/exec/ExecConstants.java  |  5 ++++-
 .../java/org/apache/drill/exec/ops/QueryContext.java    | 17 +++++++++++++++++
 .../exec/planner/sql/handlers/SetOptionHandler.java     |  7 ++++++-
 .../drill/exec/server/options/SystemOptionManager.java  |  1 +
 .../org/apache/drill/exec/work/foreman/Foreman.java     |  8 ++++----
 exec/java-exec/src/main/resources/drill-module.conf     |  1 +
 6 files changed, 33 insertions(+), 6 deletions(-)

commit 212e5c0d9656cd572426aa514bf37e0bd002bdd6
Author: Gautam Parai <gparai@maprtech.com>
Date:   Mon Mar 18 12:55:07 2019 -0700

    DRILL-7109: Apply selectivity calculations to single column filter predicates
    
    closes #1701

 .../exec/planner/cost/DrillRelMdSelectivity.java   | 23 ++++++++++++++++++++--
 1 file changed, 21 insertions(+), 2 deletions(-)

commit 5a0155977daabe33422aafa96ba04f880d8e7b04
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Fri Mar 22 15:16:38 2019 -0700

    Add public gpg key for Sorabh

 KEYS | 83 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 83 insertions(+)

commit 0a547708d6734f893ca0d6bf673f7a6ae856375e
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Fri Mar 22 08:49:08 2019 -0700

    Fixed IllegalStateException while reading Parquet data

 .../parquet/columnreaders/VarLenAbstractPageEntryReader.java | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 582da5f24e9cac6e41b8bd9b34f27358bf6cf8f6
Author: Abhishek Girish <agirish@apache.org>
Date:   Thu Mar 21 13:54:39 2019 -0700

    DRILL-7126: Contrib format-ltsv is not being included in distribution (#1709)

 contrib/format-ltsv/pom.xml             | 27 ++++++++++++++++++++++++++-
 distribution/pom.xml                    |  5 +++++
 distribution/src/assemble/component.xml |  1 +
 3 files changed, 32 insertions(+), 1 deletion(-)

commit bd3ee4cde5ced05362b538cd7aacbdab73ccef88
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Wed Mar 20 13:29:40 2019 -0700

    DRILL-7125: REFRESH TABLE METADATA fails after upgrade from Drill 1.13.0 to Drill 1.15.0

 .../sql/handlers/RefreshMetadataHandler.java       | 33 ++++----
 .../exec/store/parquet/metadata/Metadata.java      | 88 +++++++++++++---------
 2 files changed, 72 insertions(+), 49 deletions(-)

commit 189ebb462f382283c3e1556025d8e3e62040f34d
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Mar 8 14:18:31 2019 +0200

    DRILL-6852: Adapt current Parquet Metadata cache implementation to use Drill Metastore API
    
    Co-authored-by: Volodymyr Vysotskyi <vvovyk@gmail.com>
    Co-authored-by: Vitalii Diravka <vitalii@apache.org>
    
    close apache/drill#1646

 .../store/hive/HiveDrillNativeParquetScan.java     |  86 ++-
 .../hive/HiveParquetTableMetadataProvider.java     | 104 +++
 ...BooleanPredicate.java => BooleanPredicate.java} |  47 +-
 ...isonPredicate.java => ComparisonPredicate.java} | 158 +++--
 .../drill/exec/expr/ExactStatisticsConstants.java  |  28 +
 .../exec/expr/ExpressionTreeMaterializer.java      |  31 +-
 .../FilterBuilder.java}                            |  85 ++-
 .../apache/drill/exec/expr/FilterPredicate.java    |  24 +
 .../ParquetIsPredicate.java => IsPredicate.java}   | 111 ++--
 .../apache/drill/exec/expr/StatisticsProvider.java | 336 ++++++++++
 .../exec/expr/stat/ParquetPredicatesHelper.java    |  60 --
 .../drill/exec/expr/stat/RangeExprEvaluator.java   | 365 -----------
 ...{ParquetFilterPredicate.java => RowsMatch.java} |  23 +-
 .../exec/physical/base/AbstractGroupScan.java      |   2 +-
 .../base/AbstractGroupScanWithMetadata.java        | 716 +++++++++++++++++++++
 .../drill/exec/physical/base/DbGroupScan.java      |  32 +-
 .../drill/exec/physical/base/FileGroupScan.java    |   7 +-
 .../apache/drill/exec/physical/base/GroupScan.java |   2 +-
 .../drill/exec/physical/base/IndexGroupScan.java   |  18 +-
 .../physical/base/ParquetMetadataProvider.java     |  69 ++
 .../base/ParquetTableMetadataProvider.java}        |  36 +-
 .../exec/physical/base/TableMetadataProvider.java  |  88 +++
 .../exec/planner/ParquetPartitionDescriptor.java   |  12 +-
 .../logical/DrillPushProjectIntoScanRule.java      |   6 +-
 .../planner/logical/partition/PruneScanRule.java   |   4 +-
 .../exec/record/metadata/SchemaPathUtils.java      |  85 +++
 .../store/parquet/AbstractParquetGroupScan.java    | 683 +++++++++++---------
 .../store/parquet/BaseParquetMetadataProvider.java | 347 ++++++++++
 .../exec/store/parquet/FilterEvaluatorUtils.java   | 139 ++++
 .../drill/exec/store/parquet/ParquetGroupScan.java | 338 ++--------
 .../store/parquet/ParquetGroupScanStatistics.java  | 138 ++--
 .../exec/store/parquet/ParquetPushDownFilter.java  |  20 +-
 .../store/parquet/ParquetRGFilterEvaluator.java    | 141 ----
 .../parquet/ParquetTableMetadataProviderImpl.java  | 338 ++++++++++
 .../store/parquet/ParquetTableMetadataUtils.java   | 670 +++++++++++++++++++
 .../exec/store/parquet/metadata/Metadata.java      |  23 +-
 .../exec/store/parquet/metadata/Metadata_V2.java   |   5 +-
 .../exec/store/parquet/metadata/Metadata_V3.java   |   3 +-
 .../parquet/stat/ParquetFooterStatCollector.java   | 196 ------
 .../parquet/stat/ParquetMetaStatCollector.java     | 301 ---------
 .../exec/store/parquet2/DrillParquetReader.java    |  10 -
 .../apache/drill/exec/util/ImpersonationUtil.java  |   8 +-
 .../org/apache/drill/metastore/BaseMetadata.java   |  80 +++
 .../metastore/CollectableColumnStatisticsKind.java |  36 ++
 .../metastore/CollectableTableStatisticsKind.java  |  36 ++
 .../apache/drill/metastore/ColumnStatistics.java   |  73 +++
 .../drill/metastore/ColumnStatisticsImpl.java      |  67 ++
 .../drill/metastore/ColumnStatisticsKind.java      | 120 ++++
 .../org/apache/drill/metastore/FileMetadata.java   | 102 +++
 .../apache/drill/metastore/FileTableMetadata.java  | 132 ++++
 .../apache/drill/metastore/LocationProvider.java   |  33 +
 .../apache/drill/metastore/PartitionMetadata.java  | 123 ++++
 .../apache/drill/metastore/RowGroupMetadata.java   | 106 +++
 .../org/apache/drill/metastore/StatisticsKind.java |  46 ++
 .../TableMetadata.java}                            |  19 +-
 .../drill/metastore/TableStatisticsKind.java       |  79 +++
 .../store/parquet/TestParquetFilterPushDown.java   | 132 ++--
 .../store/parquet/TestParquetLimitPushDown.java    |   8 +-
 .../apache/drill/common/expression/SchemaPath.java |   3 +
 .../org/apache/drill/common/graph/GraphValue.java  |   6 +-
 60 files changed, 4926 insertions(+), 2170 deletions(-)

commit 2d28be8d20805ea2ed75a7f96fbb735254b04d5e
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Mar 19 14:38:47 2019 -0700

    DRILL-7113: Fix creation of filter conditions for IS NULL and IS NOT NULL for MapR-DB format plugin
    
    close apache/drill#1704

 .../drill/exec/store/mapr/db/json/JsonConditionBuilder.java       | 8 ++++++--
 .../java/com/mapr/drill/maprdb/tests/json/TestSimpleJson.java     | 6 +++---
 2 files changed, 9 insertions(+), 5 deletions(-)

commit 7c2661d5dba80d2bebb100174ecefd5a3b194310
Author: Gautam Parai <gparai@maprtech.com>
Date:   Tue Mar 12 18:29:16 2019 -0700

    DRILL-7108: Improve selectivity estimates for (NOT)LIKE, NOT_EQUALS, IS NOT NULL predicates
    
    closes #1699

 .../drill/exec/planner/common/DrillStatsTable.java | 30 ++++++-
 .../exec/planner/cost/DrillRelMdSelectivity.java   | 98 +++++++++++++++++-----
 2 files changed, 106 insertions(+), 22 deletions(-)

commit a6474c5a732f3eaf0a8a772c80a4932a7bf2d937
Author: Paul Rogers <progers@cloudera.com>
Date:   Sat Mar 9 19:33:04 2019 -0800

    DRILL-7086: Output schema for row set mechanism
    
    Enhances the row set mechanism to take an "output schema" that describes the vectors to
    create. The "input schema" describes the type that the reader would like to write. A
    conversion mechanism inserts a conversion shim to convert from the input to output type.
    
    Provides a set of implicit type conversions, including string-to-date/time conversions
    which use the new format property stored in column metadata. Includes unit tests for
    the new functionality.
    
    closes #1690

 .../drill/exec/physical/impl/scan/ReaderState.java |  23 +
 .../exec/physical/rowSet/impl/ColumnBuilder.java   | 240 ++++++++--
 .../exec/physical/rowSet/impl/ContainerState.java  |   2 +-
 .../rowSet/impl/DefaultSchemaTransformer.java      |  73 +++
 .../exec/physical/rowSet/impl/LoaderInternals.java |   2 +
 .../exec/physical/rowSet/impl/OptionBuilder.java   |  21 +-
 .../physical/rowSet/impl/ResultSetLoaderImpl.java  |  17 +
 .../physical/rowSet/impl/SchemaTransformer.java    |  44 ++
 .../rowSet/impl/SchemaTransformerImpl.java         | 197 ++++++++
 .../physical/rowSet/model/MetadataProvider.java    |   6 +-
 .../rowSet/model/single/BaseWriterBuilder.java     |  12 +-
 .../rowSet/project/RequestedTupleImpl.java         |  15 +-
 .../record/metadata/AbstractColumnMetadata.java    | 150 +++---
 .../record/metadata/PrimitiveColumnMetadata.java   | 139 ++----
 .../drill/exec/record/metadata/TupleSchema.java    |  21 +-
 .../metadata/schema/parser/SchemaVisitor.java      |   4 +-
 .../java/org/apache/drill/TestSchemaCommands.java  |  14 +-
 .../physical/rowSet/impl/TestProjectedTuple.java   |   7 +-
 .../rowSet/impl/TestResultSetLoaderProjection.java | 187 ++++++++
 .../rowSet/impl/TestResultSetLoaderProtocol.java   |  53 ---
 .../impl/TestResultSetLoaderTypeConversion.java    | 149 ++++++
 .../record/metadata/TestMetadataProperties.java    | 229 +++++++++
 .../record/{ => metadata}/TestTupleSchema.java     |  17 +-
 .../record/metadata/schema/TestSchemaProvider.java |  13 +-
 .../metadata/schema/parser/TestSchemaParser.java   |  14 +-
 .../store/easy/text/compliant/BaseCsvTest.java     |   1 -
 .../org/apache/drill/test/rowSet/DirectRowSet.java |  11 +-
 .../apache/drill/test/rowSet/RowSetBuilder.java    |  17 +-
 .../drill/test/rowSet/test/DummyWriterTest.java    |  10 +-
 .../drill/test/rowSet/test/PerformanceTool.java    |   2 +-
 .../test/rowSet/test/TestColumnConverter.java      | 510 ++++++++++++++++++++-
 exec/jdbc-all/pom.xml                              |   2 +-
 .../main/codegen/templates/BasicTypeHelper.java    |  47 +-
 .../main/codegen/templates/ColumnAccessors.java    |  95 +++-
 .../exec/record/metadata/AbstractPropertied.java   |  72 +++
 .../drill/exec/record/metadata/ColumnMetadata.java | 104 ++---
 .../drill/exec/record/metadata/Propertied.java     |  46 ++
 .../exec/record/metadata/PropertyAccessor.java     |  62 +++
 .../drill/exec/record/metadata/TupleMetadata.java  |  13 +-
 .../apache/drill/exec/vector/DateUtilities.java    |  15 +-
 .../vector/accessor/InvalidConversionError.java    |  55 +++
 .../drill/exec/vector/accessor/ScalarWriter.java   |   6 +
 .../accessor/UnsupportedConversionError.java       |  16 +-
 .../AbstractWriteConverter.java                    |  23 +-
 .../{ => convert}/ColumnConversionFactory.java     |  15 +-
 .../accessor/convert/ConvertStringToDate.java      |  57 +++
 .../accessor/convert/ConvertStringToDouble.java    |  46 ++
 .../accessor/convert/ConvertStringToInt.java       |  47 ++
 .../accessor/convert/ConvertStringToInterval.java  |  49 ++
 .../accessor/convert/ConvertStringToLong.java      |  46 ++
 .../accessor/convert/ConvertStringToTime.java      |  56 +++
 .../accessor/convert/ConvertStringToTimeStamp.java |  55 +++
 .../accessor/convert/StandardConversions.java      | 262 +++++++++++
 .../exec/vector/accessor/convert/package-info.java |  23 +
 .../accessor/writer/AbstractObjectWriter.java      |  16 +
 .../accessor/writer/AbstractScalarWriter.java      |  17 +-
 .../accessor/writer/AbstractScalarWriterImpl.java  |  19 +-
 .../vector/accessor/writer/BaseScalarWriter.java   |  18 +
 .../accessor/writer/ColumnWriterFactory.java       |  47 +-
 .../accessor/writer/NullableScalarWriter.java      |  31 +-
 .../vector/accessor/writer/ScalarArrayWriter.java  |  11 +-
 .../vector/accessor/writer/UnionVectorShim.java    |   2 +-
 .../accessor/writer/dummy/DummyScalarWriter.java   |  12 +
 63 files changed, 3080 insertions(+), 505 deletions(-)

commit 71c1a4c691c50c660fea0b046ae71a83ae358e15
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Mar 15 18:00:23 2019 +0200

    DRILL-7106: Fix Intellij warning for FieldSchemaNegotiator
    
    closes #1698

 .../impl/scan/columns/ColumnsScanFramework.java    | 13 +--------
 .../impl/scan/columns/ColumnsSchemaNegotiator.java | 31 ++++++++++++++++++++++
 .../exec/store/easy/text/TextFormatPlugin.java     |  2 +-
 .../compliant/v3/CompliantTextBatchReader.java     |  2 +-
 .../impl/scan/TestColumnsArrayFramework.java       |  2 +-
 5 files changed, 35 insertions(+), 15 deletions(-)

commit 8712ffd8be479b7f71bb65f605f41b5135e74216
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon Mar 18 18:19:39 2019 +0200

    DRILL-7111: Fix table function execution for directories
    
    closes #1700

 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 69 +++++++++++++---------
 .../org/apache/drill/TestSelectWithOption.java     | 39 ++++++++++--
 2 files changed, 77 insertions(+), 31 deletions(-)

commit df0091273ef8d24c88c606b8e2622c221658b4ef
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Mar 14 18:46:37 2019 +0200

    DRILL-7095: Expose table schema (TupleMetadata) to physical operator (EasySubScan)
    
    1. Add system / session option store.table.use_schema_file to control if file schema can be used during query execution. False by default.
    2. Added methods in StoragePlugin interface which allow to create Group Scan with provided table schema.
    3. EasyGroupScan and EasySubScan now contain table schema, also they are able to serialize / deserialize it along with other scan properties.
    4. DrillTable which is the main entry point for schema provisioning, has method to store schema and later uses it to create physical scan.
    5. WorkspaceSchema when returning Drill table instance will get table schema from table root if available and if store.table.use_schema_file is set to true.
    
    This PR is the next step for Schema Provisioning project which currently exposes schema only for text reader.
    
    closes #1696

 .../java/org/apache/drill/exec/ExecConstants.java  |  4 +++
 .../drill/exec/planner/logical/DrillTable.java     |  8 ++++-
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../drill/exec/store/AbstractStoragePlugin.java    | 12 ++++++-
 .../org/apache/drill/exec/store/StoragePlugin.java | 24 +++++++++++++
 .../drill/exec/store/dfs/FileSystemPlugin.java     | 14 +++++---
 .../apache/drill/exec/store/dfs/FormatPlugin.java  | 17 ++++++---
 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 15 +++++++-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  9 +++--
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   | 41 +++++++++++++---------
 .../drill/exec/store/dfs/easy/EasySubScan.java     | 32 ++++++++++-------
 .../sequencefile/SequenceFileFormatPlugin.java     |  2 +-
 .../exec/store/easy/text/TextFormatPlugin.java     | 21 +++++------
 .../exec/store/parquet/ParquetFormatPlugin.java    |  2 +-
 .../java-exec/src/main/resources/drill-module.conf |  1 +
 .../test/java/org/apache/drill/PlanningBase.java   |  2 ++
 16 files changed, 147 insertions(+), 58 deletions(-)

commit bf1bdec6069f6fdd2132608450357edea47d328c
Author: Charles S. Givre <cgivre@gmail.com>
Date:   Tue Mar 12 08:57:20 2019 -0400

    DRILL-7021: HTTPD Throws NPE and Doesn't Recognize Timeformat

 exec/java-exec/pom.xml                             |   2 +-
 .../exec/store/httpd/HttpdLogFormatConfig.java     |  80 +++++
 .../exec/store/httpd/HttpdLogFormatPlugin.java     | 114 ++----
 .../drill/exec/store/httpd/HttpdLogRecord.java     |  92 +++--
 .../apache/drill/exec/store/httpd/HttpdParser.java | 396 ++++++++++++++-------
 .../drill/exec/store/httpd/HttpdParserTest.java    |  50 ---
 .../main/resources/bootstrap-storage-plugins.json  | 178 ++++-----
 .../drill/exec/store/FormatPluginSerDeTest.java    |   4 +-
 .../drill/exec/store/httpd/TestHTTPDLogReader.java | 237 ++++++++++++
 .../resources/httpd/hackers-access-small.httpd     |  10 +
 10 files changed, 794 insertions(+), 369 deletions(-)

commit 2364b02175bec69cee2f9ceb4e52e1333da39f70
Author: shimamoto <shimamoto@apache.org>
Date:   Fri Mar 8 11:04:16 2019 +0900

    DRILL-7014: Format plugin for LTSV files
    closes #1627

 contrib/format-ltsv/README.md                      |  38 +++++
 contrib/format-ltsv/pom.xml                        |  56 +++++++
 .../drill/exec/store/ltsv/LTSVFormatPlugin.java    |  97 ++++++++++++
 .../exec/store/ltsv/LTSVFormatPluginConfig.java    |  60 ++++++++
 .../drill/exec/store/ltsv/LTSVRecordReader.java    | 165 +++++++++++++++++++++
 .../src/main/resources/drill-module.conf           |  20 +++
 .../exec/store/ltsv/TestLTSVRecordReader.java      | 100 +++++++++++++
 .../format-ltsv/src/test/resources/emptylines.ltsv |   4 +
 .../format-ltsv/src/test/resources/invalid.ltsv    |   1 +
 contrib/format-ltsv/src/test/resources/simple.ltsv |   2 +
 .../native/client/src/protobuf/UserBitShared.pb.cc |  15 +-
 .../native/client/src/protobuf/UserBitShared.pb.h  |   5 +-
 contrib/pom.xml                                    |   1 +
 pom.xml                                            |   2 +
 .../org/apache/drill/exec/proto/UserBitShared.java |  21 ++-
 .../drill/exec/proto/beans/CoreOperatorType.java   |   4 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   1 +
 17 files changed, 576 insertions(+), 16 deletions(-)

commit a72f1700a8d260a2f92ba8955c77df6428feb919
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Fri Mar 15 13:02:23 2019 +0200

    DRILL-7105: Error while building the Drill native client
    
    Added a compiler option in CMakeLists.txt to support the ISO C++ 2011 standard.
    Also, changed the CMake min version to 3.1.3 to match the min version specified in protobuf.
    closes #1697

 contrib/native/client/CMakeLists.txt | 5 ++++-
 contrib/native/client/readme.linux   | 2 +-
 contrib/native/client/readme.macos   | 2 +-
 3 files changed, 6 insertions(+), 3 deletions(-)

commit d69af973d1b91f71dd6314d01dd9399b1f7b9016
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Tue Mar 12 14:25:39 2019 -0700

    DRILL-6707: Removed changes for setOutputRowCount.
    Modified LateralJoin to use new setCurrentOutgoingMaxRowCount api
    Limit CurrentOutgoingMaxRowCount to MAX_NUM_ROWS
    Fix HashJoin to fix failing tests
    
    closes #1650

 .../exec/physical/impl/join/HashJoinBatch.java     |  2 +-
 .../exec/physical/impl/join/LateralJoinBatch.java  | 37 ++++++++++++++++------
 .../exec/record/RecordBatchMemoryManager.java      | 22 ++++++++++---
 3 files changed, 47 insertions(+), 14 deletions(-)

commit 3b85694be4c37bb217366287c182d50ceadda4ab
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Mon Mar 4 21:05:32 2019 -0800

    DRILL-6707: Update target outgoing batch row count between current position and allocated size

 .../exec/physical/impl/join/HashJoinBatch.java     |  2 +-
 .../physical/impl/join/HashJoinProbeTemplate.java  |  3 +-
 .../exec/physical/impl/join/LateralJoinBatch.java  |  4 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    | 13 ++--
 .../physical/impl/join/NestedLoopJoinTemplate.java |  3 +-
 .../drill/exec/record/JoinBatchMemoryManager.java  | 84 +++++++++++++++++++---
 .../exec/record/RecordBatchMemoryManager.java      | 36 ++++++----
 7 files changed, 110 insertions(+), 35 deletions(-)

commit d22e68b83d1d0cc0539d79ae0cb3aa70ae3242ad
Author: HanumathRao <hanu.ncr@gmail.com>
Date:   Thu Feb 28 00:12:05 2019 -0800

    DRILL-7068: Support memory adjustment framework for resource management with Queues.
    closes #1677

 .../common/util/function/CheckedConsumer.java      |  39 ++++
 .../exec/store/kafka/KafkaFilterPushdownTest.java  |   2 +-
 .../apache/drill/exec/physical/PhysicalPlan.java   |   2 +-
 .../drill/exec/physical/base/AbstractBase.java     |   7 +-
 .../drill/exec/physical/base/AbstractExchange.java |  16 ++
 .../apache/drill/exec/physical/base/Exchange.java  |  17 ++
 .../drill/exec/physical/base/PhysicalOperator.java |   5 +-
 .../partitionsender/PartitionSenderRootExec.java   |   2 +-
 .../drill/exec/planner/cost/DrillRelOptCost.java   |   2 +
 .../drill/exec/planner/cost/NodeResource.java      |  73 +++++++
 .../drill/exec/planner/cost/PrelCostEstimates.java |  51 +++++
 .../planner/fragment/DefaultQueryParallelizer.java |  66 ++++++
 .../drill/exec/planner/fragment/Fragment.java      |  35 +++-
 .../planner/fragment/MakeFragmentsVisitor.java     |  30 ++-
 .../drill/exec/planner/fragment/Materializer.java  |  14 +-
 .../exec/planner/fragment/MemoryCalculator.java    | 160 +++++++++++++++
 .../exec/planner/fragment/QueryParallelizer.java   |  63 ++++++
 .../planner/fragment/QueueQueryParallelizer.java   | 173 ++++++++++++++++
 .../exec/planner/fragment/SimpleParallelizer.java  | 218 +++++++++++---------
 .../exec/planner/fragment/StatsCollector.java      |   3 +-
 .../drill/exec/planner/fragment/Wrapper.java       |  47 ++++-
 .../fragment/contrib/SplittingParallelizer.java    |  28 ++-
 .../exec/planner/physical/PhysicalPlanCreator.java |  20 +-
 .../drill/exec/util/MemoryAllocationUtilities.java |  46 +++--
 .../apache/drill/exec/work/foreman/Foreman.java    |  21 +-
 .../work/foreman/rm/DefaultResourceManager.java    |  13 +-
 .../exec/work/foreman/rm/QueryResourceManager.java |  10 +
 .../work/foreman/rm/ThrottledResourceManager.java  |  12 ++
 .../apache/drill/exec/work/user/PlanSplitter.java  |   4 +-
 .../org/apache/drill/exec/TestOpSerialization.java |   5 +-
 .../exec/physical/impl/TestLocalExchange.java      |   9 +-
 .../impl/partitionsender/TestPartitionSender.java  |  14 +-
 .../exec/planner/rm/TestMemoryCalculator.java      | 227 +++++++++++++++++++++
 .../apache/drill/exec/pop/TestFragmentChecker.java |   8 +-
 .../src/test/resources/join/hashJoinExpr.json      |  35 +++-
 .../src/test/resources/join/mergeJoinExpr.json     |  50 ++++-
 .../test/resources/join/merge_join_nullkey.json    |  60 ++++--
 .../json/project_pushdown_json_physical_plan.json  |  12 +-
 38 files changed, 1375 insertions(+), 224 deletions(-)

commit 5aa38a51d90998234b4ca46434ce225df72addc5
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Sun Mar 10 13:57:03 2019 +0200

    DRILL-2326: Fix scalar replacement for the case when static method which does not return values is called
    
    - Fix check for return function value to handle the case when created object is returned without assigning it to the local variable
    closes #1687

 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    |  35 +++---
 .../exec/compile/bytecode/InstructionModifier.java |  24 ++--
 .../compile/bytecode/ReplacingInterpreter.java     |   7 ++
 .../exec/physical/impl/TestConvertFunctions.java   | 130 ++++++---------------
 4 files changed, 75 insertions(+), 121 deletions(-)

commit e7f0bbf1f45b0d39d3796be81207aecd716d6aae
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Sat Mar 9 23:57:33 2019 +0200

    DRILL-6524: Assign holder fields instead of assigning object references in generated code to allow scalar replacement for more cases
    closes #1686

 .../apache/drill/exec/expr/EvaluationVisitor.java  | 27 ++++++--
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  | 14 ++--
 .../drill/exec/vector/ValueHolderHelper.java       | 77 +++++++++++++++++++++-
 3 files changed, 105 insertions(+), 13 deletions(-)

commit ad0418ff1e7b8fd3dd1a5ba4b0818bc3e6d3f041
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Sat Mar 9 23:54:06 2019 +0200

    DRILL-6524: Prevent incorrect scalar replacement for the case of assigning references inside if block

 .../exec/compile/bytecode/MethodAnalyzer.java      | 138 ++++++++++++++++-----
 .../exec/compile/bytecode/ReplacingBasicValue.java |  31 ++++-
 .../compile/bytecode/ScalarReplacementNode.java    |   2 +-
 .../bytecode/ValueHolderReplacementVisitor.java    |   6 +-
 .../org/apache/drill/TestProjectWithFunctions.java | 123 +++++++++++++++++-
 .../exec/compile/TestClassTransformation.java      |  93 ++++++++++++--
 .../org/apache/drill/CompileClassWithIfs.java      |  42 +++++++
 7 files changed, 391 insertions(+), 44 deletions(-)

commit a99db5fe53084a18a83e589ae529ffe5edbcc0a8
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Wed Feb 13 01:14:14 2019 +0200

    DRILL-7038: Queries on partitioned columns scan the entire datasets
    
    - Added new optimizer rule which checks if query references directory columns only and has DISTINCT or GROUP BY operation. If the condition holds, instead of scanning full file set the following will be performed:
    1) if there is cache metadata file, these directories will be read from it,
    2) otherwise directories will be gathered from selection object (PartitionLocation).
    
    In the end Scan node will be transformed to DrillValuesRel (containing constant literals) with gathered values so no scan will be performed.
    closes #1640

 .../apache/drill/exec/planner/PlannerPhase.java    |   6 +-
 .../planner/logical/partition/PruneScanRule.java   | 246 ++++++++++++++++++++-
 .../drill/exec/store/dfs/MetadataContext.java      |  11 +
 .../exec/store/parquet/ParquetFormatPlugin.java    |   1 +
 .../test/java/org/apache/drill/PlanTestBase.java   |  25 +++
 .../drill/TestDirScanToValuesConversion.java       |  73 ++++++
 .../store/parquet/TestParquetMetadataCache.java    |  20 --
 7 files changed, 354 insertions(+), 28 deletions(-)

commit e2619f6e09da53730fb3281fe9fad663f564a2c2
Author: Venkata Jyothsna Donapati <jyothsna.dvj@gmail.com>
Date:   Tue Feb 12 17:39:08 2019 -0800

    DRILL-7058: Refresh command to support subset of columns
    closes #1666

 exec/java-exec/src/main/codegen/data/Parser.tdd    |  6 +-
 .../src/main/codegen/includes/parserImpls.ftl      | 14 +++-
 .../sql/handlers/RefreshMetadataHandler.java       | 36 +++++++++-
 .../sql/parser/CompoundIdentifierConverter.java    |  2 +-
 .../planner/sql/parser/SqlRefreshMetadata.java     | 33 ++++++++-
 .../exec/store/parquet/metadata/Metadata.java      | 78 +++++++++++++---------
 .../store/parquet/TestParquetMetadataCache.java    | 33 +++++++++
 7 files changed, 160 insertions(+), 42 deletions(-)

commit 17bbcd5d87ded96a1c425ecf0e3358bfa5d5c430
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Wed Mar 13 10:52:53 2019 -0700

    DRILL-7061: Disable LIMIT Rows Option
    
    Freemarker by default introduces a comma in numeric values greater than 999. This corrects that by removing the ',' in the default limit size.
    
    However, since a Server-side implementation is in progress (DRILL-6960 and DRILL-7048), it is best to disable this for now. The latest commit in this will hide those capabilities in the WebUI until the server-side feature goes in.
    X
    closes #1689

 exec/java-exec/src/main/resources/rest/query/query.ftl              | 3 ++-
 exec/java-exec/src/main/resources/rest/static/js/querySubmission.js | 2 ++
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 5c935b762dc630d4016005bbe4d42f5bbf5a920d
Author: Naresh Bhat <naresh.bhat@linaro.org>
Date:   Tue Mar 5 15:28:27 2019 +0800

    DRILL-7075: Fix debian package issue with control files
    
    Add control file to generate debian package where we have deleted in #1669 PR. We need control file either in static form or dynamic form. The control file gives details about the package and conffiles used when a new version is installed then dpkg knows to ask what do you want to do with differences instead of just replacing file. According to debian packaging rules the control files are must and conffile is optional. Hence to add control file.  We also need to add "<exclude>**/control</exclude>" in distribution/pom.xml file.  Because without this line "mvn clean install -DskipTests -Drat.skip=false -Dlicense.skip=false" will fail.
    Reference link for debian packaging: https://wiki.debian.org/Packaging/Intro?action=show&redirect=IntroDebianPackaging
    
    Signed-off-by: Naresh Bhat <naresh.bhat@linaro.org>
    
    closes #1679

 distribution/pom.xml                 | 1 +
 distribution/src/deb/control/control | 9 +++++++++
 2 files changed, 10 insertions(+)

commit c7f6a073c0974153be90683841e51e1eced88d6c
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Wed Mar 6 20:16:27 2019 +0200

    DRILL-7081: Upgrade GlassFish Jersey and Javax Servlet dependecies versions
    - Update dependencies versions
    - Exclude dependency from jdbc-all
    - Removal redundant "bcpkix-jdk15on" exclusion
    - Proper exclusion of "jackson-dataformat-hocon" dependency
    - Removal redundant "excludeSubprojects" config property for Maven Rat Plugin
    
    closes #1682

 contrib/storage-hbase/pom.xml |  1 -
 exec/java-exec/pom.xml        | 13 +++------
 exec/jdbc-all/pom.xml         | 39 ++++++++++++-------------
 pom.xml                       | 66 ++++++++++++++++++++++++++++++++++++++++---
 4 files changed, 86 insertions(+), 33 deletions(-)

commit fbbfbefaadd54d819cfd8e10ce274f4f086d1fb8
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon Mar 11 18:20:15 2019 +0200

    DRILL-7092: Rename map to struct in schema definition
    1. Renamed map to struct in schema parser.
    2. Updated sqlTypeOf function to return STRUCT instead of MAP, drillTypeOf function will return MAP as before until internal renaming is done.
    3. Add is_struct alias to already existing is_map function. Function should be revisited once Drill supports true maps.
    4. Updated unit tests.
    
    closes #1688

 .../java/org/apache/drill/common/types/Types.java  |  4 ++--
 .../record/metadata/schema/parser/SchemaLexer.g4   |  1 +
 .../record/metadata/schema/parser/SchemaParser.g4  |  8 ++++----
 .../drill/exec/expr/fn/impl/UnionFunctions.java    |  2 +-
 .../metadata/schema/parser/SchemaVisitor.java      | 12 +++++++-----
 .../schema/parser/TestParserErrorHandling.java     |  6 +++---
 .../metadata/schema/parser/TestSchemaParser.java   | 22 +++++++++++-----------
 7 files changed, 29 insertions(+), 26 deletions(-)

commit b20a2e6b5ee82814011a031d8a8282b0fec3ffe1
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Tue Mar 12 18:06:43 2019 -0700

    DRILL-7100: Fixed IllegalArgumentException when reading Parquet data

 .../batchsizing/BatchOverflowOptimizer.java        |  4 +-
 .../batchsizing/BatchSizingMemoryUtil.java         | 46 ++++++++++----------
 .../batchsizing/RecordBatchSizerManager.java       | 49 ++++++++++++----------
 .../columnreaders/TestBatchSizingMemoryUtil.java   | 12 +++---
 .../apache/drill/exec/memory/BaseAllocator.java    | 16 +++++++
 5 files changed, 73 insertions(+), 54 deletions(-)

commit e5e8419ab6fc1761cc7a6055b02f4300525e936e
Author: Gautam Parai <gparai@maprtech.com>
Date:   Fri Mar 8 13:40:22 2019 -0800

    DRILL-7085: Fix table-path check in AnalyzeTableHandler
    
    closes #1685

 .../org/apache/drill/exec/planner/sql/handlers/AnalyzeTableHandler.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 78dc86843fb9ef2683156708bc545a6b1950cb87
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Mar 5 19:29:18 2019 +0200

    DRILL-7073: CREATE SCHEMA command / TupleSchema / ColumnMetadata improvements
    
    1. Add format, default, column properties logic.
    2. Changed schema JSON after serialization.
    3. Added appropriate unit tests.
    
    closes #1684

 .../record/metadata/schema/parser/SchemaLexer.g4   |  10 ++
 .../record/metadata/schema/parser/SchemaParser.g4  |  16 ++-
 .../record/metadata/AbstractColumnMetadata.java    |  94 +++++++++++++++
 .../exec/record/metadata/MapColumnMetadata.java    |   8 +-
 .../record/metadata/PrimitiveColumnMetadata.java   | 115 ++++++++++++++++++
 .../drill/exec/record/metadata/TupleSchema.java    |  63 ++++++++--
 .../record/metadata/schema/SchemaContainer.java    |  50 +++-----
 .../metadata/schema/parser/SchemaExprParser.java   |  16 +++
 .../metadata/schema/parser/SchemaVisitor.java      |  66 +++++++++-
 .../java/org/apache/drill/TestSchemaCommands.java  |  77 ++++++++++--
 .../record/metadata/schema/TestSchemaProvider.java | 133 ++++++++++++++-------
 .../schema/parser/TestParserErrorHandling.java     |   4 -
 .../metadata/schema/parser/TestSchemaParser.java   | 119 +++++++++++-------
 .../drill/exec/record/metadata/ColumnMetadata.java |  30 +++++
 .../drill/exec/record/metadata/TupleMetadata.java  |  11 +-
 15 files changed, 657 insertions(+), 155 deletions(-)

commit d585452b52e94a91ae76a24550c5c476847a9cba
Author: Paul Rogers <progers@cloudera.com>
Date:   Sat Feb 23 17:48:21 2019 -0800

    DRILL-6952: Host compliant text reader on the row set framework
    
    The result set loader allows controlling batch sizes. The new scan framework
    built on top of that framework handles projection, implicit columns, null
    columns and more. This commit converts the "new" ("compliant") text reader
    to use the new framework. Options select the use of the V2 ("new") or V3
    (row-set based) versions. Unit tests demonstrate V3 functionality.
    
    closes #1683

 .../java/org/apache/drill/exec/ExecConstants.java  |   8 +
 .../drill/exec/physical/base/AbstractExchange.java |   4 +-
 .../exec/physical/base/AbstractFileGroupScan.java  |   2 -
 .../drill/exec/physical/base/AbstractSubScan.java  |   3 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |   1 -
 .../physical/impl/project/ProjectRecordBatch.java  |  32 +-
 .../impl/scan/columns/ColumnsArrayParser.java      |   8 +-
 .../impl/scan/file/BaseFileScanFramework.java      |  14 +-
 .../impl/scan/file/FileMetadataColumnsParser.java  |  13 +-
 .../impl/scan/file/FileMetadataManager.java        |  84 +-
 .../impl/scan/project/ScanSchemaOrchestrator.java  |   4 +-
 .../fragment/HardAffinityFragmentParallelizer.java |  16 +-
 .../exec/planner/fragment/SimpleParallelizer.java  |  36 +-
 .../drill/exec/planner/physical/ScanPrel.java      |   2 +-
 .../drill/exec/planner/physical/ScanPrule.java     |   3 +-
 .../visitor/ExcessiveExchangeIdentifier.java       |  10 +-
 .../exec/server/options/SystemOptionManager.java   |   2 +
 .../apache/drill/exec/store/ColumnExplorer.java    |  57 +-
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |   1 -
 .../exec/store/dfs/easy/EasyFormatPlugin.java      | 442 ++++++++---
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  52 +-
 .../drill/exec/store/dfs/easy/EasySubScan.java     |  44 +-
 .../exec/store/easy/text/TextFormatPlugin.java     | 301 ++++---
 .../store/easy/text/compliant/package-info.java    |  27 +
 .../easy/text/compliant/v3/BaseFieldOutput.java    | 165 ++++
 .../compliant/v3/CompliantTextBatchReader.java     | 269 +++++++
 .../easy/text/compliant/v3/FieldVarCharOutput.java |  62 ++
 .../easy/text/compliant/v3/HeaderBuilder.java      | 267 +++++++
 .../text/compliant/v3/RepeatedVarCharOutput.java   | 137 ++++
 .../v3/StreamFinishedPseudoException.java          |  29 +
 .../store/easy/text/compliant/v3/TextInput.java    | 368 +++++++++
 .../store/easy/text/compliant/v3/TextOutput.java   |  88 +++
 .../easy/text/compliant/v3/TextParsingContext.java | 126 +++
 .../text/compliant/v3/TextParsingSettingsV3.java   | 305 +++++++
 .../store/easy/text/compliant/v3/TextReader.java   | 508 ++++++++++++
 .../store/easy/text/compliant/v3/package-info.java |  22 +
 .../apache/drill/exec/work/foreman/Foreman.java    |   2 -
 .../java-exec/src/main/resources/drill-module.conf |   2 +
 .../java/org/apache/drill/TestPartitionFilter.java |   1 +
 .../impl/protocol/TestOperatorRecordBatch.java     |   3 +
 .../exec/physical/impl/scan/TestColumnsArray.java  |   3 +
 .../physical/impl/scan/TestColumnsArrayParser.java |   3 +
 .../impl/scan/TestFileMetadataColumnParser.java    |  29 +-
 .../impl/scan/TestFileMetadataProjection.java      |   9 +
 .../physical/impl/scan/TestFileScanFramework.java  |   8 +-
 .../impl/scan/TestScanOrchestratorMetadata.java    |  15 +
 .../impl/scan/project/TestSchemaSmoothing.java     |  12 +
 .../impl/validate/TestValidationOptions.java       |   2 -
 .../physical/rowSet/impl/TestProjectedTuple.java   |   8 +-
 .../store/easy/text/compliant/BaseCsvTest.java     | 101 +++
 .../exec/store/easy/text/compliant/TestCsv.java    | 271 -------
 .../easy/text/compliant/TestCsvIgnoreHeaders.java  | 114 +++
 .../easy/text/compliant/TestCsvWithHeaders.java    | 873 +++++++++++++++++++++
 .../easy/text/compliant/TestCsvWithoutHeaders.java | 397 ++++++++++
 .../easy/text/compliant/TestHeaderBuilder.java     |  91 +--
 .../easy/text/compliant/TestPartitionRace.java     | 375 +++++++++
 .../drill/exec/store/text/TestNewTextReader.java   |   2 +
 .../java/org/apache/drill/test/ClusterFixture.java |   2 +-
 .../java/org/apache/drill/test/QueryBuilder.java   |   2 +-
 59 files changed, 5141 insertions(+), 696 deletions(-)

commit 4a79e2a52ad2dac64ba001645da1442f0b06fd62
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Sun Mar 3 22:55:25 2019 +0200

    DRILL-6846: Add CircleCI Test Summary
    closes #1678
    - added CircleCI Test Summary
    - maven-surefire-plugin version udpate
    - license checkstyle goal is added to the TravisCI protobuf phase

 .circleci/config.yml | 53 +++++++++++++++++++++++++++++++++++++++++++---------
 .travis.yml          |  2 +-
 pom.xml              |  4 ++--
 3 files changed, 47 insertions(+), 12 deletions(-)

commit 79c7ea559ed7adc0074438e6c0eb5aa2340419a6
Author: Debraj Ray <debrajray@Debrajs-MacBook-Air.local>
Date:   Wed Feb 27 02:49:55 2019 +0530

    DRILL-7035: Drill C++ Client crashes on multiple SaslAuthenticatorImpl destruction due to communication error
    closes #1660

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 11 ++++++++---
 contrib/native/client/src/clientlib/drillClientImpl.hpp |  2 ++
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 362cded3fbcb99c0c4f951bb97016cb2b0542f94
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Thu Feb 7 13:54:14 2019 -0800

    DRILL-7046: Support for loading and parsing new RM config file
    closes #1652

 .../{CommonConstants.java => ConfigConstants.java} |  24 +-
 .../apache/drill/common/config/ConfigFileInfo.java |  33 +++
 .../apache/drill/common/config/DrillConfig.java    |  87 ++++---
 .../common/config/DrillExecConfigFileInfo.java     |  41 +++
 .../drill/common/config/DrillProperties.java       |   7 +-
 .../drill/common/config/DrillRMConfigFileInfo.java |  41 +++
 .../apache/drill/common/scanner/BuildTimeScan.java |   3 +-
 .../drill/common/scanner/ClassPathScanner.java     |   9 +-
 .../apache/drill/common/scanner/RunTimeScan.java   |   5 +-
 .../drill/categories/ResourceManagerTest.java      |  21 ++
 .../apache/drill/yarn/core/DrillOnYarnConfig.java  |   8 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |  11 +
 .../expr/fn/FunctionImplementationRegistry.java    |   6 +-
 .../drill/exec/resourcemgr/NodeResources.java      |  66 +++++
 .../exec/resourcemgr/config/QueryQueueConfig.java  |  71 +++++
 .../resourcemgr/config/QueryQueueConfigImpl.java   | 171 +++++++++++++
 .../resourcemgr/config/QueueAssignmentResult.java  |  79 ++++++
 .../exec/resourcemgr/config/RMCommonDefaults.java  |  39 +++
 .../exec/resourcemgr/config/ResourcePool.java      |  70 +++++
 .../exec/resourcemgr/config/ResourcePoolImpl.java  | 268 +++++++++++++++++++
 .../exec/resourcemgr/config/ResourcePoolTree.java  |  45 ++++
 .../resourcemgr/config/ResourcePoolTreeImpl.java   | 164 ++++++++++++
 .../config/exception/QueueSelectionException.java  |  31 +++
 .../config/exception/RMConfigException.java        |  31 +++
 .../exec/resourcemgr/config/package-info.java      | 108 ++++++++
 .../AbstractQueueSelectionPolicy.java              |  41 +++
 .../selectionpolicy/BestFitQueueSelection.java     |  93 +++++++
 .../selectionpolicy/DefaultQueueSelection.java     |  52 ++++
 .../selectionpolicy/QueueSelectionPolicy.java      |  48 ++++
 .../QueueSelectionPolicyFactory.java               |  53 ++++
 .../selectionpolicy/RandomQueueSelection.java      |  51 ++++
 .../config/selectionpolicy/package-info.java       |  45 ++++
 .../selectors/AbstractResourcePoolSelector.java    |  40 +++
 .../resourcemgr/config/selectors/AclSelector.java  | 285 +++++++++++++++++++++
 .../resourcemgr/config/selectors/AndSelector.java  |  56 ++++
 .../config/selectors/ComplexSelectors.java         |  60 +++++
 .../config/selectors/DefaultSelector.java          |  48 ++++
 .../config/selectors/NotEqualSelector.java         |  62 +++++
 .../resourcemgr/config/selectors/OrSelector.java   |  58 +++++
 .../config/selectors/ResourcePoolSelector.java     |  58 +++++
 .../selectors/ResourcePoolSelectorFactory.java     |  63 +++++
 .../resourcemgr/config/selectors/TagSelector.java  |  76 ++++++
 .../resourcemgr/config/selectors/package-info.java |  59 +++++
 .../drill/exec/resourcemgr/package-info.java       |  21 ++
 .../exec/resourcemgr/util/MemoryConfigParser.java  |  70 +++++
 .../org/apache/drill/exec/rpc/user/UserServer.java |  47 ++--
 .../apache/drill/exec/rpc/user/UserSession.java    |  33 ++-
 .../org/apache/drill/exec/server/Drillbit.java     |  34 ++-
 .../exec/server/options/SystemOptionManager.java   |  24 +-
 .../exec/store/StoragePluginsHandlerService.java   |  16 +-
 .../foreman/rm/DistributedResourceManager.java     |  82 ++++++
 .../java-exec/src/main/resources/drill-module.conf |   8 +-
 .../src/main/resources/drill-rm-default.conf       |  34 +++
 .../drill/exec/resourcemgr/TestRMConfigLoad.java   | 117 +++++++++
 .../exec/resourcemgr/TestResourcePoolTree.java     | 277 ++++++++++++++++++++
 .../TestBestFitSelectionPolicy.java                | 122 +++++++++
 .../TestDefaultSelectionPolicy.java                | 103 ++++++++
 .../config/selectors/TestAclSelector.java          | 265 +++++++++++++++++++
 .../config/selectors/TestComplexSelectors.java     | 247 ++++++++++++++++++
 .../config/selectors/TestNotEqualSelector.java     | 120 +++++++++
 .../selectors/TestResourcePoolSelectors.java       |  46 ++++
 .../config/selectors/TestTagSelector.java          |  84 ++++++
 .../exec/udf/dynamic/TestDynamicUDFSupport.java    |   4 +-
 63 files changed, 4316 insertions(+), 125 deletions(-)

commit 75ca5238e627e8d8612d56f654da06992837f6af
Author: Giovanni Conte <gconte@cisco.com>
Date:   Mon Mar 4 15:53:41 2019 +0100

    DRILL-7054: timestamp in milliseconds
    closes #1665

 .../org/apache/drill/exec/store/pcap/PcapRecordReader.java |  3 +++
 .../org/apache/drill/exec/store/pcap/decoder/Packet.java   | 14 ++++++++++----
 .../org/apache/drill/exec/store/pcap/schema/Schema.java    |  1 +
 .../org/apache/drill/exec/store/pcap/TestPcapDecoder.java  |  1 +
 4 files changed, 15 insertions(+), 4 deletions(-)

commit 624634d88ab870e3edb1648743097242522e58d6
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Mon Feb 25 09:13:08 2019 -0800

    DRILL-7056: Drill fails with NPE when starting in distributed mode & 31010 port is used
    closes #1656

 .../apache/drill/exec/server/rest/WebServer.java   | 80 +++++++++++-----------
 .../apache/drill/test/TestGracefulShutdown.java    | 42 ++++++++++++
 2 files changed, 83 insertions(+), 39 deletions(-)

commit 5abcd88642e224beb8252185f938a5e42387b18e
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Thu Feb 28 18:06:02 2019 -0800

    DRILL-7069: Moved version checks outside loops in transformBinaryInMetadataCache
    closes #1667

 .../exec/store/parquet/ParquetReaderUtility.java   | 72 +++++++++++++++-------
 1 file changed, 50 insertions(+), 22 deletions(-)

commit 6bd31f33c137e56912bcea04c5b993eafc64a20a
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Sun Mar 3 14:52:27 2019 +0200

    DRILL-7072: Query with semi join fails for JDBC storage plugin
    closes #1674

 .../drill/exec/store/jdbc/TestJdbcPluginWithMySQLIT.java  | 15 +++++++++++++++
 .../drill/exec/planner/logical/DrillSemiJoinRule.java     |  4 ++--
 2 files changed, 17 insertions(+), 2 deletions(-)

commit 619a49943ba33e4ad1ba2dc754c65cfa2708e936
Author: Khurram <khfaraaz82@gmail.com>
Date:   Tue Jan 15 19:56:52 2019 +0000

    DRILL-6979: Added autofocus attribute to username on login page, and to query textbox on Query tab

 exec/java-exec/src/main/resources/rest/login.ftl       | 2 +-
 exec/java-exec/src/main/resources/rest/query/query.ftl | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 3d29faf81da593035f6bd38dd56d48e719afe7d4
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Feb 18 22:30:36 2019 +0200

    DRILL-5603: Replace String file paths to Hadoop Path
     - replaced all String path representation with org.apache.hadoop.fs.Path
     - added PathSerDe.Se JSON serializer
     - refactoring of DFSPartitionLocation code by leveraging existing listPartitionValues() functionality
    
    closes #1657

 .../exec/store/mapr/db/MapRDBFormatPlugin.java     |   4 +-
 .../store/mapr/streams/StreamsFormatPlugin.java    |  12 +-
 .../exec/store/syslog/SyslogRecordReader.java      |   3 +-
 .../exec/planner/sql/HivePartitionDescriptor.java  |   9 +-
 .../exec/planner/sql/HivePartitionLocation.java    |   8 +-
 .../hive/HiveDrillNativeParquetRowGroupScan.java   |   2 +-
 .../store/hive/HiveDrillNativeParquetScan.java     |   6 +-
 .../HiveDrillNativeParquetScanBatchCreator.java    |   5 +-
 .../drill/exec/store/hive/HivePartitionHolder.java |  11 +-
 .../apache/drill/exec/physical/PhysicalPlan.java   |   3 +-
 .../exec/physical/base/AbstractGroupScan.java      |   3 +-
 .../apache/drill/exec/physical/base/GroupScan.java |   5 +-
 .../drill/exec/physical/base/SchemalessScan.java   |   9 +-
 .../impl/scan/file/BaseFileScanFramework.java      |   2 +-
 .../exec/physical/impl/scan/file/FileMetadata.java |   2 +-
 .../exec/planner/AbstractPartitionDescriptor.java  |   3 +-
 .../exec/planner/DFSDirPartitionLocation.java      |  18 ++-
 .../exec/planner/DFSFilePartitionLocation.java     |  25 +---
 .../planner/FileSystemPartitionDescriptor.java     | 102 ++++++-------
 .../exec/planner/ParquetPartitionDescriptor.java   |  18 +--
 .../exec/planner/ParquetPartitionLocation.java     |   8 +-
 .../drill/exec/planner/PartitionDescriptor.java    |  44 ++++--
 .../drill/exec/planner/PartitionLocation.java      |  14 +-
 .../drill/exec/planner/PhysicalPlanReader.java     |  53 +++----
 .../exec/planner/SimplePartitionLocation.java      |   5 +-
 .../planner/logical/partition/PruneScanRule.java   |  17 ++-
 .../planner/sql/handlers/AnalyzeTableHandler.java  |  28 ++--
 .../sql/handlers/RefreshMetadataHandler.java       |   4 +-
 .../apache/drill/exec/serialization/PathSerDe.java |  39 +++++
 .../apache/drill/exec/store/ColumnExplorer.java    |  46 +++---
 .../drill/exec/store/avro/AvroDrillTable.java      |   4 +-
 .../drill/exec/store/avro/AvroRecordReader.java    |  12 +-
 .../apache/drill/exec/store/dfs/FileSelection.java | 161 ++++++++++-----------
 .../drill/exec/store/dfs/FormatSelection.java      |   8 +-
 .../drill/exec/store/dfs/MetadataContext.java      |   7 +-
 .../drill/exec/store/dfs/ReadEntryFromHDFS.java    |   3 +-
 .../drill/exec/store/dfs/ReadEntryWithPath.java    |  13 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   2 +-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  33 ++---
 .../drill/exec/store/dfs/easy/EasySubScan.java     |  22 +--
 .../apache/drill/exec/store/dfs/easy/FileWork.java |   8 +-
 .../exec/store/direct/MetadataDirectGroupScan.java |  10 +-
 .../exec/store/easy/json/JSONRecordReader.java     |  13 +-
 .../sequencefile/SequenceFileFormatPlugin.java     |   2 +-
 .../exec/store/easy/text/TextFormatPlugin.java     |   2 +-
 .../exec/store/httpd/HttpdLogFormatPlugin.java     |   2 +-
 .../drill/exec/store/image/ImageFormatPlugin.java  |   9 +-
 .../drill/exec/store/image/ImageRecordReader.java  |   4 +-
 .../drill/exec/store/log/LogRecordReader.java      |   5 +-
 .../store/parquet/AbstractParquetGroupScan.java    |  17 ++-
 .../parquet/AbstractParquetScanBatchCreator.java   |  11 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  42 +++---
 .../store/parquet/ParquetGroupScanStatistics.java  |   5 +-
 .../exec/store/parquet/ParquetRowGroupScan.java    |  11 +-
 .../store/parquet/ParquetScanBatchCreator.java     |   3 +-
 .../drill/exec/store/parquet/RowGroupInfo.java     |   3 +-
 .../exec/store/parquet/RowGroupReadEntry.java      |   3 +-
 .../parquet/columnreaders/ParquetRecordReader.java |  24 ++-
 .../exec/store/parquet/metadata/Metadata.java      |  37 +++--
 .../exec/store/parquet/metadata/MetadataBase.java  |   5 +-
 .../store/parquet/metadata/MetadataPathUtils.java  |  29 ++--
 .../exec/store/parquet/metadata/Metadata_V1.java   |  13 +-
 .../exec/store/parquet/metadata/Metadata_V2.java   |  15 +-
 .../exec/store/parquet/metadata/Metadata_V3.java   |  15 +-
 .../parquet/metadata/ParquetTableMetadataDirs.java |   7 +-
 .../exec/store/parquet2/DrillParquetReader.java    |   2 +-
 .../drill/exec/store/pcap/PcapRecordReader.java    |   4 +-
 .../exec/store/pcapng/PcapngRecordReader.java      |   4 +-
 .../drill/exec/store/schedule/BlockMapBuilder.java |  22 +--
 .../exec/store/schedule/CompleteFileWork.java      |  42 ++++--
 .../drill/exec/util/DrillFileSystemUtil.java       |  11 ++
 .../test/java/org/apache/drill/PlanTestBase.java   |   3 +-
 .../apache/drill/exec/TestPathSerialization.java   |  65 +++++++++
 .../physical/impl/scan/TestFileScanFramework.java  |   2 +-
 .../exec/physical/unit/MiniPlanUnitTestBase.java   |  13 +-
 .../drill/exec/physical/unit/TestMiniPlan.java     |   5 +-
 .../exec/physical/unit/TestNullInputMiniPlan.java  |   8 +-
 .../drill/exec/store/CachedSingleFileSystem.java   |   8 +-
 .../exec/store/dfs/TestDFSPartitionLocation.java   |  54 +++++++
 .../drill/exec/store/dfs/TestFileSelection.java    |   7 +-
 .../store/parquet/ParquetRecordReaderTest.java     |   4 +-
 .../drill/exec/store/store/TestAssignment.java     |   3 +-
 .../apache/drill/test/PhysicalOpUnitTestBase.java  |   5 +-
 .../java/org/apache/drill/test/QueryBuilder.java   |   2 +-
 84 files changed, 765 insertions(+), 567 deletions(-)

commit 7e3b45967dbb97da18ba49a2fa6a67a48e33b092
Author: Paul Rogers <progers@cloudera.com>
Date:   Sun Mar 3 17:55:22 2019 -0800

    DRILL-7074: Scan framework fixes and enhancements
    
    Roll-up of fixes an enhancements that emerged from the effort to host the CSV reader on the new framework.
    
    closes #1676

 .../drill/exec/physical/impl/scan/ReaderState.java |  26 +-
 .../exec/physical/impl/scan/RowBatchReader.java    |  20 +-
 .../physical/impl/scan/ScanOperatorEvents.java     |  42 +-
 .../impl/scan/columns/ColumnsArrayParser.java      |  52 +-
 .../impl/scan/file/FileMetadataColumnsParser.java  |  71 +-
 .../impl/scan/file/FileMetadataManager.java        |  34 +
 .../physical/impl/scan/file/FileScanFramework.java |  37 +-
 .../physical/impl/scan/file/MetadataColumn.java    |  13 +
 .../impl/scan/framework/AbstractScanFramework.java |  76 ++
 .../impl/scan/framework/SchemaNegotiator.java      |   6 +-
 .../impl/scan/framework/SchemaNegotiatorImpl.java  |   6 +-
 .../impl/scan/framework/ShimBatchReader.java       |  15 +-
 .../physical/impl/scan/framework/package-info.java |  26 +-
 .../exec/physical/impl/scan/package-info.java      |  85 +-
 .../scan/project/ExplicitSchemaProjection.java     |   1 +
 .../scan/project/ReaderSchemaOrchestrator.java     | 230 +++++
 .../impl/scan/project/ScanLevelProjection.java     |  66 +-
 .../impl/scan/project/ScanSchemaOrchestrator.java  | 241 +-----
 .../impl/scan/project/SchemaLevelProjection.java   |  11 +-
 .../physical/impl/scan/project/package-info.java   |  50 ++
 .../rowSet/project/ImpliedTupleRequest.java        |   2 +-
 .../rowSet/project/RequestedTupleImpl.java         |  44 +-
 .../exec/physical/impl/scan/TestColumnsArray.java  | 172 +++-
 .../impl/scan/TestColumnsArrayFramework.java       |  19 +-
 .../physical/impl/scan/TestColumnsArrayParser.java |  46 +-
 .../impl/scan/TestConstantColumnLoader.java        | 153 ----
 .../impl/scan/TestFileMetadataColumnParser.java    | 170 +++-
 .../impl/scan/TestFileMetadataProjection.java      |   4 +-
 .../physical/impl/scan/TestFileScanFramework.java  |  11 +-
 .../physical/impl/scan/TestNullColumnLoader.java   | 281 ------
 .../physical/impl/scan/TestRowBatchMerger.java     | 459 ----------
 .../physical/impl/scan/TestScanBatchWriters.java   |   3 +
 .../impl/scan/TestScanLevelProjection.java         | 223 -----
 .../physical/impl/scan/TestScanOperatorExec.java   |  11 +-
 .../impl/scan/TestScanOrchestratorEarlySchema.java | 255 ++----
 .../impl/scan/TestScanOrchestratorLateSchema.java  |   6 +-
 .../impl/scan/TestScanOrchestratorMetadata.java    |  77 +-
 .../impl/scan/TestSchemaLevelProjection.java       | 557 ------------
 .../physical/impl/scan/TestSchemaSmoothing.java    | 946 ---------------------
 .../scan/project/TestConstantColumnLoader.java     |  45 +
 .../impl/scan/project/TestScanLevelProjection.java | 113 ++-
 .../impl/scan/project/TestSchemaSmoothing.java     | 250 +++++-
 42 files changed, 1726 insertions(+), 3229 deletions(-)

commit 2c3e2de2f94fd3f21a11c22b7944b94953e4f397
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Wed Oct 31 13:23:51 2018 +0200

    DRILL-6642: Update protocol-buffers version
    
    1. Updated protobuf to version 3.6.1
    2. Added protobuf to the root pom dependency management
    3. Added classes BoundedByteString and LiteralByteString for compatibility with HBase
    4. Added ProtobufPatcher to provide compatibility with MapR-DB and HBase
    closes #1639

 .travis.yml                                        |    19 +-
 contrib/native/client/readme.linux                 |    14 +-
 contrib/native/client/readme.macos                 |     2 +-
 contrib/native/client/readme.win.txt               |     4 +-
 .../client/src/include/drill/protobuf/Types.pb.h   |   264 +-
 .../native/client/src/protobuf/BitControl.pb.cc    |  4188 ++--
 contrib/native/client/src/protobuf/BitControl.pb.h |  2758 ++-
 contrib/native/client/src/protobuf/BitData.pb.cc   |  1752 +-
 contrib/native/client/src/protobuf/BitData.pb.h    |  1006 +-
 .../native/client/src/protobuf/Coordination.pb.cc  |  1408 +-
 .../native/client/src/protobuf/Coordination.pb.h   |   949 +-
 .../client/src/protobuf/ExecutionProtos.pb.cc      |   804 +-
 .../client/src/protobuf/ExecutionProtos.pb.h       |   508 +-
 .../native/client/src/protobuf/GeneralRPC.pb.cc    |  1036 +-
 contrib/native/client/src/protobuf/GeneralRPC.pb.h |   655 +-
 contrib/native/client/src/protobuf/SchemaDef.pb.cc |    97 +-
 contrib/native/client/src/protobuf/SchemaDef.pb.h  |    55 +-
 contrib/native/client/src/protobuf/Types.pb.cc     |   586 +-
 contrib/native/client/src/protobuf/User.pb.cc      | 15926 ++++++++-------
 contrib/native/client/src/protobuf/User.pb.h       | 11716 ++++++-----
 .../native/client/src/protobuf/UserBitShared.pb.cc | 10335 +++++-----
 .../native/client/src/protobuf/UserBitShared.pb.h  |  7137 ++++---
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |     2 +
 contrib/storage-hive/hive-exec-shade/pom.xml       |     4 +
 exec/java-exec/pom.xml                             |     1 -
 .../org/apache/drill/exec/server/Drillbit.java     |     7 +
 .../apache/drill/exec/util/ProtobufPatcher.java    |   186 +
 exec/rpc/pom.xml                                   |     1 -
 exec/vector/pom.xml                                |     1 -
 pom.xml                                            |     6 +
 protocol/pom.xml                                   |     1 -
 protocol/readme.txt                                |    24 +-
 .../org/apache/drill/common/types/TypeProtos.java  |  1091 +-
 .../org/apache/drill/exec/proto/BitControl.java    |  4292 ++--
 .../java/org/apache/drill/exec/proto/BitData.java  |  1825 +-
 .../drill/exec/proto/CoordinationProtos.java       |  1288 +-
 .../org/apache/drill/exec/proto/ExecProtos.java    |   753 +-
 .../apache/drill/exec/proto/GeneralRPCProtos.java  |  1262 +-
 .../apache/drill/exec/proto/SchemaDefProtos.java   |    53 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 10129 ++++++----
 .../org/apache/drill/exec/proto/UserProtos.java    | 19562 ++++++++++++-------
 41 files changed, 60762 insertions(+), 40945 deletions(-)

commit 8c7de7838124a00e1b6b786fde2ad8dfd1b0ba9d
Author: Abhishek Girish <agirish@apache.org>
Date:   Mon Mar 4 00:18:52 2019 -0800

    DRILL-7060: Support JsonParser Feature 'ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER' (#1663)

 .../java/org/apache/drill/exec/ExecConstants.java  |  8 ++
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../exec/store/easy/json/JSONRecordReader.java     |  5 +-
 .../store/easy/json/reader/BaseJsonProcessor.java  | 18 ++++-
 .../store/easy/json/reader/CountingJsonReader.java |  4 +-
 .../drill/exec/vector/complex/fn/JsonReader.java   | 11 ++-
 .../java-exec/src/main/resources/drill-module.conf |  1 +
 .../complex/writer/TestJsonEscapeAnyChar.java      | 87 ++++++++++++++++++++++
 8 files changed, 125 insertions(+), 10 deletions(-)

commit 5e5b9a415d40899987bbc8fb7778e41779f599ad
Author: Naresh Bhat <naresh.bhat@linaro.org>
Date:   Tue Feb 19 08:43:43 2019 +0000

    DRILL-7070: Fix deb and rpm issues on apache drill master branch
    
    The Apache Drill failed to generate debian and rpm packages. The issues fixed as below,
    -Add apache as prefix
    -Remove lib folder while packaging, because lib folder does not exist.
    -Add git.properties, KEYS, LICENSE, NOTICE, README.md and sample-data dir into the /opt/drill/.
    -Update plugin version to 2.2.0
    -Update Maven org.vafer:jdeb plugin version to 1.7
    -Change the rpm name tobe generated by editing version, and name.
    -Remove two files under distribution/src/deb/control/ i.e. conffiles and control.
    -The `<copyright>` tag isn't supported anymore for this plugin. Hence use `<license>` and project variables content instead of `2013 ASF`.
    
    Signed-off-by: Naresh Bhat <naresh.bhat@linaro.org>

 distribution/pom.xml                   | 121 +++++++++++++++++++++++++++------
 distribution/src/deb/control/conffiles |  21 ------
 distribution/src/deb/control/control   |   8 ---
 3 files changed, 100 insertions(+), 50 deletions(-)

commit ee6504799f248e7d8702002ab208636a91042a34
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Sun Feb 24 23:04:46 2019 +0200

    DRILL-6927: Avoid double conversion from impala timestamp when hive native parquet reader is used
    closes #1655

 .../ConvertHiveParquetScanToDrillParquetScan.java  | 32 +++++++++++++---------
 .../exec/TestHiveDrillNativeParquetReader.java     | 18 ++++++++++++
 2 files changed, 37 insertions(+), 13 deletions(-)

commit 95bca65c45b989117b8e28bf610d7972a137ab36
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Thu Feb 14 15:56:56 2019 +0200

    DRILL-4858: REPEATED_COUNT on an array of maps and an array of arrays is not implemented
    
    - Implemented 'repeated_count' function for repeated MAP and repeated LIST;
    - Updated RepeatedListReader and RepeatedMapReader implementations to return correct value from size() method
    - Moved repeated_count to freemarker template and added support for more repeated types for the function
    closes #1641

 .../codegen/templates/RepeatedCountFunctions.java  |  62 ++++
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   8 +
 .../exec/expr/fn/impl/SimpleRepeatedFunctions.java | 147 ----------
 .../fn/impl/TestNewSimpleRepeatedFunctions.java    | 325 +++++++++++++++++++--
 .../functions/repeated/repeated_list.json          |   8 +
 .../resources/functions/repeated/repeated_map.json |   7 +
 .../store/parquet/complex/repeated_types.parquet   | Bin 0 -> 3709 bytes
 .../complex/impl/RepeatedListReaderImpl.java       |  24 +-
 .../vector/complex/impl/RepeatedMapReaderImpl.java |  35 +--
 9 files changed, 412 insertions(+), 204 deletions(-)

commit e5859ef2893673644c563d51e5f7af18df92fdd4
Author: Debraj Ray <debrajray@Debrajs-MacBook-Air.local>
Date:   Wed Feb 27 02:59:15 2019 +0530

    DRILL-7047: Drill C++ Client crash due to Dangling stack ptr to sasl_callback_t
    closes #1661

 .../client/src/clientlib/saslAuthenticatorImpl.cpp    | 19 +++++++++++--------
 .../client/src/clientlib/saslAuthenticatorImpl.hpp    |  1 +
 2 files changed, 12 insertions(+), 8 deletions(-)

commit 5323f9dcd92cd1cafec1556afae1c3cea29afae3
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Tue Feb 26 21:16:39 2019 +0200

    DRILL-7041: CompileException happens if a nested coalesce function returns null
    - Made `NullExpression`s in `IfExpression` with nested `IfExpression`s to be rewritten to typed ones recursively if necessary
    closes #1668

 .../exec/expr/ExpressionTreeMaterializer.java      | 42 +++++++++++-----------
 .../planner/logical/TestCaseNullableTypes.java     | 22 +++++++++++-
 2 files changed, 42 insertions(+), 22 deletions(-)

commit fee4b1cdc1a1bf4ac3dfdbbf435a5696540ce59a
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Sat Feb 23 21:51:48 2019 +0200

    DRILL-7052: Relative path for URL redirection

 .../yarn/appMaster/http/AuthDynamicFeature.java    |  6 ++--
 .../drill/yarn/appMaster/http/WebUiPageTree.java   |  2 +-
 drill-yarn/src/main/resources/drill-am/login.ftl   |  2 +-
 .../exec/server/rest/LogInLogOutResources.java     |  2 +-
 .../exec/server/rest/auth/AuthDynamicFeature.java  |  5 ++-
 exec/java-exec/src/main/resources/rest/login.ftl   | 37 +++++++++++-----------
 .../src/main/resources/rest/mainLogin.ftl          | 26 +++++++--------
 7 files changed, 38 insertions(+), 42 deletions(-)

commit 469be17597e7b7c6bc1de9863dcb6c5604a55f0c
Author: Gautam Parai <gparai@maprtech.com>
Date:   Thu Aug 21 14:59:53 2014 -0700

    DRILL-1328: Support table statistics - Part 2
    
    Add support for avg row-width and major type statistics.
    Parallelize the ANALYZE implementation and stats UDF implementation to improve stats collection performance.
    Update/fix rowcount, selectivity and ndv computations to improve plan costing.
    Add options for configuring collection/usage of statistics.
    Add new APIs and implementation for stats writer (as a precursor to Drill Metastore APIs).
    Fix several stats/costing related issues identified while running TPC-H nad TPC-DS queries.
    Add support for CPU sampling and nested scalar columns.
    Add more testcases for collection and usage of statistics and fix remaining unit/functional test failures.
    
    Thanks to Venki Korukanti (@vkorukanti) for the description below (modified to account for new changes). He graciously agreed to rebase the patch to latest master, fixed few issues and added few tests.
    
    FUNCS: Statistics functions as UDFs:
    Separate
    Currently using FieldReader to ensure consistent output type so that Unpivot doesn't get confused. All stats columns should be Nullable, so that stats functions can return NULL when N/A.
    * custom versions of "count" that always return BigInt
    * HyperLogLog based NDV that returns BigInt that works only on VarChars
    * HyperLogLog with binary output that only works on VarChars
    
    OPS: Updated protobufs for new ops
    
    OPS: Implemented StatisticsMerge
    
    OPS: Implemented StatisticsUnpivot
    
    ANALYZE: AnalyzeTable functionality
    * JavaCC syntax more-or-less copied from LucidDB.
    * (Basic) AnalyzePrule: DrillAnalyzeRel -> UnpivotPrel StatsMergePrel FilterPrel(for sampling) StatsAggPrel ScanPrel
    
    ANALYZE: Add getMetadataTable() to AbstractSchema
    
    USAGE: Change field access in QueryWrapper
    
    USAGE: Add getDrillTable() to DrillScanRelBase and ScanPrel
    * since ScanPrel does not inherit from DrillScanRelBase, this requires adding a DrillTable to the constructor
    * This is done so that a custom ReflectiveRelMetadataProvider can access the DrillTable associated with Logical/Physical scans.
    
    USAGE: Attach DrillStatsTable to DrillTable.
    * DrillStatsTable represents the data scanned from a corresponding ".stats.drill" table
    * In order to avoid doing query execution right after the ".stats.drill" table is found, metadata is not actually collected until the MaterializationVisitor is used.
    ** Currently, the metadata source must be a string (so that a SQL query can be created). Doing this with a table is probably more complicated.
    ** Query is set up to extract only the most recent statistics results for each column.
    
    closes #729

 .../drill/exec/store/mapr/TableFormatPlugin.java   |    2 +-
 .../exec/store/mapr/db/MapRDBFormatPlugin.java     |   16 +
 .../drill/exec/store/mapr/db/MapRDBGroupScan.java  |    1 +
 .../store/mapr/streams/StreamsFormatPlugin.java    |   20 +-
 .../exec/store/syslog/SyslogFormatPlugin.java      |   19 +
 .../native/client/src/protobuf/UserBitShared.pb.cc |   15 +-
 .../native/client/src/protobuf/UserBitShared.pb.h  |    7 +-
 .../drill/exec/store/hbase/HBaseGroupScan.java     |    1 +
 .../org/apache/drill/exec/store/hive/HiveScan.java |    1 +
 .../drill/exec/store/jdbc/JdbcGroupScan.java       |    9 +-
 .../org/apache/drill/exec/store/jdbc/JdbcPrel.java |    9 +-
 .../drill/exec/store/jdbc/JdbcRecordReader.java    |    7 +-
 .../apache/drill/exec/store/jdbc/JdbcSubScan.java  |    9 +-
 .../drill/exec/store/kafka/KafkaGroupScan.java     |    1 +
 .../drill/exec/store/kudu/KuduGroupScan.java       |    1 +
 .../drill/exec/store/mongo/MongoGroupScan.java     |    1 +
 .../exec/store/openTSDB/OpenTSDBGroupScan.java     |    1 +
 exec/java-exec/src/main/codegen/data/Parser.tdd    |   20 -
 .../src/main/codegen/includes/parserImpls.ftl      |   18 +-
 .../codegen/templates/AbstractRecordWriter.java    |    5 +
 .../templates/JsonBaseStatisticsRecordWriter.java  |  139 +
 .../src/main/codegen/templates/RecordWriter.java   |    6 +-
 .../codegen/templates/StatisticsRecordWriter.java  |   93 +
 .../templates/StatisticsRecordWriterImpl.java      |  119 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   42 +-
 .../apache/drill/exec/dotdrill/DotDrillType.java   |    1 -
 .../drill/exec/expr/fn/impl/MathFunctions.java     |   28 +
 .../exec/expr/fn/impl/StatisticsAggrFunctions.java | 5599 +++++++++++++++++++-
 .../apache/drill/exec/ops/BaseFragmentContext.java |   24 +-
 .../apache/drill/exec/ops/ContextInformation.java  |    1 +
 .../org/apache/drill/exec/ops/FragmentContext.java |   29 +-
 .../apache/drill/exec/ops/FragmentContextImpl.java |   20 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |   38 +-
 .../org/apache/drill/exec/ops/UdfUtilities.java    |    8 +-
 .../exec/physical/base/AbstractDbGroupScan.java    |    2 -
 .../exec/physical/base/AbstractGroupScan.java      |    5 +
 .../physical/base/AbstractPhysicalVisitor.java     |    6 +
 .../apache/drill/exec/physical/base/GroupScan.java |   12 +-
 .../exec/physical/base/PhysicalOperatorUtil.java   |   26 +-
 .../drill/exec/physical/base/PhysicalVisitor.java  |    2 +
 .../drill/exec/physical/base/SchemalessScan.java   |    6 +
 .../exec/physical/config/StatisticsAggregate.java  |    8 +-
 .../exec/physical/config/StatisticsMerge.java      |   69 +
 .../drill/exec/physical/config/UnpivotMaps.java    |    6 +-
 .../physical/impl/StatisticsWriterRecordBatch.java |  214 +
 .../exec/physical/impl/WriterRecordBatch.java      |    3 +
 .../physical/impl/aggregate/InternalBatch.java     |    6 +-
 .../impl/aggregate/StatisticsAggBatch.java         |  223 -
 .../physical/impl/aggregate/StreamingAggBatch.java |    2 +-
 .../impl/statistics/AbstractMergedStatistic.java   |   48 +
 .../impl/statistics/AvgWidthMergedStatistic.java   |  150 +
 .../impl/statistics/CntDupsMergedStatistic.java    |  103 +
 .../impl/statistics/ColTypeMergedStatistic.java    |   87 +
 .../impl/statistics/ColumnMergedStatistic.java     |   68 +
 .../impl/statistics/HLLMergedStatistic.java        |  130 +
 .../physical/impl/statistics/MergedStatistic.java  |   62 +
 .../impl/statistics/MergedStatisticFactory.java    |   62 +
 .../impl/statistics/NDVMergedStatistic.java        |  198 +
 .../impl/statistics/NNRowCountMergedStatistic.java |   95 +
 .../impl/statistics/RowCountMergedStatistic.java   |   96 +
 .../exec/physical/impl/statistics/Statistic.java   |   44 +
 .../impl/statistics/StatisticsAggBatch.java        |  249 +
 .../StatisticsAggBatchCreator.java                 |    5 +-
 .../impl/statistics/StatisticsMergeBatch.java      |  405 ++
 .../statistics/StatisticsMergeBatchCreator.java    |   38 +
 .../impl/unpivot/UnpivotMapsBatchCreator.java      |    6 +-
 .../impl/unpivot/UnpivotMapsRecordBatch.java       |  114 +-
 .../planner/FileSystemPartitionDescriptor.java     |   11 +-
 .../exec/planner/common/DrillAggregateRelBase.java |    9 +
 .../exec/planner/common/DrillFilterRelBase.java    |    4 +-
 .../exec/planner/common/DrillJoinRelBase.java      |   12 +-
 .../drill/exec/planner/common/DrillRelOptUtil.java |  102 +
 .../exec/planner/common/DrillScanRelBase.java      |   14 +
 .../drill/exec/planner/common/DrillStatsTable.java |  386 +-
 .../planner/cost/DrillRelMdDistinctRowCount.java   |  171 +-
 .../exec/planner/cost/DrillRelMdRowCount.java      |   63 +-
 .../exec/planner/cost/DrillRelMdSelectivity.java   |  201 +-
 .../exec/planner/logical/DrillAnalyzeRel.java      |   26 +-
 .../drill/exec/planner/logical/DrillTable.java     |    3 +-
 .../logical/FileSystemCreateTableEntry.java        |    6 +-
 .../drill/exec/planner/physical/AggPruleBase.java  |    2 +-
 .../drill/exec/planner/physical/AnalyzePrule.java  |  113 +-
 .../planner/physical/ConvertCountToDirectScan.java |    4 +-
 .../exec/planner/physical/DirectScanPrel.java      |   33 +-
 .../exec/planner/physical/DirectScanPrule.java     |    3 -
 .../exec/planner/physical/NestedLoopJoinPrule.java |   20 +-
 .../exec/planner/physical/PlannerSettings.java     |    6 +
 .../drill/exec/planner/physical/ScanPrel.java      |   29 +-
 .../drill/exec/planner/physical/StatsAggPrel.java  |   25 +-
 .../exec/planner/physical/StatsMergePrel.java      |   89 +
 .../exec/planner/physical/UnpivotMapsPrel.java     |   12 +-
 .../planner/physical/visitor/BasePrelVisitor.java  |    6 +
 .../exec/planner/physical/visitor/PrelVisitor.java |    2 +
 .../physical/visitor/PrelVisualizerVisitor.java    |    8 +
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   20 +
 .../drill/exec/planner/sql/SchemaUtilites.java     |   19 +
 .../planner/sql/handlers/AnalyzeTableHandler.java  |  199 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |    3 +-
 .../planner/sql/handlers/FindLimit0Visitor.java    |    8 +-
 .../sql/parser/CompoundIdentifierConverter.java    |    7 +-
 .../sql/parser/DrillCompoundIdentifier.java        |   27 +-
 .../exec/planner/sql/parser/SqlAnalyzeTable.java   |   29 +-
 .../impl/DrillParserWithCompoundIdConverter.java   |    9 +-
 .../exec/server/options/SystemOptionManager.java   |    7 +-
 .../drill/exec/server/options/TypeValidators.java  |   19 +
 .../org/apache/drill/exec/store/RecordReader.java  |   11 +
 .../drill/exec/store/avro/AvroFormatPlugin.java    |   18 +
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |   11 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |   67 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   21 +-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |    1 +
 .../drill/exec/store/dfs/easy/EasyWriter.java      |   12 +-
 .../drill/exec/store/direct/DirectSubScan.java     |    9 +-
 .../exec/store/easy/json/JSONFormatPlugin.java     |  100 +-
 .../exec/store/easy/json/JsonRecordWriter.java     |    7 +-
 .../easy/json/JsonStatisticsRecordWriter.java      |  482 ++
 .../sequencefile/SequenceFileFormatPlugin.java     |   17 +
 .../exec/store/easy/text/TextFormatPlugin.java     |   17 +
 .../exec/store/httpd/HttpdLogFormatPlugin.java     |   17 +
 .../drill/exec/store/image/ImageFormatPlugin.java  |   18 +
 .../drill/exec/store/log/LogFormatPlugin.java      |   19 +
 .../store/parquet/AbstractParquetGroupScan.java    |    1 +
 .../exec/store/parquet/ParquetFormatPlugin.java    |   50 +-
 .../drill/exec/store/parquet/ParquetWriter.java    |   12 +-
 .../drill/exec/store/pcap/PcapFormatPlugin.java    |   18 +
 .../exec/store/pcapng/PcapngFormatPlugin.java      |   19 +
 .../drill/exec/store/pojo/PojoRecordReader.java    |   13 +-
 .../drill/exec/store/sys/SystemTableScan.java      |    1 +
 .../java/org/apache/drill/exec/util/Utilities.java |   13 +-
 .../java-exec/src/main/resources/drill-module.conf |    9 +-
 .../java/org/apache/drill/TestSelectivity.java     |    4 +-
 .../impersonation/TestImpersonationMetadata.java   |   43 +-
 .../exec/physical/impl/TestLocalExchange.java      |    3 +-
 .../impl/partitionsender/TestPartitionSender.java  |    3 +-
 .../apache/drill/exec/pop/TestFragmentChecker.java |    3 +-
 .../org/apache/drill/exec/sql/TestAnalyze.java     |  375 +-
 .../drill/exec/sql/TestSqlBracketlessSyntax.java   |    2 +-
 .../org/apache/drill/test/DrillTestWrapper.java    |   36 +-
 .../java/org/apache/drill/test/TestBuilder.java    |   10 +-
 .../apache/drill/common/logical/data/Analyze.java  |   13 +-
 .../org/apache/drill/exec/proto/UserBitShared.java |   20 +-
 .../drill/exec/proto/beans/CoreOperatorType.java   |    4 +-
 protocol/src/main/protobuf/UserBitShared.proto     |    1 +
 143 files changed, 11156 insertions(+), 891 deletions(-)

commit 3233d8aaff57ac71bd3b726efcd5fdaa92aef861
Author: Cliff Buchanan <cbuchanan@maprtech.com>
Date:   Tue Oct 16 15:17:43 2018 -0700

    DRILL-1328: Support table statistics

 .../drill/exec/store/mapr/TableFormatPlugin.java   |   2 +-
 .../store/mapr/streams/StreamsFormatPlugin.java    |   2 +-
 exec/java-exec/pom.xml                             |   5 +
 exec/java-exec/src/main/codegen/data/Parser.tdd    |  28 +-
 .../src/main/codegen/includes/parserImpls.ftl      |  46 +++-
 .../apache/drill/exec/dotdrill/DotDrillType.java   |   5 +-
 .../apache/drill/exec/dotdrill/DotDrillUtil.java   |  14 +-
 .../exec/expr/fn/impl/StatisticsAggrFunctions.java | 285 +++++++++++++++++++++
 .../org/apache/drill/exec/ops/QueryContext.java    |   4 +
 .../physical/base/AbstractPhysicalVisitor.java     |  12 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   4 +
 .../exec/physical/config/StatisticsAggregate.java  |  66 +++++
 .../drill/exec/physical/config/UnpivotMaps.java    |  59 +++++
 .../physical/impl/aggregate/InternalBatch.java     |   6 +
 .../impl/aggregate/StatisticsAggBatch.java         | 223 ++++++++++++++++
 .../impl/aggregate/StatisticsAggBatchCreator.java  |  38 +++
 .../physical/impl/aggregate/StreamingAggBatch.java |  16 +-
 .../impl/unpivot/UnpivotMapsBatchCreator.java      |  38 +++
 .../impl/unpivot/UnpivotMapsRecordBatch.java       | 244 ++++++++++++++++++
 .../apache/drill/exec/planner/PlannerPhase.java    |   2 +
 .../exec/planner/common/DrillJoinRelBase.java      |  51 +++-
 .../drill/exec/planner/common/DrillStatsTable.java | 158 ++++++++++++
 .../planner/cost/DrillRelMdDistinctRowCount.java   |  52 ++++
 .../exec/planner/cost/DrillRelMdRowCount.java      |  19 ++
 .../exec/planner/logical/DrillAnalyzeRel.java      |  71 +++++
 .../drill/exec/planner/logical/DrillTable.java     |  10 +
 .../logical/FileSystemCreateTableEntry.java        |   6 +-
 .../drill/exec/planner/physical/AnalyzePrule.java  |  64 +++++
 .../drill/exec/planner/physical/StatsAggPrel.java  |  86 +++++++
 .../exec/planner/physical/UnpivotMapsPrel.java     |  85 ++++++
 .../planner/sql/handlers/AnalyzeTableHandler.java  | 157 ++++++++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    |   2 +
 .../sql/parser/CompoundIdentifierConverter.java    |   1 +
 .../exec/planner/sql/parser/SqlAnalyzeTable.java   | 157 ++++++++++++
 .../apache/drill/exec/store/AbstractSchema.java    |  34 +++
 .../apache/drill/exec/store/SubSchemaWrapper.java  |  15 ++
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  15 ++
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |   2 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  90 ++++++-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   4 +-
 .../drill/exec/store/dfs/easy/EasyWriter.java      |  12 +-
 .../exec/store/easy/json/JSONFormatPlugin.java     |   2 +
 .../exec/store/easy/json/JsonRecordWriter.java     |   8 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |   8 +-
 .../drill/exec/store/parquet/ParquetWriter.java    |  12 +-
 .../org/apache/drill/exec/sql/TestAnalyze.java     | 105 ++++++++
 exec/jdbc-all/pom.xml                              |   4 +
 .../apache/drill/common/logical/data/Analyze.java  |  35 +++
 .../data/visitors/AbstractLogicalVisitor.java      |   6 +
 .../logical/data/visitors/LogicalVisitor.java      |   2 +
 .../org/apache/drill/exec/proto/UserBitShared.java |  29 ++-
 .../drill/exec/proto/beans/CoreOperatorType.java   |   6 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   2 +
 53 files changed, 2356 insertions(+), 53 deletions(-)

commit 4627973bde9847a4eb2672c44941136c167326a1
Author: Paul Rogers <progers@cloudera.com>
Date:   Mon Jan 21 18:04:41 2019 -0800

    DRILL-6950: Row set-based scan framework
    
    Adds the "plumbing" that connects the scan operator to the result set loader and the scan projection framework. See the various package-info.java files for the technical datails. Also adds a large number of tests.
    
    This PR does not yet introduce an actual scan operator: that will follow in subsequent PRs.
    
    closes #1618

 .../apache/drill/exec/physical/impl/ScanBatch.java |   12 +-
 .../drill/exec/physical/impl/scan/ReaderState.java |  444 ++++++
 .../exec/physical/impl/scan/RowBatchReader.java    |  206 +++
 .../physical/impl/scan/ScanOperatorEvents.java     |   57 +
 .../exec/physical/impl/scan/ScanOperatorExec.java  |  286 ++++
 .../impl/scan/columns/ColumnsArrayManager.java     |  137 ++
 .../impl/scan/columns/ColumnsArrayParser.java      |  175 +++
 .../impl/scan/columns/ColumnsScanFramework.java    |  134 ++
 .../scan/columns/ResolvedColumnsArrayColumn.java   |   42 +
 .../scan/columns/UnresolvedColumnsArrayColumn.java |   32 +
 .../physical/impl/scan/columns/package-info.java   |   23 +
 .../impl/scan/file/BaseFileScanFramework.java      |  166 ++
 .../exec/physical/impl/scan/file/FileMetadata.java |   77 +
 .../impl/scan/file/FileMetadataColumn.java         |   75 +
 .../impl/scan/file/FileMetadataColumnDefn.java     |   59 +
 .../impl/scan/file/FileMetadataColumnsParser.java  |  120 ++
 .../impl/scan/file/FileMetadataManager.java        |  223 +++
 .../physical/impl/scan/file/FileScanFramework.java |   78 +
 .../physical/impl/scan/file/MetadataColumn.java    |   47 +
 .../physical/impl/scan/file/PartitionColumn.java   |   63 +
 .../exec/physical/impl/scan/file/package-info.java |   24 +
 .../impl/scan/framework/AbstractScanFramework.java |  114 ++
 .../impl/scan/framework/BasicScanFramework.java    |   58 +
 .../impl/scan/framework/ManagedReader.java         |  114 ++
 .../impl/scan/framework/SchemaNegotiator.java      |  109 ++
 .../impl/scan/framework/SchemaNegotiatorImpl.java  |  100 ++
 .../impl/scan/framework/ShimBatchReader.java       |  188 +++
 .../physical/impl/scan/framework/package-info.java |  161 ++
 .../exec/physical/impl/scan/package-info.java      |   44 +
 .../impl/scan/project/ScanLevelProjection.java     |   29 +-
 .../impl/scan/project/ScanSchemaOrchestrator.java  |   13 +-
 .../physical/impl/scan/project/package-info.java   |    2 +-
 .../exec/physical/rowSet/ResultSetLoader.java      |   11 +
 .../physical/rowSet/impl/ResultSetLoaderImpl.java  |   17 +
 .../record/metadata/AbstractColumnMetadata.java    |    5 +
 .../apache/drill/exec/store/ColumnExplorer.java    |   25 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   15 +-
 .../text/compliant/CompliantTextRecordReader.java  |    4 +-
 .../easy/text/compliant/RepeatedVarCharOutput.java |    2 +-
 .../exec/work/filter/RuntimeFilterRouter.java      |    2 +-
 .../exec/physical/impl/scan/ScanTestUtils.java     |   64 +
 .../exec/physical/impl/scan/TestColumnsArray.java  |  190 +++
 .../impl/scan/TestColumnsArrayFramework.java       |  209 +++
 .../physical/impl/scan/TestColumnsArrayParser.java |  259 ++++
 .../impl/scan/TestConstantColumnLoader.java        |  153 ++
 .../impl/scan/TestFileMetadataColumnParser.java    |  262 ++++
 .../impl/scan/TestFileMetadataProjection.java      |  328 ++++
 .../physical/impl/scan/TestFileScanFramework.java  |  546 +++++++
 .../physical/impl/scan/TestNullColumnLoader.java   |  281 ++++
 .../physical/impl/scan/TestRowBatchMerger.java     |  459 ++++++
 .../physical/impl/scan/TestScanBatchWriters.java   |  122 ++
 .../impl/scan/TestScanLevelProjection.java         |  223 +++
 .../physical/impl/scan/TestScanOperatorExec.java   | 1600 ++++++++++++++++++++
 .../impl/scan/TestScanOrchestratorEarlySchema.java | 1137 ++++++++++++++
 .../impl/scan/TestScanOrchestratorLateSchema.java  |  155 ++
 .../impl/scan/TestScanOrchestratorMetadata.java    |  442 ++++++
 .../impl/scan/TestSchemaLevelProjection.java       |  557 +++++++
 .../physical/impl/scan/TestSchemaSmoothing.java    |  946 ++++++++++++
 .../impl/scan/project/TestScanLevelProjection.java |    3 +-
 .../exec/physical/rowSet/impl/RowSetTestUtils.java |   20 +-
 .../exec/store/easy/text/compliant/TestCsv.java    |  145 +-
 .../accessor/writer/AbstractTupleWriter.java       |   17 +-
 62 files changed, 11521 insertions(+), 90 deletions(-)

commit c17c59cddcced703c9852038e957147c502d17aa
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Fri Feb 22 13:41:02 2019 -0800

    DRILL-7036: Improve UI for alert and error messages
    closes #1644
    This PR standardizes error and alert messages to a cleaner interface by leveraging Bootstraps UX elements for publishing the messages in a presentable format.
    Exceptions reported back to the browser and rendered in a neat tabular format (using Panels)
    All errors can be redirected to errorMessage.ftl which will render it in a neat format.
    Alerts are replaced with modals.
    Interactions (pages) affected by Alert modals
    1. Missing Query submission
    2. profile Query Rerun
    3. invalid Profile Listing Fetch
    4. invalid Option Value for update
    5. Missing username/password submission
    
    The errorMessage.ftl has been moved to root dir, and unused `error.ftl` was removed

 .../drill/exec/server/rest/LogsResources.java      |  10 +-
 .../drill/exec/server/rest/QueryResources.java     |   4 +-
 .../exec/server/rest/profile/ProfileResources.java |   9 +-
 .../src/main/resources/rest/alertModals.ftl        | 104 +++++++++++++++++++++
 exec/java-exec/src/main/resources/rest/error.ftl   |  28 ------
 .../resources/rest/{query => }/errorMessage.ftl    |  10 +-
 exec/java-exec/src/main/resources/rest/options.ftl |   7 +-
 .../src/main/resources/rest/profile/list.ftl       |  11 ++-
 .../src/main/resources/rest/profile/profile.ftl    |   5 +-
 .../src/main/resources/rest/query/query.ftl        |   6 +-
 .../resources/rest/static/js/querySubmission.js    |  54 +++++------
 11 files changed, 174 insertions(+), 74 deletions(-)

commit 110c3578aa18f596278e251d700c8fa9ada8b0c4
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Sun Feb 17 23:10:04 2019 +0200

    DRILL-6734: JDBC storage plugin returns null for fields without aliases
    closes #1642
    - Add output column names to JdbcRecordReader and use them for storing the results since column names in result set may differ when aliases aren't specified

 .../drill/exec/store/jdbc/JdbcBatchCreator.java    |  3 +-
 .../drill/exec/store/jdbc/JdbcGroupScan.java       | 28 +++++-----
 .../org/apache/drill/exec/store/jdbc/JdbcPrel.java |  5 +-
 .../drill/exec/store/jdbc/JdbcRecordReader.java    | 51 +++++++++++-------
 .../apache/drill/exec/store/jdbc/JdbcSubScan.java  | 15 ++++--
 .../exec/store/jdbc/TestJdbcPluginWithH2IT.java    |  4 +-
 .../exec/store/jdbc/TestJdbcPluginWithMySQLIT.java | 60 +++++++++++++++++++++-
 7 files changed, 125 insertions(+), 41 deletions(-)

commit a43839e2147c24700f8a331c6863566abed7a51e
Author: Charles S. Givre <cgivre@gmail.com>
Date:   Sun Feb 17 21:42:02 2019 -0500

    DRILL-6582: SYSLOG (RFC-5424) Format Plugin
    closes #1530

 contrib/format-syslog/README.md                    |  41 +++
 contrib/format-syslog/pom.xml                      |  89 +++++
 .../exec/store/syslog/SyslogFormatConfig.java      |  87 +++++
 .../exec/store/syslog/SyslogFormatPlugin.java      |  82 +++++
 .../exec/store/syslog/SyslogRecordReader.java      | 401 +++++++++++++++++++++
 .../src/main/resources/drill-module.conf           |  22 ++
 .../drill/exec/store/syslog/TestSyslogFormat.java  | 302 ++++++++++++++++
 .../src/test/resources/syslog/logs.syslog          |   8 +
 .../src/test/resources/syslog/logs.syslog1         |   8 +
 .../src/test/resources/syslog/logs1.syslog         |   6 +
 .../src/test/resources/syslog/test.syslog          |   1 +
 .../src/test/resources/syslog/test.syslog1         |   2 +
 .../native/client/src/protobuf/UserBitShared.pb.cc |  13 +-
 .../native/client/src/protobuf/UserBitShared.pb.h  |   5 +-
 contrib/pom.xml                                    |   1 +
 distribution/pom.xml                               |   5 +
 distribution/src/assemble/component.xml            |  49 +--
 pom.xml                                            |   4 +
 .../org/apache/drill/exec/proto/UserBitShared.java |  21 +-
 .../drill/exec/proto/beans/CoreOperatorType.java   |   4 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   1 +
 21 files changed, 1113 insertions(+), 39 deletions(-)

commit ad63b70478674185c438682fc0ccd7ca191da1d5
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Sun Feb 10 19:26:08 2019 +0200

    DRILL-7022: Partition pruning is not happening the first time after the metadata auto-refresh
    
    closes #1638

 .../exec/store/parquet/ParquetReaderUtility.java   |  5 +++++
 .../store/parquet/TestParquetMetadataCache.java    | 22 ++++++++++++++++++++++
 2 files changed, 27 insertions(+)

commit f087fd5b4c04ac87a5ad8bd4defaaab580af0bd1
Author: Abhishek Ravi <abhi.ravi@gmail.com>
Date:   Mon Feb 18 23:46:38 2019 -0800

    DRILL-6855: Do not load schema if there is an IOException
    
    closes #1626

 .../common/exceptions/UserExceptionUtils.java      | 44 ++++++++++++++++++++++
 .../org/apache/calcite/jdbc/DynamicRootSchema.java | 10 +++++
 .../drill/exec/physical/impl/TestSchema.java       |  4 +-
 3 files changed, 56 insertions(+), 2 deletions(-)

commit 304293a46e66ba27b6b38bbc2fef63743f78d598
Author: Paul Rogers <progers@cloudera.com>
Date:   Mon Jan 28 22:04:31 2019 -0800

    DRILL-7024: Refactor ColumnWriter to simplify type-conversion shim
    
    DRILL-7006 added a type conversion "shim" within the row set framework. Basically, we insert a "shim" column writer that takes data in one form (String, say), and does reader-specific conversions to a target format (INT, say).
    
    The code works fine, but the shim class ends up needing to override a bunch of methods which it then passes along to the base writer. This PR refactors the code so that the conversion shim is simpler.
    
    closes #1633

 .../org/apache/drill/categories/RowSetTests.java   |  26 ++++
 .../exec/physical/rowSet/impl/ColumnBuilder.java   |   9 +-
 .../exec/physical/rowSet/impl/ColumnState.java     |  11 +-
 .../drill/exec/physical/rowSet/impl/ListState.java |   4 +-
 .../physical/rowSet/impl/NullableVectorState.java  |   2 +-
 .../physical/rowSet/impl/RepeatedListState.java    |  10 +-
 .../physical/rowSet/impl/RepeatedVectorState.java  |   4 +-
 .../physical/rowSet/impl/SingleVectorState.java    |  19 +--
 .../exec/physical/rowSet/impl/TupleState.java      |   3 +-
 .../exec/work/filter/RuntimeFilterRouter.java      |  10 +-
 .../scan/project/TestConstantColumnLoader.java     |   3 +
 .../impl/scan/project/TestNullColumnLoader.java    |   3 +
 .../impl/scan/project/TestRowBatchMerger.java      |   5 +
 .../impl/scan/project/TestScanLevelProjection.java |   3 +
 .../scan/project/TestSchemaLevelProjection.java    |   3 +
 .../impl/scan/project/TestSchemaSmoothing.java     |   3 +
 .../physical/rowSet/impl/TestProjectedTuple.java   |   3 +
 .../impl/TestResultSetLoaderEmptyProject.java      |   4 +-
 .../rowSet/impl/TestResultSetLoaderLimits.java     |   3 +
 .../rowSet/impl/TestResultSetLoaderMapArray.java   |   3 +
 .../rowSet/impl/TestResultSetLoaderMaps.java       |   3 +
 .../impl/TestResultSetLoaderOmittedValues.java     |   3 +
 .../rowSet/impl/TestResultSetLoaderOverflow.java   |   4 +-
 .../rowSet/impl/TestResultSetLoaderProjection.java |   3 +
 .../rowSet/impl/TestResultSetLoaderProtocol.java   |  18 +--
 .../impl/TestResultSetLoaderRepeatedList.java      |   4 +-
 .../rowSet/impl/TestResultSetLoaderTorture.java    |   4 +-
 .../rowSet/impl/TestResultSetLoaderUnions.java     |   5 +-
 .../rowSet/impl/TestResultSetSchemaChange.java     |   3 +
 .../rowSet/impl/TestResultVectorCache.java         |   3 +
 ...lumnConvertor.java => TestColumnConverter.java} |  41 +++---
 .../test/rowSet/test/TestFixedWidthWriter.java     |   5 +-
 .../test/rowSet/test/TestHyperVectorReaders.java   |   3 +
 .../test/rowSet/test/TestIndirectReaders.java      |   3 +
 .../drill/test/rowSet/test/TestMapAccessors.java   |   3 +
 .../test/rowSet/test/TestOffsetVectorWriter.java   |   5 +-
 .../rowSet/test/TestRepeatedListAccessors.java     |   3 +
 .../apache/drill/test/rowSet/test/TestRowSet.java  |   3 +
 .../test/rowSet/test/TestRowSetComparison.java     |   3 +
 .../test/rowSet/test/TestScalarAccessors.java      |   4 +-
 .../drill/test/rowSet/test/TestSchemaBuilder.java  |   4 +
 .../test/rowSet/test/TestVariableWidthWriter.java  |   6 +-
 .../test/rowSet/test/TestVariantAccessors.java     |   4 +
 .../vector/accessor/ColumnConversionFactory.java   |   3 +-
 .../drill/exec/vector/accessor/ColumnWriter.java   |  34 +----
 .../drill/exec/vector/accessor/ObjectWriter.java   |   9 ++
 .../drill/exec/vector/accessor/ScalarWriter.java   |  38 +-----
 .../drill/exec/vector/accessor/TupleWriter.java    |  19 +--
 .../accessor/writer/AbstractArrayWriter.java       |  13 +-
 .../accessor/writer/AbstractObjectWriter.java      |  37 ++----
 .../accessor/writer/AbstractScalarWriter.java      | 132 ++++++-------------
 .../accessor/writer/AbstractScalarWriterImpl.java  | 142 +++++++++++++++++++++
 .../accessor/writer/AbstractTupleWriter.java       |  39 ++++--
 ...eConvertor.java => AbstractWriteConverter.java} |  88 +------------
 .../vector/accessor/writer/BaseScalarWriter.java   |   2 +-
 .../accessor/writer/ColumnWriterFactory.java       |   2 +-
 .../vector/accessor/writer/ConcreteWriter.java     |  69 ----------
 .../exec/vector/accessor/writer/EmptyListShim.java |  11 ++
 .../accessor/writer/NullableScalarWriter.java      |   6 +-
 .../vector/accessor/writer/ScalarArrayWriter.java  |   9 +-
 .../vector/accessor/writer/SimpleListShim.java     |  23 +++-
 .../vector/accessor/writer/UnionVectorShim.java    |  36 ++++--
 .../vector/accessor/writer/UnionWriterImpl.java    |  19 ++-
 .../exec/vector/accessor/writer/WriterEvents.java  |  54 +++++++-
 .../accessor/writer/dummy/DummyScalarWriter.java   |   4 +-
 65 files changed, 587 insertions(+), 470 deletions(-)

commit 1fa12e71c45efd9d1dd8ff383588d30360753bac
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Feb 1 16:57:38 2019 +0200

    DRILL-6780: Caching dependencies for CircleCI
    
    closes #1632

 .circleci/config.yml | 52 +++++++++++++++++++++++++++++++++-------------------
 1 file changed, 33 insertions(+), 19 deletions(-)

commit 59c5684ec5db63b2090b9be18f77f5a5481f8785
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Feb 6 14:14:14 2019 +0200

    DRILL-7031: Add Travis job that runs protobuf generation command and checks if all protobufs are up-to-date
    
    closes #1636

 .travis.yml | 39 ++++++++++++++++++++++++++++++++++++---
 1 file changed, 36 insertions(+), 3 deletions(-)

commit 3bec197bce73ed7aa2ae3fabf457c408aa7aff87
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Mon Oct 22 14:33:49 2018 +0300

    DRILL-6862: Update Calcite to 1.18.0
    
    1. Moved Calcite dependency from profile hadoop-default to general dependency managment
    2. Updated Calcite version to 1.18.0-drill-r0 and Avatica version to 1.13.0
    3. Hook.REL_BUILDER_SIMPLIFY moved to static block, cause now it can't be removed (fixes DRILL-6830)
    4. Removed WrappedAccessor, since it was workaround fixed in CALCITE-1408
    5. Fixed setting of multiple options in TestBuilder
    6. Timstampadd type inference aligned with CALCITE-2699
    7. Dependency update caused 417 kB increase of jdb-all jar size, so the maxsize limit was
       increased from 39.5 to 40 MB
    8. Added test into TestDrillParquetReader to ensure that DRILL-6856 was
       fixed by Calcite update
    
    close apache/drill#1631

 exec/java-exec/src/main/codegen/data/Parser.tdd    | 763 ++++++++++++++++++++-
 .../apache/drill/exec/planner/DrillRelBuilder.java |  10 +
 .../drill/exec/planner/sql/SqlConverter.java       |  15 +-
 .../drill/exec/planner/sql/TypeInferenceUtils.java |   6 +-
 .../test/java/org/apache/drill/TestCTASJson.java   |  16 +-
 .../physical/impl/TestNestedDateTimeTimestamp.java |  12 +-
 .../store/parquet2/TestDrillParquetReader.java     |  13 +
 .../java/org/apache/drill/test/TestBuilder.java    |  11 +-
 exec/jdbc-all/pom.xml                              |   2 +-
 .../drill/jdbc/impl/AvaticaDrillSqlAccessor.java   |   6 +
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |  12 +-
 .../apache/drill/jdbc/impl/WrappedAccessor.java    | 447 ------------
 pom.xml                                            |  84 ++-
 13 files changed, 867 insertions(+), 530 deletions(-)

commit 35b42ebdfd645b92330ad5dcac363aa0036696a7
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Tue Jan 29 21:09:55 2019 -0800

    DRILL-7016: Wrong query result with RuntimeFilter enabled when order of join and filter condition is swapped
    
    close apache/drill#1628

 .../physical/visitor/RuntimeFilterVisitor.java     |   8 +-
 .../impl/join/TestHashJoinJPPDCorrectness.java     | 178 +++++++++++++++++++++
 2 files changed, 183 insertions(+), 3 deletions(-)

commit b5fe06534cf8a391caed65ae274ad144b10b580e
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Jan 30 20:16:09 2019 +0200

    DRILL-7019: Add check for redundant imports
    
    close apache/drill#1629

 .../initilializers/DefaultReadersInitializer.java  |  1 -
 .../drill/yarn/client/TestCommandLineOptions.java  |  2 --
 drill-yarn/src/test/resources/doy-test-logback.xml |  2 +-
 .../src/test/resources/second-test-config.conf     |  4 +--
 drill-yarn/src/test/resources/test-doy-config.conf |  4 +--
 .../src/test/resources/test-doy-distrib.conf       |  2 +-
 .../src/test/resources/third-test-config.conf      |  4 +--
 .../apache/drill/exec/planner/RuleInstance.java    |  3 ++-
 .../planner/index/rules/DbScanSortRemovalRule.java |  1 -
 .../exec/planner/logical/DrillImplementor.java     |  1 -
 .../planner/logical/DrillMergeProjectRule.java     |  2 --
 .../drill/exec/planner/physical/TopNPrel.java      |  2 --
 .../impl/scan/project/TestNullColumnLoader.java    |  3 ---
 .../impl/scan/project/TestRowBatchMerger.java      |  5 ----
 .../impl/scan/project/TestScanLevelProjection.java |  2 --
 .../scan/project/TestSchemaLevelProjection.java    | 29 +++++++---------------
 .../impl/scan/project/TestSchemaSmoothing.java     |  7 ------
 .../java-exec/src/test/resources/drill-module.conf |  2 +-
 exec/java-exec/src/test/resources/zkacltest.conf   | 22 ++++++++--------
 .../io/netty/buffer/UnsafeDirectLittleEndian.java  |  2 --
 .../exec/vector/complex/RepeatedValueVector.java   |  3 +--
 pom.xml                                            |  6 ++---
 src/main/resources/checkstyle-config.xml           |  1 +
 src/main/resources/checkstyle-suppressions.xml     |  2 +-
 24 files changed, 37 insertions(+), 75 deletions(-)

commit 0a61b8fb2f6cfe9b4576e1884d58cae734c78824
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Sun Dec 2 19:55:55 2018 +0200

    DRILL-6964: Implement CREATE / DROP SCHEMA commands
    
    Note: this PR only adds support for CREATE / DROP SCHEMA commands which allow to store and delete schema. Schema usage during querying the data will be covered in other PRs.
    
    1. Added parser methods / handles to parse CREATE / DROP schema commands.
    2. Added SchemaProviders classes to separate ways of schema provision (file, table function).
    3. Added schema parsing using ANTLR4 (lexer, parser, visitors).
    4. Added appropriate unit tests.
    
    close apache/drill#1615

 exec/java-exec/pom.xml                             |  21 +
 .../record/metadata/schema/parser/SchemaLexer.g4   |  90 ++++
 .../record/metadata/schema/parser/SchemaParser.g4  |  72 +++
 exec/java-exec/src/main/codegen/data/Parser.tdd    |   9 +-
 .../src/main/codegen/includes/parserImpls.ftl      | 259 +++++++++--
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   2 +-
 .../drill/exec/planner/sql/SchemaUtilites.java     |  19 +-
 .../planner/sql/handlers/DropTableHandler.java     |  24 +-
 .../exec/planner/sql/handlers/SchemaHandler.java   | 214 +++++++++
 .../exec/planner/sql/handlers/ViewHandler.java     |   4 +-
 .../sql/parser/CompoundIdentifierConverter.java    |   2 +
 .../exec/planner/sql/parser/SqlCreateType.java     |  42 ++
 .../exec/planner/sql/parser/SqlCreateView.java     |  16 +-
 .../drill/exec/planner/sql/parser/SqlSchema.java   | 280 ++++++++++++
 .../record/metadata/AbstractColumnMetadata.java    |  30 ++
 .../exec/record/metadata/MapColumnMetadata.java    |  14 +
 .../record/metadata/PrimitiveColumnMetadata.java   |  46 ++
 .../metadata/RepeatedListColumnMetadata.java       |   6 +
 .../drill/exec/record/metadata/TupleSchema.java    |   7 +
 .../metadata/schema/FsMetastoreSchemaProvider.java |  51 +++
 .../metadata/schema/InlineSchemaProvider.java      |  57 +++
 .../record/metadata/schema/PathSchemaProvider.java | 132 ++++++
 .../record/metadata/schema/SchemaContainer.java    | 145 ++++++
 .../record/metadata/schema/SchemaProvider.java     |  66 +++
 .../metadata/schema/parser/SchemaExprParser.java   |  96 ++++
 .../schema/parser/SchemaParsingException.java      |  31 ++
 .../metadata/schema/parser/SchemaVisitor.java      | 269 +++++++++++
 .../schema/parser/UpperCaseCharStream.java         |  84 ++++
 .../java/org/apache/drill/TestSchemaCommands.java  | 501 +++++++++++++++++++++
 .../record/metadata/schema/TestSchemaProvider.java | 232 ++++++++++
 .../schema/parser/TestParserErrorHandling.java     | 157 +++++++
 .../metadata/schema/parser/TestSchemaParser.java   | 279 ++++++++++++
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  |  10 +-
 .../org/apache/drill/exec/sql/TestViewSupport.java |   2 +-
 .../drill/exec/record/metadata/ColumnMetadata.java |  17 +
 .../drill/exec/record/metadata/TupleMetadata.java  |   8 +
 36 files changed, 3207 insertions(+), 87 deletions(-)

commit b1594cbcc5491eaa6675c3fc5fb8b7eee6430d19
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Wed Jan 30 14:26:58 2019 -0800

    DRILL-7018: Fixed Parquet buffer overflow when reading timestamp column
    
    close apache/drill#1630

 .../store/parquet/columnreaders/NullableFixedByteAlignedReaders.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 9c82e06b93cf39bbbe11b90aaa6713806fa4aa36
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   Mon Jan 28 01:09:07 2019 +0300

    DRILL-7008: Drillbits: clear stale shutdown hooks
    
    ShutdownThread is no longer required when Drillbit#close() is called.
    
    mvn install for Drill project consumed 600MiB (there were 160 shutdown hooks)
    
    close apache/drill#1625

 .../main/java/org/apache/drill/exec/server/Drillbit.java  | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit 02422418edec35f34a547b929f68545c29a6de6a
Author: weijie.tong <weijie.tong@alipay.com>
Date:   Fri Jan 25 16:55:49 2019 +0800

    DRILL-7002: whatever exec.hashjoin.num_partitions is set, output right results
    
    close apache/drill#1622

 .../drill/exec/physical/impl/join/HashJoinBatch.java   | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 982e98061e029a39f1c593f695c0d93ec7079f0d
Author: Hanumath Maduri <hmaduri@apache.org>
Date:   Fri Jan 11 20:17:47 2019 -0800

    DRILL-6997: Semijoin is changing the join ordering for some tpcds queries.
    
    close apache/drill#1620

 .../apache/drill/exec/planner/PlannerPhase.java    |  13 +-
 .../apache/drill/exec/planner/RuleInstance.java    |   1 -
 .../exec/planner/logical/DrillSemiJoinRel.java     |  56 ++++++-
 .../exec/planner/logical/DrillSemiJoinRule.java    | 183 +++++++++++++++++++++
 .../drill/exec/planner/physical/JoinPrel.java      |  58 +------
 .../planner/sql/handlers/DefaultSqlHandler.java    |  10 +-
 .../exec/physical/impl/join/TestSemiJoin.java      |  25 ++-
 7 files changed, 281 insertions(+), 65 deletions(-)

commit 8fb85cd4370e6143641cda1ad5b998caca0b6bf7
Author: Paul Rogers <progers@cloudera.com>
Date:   Sun Jan 27 10:32:46 2019 -0800

    DRILL-7006: Add type conversion to row writers
    
    Modifies the column metadata and writer abstractions to allow a type conversion "shim" to be specified as part of the schema, then inserted as part of the row set writer. Allows, say, setting an Int or Date from a string, parsing the string to obtain the proper data type to store in the vector.
    
    Type conversion not yet supported in the result set loader: some additional complexity needs to be resolved.
    
    Adds unit tests for this functionality. Refactors some existing tests to remove rough edges.
    
    closes #1623

 .../record/metadata/AbstractColumnMetadata.java    |  16 ++
 .../record/metadata/PrimitiveColumnMetadata.java   |  56 ++++++-
 .../rowSet/impl/TestResultSetLoaderProtocol.java   |  54 ++++++
 .../test/rowSet/test/TestColumnConvertor.java      | 145 ++++++++++++++++
 .../test/{RowSetTest.java => TestRowSet.java}      |  45 +++--
 .../rowSet/{ => test}/TestRowSetComparison.java    |   5 +-
 .../drill/exec/record/metadata/ColumnMetadata.java |  40 +++++
 .../vector/accessor/ColumnConversionFactory.java   |  40 +++++
 .../accessor/UnsupportedConversionError.java       |   2 +-
 .../accessor/writer/AbstractScalarWriter.java      |  52 ++----
 .../accessor/writer/AbstractWriteConvertor.java    | 186 +++++++++++++++++++++
 .../vector/accessor/writer/ConcreteWriter.java     |  69 ++++++++
 .../vector/accessor/writer/ScalarArrayWriter.java  |  24 +--
 13 files changed, 654 insertions(+), 80 deletions(-)

commit 85c656e12bb109147576055c1bed0e1463c32b96
Author: Paul Rogers <progers@cloudera.com>
Date:   Sun Jan 27 10:42:20 2019 -0800

    DRILL-7007: Use verify method in row set tests
    
    Many of the early RowSet-based tests used the pattern:
    
        new RowSetComparison(expected)
          .verifyAndClearAll(result);
    
    Revise this to use the simplified form:
    
        RowSetUtilities.verify(expected, result);
    
    The original form is retained when tests use additional functionality, such as the ability to perform multiple verifications on the same expected batch.
    
    closes #1624

 .../drill/exec/cache/TestBatchSerialization.java   |  4 +---
 .../impl/xsort/managed/SortTestUtilities.java      |  6 ++---
 .../physical/impl/xsort/managed/TestSorter.java    |  6 ++---
 .../impl/TestResultSetLoaderEmptyProject.java      |  5 ++--
 .../impl/TestResultSetLoaderOmittedValues.java     |  8 +++----
 .../rowSet/impl/TestResultSetLoaderProjection.java | 14 ++++-------
 .../rowSet/impl/TestResultSetSchemaChange.java     |  5 ++--
 .../exec/store/easy/text/compliant/TestCsv.java    | 11 ++++-----
 .../apache/drill/exec/store/log/TestLogReader.java | 28 ++++++++++------------
 .../test/rowSet/test/TestIndirectReaders.java      |  5 ++--
 10 files changed, 36 insertions(+), 56 deletions(-)

commit b557b796dc1ca7796b0db956e39df1d52f212f12
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Wed Jan 23 17:38:44 2019 -0800

    DRILL-7000: Queries failing with 'Failed to aggregate or route the RFW' do not complete
    
    closes #1621

 .../apache/drill/exec/work/filter/RuntimeFilterSink.java | 16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit 5026cd12e317e71c4dac1561c347991a36c94e4d
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Mon Jan 21 03:47:59 2019 +0200

    DRILL-6985: Fix sqlline.bat issues on Windows and add drill-embedded.bat
    
    closes #1616

 distribution/src/assemble/component.xml       |  6 ++++
 distribution/src/resources/drill-embedded.bat | 24 ++++++++++++++++
 distribution/src/resources/sqlline.bat        | 41 +++++++++++----------------
 3 files changed, 46 insertions(+), 25 deletions(-)

commit a00f1800b95a007b0890f97fd260a6085911438b
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Fri Jan 18 20:27:54 2019 +0200

    DRILL-6977: Improve Hive tests configuration
    
    1. HiveTestBase data initialization moved to static block
       to be initialized once for all derivatives.
    2. Extracted Hive driver and storage plugin management from HiveTestDataGenerator
       to HiveTestFixture class. This increased cohesion of generator and
       added loose coupling between hive test configuration and data generation
       tasks.
    3. Replaced usage of Guava ImmutableLists with TestBaseViewSupport
       helper methods by using standard JDK collections.
    
    closes #1613

 .../org/apache/drill/exec/hive/HiveTestBase.java   |  44 ++-
 .../apache/drill/exec/hive/HiveTestFixture.java    | 295 +++++++++++++++++++++
 .../apache/drill/exec/hive/HiveTestUtilities.java  |  36 +++
 .../apache/drill/exec/hive/TestHiveStorage.java    |  34 +--
 .../hive/BaseTestHiveImpersonation.java            |  18 +-
 .../exec/sql/hive/TestViewSupportOnHiveTables.java |  47 ++--
 .../exec/store/hive/HiveTestDataGenerator.java     | 137 ++--------
 .../apache/drill/exec/sql/TestBaseViewSupport.java |  38 +++
 .../org/apache/drill/exec/sql/TestViewSupport.java | 106 +++-----
 9 files changed, 510 insertions(+), 245 deletions(-)

commit 780a3fbb0222ac037d3c559dc88c7f9dbd48b0cb
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Thu Dec 20 20:58:16 2018 +0200

    DRILL-6962: Function coalesce returns an Error when none of the columns in coalesce exist in a parquet file
    
    - Updated UntypedNullVector to hold value count when vector is allocated and transfered to another one;
    - Updated RecordBatchLoader and DrillCursor to handle case when only UntypedNull values are present in RecordBatch (special case when data buffer is null but actual values are present);
    - Added functions to cast UntypedNull value to other types for use in UDFs;
    - Moved UntypedReader, UntypedHolderReaderImpl and UntypedReaderImpl from org.apache.drill.exec.vector.complex.impl to org.apache.drill.exec.vector package.
    
    closes #1614

 exec/java-exec/src/main/codegen/data/Casts.tdd     |  17 +++
 .../main/codegen/templates/CastUntypedNull.java    |  61 +++++++++++
 .../drill/exec/record/RecordBatchLoader.java       |   6 ++
 .../java/org/apache/drill/TestJoinNullable.java    |  19 ++++
 .../java/org/apache/drill/TestUntypedNull.java     | 119 +++++++++++++++++++++
 .../drill/exec/fn/impl/TestCastFunctions.java      |  70 ++++++++++++
 .../org/apache/drill/jdbc/impl/DrillCursor.java    |   9 +-
 .../codegen/templates/AbstractFieldReader.java     |   4 +-
 .../main/codegen/templates/BasicTypeHelper.java    |   2 +
 .../impl => }/UntypedHolderReaderImpl.java         |   5 +-
 .../drill/exec/vector/UntypedNullVector.java       |  18 ++--
 .../vector/{complex/impl => }/UntypedReader.java   |   4 +-
 .../{complex/impl => }/UntypedReaderImpl.java      |   5 +-
 .../exec/vector/complex/reader/FieldReader.java    |   6 +-
 14 files changed, 319 insertions(+), 26 deletions(-)

commit 4e03d54cd854c08a5ed96a67e7c27f02fa5ff435
Author: weijie.tong <weijie.tong@alipay.com>
Date:   Thu Jan 24 22:06:40 2019 +0800

    DRILL-6999: Fix the case that there's more than one join conditions
    
    closes #1600

 .../drill/exec/rpc/data/DataServerRequestHandler.java  | 13 ++++++++++++-
 .../drill/exec/work/filter/RuntimeFilterWritable.java  | 18 ------------------
 2 files changed, 12 insertions(+), 19 deletions(-)

commit 1887cce249e79058c7328c2bbf094b3d979e6ab2
Author: weijie.tong <weijie.tong@alipay.com>
Date:   Sun Jan 6 15:48:55 2019 +0800

    DRILL-6947: Fix RuntimeFilter memory leak

 .../impl/filter/RuntimeFilterRecordBatch.java      | 44 ++++++++++++++++------
 .../exec/physical/impl/join/HashJoinBatch.java     |  8 +++-
 .../exec/work/filter/RuntimeFilterWritable.java    | 21 +++++++++++
 3 files changed, 60 insertions(+), 13 deletions(-)

commit 03f4677667ffed11c3c3ac0e80eb354436bf311e
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Jan 23 01:21:13 2019 +0200

    DRILL-6910: Allow applying DrillPushProjectIntoScanRule at physical phase
    
    closes #1619

 .../apache/drill/exec/planner/PlannerPhase.java    |   3 +-
 .../logical/DrillPushProjectIntoScanRule.java      | 111 +++++++++++++++++----
 .../java/org/apache/drill/TestProjectPushDown.java |  20 +++-
 3 files changed, 111 insertions(+), 23 deletions(-)

commit c230ba55cceb6d48ac9c1ab0701a167d91842a11
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Tue Jan 22 00:18:19 2019 +0200

    DRILL-6533: Allow using literal values in functions which expect FieldReader instead of ValueHolder
    
    closes #1617

 .../expr/fn/interpreter/InterpreterEvaluator.java  |  50 +++++---
 .../drill/exec/expr/fn/impl/TestTypeFns.java       | 133 +++++++++++++++++++--
 .../main/codegen/templates/BasicTypeHelper.java    |  30 ++++-
 3 files changed, 187 insertions(+), 26 deletions(-)

commit 72cba88f058b072040c701a7e1dbbe4fc4eb8d48
Author: Boaz Ben-Zvi <bben-zvi@mapr.com>
Date:   Fri Jan 18 13:38:44 2019 -0800

    Update Javadocs.md

 docs/dev/Javadocs.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0f05f53e0e34ccc0606a561f44d82b794be32b83
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Jan 11 16:25:02 2019 +0200

    DRILL-6967: Fix TIMESTAMPDIFF function for QUARTER qualifier
    
    closes #1609

 .../TimestampDiff.java                             |  3 +-
 .../fn/impl/TestTimestampAddDiffFunctions.java     | 80 ++++++++++++----------
 2 files changed, 45 insertions(+), 38 deletions(-)

commit a566b0af0eb24a9ee6ed91bd4ad31a17e529e8d9
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Fri Jan 4 15:14:58 2019 -0800

    DRILL-6942: Provide ability to sort list of profiles on Drill Web UI
    
    This provides an option to order the list of query profiles based on any of the displayed fields, including total duration. This way, a user can easily identify long running queries.
    In addition, the number of profiles listed per page for both, completed and running list of queries, has been made configurable with the parameter: `drill.exec.http.profiles_per_page` (default is 10,25,50,100)
    
    closes #1594

 .../src/main/java/org/apache/drill/exec/ExecConstants.java |  1 +
 .../drill/exec/server/rest/profile/ProfileResources.java   |  8 +++++++-
 exec/java-exec/src/main/resources/drill-module.conf        |  1 +
 exec/java-exec/src/main/resources/rest/options.ftl         | 13 +------------
 exec/java-exec/src/main/resources/rest/profile/list.ftl    | 14 ++++++++------
 exec/java-exec/src/main/resources/rest/profile/profile.ftl | 14 +-------------
 .../rest/static/css/drill-dataTables.sortable.css          | 11 +++++++++++
 7 files changed, 30 insertions(+), 32 deletions(-)

commit de863afcd17447c3f2bb91a7ddd9f1c273a633a4
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Fri Jan 4 15:47:32 2019 +0200

    DRILL-6944: UnsupportedOperationException thrown for view over MapR-DB binary table
    
    1. Added persistence of MAP key and value types in Drill views (affects .view.drill file) for avoiding cast problems in future.
    2. Preserved backward compatibility of older view files by treating untyped maps as ANY.
    
    closes #1602

 .../exec/store/hive/schema/DrillHiveViewTable.java |   6 +-
 .../java/org/apache/drill/exec/dotdrill/View.java  | 222 ++++++++++++++-------
 .../apache/drill/exec/sql/TestBaseViewSupport.java |   4 +-
 .../org/apache/drill/exec/sql/TestViewSupport.java |  61 +++++-
 .../test/resources/avro/map_string_to_long.avro    | Bin 0 -> 207 bytes
 .../resources/view/vw_before_drill_6944.view.drill |  10 +
 6 files changed, 225 insertions(+), 78 deletions(-)

commit 95d91f40c5991720b6f9d1cd2147edf58c8b136f
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Jan 10 20:47:08 2019 +0200

    DRILL-6969: Fix inconsistency of reading MaprDB JSON tables using hive plugin when native reader is enabled
    
    closes #1610

 .../store/mapr/db/MapRDBFormatPluginConfig.java    |  8 +++
 .../mapr/db/json/CompareFunctionsProcessor.java    | 57 ++++++++++++----
 .../store/mapr/db/json/JsonConditionBuilder.java   |  7 +-
 .../store/mapr/db/json/MaprDBJsonRecordReader.java | 75 ++++++++++++++++++----
 .../drill/maprdb/tests/json/TestScanRanges.java    |  4 +-
 ...ertHiveMapRDBJsonScanToDrillMapRDBJsonScan.java | 11 +++-
 .../java/org/apache/drill/exec/ExecConstants.java  |  5 ++
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../java-exec/src/main/resources/drill-module.conf |  1 +
 .../drill/exec/expr/fn/impl/DateUtility.java       |  3 +
 10 files changed, 143 insertions(+), 29 deletions(-)

commit da7cb4e2fc67393f0ef26b0a03954ad139fdf7f9
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Mon Jan 14 11:53:15 2019 -0800

    DRILL-6971: Labelled Query State with color coding
    
    closes #1611

 .../java-exec/src/main/resources/rest/query/result.ftl | 18 ++++++++++++++----
 1 file changed, 14 insertions(+), 4 deletions(-)

commit 4355e979e81ef7353b6e48b19283e0765e9a14bf
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Fri Jan 11 16:42:21 2019 -0800

    DRILL-6971: Display query state in query result page

 .../drill/exec/rpc/AbstractDisposableUserClientConnection.java     | 7 +++++++
 .../java/org/apache/drill/exec/server/rest/QueryResources.java     | 6 ++++++
 .../main/java/org/apache/drill/exec/server/rest/QueryWrapper.java  | 2 ++
 exec/java-exec/src/main/resources/rest/query/result.ftl            | 3 +++
 4 files changed, 18 insertions(+)

commit 172dc7cb4c3323e9650db2bf7fe1eab76c2fbbe1
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Jan 4 19:30:23 2019 +0200

    DRILL-6903: SchemaBuilder code improvements
    
    1. ColumnBuilder: setPrecisionAndScale method
    2. SchemaContainer: addColumn method parameter AbstractColumnMetadata was changed to ColumnMetadata
    3. MapBuilder / RepeatedListBuilder / UnionBuilder: added constructors without parent, made buildColumn method public
    4. TupleMetadata: added toMetadataList method
    5. Other refactoring

 .../exec/physical/rowSet/impl/ColumnBuilder.java   | 20 ++---
 .../exec/physical/rowSet/impl/ColumnState.java     |  4 +-
 .../exec/physical/rowSet/model/BaseTupleModel.java |  8 +-
 .../physical/rowSet/model/MetadataProvider.java    | 22 +++---
 .../rowSet/model/single/SingleSchemaInference.java |  4 +-
 .../record/metadata/AbstractColumnMetadata.java    |  6 +-
 .../drill/exec/record/metadata/ColumnBuilder.java  | 12 +--
 .../drill/exec/record/metadata/MapBuilder.java     | 33 ++++++---
 .../exec/record/metadata/MapColumnMetadata.java    | 17 ++---
 .../drill/exec/record/metadata/MetadataUtils.java  | 10 +--
 .../record/metadata/PrimitiveColumnMetadata.java   |  4 +-
 .../exec/record/metadata/RepeatedListBuilder.java  | 22 ++++--
 .../metadata/RepeatedListColumnMetadata.java       |  9 +--
 .../drill/exec/record/metadata/SchemaBuilder.java  |  6 +-
 .../exec/record/metadata/SchemaContainer.java      |  4 +-
 .../drill/exec/record/metadata/TupleBuilder.java   | 26 +++----
 .../drill/exec/record/metadata/TupleSchema.java    | 35 +++++----
 .../drill/exec/record/metadata/UnionBuilder.java   | 42 +++++++----
 .../record/metadata/VariantColumnMetadata.java     |  4 +-
 .../drill/exec/record/metadata/VariantSchema.java  |  6 +-
 .../rowSet/impl/TestResultSetLoaderUnions.java     |  5 +-
 .../apache/drill/exec/record/TestTupleSchema.java  | 13 ++--
 .../drill/test/rowSet/test/DummyWriterTest.java    |  5 +-
 .../drill/test/rowSet/test/TestSchemaBuilder.java  | 85 +++++++++++++++++++++-
 .../test/rowSet/test/TestVariantAccessors.java     | 21 +++---
 .../drill/exec/record/metadata/ColumnMetadata.java |  5 +-
 .../drill/exec/record/metadata/TupleMetadata.java  | 12 ++-
 27 files changed, 265 insertions(+), 175 deletions(-)

commit 06a210c2d681c3972ca3885840da0559341c1c02
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Jan 9 23:52:34 2019 +0200

    DRILL-6959: Fix loss of precision when casting time and timestamp literals in filter condition
    closes #1607

 .../exec/planner/logical/DrillConstExecutor.java   | 353 ++++++++++-----------
 .../drill/exec/fn/impl/TestCastFunctions.java      | 149 ++++++---
 2 files changed, 277 insertions(+), 225 deletions(-)

commit 7be4c53b31c543d2d43651664d4d85b265fbfec7
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Jan 8 14:52:39 2019 +0200

    DRILL-6954: Move commons libs used in UDFs module to the dependency management
    closes #1604

 contrib/udfs/pom.xml | 11 +----------
 pom.xml              | 34 +++++++++++++++++++++++++++++-----
 2 files changed, 30 insertions(+), 15 deletions(-)

commit eb0299982c90757fec869875b879dcdbd68a1b76
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Mon Jan 7 16:33:52 2019 +0200

    DRILL-6955: storage-jdbc tests improvements
    
    - Remove plugins usage for instantiating test databases and tables
    - Replace derby with h2 database
    
    closes #1603

 contrib/storage-jdbc/pom.xml                       | 241 +--------------------
 ...ithDerbyIT.java => TestJdbcPluginWithH2IT.java} | 144 +++++++++---
 .../exec/store/jdbc/TestJdbcPluginWithMySQLIT.java | 117 ++++++++--
 .../test/resources/bootstrap-storage-plugins.json  |  25 ---
 .../{derby-test-data.sql => h2-test-data.sql}      |   4 +-
 .../src/test/resources/mysql-test-data-linux.sql   |   2 -
 .../src/test/resources/mysql-test-data.sql         |   3 -
 7 files changed, 224 insertions(+), 312 deletions(-)

commit e76d1e2702e87d3ab01feab9ffe231f87af957ab
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Tue Jan 8 14:17:17 2019 +0200

    DRILL-6928: Update description for exec.query.return_result_set_for_ddl option to reflect it affects JDBC connections only
    closes #1601

 .../java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 4b66226dc7e33d9173e6e714d5cf85beea1e4e46
Author: Abhishek Ravi <abhi.ravi@gmail.com>
Date:   Fri Jan 4 00:04:32 2019 -0800

    DRILL-6918: Skip ensureAtLeastOneField when there are no records
    
    If none of the project / filter columns, exist in the vector, ensureAtLeastOneField (or the Scan operator) adds at least one field as nullable integer (or nullable varchar if `allTextmode` is enabled).
    
    The downstream Filter operator would then go on to fail with `NumberFormatException` because it tries to convert empty fields to integers.
    
    Since ensureAtLeastOneField is called after reading all the messages in a batch, it can be skipped if the batch is empty.
    
    closes #1595

 .../java/org/apache/drill/exec/store/kafka/KafkaRecordReader.java     | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit fc1eacda8b181934eea811e5f228fff697f94549
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Tue Jan 8 18:40:54 2019 -0800

    Changes following second code review

 .../exec/physical/impl/common/ChainedHashTable.java      | 16 ++++++++--------
 .../exec/physical/impl/common/HashTableTemplate.java     |  7 +++++--
 2 files changed, 13 insertions(+), 10 deletions(-)

commit 4c9dd8d0488555863f47c881e8ccbb33c92e64f8
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Mon Jan 7 19:53:49 2019 -0800

    Changes following code review comments for DRILL-6880

 .../physical/impl/common/ChainedHashTable.java     | 46 +++++++------
 .../physical/impl/common/HashTableTemplate.java    | 79 +++++++++++-----------
 2 files changed, 65 insertions(+), 60 deletions(-)

commit 4bc562361b5d178a15f42b46b91bd635805b1d88
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Fri Jan 4 20:14:02 2019 -0800

    DRILL-6880: For Hash-Join hash-table build - treat null keys as an equal match

 .../physical/impl/common/ChainedHashTable.java     | 49 +++++++++++++++-------
 .../physical/impl/common/HashTableTemplate.java    | 13 ++++++
 2 files changed, 46 insertions(+), 16 deletions(-)

commit f7ed58fc97bbf0c684891e07bf5132e055efb1d9
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Fri Jan 4 16:35:46 2019 -0800

    DRILL-6941: Incorrect EARLY_LIMIT0_OPT_KEY description
    
    Description was accidentally duplicated from `planner.parser.quoting_identifiers`
    closes #1597

 exec/java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit feaf5b24e9639669bc43b6673ab36cf403a32525
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Mon Jan 7 11:19:15 2019 -0800

    DRILL-6050: Provide a limit to number of rows fetched for a query in UI
    
    Currently, the WebServer side needs to process the entire set of results and stream it back to the WebClient.
    Since the WebUI does paginate results, we can load a larger set for pagination on the browser client and relieve pressure off the WebServer to host all the data (most of which will never be streamed to the browser).
    e.g. Fetching all rows from a 1Billion records table is impractical and can be capped at (say) 1K. Currently, the user has to explicitly specify LIMIT in the submitted query.
    An option is provided in the field to allow for this entry, and can be set to selected by default for the Web UI.
    The submitted query indicates that an auto-limiting wrapper was applied.
    [Update #1] Updated as per comments
    1. Limit Wrapping Unchecked by default
    2. Full List configuration of results
    [Update #2] Minor update
    [Update #3] Followup
    closes #1593

 .../java/org/apache/drill/exec/ExecConstants.java  |  4 ++
 .../drill/exec/server/rest/QueryResources.java     | 60 ++++++++++++++++++----
 .../java-exec/src/main/resources/drill-module.conf |  7 +++
 .../src/main/resources/rest/query/query.ftl        | 10 ++--
 .../src/main/resources/rest/query/result.ftl       |  2 +-
 .../resources/rest/static/js/querySubmission.js    | 42 +++++++++++++--
 6 files changed, 105 insertions(+), 20 deletions(-)

commit 5c90032503dbdaa75e71a4a22dd150218960145a
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Thu Jan 3 10:27:57 2019 -0800

    DRILL-6939: Indicate when a query is submitted and is in progress
    
    On query submission, a modal popup blocks further interaction until the result of the query are available.
    Since the Query ID is not available at this point, the only way to cancel a running query is to navigate to it via the `/profiles` tab. For this, the modal allows a button to pop out to this tab without closing the current window which is waiting for the result-set.
    [Update] Shared running query modal introduced
    closes #1592

 .../src/main/resources/rest/profile/profile.ftl    |   3 ++
 .../src/main/resources/rest/query/query.ftl        |   2 +
 .../src/main/resources/rest/runningQuery.ftl       |  44 +++++++++++++++++++++
 .../src/main/resources/rest/static/img/loader.gif  | Bin 0 -> 26758 bytes
 .../resources/rest/static/js/querySubmission.js    |  31 ++++++++++++++-
 5 files changed, 79 insertions(+), 1 deletion(-)

commit cd3c3948bd3604e74897a52bcac527e624c1950b
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Thu Jan 3 10:25:38 2019 -0800

    DRILL-6933: Fix ctrl+enter when Impersonation is disabled
    
    Without impersonation, the key combination did not work because a conditional block of the FTLs skipped the Javascript functions required for submitting with the key combination.
    This commit fixes that by unifying the functions that are common to both approaches of submitting a query (with and without impersoination)
    [Update] Changes made to isOnlyImpersonationEnabled method and onlyImpersonationEnabled variable
    [Update] userName is a global var in the script
    closes #1591

 .../drill/exec/server/rest/DrillRestServer.java    |  2 +-
 .../drill/exec/server/rest/QueryResources.java     |  2 +-
 .../apache/drill/exec/server/rest/WebServer.java   |  4 ++--
 .../exec/server/rest/profile/ProfileWrapper.java   |  2 +-
 .../src/main/resources/rest/profile/profile.ftl    | 27 +++++++++++-----------
 .../src/main/resources/rest/query/query.ftl        | 11 ++++-----
 .../resources/rest/static/js/querySubmission.js    | 14 +++++++++--
 7 files changed, 35 insertions(+), 27 deletions(-)

commit 814e9f099bf917c22a91a0a8f36d6afef3eac37f
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Jan 2 20:05:12 2019 +0200

    DRILL-6946: Implement java.sql.Connection setSchema and getSchema methods in DrillConnectionImpl
    closes #1596

 contrib/native/client/src/protobuf/User.pb.cc      | 196 ++++++++----
 contrib/native/client/src/protobuf/User.pb.h       |  87 +++++-
 .../exec/work/metadata/ServerMetaProvider.java     |   3 +-
 .../exec/work/metadata/TestServerMetaProvider.java |  43 ++-
 .../drill/jdbc/impl/DrillConnectionImpl.java       |  31 ++
 .../org/apache/drill/jdbc/ConnectionInfoTest.java  |  85 ++++--
 .../apache/drill/exec/proto/SchemaUserProtos.java  |   7 +
 .../org/apache/drill/exec/proto/UserProtos.java    | 336 +++++++++++++++++----
 .../apache/drill/exec/proto/beans/ServerMeta.java  |  22 ++
 protocol/src/main/protobuf/User.proto              |   2 +
 10 files changed, 634 insertions(+), 178 deletions(-)

commit 7a25d9d86b9324dc4c3121a51e3d964bdb7b0284
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Fri Oct 12 12:02:43 2018 +0300

    DRILL-540: Allow querying hive views in Drill
    
    1. Added DrillHiveViewTable which allows construction of DrillViewTable based
       on Hive metadata
    2. Added initialization of DrillHiveViewTable in HiveSchemaFactory
    3. Extracted conversion of Hive data types from DrillHiveTable
       to HiveToRelDataTypeConverter
    4. Removed throwing of UnsupportedOperationException from HiveStoragePlugin
    5. Added TestHiveViewsSupport and authorization tests
    6. Added closeSilently() method to AutoCloseables
    closes #1559

 .../org/apache/drill/common/AutoCloseables.java    |  22 +
 .../planner/types/HiveToRelDataTypeConverter.java  | 158 ++++
 .../drill/exec/store/hive/ColumnListsCache.java    |  35 +-
 .../drill/exec/store/hive/HiveStoragePlugin.java   |  16 +-
 .../exec/store/hive/schema/DrillHiveTable.java     | 166 +---
 .../exec/store/hive/schema/DrillHiveViewTable.java |  89 ++-
 .../exec/store/hive/schema/HiveSchemaFactory.java  |  46 +-
 .../drill/exec/hive/TestHiveViewsSupport.java      | 233 ++++++
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |  14 +-
 .../hive/BaseTestHiveImpersonation.java            |  44 +-
 .../hive/TestSqlStdBasedAuthorization.java         | 252 +++++--
 .../hive/TestStorageBasedHiveAuthorization.java    | 839 ++++++++++++++-------
 .../exec/sql/hive/TestViewSupportOnHiveTables.java |   5 +-
 .../exec/store/hive/HiveTestDataGenerator.java     |  14 +-
 .../drill/exec/planner/logical/DrillViewTable.java |  14 +-
 logical/pom.xml                                    |   3 -
 16 files changed, 1401 insertions(+), 549 deletions(-)

commit e65079a5d6f9b4e54783bef9f3af64a0684af3f0
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Tue Dec 18 10:33:07 2018 -0800

    DRILL-6879: Show warnings for potential performance issues
    
    1. Introduced warning for non-progressive fragments. Based on a threshold (`drill.exec.http.profile.warning.progress.threshold`), if all fragments have not made progress within that time, a warning is issued. The default is 5 minutes (300 sec)
    
    2. Introduced a warning if any of the buffered operators spill to disk.
    
    3. Introduced a warning for operators where the longest running fragment runs beyond a minimum threshold (drill.exec.http.profile.warning.time.skew.min), and runs atleast 2 times longer than the average (drill.exec.http.profile.warning.time.skew.ratio.process). The clock symbol with a tooltip indicates the extent of the skew. For wait times, the ratio is defined by `drill.exec.http.profile.warning.time.skew.ratio.wait`
    
    3. Introduced a warning for operators where the average wait time of a scan operator exceeds its processing time, for a minimum threshold (drill.exec.http.profile.warning.scan.wait.min). The turtle symbol with a tooltip indicates which scan operator spent more time waiting than processing.
    
    4. TableBuilder Refactored
     a. Using attribute map instead of String arguments, eg. for 'title'
     b. Removed APIs that pass a hyperlink since that is never used.
    closes #1572

 .../java/org/apache/drill/exec/ExecConstants.java  |  11 ++
 .../exec/server/rest/profile/FragmentWrapper.java  |  39 ++++--
 .../exec/server/rest/profile/HtmlAttribute.java    |  37 ++++++
 .../exec/server/rest/profile/OperatorWrapper.java  |  94 ++++++++++----
 .../exec/server/rest/profile/ProfileResources.java |   4 +-
 .../exec/server/rest/profile/ProfileWrapper.java   |  16 ++-
 .../exec/server/rest/profile/TableBuilder.java     | 140 ++++++++-------------
 .../java-exec/src/main/resources/drill-module.conf |  11 ++
 .../src/main/resources/rest/profile/profile.ftl    | 113 +++++++++++++----
 .../src/main/resources/rest/static/img/turtle.png  | Bin 0 -> 469 bytes
 10 files changed, 313 insertions(+), 152 deletions(-)

commit 10b105953fc2cdee1bee8970ecbaeca285d6bb2d
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Mon Dec 10 13:52:53 2018 -0800

    DRILL-6888: Move nested classes outside HashAggTemplate to allow for plain java compile option
    closes #1569

 .../impl/aggregate/HashAggSpilledPartition.java    | 51 +++++++++++++++++++
 .../physical/impl/aggregate/HashAggTemplate.java   | 58 +---------------------
 .../physical/impl/aggregate/HashAggUpdater.java    | 44 ++++++++++++++++
 3 files changed, 97 insertions(+), 56 deletions(-)

commit a9331361c72d47c98ae16087e865bdf61eb01d96
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Fri Dec 14 19:42:51 2018 +0200

    DRILL-6894: CTAS and CTTAS are not working on S3 storage when cache is disabled
    
    - provided JsonRecordWriter, ParquetRecordWriter and DrillTextRecordWriter with file system configuration
    closes #1576

 .../org/apache/drill/exec/store/easy/json/JSONFormatPlugin.java  | 9 ++-------
 .../org/apache/drill/exec/store/easy/json/JsonRecordWriter.java  | 9 +++++----
 .../org/apache/drill/exec/store/easy/text/TextFormatPlugin.java  | 9 ++-------
 .../org/apache/drill/exec/store/parquet/ParquetFormatPlugin.java | 3 ---
 .../org/apache/drill/exec/store/parquet/ParquetRecordWriter.java | 3 +--
 .../org/apache/drill/exec/store/text/DrillTextRecordWriter.java  | 9 +++++----
 6 files changed, 15 insertions(+), 27 deletions(-)

commit f687da853d8a35c3b34d9efd05f85bc37d69d14d
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Sun Dec 16 01:17:16 2018 +0200

    DRILL-6907: Fix hive-exec-shaded classes recognition in IntelliJ IDEA
    closes #1575

 contrib/storage-hive/hive-exec-shade/pom.xml | 35 ++++++++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit 8a85879507866a83293812205ceab2591391c590
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Tue Jan 1 10:10:07 2019 -0800

    DRILL-6921: Add Clear button for /options filter
    
    This commit adds the following search enhancements:
    1. Addition of a clear ('x') button in the search field
    2. If a filter term has been entered in the search box, on clicking the Update or Reset-to-Default button of any option, the reloaded page will re-apply the last entered filter term in the search box.
    3. If the search box is empty, on clicking the Update or Reset-to-Default button of any option, the reloaded page will automatically filter out everything except the updated/reset option to show the changed value.
    4. Customization of the quick search terms. (using defaults in drill-module.conf)
    closes #1588

 .../java/org/apache/drill/exec/ExecConstants.java  |  2 +
 .../drill/exec/server/rest/StatusResources.java    | 55 ++++++++++++++++++----
 .../java-exec/src/main/resources/drill-module.conf |  3 +-
 exec/java-exec/src/main/resources/rest/options.ftl | 50 ++++++++++++++------
 4 files changed, 86 insertions(+), 24 deletions(-)

commit e7558b7909e855d36d5664b93e9b565f8cedca19
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Dec 26 20:31:58 2018 +0200

    DRILL-6929: Exclude maprfs jar for default profile
    closes #1586

 contrib/format-maprdb/pom.xml                      |  3 +-
 contrib/storage-hive/core/pom.xml                  | 33 +++++++++++++++++----
 ...ertHiveMapRDBJsonScanToDrillMapRDBJsonScan.java | 24 +++++----------
 .../drill/exec/store/hive/HiveStoragePlugin.java   | 34 +++++++++++++++-------
 contrib/storage-jdbc/pom.xml                       |  1 -
 exec/java-exec/pom.xml                             |  1 -
 pom.xml                                            |  5 ++++
 7 files changed, 66 insertions(+), 35 deletions(-)

commit 7108f162cd4f18121aa9a8ace76326bd5fbf8264
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Dec 28 19:45:38 2018 +0200

    DRILL-6931: File listing: fix issue for S3 directory objects and improve performance for recursive listing
    closes #1590

 .../planner/sql/handlers/ShowFilesHandler.java     |   8 +-
 .../store/ischema/InfoSchemaRecordGenerator.java   |   3 +-
 .../org/apache/drill/exec/util/FileSystemUtil.java | 230 ++++++++++++---------
 3 files changed, 144 insertions(+), 97 deletions(-)

commit 922beabc50f6b7179a7c5fb71d7fd45073f1ec70
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Thu Dec 27 13:09:35 2018 -0800

    DRILL-6934: Update the option documentation for planner.enable_unnest_lateral
    closes #1587

 .../java/org/apache/drill/exec/planner/physical/PlannerSettings.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d96bea54b96b01ffe9bb19c76bfc158784f26ffc
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Fri Dec 28 21:04:42 2018 +0200

    DRILL-6936: TestGracefulShutdown.gracefulShutdownThreadShouldBeInitializedBeforeClosingDrillbit fails if loopback address is set in hosts
    closes #1589

 .../apache/drill/test/TestGracefulShutdown.java    | 46 +++++++++-------------
 1 file changed, 18 insertions(+), 28 deletions(-)

commit 8a56fe6002451b26a21c776a8f9882a5b1b48243
Author: Paul Rogers <progers@cloudera.com>
Date:   Wed Dec 12 19:50:08 2018 -0800

    DRILL-6901: Move schema builder to src/main
    
    Moves the SchemaBuilder class out of the src/test name space into the src/main namespace. Specifically, into the existing record.metadata package.
    
    Many files changed in this move. Corrected two minor issues: import of the wrong Arrays class and unnecessary annotations.

 .../java/org/apache/drill/exec/record/metadata}/ColumnBuilder.java   | 2 +-
 .../java/org/apache/drill/exec/record/metadata}/MapBuilder.java      | 4 +---
 .../org/apache/drill/exec/record/metadata}/RepeatedListBuilder.java  | 5 +----
 .../java/org/apache/drill/exec/record/metadata}/SchemaBuilder.java   | 3 +--
 .../java/org/apache/drill/exec/record/metadata}/SchemaContainer.java | 4 +---
 .../java/org/apache/drill/exec/record/metadata}/TupleBuilder.java    | 4 +---
 .../java/org/apache/drill/exec/record/metadata}/UnionBuilder.java    | 5 +----
 .../java/org/apache/drill/exec/record/metadata}/package-info.java    | 2 +-
 .../java-exec/src/test/java/org/apache/drill/TestFunctionsQuery.java | 2 +-
 exec/java-exec/src/test/java/org/apache/drill/TestStarQueries.java   | 2 +-
 exec/java-exec/src/test/java/org/apache/drill/TestUnionAll.java      | 2 +-
 exec/java-exec/src/test/java/org/apache/drill/TestUnionDistinct.java | 2 +-
 .../src/test/java/org/apache/drill/exec/TestEmptyInputSql.java       | 2 +-
 .../java/org/apache/drill/exec/cache/TestBatchSerialization.java     | 2 +-
 .../apache/drill/exec/physical/impl/BaseTestOpBatchEmitOutcome.java  | 2 +-
 .../org/apache/drill/exec/physical/impl/agg/TestHashAggBatch.java    | 2 +-
 .../apache/drill/exec/physical/impl/agg/TestHashAggEmitOutcome.java  | 2 +-
 .../drill/exec/physical/impl/agg/TestStreamingAggEmitOutcome.java    | 2 +-
 .../apache/drill/exec/physical/impl/join/TestHashJoinAdvanced.java   | 2 +-
 .../apache/drill/exec/physical/impl/join/TestHashJoinOutcome.java    | 2 +-
 .../drill/exec/physical/impl/join/TestLateralJoinCorrectness.java    | 2 +-
 .../impl/join/TestLateralJoinCorrectnessBatchProcessing.java         | 2 +-
 .../drill/exec/physical/impl/protocol/TestOperatorRecordBatch.java   | 2 +-
 .../exec/physical/impl/scan/project/TestConstantColumnLoader.java    | 2 +-
 .../drill/exec/physical/impl/scan/project/TestNullColumnLoader.java  | 2 +-
 .../drill/exec/physical/impl/scan/project/TestRowBatchMerger.java    | 2 +-
 .../exec/physical/impl/scan/project/TestSchemaLevelProjection.java   | 2 +-
 .../drill/exec/physical/impl/scan/project/TestSchemaSmoothing.java   | 2 +-
 .../exec/physical/impl/svremover/AbstractGenericCopierTest.java      | 2 +-
 .../drill/exec/physical/impl/svremover/TestSVRemoverIterOutcome.java | 2 +-
 .../drill/exec/physical/impl/unnest/TestUnnestCorrectness.java       | 2 +-
 .../exec/physical/impl/unnest/TestUnnestWithLateralCorrectness.java  | 2 +-
 .../apache/drill/exec/physical/impl/validate/TestBatchValidator.java | 2 +-
 .../org/apache/drill/exec/physical/impl/xsort/TestExternalSort.java  | 2 +-
 .../drill/exec/physical/impl/xsort/managed/SortTestUtilities.java    | 2 +-
 .../apache/drill/exec/physical/impl/xsort/managed/TestCopier.java    | 2 +-
 .../drill/exec/physical/impl/xsort/managed/TestShortArrays.java      | 2 +-
 .../apache/drill/exec/physical/impl/xsort/managed/TestSortImpl.java  | 2 +-
 .../apache/drill/exec/physical/impl/xsort/managed/TestSorter.java    | 2 +-
 .../exec/physical/rowSet/impl/TestResultSetLoaderEmptyProject.java   | 2 +-
 .../drill/exec/physical/rowSet/impl/TestResultSetLoaderLimits.java   | 2 +-
 .../drill/exec/physical/rowSet/impl/TestResultSetLoaderMapArray.java | 2 +-
 .../drill/exec/physical/rowSet/impl/TestResultSetLoaderMaps.java     | 2 +-
 .../exec/physical/rowSet/impl/TestResultSetLoaderOmittedValues.java  | 2 +-
 .../drill/exec/physical/rowSet/impl/TestResultSetLoaderOverflow.java | 2 +-
 .../exec/physical/rowSet/impl/TestResultSetLoaderProjection.java     | 2 +-
 .../drill/exec/physical/rowSet/impl/TestResultSetLoaderProtocol.java | 2 +-
 .../exec/physical/rowSet/impl/TestResultSetLoaderRepeatedList.java   | 2 +-
 .../drill/exec/physical/rowSet/impl/TestResultSetLoaderTorture.java  | 2 +-
 .../drill/exec/physical/rowSet/impl/TestResultSetLoaderUnions.java   | 2 +-
 .../drill/exec/physical/rowSet/impl/TestResultSetSchemaChange.java   | 2 +-
 .../test/java/org/apache/drill/exec/physical/unit/TestMiniPlan.java  | 2 +-
 .../org/apache/drill/exec/physical/unit/TestNullInputMiniPlan.java   | 2 +-
 .../test/java/org/apache/drill/exec/record/TestRecordBatchSizer.java | 2 +-
 .../src/test/java/org/apache/drill/exec/record/TestTupleSchema.java  | 4 ++--
 .../test/java/org/apache/drill/exec/record/TestVectorContainer.java  | 2 +-
 .../src/test/java/org/apache/drill/exec/record/vector/TestLoad.java  | 2 +-
 .../java/org/apache/drill/exec/store/TestImplicitFileColumns.java    | 2 +-
 .../org/apache/drill/exec/store/easy/text/compliant/TestCsv.java     | 2 +-
 .../src/test/java/org/apache/drill/exec/store/log/TestLogReader.java | 2 +-
 .../apache/drill/exec/store/parquet/TestParquetMetadataCache.java    | 2 +-
 .../exec/store/parquet/columnreaders/TestBatchSizingMemoryUtil.java  | 2 +-
 .../test/java/org/apache/drill/exec/work/filter/BloomFilterTest.java | 2 +-
 exec/java-exec/src/test/java/org/apache/drill/test/ExampleTest.java  | 2 +-
 .../src/test/java/org/apache/drill/test/OperatorTestBuilderTest.java | 2 +-
 .../test/java/org/apache/drill/test/rowSet/TestRowSetComparison.java | 2 +-
 .../test/java/org/apache/drill/test/rowSet/test/DummyWriterTest.java | 2 +-
 .../test/java/org/apache/drill/test/rowSet/test/PerformanceTool.java | 3 +--
 .../src/test/java/org/apache/drill/test/rowSet/test/RowSetTest.java  | 2 +-
 .../test/java/org/apache/drill/test/rowSet/test/TestFillEmpties.java | 2 +-
 .../java/org/apache/drill/test/rowSet/test/TestFixedWidthWriter.java | 2 +-
 .../org/apache/drill/test/rowSet/test/TestHyperVectorReaders.java    | 2 +-
 .../java/org/apache/drill/test/rowSet/test/TestIndirectReaders.java  | 2 +-
 .../java/org/apache/drill/test/rowSet/test/TestMapAccessors.java     | 2 +-
 .../org/apache/drill/test/rowSet/test/TestOffsetVectorWriter.java    | 2 +-
 .../org/apache/drill/test/rowSet/test/TestRepeatedListAccessors.java | 2 +-
 .../java/org/apache/drill/test/rowSet/test/TestScalarAccessors.java  | 2 +-
 .../java/org/apache/drill/test/rowSet/test/TestSchemaBuilder.java    | 2 +-
 .../org/apache/drill/test/rowSet/test/TestVariableWidthWriter.java   | 2 +-
 .../java/org/apache/drill/test/rowSet/test/TestVariantAccessors.java | 2 +-
 .../src/test/java/org/apache/drill/vector/TestFillEmpties.java       | 2 +-
 .../src/test/java/org/apache/drill/vector/TestToNullable.java        | 2 +-
 82 files changed, 83 insertions(+), 97 deletions(-)

commit bb6d2b7ba7104e949ab6fb150e0e632e32de9bd5
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Dec 24 20:09:16 2018 +0200

    [maven-release-plugin] prepare for next development iteration

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/format-maprdb/pom.xml                | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 2 +-
 contrib/storage-kafka/pom.xml                | 2 +-
 contrib/storage-kudu/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 contrib/storage-opentsdb/pom.xml             | 2 +-
 contrib/udfs/pom.xml                         | 2 +-
 distribution/pom.xml                         | 2 +-
 drill-yarn/pom.xml                           | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/memory/base/pom.xml                     | 2 +-
 exec/memory/pom.xml                          | 2 +-
 exec/pom.xml                                 | 2 +-
 exec/rpc/pom.xml                             | 2 +-
 exec/vector/pom.xml                          | 2 +-
 logical/pom.xml                              | 2 +-
 pom.xml                                      | 4 ++--
 protocol/pom.xml                             | 2 +-
 tools/fmpp/pom.xml                           | 2 +-
 tools/pom.xml                                | 2 +-
 30 files changed, 31 insertions(+), 31 deletions(-)

commit 8743e8f1e8d5bca4d67c94d07a8560ad356ff2b6
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Dec 24 20:09:05 2018 +0200

    [maven-release-plugin] prepare release drill-1.15.0

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/format-maprdb/pom.xml                | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 2 +-
 contrib/storage-kafka/pom.xml                | 2 +-
 contrib/storage-kudu/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 contrib/storage-opentsdb/pom.xml             | 2 +-
 contrib/udfs/pom.xml                         | 2 +-
 distribution/pom.xml                         | 2 +-
 drill-yarn/pom.xml                           | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/memory/base/pom.xml                     | 2 +-
 exec/memory/pom.xml                          | 2 +-
 exec/pom.xml                                 | 2 +-
 exec/rpc/pom.xml                             | 2 +-
 exec/vector/pom.xml                          | 2 +-
 logical/pom.xml                              | 2 +-
 pom.xml                                      | 4 ++--
 protocol/pom.xml                             | 2 +-
 tools/fmpp/pom.xml                           | 2 +-
 tools/pom.xml                                | 2 +-
 30 files changed, 31 insertions(+), 31 deletions(-)

commit 3e2d6192fc346fe63342021e5d19c7921d6c59dd
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Dec 21 14:37:45 2018 +0200

    DRILL-6920: Fix TestClient.testBasics() yarn test failure
    
    closes #1582

 .../test/java/org/apache/drill/yarn/client/TestClient.java   | 12 ++----------
 1 file changed, 2 insertions(+), 10 deletions(-)

commit 44f17eaf1b9489fc16fadee0178e975f6aff5185
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Sun Dec 23 17:10:39 2018 +0200

    DRILL-6922: Do not set return result set option on query level if it is the same as current value
    
    1. Rename return result option name to `exec.query.return_result_set_for_ddl`.
    2. Add check if option value is the same as current value in DrillSqlWorker before setting result set option on query level.
    3. Separate Session and Query options on Web UI.
    
    closes #1584

 .../java/org/apache/drill/exec/ExecConstants.java  |  9 ++--
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 12 +++--
 .../drill/exec/server/options/OptionValue.java     |  7 ++-
 .../exec/server/rest/profile/ProfileWrapper.java   | 33 ++++++++++---
 .../java-exec/src/main/resources/drill-module.conf |  2 +-
 .../src/main/resources/rest/profile/profile.ftl    | 57 +++++++++++++---------
 6 files changed, 78 insertions(+), 42 deletions(-)

commit 4a771d0af83beccbb0a7fc9f03b22966c1292724
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Sun Dec 23 22:51:15 2018 +0200

    DRILL-6925: Unable to generate Protobuf
    
    - use ${maven.multiModuleProjectDirectory}/header to find header file from any submodule
    - suppress UnresolvedMavenProperty, since IDE expects that property should be set explicitly
    - update "kr.motd.maven:os-maven-plugin" github.com/trustin/os-maven-plugin to the latest 1.6.1 version
    - correction of ${user.name} propery for "maven-jar-plugin" <Built-By>
    - update "apache-rat-plugin" to solve undefined "excludeSubprojects" in IDE
    - regenerate Java and C++ protobuf files
    
    closes #1585

 .mvn/extensions.xml                                |  2 +-
 contrib/native/client/src/protobuf/BitData.pb.cc   | 56 +++++++++++++++++++---
 contrib/native/client/src/protobuf/BitData.pb.h    | 34 ++++++++++++-
 .../org/apache/drill/exec/ssl/SSLConfigClient.java |  4 +-
 .../org/apache/drill/exec/ssl/SSLConfigServer.java |  4 +-
 pom.xml                                            | 10 ++--
 .../org/apache/drill/exec/proto/UserBitShared.java | 40 ++++++++++++++++
 7 files changed, 133 insertions(+), 17 deletions(-)

commit af3977a8e6ea2c66a585312bf64463a3d3bd9a6c
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Dec 20 23:39:39 2018 +0200

    DRILL-6919: Fix compilation error in TestGracefulShutdown class for mapr profile

 .../drill/store/openTSDB/TestOpenTSDBPlugin.java   | 33 ++--------------------
 .../java/org/apache/drill/test/QueryTestUtil.java  | 29 +++++++++++++++++++
 .../apache/drill/test/TestGracefulShutdown.java    |  5 ++--
 3 files changed, 33 insertions(+), 34 deletions(-)

commit 6a9465ab8238ced53f4b899b54e4ea22e3e86f11
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Dec 20 14:22:21 2018 +0200

    DRILL-6915: Disable generation of test tables with case-sensitive names for non-Linux systems
    
    closes #1580

 contrib/storage-jdbc/pom.xml                       | 36 ++++++++++++++++++++--
 .../exec/store/jdbc/TestJdbcPluginWithMySQLIT.java |  6 ++++
 .../test/resources/bootstrap-storage-plugins.json  |  4 +--
 .../src/test/resources/mysql-test-data-linux.sql   | 10 ++++++
 .../src/test/resources/mysql-test-data.sql         |  7 -----
 5 files changed, 51 insertions(+), 12 deletions(-)

commit 5af61ce48594fbbe6ad8ab9c7c54212a05ba623a
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Thu Dec 20 12:21:18 2018 +0200

    DRILL-6916: Fix extraneous "${project.basedir}/src/site/resources/repo/" directory appearance
    
    - update HBase lib from 2.1.0 to 2.1.1 version (with fix for HBASE-21005)
    
    closes #1579

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9dec5144f669b1fb97208a0b9c848af14b7cbccf
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Wed Dec 19 13:45:02 2018 +0200

    DRILL-6912: NPE when other drillbit is already running
    
    closes #1577

 .../org/apache/drill/exec/server/Drillbit.java     |  9 ++++-
 .../apache/drill/test/TestGracefulShutdown.java    | 43 ++++++++++++++++++++++
 2 files changed, 50 insertions(+), 2 deletions(-)

commit 1df935f8f4ed0635ceb38f42fc5b5387c49bdf73
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Dec 19 15:01:59 2018 +0200

    DRILL-6913: Fix multiple error output in the console
    
    1. Bump up Calcite version to 1.17.0-drill-r2 (includes CALCITE-2463).
    2. Optimized exception handling in DrillSqlWorker getPlan method.
    
    closes #1578

 .../drill/exec/planner/sql/DrillSqlWorker.java     | 107 ++++++++++++---------
 pom.xml                                            |   2 +-
 2 files changed, 61 insertions(+), 48 deletions(-)

commit b23ae6e02495f51a4dcd6fbbf1eb259b6207430b
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Thu Dec 13 16:17:55 2018 +0200

    DRILL-6900: maven-release-plugin failure on the release:perform stage
    
    - downgrade maven-javadoc-plugin version
    - update some Drill maven plugins versions and move them to pluginManagement block
    - bump up lowest maven version supported by Drill in correspondence to org.apache.maven dependencies
    
    closes #1574

 contrib/storage-jdbc/pom.xml |  1 -
 contrib/storage-kudu/pom.xml |  1 -
 docs/dev/Docker.md           |  2 +-
 docs/dev/Environment.md      |  4 ++--
 pom.xml                      | 37 +++++++++++++++++++++++++++----------
 protocol/pom.xml             |  1 -
 tools/fmpp/pom.xml           |  4 ++--
 7 files changed, 32 insertions(+), 18 deletions(-)

commit e9c7f51e8a6b4c4be95fc3aef05b89596414e98d
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Tue Dec 11 14:30:47 2018 +0200

    DRILL-6895: Warnings for license headers checks and wrong license headers in some files
    
    - update license-maven-plugin plugin custom mappings
    - update files licenses headers
    - update from "/usr/bin/env bash" to "/bin/bash" shebang line in shell script files

 distribution/src/deb/control/conffiles             | 17 ++++++++------
 distribution/src/resources/auto-setup.sh           |  2 +-
 distribution/src/resources/distrib-setup.sh        |  2 +-
 distribution/src/resources/drill-conf              | 16 +++++++------
 distribution/src/resources/drill-config.sh         |  2 +-
 distribution/src/resources/drill-embedded          | 16 +++++++------
 distribution/src/resources/drill-localhost         | 16 +++++++------
 distribution/src/resources/drill-setup.sh          |  2 +-
 distribution/src/resources/drillbit                | 16 +++++++------
 distribution/src/resources/drillbit.sh             |  2 +-
 distribution/src/resources/dumpcat                 | 18 ++++++++-------
 distribution/src/resources/runbit                  | 16 +++++++------
 distribution/src/resources/sqlline                 | 16 +++++++------
 distribution/src/resources/submit_plan             | 16 +++++++------
 .../org/apache/drill/yarn/scripts/ScriptUtils.java |  4 ++--
 .../org/apache/drill/yarn/scripts/TestScripts.java |  4 ++--
 exec/java-exec/src/main/sh/drillbit.sh             |  2 +-
 exec/java-exec/src/main/sh/runbit                  | 18 ++++++++-------
 exec/java-exec/src/test/sh/runbit                  | 18 ++++++++-------
 exec/java-exec/src/test/sh/runexec                 | 18 ++++++++-------
 pom.xml                                            | 27 +++++++++++++++++++++-
 tools/verify_release.sh                            |  2 +-
 22 files changed, 150 insertions(+), 100 deletions(-)

commit b954c57c3c1088c4ae4765c2ea2f165d70c2c31d
Author: Gautam Parai <gparai@maprtech.com>
Date:   Mon Dec 3 18:03:23 2018 -0800

    DRILL-6878: Use DrillPushRowKeyJoinToScan rule on DrillJoin pattern to account for DrillSemiJoin
    
    closes #1568

 .../drill/maprdb/tests/index/IndexPlanTest.java    | 54 +++++++--------
 .../drill/exec/planner/logical/DrillJoin.java      |  3 +
 .../drill/exec/planner/logical/DrillJoinRel.java   |  5 ++
 .../logical/DrillPushRowKeyJoinToScanRule.java     | 16 ++---
 .../exec/planner/logical/DrillSemiJoinRel.java     |  5 ++
 .../planner/logical/RowKeyJoinCallContext.java     |  6 +-
 .../drill/exec/planner/logical/RowKeyJoinRel.java  | 77 +++++++++++++++++++++-
 .../drill/exec/planner/physical/HashJoinPrule.java |  4 +-
 .../drill/exec/planner/physical/JoinPruleBase.java | 25 +++----
 .../drill/exec/planner/physical/MergeJoinPrel.java |  5 ++
 .../exec/planner/physical/MergeJoinPrule.java      |  4 +-
 .../exec/planner/physical/NestedLoopJoinPrel.java  |  5 ++
 .../exec/planner/physical/NestedLoopJoinPrule.java |  2 +-
 .../exec/planner/physical/RowKeyJoinPrel.java      |  9 ++-
 14 files changed, 162 insertions(+), 58 deletions(-)

commit e67ac2d1f7111a8e3932e2ff69a531b64882e162
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Fri Dec 7 19:44:47 2018 +0200

    DRILL-6889: Exclude Drill unit tests to avoid Travis timing out
    
    closes #1567

 .../src/test/java/org/apache/drill/categories/UnlikelyTest.java  | 2 +-
 drill-yarn/pom.xml                                               | 9 +++++++++
 .../src/test/java/org/apache/drill/TestExampleQueries.java       | 2 +-
 .../src/test/java/org/apache/drill/TestStarQueries.java          | 3 +++
 exec/java-exec/src/test/java/org/apache/drill/TestUnionAll.java  | 2 ++
 .../src/test/java/org/apache/drill/exec/TestWindowFunctions.java | 3 +++
 .../drill/exec/physical/impl/join/TestMergeJoinAdvanced.java     | 5 +++++
 .../exec/physical/impl/mergereceiver/TestMergingReceiver.java    | 3 ++-
 .../apache/drill/exec/physical/impl/window/TestWindowFrame.java  | 1 +
 .../drill/exec/store/parquet/TestParquetMetadataCache.java       | 3 +++
 exec/jdbc-all/pom.xml                                            | 6 ++++++
 exec/jdbc/pom.xml                                                | 6 ++++++
 12 files changed, 42 insertions(+), 3 deletions(-)

commit 788eb7effe72d838427d42fabbf167fa424bf88c
Author: Venkata Jyothsna Donapati <jyothsna.dvj@gmail.com>
Date:   Mon Dec 3 10:19:06 2018 -0800

    DRILL-6877: NPE when starting Drillbit
    
    closes #1560

 distribution/src/resources/drillbit.sh             |  2 +-
 .../org/apache/drill/exec/server/Drillbit.java     | 28 +++++++++++++++++-----
 2 files changed, 23 insertions(+), 7 deletions(-)

commit 75b9a788df6d6ea5e73cfedff9e2b47acc27b684
Author: Paul Rogers <progers@cloudera.com>
Date:   Thu Oct 11 22:47:49 2018 -0700

    DRILL-6791: Scan projection framework
    
    The "schema projection" mechanism:
    
    * Handles none (SELECT COUNT\(*)), some (SELECT a, b, x) and all (SELECT *) projection.
    * Handles null columns (for projection a column "x" that does not exist in the base table.)
    * Handles constant columns as used for file metadata (AKA "implicit" columns).
    * Handle schema persistence: the need to reuse the same vectors across different scanners
    * Provides a framework for consuming externally-supplied metadata
    * Since we don't yet have a way to provide "real" metadata, obtains metadata hints from
      previous batches and from the projection list (a.b implies that "a" is a map, c[0]
      implies that "c" is an array, etc.)
    * Handles merging the set of data source columns and null columns to create the final output batch.
    * Running tests found a failure due to an uninialized "bits" vector. Added code to explicitly fill
      the bits vectors with zeros in the "result set loader."

 .gitignore                                         |   1 +
 .../impl/scan/project/ColumnProjection.java        |  77 +++
 .../impl/scan/project/ConstantColumnLoader.java    | 111 ++++
 .../scan/project/ExplicitSchemaProjection.java     | 251 ++++++++
 .../impl/scan/project/MetadataManager.java         |  73 +++
 .../impl/scan/project/NoOpMetadataManager.java     |  58 ++
 .../impl/scan/project/NullColumnBuilder.java       | 115 ++++
 .../impl/scan/project/NullColumnLoader.java        | 170 +++++
 .../physical/impl/scan/project/ResolvedColumn.java |  63 ++
 .../impl/scan/project/ResolvedMapColumn.java       |  88 +++
 .../impl/scan/project/ResolvedNullColumn.java      |  65 ++
 .../impl/scan/project/ResolvedTableColumn.java     |  66 ++
 .../physical/impl/scan/project/ResolvedTuple.java  | 433 +++++++++++++
 .../impl/scan/project/ScanLevelProjection.java     | 371 +++++++++++
 .../impl/scan/project/ScanSchemaOrchestrator.java  | 570 +++++++++++++++++
 .../impl/scan/project/SchemaLevelProjection.java   | 102 +++
 .../physical/impl/scan/project/SchemaSmoother.java | 122 ++++
 .../impl/scan/project/SmoothingProjection.java     | 151 +++++
 .../impl/scan/project/StaticColumnLoader.java      |  58 ++
 .../impl/scan/project/UnresolvedColumn.java        |  69 ++
 .../physical/impl/scan/project/VectorSource.java   |  32 +
 .../scan/project/WildcardSchemaProjection.java     |  64 ++
 .../physical/impl/scan/project/package-info.java   | 106 ++++
 .../drill/exec/physical/rowSet/impl/ListState.java |  10 +-
 .../physical/rowSet/impl/NullableVectorState.java  |   8 +-
 .../physical/rowSet/impl/SingleVectorState.java    |  17 +
 .../rowSet/project/RequestedTupleImpl.java         |   7 +-
 .../exec/physical/impl/scan/ScanTestUtils.java     |  66 ++
 .../scan/project/TestConstantColumnLoader.java     | 114 ++++
 .../impl/scan/project/TestNullColumnLoader.java    | 325 ++++++++++
 .../impl/scan/project/TestRowBatchMerger.java      | 478 ++++++++++++++
 .../impl/scan/project/TestScanLevelProjection.java | 234 +++++++
 .../scan/project/TestSchemaLevelProjection.java    | 588 ++++++++++++++++++
 .../impl/scan/project/TestSchemaSmoothing.java     | 691 +++++++++++++++++++++
 34 files changed, 5742 insertions(+), 12 deletions(-)

commit 31ba50fe332df04f38d16906d0be2a69790a342f
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Sun Dec 9 22:40:19 2018 -0800

    DRILL-6886: Cancel Query Button for running queries
    
    The Freemarker template missed a check for a query's Running state to display the [Cancel] button.
    
    The fix is trivial and only needs the check.

 exec/java-exec/src/main/resources/rest/profile/profile.ftl | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e4782133563e365c858bcfb2b23845e4b0299dff
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Fri Dec 7 15:55:48 2018 +0200

    DRILL-6887: Fix FunctionInitializerTest.init() failure
    
    close apache/drill#1566

 exec/java-exec/src/test/resources/drill-udf/pom.xml | 3 +++
 1 file changed, 3 insertions(+)

commit 0543dbb356c669132c8ac75a99b318661bdcf664
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Thu Dec 6 15:03:25 2018 +0200

    DRILL-6874: Close input stream after AsyncPageReaderTask is completed
    
    close apache/drill#1565

 .../drill/exec/store/parquet/columnreaders/AsyncPageReader.java    | 7 +++++++
 1 file changed, 7 insertions(+)

commit f6d54b480a123724f4cca7d146b0a5c3fb077652
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Wed Dec 5 23:34:26 2018 -0800

    DRILL-6883: Force reload of options after resetting parameter
    
    If an update is initiated, the webpage loaded changes. Attempting a reset tries to reload this page, but it does not show the updated values from the back end.
    This patch forces the reload of updated values by redirecting to /options page
    
    Use AJAX call for Update and Reset
    
    Eliminates the need for window.location=<redirectURL>
    
    is Number check
    
    Added comments to explain extraction
    
    close apache/drill#1563

 exec/java-exec/src/main/resources/rest/options.ftl | 38 +++++++++++++++++-----
 1 file changed, 30 insertions(+), 8 deletions(-)

commit 637354e91b4b597a0f1930a385b7f0bff0093a2a
Author: Vitalii Diravka <vitalii@apache.org>
Date:   Thu Nov 15 17:40:21 2018 -0800

    DRILL-6751: Upgrade Apache parent POM to version 21
    
    - Update apache.pom file version to 21 (with updating some maven plugins versions)
    - Include Drill's sources jars on assembly stage in <moduleSets> (not <dependencySets>)
      for properincluding jars with last apache-21.pom
    - Separate "distro-assembly" to the two execution stages to avoid:
      [WARNING] Assembly file: <DRILL_HOME>/distribution/target/apache-drill-1.15.0-SNAPSHOT is not a regular
      file (it may be a directory). It cannot be attached to the project build for installation or deployment.
    - Remove unsused <include>/<exclude> in assebly descriptor to avoid:
      [WARNING] The following patterns were never triggered in this artifact inclusion filter
    - Update "maven-assembly-plugin" version
    - Update "slf4j" version
    - Update "mockito-core" version
    - Update "bcpkix-jdk15on" (Bouncy Castle Cryptography APIs) version
    
    close apache/drill#1561

 distribution/pom.xml                               |  49 +++--
 distribution/src/assemble/bin-assembly-dir.xml     |  33 +++
 distribution/src/assemble/bin-assembly.xml         |  33 +++
 .../src/assemble/{bin.xml => component.xml}        | 227 ++++++++++-----------
 drill-shaded/pom.xml                               |   3 +-
 .../java-exec/src/test/resources/drill-udf/pom.xml |   3 -
 pom.xml                                            |  23 +--
 7 files changed, 218 insertions(+), 153 deletions(-)

commit 7d3763728fd82b3a033936b14ff35545e93d1c5c
Author: Laurent Goujon <laurent@dremio.com>
Date:   Mon Mar 28 13:31:53 2016 -0700

    DRILL-4546: Only generate one zip archive when using apache-release profile
    
    Drill root pom doesn't override completely Apache parent pom configuration
    regarding assemblies, which caused a zip archive of the project to be generated
    twice, and deployed to a remote server twice too.
    
    The fix uses the plugin properties to override the configuration. Also remove
    Drill source assembly descriptor as the Apache parent project provides the same one.

 pom.xml                                           | 18 ++---
 src/main/resources/assemblies/source-assembly.xml | 99 -----------------------
 2 files changed, 5 insertions(+), 112 deletions(-)

commit abc51d80095cf5df2de64a3acbf75bdd88bd1db5
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Nov 16 15:43:27 2018 +0200

    DRILL-6876: Enable CircleCI builds for JDK 9-11
    
    close apache/drill#1558

 .circleci/config.yml | 135 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 133 insertions(+), 2 deletions(-)

commit f3eef38fd633be28f961139b371f524f5172914f
Author: Hanumath Rao Maduri <hmaduri@maprtech.com>
Date:   Sat Sep 30 13:26:40 2017 -0700

    DRILL-6882: Handle the cases where RowKeyJoin's left pipeline being called multiple times.
    
    close apache/drill#1562

 .../exec/physical/config/IteratorValidator.java    | 14 +++++++--
 .../exec/physical/impl/join/RowKeyJoinBatch.java   |  5 ++++
 .../validate/IteratorValidatorBatchIterator.java   | 20 +++++++++----
 .../impl/validate/IteratorValidatorCreator.java    |  2 +-
 .../impl/validate/IteratorValidatorInjector.java   | 33 +++++++++++++++++++---
 5 files changed, 62 insertions(+), 12 deletions(-)

commit 2dbd60984bef724e6ae1918fa4b31509ca7a986b
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Wed Dec 5 15:54:01 2018 +0200

    Add Vitalii's GPG key

 KEYS | 77 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 72 insertions(+), 5 deletions(-)

commit bf2b414ac62cfc515fdd77f2688bb110073d764d
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Nov 22 15:27:15 2018 +0000

    DRILL-6866: Upgrade to SqlLine 1.6.0
    
    1. Changed SqlLine version to 1.6.0.
    2. Overridden new getVersion method in DrillSqlLineApplication.
    3. Set maxColumnWidth to 80 to avoid issue described in DRILL-6769.
    4. Changed colorScheme to obsidian.
    5. Output null value for varchar / char / boolean types as null instead of empty string.
    6. Changed access modifier from package default to public for JDBC classes that implement external interfaces to avoid issues when calling methods from these classes using reflection.
    
    closes #1556

 .../apache/drill/exec/client/DrillSqlLineApplication.java | 11 ++++++++---
 exec/java-exec/src/main/resources/drill-sqlline.conf      |  6 +++++-
 .../drill/exec/client/DrillSqlLineApplicationTest.java    | 15 ++++++++++++---
 .../java/org/apache/drill/jdbc/DrillConnectionConfig.java |  2 +-
 .../apache/drill/jdbc/impl/AvaticaDrillSqlAccessor.java   |  3 +--
 .../org/apache/drill/jdbc/impl/DrillConnectionImpl.java   |  4 ++--
 .../main/java/org/apache/drill/jdbc/impl/DrillCursor.java |  2 +-
 .../apache/drill/jdbc/impl/DrillDatabaseMetaDataImpl.java |  4 +---
 .../java/org/apache/drill/jdbc/impl/DrillFactory.java     |  3 +--
 .../java/org/apache/drill/jdbc/impl/DrillHandler.java     |  6 ++----
 .../java/org/apache/drill/jdbc/impl/DrillMetaImpl.java    |  4 +---
 .../org/apache/drill/jdbc/impl/DrillResultSetImpl.java    | 10 +++++-----
 .../org/apache/drill/jdbc/impl/DrillStatementImpl.java    |  2 +-
 .../java/org/apache/drill/jdbc/impl/WrappedAccessor.java  |  2 +-
 pom.xml                                                   |  2 +-
 15 files changed, 43 insertions(+), 33 deletions(-)

commit fe3a00ab63f9871675f711b0c56b77088693d3a3
Author: ozinoviev <ozinoviev@solit-clouds.ru>
Date:   Fri Nov 23 12:34:36 2018 +0300

    DRILL-6867: WebUI Query editor cursor position
    
    closes #1551

 exec/java-exec/src/main/resources/rest/query/query.ftl | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6e3f0f7df69228bd1a3e95b83cfd8399b4722d51
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Wed Nov 28 16:51:18 2018 +0200

    DRILL-6863: Drop table is not working if path within workspace starts with "/"
    
    - Made workspace to be honored when table/view name starts with "/" for DROP TABLE, DROP VIEW, CREATE VIEW and SELECT from view queries;
    - Made "/{name}" and "{name}" to be equivalent names (the leading "/" is removed) when creating temporary tables so that SELECT ... FROM "/{name}" ... and SELECT ... FROM "{name}" ... produce the same results and behave as regular tables in the context.
    
    closes #1557

 .../drill/exec/planner/sql/SqlConverter.java       |  4 +-
 .../planner/sql/handlers/CreateTableHandler.java   |  3 +-
 .../planner/sql/handlers/DropTableHandler.java     |  3 +-
 .../exec/planner/sql/handlers/ViewHandler.java     |  7 +--
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  3 +-
 .../test/java/org/apache/drill/TestDropTable.java  | 47 +++++++++++------
 .../java/org/apache/drill/exec/sql/TestCTAS.java   | 32 ++++++++++++
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  | 61 ++++++++++++++++++++++
 .../org/apache/drill/exec/sql/TestViewSupport.java | 49 +++++++++++++++++
 9 files changed, 185 insertions(+), 24 deletions(-)

commit 9667e92e1e87ce1826f0eac3f2396187dbfa8aaa
Author: weijie.tong <weijie.tong@alipay.com>
Date:   Sun Oct 14 19:41:51 2018 +0800

    DRILL-6792: Find the right probe side fragment wrapper & fix DrillBuf reference count bugs & tune the execution flow & support left deep tree
    
    closes #1504

 .../java/org/apache/drill/exec/ExecConstants.java  |   4 +
 .../org/apache/drill/exec/ops/FragmentContext.java |  20 +-
 .../apache/drill/exec/ops/FragmentContextImpl.java |  82 ++++-
 .../drill/exec/ops/OperatorMetricRegistry.java     |   2 +
 .../exec/physical/config/RuntimeFilterPOP.java     |  16 +-
 .../impl/filter/RuntimeFilterRecordBatch.java      |  82 +++--
 .../exec/physical/impl/join/HashJoinBatch.java     |  43 ++-
 .../exec/planner/physical/RuntimeFilterPrel.java   |  14 +-
 .../physical/visitor/RuntimeFilterVisitor.java     |  80 ++++-
 .../exec/server/options/SystemOptionManager.java   |   2 +
 .../org/apache/drill/exec/work/WorkManager.java    |  10 +-
 .../apache/drill/exec/work/filter/BloomFilter.java |  62 ++--
 .../drill/exec/work/filter/BloomFilterDef.java     |  12 +-
 .../drill/exec/work/filter/RuntimeFilterDef.java   |  21 +-
 .../exec/work/filter/RuntimeFilterReporter.java    |   5 +-
 .../exec/work/filter/RuntimeFilterRouter.java      | 280 ++++++++---------
 .../drill/exec/work/filter/RuntimeFilterSink.java  | 340 ++++++++++++---------
 .../exec/work/filter/RuntimeFilterWritable.java    |  21 ++
 .../apache/drill/exec/work/foreman/Foreman.java    |   2 +-
 .../java-exec/src/main/resources/drill-module.conf |   2 +
 .../exec/physical/impl/join/TestHashJoinJPPD.java  |  10 +-
 .../physical/impl/join/TestHashJoinJPPDPlan.java   |  52 ----
 .../drill/exec/work/filter/BloomFilterTest.java    |  19 +-
 .../org/apache/drill/test/OperatorFixture.java     |  27 +-
 .../apache/drill/test/PhysicalOpUnitTestBase.java  |  15 +-
 .../java/org/apache/drill/exec/proto/BitData.java  | 128 +++++++-
 .../org/apache/drill/exec/proto/SchemaBitData.java |   7 +
 .../drill/exec/proto/beans/RuntimeFilterBDef.java  |  22 ++
 protocol/src/main/protobuf/BitData.proto           |   1 +
 29 files changed, 876 insertions(+), 505 deletions(-)

commit 325fa26b5df1bc29594677a0f3e1360fbb4f8bca
Author: dvjyothsna <root@qa102-33.qa.lab>
Date:   Fri Nov 9 13:56:39 2018 -0800

    DRILL-6039: Fixed drillbit.sh script to do graceful shutdown
    
    closes #1536

 distribution/src/resources/drill-config.sh         |  1 +
 distribution/src/resources/drillbit.sh             | 22 +++++++-
 .../org/apache/drill/exec/server/Drillbit.java     | 65 ++++++++++++++++++++++
 3 files changed, 87 insertions(+), 1 deletion(-)

commit 596227bbbecfb19bdb55dd8ea58159890f83bc9c
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Mon Nov 26 19:06:52 2018 -0800

    DRILL-6864: Upgrade the git-commit-id plugin to 2.2.5

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cd4d68b4c23e7c4cff9769d02bb462cc0707a4ac
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Wed Nov 21 03:56:49 2018 +0200

    DRILL-6834: Introduce option to disable result set for DDL queries for JDBC connection
    
    - Added session-scoped option `drill.exec.fetch_resultset_for_ddl` to control whether update count or result set should be returned for JDBC connection session. By default the option is set to `true` which ensures that result set is returned;
    - Updated Drill JDBC: `DrillCursor` and `DrillStatement` to achieve desired behaviour.
    
    closes #1549

 .../native/client/src/protobuf/UserBitShared.pb.cc | 310 ++++++++++------
 .../native/client/src/protobuf/UserBitShared.pb.h  |  68 +++-
 .../java/org/apache/drill/exec/ExecConstants.java  |   7 +-
 .../impl/materialize/VectorRecordMaterializer.java |  27 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  25 +-
 .../exec/planner/sql/parser/SqlCreateFunction.java |   2 +-
 .../exec/planner/sql/parser/SqlCreateTable.java    |   2 +-
 .../exec/planner/sql/parser/SqlCreateView.java     |   2 +-
 .../exec/planner/sql/parser/SqlDropFunction.java   |   2 +-
 .../exec/planner/sql/parser/SqlDropTable.java      |   2 +-
 .../drill/exec/planner/sql/parser/SqlDropView.java |   2 +-
 .../planner/sql/parser/SqlRefreshMetadata.java     |   2 +-
 .../exec/planner/sql/parser/SqlUseSchema.java      |   3 +-
 .../drill/exec/server/options/OptionList.java      |   8 +
 .../exec/server/options/QueryOptionManager.java    |  14 +-
 .../exec/server/options/SystemOptionManager.java   |   3 +-
 .../exec/store/sys/ExtendedOptionIterator.java     |  17 +-
 .../java-exec/src/main/resources/drill-module.conf |   2 +-
 .../java/org/apache/drill/jdbc/DrillStatement.java |   5 +
 .../org/apache/drill/jdbc/impl/DrillCursor.java    |  14 +-
 .../apache/drill/jdbc/impl/DrillStatementImpl.java |  11 +
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 108 ++++++
 .../drill/exec/proto/SchemaUserBitShared.java      |  14 +
 .../org/apache/drill/exec/proto/UserBitShared.java | 390 +++++++++++++++------
 .../apache/drill/exec/proto/beans/QueryData.java   |  22 ++
 .../drill/exec/proto/beans/RecordBatchDef.java     |  22 ++
 protocol/src/main/protobuf/UserBitShared.proto     |   4 +
 27 files changed, 812 insertions(+), 276 deletions(-)

commit 99a3d76551d1a08958c7cd7670df189963fbc943
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Nov 23 11:34:13 2018 +0200

    DRILL-6865: Filter is not removed from the plan when parquet table fully matches the filter
    
    closes #1552

 .../store/parquet/AbstractParquetGroupScan.java    | 44 ++++++++++++-----
 .../exec/store/parquet/ParquetPushDownFilter.java  | 57 +++++++++++++---------
 .../drill/exec/store/parquet/RowGroupInfo.java     |  6 ---
 .../store/parquet/TestParquetFilterPushDown.java   |  9 ++++
 4 files changed, 74 insertions(+), 42 deletions(-)

commit d1a082cd11c79497449fda06189cd00d3510b2e9
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Nov 21 14:08:17 2018 +0200

    DRILL-6865: Query returns wrong result when filter pruning happens

 .../store/parquet/AbstractParquetGroupScan.java    | 76 +++++++++++++++-------
 .../exec/store/parquet/ParquetFilterBuilder.java   | 21 ++++--
 .../exec/store/parquet/ParquetPushDownFilter.java  | 41 ++++++++++--
 .../store/parquet/ParquetRGFilterEvaluator.java    |  4 +-
 .../store/parquet/TestParquetFilterPushDown.java   |  5 ++
 5 files changed, 112 insertions(+), 35 deletions(-)

commit 44b990be5c15e1c480725cfb78fcabb40216ebf0
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Nov 20 14:27:55 2018 +0200

    DRILL-6870: Upgrade to ANTLR4
    
    closes #1554

 common/pom.xml                                     |   6 --
 .../exec/planner/index/MapRDBIndexDiscover.java    |  32 ++-----
 .../test/java/org/apache/drill/exec/ExecTest.java  |  27 +-----
 .../drill/exec/compile/TestEvaluationVisitor.java  |  50 +++-------
 .../unnest/TestUnnestWithLateralCorrectness.java   |   8 +-
 ...alTestutils.java => DrillLogicalTestUtils.java} |  28 ++----
 .../apache/drill/test/PhysicalOpUnitTestBase.java  |  14 +--
 .../java/org/apache/drill/test/TestBuilder.java    |  46 +++------
 logical/pom.xml                                    |  12 +--
 .../drill/common/expression/parser/ExprLexer.g4}   |  46 +++------
 .../drill/common/expression/parser/ExprParser.g4}  |  81 +++++++++-------
 .../drill/common/expression/LogicalExpression.java |  23 +----
 .../drill/common/expression/PathSegment.java       |   8 +-
 .../apache/drill/common/expression/SchemaPath.java |  30 ++----
 .../apache/drill/common/parser/ErrorListener.java  |  38 ++++++++
 .../common/parser/LogicalExpressionParser.java     |  55 +++++++++++
 .../drill/common/expression/parser/TreeTest.java   | 106 +++++++++++----------
 pom.xml                                            |  11 ++-
 18 files changed, 291 insertions(+), 330 deletions(-)

commit 67adde12853f14aab8d0e2ffc162a2daaf53d954
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Oct 19 18:04:12 2018 +0300

    DRILL-6868: Upgrade Janino compiler to 3.0.11
    
    - Remove workaround where removing adjacent ALOAD-POP instruction pairs
    - Remove ModifiedUnparser and use DeepCopier for modifying methods instead of modifying it with custom Unparser implementation
    
    closes #1553

 .../exec/compile/bytecode/AloadPopRemover.java     | 333 ---------------------
 .../bytecode/ValueHolderReplacementVisitor.java    |  10 +-
 .../drill/exec/expr/fn/MethodGrabbingVisitor.java  |  57 +++-
 .../drill/exec/expr/fn/ModifiedUnparser.java       | 110 -------
 pom.xml                                            |   2 +-
 5 files changed, 58 insertions(+), 454 deletions(-)

commit d0ba8ec152976d6e7268dabfbbe0473cb909febe
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Nov 20 17:06:07 2018 +0200

    DRILL-6858: Add functionality to list directories / files with exceptions suppression
    
    1. Add listDirectoriesSafe, listFilesSafe, listAllSafe in FileSystemUtil and DrillFileSystemUtil classes.
    2. Use FileSystemUtil.listAllSafe during listing files in show files command and information_schema.files table.
    
    closes #1547

 .../planner/sql/handlers/ShowFilesHandler.java     |   5 +-
 .../store/ischema/InfoSchemaRecordGenerator.java   |   5 +-
 .../drill/exec/util/DrillFileSystemUtil.java       |  57 +++++++-
 .../org/apache/drill/exec/util/FileSystemUtil.java | 159 ++++++++++++++++-----
 .../impersonation/TestImpersonationMetadata.java   |  13 +-
 .../drill/exec/util/DrillFileSystemUtilTest.java   |  70 +++++----
 .../apache/drill/exec/util/FileSystemUtilTest.java | 122 ++++++----------
 .../drill/exec/util/FileSystemUtilTestBase.java    |   7 +-
 8 files changed, 256 insertions(+), 182 deletions(-)

commit 8bd81920c05a46e567526f1f913ce70552204734
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Nov 20 20:08:38 2018 +0200

    DRILL-6857: Read only required row groups in a file when limit push down is applied
    
    closes #1548

 .../store/parquet/AbstractParquetGroupScan.java    | 91 +++++++++++-----------
 .../store/parquet/TestParquetLimitPushDown.java    | 75 ++++++++++++++++++
 2 files changed, 119 insertions(+), 47 deletions(-)

commit 13ba486f44315f2ed45b51c065284df62ad470be
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Nov 15 13:07:44 2018 +0200

    DRILL-6850: Allow configuring table names case sensitivity for JDBC storage plugin
    
    closes #1542

 contrib/pom.xml                                    |  4 +++
 contrib/storage-jdbc/pom.xml                       | 11 +++++++-
 .../drill/exec/store/jdbc/JdbcStorageConfig.java   | 16 +++++++++---
 .../drill/exec/store/jdbc/JdbcStoragePlugin.java   | 29 +++++++++++++++-------
 .../exec/store/jdbc/TestJdbcPluginWithDerbyIT.java | 20 ++++++++++++++-
 .../exec/store/jdbc/TestJdbcPluginWithMySQLIT.java | 15 +++++++++++
 .../test/resources/bootstrap-storage-plugins.json  | 11 ++++++--
 .../src/test/resources/mysql-test-data.sql         | 10 ++++++--
 .../sql/handlers/FindHardDistributionScans.java    |  3 +++
 9 files changed, 101 insertions(+), 18 deletions(-)

commit b67f77a18ac4b67044fa9b4b962d0536fdc54af5
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Tue Nov 13 15:21:39 2018 +0200

    DRILL-6850: Force setting DRILL_LOGICAL Convention for DrillRelFactories and DrillFilterRel
    
    - Fix workspace case insensitivity for JDBC storage plugin

 .../exec/store/hive/schema/HiveSchemaFactory.java   | 21 ++++++++++-----------
 .../drill/exec/store/jdbc/JdbcStoragePlugin.java    | 21 +++++++++++----------
 .../exec/store/jdbc/TestJdbcPluginWithDerbyIT.java  |  9 ++++-----
 .../drill/exec/planner/logical/DrillFilterRel.java  |  2 +-
 .../apache/drill/exec/planner/logical/DrillRel.java |  2 +-
 .../exec/planner/logical/DrillRelFactories.java     |  9 +++++----
 .../planner/sql/handlers/DescribeSchemaHandler.java |  6 +++---
 .../org/apache/drill/exec/store/SchemaFactory.java  |  2 ++
 .../drill/exec/store/dfs/FileSystemPlugin.java      |  2 --
 .../exec/store/dfs/FileSystemSchemaFactory.java     |  2 --
 .../drill/exec/util/StoragePluginTestUtils.java     |  4 ++--
 .../java/org/apache/drill/test/BaseTestQuery.java   |  4 ++--
 .../java/org/apache/drill/test/ClusterFixture.java  |  4 ++--
 .../apache/drill/jdbc/impl/DrillConnectionImpl.java |  4 ++--
 14 files changed, 45 insertions(+), 47 deletions(-)

commit 1c087237a5a23e9c97cf5318e34f0c8c58ec7af6
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Fri Nov 2 15:41:37 2018 +0200

    DRILL-6850: JDBC integration tests failures
    
    - Fix RDBMS integration tests (expected decimal output and testCrossSourceMultiFragmentJoin)
    - Update libraries versions
    - Resolve NPE for empty result

 contrib/storage-jdbc/pom.xml                       |  12 +-
 .../exec/store/jdbc/TestJdbcPluginWithDerbyIT.java | 112 ++++++++-------
 .../exec/store/jdbc/TestJdbcPluginWithMySQLIT.java | 152 +++++++++++----------
 .../sql/handlers/FindHardDistributionScans.java    |   7 +-
 4 files changed, 155 insertions(+), 128 deletions(-)

commit 6a990c7eb928b00311935e107427c8420258fd6c
Author: Charles S. Givre <cgivre@gmail.com>
Date:   Wed Nov 21 08:15:00 2018 -0500

    DRILL-6847: Add Query Metadata to RESTful Interface
    
    closes #1539

 .../drill/exec/server/rest/QueryWrapper.java       | 17 +++++++------
 .../drill/exec/server/rest/WebUserConnection.java  | 28 +++++++++++++++++++++-
 2 files changed, 37 insertions(+), 8 deletions(-)

commit 597827e2d3bfe69390242b7e5a5da242d64c181a
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon Nov 19 11:25:59 2018 -0800

    DRILL-6818: Add descriptions to secondary index options.
    
    closes #1545

 .../java/org/apache/drill/exec/ExecConstants.java  |  3 +-
 .../exec/planner/physical/PlannerSettings.java     | 39 ++++++++++++++--------
 2 files changed, 28 insertions(+), 14 deletions(-)

commit 9174dfa30b281983c6fab2bc55b79011e8e7968d
Author: Hanumath Rao Maduri <hanu.ncr@gmail.com>
Date:   Wed Oct 31 14:39:25 2018 -0700

    DRILL-6691: Unify checkstyle-config.xml files.
    
    closes #1550

 .../exec/planner/index/MapRDBIndexDescriptor.java  |  6 ++--
 .../exec/planner/index/MapRDBIndexDiscover.java    |  2 +-
 .../drill/exec/planner/index/MapRDBStatistics.java | 12 +++----
 .../drill/exec/store/mapr/TableFormatMatcher.java  |  2 +-
 .../drill/exec/store/mapr/TableFormatPlugin.java   |  2 --
 .../store/mapr/db/MapRDBPushFilterIntoScan.java    |  2 +-
 .../drill/exec/store/mapr/db/MapRDBSubScan.java    |  1 -
 .../drill/exec/store/mapr/db/MapRDBTableCache.java | 12 +++----
 .../store/mapr/db/RestrictedMapRDBSubScanSpec.java |  5 +--
 .../exec/store/mapr/db/TabletFragmentInfo.java     | 21 ++++++++----
 .../store/mapr/db/binary/MapRDBFilterBuilder.java  |  2 +-
 .../store/mapr/db/json/JsonConditionBuilder.java   |  1 -
 .../store/mapr/db/json/JsonTableGroupScan.java     |  2 --
 .../db/json/JsonTableRangePartitionFunction.java   |  6 ++--
 .../store/mapr/db/json/MaprDBJsonRecordReader.java |  2 --
 .../store/mapr/db/json/OjaiFunctionsProcessor.java |  3 +-
 .../exec/store/mapr/db/json/OjaiValueWriter.java   |  4 +--
 .../db/json/ProjectionPassthroughVectorWriter.java |  1 -
 .../src/main/resources/checkstyle-config.xml       | 40 ----------------------
 .../src/main/resources/checkstyle-suppressions.xml | 28 ---------------
 .../tests/binary/TestMapRDBCFAsJSONString.java     |  1 -
 .../tests/binary/TestMapRDBProjectPushDown.java    |  1 -
 .../maprdb/tests/binary/TestMapRDBQueries.java     |  1 -
 .../maprdb/tests/index/IndexHintPlanTest.java      |  1 -
 .../drill/maprdb/tests/index/IndexPlanTest.java    |  2 +-
 .../drill/maprdb/tests/index/LargeTableGen.java    |  2 +-
 .../drill/maprdb/tests/index/StatisticsTest.java   |  8 -----
 .../mapr/drill/maprdb/tests/json/BaseJsonTest.java |  1 -
 .../maprdb/tests/json/TestEncodedFieldPaths.java   |  2 +-
 .../drill/maprdb/tests/json/TestScanRanges.java    |  1 -
 30 files changed, 43 insertions(+), 131 deletions(-)

commit 5a8e6d782ace8fe8f3a772b2d05ea5380d7756d3
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Wed Nov 14 22:28:48 2018 -0800

    DRILL-6668: In Web UI, highlight options that are not default values
    
    This commit introduces a new button on the options page that allows a user to reset an option to its system default value.
    To simplify things, a tooltip is shown when the mouse hovers over the button. If the option value is already default, the button is disabled.
    
    Currently, the Update button redirects to /option/optionName . This change reuses what we already are using to set the default (using AJAX) and auto-refreshing
    Switch [Default] label to [Reset]
    Patch To Pass StatusResourcesTest
    
    closes #1543

 .../org/apache/drill/exec/server/rest/StatusResources.java    | 11 +++++++++--
 exec/java-exec/src/main/resources/rest/options.ftl            |  8 ++++++++
 2 files changed, 17 insertions(+), 2 deletions(-)

commit 639be6c1cdb2747e3d4a7d04ce5966d27d1f3102
Author: ozinoviev <ozinoviev@solit-clouds.ru>
Date:   Mon Aug 27 15:48:52 2018 +0300

    DRILL-6349: Drill JDBC driver fails on Java 1.9+ with NoClassDefFoundError: sun/misc/VM
    
    closes #1446

 .../apache/drill/common/config/DrillConfig.java    |  3 +-
 contrib/storage-jdbc/pom.xml                       |  3 +-
 distribution/src/resources/drill-config.sh         | 11 +++++
 distribution/src/resources/sqlline.bat             | 12 +++++
 exec/java-exec/pom.xml                             | 20 +++-----
 .../drill/exec/compile/CompilationConfig.java      |  2 +-
 .../compile/bytecode/ReplacingInterpreter.java     |  2 +
 .../org/apache/drill/exec/expr/ClassGenerator.java |  4 +-
 .../planner/FileSystemPartitionDescriptor.java     |  2 +-
 .../apache/drill/TestUtf8SupportInQueryString.java |  3 --
 .../drill/exec/fn/impl/TestCastFunctions.java      |  4 --
 .../drill/exec/fn/impl/TestDateFunctions.java      |  3 --
 .../exec/fn/impl/testing/TestDateConversions.java  |  3 --
 .../drill/exec/fn/interp/TestConstantFolding.java  |  3 --
 .../impersonation/TestImpersonationMetadata.java   |  4 +-
 .../drill/exec/store/avro/AvroFormatTest.java      |  4 --
 .../vector/complex/writer/TestExtendedTypes.java   |  3 --
 .../java-exec/src/test/resources/drill-udf/pom.xml |  4 +-
 exec/jdbc-all/pom.xml                              |  5 +-
 .../org/apache/drill/jdbc/ITTestShadedJar.java     | 14 ++----
 ...rill2489CallsAfterCloseThrowExceptionsTest.java | 56 +++++++++++++++++++++-
 .../drill/exec/memory/BoundsCheckingTest.java      |  1 +
 logical/pom.xml                                    |  1 -
 pom.xml                                            | 24 ++++++----
 24 files changed, 123 insertions(+), 68 deletions(-)

commit 6ecaed7e76228bfefdd5dc5c94aff01c16d1e249
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Mon Nov 19 18:55:45 2018 -0800

    DRILL-6861: Hash-Join should not exit after an empty probe-side spilled partition

 .../exec/physical/impl/join/HashJoinBatch.java     | 54 +++++++++++++---------
 .../exec/server/options/SystemOptionManager.java   |  2 +-
 2 files changed, 32 insertions(+), 24 deletions(-)

commit ead08bdc2f2982ab4f5fff14e94ee1bec29d27be
Author: Hanumath Rao Maduri <hanu.ncr@gmail.com>
Date:   Thu Oct 18 19:35:55 2018 -0700

    DRILL-6844: Query with ORDER BY DESC on indexed column does not pick secondary index.

 .../exec/planner/index/MapRDBIndexDiscover.java    |  6 +--
 .../drill/maprdb/tests/index/IndexPlanTest.java    | 60 +++++++++++++++++-----
 .../drill/exec/planner/index/IndexPlanUtils.java   |  3 +-
 3 files changed, 51 insertions(+), 18 deletions(-)

commit 9d62585dc7e42376e075c2a30cf12cc7f8db5b0e
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Thu Nov 15 14:40:48 2018 -0800

    DRILL-6853: Make the complex parquet reader batch max row size configurable

 .../src/main/java/org/apache/drill/exec/ExecConstants.java       | 9 +++++++--
 .../apache/drill/exec/server/options/SystemOptionManager.java    | 1 +
 .../org/apache/drill/exec/store/parquet2/DrillParquetReader.java | 6 +++++-
 exec/java-exec/src/main/resources/drill-module.conf              | 1 +
 4 files changed, 14 insertions(+), 3 deletions(-)

commit f6c63bf5dbc7bcd14b202249d013cd974a96a68a
Author: Gautam Parai <gparai@maprtech.com>
Date:   Wed Jan 3 11:06:41 2018 -0800

    DRILL-6833: Support for pushdown of rowkey based joins
    
    closes #1532

 .../mapr/db/json/RestrictedJsonRecordReader.java   |  20 +-
 .../drill/maprdb/tests/index/IndexPlanTest.java    | 273 ++++++++++-
 .../apache/drill/exec/planner/PlannerPhase.java    |  16 +
 .../drill/exec/planner/logical/DrillJoinRel.java   |  51 +-
 .../logical/DrillPushRowKeyJoinToScanRule.java     | 544 +++++++++++++++++++++
 .../planner/logical/RowKeyJoinCallContext.java     |  93 ++++
 .../drill/exec/planner/logical/RowKeyJoinRel.java  |  69 +++
 .../drill/exec/planner/physical/JoinPruleBase.java |  54 ++
 .../exec/planner/physical/PlannerSettings.java     |  13 +
 .../exec/planner/physical/RowKeyJoinPrule.java     |  62 +++
 .../planner/sql/handlers/DefaultSqlHandler.java    |  10 +-
 .../exec/server/options/SystemOptionManager.java   |   3 +
 .../java-exec/src/main/resources/drill-module.conf |   3 +
 13 files changed, 1176 insertions(+), 35 deletions(-)

commit af22b0271da071468dec6cf895d60a44a4988ecd
Author: Gautam Parai <gparai@maprtech.com>
Date:   Wed Oct 3 16:21:04 2018 -0700

    DRILL-6770: JsonTableGroupScan should use new MapRDB 6.1.0 APIs
    
    closes #1489

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 527f1fd2452fdb3fd30c0cc154222a099e352f93
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Oct 31 20:24:03 2018 +0200

    DRILL-6744: Support varchar and decimal push down
    
    1. Added enableStringsSignedMinMax parquet format plugin config and store.parquet.reader.strings_signed_min_max session option to control reading binary statistics for files generated by prior versions of Parquet 1.10.0.
    2. Added ParquetReaderConfig to store configuration needed during reading parquet statistics or files.
    3. Provided mechanism to enable varchar / decimal filter push down.
    4. Added VersionUtil to compare Drill versions in string representation.
    5. Added appropriate unit tests.
    
    closes #1537

 .../exec/store/mapr/db/MapRDBFormatPlugin.java     |   2 +-
 .../ConvertHiveParquetScanToDrillParquetScan.java  |  10 +-
 .../hive/HiveDrillNativeParquetRowGroupScan.java   |  17 +-
 .../store/hive/HiveDrillNativeParquetScan.java     |  19 +-
 .../exec/TestHiveDrillNativeParquetReader.java     |  41 ++
 .../exec/store/hive/HiveTestDataGenerator.java     |  10 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   8 +
 .../exec/expr/stat/ParquetComparisonPredicate.java |  59 +-
 .../drill/exec/expr/stat/RangeExprEvaluator.java   |  68 +-
 .../sql/handlers/RefreshMetadataHandler.java       |  14 +-
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  16 +-
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |  29 +-
 .../store/parquet/AbstractParquetGroupScan.java    |  22 +-
 .../store/parquet/AbstractParquetRowGroupScan.java |  17 +-
 .../parquet/AbstractParquetScanBatchCreator.java   |  32 +-
 .../exec/store/parquet/ParquetFilterBuilder.java   |  61 +-
 .../exec/store/parquet/ParquetFormatConfig.java    |  33 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |  26 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  30 +-
 .../exec/store/parquet/ParquetPushDownFilter.java  |  18 +-
 .../exec/store/parquet/ParquetReaderConfig.java    | 202 ++++++
 .../exec/store/parquet/ParquetReaderUtility.java   |  95 +--
 .../exec/store/parquet/ParquetRowGroupScan.java    |  14 +-
 .../exec/store/parquet/metadata/Metadata.java      |  66 +-
 .../parquet/stat/ParquetMetaStatCollector.java     | 244 +++++--
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 .../org/apache/drill/TestCTASPartitionFilter.java  |   2 +-
 .../drill/exec/store/FormatPluginSerDeTest.java    |   4 +-
 .../store/dfs/TestFormatPluginOptionExtractor.java |   2 +-
 .../store/parquet/TestParquetMetadataCache.java    |  70 +-
 .../store/parquet/TestParquetReaderConfig.java     | 125 ++++
 .../parquet/TestPushDownAndPruningForDecimal.java  | 720 +++++++++++++++++++++
 .../parquet/TestPushDownAndPruningForVarchar.java  | 361 +++++++++++
 .../java/org/apache/drill/test/ClusterFixture.java |  12 +-
 .../decimal_gen_1_13_0/.drill.parquet_metadata     | 146 +++++
 .../parquet/decimal_gen_1_13_0/0_0_1.parquet       | Bin 0 -> 1072 bytes
 .../parquet/decimal_gen_1_13_0/0_0_2.parquet       | Bin 0 -> 1072 bytes
 .../varchar_gen_1_13_0/.drill.parquet_metadata     |  70 ++
 .../parquet/varchar_gen_1_13_0/0_0_1.parquet       | Bin 0 -> 368 bytes
 .../parquet/varchar_gen_1_13_0/0_0_2.parquet       | Bin 0 -> 368 bytes
 pom.xml                                            |   3 +-
 42 files changed, 2304 insertions(+), 366 deletions(-)

commit 904bb71f3b8984148d07a0c8a731ef4aeafa541e
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Nov 13 19:53:07 2018 +0200

    DRILL-3933: Surround $QUERY variable in double-quotes to avoid asterisk expansion in sqlline script
    
    closes #1538

 distribution/src/resources/sqlline | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ded9ba98d95648a5818e1030eeab89817bb8c2a5
Author: karthik <kmanivannan@maprtech.com>
Date:   Wed Jul 11 14:01:04 2018 -0700

    DRILL-5671: Set secure ACLs (Access Control List) for Drill ZK nodes in a secure cluster
    
    closes #1467

 .../src/resources/drill-override-example.conf      |  16 ++
 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +
 .../drill/exec/coord/zk/ZKACLContextProvider.java  |  28 ++++
 .../exec/coord/zk/ZKACLContextProviderImpl.java    |  31 ++++
 .../apache/drill/exec/coord/zk/ZKACLProvider.java  |  46 ++++++
 .../drill/exec/coord/zk/ZKACLProviderDelegate.java |  52 +++++++
 .../drill/exec/coord/zk/ZKACLProviderFactory.java  | 112 ++++++++++++++
 .../drill/exec/coord/zk/ZKACLProviderTemplate.java |  38 +++++
 .../drill/exec/coord/zk/ZKClusterCoordinator.java  |  21 ++-
 .../drill/exec/coord/zk/ZKDefaultACLProvider.java  |  44 ++++++
 .../drill/exec/coord/zk/ZKSecureACLProvider.java   |  74 +++++++++
 .../org/apache/drill/exec/server/Drillbit.java     |   2 +-
 .../java-exec/src/main/resources/drill-module.conf |  10 +-
 .../org/apache/drill/exec/coord/zk/TestZKACL.java  | 165 +++++++++++++++++++++
 exec/java-exec/src/test/resources/zkacltest.conf   |  28 ++++
 15 files changed, 662 insertions(+), 7 deletions(-)

commit addc40f808806a695f601c041ae5136e2d2f18c1
Author: Paul Rogers <progers@cloudera.com>
Date:   Sat Nov 10 16:15:33 2018 -0800

    DRILL-6843: Update SchemaBuilder comment to match implementation
    
    The schema builder API evolved a while back. The class provides a detailed comment to explain usage. That comment was out of date. This fix updates the comment to match the code.
    
    closes #1533

 .../apache/drill/test/rowSet/schema/SchemaBuilder.java | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit cab059abc0c0f6044e9aa15a1747e8542ac5ad46
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Wed Oct 3 14:55:31 2018 +0300

    DRILL-786: Allow CROSS JOIN syntax
    
     1. Removed throw statement in UnsupportedOperatorsVisitor
     2. Extended UnsupportedRelOperatorException's message
    
    closes #1488

 .../drill/exec/physical/impl/join/JoinUtils.java   |  30 +++
 .../planner/sql/handlers/DefaultSqlHandler.java    |  14 +-
 .../sql/parser/UnsupportedOperatorsVisitor.java    |   9 -
 .../apache/drill/TestDisabledFunctionality.java    |  10 +-
 .../drill/exec/planner/sql/CrossJoinTest.java      | 201 +++++++++++++++++++++
 5 files changed, 238 insertions(+), 26 deletions(-)

commit 047c51268a4a633f244106b88f047daad423f503
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Tue Nov 13 14:11:51 2018 -0800

    DRILL-6848: Duration panel in a query profile's WebUI does not open
    
    DRILL-5571 ( PR #1531 ) accidentally introduced a bug that permanently keeps the "Duration" panel closed instead of opening it. This trivial patch fixes that.

 exec/java-exec/src/main/resources/rest/profile/profile.ftl | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6267185823c4c50ab31c029ee5b4d9df2fc94d03
Author: Boaz Ben-Zvi <boaz@mapr.com>
Date:   Tue Nov 13 12:58:31 2018 -0800

    Drill 6735: Implement Semi-Join for the Hash-Join operator (#1522)

 .../drill/exec/physical/base/AbstractJoinPop.java  |  7 ++-
 .../drill/exec/physical/config/HashJoinPOP.java    | 17 +++++-
 .../drill/exec/physical/config/LateralJoinPOP.java |  2 +-
 .../drill/exec/physical/config/MergeJoinPOP.java   |  2 +-
 .../exec/physical/config/NestedLoopJoinPOP.java    |  2 +-
 .../exec/physical/impl/common/HashPartition.java   | 12 ++--
 .../exec/physical/impl/join/HashJoinBatch.java     | 13 +++-
 .../impl/join/HashJoinHelperUnusedSizeImpl.java    | 38 ++++++++++++
 .../impl/join/HashJoinMemoryCalculatorImpl.java    | 24 +++++---
 .../exec/physical/impl/join/HashJoinProbe.java     |  5 +-
 .../physical/impl/join/HashJoinProbeTemplate.java  | 71 +++++++++++-----------
 .../apache/drill/exec/planner/RuleInstance.java    |  1 +
 .../drill/exec/planner/physical/HashJoinPrel.java  |  2 +-
 .../java-exec/src/main/resources/drill-module.conf |  2 +-
 .../physical/impl/common/HashPartitionTest.java    |  6 +-
 .../impl/join/TestBuildSidePartitioningImpl.java   | 18 +++---
 .../join/TestHashJoinHelperSizeCalculatorImpl.java |  3 +
 .../impl/join/TestPostBuildCalculationsImpl.java   | 20 +++---
 18 files changed, 163 insertions(+), 82 deletions(-)

commit 7079b8cd8e2f7ee07dac2fca4f2459af17eb8d6d
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Tue Nov 13 12:12:09 2018 -0800

    DRILL-2035: Add ability to cancel multiple queries
    
    Currently Drill UI allows canceling one query at a time.
    This commit (on lines of DRILL-5571 /  PR #1531) allows for cancelling multiple `running` queries.

 .../src/main/resources/rest/profile/list.ftl       | 64 +++++++++++++++++++++-
 1 file changed, 62 insertions(+), 2 deletions(-)

commit c3080fedf9dcfe3d2c12a7942d3f82713be695f2
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Tue Nov 13 12:09:42 2018 -0800

    DRILL-5571: Cancel running query from its Web UI
    
    Currently, a running query can be cancelled by navigating to the Edit Query Tab of the profile page, making it difficult to access. This commit allows the user to cancel.
    In addition, the Duration segment is also made visible by default rather than collapsed.

 .../src/main/resources/rest/profile/profile.ftl    | 44 +++++++++++++++++++++-
 1 file changed, 42 insertions(+), 2 deletions(-)

commit 9eba276845a8f9c6edba628bd6a59207cd41c64e
Author: shuifeng lu <lushuifeng@gmail.com>
Date:   Wed Oct 31 19:54:52 2018 +0800

    DRILL-6760: Retain original exception in Verbose Error Message
    
    closes #1519

 .../drill/common/exceptions/UserException.java     |   3 +
 .../common/exceptions/UserRemoteException.java     |   4 +-
 .../drill/common/util/DrillExceptionUtil.java      | 107 +++++++++++++++++++++
 .../drill/exec/util/DrillExceptionUtilTest.java    |  53 ++++++++++
 4 files changed, 166 insertions(+), 1 deletion(-)

commit f2fd822afd8acc5aaa99dd37fb2f798bbec54a00
Author: ozinoviev <ozinoviev@solit-clouds.ru>
Date:   Tue Aug 28 20:29:55 2018 +0300

    DRILL-6717: lower and upper functions not works with national characters
    
    closes #1450

 .../exec/expr/fn/impl/StringFunctionHelpers.java   | 20 ++++++-------
 .../drill/exec/expr/fn/impl/StringFunctions.java   | 35 +++++++++++-----------
 .../exec/expr/fn/impl/TestStringFunctions.java     |  2 --
 3 files changed, 27 insertions(+), 30 deletions(-)

commit 33810dfbafaf73e4523a1c20751610855d03eca0
Author: superbstreak <robwu15@gmail.com>
Date:   Wed Jul 18 14:26:09 2018 -0700

    DRILL-6610: Add support for Minimum TLS restriction.
    
    closes #1388

 contrib/native/client/src/clientlib/channel.cpp    |  4 +--
 contrib/native/client/src/clientlib/channel.hpp    | 29 ++++++++++++++++++++++
 contrib/native/client/src/clientlib/errmsgs.cpp    |  1 +
 contrib/native/client/src/clientlib/errmsgs.hpp    |  3 ++-
 contrib/native/client/src/include/drill/common.hpp |  2 +-
 5 files changed, 35 insertions(+), 4 deletions(-)

commit 4124b41a09ba2197957539a35dd8ae4c52ad2e15
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Nov 1 18:31:16 2018 +0200

    DRILL-4456: Add Hive translate UDF
    
    closes #1527

 .../drill/exec/expr/fn/HiveFunctionRegistry.java   | 45 ++++++++++++++--------
 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    | 13 +++++++
 2 files changed, 43 insertions(+), 15 deletions(-)

commit 683610df1f5f62ad6f6a2a1ea3222b0bf65c767e
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Nov 7 20:03:40 2018 +0200

    DRILL-3610: Add TIMESTAMPADD and TIMESTAMPDIFF functions
    
    closes #1528

 .../src/main/codegen/data/DateIntervalFunc.tdd     |   1 +
 .../IntervalNumericArithmetic.java                 |  20 +-
 .../TimestampDiff.java                             | 109 ++++++++
 .../drill/exec/planner/logical/DrillOptiq.java     | 274 ++++++++++++---------
 .../exec/planner/sql/DrillConvertletTable.java     |  35 ++-
 .../drill/exec/planner/sql/TypeInferenceUtils.java |  73 +++++-
 .../fn/impl/TestTimestampAddDiffFunctions.java     | 202 +++++++++++++++
 7 files changed, 584 insertions(+), 130 deletions(-)

commit 3355c7e9e092183be03004e0a11b940cead39458
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Thu Nov 8 15:13:43 2018 -0800

    DRILL-6837: Missing reference for dynamically created Javascript library
    
    A PR for DRILL-6084 broke the auto-complete library required for Edit Query page, with the removal of the static javascript library.
    https://github.com/apache/drill/pull/1491/files#diff-2bb3c04f1a9eead1faf57212cce5d2a9
    
    The dynamically loaded script is not defined in the Freemarker template page.
    The fix is trivial.

 exec/java-exec/src/main/resources/rest/profile/profile.ftl | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ad61c6bc1dd24994e50fe7dfed043d5e57dba8f9
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Mon Nov 5 10:23:39 2018 -0800

    DRILL-6611: Add Ctrl+Enter support for query submission
    
    1. BugFix on parent commit: Ensure query submission is done with user name when impersonation is enabled.
    2. Support non-Mac browsers
    3. Support keyboard submission for profile pages with Edit Query tab.

 .../src/main/resources/rest/profile/profile.ftl        | 18 +++++++++++++++++-
 exec/java-exec/src/main/resources/rest/query/query.ftl | 18 ++++++++++++++----
 2 files changed, 31 insertions(+), 5 deletions(-)

commit 22075a4cc90183e28aba8eff86446b19f06dabd5
Author: boB Rudis <bob@rud.is>
Date:   Mon Jul 23 08:16:45 2018 -0400

    DRILL-6611 to enable meta-enter query submission in web query interface

 exec/java-exec/src/main/resources/rest/query/query.ftl | 6 ++++++
 1 file changed, 6 insertions(+)

commit 56c8f0a7f97c3796ba90976fdbb6d90c5f2229a5
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Wed Oct 3 20:07:46 2018 +0300

    DRILL-6768: Improve to_date, to_time and to_timestamp and corresponding cast functions to handle empty string when  option is enabled
    closes #1494

 exec/java-exec/src/main/codegen/data/Casts.tdd     |  36 +++-
 .../src/main/codegen/data/DateIntervalFunc.tdd     |  14 ++
 ...VarCharDate.java => CastStringTypesToDate.java} |  51 +++--
 .../templates/CastStringTypesToInterval.java       | 111 ++++++++++
 .../codegen/templates/CastVarCharInterval.java     |  90 --------
 .../SqlToDateTypeFunctions.java                    |  44 ++--
 .../ToDateTypeFunctions.java                       |  75 ++++---
 .../templates/Decimal/CastVarCharDecimal.java      |   8 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   4 +-
 .../exec/expr/ExpressionTreeMaterializer.java      |   6 +-
 .../expr/fn/FunctionImplementationRegistry.java    |  12 +-
 .../drill/exec/expr/fn/impl/MathFunctions.java     |  94 ++++++++-
 .../drill/exec/expr/stat/RangeExprEvaluator.java   |   4 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   4 +-
 .../exec/planner/logical/DrillConstExecutor.java   |   5 +-
 .../exec/server/options/SystemOptionManager.java   |   2 +-
 .../exec/store/parquet/ParquetFilterBuilder.java   |   4 +-
 .../drill/exec/fn/impl/TestCastEmptyStrings.java   | 151 ++++++++-----
 .../exec/fn/impl/testing/TestDateConversions.java  |  95 +++++++++
 .../java/org/apache/drill/test/ConfigBuilder.java  |   2 +-
 .../java/org/apache/drill/test/TestBuilder.java    |  19 ++
 .../src/test/resources/dateWithEmptyStrings.json   |   3 +
 .../drill/common/expression/fn/CastFunctions.java  | 227 --------------------
 .../expression/fn/FunctionReplacementUtils.java    | 233 +++++++++++++++++++++
 24 files changed, 838 insertions(+), 456 deletions(-)

commit f5a7b4c97c9d6d868d1b695fdb690c20383bc49c
Author: Paul Rogers <progers@cloudera.com>
Date:   Sat Oct 27 22:47:58 2018 -0700

    DRILL-6809: Handle repeated map in schema inference
    
    It turns out that the RowSet utilities build a repeated map without including the hidden $offsets$ vector in the metadata for the map. But, other parts in Drill do include this vector.
    
    The RowSet behavior might be a bug which can be addressed in another PR.
    
    This PR:
    
    * Adds unit tests for map accessors at the row set level. Looks like these were never added originally. They are a simplified form of the ResultSetLoader map tests.
    * Verified that the schema inference can infer a schema from a repeated map (using the RowSet style.)
    * Added a test to reproduce the case from the bug.
    * Made a tweak to the RowSetBuilder to allow access to the RowSetWriter which is needed by the new tests.
    * Could of minor clean-ups.
    
    closes #1513

 .../rowSet/model/single/SingleSchemaInference.java |   2 +-
 .../rowSet/impl/TestResultSetLoaderMapArray.java   |  10 +-
 .../apache/drill/test/rowSet/RowSetBuilder.java    |   3 +-
 .../drill/test/rowSet/test/TestMapAccessors.java   | 429 +++++++++++++++++++++
 .../rowSet/test/TestRepeatedListAccessors.java     |   9 +-
 .../drill/test/rowSet/test/TestSchemaBuilder.java  |   1 +
 6 files changed, 445 insertions(+), 9 deletions(-)

commit f0beeafa9fd3d54dfcbe09b7eec5c7e15036d021
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Thu Oct 18 18:15:23 2018 +0300

    DRILL-6810: Disable NULL_IF_NULL NullHandling for functions with ComplexWriter
    closes #1509

 .../apache/drill/exec/expr/DrillSimpleFunc.java    |   6 +-
 .../exec/expr/annotations/FunctionTemplate.java    |   9 +-
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |   6 +-
 .../exec/expr/fn/DrillComplexWriterFuncHolder.java |  10 +
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  13 ++
 .../apache/drill/exec/expr/fn/impl/Mappify.java    |   5 +-
 .../drill/exec/expr/fn/impl/MappifyUtility.java    |  13 +-
 .../exec/expr/fn/impl/ParseQueryFunction.java      | 168 +++++++++++---
 .../drill/exec/expr/fn/impl/ParseUrlFunction.java  | 252 ++++++++++++---------
 .../drill/exec/expr/fn/impl/StringFunctions.java   |  81 +++++--
 .../drill/exec/expr/fn/impl/conv/DummyFlatten.java |   4 +-
 .../exec/expr/fn/impl/conv/JsonConvertFrom.java    |  97 +++++++-
 .../exec/expr/fn/impl/conv/JsonConvertTo.java      |   4 +-
 .../exec/expr/fn/impl/TestStringFunctions.java     |  26 +++
 .../drill/exec/fn/impl/TestParseFunctions.java     |  86 +++++++
 .../exec/physical/impl/TestConvertFunctions.java   |  30 +++
 .../complex/writer/TestComplexTypeReader.java      |  31 +++
 17 files changed, 654 insertions(+), 187 deletions(-)

commit f4ef0d4bd8e290bc3b3b6a4bd45713e38e6c1edf
Author: Gautam Parai <gparai@maprtech.com>
Date:   Fri Sep 21 18:44:38 2018 -0700

    DRILL-6824: Handle schema changes in MapRDBJsonRecordReader
    closes #1518

 .../store/mapr/db/json/MaprDBJsonRecordReader.java | 127 ++++++++++++++++-----
 .../drill/exec/physical/impl/OutputMutator.java    |   5 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |   2 +
 .../store/parquet/ParquetRecordReaderTest.java     |   5 +
 4 files changed, 113 insertions(+), 26 deletions(-)

commit 71809ca6216d95540b2a41ce1ab2ebb742888671
Author: Hanumath Rao Maduri <hanu.ncr@gmail.com>
Date:   Tue Oct 9 17:33:43 2018 -0700

    DRILL-6798: Planner changes to support semi-join.

 .../apache/drill/exec/planner/PlannerPhase.java    |  20 ++--
 .../apache/drill/exec/planner/RuleInstance.java    |  15 ++-
 .../exec/planner/common/DrillJoinRelBase.java      |   3 +-
 .../drill/exec/planner/logical/DrillJoin.java      |  48 +++++++++
 .../drill/exec/planner/logical/DrillJoinRel.java   |   8 +-
 .../exec/planner/logical/DrillLateralJoinRel.java  |   9 +-
 .../exec/planner/logical/DrillRelFactories.java    |  15 ++-
 .../exec/planner/logical/DrillSemiJoinRel.java     | 101 ++++++++++++++++++
 .../drill/exec/planner/physical/HashJoinPrel.java  |  57 ++++++++--
 .../drill/exec/planner/physical/HashJoinPrule.java |  15 ++-
 .../drill/exec/planner/physical/JoinPrel.java      |  83 ++++++++++++++-
 .../drill/exec/planner/physical/JoinPruleBase.java |  49 +++++----
 .../exec/planner/physical/MergeJoinPrule.java      |   4 +-
 .../exec/planner/physical/NestedLoopJoinPrule.java |   7 +-
 .../exec/planner/physical/PlannerSettings.java     |   6 ++
 .../physical/visitor/SwapHashJoinVisitor.java      |   2 +-
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 .../exec/physical/impl/join/TestSemiJoin.java      | 118 +++++++++++++++++++++
 .../drill/common/logical/data/LogicalSemiJoin.java |  52 +++++++++
 20 files changed, 553 insertions(+), 61 deletions(-)

commit 5fff1d8bff899e1af551c16f26a58b6b1d033ffb
Author: Denys Ordynskiy <denysord88@gmail.com>
Date:   Thu Nov 1 14:04:11 2018 +0200

    DRILL-6819: Remove invisible back link in Drill WebUI

 exec/java-exec/src/main/resources/rest/error.ftl              | 1 -
 exec/java-exec/src/main/resources/rest/index.ftl              | 1 -
 exec/java-exec/src/main/resources/rest/login.ftl              | 1 -
 exec/java-exec/src/main/resources/rest/logs/list.ftl          | 1 -
 exec/java-exec/src/main/resources/rest/logs/log.ftl           | 1 -
 exec/java-exec/src/main/resources/rest/metrics/metrics.ftl    | 1 -
 exec/java-exec/src/main/resources/rest/options.ftl            | 1 -
 exec/java-exec/src/main/resources/rest/profile/list.ftl       | 1 -
 exec/java-exec/src/main/resources/rest/profile/profile.ftl    | 1 -
 exec/java-exec/src/main/resources/rest/query/errorMessage.ftl | 1 -
 exec/java-exec/src/main/resources/rest/query/list.ftl         | 1 -
 exec/java-exec/src/main/resources/rest/query/query.ftl        | 1 -
 exec/java-exec/src/main/resources/rest/query/result.ftl       | 1 -
 exec/java-exec/src/main/resources/rest/status.ftl             | 1 -
 exec/java-exec/src/main/resources/rest/storage/list.ftl       | 1 -
 exec/java-exec/src/main/resources/rest/storage/update.ftl     | 1 -
 exec/java-exec/src/main/resources/rest/threads/threads.ftl    | 1 -
 17 files changed, 17 deletions(-)

commit 8d6c0d6133c6e9cef270d6a99b86f34459a2e1bf
Author: dvjyothsna <jyothsna.dvj@gmail.com>
Date:   Wed Oct 31 09:58:38 2018 -0700

    Fixed imports for DRILL-6381

 .../apache/drill/exec/planner/index/MapRDBIndexDescriptor.java |  8 ++++----
 .../apache/drill/exec/planner/index/MapRDBIndexDiscover.java   |  2 +-
 .../org/apache/drill/exec/planner/index/MapRDBStatistics.java  |  8 ++++----
 .../org/apache/drill/exec/store/mapr/db/MapRDBTableCache.java  | 10 +++++-----
 .../drill/exec/store/mapr/db/json/OjaiFunctionsProcessor.java  |  2 +-
 .../store/mapr/db/json/ProjectionPassthroughVectorWriter.java  |  2 +-
 .../exec/store/mapr/db/json/RestrictedJsonRecordReader.java    |  2 +-
 .../mapr/drill/maprdb/tests/json/TestEncodedFieldPaths.java    |  2 +-
 .../java/com/mapr/drill/maprdb/tests/json/TestScanRanges.java  |  2 +-
 9 files changed, 19 insertions(+), 19 deletions(-)

commit 18e09a1b1c801f2691a05ae7db543bf71874cfea
Author: shuifeng lu <lushuifeng@gmail.com>
Date:   Wed Sep 26 11:22:20 2018 +0800

    DRILL-6763: Codegen optimization of SQL functions with constant values(#1481)
    
    closes #1481

 .../org/apache/drill/exec/expr/ClassGenerator.java |  54 +++++-
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 186 +++++++++------------
 .../expr/fn/interpreter/InterpreterEvaluator.java  |   6 +-
 .../apache/drill/exec/ops/BaseFragmentContext.java |   9 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  11 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java |   1 +
 .../physical/impl/aggregate/HashAggTemplate.java   |  15 +-
 .../physical/impl/aggregate/HashAggregator.java    |   7 +-
 .../physical/impl/common/ChainedHashTable.java     |   2 +-
 .../impl/common/CodeGenMemberInjector.java         |  79 +++++++++
 .../drill/exec/physical/impl/common/HashTable.java |  10 +-
 .../physical/impl/common/HashTableTemplate.java    |  19 ++-
 .../exec/physical/impl/join/HashJoinBatch.java     |   3 +-
 .../partitionsender/PartitionSenderRootExec.java   |  68 ++++----
 .../physical/impl/partitionsender/Partitioner.java |   2 +
 .../impl/partitionsender/PartitionerTemplate.java  |  14 +-
 .../exec/compile/ExampleTemplateWithInner.java     |  12 +-
 .../exec/compile/TestLargeFileCompilation.java     |  39 +++++
 .../exec/physical/impl/TopN/TopNBatchTest.java     |  17 +-
 .../drill/exec/vector/ValueHolderHelper.java       |  36 ++--
 20 files changed, 405 insertions(+), 185 deletions(-)

commit f39c7724cbbbe04a53ce98b74dfada46b37ecb0d
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Oct 24 12:57:24 2018 +0300

    DRILL-6811: Fix type inference to return correct data mode for boolean functions
    
    closes #1510

 .../drill/exec/planner/sql/TypeInferenceUtils.java |  9 +++++--
 .../java/org/apache/drill/TestFunctionsQuery.java  | 31 ++++++++++++++++++++++
 .../drill/TestFunctionsWithTypeExpoQueries.java    |  2 +-
 3 files changed, 39 insertions(+), 3 deletions(-)

commit 7571d52eab9b961687df7d4fb845d0a297b228bb
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sat Oct 13 23:38:17 2018 -0700

    DRILL-6381: Address code review comments (part 3).
    
    DRILL-6381: Add missing joinControl logic for INTERSECT_DISTINCT.
    
    - Modified HashJoin's probe phase to process INTERSECT_DISTINCT.
    
    - NOTE: For build phase, the functionality will be same as for SemiJoin when it is added later.
    
    DRILL-6381: Address code review comment for intersect_distinct.
    
    DRILL-6381: Rebase on latest master and fix compilation issues.
    
    DRILL-6381: Generate protobuf files for C++ native client.
    
    DRILL-6381: Use shaded Guava classes.  Add more comments and Javadoc.

 .../planner/index/MapRDBFunctionalIndexInfo.java   |  4 +-
 .../exec/planner/index/MapRDBIndexDiscover.java    | 12 ++---
 .../drill/exec/store/mapr/PluginConstants.java     |  3 ++
 .../exec/store/mapr/db/MapRDBFormatPlugin.java     |  6 ++-
 .../store/mapr/db/MapRDBPushFilterIntoScan.java    | 17 ++++---
 .../store/mapr/db/MapRDBPushLimitIntoScan.java     |  2 +-
 .../store/mapr/db/MapRDBPushProjectIntoScan.java   | 35 ++++++-------
 .../mapr/db/MapRDBRestrictedScanBatchCreator.java  |  4 +-
 .../db/json/JsonTableRangePartitionFunction.java   |  4 +-
 .../store/mapr/db/json/MaprDBJsonRecordReader.java |  2 +-
 .../mapr/db/json/RestrictedJsonTableGroupScan.java |  6 +--
 contrib/native/client/src/protobuf/BitData.pb.cc   | 55 ++++++++++++++++++---
 contrib/native/client/src/protobuf/BitData.pb.h    | 36 +++++++++++++-
 .../native/client/src/protobuf/UserBitShared.pb.cc | 57 +++++++++++-----------
 .../native/client/src/protobuf/UserBitShared.pb.h  |  7 +--
 .../exec/store/hbase/HBasePushFilterIntoScan.java  |  2 +-
 .../store/kafka/KafkaPushDownFilterIntoScan.java   |  4 +-
 .../store/mongo/MongoPushDownFilterForScan.java    |  2 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java | 17 +++----
 .../exec/physical/impl/common/HashPartition.java   | 10 ++--
 .../physical/impl/join/HashJoinProbeTemplate.java  | 24 +++++++--
 .../exec/physical/impl/join/RowKeyJoinBatch.java   |  6 +++
 .../physical/impl/partitionsender/Partitioner.java |  3 ++
 .../RangePartitionRecordBatch.java                 |  7 +++
 .../exec/planner/common/DrillScanRelBase.java      |  2 +-
 .../index/InvalidIndexDefinitionException.java     |  4 ++
 .../generators/IndexIntersectPlanGenerator.java    | 18 +++----
 .../planner/logical/DrillMergeProjectRule.java     |  8 +++
 .../planner/physical/BroadcastExchangePrel.java    |  5 +-
 .../planner/physical/ConvertCountToDirectScan.java |  5 +-
 .../drill/exec/planner/physical/ScanPrel.java      |  9 ----
 .../drill/exec/planner/physical/ScanPrule.java     |  2 +-
 .../InfoSchemaPushFilterIntoRecordGenerator.java   |  2 +-
 .../exec/store/parquet/ParquetPushDownFilter.java  |  2 +-
 .../physical/impl/common/HashPartitionTest.java    |  2 +-
 35 files changed, 248 insertions(+), 136 deletions(-)

commit 387bc4fefc40b645685439fd1da43f7223e5933c
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Oct 10 16:36:48 2018 -0700

    DRILL-6381: Address review comments (part 2): fix formatting issues and add javadoc.

 .../planner/index/MapRDBFunctionalIndexInfo.java   |  22 ++--
 .../exec/planner/index/MapRDBIndexDescriptor.java  |   4 +-
 .../exec/store/mapr/db/MapRDBScanBatchCreator.java |   4 +-
 .../exec/store/mapr/db/MapRDBSubScanSpec.java      |   2 +-
 .../store/mapr/db/json/JsonTableGroupScan.java     |  17 ++-
 .../db/json/JsonTableRangePartitionFunction.java   |   4 +-
 .../store/mapr/db/json/OjaiFunctionsProcessor.java |   2 +-
 .../mapr/db/json/RestrictedJsonTableGroupScan.java |   8 +-
 .../drill/exec/udf/mapr/db/DecodeFieldPath.java    |   4 +-
 .../drill/exec/udf/mapr/db/MatchesPlaceholder.java |   7 +-
 .../exec/udf/mapr/db/NotMatchesPlaceholder.java    |   7 +-
 .../exec/udf/mapr/db/NotTypeOfPlaceholder.java     |   7 +-
 .../drill/exec/udf/mapr/db/SizeOfPlaceholder.java  |   7 +-
 .../drill/exec/udf/mapr/db/TypeOfPlaceholder.java  |   7 +-
 .../maprdb/tests/index/IndexHintPlanTest.java      |  19 ++-
 .../drill/maprdb/tests/index/IndexPlanTest.java    | 135 +++++++++------------
 .../drill/maprdb/tests/index/LargeTableGen.java    |  34 +++---
 .../maprdb/tests/index/LargeTableGenBase.java      |  25 ++--
 .../drill/maprdb/tests/index/StatisticsTest.java   |  21 ++--
 .../drill/maprdb/tests/index/TableIndexCmd.java    |  26 ++--
 .../drill/exec/physical/base/IndexGroupScan.java   |   1 -
 .../exec/physical/impl/join/RowKeyJoinBatch.java   |  18 +--
 .../exec/planner/index/DrillIndexDefinition.java   |  22 ++--
 .../exec/planner/index/DrillIndexDescriptor.java   |  24 +++-
 .../exec/planner/index/IndexConditionInfo.java     |  44 ++++---
 .../drill/exec/planner/index/IndexPlanUtils.java   |  74 +++++------
 .../drill/exec/planner/index/IndexSelector.java    |   2 +-
 .../drill/exec/planner/index/SimpleRexRemap.java   |  18 +--
 .../planner/index/rules/AbstractMatchFunction.java |   8 +-
 .../planner/logical/DrillMergeProjectRule.java     |   2 +-
 30 files changed, 271 insertions(+), 304 deletions(-)

commit 5fa9c808daef8ea70a39ac2248daa99055955b72
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon Oct 1 12:06:39 2018 -0700

    DRILL-6381: Address code review comments.

 .../planner/index/MapRDBFunctionalIndexInfo.java   |  5 ++++
 .../exec/planner/index/MapRDBIndexDiscover.java    | 14 ++++++-----
 .../store/mapr/db/RestrictedMapRDBSubScanSpec.java | 28 ----------------------
 .../db/json/JsonTableRangePartitionFunction.java   |  2 +-
 .../drill/exec/physical/config/HashJoinPOP.java    | 12 ----------
 .../planner/index/AbstractIndexDescriptor.java     |  6 +++++
 .../drill/exec/planner/index/IndexDescriptor.java  | 11 +++++++--
 .../drill/exec/planner/index/IndexGroup.java       |  6 +----
 .../generators/IndexIntersectPlanGenerator.java    | 22 +++++++++++++----
 .../generators/NonCoveringIndexPlanGenerator.java  | 21 ++++++++--------
 .../physical/DrillDistributionTraitDef.java        |  8 ++++++-
 .../exec/planner/physical/RowKeyJoinPrel.java      |  7 ++++--
 12 files changed, 70 insertions(+), 72 deletions(-)

commit 3c2f9ab6c0ed290bed3bc440d72a670bbe512b5a
Author: Aman Sinha <asinha@maprtech.com>
Date:   Thu Sep 13 03:55:47 2018 -0700

    DRILL-6381: (Part 5) Update Javadoc for a few interfaces.

 .../org/apache/drill/exec/physical/base/DbSubScan.java |  4 ++--
 .../drill/exec/planner/index/IndexCollection.java      |  4 +++-
 .../drill/exec/planner/index/IndexDefinition.java      | 18 ++++++++++++++++--
 .../drill/exec/planner/index/IndexDescriptor.java      | 15 +++++++++++++++
 4 files changed, 36 insertions(+), 5 deletions(-)

commit 2a9e51f8a68872a77e38ee91be107868f60fd334
Author: rebase <builds@mapr.com>
Date:   Fri Mar 16 14:24:20 2018 -0700

    DRILL-6381: (Part 4) Enhance MapR-DB plugin to support querying secondary indexes
    
     1. Implementation of the index descriptor for MapR-DB.
      2. MapR-DB specific costing for covering and non-covering indexes.
      3. Discovery componenent to discover the indexes available for a MapR-DB table including CAST functional indexes.
      4. Utility functions to build a canonical index descriptor.
      5. Statistics: fetch and initialize statistcs from MapR-DB for a query condition. Maintain a query-scoped cache for the statistics. Utility functions to compute selectivity.
      6. Range Partitioning: partitioning function that takes into account the tablet map to find out where a particular rowkey belongs.
      7. Restricted Scan: support doing restricted (i.e skip) scan through lookups on the rowkey. Added a group-scan and record reader for this.
      8. MD-3726: Simple Order by queries (without limit) when an index is used are showing regression.
      9. MD-3995: Do not pushdown limit 0 past project with CONVERT_FROMJSON
      10. MD-4259 : Account for limit during hashcode computation
    
    Co-authored-by: Aman Sinha <asinha@maprtech.com>
    Co-authored-by: chunhui-shi <cshi@maprtech.com>
    Co-authored-by: Gautam Parai <gparai@maprtech.com>
    Co-authored-by: Padma Penumarthy <ppenumar97@yahoo.com>
    Co-authored-by: Hanumath Rao Maduri <hmaduri@maprtech.com>
    
    Conflicts:
            contrib/format-maprdb/src/main/java/org/apache/drill/exec/store/mapr/db/MapRDBFormatMatcher.java
            contrib/format-maprdb/src/main/java/org/apache/drill/exec/store/mapr/db/MapRDBPushProjectIntoScan.java
            contrib/format-maprdb/src/main/java/org/apache/drill/exec/store/mapr/db/json/JsonTableGroupScan.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/index/rules/DbScanSortRemovalRule.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/physical/SortPrel.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/physical/TopNPrel.java
    
    Fix additional compilation issues.

 .../exec/planner/index/MapRDBIndexDescriptor.java  |  222 +++
 .../exec/planner/index/MapRDBIndexDiscover.java    |  374 +++++
 .../drill/exec/planner/index/MapRDBStatistics.java |  689 +++++++-
 .../exec/store/mapr/db/MapRDBFormatMatcher.java    |   42 +
 .../exec/store/mapr/db/MapRDBFormatPlugin.java     |    2 +-
 .../drill/exec/store/mapr/db/MapRDBGroupScan.java  |   12 +-
 .../store/mapr/db/MapRDBPushLimitIntoScan.java     |   50 +-
 .../store/mapr/db/MapRDBPushProjectIntoScan.java   |    3 +-
 .../store/mapr/db/json/JsonTableGroupScan.java     |  198 ++-
 .../db/json/JsonTableRangePartitionFunction.java   |  237 +++
 .../mapr/db/json/RestrictedJsonTableGroupScan.java |  184 +++
 .../maprdb/tests/index/IndexHintPlanTest.java      |  171 ++
 .../drill/maprdb/tests/index/IndexPlanTest.java    | 1715 ++++++++++++++++++++
 .../drill/maprdb/tests/index/LargeTableGen.java    |  176 ++
 .../maprdb/tests/index/LargeTableGenBase.java      |  186 +++
 .../drill/maprdb/tests/index/StatisticsTest.java   |  115 ++
 .../drill/maprdb/tests/index/TableIndexCmd.java    |  127 ++
 .../drill/exec/planner/common/OrderedRel.java      |   53 +
 .../drill/exec/planner/index/IndexCallContext.java |    4 +-
 .../planner/index/IndexLogicalPlanCallContext.java |    4 +-
 .../index/IndexPhysicalPlanCallContext.java        |   12 +-
 .../drill/exec/planner/index/IndexPlanUtils.java   |   17 +
 .../generators/AbstractIndexPlanGenerator.java     |   49 +-
 .../generators/CoveringPlanNoFilterGenerator.java  |   16 +-
 .../generators/NonCoveringIndexPlanGenerator.java  |    2 +-
 .../planner/index/rules/DbScanSortRemovalRule.java |   53 +-
 .../drill/exec/planner/logical/DrillSortRel.java   |   17 +-
 .../drill/exec/planner/physical/SortPrel.java      |   28 +-
 .../drill/exec/planner/physical/SortPrule.java     |   16 +-
 .../drill/exec/planner/physical/TopNPrel.java      |   31 +-
 .../visitor/ExcessiveExchangeIdentifier.java       |   28 +
 31 files changed, 4746 insertions(+), 87 deletions(-)

commit 12f57f0ca0ea9651ad763a5c01eb5708ba3f245a
Author: rebase <builds@mapr.com>
Date:   Fri Mar 16 14:25:26 2018 -0700

    DRILL-6381: (Part 3) Planner and Execution implementation to support Secondary Indexes
    
     1. Index Planning Rules and Plan generators
     - DbScanToIndexScanRule: Top level physical planning rule that drives index planning for several relational algebra patterns.
        - DbScanSortRemovalRule: Physical planning rule for index planning for Sort-based operations.
     - Plan Generators: Covering, Non-Covering and Intersect physical plan generators.
     - Support planning with functional indexes such as CAST functions.
     - Enhance PlannerSettings with several configuration options for indexes.
     2. Index Selection and Statistics
     - An IndexSelector that support cost-based index selection of covering and non-covering indexes using statistics and collation properties.
     - Costing of index intersection for comparison with single-index plans.
     3. Planning and execution operators
     - Support RangePartitioning physical operator during query planning and execution.
     - Support RowKeyJoin physical operator during query planning and execution.
     - HashTable and HashJoin changes to support RowKeyJoin and Index Intersection.
     - Enhance Materializer to keep track of subscan association with a particular rowkey join.
     4. Index Planning utilities
     - Utility classes to perform RexNode analysis, including conversion to and from SchemaPath.
     - Utility class to analyze filter condition and an input collation to determine output collation.
     - Helper classes to maintain index contexts for logical and physical planning phase.
     - IndexPlanUtils utility class for various helper methods.
     5. Miscellaneous
     - Separate physical rel for DirectScan.
     - Modify LimitExchangeTranspose rule to handle SingleMergeExchange.
        - MD-3880: Return correct status from RangePartitionRecordBatch setupNewSchema
    
    Co-authored-by: Aman Sinha <asinha@maprtech.com>
    Co-authored-by: chunhui-shi <cshi@maprtech.com>
    Co-authored-by: Gautam Parai <gparai@maprtech.com>
    Co-authored-by: Padma Penumarthy <ppenumar97@yahoo.com>
    Co-authored-by: Hanumath Rao Maduri <hmaduri@maprtech.com>
    
    Conflicts:
            exec/java-exec/src/main/java/org/apache/drill/exec/physical/config/HashJoinPOP.java
            exec/java-exec/src/main/java/org/apache/drill/exec/physical/impl/ScanBatch.java
            exec/java-exec/src/main/java/org/apache/drill/exec/physical/impl/common/HashPartition.java
            exec/java-exec/src/main/java/org/apache/drill/exec/physical/impl/common/HashTable.java
            exec/java-exec/src/main/java/org/apache/drill/exec/physical/impl/common/HashTableTemplate.java
            exec/java-exec/src/main/java/org/apache/drill/exec/physical/impl/join/HashJoinBatch.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/common/DrillRelOptUtil.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/fragment/Materializer.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/logical/DrillMergeProjectRule.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/logical/DrillOptiq.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/logical/DrillPushProjectIntoScanRule.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/logical/DrillScanRel.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/physical/BroadcastExchangePrel.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/physical/DrillDistributionTrait.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/physical/HashJoinPrel.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/physical/PrelUtil.java
            exec/java-exec/src/main/java/org/apache/drill/exec/server/options/SystemOptionManager.java
            exec/java-exec/src/main/java/org/apache/drill/exec/store/parquet/ParquetPushDownFilter.java
            exec/java-exec/src/main/resources/drill-module.conf
            logical/src/main/java/org/apache/drill/common/logical/StoragePluginConfig.java
    
    Resolve merge comflicts and compilation issues.

 .../drill/exec/planner/index/MapRDBStatistics.java |   2 +-
 .../store/mapr/db/MapRDBPushFilterIntoScan.java    |   4 +-
 .../store/mapr/db/MapRDBPushLimitIntoScan.java     |   2 +-
 .../store/mapr/db/MapRDBPushProjectIntoScan.java   |  15 +-
 .../exec/store/hbase/HBasePushFilterIntoScan.java  |   2 +-
 ...ertHiveMapRDBJsonScanToDrillMapRDBJsonScan.java |   2 +-
 .../store/kafka/KafkaPushDownFilterIntoScan.java   |   3 +-
 .../store/mongo/MongoPushDownFilterForScan.java    |   3 +-
 .../physical/base/AbstractPhysicalVisitor.java     |   6 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   2 +
 .../drill/exec/physical/config/HashJoinPOP.java    |  74 +-
 .../exec/physical/config/HashPartitionSender.java  |  20 +-
 .../physical/config/RangePartitionExchange.java    |  60 ++
 .../drill/exec/physical/config/RowKeyJoinPOP.java  |  96 +++
 .../apache/drill/exec/physical/impl/ScanBatch.java | 139 ++--
 .../exec/physical/impl/common/HashPartition.java   |   5 +
 .../drill/exec/physical/impl/common/HashTable.java |   3 +
 .../exec/physical/impl/common/HashTableConfig.java |  45 +-
 .../physical/impl/common/HashTableTemplate.java    |  23 +
 .../exec/physical/impl/join/HashJoinBatch.java     | 100 ++-
 .../physical/impl/join/HashJoinBatchCreator.java   |  11 +-
 .../exec/physical/impl/join/HashJoinHelper.java    |  11 +-
 .../physical/impl/join/HashJoinProbeTemplate.java  |   7 +
 .../exec/physical/impl/join/RowKeyJoinBatch.java   | 284 +++++++
 .../physical/impl/join/RowKeyJoinBatchCreator.java |  48 ++
 .../impl/mergereceiver/MergingRecordBatch.java     |   5 +-
 .../physical/impl/partitionsender/Partitioner.java |   2 +
 .../RangePartitionRecordBatch.java                 | 186 +++++
 .../RangePartitionSenderCreator.java               |  46 ++
 .../apache/drill/exec/planner/PlannerPhase.java    |  34 +-
 .../exec/planner/common/DrillJoinRelBase.java      |   4 +
 .../drill/exec/planner/common/DrillRelOptUtil.java | 137 ++++
 .../exec/planner/common/DrillScanRelBase.java      |  39 +-
 .../drill/exec/planner/common/JoinControl.java     |  53 ++
 .../cost/DrillDefaultRelMetadataProvider.java      |   1 +
 .../exec/planner/cost/DrillRelMdSelectivity.java   |  90 +++
 .../drill/exec/planner/fragment/Materializer.java  |  37 +-
 .../apache/drill/exec/planner/index/ExprToRex.java | 107 +++
 .../planner/index/FindFiltersForCollation.java     | 199 +++++
 .../exec/planner/index/FunctionalIndexHelper.java  | 215 ++++++
 .../exec/planner/index/IndexConditionInfo.java     | 250 ++++++
 .../exec/planner/index/IndexDiscoverFactory.java   |  75 ++
 .../planner/index/IndexLogicalPlanCallContext.java | 178 +++++
 .../index/IndexPhysicalPlanCallContext.java        | 193 +++++
 .../drill/exec/planner/index/IndexPlanUtils.java   | 855 +++++++++++++++++++++
 .../drill/exec/planner/index/IndexProperties.java  |   7 +-
 .../drill/exec/planner/index/IndexSelector.java    | 766 ++++++++++++++++++
 .../exec/planner/index/IndexableExprMarker.java    |   2 +-
 .../drill/exec/planner/index/PathInExpr.java       | 147 ++++
 .../drill/exec/planner/index/RexSeparator.java     | 116 +++
 .../drill/exec/planner/index/RexToExpression.java  | 165 ++++
 .../drill/exec/planner/index/SimpleRexRemap.java   | 300 ++++++++
 .../drill/exec/planner/index/Statistics.java       |   3 +-
 .../generators/AbstractIndexPlanGenerator.java     | 259 +++++++
 .../generators/CoveringIndexPlanGenerator.java     | 208 +++++
 .../generators/CoveringPlanNoFilterGenerator.java  | 125 +++
 .../generators/IndexIntersectPlanGenerator.java    | 338 ++++++++
 .../generators/NonCoveringIndexPlanGenerator.java  | 335 ++++++++
 .../planner/index/rules/AbstractMatchFunction.java |  58 ++
 .../planner/index/rules/DbScanSortRemovalRule.java | 226 ++++++
 .../index/rules/DbScanToIndexScanPrule.java        | 533 +++++++++++++
 .../exec/planner/index/rules/MatchFunction.java    |  25 +
 .../planner/logical/DrillMergeProjectRule.java     |  24 +
 .../drill/exec/planner/logical/DrillOptiq.java     |  43 +-
 .../logical/DrillPushProjectIntoScanRule.java      | 171 +----
 .../drill/exec/planner/logical/DrillScanRel.java   |  37 +-
 .../physical/AbstractRangePartitionFunction.java   |  44 ++
 .../planner/physical/BroadcastExchangePrel.java    |   4 +-
 .../planner/physical/ConvertCountToDirectScan.java |   5 +-
 .../exec/planner/physical/DirectScanPrel.java      | 162 ++++
 .../exec/planner/physical/DirectScanPrule.java     |  10 +-
 .../planner/physical/DrillDistributionTrait.java   |  31 +-
 .../physical/DrillDistributionTraitDef.java        |   5 +-
 .../drill/exec/planner/physical/FilterPrel.java    |   2 +-
 .../drill/exec/planner/physical/HashJoinPrel.java  |  26 +-
 ...seRule.java => LimitExchangeTransposeRule.java} |  63 +-
 .../exec/planner/physical/PlannerSettings.java     |  70 ++
 .../drill/exec/planner/physical/PrelFactories.java |  52 ++
 .../drill/exec/planner/physical/PrelUtil.java      | 232 +-----
 .../physical/RangePartitionExchangePrel.java       | 130 ++++
 .../exec/planner/physical/RowKeyJoinPrel.java      | 117 +++
 .../drill/exec/planner/physical/ScanPrel.java      |  45 +-
 .../drill/exec/planner/physical/ScanPrule.java     |   2 +-
 .../exec/planner/physical/SubsetTransformer.java   |  13 +
 .../physical/visitor/SwapHashJoinVisitor.java      |   3 +-
 .../exec/server/options/SystemOptionManager.java   |  19 +-
 .../drill/exec/store/dfs/FileSystemConfig.java     |   8 +-
 .../InfoSchemaPushFilterIntoRecordGenerator.java   |   2 +-
 .../exec/store/parquet/ParquetPushDownFilter.java  |   2 +-
 .../java-exec/src/main/resources/drill-module.conf |  16 +
 .../drill/common/expression/CastExpression.java    |  23 +
 .../apache/drill/common/expression/SchemaPath.java |   3 +
 .../drill/common/logical/StoragePluginConfig.java  |   9 +-
 93 files changed, 8071 insertions(+), 588 deletions(-)

commit a4f62e9b5d0e69585b91042236c1ca68e1d628bc
Author: rebase <builds@mapr.com>
Date:   Mon Feb 12 14:31:49 2018 -0800

    DRILL-6381: (Part 2) MapRDB plugin update to 6.0.1
    
      1. MD-3960: Update Drill to build with MapR-6.0.1 libraries
     2. MD-3995: Do not pushdown limit 0 past project with CONVERT_FROMJSON
      3. MD-4054: Restricted scan limit is changed to dynamically read rows using the rowcount of the rightside instead of 4096.
      4. MD-3688: Impersonating a view owner doesn't work with security disabled in 6.0
      5. MD-4492: Missing limit pushdown changes in JsonTableGroupScan
    
    Co-authored-by: chunhui-shi <cshi@maprtech.com>
    Co-authored-by: Gautam Parai <gparai@maprtech.com>
    Co-authored-by: Vlad Rozov <vrozov@mapr.com>
    
    Conflicts:
            contrib/format-maprdb/src/main/java/org/apache/drill/exec/store/mapr/db/MapRDBFormatPlugin.java
            contrib/format-maprdb/src/main/java/org/apache/drill/exec/store/mapr/db/MapRDBSubScan.java
            contrib/format-maprdb/src/main/java/org/apache/drill/exec/store/mapr/db/binary/BinaryTableGroupScan.java
            contrib/format-maprdb/src/main/java/org/apache/drill/exec/store/mapr/db/json/CompareFunctionsProcessor.java
            contrib/format-maprdb/src/main/java/org/apache/drill/exec/store/mapr/db/json/JsonConditionBuilder.java
            contrib/format-maprdb/src/main/java/org/apache/drill/exec/store/mapr/db/json/JsonTableGroupScan.java
            contrib/format-maprdb/src/main/java/org/apache/drill/exec/store/mapr/db/json/MaprDBJsonRecordReader.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/physical/PrelUtil.java
            pom.xml

 contrib/format-maprdb/pom.xml                      |  89 ++++
 .../planner/index/MapRDBFunctionalIndexInfo.java   | 163 +++++++
 .../drill/exec/planner/index/MapRDBStatistics.java | 337 +++++++++++++
 .../planner/index/MapRDBStatisticsPayload.java     |  56 +++
 .../drill/exec/store/mapr/PluginConstants.java     |  90 ++++
 .../drill/exec/store/mapr/PluginErrorHandler.java  |  50 ++
 .../drill/exec/store/mapr/db/MapRDBCost.java       | 104 ++++
 .../exec/store/mapr/db/MapRDBFormatMatcher.java    |   4 +-
 .../exec/store/mapr/db/MapRDBFormatPlugin.java     |  67 ++-
 .../store/mapr/db/MapRDBFormatPluginConfig.java    |   4 +
 .../drill/exec/store/mapr/db/MapRDBGroupScan.java  |  75 ++-
 .../store/mapr/db/MapRDBPushFilterIntoScan.java    |   3 +-
 .../store/mapr/db/MapRDBPushLimitIntoScan.java     | 157 ++++++
 .../store/mapr/db/MapRDBPushProjectIntoScan.java   | 141 ++++++
 .../mapr/db/MapRDBRestrictedScanBatchCreator.java  |  50 ++
 .../exec/store/mapr/db/MapRDBScanBatchCreator.java |   6 +-
 .../drill/exec/store/mapr/db/MapRDBSubScan.java    |  23 +-
 .../exec/store/mapr/db/MapRDBSubScanSpec.java      |  54 ++-
 .../drill/exec/store/mapr/db/MapRDBTableCache.java | 232 +++++++++
 .../store/mapr/db/RestrictedMapRDBSubScan.java     |  80 +++
 .../store/mapr/db/RestrictedMapRDBSubScanSpec.java | 219 +++++++++
 .../store/mapr/db/binary/BinaryTableGroupScan.java |  34 +-
 .../store/mapr/db/json/AllTextValueWriter.java     |  80 +++
 .../mapr/db/json/CompareFunctionsProcessor.java    |  15 +-
 .../mapr/db/json/DocumentReaderVectorWriter.java   |  42 ++
 .../exec/store/mapr/db/json/FieldPathHelper.java   |  75 +++
 .../mapr/db/json/FieldTransferVectorWriter.java    |  49 ++
 .../store/mapr/db/json/IdOnlyVectorWriter.java     |  65 +++
 .../store/mapr/db/json/JsonConditionBuilder.java   |  59 ++-
 .../exec/store/mapr/db/json/JsonScanSpec.java      |  93 +++-
 .../exec/store/mapr/db/json/JsonSubScanSpec.java   |  69 +--
 .../store/mapr/db/json/JsonTableGroupScan.java     | 485 ++++++++++++++++---
 .../store/mapr/db/json/MaprDBJsonRecordReader.java | 538 ++++++++-------------
 .../mapr/db/json/NumbersAsDoubleValueWriter.java   |  51 ++
 .../store/mapr/db/json/OjaiFunctionsProcessor.java | 214 ++++++++
 .../exec/store/mapr/db/json/OjaiValueWriter.java   | 194 ++++++++
 .../db/json/ProjectionPassthroughVectorWriter.java |  83 ++++
 .../mapr/db/json/RestrictedJsonRecordReader.java   | 248 ++++++++++
 .../store/mapr/db/json/RowCountVectorWriter.java   |  40 ++
 .../exec/udf/mapr/db/ConditionPlaceholder.java     |  54 +++
 .../drill/exec/udf/mapr/db/DecodeFieldPath.java    |  65 +++
 .../drill/exec/udf/mapr/db/MatchesPlaceholder.java |  54 +++
 .../exec/udf/mapr/db/NotMatchesPlaceholder.java    |  54 +++
 .../exec/udf/mapr/db/NotTypeOfPlaceholder.java     |  54 +++
 .../drill/exec/udf/mapr/db/SizeOfPlaceholder.java  |  55 +++
 .../drill/exec/udf/mapr/db/TypeOfPlaceholder.java  |  54 +++
 .../src/main/resources/drill-module.conf           |  20 +-
 .../mapr/drill/maprdb/tests/MaprDBTestsSuite.java  |  63 +--
 .../mapr/drill/maprdb/tests/json/BaseJsonTest.java |  13 +
 .../maprdb/tests/json/TestEncodedFieldPaths.java   | 128 +++++
 .../maprdb/tests/json/TestFieldPathHelper.java     |  52 ++
 .../drill/maprdb/tests/json/TestScanRanges.java    | 158 ++++++
 .../drill/maprdb/tests/json/TestSimpleJson.java    | 216 +++++----
 .../{ => com/mapr/drill}/json/business.json        |   0
 .../mapr/drill/json/encoded_fields_userdata.json   |   5 +
 .../resources/{hbase-site.xml => core-site.xml}    |   5 +
 .../exec/physical/base/AbstractGroupScan.java      |   6 +
 .../apache/drill/exec/physical/base/GroupScan.java |   3 +
 .../drill/exec/planner/physical/PrelUtil.java      | 231 +++++++++
 .../java/org/apache/drill/test/BaseTestQuery.java  |  12 +-
 pom.xml                                            |   4 +-
 61 files changed, 5079 insertions(+), 665 deletions(-)

commit 0abcbe3f36bf6c0a2b5fe07a778d201ead8dd2ce
Author: rebase <builds@mapr.com>
Date:   Mon Feb 12 14:10:56 2018 -0800

    DRILL-6381: (Part 1) Secondary Index framework
    
     1. Secondary Index planning interfaces and abstract classes like DBGroupScan, DbSubScan, IndexDecriptor etc.
     2. Statistics and Cost model interfaces/classes: PluginCost, Statistics, StatisticsPayload, AbstractIndexStatistics
     3. ScanBatch and RecordReader to support repeatable scan
     4. Secondary Index execution related interfaces: RangePartitionSender, RowKeyJoin, PartitionFunction
      5. MD-3979: Query using cast index plan fails with NPE
    
    Co-authored-by: Aman Sinha <asinha@maprtech.com>
    Co-authored-by: chunhui-shi <cshi@maprtech.com>
    Co-authored-by: Gautam Parai <gparai@maprtech.com>
    Co-authored-by: Padma Penumarthy <ppenumar97@yahoo.com>
    Co-authored-by: Hanumath Rao Maduri <hmaduri@maprtech.com>
    
    Conflicts:
            exec/java-exec/src/main/java/org/apache/drill/exec/physical/impl/ScanBatch.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/common/DrillRelOptUtil.java
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/logical/DrillTable.java
            protocol/src/main/java/org/apache/drill/exec/proto/UserBitShared.java
            protocol/src/main/java/org/apache/drill/exec/proto/beans/CoreOperatorType.java
            protocol/src/main/protobuf/UserBitShared.proto

 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +
 .../exec/physical/base/AbstractDbGroupScan.java    |  95 +++++++
 .../exec/physical/base/AbstractDbSubScan.java      |  37 +++
 .../physical/base/AbstractPhysicalVisitor.java     |  12 +
 .../drill/exec/physical/base/DbGroupScan.java      | 129 +++++++++
 .../apache/drill/exec/physical/base/DbSubScan.java |  43 +++
 .../drill/exec/physical/base/IndexGroupScan.java   |  76 ++++++
 .../drill/exec/physical/base/PhysicalVisitor.java  |   4 +
 ...{RangeSender.java => RangePartitionSender.java} |  52 ++--
 .../apache/drill/exec/physical/impl/ScanBatch.java |  15 +-
 .../drill/exec/physical/impl/join/RowKeyJoin.java  |  79 ++++++
 .../drill/exec/planner/common/DrillRelOptUtil.java |  17 ++
 .../apache/drill/exec/planner/cost/PluginCost.java |  79 ++++++
 .../planner/index/AbstractIndexCollection.java     |  96 +++++++
 .../planner/index/AbstractIndexDescriptor.java     |  74 ++++++
 .../planner/index/AbstractIndexStatistics.java     |  51 ++++
 .../drill/exec/planner/index/CollationContext.java |  37 +++
 .../exec/planner/index/DrillIndexCollection.java   |  75 ++++++
 .../exec/planner/index/DrillIndexDefinition.java   | 278 ++++++++++++++++++++
 .../exec/planner/index/DrillIndexDescriptor.java   | 110 ++++++++
 .../exec/planner/index/FunctionalIndexInfo.java    |  85 ++++++
 .../drill/exec/planner/index/IndexCallContext.java |  76 ++++++
 .../drill/exec/planner/index/IndexCollection.java  |  99 +++++++
 .../drill/exec/planner/index/IndexDefinition.java  | 105 ++++++++
 .../drill/exec/planner/index/IndexDescriptor.java  |  68 +++++
 .../drill/exec/planner/index/IndexDiscover.java    |  23 ++
 .../exec/planner/index/IndexDiscoverBase.java      | 110 ++++++++
 .../exec/planner/index/IndexDiscoverable.java      |  37 +++
 .../drill/exec/planner/index/IndexGroup.java       |  63 +++++
 .../drill/exec/planner/index/IndexProperties.java  |  64 +++++
 .../drill/exec/planner/index/IndexStatistics.java  |  36 +++
 .../exec/planner/index/IndexableExprMarker.java    | 262 +++++++++++++++++++
 .../index/InvalidIndexDefinitionException.java     |  27 ++
 .../drill/exec/planner/index/Statistics.java       |  66 +++++
 .../exec/planner/index/StatisticsPayload.java      |  24 ++
 .../drill/exec/planner/logical/DrillTable.java     |   4 +
 .../exec/planner/physical/PartitionFunction.java   |  56 ++++
 .../drill/exec/record/AbstractRecordBatch.java     |   2 +-
 .../drill/exec/store/AbstractRecordReader.java     |   5 +
 .../org/apache/drill/exec/store/RecordReader.java  |   8 +
 .../drill/exec/util/EncodedSchemaPathSet.java      | 291 +++++++++++++++++++++
 .../org/apache/drill/exec/proto/UserBitShared.java |  75 +++---
 .../drill/exec/proto/beans/CoreOperatorType.java   |   8 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   3 +-
 44 files changed, 2893 insertions(+), 65 deletions(-)

commit 61e8b464063299dc1f67445157a46c4939b0cace
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Thu Oct 25 12:08:57 2018 -0700

    DRILL-6715: Update descriptions for System Options table
    
    With introduction of DRILL-5735 , the descriptions for about half the system options still remain missing. This commit collects descriptions review by @bbevens
    
    1. Update options for HashAgg/Join      (@Ben-Zvi )
    2. Update options for Parquet Reader/Writer     (@sachouche )
    3. Update options for Planners  (@HanumathRao , @vdiravka , @KazydubB )
    4. Update options for BatchSizing       (@bitblender )
    5. Update options for Planner Optimizations     (@arina-ielchiieva )
    6. Update options for Security & Kafka  (Krystal Nguyen)
    7. Update options for Misc entries      (@arina-ielchiieva , @vvysotskyi )
    
    In additional, there is a patch for `org.apache.drill.exec.compile.ClassTransformer.scalar_replacement` , which appears to have replaced `exec.compile.scalar_replacement`. References to the latter have been removed to avoid confusion.
    Additional changes include moving the `ClassTransformer` validator to `ExecConstants.java`
    Adding support for internal options' descriptions
    Removed mention of {{Will be removed in 1.15.0}}. (Refer DRILL-6527)

 .../java/org/apache/drill/exec/ExecConstants.java  | 207 +++++++++++++--------
 .../drill/exec/compile/ClassTransformer.java       |   9 +-
 .../exec/planner/physical/PlannerSettings.java     |  31 +--
 .../exec/server/options/SystemOptionManager.java   |   3 +-
 .../apache/drill/exec/server/rest/WebServer.java   |   3 +
 .../java-exec/src/main/resources/drill-module.conf |   1 -
 .../java/org/apache/drill/test/QueryTestUtil.java  |   6 +-
 7 files changed, 158 insertions(+), 102 deletions(-)

commit 5859968d525dbb2f65b20a228a7f31dc9e516698
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Oct 18 16:32:03 2018 -0700

    DRILL-6804: Simplify usage of OperatorPhase in HashAgg.

 .../exec/physical/impl/aggregate/HashAggBatch.java |  7 ++--
 .../physical/impl/aggregate/HashAggTemplate.java   | 44 ++++++++++------------
 .../drill/exec/planner/physical/AggPrelBase.java   | 37 +++++++++++++++++-
 .../src/test/resources/agg/hashagg/q6.json         |  1 +
 .../src/test/resources/agg/hashagg/q7_1.json       |  1 +
 .../src/test/resources/agg/hashagg/q7_2.json       |  1 +
 .../src/test/resources/agg/hashagg/q7_3.json       |  1 +
 .../src/test/resources/agg/hashagg/q8.json         |  1 +
 .../src/test/resources/agg/hashagg/q8_1.json       |  1 +
 9 files changed, 65 insertions(+), 29 deletions(-)

commit 2882b89c2288a9df7c9abd5321cb85c588312b8c
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue Aug 28 16:28:49 2018 -0700

    DRILL-6719: Separate spilling queue logic from HashJoin and HashAgg.

 .../physical/impl/aggregate/HashAggTemplate.java   | 210 ++++++++++----------
 .../common/AbstractSpilledPartitionMetadata.java   |  47 +++++
 .../impl/common/SpilledPartitionMetadata.java      |  42 ++++
 .../exec/physical/impl/common/SpilledState.java    | 216 +++++++++++++++++++++
 .../exec/physical/impl/join/HashJoinBatch.java     | 180 ++++++++++-------
 .../exec/physical/impl/join/HashJoinProbe.java     |   2 +-
 .../physical/impl/join/HashJoinProbeTemplate.java  |   9 +-
 7 files changed, 516 insertions(+), 190 deletions(-)

commit 785f59bf03e402c117df0f5e0a9f1c6ef6863966
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Sat Oct 13 16:13:36 2018 +0300

    DRILL-6795: Upgrade Janino compiler from 2.7.6 to 3.0.10
    
    closes #1503

 exec/java-exec/pom.xml                             |   8 ++
 .../apache/drill/exec/expr/fn/ImportGrabber.java   |  47 ++++----
 .../drill/exec/expr/fn/MethodGrabbingVisitor.java  |  68 ++++++------
 .../drill/exec/expr/fn/ModifiedUnparseVisitor.java | 120 ---------------------
 .../drill/exec/expr/fn/ModifiedUnparser.java       | 110 +++++++++++++++++++
 pom.xml                                            |   7 +-
 6 files changed, 177 insertions(+), 183 deletions(-)

commit 91962d3dd38119ad04fa6b646a4980fd77e828d8
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Tue Oct 16 17:11:36 2018 +0300

    DRILL-6793: FragmentExecutor cannot send its final state for the case when RootExec root wasn't initialized
    
    closes #1506

 .../drill/exec/store/mapr/db/json/MaprDBJsonRecordReader.java       | 2 +-
 .../apache/drill/exec/store/hive/readers/HiveAbstractReader.java    | 2 +-
 .../main/java/org/apache/drill/exec/physical/impl/BaseRootExec.java | 4 ++++
 .../java/org/apache/drill/exec/store/avro/AvroRecordReader.java     | 6 ++++--
 .../exec/store/easy/sequencefile/SequenceFileRecordReader.java      | 2 +-
 .../java/org/apache/drill/exec/work/fragment/FragmentExecutor.java  | 2 +-
 6 files changed, 12 insertions(+), 6 deletions(-)

commit f5bdbf344bfbd069fd3f1143b23624457ace19a9
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Mon Oct 8 11:28:27 2018 -0700

    DRILL-6785: DataClient is using RootAllocator in the bootstrap instead of dataPool
    
    closes #1502

 .../src/main/java/org/apache/drill/exec/rpc/data/DataClient.java        | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a26d848643e8d7851d8651a4d6c1f366624c3a70
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Wed Oct 17 17:30:03 2018 -0700

    DRILL-6084: Show Drill functions in WebUI for autocomplete
    
    Building on top of DRILL-3988 and leveraging DRILL-5868, this allows support for Drill functions to be now available in the WebUI.
    If users wants UDFs to show up, they should place the UDF jars in the `$DRILL_HOME/jars/3rdparty` directory so that this can be loaded during the Drillbit's startup.
    Concept of internal Drill functions are introduced. With this, internal Drill functions like `ConvertToNullableXYZ` has been marked as internal.
    The WebUI will not show these functions. However, they are still visible in `sys.functions` table with an additional column indicating that it  is an internal function.
    Tests have been added as a part of this commit to verify the internal functions concept.

 .../CastEmptyStringVarTypesToNullableNumeric.java  |  2 +-
 .../codegen/templates/ConvertToNullableHolder.java |  3 +-
 .../exec/expr/annotations/FunctionTemplate.java    |  5 ++
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  4 +
 .../drill/exec/expr/fn/FunctionAttributes.java     |  4 +
 .../expr/fn/FunctionImplementationRegistry.java    |  4 +
 .../apache/drill/exec/expr/fn/ValueReference.java  |  9 +++
 .../apache/drill/exec/server/rest/WebServer.java   | 86 +++++++++++++++++++---
 .../drill/exec/store/sys/FunctionsIterator.java    | 10 ++-
 .../mode-sql.js => ace.mode-sql.template.js}       | 17 +----
 .../src/main/resources/rest/query/query.ftl        |  3 +-
 .../drill/exec/store/sys/TestSystemTable.java      |  7 ++
 .../exec/work/metadata/TestMetadataProvider.java   |  2 +-
 13 files changed, 125 insertions(+), 31 deletions(-)

commit 3d2ee04fad7800bdec8bb71665548344f3cd27ae
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Oct 11 19:25:17 2018 +0300

    DRILL-6797: Fix UntypedNull handling for complex types

 .../codegen/templates/EventBasedRecordWriter.java  |   3 +
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   2 +-
 .../exec/expr/fn/impl/CompareUntypedNull.java      |  73 ++++++++++++++
 .../exec/store/parquet/ParquetRecordWriter.java    |   7 +-
 .../java/org/apache/drill/TestUntypedNull.java     | 110 +++++++++++++++++++++
 .../codegen/templates/AbstractFieldReader.java     |   4 +
 .../main/codegen/templates/BasicTypeHelper.java    |   3 +
 .../drill/exec/vector/UntypedNullHolder.java       |   2 +-
 .../drill/exec/vector/UntypedNullVector.java       |   5 +-
 .../vector/complex/impl/AbstractBaseReader.java    |  11 +++
 .../complex/impl/UntypedHolderReaderImpl.java      |  51 ++++++++++
 .../exec/vector/complex/impl/UntypedReader.java    |  30 ++++++
 .../vector/complex/impl/UntypedReaderImpl.java     |  50 ++++++++++
 .../exec/vector/complex/reader/FieldReader.java    |   3 +-
 14 files changed, 349 insertions(+), 5 deletions(-)

commit ec6acc7ab6ee1a6eb326a4783189978bf55c0bcf
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Tue Oct 9 15:59:16 2018 +0300

    DRILL-6775: The schema for empty output is not shown in Drill Web UI
    
    Removed an excess check for the result emptiness that prevented retrieval of the column names.
    
    close apache/drill#1498

 .../main/java/org/apache/drill/exec/server/rest/QueryWrapper.java | 5 -----
 .../java/org/apache/drill/exec/server/rest/WebUserConnection.java | 8 ++++----
 2 files changed, 4 insertions(+), 9 deletions(-)

commit 2aede3a1cd1532fbcd0a622b49a3b9fce69979ef
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Mon Oct 8 16:50:22 2018 +0300

    DRILL-6783: CAST string literal as INTERVAL MONTH/YEAR works inconsistently when selecting from a table with multiple rows
    
    close apache/drill#1496

 .../drill/exec/fn/impl/TestCastFunctions.java      | 38 +++++++++++++++++++++-
 .../main/codegen/templates/FixedValueVectors.java  |  3 +-
 2 files changed, 39 insertions(+), 2 deletions(-)

commit 484bcfb1e237b6f8f9a244d344f36dcb86dedb61
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Tue Sep 11 14:39:13 2018 +0300

    DRILL-6777: Setup CircleCI configs for Drill
    
    - adding .circleci/config.yml to the project to launch CircleCI
    - custom memory parameters
    - usage of CircleCI machine
    - excluding "SlowTest" and "UnlikelyTest" groups
    - update maven version
    - adding libaio.so library to solve MySQL integration tests
    - update com.jcabi:jcabi-mysql-maven-plugin library version
    - TODO descriptions for the future enhancements of CircleCI build for Drill
    
    close apache/drill#1493

 .circleci/config.yml                               | 51 ++++++++++++++++++++++
 contrib/storage-jdbc/pom.xml                       |  2 +-
 .../exec/store/jdbc/TestJdbcPluginWithMySQLIT.java |  1 +
 3 files changed, 53 insertions(+), 1 deletion(-)

commit 0a3cfdebd25ea4186c2a2b75524c34323984ffca
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Mon May 21 19:11:23 2018 +0300

    DRILL-6473: Update MapR Hive
    
    close apache/drill#1307

 .../exec/store/hive/readers/HiveAbstractReader.java   | 19 +++++--------------
 contrib/storage-hive/hive-exec-shade/pom.xml          |  3 +++
 pom.xml                                               |  4 ++--
 3 files changed, 10 insertions(+), 16 deletions(-)

commit 734c46076b5df42be93aece1a363438d5c2a3e95
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Thu Oct 11 10:30:15 2018 -0700

    DRILL-3988: Expose Drill built-in functions & UDFs  in a system table (#1483)
    
    This commit exposes available SQL functions in Drill and also detects UDFs that have been dynamically loaded into Drill.
    An example is shown below for 2 UDFs dynamically loaded into the cluster, along side the existing built-in functions that come with Drill.
    
    ```
    0: jdbc:drill:schema=sys> select source, count(*) as functionCount from sys.functions group by source;
    +-----------------------------------------+----------------+
    |                 source                  | functionCount  |
    +-----------------------------------------+----------------+
    | built-in                                | 2704           |
    | simple-drill-function-1.0-SNAPSHOT.jar  | 12             |
    | drill-url-tools-1.0.jar                 | 1              |
    +-----------------------------------------+----------------+
    3 rows selected (0.209 seconds)
    ```
    
    The system table exposes information as shown. The UDF is initialized, making the `returnType` available.
    The `random(FLOAT8-REQUIRED,FLOAT8-REQUIRED)` function is an example of a UDF that has overloaded arguments (see `signature`).
    The `url_parse(VARCHAR-REQUIRED)` function is another example of an initialized UDF.
    Rest are built-in functions that meet the query's filter criteria.
    ```
    0: jdbc:drill:schema=sys> select * from sys.functions where name like 'random' or name like '%url%';
    +-------------+----------------------------------+-------------+-----------------------------------------+
    |    name     |            signature             | returnType  |                 source                  |
    +-------------+----------------------------------+-------------+-----------------------------------------+
    | parse_url   | VARCHAR-REQUIRED                 | LATE        | built-in                                |
    | random      |                                  | FLOAT8      | built-in                                |
    | random      | FLOAT8-REQUIRED,FLOAT8-REQUIRED  | FLOAT8      | simple-drill-function-1.0-SNAPSHOT.jar  |
    | url_decode  | VARCHAR-REQUIRED                 | VARCHAR     | built-in                                |
    | url_encode  | VARCHAR-REQUIRED                 | VARCHAR     | built-in                                |
    | url_parse   | VARCHAR-REQUIRED                 | LATE        | drill-url-tools-1.0.jar                 |
    +-------------+----------------------------------+-------------+-----------------------------------------+
    6 rows selected (0.619 seconds)
    ```

 .../expr/fn/FunctionImplementationRegistry.java    |  13 +++
 .../expr/fn/registry/FunctionRegistryHolder.java   |  34 ++++++
 .../expr/fn/registry/LocalFunctionRegistry.java    |   8 ++
 .../apache/drill/exec/ops/FragmentContextImpl.java |  14 +++
 .../apache/drill/exec/server/DrillbitContext.java  |   4 +-
 .../drill/exec/store/sys/FunctionsIterator.java    | 128 +++++++++++++++++++++
 .../apache/drill/exec/store/sys/SystemTable.java   |   9 +-
 .../fn/registry/FunctionRegistryHolderTest.java    | 121 +++++++++++++++----
 .../drill/exec/store/sys/TestSystemTable.java      |   5 +
 .../exec/work/metadata/TestMetadataProvider.java   |  74 ++++++------
 10 files changed, 342 insertions(+), 68 deletions(-)

commit 1db58bb3fbc3828a3dcb16c31350c82c41b03188
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Mon Oct 8 13:55:03 2018 +0300

    DRILL-6776: Removed external jQuery dependency

 exec/java-exec/src/main/resources/rest/generic.ftl | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 0a3ebc24d941f75841dcb2a6251e22d2a988c46c
Author: weijie.tong <weijie.tong@alipay.com>
Date:   Tue Oct 9 20:28:22 2018 +0800

    DRILL-6731: use thread pool to run the runtime filter aggregating work
    closes #1459

 .../org/apache/drill/exec/ops/FragmentContextImpl.java   | 10 ++++++----
 .../apache/drill/exec/work/filter/RuntimeFilterSink.java | 16 ++++++++--------
 .../test/java/org/apache/drill/test/OperatorFixture.java |  3 ++-
 .../org/apache/drill/test/PhysicalOpUnitTestBase.java    |  2 +-
 4 files changed, 17 insertions(+), 14 deletions(-)

commit de76e135316086386e2f7edd04ec1d5ca479bc59
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Wed Sep 26 13:20:02 2018 -0700

    DRILL-6731: Resolving race conditions in RuntimeFilterSink
    Add condition variable to avoid starvation of producer thread while acquiring queue lock

 .../physical/visitor/RuntimeFilterVisitor.java     |  12 +-
 .../drill/exec/work/filter/RuntimeFilterSink.java  | 127 +++++++++++++++------
 .../exec/work/filter/RuntimeFilterWritable.java    |  36 +++---
 3 files changed, 114 insertions(+), 61 deletions(-)

commit 216b1237739935b04c4f54b3f6f05371a4644085
Author: weijie.tong <weijie.tong@alipay.com>
Date:   Thu Sep 6 19:23:35 2018 +0800

    DRILL-6731: Move the BFs aggregating work from the Foreman to the RuntimeFilter

 .../org/apache/drill/exec/ops/FragmentContext.java |   8 +-
 .../apache/drill/exec/ops/FragmentContextImpl.java |  16 +-
 .../impl/filter/RuntimeFilterRecordBatch.java      |  43 ++++--
 .../exec/physical/impl/join/HashJoinBatch.java     |   5 +-
 .../physical/visitor/RuntimeFilterVisitor.java     |  24 ++-
 .../org/apache/drill/exec/work/WorkManager.java    |   4 +-
 .../exec/work/filter/RuntimeFilterReporter.java    |   5 +-
 ...FilterManager.java => RuntimeFilterRouter.java} |  60 ++------
 .../drill/exec/work/filter/RuntimeFilterSink.java  | 171 +++++++++++++++++++++
 .../exec/work/filter/RuntimeFilterWritable.java    |  34 +++-
 .../apache/drill/exec/work/foreman/Foreman.java    |  16 +-
 .../org/apache/drill/test/OperatorFixture.java     |  11 +-
 .../apache/drill/test/PhysicalOpUnitTestBase.java  |  12 +-
 .../java/org/apache/drill/exec/proto/BitData.java  | 127 ++++++++++++++-
 .../org/apache/drill/exec/proto/SchemaBitData.java |   7 +
 .../drill/exec/proto/beans/RuntimeFilterBDef.java  |  22 +++
 protocol/src/main/protobuf/BitData.proto           |   1 +
 17 files changed, 448 insertions(+), 118 deletions(-)

commit d5146c43986f09f132f4e96966082732a3740181
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Mon Oct 1 14:15:33 2018 -0700

    DRILL-6766: Lateral Unnest query : IllegalStateException - rowId in right batch of lateral is smaller than rowId in left batch being processed
    Note: Issue was in StreamingAgg where if output from one or multiple input batch was splitting into multiple output batch, then remaining input
    records were discarded after producing first output batch
    closes #1490

 .../physical/impl/aggregate/StreamingAggBatch.java |  74 +++--
 .../impl/aggregate/StreamingAggTemplate.java       |  56 ++--
 .../impl/aggregate/StreamingAggregator.java        |  19 +-
 .../exec/physical/impl/join/LateralJoinBatch.java  |   4 +-
 .../exec/physical/impl/unnest/UnnestImpl.java      |  12 +-
 .../drill/exec/record/AbstractRecordBatch.java     |  10 +-
 .../impl/agg/TestStreamingAggEmitOutcome.java      | 315 ++++++++++++++++++++-
 7 files changed, 423 insertions(+), 67 deletions(-)

commit eb802710804e87e3b185872e712e7a339823a791
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Wed Oct 10 09:19:33 2018 -0700

    DRILL-6788: Intermittent unit test failure TestDrillbitResilience.failsWhenParsing: Query state should be FAILED (and not COMPLETED)
    closes #1499

 .../java/org/apache/drill/exec/server/TestDrillbitResilience.java     | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 55ac52390877dcaa4a811f570d1eb41aca240bf0
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Mon Oct 8 10:16:44 2018 -0700

    DRILL-6410: Fixed memory leak in flat Parquet reader

 .../parquet/columnreaders/AsyncPageReader.java     |   9 +-
 .../exec/util/concurrent/ExecutorServiceUtil.java  | 194 ++++++++++
 .../drill/exec/util/ExecutorServiceUtilTest.java   | 419 +++++++++++++++++++++
 exec/jdbc-all/pom.xml                              |   4 +-
 4 files changed, 620 insertions(+), 6 deletions(-)

commit a2533917b0bc387711060c739dfb9844896fe4be
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Tue Jun 26 13:09:15 2018 +0300

    DRILL-6541: Upgrade ZooKeeper patch version to 3.4.11 for mapr profile
    
    closes #1398

 contrib/storage-hbase/pom.xml | 1 +
 pom.xml                       | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit d5bafeccfc4d8dc19b7f22cfae807fa56b62340a
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Fri Oct 5 16:21:55 2018 +0300

    DRILL-6773: The renamed schema with aliases is not shown for queries on empty directories
    
    closes #1492

 .../store/mapr/db/MapRDBPushFilterIntoScan.java    |  4 +--
 .../exec/store/hbase/HBasePushFilterIntoScan.java  |  2 +-
 .../store/kafka/KafkaPushDownFilterIntoScan.java   |  2 +-
 .../store/mongo/MongoPushDownFilterForScan.java    |  2 +-
 .../drill/exec/physical/base/SchemalessScan.java   |  6 ++++
 .../physical/impl/project/ProjectRecordBatch.java  |  2 +-
 .../planner/physical/ConvertCountToDirectScan.java |  2 +-
 .../exec/planner/physical/ProjectAllowDupPrel.java | 14 +++++---
 .../drill/exec/planner/physical/ProjectPrel.java   |  2 +-
 .../drill/exec/planner/physical/ScanPrel.java      | 12 +++----
 .../drill/exec/planner/physical/ScanPrule.java     |  2 +-
 .../physical/visitor/StarColumnConverter.java      | 26 ++++++++++-----
 .../planner/sql/handlers/DefaultSqlHandler.java    |  1 +
 .../InfoSchemaPushFilterIntoRecordGenerator.java   |  2 +-
 .../exec/store/parquet/ParquetPushDownFilter.java  |  2 +-
 .../test/java/org/apache/drill/TestUnionAll.java   |  4 ++-
 .../java/org/apache/drill/TestUnionDistinct.java   |  4 ++-
 .../org/apache/drill/exec/TestEmptyInputSql.java   | 37 +++++++++++++++++++---
 18 files changed, 89 insertions(+), 37 deletions(-)

commit 778e043f284921792403f6dc595050793a47ee02
Author: Hanumath Rao Maduri <hanu.ncr@gmail.com>
Date:   Tue Oct 2 16:32:38 2018 -0700

    DRILL-6764: Query fails with IOB when Unnest has reference to deep nested field like (t.c_orders.o_lineitems).
    
    closes #1487

 .../planner/sql/handlers/ComplexUnnestVisitor.java |  11 +-
 .../impl/lateraljoin/TestLateralPlans.java         |  20 +++
 .../resources/lateraljoin/nested-customer-map.json | 134 +++++++++++++++++++++
 3 files changed, 161 insertions(+), 4 deletions(-)

commit 2bd26ffe34108f876184c63188122f2d49db4c4a
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Sep 28 20:47:40 2018 +0200

    DRILL-6762: Fix dynamic UDFs versioning issue
    
    1. Added UndefinedVersionDelegatingStore to serve as versioned wrapper for those stores that do not support versioning.
    2. Aligned remote and local function registries version type. Type will be represented as int since ZK version is returned as int.
    3. Added NOT_AVAILABLE and UNDEFINED versions to DataChangeVersion holder to indicate proper registry state.
    4. Added additional trace logging.
    5. Minor refactoring and clean up.
    
    closes #1484

 .../drill/common/exceptions/ErrorHelper.java       | 13 ++++
 .../common/util/function/CheckedFunction.java      | 63 +++++++++++++++++
 .../common/util/function}/CheckedSupplier.java     |  4 +-
 .../common/util/function/TestCheckedFunction.java  | 53 ++++++++++++++
 .../exec/coord/store/TransientStoreFactory.java    |  2 +-
 .../expr/fn/FunctionImplementationRegistry.java    | 51 +++++++++-----
 .../expr/fn/registry/FunctionRegistryHolder.java   | 55 +++++++--------
 .../expr/fn/registry/LocalFunctionRegistry.java    | 20 +++---
 .../expr/fn/registry/RemoteFunctionRegistry.java   | 43 ++++++------
 .../drill/exec/planner/sql/DrillOperatorTable.java |  6 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 11 +--
 .../exec/store/sys/PersistentStoreProvider.java    | 23 ++++--
 .../exec/store/sys/store/DataChangeVersion.java    | 10 ++-
 .../sys/store/UndefinedVersionDelegatingStore.java | 82 ++++++++++++++++++++++
 .../store/sys/store/VersionedDelegatingStore.java  | 14 ++--
 .../provider/CachingPersistentStoreProvider.java   | 51 +++++++-------
 .../sys/store/provider/InMemoryStoreProvider.java  | 12 +++-
 .../provider/LocalPersistentStoreProvider.java     |  6 ++
 .../fn/registry/FunctionRegistryHolderTest.java    | 75 +++++++++-----------
 .../exec/udf/dynamic/TestDynamicUDFSupport.java    | 18 ++---
 .../java/org/apache/drill/test/PrintingUtils.java  |  2 +-
 21 files changed, 438 insertions(+), 176 deletions(-)

commit 0ca84ea40812527b481c5a052687021b43fdfc88
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Oct 2 16:48:53 2018 +0300

    DRILL-6759: Make columns array name for csv data case insensitive
    
    closes #1485

 .../easy/text/compliant/RepeatedVarCharOutput.java |  2 +-
 .../drill/exec/store/text/TestTextColumn.java      | 23 +++++++++++++++++++---
 2 files changed, 21 insertions(+), 4 deletions(-)

commit 9d3c4f740297d2cb03165b02182bafa7021d48f9
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   Tue Oct 2 20:45:11 2018 +0300

    DRILL-6765: Exclude unused shaded guava classes from drill-jdbc-all jar
    
    closes #1486

 exec/jdbc-all/pom.xml | 34 ++++++++++++++++------------------
 1 file changed, 16 insertions(+), 18 deletions(-)

commit 3b1ae159b94ef7c1d67ddde474c75d5558d3e50a
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Tue Sep 25 19:07:10 2018 -0700

    DRILL-6755: Avoid building Hash Table for inner/left join when probe side is empty
    
    - Preparations and cleanup for DRILL-6755
    
    clsoes #1480

 .../exec/physical/impl/join/HashJoinBatch.java     | 60 ++++++++++++++--------
 .../exec/record/AbstractBinaryRecordBatch.java     |  2 +-
 .../drill/exec/work/batch/BaseRawBatchBuffer.java  |  2 +-
 .../physical/impl/join/TestHashJoinOutcome.java    | 43 ++++++++++++++++
 4 files changed, 84 insertions(+), 23 deletions(-)

commit 98e5de3b5af862779244bac8329852b3c9a901df
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Fri Aug 31 18:20:34 2018 +0300

    DRILL-6724: Dump operator context to logs when error occurs during query execution
    
    closes #1455

 .../drill/common/exceptions/UserException.java     |   4 +-
 .../common/exceptions/UserExceptionContext.java    |  19 ++-
 .../store/mapr/db/json/MaprDBJsonRecordReader.java |  17 ++-
 .../drill/exec/store/hbase/HBaseRecordReader.java  |   5 +
 .../store/hive/readers/HiveAbstractReader.java     |  15 ++
 .../drill/exec/store/jdbc/JdbcRecordReader.java    |   8 +-
 .../drill/exec/store/kafka/KafkaRecordReader.java  |  26 +++-
 .../store/kafka/decoders/JsonMessageReader.java    |   4 +
 .../drill/exec/store/kudu/KuduRecordReader.java    |  11 ++
 .../apache/drill/exec/store/kudu/KuduWriter.java   |   5 +
 .../drill/exec/store/mongo/MongoRecordReader.java  |   5 +
 .../drill/exec/physical/config/HashAggregate.java  |   8 ++
 .../physical/config/OrderedPartitionSender.java    |  11 ++
 .../drill/exec/physical/config/PartitionLimit.java |   5 +
 .../apache/drill/exec/physical/config/Sort.java    |   7 +
 .../apache/drill/exec/physical/config/TopN.java    |   7 +
 .../drill/exec/physical/config/WindowPOP.java      |  16 +++
 .../drill/exec/physical/impl/BaseRootExec.java     |  23 +++
 .../apache/drill/exec/physical/impl/RootExec.java  |   6 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |  30 +++-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |   9 +-
 .../exec/physical/impl/WriterRecordBatch.java      |   6 +
 .../exec/physical/impl/aggregate/HashAggBatch.java |   9 ++
 .../physical/impl/aggregate/HashAggTemplate.java   |   9 ++
 .../impl/aggregate/SpilledRecordbatch.java         |  35 ++++-
 .../physical/impl/aggregate/StreamingAggBatch.java |   6 +
 .../impl/aggregate/StreamingAggTemplate.java       |  10 ++
 .../physical/impl/filter/FilterRecordBatch.java    |   8 ++
 .../exec/physical/impl/filter/FilterTemplate2.java |   7 +
 .../exec/physical/impl/filter/FilterTemplate4.java |   6 +
 .../impl/filter/RuntimeFilterRecordBatch.java      |   9 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |   6 +
 .../physical/impl/flatten/FlattenTemplate.java     |  11 ++
 .../exec/physical/impl/join/HashJoinBatch.java     |   6 +
 .../physical/impl/join/HashJoinProbeTemplate.java  |  13 ++
 .../exec/physical/impl/join/LateralJoinBatch.java  |   8 ++
 .../exec/physical/impl/join/MergeJoinBatch.java    |   7 +
 .../physical/impl/join/NestedLoopJoinBatch.java    |   8 ++
 .../exec/physical/impl/limit/LimitRecordBatch.java |  74 +++++-----
 .../impl/limit/PartitionLimitRecordBatch.java      |  10 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |   8 ++
 .../OrderedPartitionRecordBatch.java               |   6 +
 .../impl/producer/ProducerConsumerBatch.java       |   5 +
 .../physical/impl/project/ProjectRecordBatch.java  |   6 +
 .../physical/impl/project/ProjectorTemplate.java   |   6 +
 .../impl/protocol/OperatorRecordBatch.java         |  18 ++-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   4 +
 .../exec/physical/impl/sort/SortTemplate.java      |   4 +
 .../impl/svremover/RemovingRecordBatch.java        |   5 +
 .../exec/physical/impl/trace/TraceRecordBatch.java |   6 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |   5 +
 .../exec/physical/impl/unnest/UnnestImpl.java      |  10 ++
 .../physical/impl/unnest/UnnestRecordBatch.java    |   7 +-
 .../unorderedreceiver/UnorderedReceiverBatch.java  |  36 +++--
 .../validate/IteratorValidatorBatchIterator.java   |  13 +-
 .../physical/impl/window/FrameSupportTemplate.java |  11 ++
 .../impl/window/NoFrameSupportTemplate.java        |  11 ++
 .../exec/physical/impl/window/WindowDataBatch.java |   5 +
 .../impl/window/WindowFrameRecordBatch.java        |   7 +
 .../physical/impl/xsort/ExternalSortBatch.java     |   4 +
 .../exec/physical/impl/xsort/MSortTemplate.java    |   9 ++
 .../impl/xsort/SingleBatchSorterTemplate.java      |   5 +
 .../impl/xsort/managed/ExternalSortBatch.java      |   7 +
 .../physical/impl/xsort/managed/SortConfig.java    |   9 ++
 .../exec/physical/impl/xsort/managed/SortImpl.java |   8 ++
 .../drill/exec/record/AbstractRecordBatch.java     |  50 +++++--
 .../record/AbstractTableFunctionRecordBatch.java   |   1 -
 .../org/apache/drill/exec/record/RecordBatch.java  |  15 ++
 .../drill/exec/record/RecordBatchLoader.java       |   8 ++
 .../apache/drill/exec/record/RecordIterator.java   |  14 ++
 .../apache/drill/exec/record/SchemalessBatch.java  |  10 ++
 .../drill/exec/record/SimpleRecordBatch.java       |  13 ++
 .../exec/record/selection/SelectionVector4.java    |   9 ++
 .../drill/exec/store/AbstractRecordReader.java     |   1 -
 .../org/apache/drill/exec/store/RecordReader.java  |   4 +-
 .../apache/drill/exec/store/StorageStrategy.java   |   7 +-
 .../drill/exec/store/avro/AvroRecordReader.java    |  15 +-
 .../drill/exec/store/bson/BsonRecordReader.java    |  25 ++--
 .../drill/exec/store/dfs/easy/EasyWriter.java      |   8 ++
 .../exec/store/easy/json/JSONRecordReader.java     |  46 +++---
 .../drill/exec/store/easy/json/JsonProcessor.java  |  16 +--
 .../store/easy/json/reader/BaseJsonProcessor.java  |  48 ++++---
 .../store/easy/json/reader/CountingJsonReader.java |  14 +-
 .../sequencefile/SequenceFileRecordReader.java     |  17 ++-
 .../text/compliant/CompliantTextRecordReader.java  |   9 +-
 .../exec/store/easy/text/compliant/TextReader.java |   8 ++
 .../exec/store/httpd/HttpdLogFormatPlugin.java     |   8 ++
 .../drill/exec/store/image/ImageRecordReader.java  |   7 +-
 .../drill/exec/store/log/LogRecordReader.java      |   9 +-
 .../drill/exec/store/parquet/ParquetWriter.java    |   7 +
 .../parquet/columnreaders/ParquetRecordReader.java |  10 ++
 .../exec/store/parquet2/DrillParquetReader.java    |   5 +
 .../drill/exec/store/pcap/PcapRecordReader.java    |   5 +
 .../exec/store/text/DrillTextRecordReader.java     |   9 ++
 .../drill/exec/vector/complex/fn/JsonReader.java   |  62 +++-----
 .../drill/exec/work/fragment/FragmentExecutor.java |   4 +
 .../parquet/hadoop/ColumnChunkIncReadStore.java    |   5 +
 .../java/org/apache/drill/TestOperatorDump.java    | 159 +++++++++++++++++++++
 .../drill/exec/physical/impl/MockRecordBatch.java  |   9 ++
 .../drill/exec/physical/impl/SimpleRootExec.java   |   5 +
 .../physical/impl/unnest/MockLateralJoinBatch.java |   9 ++
 .../drill/exec/work/filter/BloomFilterTest.java    |   9 ++
 .../java/org/apache/drill/test/LogFixture.java     |  12 +-
 103 files changed, 1165 insertions(+), 211 deletions(-)

commit 3bc3b66919536dc94015dc23ce43e7254623de5d
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Fri Sep 21 15:19:33 2018 +0300

    DRILL-5782: Web UI: do not attempt to build visualized plan when plan is absent
    
    Added checks for undefined values. Now there are no js errors and also a JSON profile is now displayed for incorrect queries.
    
    closes #1476

 .../src/main/resources/rest/static/js/graph.js        | 19 +++++++++++--------
 1 file changed, 11 insertions(+), 8 deletions(-)

commit e82f5ef689f1051b6cffc17921462e8e5524629b
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Sun Sep 16 21:01:15 2018 -0700

    DRILL-6746: Query can hang when PartitionSender task thread sees a connection failure while sending data batches to remote fragment
    
    closes #1470

 .../drill/exec/work/batch/BaseRawBatchBuffer.java  | 39 ++++++++++++++++++----
 .../exec/work/batch/SpoolingRawBatchBuffer.java    | 17 ++++++----
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   | 10 ++++++
 3 files changed, 54 insertions(+), 12 deletions(-)

commit 2a8d5bb546a629aab60b95edd496ecedd81fd23f
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Sep 21 15:44:14 2018 +0300

    DRILL-6752: Surround Drill quotes with double quotes
    
    1. Surround Drill quotes with double quotes.
    2. Remove drill-sqlline-test.conf, use drill-sqlline.conf for tests instead.
    
    closes #1475

 .../resources/drill-sqlline-override-example.conf  |  2 +-
 .../src/main/resources/drill-sqlline.conf          | 58 +++++++++++-----------
 .../exec/client/DrillSqlLineApplicationTest.java   |  8 +--
 .../resources/drill-sqlline-test-override.conf     |  5 +-
 .../src/test/resources/drill-sqlline-test.conf     | 40 ---------------
 5 files changed, 38 insertions(+), 75 deletions(-)

commit c1bd6f60476c1fc2bceba7dd73652dfd5f063454
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Sep 21 16:25:37 2018 +0300

    DRILL-6753: Fix show files command to return result the same way as before
    
    1. Add ACCESS_TIME column.
    2. Re-write show files command to return result using ShowFilesCommandResult to maintain backward compatibility.
    
    closes #1477

 .../planner/sql/handlers/ShowFilesHandler.java     |  98 ++++++++++----------
 .../exec/store/ischema/InfoSchemaConstants.java    |   1 +
 .../drill/exec/store/ischema/InfoSchemaTable.java  |  10 +-
 .../apache/drill/exec/store/ischema/Records.java   |  25 ++++-
 .../impersonation/TestImpersonationMetadata.java   |  47 ++++------
 .../org/apache/drill/exec/sql/TestInfoSchema.java  |   1 -
 .../drill/exec/store/ischema/TestFilesTable.java   | 103 +++++++++++----------
 .../exec/work/metadata/TestMetadataProvider.java   |   2 +-
 8 files changed, 154 insertions(+), 133 deletions(-)

commit 87ed03f43f836f44dd375b09d7b1a5adf588b0c1
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Wed Sep 19 13:23:32 2018 -0700

    DRILL-6747:
    
     - Fixed IOB in HashJoin for inner and right joins on empty probe side.
     - Documentated expected behavior of RecordBatch after returning NONE.
     - Made UnorderedReceiver obey contract after returning NONE.

 .../physical/impl/unorderedreceiver/UnorderedReceiverBatch.java   | 2 +-
 .../src/main/java/org/apache/drill/exec/record/RecordBatch.java   | 8 ++++++++
 .../main/java/org/apache/drill/exec/record/RecordBatchLoader.java | 8 ++++++++
 3 files changed, 17 insertions(+), 1 deletion(-)

commit 4596b74232c972df226c3926824f41bd479669d6
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Tue Sep 18 20:21:32 2018 +0300

    DRILL-6630: Extra spaces are ignored while publishing results in Drill Web UI (#1468)
    
    Added a style option to the table to ensure that all explicit spaces are shown in the published results.

 exec/java-exec/src/main/resources/rest/query/result.ftl | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8f164bc4081ea3b825553ec9215df5b068eec67a
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Sep 7 16:42:17 2018 +0000

    DRILL-3853: Upgrade to SqlLine 1.5.0
    closes #1462

 contrib/pom.xml                                    |   1 -
 contrib/sqlline/pom.xml                            |  54 ------
 distribution/pom.xml                               |   4 -
 distribution/src/assemble/bin.xml                  |   5 +
 .../resources/drill-sqlline-override-example.conf  |  31 ++++
 distribution/src/resources/sqlline                 |   2 +-
 distribution/src/resources/sqlline.bat             |  17 +-
 exec/java-exec/pom.xml                             |   4 +
 .../drill/exec/client/DrillSqlLineApplication.java | 193 +++++++++++++++++++++
 .../org/apache/drill/exec/server/Drillbit.java     |   4 +
 .../src/main/resources/drill-sqlline.conf          |  88 ++++++++++
 .../exec/client/DrillSqlLineApplicationTest.java   | 113 ++++++++++++
 .../resources/drill-sqlline-test-override.conf     |  30 ++++
 .../src/test/resources/drill-sqlline-test.conf     |  40 +++++
 exec/jdbc-all/pom.xml                              |   4 +
 pom.xml                                            |   7 +-
 16 files changed, 518 insertions(+), 79 deletions(-)

commit 6ff854b79f4139237d20bd9a4fbd256f8ce4c0f2
Author: Abhishek Ravi <abhi.ravi@gmail.com>
Date:   Mon Sep 10 23:07:12 2018 -0700

    DRILL-6625: Intermittent failures in Kafka unit tests
    Unit test changes to fix intermittent kafka producer and consumer errors.
    
    - Increase the value of REQUEST_TIMEOUT_MS_CONFIG to accomadate slower systems.
    - Increase the value of producer RETRIES_CONFIG to 3 (from 0).
    - Prevent producer to send duplicate messages due to retries by enabling Idempotent producer.
    - Increase consumer poll timeout (from 200 ms).
    
    - The design of `TestKafkaSuit` is very similar to design of `MongoTestSuit` and hence would require changes similar to the ones made in [storage-mongo/pom.xml](https://github.com/apache/drill/pull/923/commits/f5dfa56f33a46b92e2f9de153d82a16a77642ddf#diff-e110e2cbfd77d27e85d5121529c612bfR83).
    
    - Current behavior is surefire runs test classes twice - once as a part of `TestKafkaSuit` and the other by directly running classes. To prevent the latter from happening, changes were made in `pom.xml` for `storage-mongo` plugin.
    
    closes #1463

 contrib/storage-kafka/pom.xml                      | 26 ++++++++++++++++++++++
 .../exec/store/kafka/KafkaFilterPushdownTest.java  |  5 +++++
 .../exec/store/kafka/KafkaMessageGenerator.java    |  5 +++--
 .../drill/exec/store/kafka/KafkaTestBase.java      |  2 +-
 .../drill/exec/store/kafka/TestKafkaSuit.java      |  1 +
 5 files changed, 36 insertions(+), 3 deletions(-)

commit b28355c0581529168a5962d3f41242166033a01c
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Aug 30 13:46:59 2018 +0300

    DRILL-1248: Allow positional / named aliases in group by / having clauses

 .../drill/exec/planner/sql/DrillConformance.java   | 25 ++++++--
 .../drill/exec/fn/impl/TestAggregateFunctions.java |  4 +-
 .../org/apache/drill/exec/sql/TestConformance.java | 68 +++++++++++++++++++---
 pom.xml                                            |  2 +-
 4 files changed, 84 insertions(+), 15 deletions(-)

commit 12af476247789a1decba8d4c715bd6c41d6690e8
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Fri Jul 20 16:59:24 2018 +0300

    DRILL-6544: Allow timestamp / date / time formatting when displaying on Web UI
    
    Added the following options that are setting the format pattens:
    web.timestamp.display_format, web.date.display_format, web.time.display_format.
    See https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html for the details about acceptable values.
    Default formatting is used, if the corresponding option has empty string.

 .../java/org/apache/drill/exec/ExecConstants.java  |  22 ++++
 .../exec/server/options/SystemOptionManager.java   |   3 +
 .../drill/exec/server/options/TypeValidators.java  |  26 ++++
 .../drill/exec/server/rest/WebUserConnection.java  |   6 +-
 .../exec/util/ValueVectorElementFormatter.java     | 121 +++++++++++++++++
 .../java-exec/src/main/resources/drill-module.conf |   3 +
 .../exec/util/TestValueVectorElementFormatter.java | 145 +++++++++++++++++++++
 7 files changed, 325 insertions(+), 1 deletion(-)

commit c6df1d0e8654369fa8f4f98a371a08290510c95e
Author: shuifeng lu <lushuifeng@gmail.com>
Date:   Fri Sep 7 15:03:47 2018 +0800

    DRILL-6732: Queries are runnable on disable plugins (#1460)

 .../org/apache/calcite/jdbc/DynamicRootSchema.java |  2 +-
 .../exec/store/StoragePluginRegistryImpl.java      |  1 +
 .../drill/exec/store/store/TestDisabledPlugin.java | 80 ++++++++++++++++++++++
 .../java/org/apache/drill/test/ClusterFixture.java |  1 +
 .../drill/test/ClusterMockStorageFixture.java      |  1 +
 5 files changed, 84 insertions(+), 1 deletion(-)

commit 2bb0294026960d0cec3bb78516b168ff231d2096
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Tue Sep 11 12:31:41 2018 +0300

    DRILL-6733: Unit tests from KafkaFilterPushdownTest are failing in some environments.
    
    Added a check that prevents the cluster tear down if TestKafkaSuit is not running.

 .../test/java/org/apache/drill/exec/store/kafka/KafkaTestBase.java    | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit f88a73c9e7a75f2d08cc54188816f591b003eff4
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Aug 23 21:19:43 2018 +0300

    DRILL-6705: Fix various failures in Crypto / Network / Phonetic functions when invalid input is given
    
    1. aes_decrypt / aes_ecrypt - moved cyper init part into eval method since it not a constant and can be different for each input
    2. double_metaphone - fixed NPE when given string is empty
    3. in_network / address_count / broadcast_address / netmask / low_address / high_address / - fixed IllegalArgumentException in case of invalid input
    4. is_private_ip / inet_aton - fixed ArrayIndexOutOfBoundsException / NumberFormatException in case of invalid input
    5. is_valid_IP / is_valid_IPv4 / is_valid_IPv6 - removed unnecessary checks
    6. Added appropriate unit tests
    
    closes #1443

 .../apache/drill/exec/udfs/CryptoFunctions.java    |  58 ++----
 .../apache/drill/exec/udfs/NetworkFunctions.java   | 223 ++++++++++-----------
 .../apache/drill/exec/udfs/PhoneticFunctions.java  |   1 +
 .../drill/exec/udfs/TestCryptoFunctions.java       |  46 ++++-
 .../drill/exec/udfs/TestNetworkFunctions.java      | 139 +++++++++++--
 .../drill/exec/udfs/TestPhoneticFunctions.java     |  10 +-
 6 files changed, 299 insertions(+), 178 deletions(-)

commit ea83672edc75fe379a4e19764232b10f5199d06e
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Fri Jul 13 16:20:33 2018 -0700

    DRILL-5365: Enforced DrillFileSystem immutability.
    
    closes #1296

 .../physical/impl/xsort/ExternalSortBatch.java     |  2 +-
 .../drill/exec/store/dfs/DrillFileSystem.java      | 70 ++++++++++++++++------
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  2 +-
 3 files changed, 55 insertions(+), 19 deletions(-)

commit 32acc0b43640c125298a83985c601726f7c3f41d
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Sep 4 14:24:21 2018 +0000

    DRILL-6726: Fix case sensitivity issues for views created before DRILL-6492
    
    closes #1458

 .../java/org/apache/drill/exec/dotdrill/View.java  | 28 ++++++++++++----------
 1 file changed, 15 insertions(+), 13 deletions(-)

commit fe038a364844891e53e04e37fb3ce707f129fb29
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue Sep 4 13:55:27 2018 -0700

    DRILL-6729: Enable Unnest/Lateral Join feature by default
    Remove redundant option key in ExecConstants
    
    closes #1456

 .../java/org/apache/drill/exec/ExecConstants.java  |  1 -
 .../java-exec/src/main/resources/drill-module.conf |  2 +-
 .../impl/lateraljoin/TestE2EUnnestAndLateral.java  |  3 +--
 .../impl/lateraljoin/TestLateralPlans.java         | 28 +++++++++++-----------
 4 files changed, 16 insertions(+), 18 deletions(-)

commit 85ebae5f1b447d1ec60e062ab9e00da7f3d186fb
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Fri Aug 24 08:55:52 2018 -0700

    DRILL-6709: Extended the batch stats utility to other operators
    
    closes #1444

 .../apache/drill/exec/physical/impl/ScanBatch.java |   3 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java |  26 ++---
 .../physical/impl/aggregate/HashAggTemplate.java   |   8 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |  28 ++---
 .../exec/physical/impl/join/HashJoinBatch.java     |  45 ++++----
 .../exec/physical/impl/join/LateralJoinBatch.java  |  57 +++++-----
 .../exec/physical/impl/join/MergeJoinBatch.java    |  48 +++++----
 .../physical/impl/join/NestedLoopJoinBatch.java    |  32 +++---
 .../physical/impl/join/NestedLoopJoinTemplate.java |   7 +-
 .../impl/project/ProjectMemoryManager.java         |   8 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   7 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |  44 ++++----
 .../physical/impl/unnest/UnnestRecordBatch.java    |  26 +++--
 .../drill/exec/record/AbstractRecordBatch.java     |  11 ++
 .../batchsizing/OverflowSerDeUtil.java             |   6 +-
 .../drill/exec/util/record/RecordBatchStats.java   | 118 ++++++++++++++++++---
 16 files changed, 300 insertions(+), 174 deletions(-)

commit fa0d78d16eaf35d30d95613913a5613b2a82280d
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Mon Aug 27 23:16:35 2018 -0700

    DRILL-6710: Disallow negative scale for decimal data type

 .../native/client/src/protobuf/UserBitShared.pb.cc |  15 +-
 .../native/client/src/protobuf/UserBitShared.pb.h  |   2 +-
 .../Decimal/DecimalAggrTypeFunctions1.java         |   5 +-
 .../Decimal/DecimalAggrTypeFunctions3.java         |   1 +
 .../templates/Decimal/DecimalFunctions.java        |   6 +-
 .../expr/fn/output/DecimalReturnTypeInference.java |   2 +-
 .../decimal/DecimalScalePrecisionAddFunction.java  |   2 +-
 .../DecimalScalePrecisionDivideFunction.java       |   1 +
 .../decimal/DecimalScalePrecisionModFunction.java  |   4 +-
 .../decimal/DecimalScalePrecisionMulFunction.java  |   3 +-
 .../decimal/DrillBaseComputeScalePrecision.java    |  13 +-
 .../java/org/apache/drill/TestFunctionsQuery.java  | 277 +++++++++++----------
 .../exec/fn/impl/TestVarDecimalFunctions.java      |  56 ++++-
 13 files changed, 234 insertions(+), 153 deletions(-)

commit cc75188d0ce70f102786f69aa070255dd406ff3c
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Tue Sep 4 17:11:10 2018 -0700

    DRILL-6702: Disable CPU Reporting for non-HotSpot JDKs
    
    When running Drill on the IBM JDK (J9), the webUI throws an ClassCastException :
    Caused by: java.lang.ClassCastException: com.ibm.lang.management.ExtendedOperatingSystem incompatible with com.sun.management.OperatingSystemMXBean
    
    This PR simply disables that, since Drill should ideally be recompiled with these alternative JDKs.

 .../org/apache/drill/exec/metrics/CpuGaugeSet.java  | 21 ++++++++++++++++-----
 1 file changed, 16 insertions(+), 5 deletions(-)

commit 14ad83883742503ea791f1c6cd3c419322527b98
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Tue Sep 4 17:00:05 2018 -0700

    DRILL-6684: Swap sys.options and sys.options_val tables
    
    The current `sys.options` table has a verbose layout, because of which `sys.options_internal` was introduced. The latter also supports descriptions, which means it makes sense to have that table as the new `sys.options`.
    This PR deprecates the old format, so that any dependencies continue to make use of it as long as required.

 .../apache/drill/exec/store/sys/SystemTable.java   | 10 +--
 .../drill/exec/fn/impl/TestAggregateFunctions.java |  2 +-
 .../org/apache/drill/exec/server/TestOptions.java  | 75 ++++++++++++++--------
 .../drill/exec/server/TestOptionsAuthEnabled.java  |  6 +-
 .../exec/server/options/TestConfigLinkage.java     | 44 ++++++-------
 .../drill/exec/store/sys/TestPStoreProviders.java  |  4 +-
 .../drill/exec/store/sys/TestSystemTable.java      |  8 +--
 .../exec/work/metadata/TestMetadataProvider.java   | 18 +++---
 8 files changed, 97 insertions(+), 70 deletions(-)

commit bc9502a47bd619cf7c0b9d5965055338376a77ea
Author: ozinoviev <ozinoviev@solit-clouds.ru>
Date:   Mon Aug 27 17:14:21 2018 +0300

    DRILL-6712: Creation of jdbc storage plugin fails with NoSuchMethod
    closes #1447

 exec/java-exec/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7ec1d2088c5acc719f063ea82d8fa51962831cb1
Author: Paul Rogers <progers@cloudera.com>
Date:   Thu Aug 9 16:34:12 2018 -0700

    DRILL-6676: Add Union, List and Repeated List types to Result Set Loader
    
    Adds required functionalty to the list and repeated list vectors.
    Row set accessor changes
    Adds a "variant" type to model both unions and (non-repeated) lists (which can  act as a repeated union, among other things.)
    Adds union, list and repeated list support to the result set loader and associated classes.
    Copied much of the general documentation from my private Wiki into mark-down files.
    
    closes #1429

 .gitignore                                         |    2 +
 .../apache/drill/exec/physical/rowSet/README.md    |  359 ++++++
 .../exec/physical/rowSet/impl/BuildFromSchema.java |  153 ++-
 .../exec/physical/rowSet/impl/ColumnBuilder.java   |  301 ++++-
 .../drill/exec/physical/rowSet/impl/ListState.java |  415 +++++++
 .../physical/rowSet/impl/RepeatedListState.java    |  239 ++++
 .../exec/physical/rowSet/impl/TupleState.java      |   20 +-
 .../exec/physical/rowSet/impl/UnionState.java      |  202 ++++
 .../physical/rowSet/model/ContainerVisitor.java    |   11 +-
 .../rowSet/model/hyper/BaseReaderBuilder.java      |   40 +
 .../rowSet/model/single/BaseReaderBuilder.java     |  130 ++-
 .../rowSet/model/single/BaseWriterBuilder.java     |  117 +-
 .../model/single/BuildVectorsFromMetadata.java     |   88 +-
 .../rowSet/model/single/SingleSchemaInference.java |   60 +-
 .../rowSet/model/single/VectorAllocator.java       |   15 +-
 .../rowSet/project/RequestedColumnImpl.java        |   12 +-
 .../drill/exec/record/HyperVectorWrapper.java      |   11 +-
 .../record/metadata/AbstractColumnMetadata.java    |    9 +-
 .../metadata/RepeatedListColumnMetadata.java       |    5 +-
 .../rowSet/impl/TestResultSetLoaderMaps.java       |  201 ++--
 .../impl/TestResultSetLoaderRepeatedList.java      |  457 ++++++++
 .../rowSet/impl/TestResultSetLoaderUnions.java     |  648 +++++++++++
 .../rowSet/impl/TestResultVectorCache.java         |   77 +-
 .../apache/drill/test/rowSet/RowSetComparison.java |   29 +
 .../apache/drill/test/rowSet/test/RowSetTest.java  |  158 +--
 .../test/rowSet/test/TestHyperVectorReaders.java   |  133 +++
 .../rowSet/test/TestRepeatedListAccessors.java     |  461 ++++++++
 .../test/rowSet/test/TestVariantAccessors.java     | 1177 ++++++++++++++++++++
 .../main/codegen/templates/ColumnAccessors.java    |    4 +-
 .../drill/exec/record/metadata/ColumnMetadata.java |   10 +
 .../apache/drill/exec/vector/accessor/Accessors.md |  162 +++
 .../drill/exec/vector/accessor/ArrayReader.java    |    1 +
 .../drill/exec/vector/accessor/ArrayWriter.java    |    1 +
 .../drill/exec/vector/accessor/ColumnWriter.java   |    5 +
 .../drill/exec/vector/accessor/Components.md       |  240 ++++
 .../apache/drill/exec/vector/accessor/Futures.md   |  252 +++++
 .../apache/drill/exec/vector/accessor/Metadata.md  |  267 +++++
 .../drill/exec/vector/accessor/ObjectReader.java   |    1 +
 .../drill/exec/vector/accessor/ObjectType.java     |    2 +-
 .../drill/exec/vector/accessor/ObjectWriter.java   |    2 +
 .../apache/drill/exec/vector/accessor/Overview.md  |  403 +++++++
 .../apache/drill/exec/vector/accessor/README.md    |   46 +
 .../apache/drill/exec/vector/accessor/Readers.md   |  358 ++++++
 .../apache/drill/exec/vector/accessor/RowSet.md    |  127 +++
 .../drill/exec/vector/accessor/TupleReader.java    |    2 +
 .../drill/exec/vector/accessor/TupleWriter.java    |    5 +-
 .../drill/exec/vector/accessor/VariantReader.java  |  115 ++
 .../drill/exec/vector/accessor/VariantWriter.java  |  136 +++
 .../apache/drill/exec/vector/accessor/Writers.md   |  491 ++++++++
 .../accessor/reader/AbstractObjectReader.java      |    6 +
 .../accessor/reader/AbstractTupleReader.java       |   11 +
 .../vector/accessor/reader/ArrayReaderImpl.java    |   74 ++
 .../vector/accessor/reader/UnionReaderImpl.java    |  262 +++++
 .../vector/accessor/reader/VectorAccessors.java    |   98 +-
 .../accessor/writer/AbstractArrayWriter.java       |    6 +
 .../accessor/writer/AbstractObjectWriter.java      |    6 +
 .../accessor/writer/AbstractTupleWriter.java       |   11 +
 .../accessor/writer/ColumnWriterFactory.java       |    2 +
 .../exec/vector/accessor/writer/EmptyListShim.java |  138 +++
 .../vector/accessor/writer/ListWriterImpl.java     |  136 +++
 .../vector/accessor/writer/RepeatedListWriter.java |  130 +++
 .../vector/accessor/writer/SimpleListShim.java     |  195 ++++
 .../vector/accessor/writer/UnionVectorShim.java    |  304 +++++
 .../vector/accessor/writer/UnionWriterImpl.java    |  368 ++++++
 .../exec/vector/accessor/writer/package-info.java  |   30 +
 .../vector/complex/BaseRepeatedValueVector.java    |   22 +-
 .../drill/exec/vector/complex/ListVector.java      |  321 +++++-
 .../exec/vector/complex/RepeatedListVector.java    |   20 +-
 68 files changed, 9949 insertions(+), 351 deletions(-)

commit a801e1330cdc665edb4efa6569646ac29fcef17b
Author: kr-arjun <arjun.kr@outlook.com>
Date:   Thu Jul 26 16:52:48 2018 -0700

    DRILL-6640: Drill takes long time in planning when there are large number of files in views/tables DFS parent directory
    Modifying DotDrillUtil implementation to avoid using globStatus calls with GLOB for dot drill files
    
    Includes
    - Modified DotDrillUtil.getDotDrills implementation to avoid using DFS globStatus call with GLOB for a given base file name.
    - Added unit test cases for the new method.
    - Code refactoring to include additional comments.
    - Updated logic to use globStatus call for  path with wildcards and not ending with .drill
    - Modified Testcase implementation to use BaseDirTestWatcher.
    
    closes #1405

 .../apache/drill/exec/dotdrill/DotDrillType.java   |  22 +++++
 .../apache/drill/exec/dotdrill/DotDrillUtil.java   |  92 +++++++++++++++++--
 .../drill/exec/dotdrill/TestDotDrillUtil.java      | 102 +++++++++++++++++++++
 3 files changed, 209 insertions(+), 7 deletions(-)

commit 14a7363679ecb8720cbed80235cf070f52696eab
Author: Kunal Khatua <kunal@apache.org>
Date:   Tue Aug 28 15:45:58 2018 -0700

    DRILL-5735: UI options grouping and filtering & Metrics hints
    Allow search/sort in the Options webUI
    Additional details, like the description is provided as well in a JScript lookup map. This helps reduce the need for the server to constantly recreate the entire page with the description details, as the client browser can fill in these details.
    Developers will be expected to update the description as old/new options are introduced or deprecated.
    System table options_val also carries the description, albeit a 'shorter' version.
    
    closes #1279

 .../java/org/apache/drill/exec/ExecConstants.java  | 302 ++++++++++++---------
 .../drill/exec/compile/ClassCompilerSelector.java  |  10 +-
 .../drill/exec/compile/ClassTransformer.java       |   2 +-
 .../exec/planner/physical/PlannerSettings.java     | 115 +++++---
 .../exec/rpc/user/InboundImpersonationManager.java |   2 +-
 .../drill/exec/server/options/OptionValidator.java |  60 +++-
 .../drill/exec/server/options/TypeValidators.java  |  65 ++---
 .../apache/drill/exec/server/rest/WebServer.java   |  85 ++++++
 .../exec/store/sys/ExtendedOptionIterator.java     |  69 +++--
 .../apache/drill/exec/store/sys/SystemTable.java   |   2 -
 .../drill/exec/testing/ExecutionControls.java      |   5 +-
 .../main/resources/options.describe.template.js    |  23 ++
 exec/java-exec/src/main/resources/rest/options.ftl | 112 +++++++-
 .../exec/server/options/TestConfigLinkage.java     |   2 +-
 .../exec/work/metadata/TestMetadataProvider.java   |   2 +-
 15 files changed, 618 insertions(+), 238 deletions(-)

commit 2b5b75965ae02e8d2f3c10b956198e43987776ce
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Sat Aug 25 18:52:46 2018 -0700

    DRILL-6706: fixed null pointer exception in HashJoin
    
    closes #1445

 .../apache/drill/exec/record/RecordBatchSizer.java | 96 +++++++++++++++++++++-
 1 file changed, 94 insertions(+), 2 deletions(-)

commit 5ed5df2cef7b3aac83401a3df6bbf9716505b226
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Tue Aug 28 15:57:04 2018 -0700

    DRILL-6517: Hash Join handling uninitialized vector container

 .../exec/physical/impl/join/HashJoinBatch.java     |   8 +-
 .../drill/exec/physical/impl/MockRecordBatch.java  |   8 +-
 .../physical/impl/join/TestHashJoinOutcome.java    | 212 +++++++++++++++++++++
 3 files changed, 219 insertions(+), 9 deletions(-)

commit e43cfebe8229bc8cd01ba5a3eafeeef987f5e425
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Aug 29 13:31:00 2018 +0300

    DRILL-6721: Fix SchemalessScan plan serialization / deserialization

 .../drill/exec/physical/base/SchemalessScan.java   | 26 +++++++++++++---------
 .../org/apache/drill/exec/TestEmptyInputSql.java   | 13 ++++++-----
 2 files changed, 23 insertions(+), 16 deletions(-)

commit 8edeb49873d1a1710cfe28e0b49364d07eb1aef4
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Mon Aug 27 19:22:46 2018 +0300

    DRILL-6422: Replace guava imports with shaded ones

 .../org/apache/drill/common/DeferredException.java   |  4 ++--
 .../java/org/apache/drill/common/KerberosUtil.java   |  4 ++--
 .../main/java/org/apache/drill/common/Version.java   |  4 ++--
 .../apache/drill/common/collections/Collectors.java  |  2 +-
 .../drill/common/collections/ImmutableEntry.java     |  4 ++--
 .../drill/common/collections/MapWithOrdinal.java     | 12 ++++++------
 .../org/apache/drill/common/config/DrillConfig.java  |  8 ++++----
 .../apache/drill/common/config/DrillProperties.java  |  4 ++--
 .../apache/drill/common/map/CaseInsensitiveMap.java  |  4 ++--
 .../drill/common/scanner/ClassPathScanner.java       |  6 +++---
 .../org/apache/drill/common/scanner/RunTimeScan.java |  2 +-
 .../scanner/persistence/AnnotationDescriptor.java    |  2 +-
 .../drill/common/scanner/persistence/ScanResult.java |  8 ++++----
 .../org/apache/drill/common/util/DrillFileUtils.java |  4 ++--
 .../apache/drill/common/util/DrillStringUtils.java   |  2 +-
 .../org/apache/drill/test/SubDirTestWatcher.java     |  4 ++--
 .../drill/exec/store/mapr/TableFormatPlugin.java     |  2 +-
 .../drill/exec/store/mapr/db/MapRDBFormatPlugin.java |  2 +-
 .../drill/exec/store/mapr/db/MapRDBGroupScan.java    | 10 +++++-----
 .../exec/store/mapr/db/MapRDBPushFilterIntoScan.java |  2 +-
 .../exec/store/mapr/db/MapRDBScanBatchCreator.java   |  2 +-
 .../drill/exec/store/mapr/db/MapRDBSubScan.java      |  4 ++--
 .../store/mapr/db/binary/BinaryTableGroupScan.java   |  2 +-
 .../store/mapr/db/binary/MapRDBFilterBuilder.java    |  4 ++--
 .../db/binary/MaprDBCompareFunctionsProcessor.java   |  2 +-
 .../mapr/db/json/CompareFunctionsProcessor.java      |  4 ++--
 .../store/mapr/db/json/JsonConditionBuilder.java     |  2 +-
 .../exec/store/mapr/db/json/JsonTableGroupScan.java  |  2 +-
 .../store/mapr/db/json/MaprDBJsonRecordReader.java   |  6 +++---
 .../exec/store/mapr/db/util/FieldPathHelper.java     |  2 +-
 .../exec/store/hbase/CompareFunctionsProcessor.java  |  6 +++---
 .../exec/store/hbase/HBaseConnectionManager.java     | 14 +++++++-------
 .../drill/exec/store/hbase/HBaseFilterBuilder.java   |  4 ++--
 .../drill/exec/store/hbase/HBaseGroupScan.java       |  8 ++++----
 .../exec/store/hbase/HBasePushFilterIntoScan.java    |  2 +-
 .../drill/exec/store/hbase/HBaseRecordReader.java    |  6 +++---
 .../exec/store/hbase/HBaseScanBatchCreator.java      |  2 +-
 .../drill/exec/store/hbase/HBaseSchemaFactory.java   |  2 +-
 .../drill/exec/store/hbase/HBaseStoragePlugin.java   |  2 +-
 .../exec/store/hbase/HBaseStoragePluginConfig.java   |  6 +++---
 .../apache/drill/exec/store/hbase/HBaseSubScan.java  |  2 +-
 .../apache/drill/exec/store/hbase/HBaseUtils.java    |  2 +-
 .../store/hbase/config/HBasePersistentStore.java     |  2 +-
 .../hbase/config/HBasePersistentStoreProvider.java   |  2 +-
 .../java/org/apache/drill/hbase/BaseHBaseTest.java   |  4 ++--
 .../drill/hbase/TestHBaseRegionScanAssignments.java  |  4 ++--
 .../apache/drill/hbase/TestHBaseTableProvider.java   |  2 +-
 .../hbase/TestOrderedBytesConvertFunctions.java      |  4 ++--
 .../codegen/templates/ObjectInspectorHelper.java     |  4 ++--
 .../drill/exec/expr/fn/HiveFunctionRegistry.java     |  4 ++--
 .../exec/planner/sql/HivePartitionDescriptor.java    |  2 +-
 .../exec/planner/sql/HivePartitionLocation.java      |  2 +-
 .../drill/exec/store/hive/ColumnListsCache.java      |  6 +++---
 .../exec/store/hive/DrillHiveMetaStoreClient.java    | 12 ++++++------
 .../exec/store/hive/HiveAuthorizationHelper.java     |  2 +-
 .../hive/HiveDrillNativeParquetRowGroupScan.java     |  2 +-
 .../exec/store/hive/HiveDrillNativeParquetScan.java  |  2 +-
 .../hive/HiveDrillNativeParquetScanBatchCreator.java |  2 +-
 .../drill/exec/store/hive/HiveFieldConverter.java    |  2 +-
 .../drill/exec/store/hive/HiveMetadataProvider.java  | 14 +++++++-------
 .../apache/drill/exec/store/hive/HiveReadEntry.java  |  2 +-
 .../drill/exec/store/hive/HiveStoragePlugin.java     |  2 +-
 .../apache/drill/exec/store/hive/HiveSubScan.java    |  6 +++---
 .../drill/exec/store/hive/HiveTableWrapper.java      |  2 +-
 .../apache/drill/exec/store/hive/HiveUtilities.java  |  4 ++--
 .../exec/store/hive/readers/HiveAbstractReader.java  |  4 ++--
 .../drill/exec/store/hive/schema/DrillHiveTable.java |  2 +-
 .../exec/store/hive/schema/HiveDatabaseSchema.java   |  4 ++--
 .../exec/store/hive/schema/HiveSchemaFactory.java    | 12 ++++++------
 .../org/apache/drill/exec/fn/hive/TestHiveUDFs.java  |  4 ++--
 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java      |  2 +-
 .../org/apache/drill/exec/hive/TestHiveStorage.java  |  4 ++--
 .../drill/exec/hive/TestInfoSchemaOnHiveStorage.java |  2 +-
 .../hive/TestSqlStdBasedAuthorization.java           |  4 ++--
 .../hive/TestStorageBasedHiveAuthorization.java      |  4 ++--
 .../exec/sql/hive/TestViewSupportOnHiveTables.java   |  2 +-
 .../drill/exec/store/hive/HiveTestDataGenerator.java |  4 ++--
 .../exec/store/hive/schema/TestColumnListCache.java  |  2 +-
 .../drill/exec/store/jdbc/DrillJdbcRuleBase.java     |  9 +++++----
 .../drill/exec/store/jdbc/JdbcBatchCreator.java      |  2 +-
 .../drill/exec/store/jdbc/JdbcRecordReader.java      |  6 +++---
 .../drill/exec/store/jdbc/JdbcStoragePlugin.java     | 13 +++++++------
 .../drill/exec/store/kafka/KafkaGroupScan.java       | 10 +++++-----
 .../drill/exec/store/kafka/KafkaNodeProcessor.java   |  4 ++--
 .../store/kafka/KafkaPartitionScanSpecBuilder.java   | 12 ++++++------
 .../store/kafka/KafkaPushDownFilterIntoScan.java     |  2 +-
 .../drill/exec/store/kafka/KafkaRecordReader.java    |  6 +++---
 .../exec/store/kafka/KafkaScanBatchCreator.java      |  2 +-
 .../drill/exec/store/kafka/KafkaStoragePlugin.java   |  4 ++--
 .../apache/drill/exec/store/kafka/KafkaSubScan.java  |  2 +-
 .../drill/exec/store/kafka/MessageIterator.java      |  4 ++--
 .../exec/store/kafka/decoders/JsonMessageReader.java |  2 +-
 .../exec/store/kafka/schema/KafkaMessageSchema.java  |  4 ++--
 .../exec/store/kafka/KafkaMessageGenerator.java      |  6 +++---
 .../drill/exec/store/kafka/KafkaQueriesTest.java     |  2 +-
 .../apache/drill/exec/store/kafka/KafkaTestBase.java |  2 +-
 .../src/main/codegen/templates/KuduRecordWriter.java |  4 ++--
 .../apache/drill/exec/store/kudu/DrillKuduTable.java |  2 +-
 .../apache/drill/exec/store/kudu/KuduGroupScan.java  | 10 +++++-----
 .../drill/exec/store/kudu/KuduRecordReader.java      |  4 ++--
 .../drill/exec/store/kudu/KuduScanBatchCreator.java  |  2 +-
 .../drill/exec/store/kudu/KuduSchemaFactory.java     |  2 +-
 .../apache/drill/exec/store/kudu/KuduSubScan.java    |  4 ++--
 .../store/mongo/MongoCompareFunctionProcessor.java   |  4 ++--
 .../drill/exec/store/mongo/MongoFilterBuilder.java   |  2 +-
 .../drill/exec/store/mongo/MongoGroupScan.java       | 14 +++++++-------
 .../exec/store/mongo/MongoPushDownFilterForScan.java |  2 +-
 .../drill/exec/store/mongo/MongoRecordReader.java    |  8 ++++----
 .../exec/store/mongo/MongoScanBatchCreator.java      |  2 +-
 .../drill/exec/store/mongo/MongoStoragePlugin.java   | 12 ++++++------
 .../apache/drill/exec/store/mongo/MongoSubScan.java  |  2 +-
 .../apache/drill/exec/store/mongo/MongoUtils.java    |  4 ++--
 .../store/mongo/config/MongoPersistentStore.java     |  2 +-
 .../exec/store/mongo/schema/MongoDatabaseSchema.java |  4 ++--
 .../exec/store/mongo/schema/MongoSchemaFactory.java  | 12 ++++++------
 .../apache/drill/exec/store/mongo/MongoTestSuit.java |  2 +-
 .../exec/store/mongo/TestMongoChunkAssignment.java   |  6 +++---
 .../drill/exec/store/mongo/TestTableGenerator.java   |  2 +-
 .../exec/store/openTSDB/DrillOpenTSDBTable.java      |  2 +-
 .../drill/exec/store/openTSDB/OpenTSDBGroupScan.java |  4 ++--
 .../exec/store/openTSDB/OpenTSDBRecordReader.java    |  4 ++--
 .../drill/exec/store/openTSDB/OpenTSDBSubScan.java   |  2 +-
 .../org/apache/drill/exec/store/openTSDB/Util.java   |  2 +-
 .../apache/drill/yarn/appMaster/http/WebServer.java  |  2 +-
 .../apache/drill/yarn/zk/ZKClusterCoordinator.java   |  6 +++---
 .../java/org/apache/drill/yarn/zk/ZKRegistry.java    |  2 +-
 .../src/main/codegen/includes/vv_imports.ftl         | 14 +++++++-------
 .../codegen/templates/EventBasedRecordWriter.java    |  4 ++--
 .../codegen/templates/ParquetOutputRecordWriter.java |  6 +++---
 .../main/codegen/templates/RecordValueAccessor.java  |  2 +-
 .../codegen/templates/StringOutputRecordWriter.java  |  2 +-
 .../org/apache/drill/exec/TestMemoryRetention.java   |  2 +-
 .../exec/cache/VectorAccessibleSerializable.java     |  4 ++--
 .../apache/drill/exec/cache/VectorSerializer.java    |  2 +-
 .../org/apache/drill/exec/client/DrillClient.java    | 12 ++++++------
 .../java/org/apache/drill/exec/client/DumpCat.java   |  2 +-
 .../drill/exec/client/LoggingResultsListener.java    |  2 +-
 .../org/apache/drill/exec/client/QuerySubmitter.java |  6 +++---
 .../org/apache/drill/exec/client/ServerMethod.java   |  8 ++++----
 .../apache/drill/exec/compile/ByteCodeLoader.java    |  8 ++++----
 .../apache/drill/exec/compile/CachedClassLoader.java |  2 +-
 .../apache/drill/exec/compile/ClassTransformer.java  | 10 +++++-----
 .../org/apache/drill/exec/compile/CodeCompiler.java  | 10 +++++-----
 .../drill/exec/compile/DrillJavaFileManager.java     |  4 ++--
 .../drill/exec/compile/DrillJavaFileObject.java      |  2 +-
 .../org/apache/drill/exec/compile/FsmCursor.java     |  2 +-
 .../org/apache/drill/exec/compile/FsmDescriptor.java |  2 +-
 .../apache/drill/exec/compile/JDKClassCompiler.java  |  4 ++--
 .../org/apache/drill/exec/compile/LogWriter.java     |  2 +-
 .../org/apache/drill/exec/compile/MergeAdapter.java  |  2 +-
 .../apache/drill/exec/compile/QueryClassLoader.java  |  2 +-
 .../exec/compile/bytecode/InstructionModifier.java   |  2 +-
 .../exec/compile/bytecode/ReplacingInterpreter.java  |  4 ++--
 .../compile/bytecode/ScalarReplacementTypes.java     |  2 +-
 .../drill/exec/compile/bytecode/ValueHolderIden.java |  2 +-
 .../drill/exec/compile/sig/CodeGeneratorMethod.java  |  4 ++--
 .../compile/sig/ConstantExpressionIdentifier.java    |  2 +-
 .../drill/exec/compile/sig/GeneratorMapping.java     |  2 +-
 .../apache/drill/exec/compile/sig/MappingSet.java    |  2 +-
 .../drill/exec/compile/sig/SignatureHolder.java      |  8 ++++----
 .../exec/coord/local/LocalClusterCoordinator.java    |  2 +-
 .../drill/exec/coord/local/MapBackedStore.java       |  2 +-
 .../drill/exec/coord/store/BaseTransientStore.java   |  8 ++++----
 .../coord/store/CachingTransientStoreFactory.java    |  6 +++---
 .../drill/exec/coord/store/TransientStoreConfig.java |  6 +++---
 .../coord/store/TransientStoreConfigBuilder.java     |  2 +-
 .../drill/exec/coord/store/TransientStoreEvent.java  |  4 ++--
 .../apache/drill/exec/coord/zk/EventDispatcher.java  |  4 ++--
 .../org/apache/drill/exec/coord/zk/PathUtils.java    |  2 +-
 .../drill/exec/coord/zk/ZKClusterCoordinator.java    |  6 +++---
 .../apache/drill/exec/coord/zk/ZkEphemeralStore.java |  6 +++---
 .../drill/exec/coord/zk/ZkTransientStoreFactory.java |  2 +-
 .../apache/drill/exec/coord/zk/ZookeeperClient.java  |  8 ++++----
 .../org/apache/drill/exec/dotdrill/DotDrillFile.java |  2 +-
 .../org/apache/drill/exec/dotdrill/DotDrillUtil.java |  2 +-
 .../java/org/apache/drill/exec/dotdrill/View.java    |  4 ++--
 .../org/apache/drill/exec/expr/BatchReference.java   |  2 +-
 .../org/apache/drill/exec/expr/ClassGenerator.java   |  6 +++---
 .../org/apache/drill/exec/expr/CloneVisitor.java     |  2 +-
 .../org/apache/drill/exec/expr/CodeGenerator.java    |  2 +-
 .../org/apache/drill/exec/expr/EqualityVisitor.java  |  2 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java    |  4 ++--
 .../drill/exec/expr/ExpressionTreeMaterializer.java  | 14 +++++++-------
 .../drill/exec/expr/SingleClassStringWriter.java     |  2 +-
 .../drill/exec/expr/ValueVectorReadExpression.java   |  2 +-
 .../drill/exec/expr/ValueVectorWriteExpression.java  |  2 +-
 .../drill/exec/expr/fn/DrillAggFuncHolder.java       |  6 +++---
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java   |  4 ++--
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java    |  2 +-
 .../apache/drill/exec/expr/fn/FunctionConverter.java |  4 ++--
 .../drill/exec/expr/fn/FunctionGenerationHelper.java |  2 +-
 .../exec/expr/fn/FunctionImplementationRegistry.java | 12 ++++++------
 .../drill/exec/expr/fn/FunctionInitializer.java      |  2 +-
 .../org/apache/drill/exec/expr/fn/ImportGrabber.java |  2 +-
 .../drill/exec/expr/fn/MethodGrabbingVisitor.java    |  2 +-
 .../apache/drill/exec/expr/fn/ValueReference.java    |  2 +-
 .../drill/exec/expr/fn/WorkspaceReference.java       |  2 +-
 .../exec/expr/fn/impl/AbstractSqlPatternMatcher.java |  2 +-
 .../drill/exec/expr/fn/impl/MappifyUtility.java      |  2 +-
 .../exec/expr/fn/impl/StringFunctionHelpers.java     |  2 +-
 .../expr/fn/interpreter/InterpreterEvaluator.java    |  4 ++--
 .../expr/fn/output/DefaultReturnTypeInference.java   |  2 +-
 .../fn/output/StringCastReturnTypeInference.java     |  2 +-
 .../expr/fn/registry/FunctionRegistryHolder.java     | 10 +++++-----
 .../exec/expr/fn/registry/LocalFunctionRegistry.java | 12 ++++++------
 .../expr/fn/registry/RemoteFunctionRegistry.java     |  4 ++--
 .../drill/exec/memory/RootAllocatorFactory.java      |  2 +-
 .../apache/drill/exec/ops/BaseOperatorContext.java   |  2 +-
 .../org/apache/drill/exec/ops/FragmentContext.java   |  2 +-
 .../apache/drill/exec/ops/FragmentContextImpl.java   |  8 ++++----
 .../org/apache/drill/exec/ops/OperatorContext.java   |  2 +-
 .../apache/drill/exec/ops/OperatorContextImpl.java   |  6 +++---
 .../org/apache/drill/exec/ops/OperatorStats.java     |  2 +-
 .../java/org/apache/drill/exec/ops/QueryContext.java |  6 +++---
 .../java/org/apache/drill/exec/ops/UdfUtilities.java |  4 ++--
 .../apache/drill/exec/ops/ViewExpansionContext.java  |  2 +-
 .../apache/drill/exec/physical/EndpointAffinity.java |  2 +-
 .../org/apache/drill/exec/physical/PhysicalPlan.java |  2 +-
 .../drill/exec/physical/base/AbstractBase.java       |  2 +-
 .../drill/exec/physical/base/AbstractExchange.java   |  6 +++---
 .../drill/exec/physical/base/AbstractGroupScan.java  |  2 +-
 .../drill/exec/physical/base/AbstractJoinPop.java    |  2 +-
 .../drill/exec/physical/base/AbstractReceiver.java   |  4 ++--
 .../drill/exec/physical/base/AbstractSender.java     |  2 +-
 .../drill/exec/physical/base/AbstractSingle.java     |  4 ++--
 .../apache/drill/exec/physical/base/GroupScan.java   |  2 +-
 .../exec/physical/base/PhysicalOperatorUtil.java     |  2 +-
 .../drill/exec/physical/base/SchemalessScan.java     |  2 +-
 .../exec/physical/config/AbstractDeMuxExchange.java  | 10 +++++-----
 .../exec/physical/config/AbstractMuxExchange.java    | 10 +++++-----
 .../drill/exec/physical/config/FlattenPOP.java       |  2 +-
 .../drill/exec/physical/config/HashJoinPOP.java      |  6 +++---
 .../drill/exec/physical/config/LateralJoinPOP.java   |  2 +-
 .../drill/exec/physical/config/MergeJoinPOP.java     |  4 ++--
 .../exec/physical/config/NestedLoopJoinPOP.java      |  2 +-
 .../physical/config/OrderedPartitionExchange.java    |  2 +-
 .../exec/physical/config/OrderedPartitionSender.java |  2 +-
 .../exec/physical/config/SingleMergeExchange.java    |  2 +-
 .../drill/exec/physical/config/UnionExchange.java    |  2 +-
 .../apache/drill/exec/physical/impl/ImplCreator.java |  8 ++++----
 .../apache/drill/exec/physical/impl/ScanBatch.java   |  4 ++--
 .../drill/exec/physical/impl/ScreenCreator.java      |  2 +-
 .../physical/impl/TopN/PriorityQueueTemplate.java    |  2 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java     |  2 +-
 .../physical/impl/TopN/TopNSortBatchCreator.java     |  2 +-
 .../drill/exec/physical/impl/TraceInjector.java      |  2 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java   |  2 +-
 .../physical/impl/aggregate/HashAggBatchCreator.java |  2 +-
 .../physical/impl/aggregate/StreamingAggBatch.java   |  2 +-
 .../impl/aggregate/StreamingAggBatchCreator.java     |  2 +-
 .../impl/broadcastsender/BroadcastSenderCreator.java |  2 +-
 .../broadcastsender/BroadcastSenderRootExec.java     |  2 +-
 .../exec/physical/impl/common/HashPartition.java     |  4 ++--
 .../impl/common/HashTableAllocationTracker.java      |  2 +-
 .../exec/physical/impl/common/HashTableTemplate.java |  2 +-
 .../physical/impl/filter/FilterBatchCreator.java     |  2 +-
 .../exec/physical/impl/filter/FilterRecordBatch.java |  2 +-
 .../physical/impl/filter/ReturnValueExpression.java  |  2 +-
 .../impl/filter/RuntimeFilterBatchCreator.java       |  2 +-
 .../physical/impl/flatten/FlattenBatchCreator.java   |  2 +-
 .../physical/impl/flatten/FlattenRecordBatch.java    |  2 +-
 .../exec/physical/impl/flatten/FlattenTemplate.java  |  2 +-
 .../physical/impl/join/BatchSizePredictorImpl.java   |  2 +-
 .../drill/exec/physical/impl/join/HashJoinBatch.java |  4 ++--
 .../physical/impl/join/HashJoinBatchCreator.java     |  2 +-
 .../impl/join/HashJoinHelperSizeCalculatorImpl.java  |  2 +-
 .../join/HashJoinMechanicalMemoryCalculator.java     |  2 +-
 .../physical/impl/join/HashJoinMemoryCalculator.java |  4 ++--
 .../impl/join/HashJoinMemoryCalculatorImpl.java      |  4 ++--
 .../HashTableSizeCalculatorConservativeImpl.java     |  2 +-
 .../impl/join/HashTableSizeCalculatorLeanImpl.java   |  2 +-
 .../drill/exec/physical/impl/join/JoinStatus.java    |  2 +-
 .../exec/physical/impl/join/LateralJoinBatch.java    |  4 ++--
 .../exec/physical/impl/join/MergeJoinBatch.java      |  4 ++--
 .../exec/physical/impl/join/MergeJoinCreator.java    |  2 +-
 .../exec/physical/impl/join/NestedLoopJoinBatch.java |  4 ++--
 .../exec/physical/impl/limit/LimitBatchCreator.java  |  2 +-
 .../exec/physical/impl/limit/LimitRecordBatch.java   |  4 ++--
 .../impl/limit/PartitionLimitBatchCreator.java       |  2 +-
 .../impl/limit/PartitionLimitRecordBatch.java        |  2 +-
 .../impl/mergereceiver/MergingRecordBatch.java       |  4 ++--
 .../OrderedPartitionProjectorTemplate.java           |  2 +-
 .../OrderedPartitionRecordBatch.java                 |  4 ++--
 .../OrderedPartitionSenderCreator.java               |  2 +-
 .../partitionsender/PartitionSenderRootExec.java     |  2 +-
 .../impl/partitionsender/PartitionerDecorator.java   |  6 +++---
 .../impl/partitionsender/PartitionerTemplate.java    |  2 +-
 .../impl/producer/ProducerConsumerBatchCreator.java  |  2 +-
 .../impl/project/ComplexToJsonBatchCreator.java      |  2 +-
 .../physical/impl/project/OutputWidthVisitor.java    |  2 +-
 .../physical/impl/project/ProjectBatchCreator.java   |  2 +-
 .../physical/impl/project/ProjectMemoryManager.java  |  2 +-
 .../physical/impl/project/ProjectRecordBatch.java    |  6 +++---
 .../physical/impl/project/ProjectorTemplate.java     |  2 +-
 .../exec/physical/impl/sort/RecordBatchData.java     |  2 +-
 .../exec/physical/impl/sort/SortBatchCreator.java    |  2 +-
 .../physical/impl/sort/SortRecordBatchBuilder.java   |  4 ++--
 .../drill/exec/physical/impl/sort/SortTemplate.java  |  4 ++--
 .../drill/exec/physical/impl/spill/SpillSet.java     |  6 +++---
 .../physical/impl/svremover/SVRemoverCreator.java    |  2 +-
 .../exec/physical/impl/svremover/StraightCopier.java |  2 +-
 .../physical/impl/union/UnionAllBatchCreator.java    |  2 +-
 .../physical/impl/union/UnionAllRecordBatch.java     |  4 ++--
 .../exec/physical/impl/union/UnionAllerTemplate.java |  2 +-
 .../drill/exec/physical/impl/unnest/UnnestImpl.java  |  4 ++--
 .../exec/physical/impl/unnest/UnnestRecordBatch.java |  4 ++--
 .../impl/validate/IteratorValidatorCreator.java      |  2 +-
 .../impl/validate/IteratorValidatorInjector.java     |  2 +-
 .../exec/physical/impl/window/WindowDataBatch.java   |  2 +-
 .../impl/window/WindowFrameBatchCreator.java         |  2 +-
 .../physical/impl/window/WindowFrameRecordBatch.java |  4 ++--
 .../drill/exec/physical/impl/xsort/BatchGroup.java   |  2 +-
 .../exec/physical/impl/xsort/ExternalSortBatch.java  | 10 +++++-----
 .../impl/xsort/ExternalSortBatchCreator.java         |  2 +-
 .../exec/physical/impl/xsort/MSortTemplate.java      |  4 ++--
 .../impl/xsort/SingleBatchSorterTemplate.java        |  4 ++--
 .../exec/physical/impl/xsort/managed/BatchGroup.java |  2 +-
 .../physical/impl/xsort/managed/BufferedBatches.java |  2 +-
 .../physical/impl/xsort/managed/MSortTemplate.java   |  4 ++--
 .../xsort/managed/PriorityQueueCopierWrapper.java    |  2 +-
 .../exec/physical/impl/xsort/managed/SortImpl.java   |  2 +-
 .../impl/xsort/managed/SortMemoryManager.java        |  2 +-
 .../physical/impl/xsort/managed/SpilledRuns.java     |  2 +-
 .../drill/exec/planner/DFSDirPartitionLocation.java  |  2 +-
 .../exec/planner/FileSystemPartitionDescriptor.java  | 10 +++++-----
 .../exec/planner/ParquetPartitionDescriptor.java     |  6 +++---
 .../drill/exec/planner/PhysicalPlanReader.java       |  2 +-
 .../org/apache/drill/exec/planner/PlannerPhase.java  |  6 +++---
 .../drill/exec/planner/SimplePartitionLocation.java  |  2 +-
 .../drill/exec/planner/common/DrillJoinRelBase.java  |  2 +-
 .../exec/planner/common/DrillLateralJoinRelBase.java |  4 ++--
 .../exec/planner/common/DrillProjectRelBase.java     |  2 +-
 .../drill/exec/planner/common/DrillRelOptUtil.java   |  4 ++--
 .../exec/planner/common/DrillWriterRelBase.java      |  4 ++--
 .../cost/DrillDefaultRelMetadataProvider.java        |  2 +-
 .../apache/drill/exec/planner/fragment/Fragment.java |  2 +-
 .../fragment/HardAffinityFragmentParallelizer.java   |  4 ++--
 .../drill/exec/planner/fragment/Materializer.java    |  2 +-
 .../exec/planner/fragment/ParallelizationInfo.java   |  8 ++++----
 .../drill/exec/planner/fragment/PlanningSet.java     |  2 +-
 .../exec/planner/fragment/SimpleParallelizer.java    |  8 ++++----
 .../fragment/SoftAffinityFragmentParallelizer.java   |  6 +++---
 .../drill/exec/planner/fragment/StatsCollector.java  |  2 +-
 .../apache/drill/exec/planner/fragment/Wrapper.java  |  6 +++---
 .../contrib/ExchangeRemoverMaterializer.java         |  2 +-
 .../fragment/contrib/SplittingParallelizer.java      |  4 ++--
 .../logical/DirPrunedEnumerableTableScan.java        |  2 +-
 .../exec/planner/logical/DrillAggregateRel.java      |  2 +-
 .../exec/planner/logical/DrillConstExecutor.java     |  4 ++--
 .../drill/exec/planner/logical/DrillImplementor.java |  2 +-
 .../drill/exec/planner/logical/DrillJoinRule.java    |  2 +-
 .../drill/exec/planner/logical/DrillOptiq.java       |  4 ++--
 .../drill/exec/planner/logical/DrillProjectRel.java  |  2 +-
 .../logical/DrillPushFilterPastProjectRule.java      |  2 +-
 .../planner/logical/DrillPushLimitToScanRule.java    |  2 +-
 .../logical/DrillPushProjectIntoScanRule.java        |  6 +++---
 .../planner/logical/DrillReduceAggregatesRule.java   |  6 +++---
 .../exec/planner/logical/DrillRelFactories.java      |  3 +--
 .../drill/exec/planner/logical/DrillScanRel.java     |  2 +-
 .../drill/exec/planner/logical/DrillSortRel.java     |  4 ++--
 .../drill/exec/planner/logical/DrillViewTable.java   |  2 +-
 .../drill/exec/planner/logical/DrillWindowRel.java   |  2 +-
 .../drill/exec/planner/logical/DrillWriterRel.java   |  4 ++--
 .../exec/planner/logical/PreProcessLogicalRel.java   |  2 +-
 .../exec/planner/logical/ScanFieldDeterminer.java    |  6 +++---
 .../drill/exec/planner/logical/StoragePlugins.java   |  4 ++--
 .../logical/partition/FindPartitionConditions.java   |  2 +-
 .../planner/logical/partition/PruneScanRule.java     |  6 +++---
 .../logical/partition/RewriteAsBinaryOperators.java  |  4 ++--
 .../partition/RewriteCombineBinaryOperators.java     |  4 ++--
 .../drill/exec/planner/physical/AggPrelBase.java     |  2 +-
 .../drill/exec/planner/physical/AggPruleBase.java    |  2 +-
 .../planner/physical/ConvertCountToDirectScan.java   |  2 +-
 .../planner/physical/DrillDistributionTrait.java     |  2 +-
 .../drill/exec/planner/physical/HashAggPrule.java    |  4 ++--
 .../drill/exec/planner/physical/HashJoinPrel.java    |  2 +-
 .../drill/exec/planner/physical/HashPrelUtil.java    |  4 ++--
 .../planner/physical/HashToRandomExchangePrel.java   |  2 +-
 .../apache/drill/exec/planner/physical/JoinPrel.java |  2 +-
 .../drill/exec/planner/physical/JoinPruleBase.java   |  4 ++--
 .../drill/exec/planner/physical/LateralJoinPrel.java |  4 ++--
 .../drill/exec/planner/physical/MergeJoinPrel.java   |  2 +-
 .../drill/exec/planner/physical/MergeJoinPrule.java  |  2 +-
 .../exec/planner/physical/NestedLoopJoinPrule.java   |  2 +-
 .../exec/planner/physical/PhysicalPlanCreator.java   |  2 +-
 .../apache/drill/exec/planner/physical/PrelUtil.java |  2 +-
 .../exec/planner/physical/ProjectAllowDupPrel.java   |  2 +-
 .../drill/exec/planner/physical/ProjectPrel.java     |  2 +-
 .../drill/exec/planner/physical/ProjectPrule.java    |  4 ++--
 .../apache/drill/exec/planner/physical/SortPrel.java |  2 +-
 .../drill/exec/planner/physical/SortPrule.java       |  4 ++--
 .../drill/exec/planner/physical/StreamAggPrule.java  |  4 ++--
 .../exec/planner/physical/SubsetTransformer.java     |  2 +-
 .../apache/drill/exec/planner/physical/TopNPrel.java |  2 +-
 .../drill/exec/planner/physical/UnionAllPrel.java    |  2 +-
 .../drill/exec/planner/physical/UnionAllPrule.java   |  6 +++---
 .../exec/planner/physical/UnionDistinctPrel.java     |  2 +-
 .../exec/planner/physical/UnionDistinctPrule.java    |  2 +-
 .../drill/exec/planner/physical/WindowPrel.java      |  4 ++--
 .../drill/exec/planner/physical/WindowPrule.java     |  8 ++++----
 .../drill/exec/planner/physical/WriterPrule.java     |  4 ++--
 .../planner/physical/explain/NumberingRelWriter.java |  2 +-
 .../exec/planner/physical/explain/PrelSequencer.java |  4 ++--
 .../visitor/AdjustOperatorsSchemaVisitor.java        |  4 ++--
 .../visitor/ExcessiveExchangeIdentifier.java         |  2 +-
 .../physical/visitor/FinalColumnReorderer.java       |  2 +-
 .../physical/visitor/InsertLocalExchangeVisitor.java |  2 +-
 .../physical/visitor/LateralUnnestRowIDVisitor.java  |  2 +-
 .../visitor/ProducerConsumerPrelVisitor.java         |  2 +-
 .../exec/planner/physical/visitor/RelUniqifier.java  |  4 ++--
 .../physical/visitor/RewriteProjectToFlatten.java    |  2 +-
 .../physical/visitor/RuntimeFilterVisitor.java       |  2 +-
 .../physical/visitor/SelectionVectorPrelVisitor.java |  2 +-
 .../physical/visitor/SplitUpComplexExpressions.java  |  4 ++--
 .../physical/visitor/StarColumnConverter.java        |  2 +-
 .../physical/visitor/SwapHashJoinVisitor.java        |  2 +-
 .../org/apache/drill/exec/planner/sql/Checker.java   |  2 +-
 .../drill/exec/planner/sql/DrillOperatorTable.java   |  6 +++---
 .../drill/exec/planner/sql/DrillSqlAggOperator.java  |  2 +-
 .../drill/exec/planner/sql/DrillSqlOperator.java     |  2 +-
 .../sql/DrillSqlOperatorWithoutInference.java        |  2 +-
 .../exec/planner/sql/ExpandingConcurrentMap.java     |  2 +-
 .../drill/exec/planner/sql/SchemaUtilites.java       |  6 +++---
 .../apache/drill/exec/planner/sql/SqlConverter.java  |  8 ++++----
 .../drill/exec/planner/sql/TypeInferenceUtils.java   |  6 +++---
 .../planner/sql/handlers/ComplexUnnestVisitor.java   |  2 +-
 .../planner/sql/handlers/CreateFunctionHandler.java  |  4 ++--
 .../planner/sql/handlers/CreateTableHandler.java     |  4 ++--
 .../exec/planner/sql/handlers/DefaultSqlHandler.java | 10 +++++-----
 .../planner/sql/handlers/DescribeSchemaHandler.java  |  2 +-
 .../planner/sql/handlers/DropFunctionHandler.java    |  2 +-
 .../exec/planner/sql/handlers/FindLimit0Visitor.java |  4 ++--
 .../exec/planner/sql/handlers/SqlHandlerConfig.java  |  2 +-
 .../exec/planner/sql/handlers/SqlHandlerUtil.java    |  4 ++--
 .../sql/parser/CompoundIdentifierConverter.java      |  2 +-
 .../planner/sql/parser/DrillCompoundIdentifier.java  |  6 +++---
 .../exec/planner/sql/parser/DrillParserUtil.java     |  2 +-
 .../exec/planner/sql/parser/SqlCreateFunction.java   |  2 +-
 .../exec/planner/sql/parser/SqlCreateTable.java      |  6 +++---
 .../drill/exec/planner/sql/parser/SqlCreateView.java |  4 ++--
 .../exec/planner/sql/parser/SqlDropFunction.java     |  2 +-
 .../drill/exec/planner/sql/parser/SqlDropTable.java  |  2 +-
 .../drill/exec/planner/sql/parser/SqlDropView.java   |  2 +-
 .../exec/planner/sql/parser/SqlRefreshMetadata.java  |  4 ++--
 .../exec/planner/sql/parser/SqlShowSchemas.java      |  2 +-
 .../drill/exec/planner/sql/parser/SqlShowTables.java |  2 +-
 .../sql/parser/UnsupportedOperatorsVisitor.java      |  2 +-
 .../planner/types/AbstractRelDataTypeHolder.java     |  4 ++--
 .../planner/types/DrillFixedRelDataTypeImpl.java     |  2 +-
 .../drill/exec/planner/types/RelDataTypeHolder.java  |  2 +-
 .../record/AbstractTableFunctionRecordBatch.java     |  2 +-
 .../org/apache/drill/exec/record/BatchSchema.java    |  4 ++--
 .../apache/drill/exec/record/HyperVectorWrapper.java |  2 +-
 .../apache/drill/exec/record/RecordBatchLoader.java  |  2 +-
 .../drill/exec/record/RecordBatchMemoryManager.java  |  2 +-
 .../apache/drill/exec/record/RecordBatchSizer.java   |  2 +-
 .../org/apache/drill/exec/record/RecordIterator.java |  4 ++--
 .../org/apache/drill/exec/record/SchemaBuilder.java  |  2 +-
 .../org/apache/drill/exec/record/SchemaUtil.java     |  8 ++++----
 .../drill/exec/record/SimpleVectorWrapper.java       |  2 +-
 .../org/apache/drill/exec/record/TypedFieldId.java   |  2 +-
 .../apache/drill/exec/record/VectorContainer.java    |  6 +++---
 .../apache/drill/exec/record/VectorInitializer.java  |  2 +-
 .../org/apache/drill/exec/record/WritableBatch.java  |  4 ++--
 .../record/metadata/RepeatedListColumnMetadata.java  |  2 +-
 .../drill/exec/record/metadata/VariantSchema.java    |  2 +-
 .../record/selection/SelectionVector4Builder.java    |  2 +-
 .../drill/exec/resolver/DefaultFunctionResolver.java |  2 +-
 .../drill/exec/resolver/ExactFunctionResolver.java   |  2 +-
 .../apache/drill/exec/resolver/TypeCastRules.java    |  4 ++--
 .../drill/exec/rpc/AbstractClientConnection.java     |  2 +-
 .../rpc/AbstractDisposableUserClientConnection.java  |  2 +-
 .../drill/exec/rpc/AbstractServerConnection.java     |  4 ++--
 .../org/apache/drill/exec/rpc/BitRpcUtility.java     |  2 +-
 .../exec/rpc/control/ConnectionManagerRegistry.java  |  2 +-
 .../drill/exec/rpc/control/ControlConnection.java    |  2 +-
 .../exec/rpc/control/ControlConnectionConfig.java    |  2 +-
 .../drill/exec/rpc/control/ControllerImpl.java       |  2 +-
 .../exec/rpc/control/CustomHandlerRegistry.java      |  2 +-
 .../apache/drill/exec/rpc/control/WorkEventBus.java  |  2 +-
 .../org/apache/drill/exec/rpc/data/AckSender.java    |  2 +-
 .../drill/exec/rpc/data/DataConnectionCreator.java   |  2 +-
 .../drill/exec/rpc/data/IncomingDataBatch.java       |  2 +-
 .../drill/exec/rpc/security/AuthStringUtil.java      |  6 +++---
 .../exec/rpc/security/AuthenticatorProviderImpl.java |  2 +-
 .../exec/rpc/security/FastSaslClientFactory.java     |  6 +++---
 .../exec/rpc/security/FastSaslServerFactory.java     |  6 +++---
 .../exec/rpc/security/SecurityConfiguration.java     |  2 +-
 .../rpc/security/ServerAuthenticationHandler.java    |  6 +++---
 .../exec/rpc/user/InboundImpersonationManager.java   |  4 ++--
 .../drill/exec/rpc/user/QueryResultHandler.java      |  4 ++--
 .../org/apache/drill/exec/rpc/user/UserClient.java   | 14 +++++++-------
 .../apache/drill/exec/rpc/user/UserRpcConfig.java    |  4 ++--
 .../org/apache/drill/exec/rpc/user/UserRpcUtils.java |  2 +-
 .../org/apache/drill/exec/rpc/user/UserSession.java  |  6 +++---
 .../rpc/user/security/UserAuthenticatorFactory.java  |  2 +-
 .../org/apache/drill/exec/schema/DataRecord.java     |  6 +++---
 .../org/apache/drill/exec/schema/DiffSchema.java     |  2 +-
 .../java/org/apache/drill/exec/schema/Field.java     |  4 ++--
 .../org/apache/drill/exec/schema/ListSchema.java     |  8 ++++----
 .../org/apache/drill/exec/schema/NamedField.java     |  2 +-
 .../org/apache/drill/exec/schema/ObjectSchema.java   |  8 ++++----
 .../org/apache/drill/exec/schema/OrderedField.java   |  2 +-
 .../drill/exec/serialization/JacksonSerializer.java  |  2 +-
 .../drill/exec/serialization/ProtoSerializer.java    |  4 ++--
 .../java/org/apache/drill/exec/server/Drillbit.java  |  4 ++--
 .../apache/drill/exec/server/DrillbitContext.java    |  2 +-
 .../exec/server/options/FallbackOptionManager.java   |  2 +-
 .../exec/server/options/FragmentOptionManager.java   |  2 +-
 .../drill/exec/server/options/OptionDefinition.java  |  2 +-
 .../drill/exec/server/options/OptionValue.java       |  2 +-
 .../exec/server/options/PersistedOptionValue.java    |  2 +-
 .../exec/server/options/SessionOptionManager.java    |  4 ++--
 .../exec/server/options/SystemOptionManager.java     |  4 ++--
 .../drill/exec/server/options/TypeValidators.java    |  4 ++--
 .../drill/exec/server/rest/DrillRestServer.java      |  2 +-
 .../org/apache/drill/exec/server/rest/DrillRoot.java |  6 +++---
 .../drill/exec/server/rest/LogInLogOutResources.java |  2 +-
 .../apache/drill/exec/server/rest/LogsResources.java |  4 ++--
 .../drill/exec/server/rest/QueryResources.java       |  6 +++---
 .../apache/drill/exec/server/rest/QueryWrapper.java  |  2 +-
 .../drill/exec/server/rest/StorageResources.java     |  2 +-
 .../drill/exec/server/rest/UserNameFilter.java       |  2 +-
 .../exec/server/rest/ViewableWithPermissions.java    |  2 +-
 .../drill/exec/server/rest/WebUserConnection.java    |  6 +++---
 .../auth/DrillHttpConstraintSecurityHandler.java     |  2 +-
 .../rest/auth/DrillHttpSecurityHandlerProvider.java  |  2 +-
 .../exec/server/rest/auth/DrillUserPrincipal.java    |  2 +-
 .../drill/exec/server/rest/profile/Filters.java      |  4 ++--
 .../exec/server/rest/profile/FragmentWrapper.java    |  4 ++--
 .../exec/server/rest/profile/OperatorWrapper.java    |  2 +-
 .../exec/server/rest/profile/ProfileResources.java   |  2 +-
 .../exec/server/rest/profile/ProfileWrapper.java     |  4 ++--
 .../org/apache/drill/exec/service/ServiceEngine.java |  2 +-
 .../org/apache/drill/exec/ssl/SSLConfigServer.java   |  2 +-
 .../drill/exec/store/AbstractRecordReader.java       |  4 ++--
 .../org/apache/drill/exec/store/AbstractSchema.java  |  6 +++---
 .../drill/exec/store/AbstractStoragePlugin.java      |  2 +-
 .../apache/drill/exec/store/ClassPathFileSystem.java |  2 +-
 .../org/apache/drill/exec/store/ColumnExplorer.java  |  4 ++--
 .../apache/drill/exec/store/ResourceInputStream.java |  2 +-
 .../org/apache/drill/exec/store/SchemaConfig.java    |  4 ++--
 .../apache/drill/exec/store/SchemaTreeProvider.java  |  2 +-
 .../apache/drill/exec/store/StoragePluginMap.java    |  6 +++---
 .../drill/exec/store/StoragePluginRegistryImpl.java  | 20 ++++++++++----------
 .../exec/store/StoragePluginsHandlerService.java     |  4 ++--
 .../org/apache/drill/exec/store/StorageStrategy.java |  2 +-
 .../apache/drill/exec/store/SubSchemaWrapper.java    |  2 +-
 .../org/apache/drill/exec/store/TimedCallable.java   |  8 ++++----
 .../apache/drill/exec/store/avro/AvroDrillTable.java |  2 +-
 .../drill/exec/store/avro/AvroFormatPlugin.java      |  4 ++--
 .../drill/exec/store/avro/AvroRecordReader.java      |  4 ++--
 .../drill/exec/store/bson/BsonRecordReader.java      |  2 +-
 .../drill/exec/store/dfs/BasicFormatMatcher.java     |  6 +++---
 .../apache/drill/exec/store/dfs/DrillFileSystem.java |  4 ++--
 .../apache/drill/exec/store/dfs/FileSelection.java   |  8 ++++----
 .../drill/exec/store/dfs/FileSystemPlugin.java       |  4 ++--
 .../exec/store/dfs/FormatPluginOptionExtractor.java  |  2 +-
 .../apache/drill/exec/store/dfs/MetadataContext.java |  2 +-
 .../drill/exec/store/dfs/WorkspaceSchemaFactory.java | 10 +++++-----
 .../drill/exec/store/dfs/easy/EasyFormatPlugin.java  |  8 ++++----
 .../drill/exec/store/dfs/easy/EasyGroupScan.java     |  8 ++++----
 .../drill/exec/store/dfs/easy/EasySubScan.java       |  2 +-
 .../apache/drill/exec/store/dfs/easy/EasyWriter.java |  2 +-
 .../drill/exec/store/easy/json/JSONFormatPlugin.java |  2 +-
 .../drill/exec/store/easy/json/JSONRecordReader.java |  4 ++--
 .../drill/exec/store/easy/json/JsonRecordWriter.java |  2 +-
 .../store/easy/json/reader/BaseJsonProcessor.java    |  2 +-
 .../easy/sequencefile/SequenceFileFormatConfig.java  |  2 +-
 .../easy/sequencefile/SequenceFileRecordReader.java  |  2 +-
 .../drill/exec/store/easy/text/TextFormatPlugin.java |  2 +-
 .../text/compliant/CompliantTextRecordReader.java    |  6 +++---
 .../store/easy/text/compliant/HeaderBuilder.java     |  2 +-
 .../easy/text/compliant/RepeatedVarCharOutput.java   |  2 +-
 .../exec/store/easy/text/compliant/TextInput.java    |  2 +-
 .../easy/text/compliant/TextParsingSettings.java     |  2 +-
 .../drill/exec/store/httpd/HttpdLogFormatPlugin.java |  4 ++--
 .../drill/exec/store/httpd/HttpdLogRecord.java       |  4 ++--
 .../apache/drill/exec/store/httpd/HttpdParser.java   |  4 ++--
 .../drill/exec/store/image/ImageFormatConfig.java    |  2 +-
 .../drill/exec/store/ischema/InfoSchemaFilter.java   |  2 +-
 .../exec/store/ischema/InfoSchemaFilterBuilder.java  |  4 ++--
 .../exec/store/ischema/InfoSchemaGroupScan.java      |  2 +-
 .../InfoSchemaPushFilterIntoRecordGenerator.java     |  2 +-
 .../store/ischema/InfoSchemaRecordGenerator.java     |  8 ++++----
 .../exec/store/ischema/InfoSchemaStoragePlugin.java  |  2 +-
 .../drill/exec/store/ischema/InfoSchemaTable.java    |  4 ++--
 .../org/apache/drill/exec/store/ischema/Records.java |  2 +-
 .../apache/drill/exec/store/log/LogFormatConfig.java |  2 +-
 .../apache/drill/exec/store/log/LogFormatPlugin.java |  2 +-
 .../apache/drill/exec/store/log/LogRecordReader.java |  2 +-
 .../drill/exec/store/mock/MockGroupScanPOP.java      |  2 +-
 .../drill/exec/store/mock/MockScanBatchCreator.java  |  2 +-
 .../drill/exec/store/mock/MockStorageEngine.java     |  6 +++---
 .../apache/drill/exec/store/mock/MockSubScanPOP.java |  2 +-
 .../exec/store/parquet/AbstractParquetGroupScan.java |  6 +++---
 .../parquet/AbstractParquetScanBatchCreator.java     |  6 +++---
 .../drill/exec/store/parquet/FooterGatherer.java     |  2 +-
 .../exec/store/parquet/ParquetFilterBuilder.java     |  2 +-
 .../exec/store/parquet/ParquetFormatPlugin.java      |  4 ++--
 .../drill/exec/store/parquet/ParquetGroupScan.java   |  4 ++--
 .../exec/store/parquet/ParquetPushDownFilter.java    |  6 +++---
 .../exec/store/parquet/ParquetRGFilterEvaluator.java |  2 +-
 .../exec/store/parquet/ParquetReaderUtility.java     |  2 +-
 .../exec/store/parquet/ParquetRecordWriter.java      |  2 +-
 .../exec/store/parquet/ParquetRowGroupScan.java      |  2 +-
 .../exec/store/parquet/ParquetScanBatchCreator.java  |  2 +-
 .../drill/exec/store/parquet/ParquetWriter.java      |  2 +-
 .../store/parquet/columnreaders/AsyncPageReader.java |  2 +-
 .../store/parquet/columnreaders/BatchReader.java     |  6 +++---
 .../columnreaders/FixedByteAlignedReader.java        |  4 ++--
 .../NullableFixedByteAlignedReaders.java             |  4 ++--
 .../exec/store/parquet/columnreaders/PageReader.java |  4 ++--
 .../ParquetFixedWidthDictionaryReaders.java          |  4 ++--
 .../parquet/columnreaders/ParquetRecordReader.java   |  4 ++--
 .../store/parquet/columnreaders/ParquetSchema.java   |  2 +-
 .../columnreaders/ParquetToDrillTypeConverter.java   |  2 +-
 .../parquet/columnreaders/VarLenBinaryReader.java    |  6 +++---
 .../parquet/columnreaders/VarLenBulkPageReader.java  |  2 +-
 .../columnreaders/VarLenEntryDictionaryReader.java   |  2 +-
 .../parquet/columnreaders/VarLenEntryReader.java     |  2 +-
 .../columnreaders/VarLenFixedEntryReader.java        |  2 +-
 .../VarLenNullableDictionaryReader.java              |  2 +-
 .../columnreaders/VarLenNullableEntryReader.java     |  2 +-
 .../VarLenNullableFixedEntryReader.java              |  2 +-
 .../parquet/columnreaders/VarLenOverflowReader.java  |  2 +-
 .../decimal/Int32DecimalParquetValueWriter.java      |  2 +-
 .../decimal/Int64DecimalParquetValueWriter.java      |  2 +-
 .../drill/exec/store/parquet/metadata/Metadata.java  |  6 +++---
 .../store/parquet/metadata/MetadataPathUtils.java    |  2 +-
 .../exec/store/parquet/metadata/MetadataVersion.java |  6 +++---
 .../parquet/stat/ParquetFooterStatCollector.java     |  2 +-
 .../store/parquet/stat/ParquetMetaStatCollector.java |  2 +-
 .../store/parquet2/DrillParquetGroupConverter.java   |  6 +++---
 .../exec/store/parquet2/DrillParquetReader.java      |  6 +++---
 .../apache/drill/exec/store/pcap/PcapDrillTable.java |  2 +-
 .../drill/exec/store/pcap/PcapFormatPlugin.java      |  4 ++--
 .../drill/exec/store/pcap/PcapFormatUtils.java       |  4 ++--
 .../drill/exec/store/pcap/PcapRecordReader.java      |  4 ++--
 .../apache/drill/exec/store/pcap/decoder/Packet.java |  2 +-
 .../drill/exec/store/pcap/decoder/PacketDecoder.java |  2 +-
 .../exec/store/pojo/DynamicPojoRecordReader.java     |  2 +-
 .../apache/drill/exec/store/pojo/PojoWriters.java    |  2 +-
 .../drill/exec/store/schedule/AffinityCreator.java   |  4 ++--
 .../drill/exec/store/schedule/AssignmentCreator.java | 12 ++++++------
 .../drill/exec/store/schedule/BlockMapBuilder.java   | 14 +++++++-------
 .../drill/exec/store/sys/ExtendedOptionIterator.java |  2 +-
 .../apache/drill/exec/store/sys/OptionIterator.java  |  4 ++--
 .../drill/exec/store/sys/PersistentStoreConfig.java  |  4 ++--
 .../exec/store/sys/PersistentStoreRegistry.java      |  2 +-
 .../drill/exec/store/sys/ProfileInfoIterator.java    |  4 ++--
 .../drill/exec/store/sys/ProfileJsonIterator.java    |  4 ++--
 .../exec/store/sys/SystemTableBatchCreator.java      |  2 +-
 .../apache/drill/exec/store/sys/SystemTableScan.java |  2 +-
 .../apache/drill/exec/store/sys/VersionIterator.java |  2 +-
 .../drill/exec/store/sys/store/InMemoryStore.java    |  2 +-
 .../exec/store/sys/store/LocalPersistentStore.java   |  8 ++++----
 .../store/sys/store/ZookeeperPersistentStore.java    |  6 +++---
 .../provider/CachingPersistentStoreProvider.java     |  4 ++--
 .../provider/ZookeeperPersistentStoreProvider.java   |  2 +-
 .../drill/exec/store/text/DrillTextRecordReader.java |  8 ++++----
 .../drill/exec/store/text/DrillTextRecordWriter.java |  2 +-
 .../exec/testing/CountDownLatchInjectionImpl.java    |  2 +-
 .../apache/drill/exec/testing/ExecutionControls.java |  2 +-
 .../exec/testing/ExecutionControlsInjector.java      |  2 +-
 .../org/apache/drill/exec/testing/InjectionSite.java |  2 +-
 .../drill/exec/testing/store/NoWriteLocalStore.java  |  4 ++--
 .../drill/exec/util/ArrayWrappedIntIntMap.java       |  2 +-
 .../org/apache/drill/exec/util/BatchPrinter.java     |  2 +-
 .../apache/drill/exec/util/ImpersonationUtil.java    | 12 ++++++------
 .../drill/exec/util/MemoryAllocationUtilities.java   |  2 +-
 .../drill/exec/util/StoragePluginTestUtils.java      |  2 +-
 .../java/org/apache/drill/exec/util/Utilities.java   |  6 +++---
 .../java/org/apache/drill/exec/util/VectorUtil.java  |  4 ++--
 .../filereader/BufferedDirectBufInputStream.java     |  4 ++--
 .../exec/util/filereader/DirectBufInputStream.java   |  4 ++--
 .../exec/vector/complex/fn/BasicJsonOutput.java      |  2 +-
 .../drill/exec/vector/complex/fn/FieldSelection.java |  2 +-
 .../drill/exec/vector/complex/fn/JsonReader.java     |  6 +++---
 .../exec/vector/complex/fn/JsonReaderUtils.java      |  2 +-
 .../drill/exec/vector/complex/fn/WorkingBuffer.java  |  2 +-
 .../org/apache/drill/exec/work/QueryWorkUnit.java    |  2 +-
 .../java/org/apache/drill/exec/work/WorkManager.java |  6 +++---
 .../drill/exec/work/batch/AbstractDataCollector.java |  2 +-
 .../drill/exec/work/batch/IncomingBuffers.java       |  4 ++--
 .../drill/exec/work/batch/ResponseSenderQueue.java   |  4 ++--
 .../exec/work/batch/SpoolingRawBatchBuffer.java      |  8 ++++----
 .../exec/work/batch/UnlimitedRawBatchBuffer.java     |  2 +-
 .../apache/drill/exec/work/filter/BloomFilter.java   |  2 +-
 .../drill/exec/work/filter/RuntimeFilterManager.java |  2 +-
 .../org/apache/drill/exec/work/foreman/Foreman.java  |  4 ++--
 .../drill/exec/work/foreman/FragmentsRunner.java     |  8 ++++----
 .../apache/drill/exec/work/foreman/QueryManager.java |  6 +++---
 .../exec/work/foreman/rm/EmbeddedQueryQueue.java     |  2 +-
 .../work/foreman/rm/ThrottledResourceManager.java    |  4 ++--
 .../exec/work/fragment/NonRootFragmentManager.java   |  2 +-
 .../drill/exec/work/metadata/MetadataProvider.java   |  8 ++++----
 .../drill/exec/work/metadata/ServerMetaProvider.java |  4 ++--
 .../exec/work/prepare/PreparedStatementProvider.java |  2 +-
 .../apache/drill/exec/work/user/PlanSplitter.java    |  2 +-
 .../hadoop/ParquetColumnChunkPageWriteStore.java     |  6 +++---
 .../src/test/java/org/apache/drill/PlanTestBase.java |  2 +-
 .../src/test/java/org/apache/drill/PlanningBase.java |  8 ++++----
 .../src/test/java/org/apache/drill/TestBugFixes.java |  2 +-
 .../java/org/apache/drill/TestFrameworkTest.java     |  2 +-
 .../drill/TestFunctionsWithTypeExpoQueries.java      |  2 +-
 .../java/org/apache/drill/TestImplicitCasting.java   |  2 +-
 .../apache/drill/TestTpchDistributedConcurrent.java  |  2 +-
 .../src/test/java/org/apache/drill/TestUnionAll.java |  2 +-
 .../java/org/apache/drill/TestUnionDistinct.java     |  2 +-
 .../apache/drill/exec/DrillSeparatePlanningTest.java |  2 +-
 .../org/apache/drill/exec/DrillSystemTestBase.java   |  2 +-
 .../test/java/org/apache/drill/exec/ExecTest.java    |  2 +-
 .../test/java/org/apache/drill/exec/RunRootExec.java |  6 +++---
 .../org/apache/drill/exec/TestEmptyInputSql.java     |  2 +-
 .../org/apache/drill/exec/TestOpSerialization.java   |  2 +-
 .../apache/drill/exec/TestQueriesOnLargeFile.java    |  4 ++--
 .../org/apache/drill/exec/cache/TestWriteToDisk.java |  4 ++--
 .../drill/exec/client/DrillClientSystemTest.java     |  4 ++--
 .../org/apache/drill/exec/client/DumpCatTest.java    |  4 ++--
 .../drill/exec/compile/CodeCompilerTestFactory.java  |  2 +-
 .../exec/compile/bytecode/ReplaceMethodInvoke.java   |  4 ++--
 .../drill/exec/coord/zk/TestZookeeperClient.java     |  2 +-
 .../drill/exec/expr/fn/FunctionInitializerTest.java  |  2 +-
 .../drill/exec/expr/fn/impl/TestStringFunctions.java |  2 +-
 .../expr/fn/registry/FunctionRegistryHolderTest.java |  8 ++++----
 .../drill/exec/fn/impl/TestAggregateFunction.java    |  4 ++--
 .../drill/exec/fn/impl/TestAggregateFunctions.java   |  6 +++---
 .../apache/drill/exec/fn/impl/TestCastFunctions.java |  4 ++--
 .../apache/drill/exec/fn/impl/TestDateFunctions.java |  4 ++--
 .../apache/drill/exec/fn/impl/TestMathFunctions.java |  4 ++--
 .../apache/drill/exec/fn/impl/TestMultiInputAdd.java |  4 ++--
 .../exec/fn/impl/TestNewAggregateFunctions.java      |  4 ++--
 .../drill/exec/fn/impl/TestNewMathFunctions.java     |  4 ++--
 .../drill/exec/fn/impl/TestRepeatedFunction.java     |  4 ++--
 .../exec/fn/interp/ExpressionInterpreterTest.java    |  2 +-
 .../drill/exec/fn/interp/TestConstantFolding.java    |  4 ++--
 .../exec/impersonation/BaseTestImpersonation.java    |  4 ++--
 .../TestImpersonationDisabledWithMiniDFS.java        |  2 +-
 .../impersonation/TestImpersonationMetadata.java     |  4 ++--
 .../exec/impersonation/TestImpersonationQueries.java |  2 +-
 .../exec/impersonation/TestInboundImpersonation.java |  2 +-
 .../TestInboundImpersonationPrivileges.java          |  4 ++--
 .../org/apache/drill/exec/memory/TestAllocators.java |  6 +++---
 .../exec/physical/config/TestParsePhysicalPlan.java  |  4 ++--
 .../drill/exec/physical/impl/MockRecordBatch.java    |  2 +-
 .../drill/exec/physical/impl/SimpleRootExec.java     |  2 +-
 .../exec/physical/impl/TestBroadcastExchange.java    |  4 ++--
 .../drill/exec/physical/impl/TestCastFunctions.java  |  4 ++--
 .../exec/physical/impl/TestCastVarCharToBigInt.java  |  4 ++--
 .../exec/physical/impl/TestComparisonFunctions.java  |  4 ++--
 .../exec/physical/impl/TestConvertFunctions.java     |  4 ++--
 .../apache/drill/exec/physical/impl/TestDecimal.java |  4 ++--
 .../physical/impl/TestDistributedFragmentRun.java    |  4 ++--
 .../exec/physical/impl/TestExtractFunctions.java     |  4 ++--
 .../exec/physical/impl/TestHashToRandomExchange.java |  4 ++--
 .../physical/impl/TestImplicitCastFunctions.java     |  4 ++--
 .../drill/exec/physical/impl/TestLocalExchange.java  |  6 +++---
 .../exec/physical/impl/TestReverseImplicitCast.java  |  4 ++--
 .../exec/physical/impl/TestSimpleFragmentRun.java    |  4 ++--
 .../exec/physical/impl/TestSimpleFunctions.java      |  4 ++--
 .../exec/physical/impl/TestStringFunctions.java      |  4 ++--
 .../drill/exec/physical/impl/TestUnionExchange.java  |  4 ++--
 .../exec/physical/impl/TopN/TestTopNEmitOutcome.java |  2 +-
 .../drill/exec/physical/impl/TopN/TopNBatchTest.java |  2 +-
 .../apache/drill/exec/physical/impl/agg/TestAgg.java |  4 ++--
 .../exec/physical/impl/agg/TestAggWithAnyValue.java  |  2 +-
 .../exec/physical/impl/agg/TestHashAggBatch.java     |  6 +++---
 .../exec/physical/impl/common/HashPartitionTest.java |  2 +-
 .../impl/common/HashTableAllocationTrackerTest.java  |  2 +-
 .../exec/physical/impl/filter/TestSimpleFilter.java  |  4 ++--
 .../exec/physical/impl/flatten/TestFlatten.java      |  2 +-
 .../exec/physical/impl/join/PartitionStatImpl.java   |  4 ++--
 .../impl/join/TestBuildSidePartitioningImpl.java     |  2 +-
 .../drill/exec/physical/impl/join/TestHashJoin.java  |  4 ++--
 .../exec/physical/impl/join/TestHashJoinJPPD.java    |  2 +-
 .../exec/physical/impl/join/TestHashJoinSpill.java   |  2 +-
 .../TestHashTableSizeCalculatorConservativeImpl.java |  2 +-
 .../join/TestHashTableSizeCalculatorLeanImpl.java    |  2 +-
 .../drill/exec/physical/impl/join/TestMergeJoin.java |  6 +++---
 .../impl/join/TestMergeJoinMulCondition.java         |  4 ++--
 .../impl/join/TestPostBuildCalculationsImpl.java     |  4 ++--
 .../impl/limit/TestEarlyLimit0Optimization.java      |  2 +-
 .../exec/physical/impl/limit/TestLimitOperator.java  |  2 +-
 .../exec/physical/impl/limit/TestSimpleLimit.java    |  4 ++--
 .../impl/mergereceiver/TestMergingReceiver.java      |  4 ++--
 .../TestOrderedPartitionExchange.java                |  6 +++---
 .../impl/partitionsender/TestPartitionSender.java    |  2 +-
 .../physical/impl/project/TestSimpleProjection.java  |  4 ++--
 .../exec/physical/impl/sort/TestSimpleSort.java      |  4 ++--
 .../impl/trace/TestTraceMultiRecordBatch.java        |  4 ++--
 .../physical/impl/trace/TestTraceOutputDump.java     |  4 ++--
 .../exec/physical/impl/union/TestSimpleUnion.java    |  4 ++--
 .../unnest/TestUnnestWithLateralCorrectness.java     |  2 +-
 .../exec/physical/impl/writer/TestParquetWriter.java |  4 ++--
 .../drill/exec/physical/impl/writer/TestWriter.java  |  4 ++--
 .../impl/xsort/managed/SortTestUtilities.java        |  2 +-
 .../impl/xsort/managed/TestExternalSortExec.java     |  2 +-
 .../impl/xsort/managed/TestSortEmitOutcome.java      |  2 +-
 .../physical/impl/xsort/managed/TestSortImpl.java    |  4 ++--
 .../exec/physical/impl/xsort/managed/TestSorter.java |  2 +-
 .../exec/physical/rowSet/impl/RowSetTestUtils.java   |  2 +-
 .../rowSet/impl/TestResultSetLoaderEmptyProject.java |  2 +-
 .../rowSet/impl/TestResultSetLoaderOverflow.java     |  2 +-
 .../rowSet/impl/TestResultSetLoaderTorture.java      |  2 +-
 .../exec/physical/unit/BasicPhysicalOpUnitTest.java  |  2 +-
 .../exec/physical/unit/MiniPlanUnitTestBase.java     |  4 ++--
 .../drill/exec/physical/unit/TestMiniPlan.java       |  2 +-
 .../exec/physical/unit/TestNullInputMiniPlan.java    |  2 +-
 .../exec/physical/unit/TestOutputBatchSize.java      |  4 ++--
 .../exec/planner/TestDirectoryExplorerUDFs.java      |  6 +++---
 .../TestHardAffinityFragmentParallelizer.java        |  4 ++--
 .../exec/planner/logical/DrillLogicalTestutils.java  |  2 +-
 .../drill/exec/planner/logical/DrillOptiqTest.java   |  2 +-
 .../org/apache/drill/exec/pop/PopUnitTestBase.java   |  4 ++--
 .../apache/drill/exec/pop/TestFragmentChecker.java   |  2 +-
 .../apache/drill/exec/pop/TestInjectionValue.java    |  4 ++--
 .../exec/record/ExpressionTreeMaterializerTest.java  |  4 ++--
 .../apache/drill/exec/record/TestRecordIterator.java |  6 +++---
 .../drill/exec/record/TestVectorContainer.java       |  2 +-
 .../drill/exec/record/vector/TestDateTypes.java      |  4 ++--
 .../drill/exec/record/vector/TestValueVector.java    |  4 ++--
 .../drill/exec/rpc/data/TestBitBitKerberos.java      |  6 +++---
 .../org/apache/drill/exec/rpc/data/TestBitRpc.java   |  4 ++--
 .../exec/rpc/user/security/TestUserBitKerberos.java  |  2 +-
 .../user/security/TestUserBitKerberosEncryption.java |  2 +-
 .../user/security/TestUserBitSaslCompatibility.java  |  2 +-
 .../drill/exec/server/TestDrillbitResilience.java    |  2 +-
 .../drill/exec/server/TestOptionsAuthEnabled.java    |  2 +-
 .../exec/server/rest/TestMainLoginPageModel.java     |  2 +-
 .../rest/spnego/TestDrillSpnegoAuthenticator.java    |  2 +-
 .../server/rest/spnego/TestSpnegoAuthentication.java |  2 +-
 .../exec/server/rest/spnego/TestSpnegoConfig.java    |  2 +-
 .../apache/drill/exec/sql/TestBaseViewSupport.java   |  2 +-
 .../java/org/apache/drill/exec/sql/TestCTAS.java     |  2 +-
 .../java/org/apache/drill/exec/sql/TestCTTAS.java    |  2 +-
 .../drill/exec/sql/TestSimpleCastFunctions.java      |  4 ++--
 .../org/apache/drill/exec/sql/TestViewSupport.java   |  2 +-
 .../apache/drill/exec/store/StorageStrategyTest.java |  4 ++--
 .../drill/exec/store/TestAffinityCalculator.java     |  4 ++--
 .../drill/exec/store/TestImplicitFileColumns.java    |  4 ++--
 .../apache/drill/exec/store/TestOutputMutator.java   |  4 ++--
 .../apache/drill/exec/store/avro/AvroFormatTest.java |  2 +-
 .../drill/exec/store/dfs/TestFileSelection.java      |  2 +-
 .../store/easy/text/compliant/TestHeaderBuilder.java |  2 +-
 .../exec/store/parquet/ParquetRecordReaderTest.java  |  8 ++++----
 .../exec/store/parquet/ParquetResultListener.java    |  4 ++--
 .../exec/store/parquet/TestParquetMetadataCache.java |  2 +-
 .../exec/store/parquet/TestParquetPhysicalPlan.java  |  6 +++---
 .../drill/exec/store/parquet/TestParquetScan.java    |  2 +-
 .../drill/exec/store/pcap/TestPcapDecoder.java       |  2 +-
 .../drill/exec/store/store/TestAssignment.java       |  8 ++++----
 .../apache/drill/exec/store/sys/PStoreTestUtil.java  |  2 +-
 .../apache/drill/exec/store/text/TestCsvHeader.java  |  2 +-
 .../drill/exec/store/text/TextRecordReaderTest.java  |  4 ++--
 .../java/org/apache/drill/exec/testing/Controls.java |  2 +-
 .../apache/drill/exec/testing/TestResourceLeak.java  |  4 ++--
 .../exec/udf/dynamic/TestDynamicUDFSupport.java      |  2 +-
 .../drill/exec/util/FileSystemUtilTestBase.java      |  4 ++--
 .../exec/vector/complex/writer/TestJsonReader.java   |  4 ++--
 .../org/apache/drill/exec/work/batch/FileTest.java   |  2 +-
 .../drill/exec/work/batch/TestSpoolingBuffer.java    |  4 ++--
 .../prepare/TestLimit0VsRegularQueriesMetadata.java  |  4 ++--
 .../work/prepare/TestPreparedStatementProvider.java  |  2 +-
 .../org/apache/drill/test/BaseDirTestWatcher.java    |  2 +-
 .../test/java/org/apache/drill/test/BaseFixture.java |  2 +-
 .../java/org/apache/drill/test/BaseTestQuery.java    |  6 +++---
 .../drill/test/BufferingQueryEventListener.java      |  2 +-
 .../java/org/apache/drill/test/ClusterFixture.java   |  6 +++---
 .../org/apache/drill/test/ClusterFixtureBuilder.java |  2 +-
 .../java/org/apache/drill/test/DrillTestWrapper.java |  2 +-
 .../apache/drill/test/LegacyOperatorTestBuilder.java |  4 ++--
 .../java/org/apache/drill/test/OperatorFixture.java  | 14 +++++++-------
 .../org/apache/drill/test/OperatorTestBuilder.java   |  2 +-
 .../apache/drill/test/OperatorTestBuilderTest.java   |  2 +-
 .../java/org/apache/drill/test/ProfileParser.java    |  2 +-
 .../java/org/apache/drill/test/QueryBuilder.java     |  2 +-
 .../org/apache/drill/test/RestClientFixture.java     |  2 +-
 .../test/java/org/apache/drill/test/TestBuilder.java |  4 ++--
 .../org/apache/drill/test/rowSet/DirectRowSet.java   |  2 +-
 .../org/apache/drill/test/rowSet/IndirectRowSet.java |  2 +-
 .../org/apache/drill/test/rowSet/RowSetBuilder.java  |  2 +-
 .../apache/drill/test/rowSet/RowSetComparison.java   |  6 +++---
 .../drill/test/rowSet/file/JsonFileBuilder.java      |  8 ++++----
 .../drill/test/rowSet/test/PerformanceTool.java      |  2 +-
 .../drill/test/rowSet/test/TestScalarAccessors.java  |  2 +-
 .../test/rowSet/test/TestVariableWidthWriter.java    |  2 +-
 .../drill/jdbc/impl/DrillColumnMetaDataList.java     |  2 +-
 .../apache/drill/jdbc/impl/DrillConnectionImpl.java  |  2 +-
 .../java/org/apache/drill/jdbc/impl/DrillCursor.java |  4 ++--
 .../drill/jdbc/impl/DrillDatabaseMetaDataImpl.java   |  6 +++---
 .../org/apache/drill/jdbc/impl/DrillMetaImpl.java    |  6 +++---
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java   |  2 +-
 .../java/org/apache/drill/jdbc/ConnectionInfo.java   |  6 +++---
 .../test/java/org/apache/drill/jdbc/DriverTest.java  |  2 +-
 .../java/org/apache/drill/jdbc/JdbcTestBase.java     |  6 +++---
 .../drill/jdbc/MultiConnectionCachingFactory.java    |  2 +-
 .../org/apache/drill/jdbc/NonClosableConnection.java |  2 +-
 .../org/apache/drill/jdbc/PreparedStatementTest.java |  2 +-
 .../Bug1735ResultSetCloseReleasesBuffersTest.java    |  2 +-
 .../test/java/org/apache/drill/jdbc/test/Hook.java   |  2 +-
 .../org/apache/drill/jdbc/test/JdbcDataTest.java     | 10 +++++-----
 .../apache/drill/jdbc/test/JdbcTestActionBase.java   |  2 +-
 .../apache/drill/jdbc/test/JdbcTestQueryBase.java    |  2 +-
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java    |  4 ++--
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java    |  2 +-
 .../base/src/main/java/io/netty/buffer/DrillBuf.java |  2 +-
 .../org/apache/drill/exec/memory/Accountant.java     |  4 ++--
 .../apache/drill/exec/memory/AllocationManager.java  |  4 ++--
 .../org/apache/drill/exec/memory/BaseAllocator.java  |  2 +-
 .../org/apache/drill/exec/memory/BoundsChecking.java |  2 +-
 .../org/apache/drill/exec/memory/RootAllocator.java  |  2 +-
 .../java/org/apache/drill/exec/rpc/BasicClient.java  |  2 +-
 .../java/org/apache/drill/exec/rpc/BasicServer.java  |  2 +-
 .../apache/drill/exec/rpc/ChunkCreationHandler.java  |  2 +-
 .../org/apache/drill/exec/rpc/DrillRpcFuture.java    |  2 +-
 .../apache/drill/exec/rpc/DrillRpcFutureImpl.java    |  4 ++--
 .../org/apache/drill/exec/rpc/FutureBitCommand.java  |  2 +-
 .../apache/drill/exec/rpc/OutboundRpcMessage.java    |  2 +-
 .../drill/exec/rpc/ReconnectingConnection.java       |  4 ++--
 .../java/org/apache/drill/exec/rpc/RequestIdMap.java |  2 +-
 .../main/java/org/apache/drill/exec/rpc/RpcBus.java  |  4 ++--
 .../org/apache/drill/exec/rpc/RpcCheckedFuture.java  |  4 ++--
 .../java/org/apache/drill/exec/rpc/RpcConfig.java    |  6 +++---
 .../rpc/security/AuthenticationOutcomeListener.java  |  6 +++---
 exec/vector/src/main/codegen/includes/vv_imports.ftl | 14 +++++++-------
 .../src/main/codegen/templates/ColumnAccessors.java  |  2 +-
 .../src/main/codegen/templates/MapWriters.java       |  2 +-
 .../src/main/codegen/templates/UnionVector.java      |  4 ++--
 .../drill/exec/expr/fn/impl/ByteFunctionHelpers.java |  2 +-
 .../drill/exec/record/metadata/TupleNameSpace.java   |  2 +-
 .../org/apache/drill/exec/util/DecimalUtility.java   |  2 +-
 .../org/apache/drill/exec/vector/AddOrGetResult.java |  2 +-
 .../apache/drill/exec/vector/BaseValueVector.java    |  2 +-
 .../java/org/apache/drill/exec/vector/BitVector.java |  2 +-
 .../apache/drill/exec/vector/UntypedNullVector.java  |  2 +-
 .../apache/drill/exec/vector/ValueHolderHelper.java  |  2 +-
 .../apache/drill/exec/vector/VectorDescriptor.java   |  2 +-
 .../exec/vector/accessor/impl/VectorPrinter.java     |  2 +-
 .../exec/vector/accessor/reader/ArrayReaderImpl.java |  2 +-
 .../exec/vector/complex/AbstractContainerVector.java |  8 ++++----
 .../drill/exec/vector/complex/AbstractMapVector.java |  4 ++--
 .../exec/vector/complex/BaseRepeatedValueVector.java |  4 ++--
 .../exec/vector/complex/EmptyValuePopulator.java     |  2 +-
 .../apache/drill/exec/vector/complex/ListVector.java |  2 +-
 .../apache/drill/exec/vector/complex/MapVector.java  |  6 +++---
 .../exec/vector/complex/RepeatedListVector.java      |  4 ++--
 .../drill/exec/vector/complex/RepeatedMapVector.java |  2 +-
 .../exec/vector/complex/impl/ComplexWriterImpl.java  |  2 +-
 .../vector/complex/impl/RepeatedMapReaderImpl.java   |  2 +-
 .../vector/complex/impl/SingleMapReaderImpl.java     |  2 +-
 .../java/org/apache/drill/common/JSONOptions.java    |  2 +-
 .../drill/common/expression/CastExpression.java      |  2 +-
 .../drill/common/expression/ErrorCollector.java      |  2 +-
 .../drill/common/expression/ErrorCollectorImpl.java  |  6 +++---
 .../drill/common/expression/ExpressionFunction.java  |  4 ++--
 .../common/expression/ExpressionStringBuilder.java   |  2 +-
 .../apache/drill/common/expression/FunctionCall.java |  4 ++--
 .../drill/common/expression/FunctionCallFactory.java |  2 +-
 .../common/expression/FunctionHolderExpression.java  |  4 ++--
 .../apache/drill/common/expression/IfExpression.java |  6 +++---
 .../apache/drill/common/expression/SchemaPath.java   |  2 +-
 .../drill/common/expression/ValueExpressions.java    |  2 +-
 .../common/expression/fn/JodaDateValidator.java      |  2 +-
 .../visitors/ConditionalExprOptimizer.java           |  2 +-
 .../org/apache/drill/common/graph/AdjacencyList.java |  6 +++---
 .../drill/common/logical/LogicalPlanBuilder.java     |  4 ++--
 .../common/logical/data/AbstractSingleBuilder.java   |  2 +-
 .../org/apache/drill/common/logical/data/Filter.java |  2 +-
 .../apache/drill/common/logical/data/Flatten.java    |  2 +-
 .../drill/common/logical/data/GroupingAggregate.java |  4 ++--
 .../org/apache/drill/common/logical/data/Join.java   |  6 +++---
 .../drill/common/logical/data/LateralJoin.java       |  2 +-
 .../org/apache/drill/common/logical/data/Limit.java  |  2 +-
 .../org/apache/drill/common/logical/data/Order.java  |  8 ++++----
 .../apache/drill/common/logical/data/Project.java    |  2 +-
 .../drill/common/logical/data/RunningAggregate.java  |  2 +-
 .../common/logical/data/SingleInputOperator.java     |  2 +-
 .../org/apache/drill/common/logical/data/Store.java  |  2 +-
 .../apache/drill/common/logical/data/Transform.java  |  2 +-
 .../org/apache/drill/common/logical/data/Union.java  |  2 +-
 .../org/apache/drill/common/logical/data/Values.java |  2 +-
 .../org/apache/drill/common/logical/data/Window.java |  6 +++---
 .../common/expression/fn/JodaDateValidatorTest.java  |  2 +-
 .../java/org/apache/drill/fmpp/mojo/FMPPMojo.java    |  2 +-
 985 files changed, 1717 insertions(+), 1716 deletions(-)

commit 44e63bd0deda72af726f51e0ff78fc2b636c64eb
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Mon Apr 23 11:38:39 2018 +0300

    DRILL-6422: Update guava to 23.0 and shade it
    
    - Fix compilation errors for new version of Guava.
    - Remove usage of deprecated API
    - Shade guava and add dependencies to the shaded version
    - Ban unshaded package
    - Introduce drill-shaded module and move guava-shaded under it
    - Add methods to convert shaded guava lists to the unshaded ones
    - Add instruction for publishing artifacts to the Apache repository

 .../apache/drill/common/util/DrillFileUtils.java   |  2 +-
 .../org/apache/drill/common/util/GuavaUtils.java   | 47 ++++++++++++++
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |  2 +-
 .../drill/exec/store/jdbc/DrillJdbcRuleBase.java   |  3 +-
 .../drill/exec/store/jdbc/JdbcStoragePlugin.java   |  5 +-
 .../drill/exec/store/mongo/MongoSubScan.java       |  4 +-
 distribution/src/assemble/bin.xml                  |  1 +
 docs/dev/UpgradeGuava.md                           | 62 ++++++++++++++++++
 drill-shaded/drill-shaded-guava/pom.xml            | 72 +++++++++++++++++++++
 drill-shaded/pom.xml                               | 74 ++++++++++++++++++++++
 .../apache/drill/yarn/zk/ZKClusterCoordinator.java |  8 ++-
 .../drill/exec/coord/zk/ZKClusterCoordinator.java  | 11 ++--
 .../exec/expr/HoldingContainerExpression.java      |  5 +-
 .../drill/exec/physical/base/AbstractReceiver.java |  8 +--
 .../drill/exec/physical/base/AbstractSubScan.java  |  5 +-
 .../drill/exec/physical/config/UnnestPOP.java      |  4 +-
 .../apache/drill/exec/physical/config/Values.java  |  4 +-
 .../planner/FileSystemPartitionDescriptor.java     |  3 +-
 .../exec/planner/common/DrillValuesRelBase.java    | 12 ++--
 .../drill/exec/planner/logical/DrillValuesRel.java |  6 +-
 .../drill/exec/planner/physical/ValuesPrel.java    |  8 ++-
 .../java/org/apache/drill/exec/schema/Field.java   |  8 +--
 .../org/apache/drill/exec/schema/NamedField.java   | 46 +++++++-------
 .../org/apache/drill/exec/schema/OrderedField.java | 34 +++++-----
 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 22 ++-----
 .../org/apache/drill/exec/DrillSystemTestBase.java |  4 +-
 .../java/org/apache/drill/exec/RunRootExec.java    |  2 +-
 .../apache/drill/exec/TestQueriesOnLargeFile.java  | 12 ++--
 .../org/apache/drill/exec/ZookeeperHelper.java     |  4 +-
 .../org/apache/drill/exec/client/DumpCatTest.java  |  2 +-
 .../drill/exec/fn/impl/TestAggregateFunction.java  |  2 +-
 .../drill/exec/fn/impl/TestDateFunctions.java      |  2 +-
 .../drill/exec/fn/impl/TestMathFunctions.java      |  2 +-
 .../drill/exec/fn/impl/TestMultiInputAdd.java      |  2 +-
 .../exec/fn/impl/TestNewAggregateFunctions.java    |  4 +-
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |  2 +-
 .../TestInboundImpersonationPrivileges.java        |  6 +-
 .../apache/drill/exec/memory/TestAllocators.java   |  4 +-
 .../physical/config/TestParsePhysicalPlan.java     |  2 +-
 .../exec/physical/impl/TestBroadcastExchange.java  |  8 +--
 .../exec/physical/impl/TestCastFunctions.java      | 18 +++---
 .../physical/impl/TestCastVarCharToBigInt.java     |  4 +-
 .../drill/exec/physical/impl/TestDecimal.java      | 24 +++----
 .../physical/impl/TestDistributedFragmentRun.java  |  8 +--
 .../exec/physical/impl/TestExtractFunctions.java   |  9 +--
 .../physical/impl/TestHashToRandomExchange.java    |  4 +-
 .../physical/impl/TestReverseImplicitCast.java     |  2 +-
 .../exec/physical/impl/TestSimpleFragmentRun.java  |  4 +-
 .../exec/physical/impl/TestSimpleFunctions.java    |  6 +-
 .../exec/physical/impl/TestUnionExchange.java      |  6 +-
 .../drill/exec/physical/impl/agg/TestAgg.java      |  2 +-
 .../physical/impl/filter/TestSimpleFilter.java     |  4 +-
 .../exec/physical/impl/join/TestHashJoin.java      | 14 ++--
 .../exec/physical/impl/join/TestMergeJoin.java     | 30 ++++-----
 .../impl/join/TestMergeJoinMulCondition.java       | 14 ++--
 .../exec/physical/impl/limit/TestSimpleLimit.java  |  4 +-
 .../impl/mergereceiver/TestMergingReceiver.java    | 20 +++---
 .../TestOrderedPartitionExchange.java              |  4 +-
 .../impl/project/TestSimpleProjection.java         |  2 +-
 .../exec/physical/impl/sort/TestSimpleSort.java    |  4 +-
 .../impl/trace/TestTraceMultiRecordBatch.java      |  2 +-
 .../physical/impl/trace/TestTraceOutputDump.java   | 10 +--
 .../exec/physical/impl/union/TestSimpleUnion.java  |  2 +-
 .../exec/physical/impl/writer/TestWriter.java      |  2 +-
 .../drill/exec/planner/logical/DrillOptiqTest.java |  5 +-
 .../org/apache/drill/exec/pop/PopUnitTestBase.java |  2 +-
 .../apache/drill/exec/pop/TestInjectionValue.java  |  2 +-
 .../drill/exec/record/TestRecordIterator.java      | 11 ++--
 .../drill/exec/record/vector/TestDateTypes.java    | 18 +++---
 .../drill/exec/store/TestImplicitFileColumns.java  |  4 +-
 .../store/parquet/ParquetRecordReaderTest.java     | 18 +++---
 .../exec/store/text/TextRecordReaderTest.java      |  4 +-
 .../exec/vector/complex/writer/TestJsonReader.java |  4 +-
 .../drill/exec/work/batch/TestSpoolingBuffer.java  |  6 +-
 exec/jdbc-all/pom.xml                              | 22 ++++++-
 .../drill/jdbc/impl/DrillConnectionImpl.java       |  2 +-
 .../drill/jdbc/impl/DrillDatabaseMetaDataImpl.java | 10 +--
 .../drill/common/expression/NullExpression.java    |  5 +-
 .../drill/common/expression/TypedNullConstant.java |  5 +-
 .../drill/common/expression/ValueExpressions.java  | 28 ++++----
 .../drill/common/logical/data/SourceOperator.java  |  5 +-
 pom.xml                                            | 18 ++++--
 src/main/resources/checkstyle-config.xml           |  5 +-
 83 files changed, 581 insertions(+), 306 deletions(-)

commit d8f9fb6a5cf22a01fa3f48bd40e7dbeb3cb6e4e4
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Mon Jun 4 10:45:12 2018 -0700

    DRILL-6461: Added basic data correctness tests for hash agg, and improved operator unit testing framework.
    
    git closes #1344

 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  12 -
 .../physical/impl/common/HashTableTemplate.java    |  12 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   2 +
 .../physical/impl/svremover/AbstractCopier.java    |  26 +-
 .../physical/impl/svremover/AbstractSV2Copier.java |   4 +-
 .../physical/impl/svremover/AbstractSV4Copier.java |   4 +-
 .../drill/exec/physical/impl/svremover/Copier.java |   4 +-
 .../physical/impl/svremover/GenericCopier.java     |   7 +-
 .../physical/impl/svremover/StraightCopier.java    |   3 +-
 .../apache/drill/exec/record/RecordBatchSizer.java |  17 ++
 .../physical/impl/BaseTestOpBatchEmitOutcome.java  |   2 +-
 .../drill/exec/physical/impl/MockRecordBatch.java  | 196 ++++++++++---
 .../physical/impl/agg/TestAggWithAnyValue.java     |   6 +-
 .../exec/physical/impl/agg/TestHashAggBatch.java   | 212 ++++++++++++++
 .../physical/impl/common/HashPartitionTest.java    |  70 +++--
 .../exec/physical/impl/join/TestHashJoinJPPD.java  |   6 +-
 .../exec/physical/impl/join/TestHashJoinSpill.java |   8 +-
 .../physical/impl/limit/TestLimitOperator.java     |  16 +-
 .../impl/svremover/AbstractGenericCopierTest.java  |  90 +++---
 .../physical/impl/svremover/GenericCopierTest.java |   4 +-
 .../impl/svremover/GenericSV2BatchCopierTest.java  |   4 +-
 .../impl/svremover/GenericSV2CopierTest.java       |   4 +-
 .../impl/svremover/GenericSV4CopierTest.java       |   9 +-
 .../physical/unit/BasicPhysicalOpUnitTest.java     |  30 +-
 .../exec/physical/unit/MiniPlanUnitTestBase.java   |   3 +-
 .../exec/physical/unit/TestOutputBatchSize.java    |  80 +++---
 .../columnreaders/TestBatchSizingMemoryUtil.java   |   2 +-
 .../drill/test/LegacyOperatorTestBuilder.java      | 178 ++++++++++++
 .../org/apache/drill/test/OperatorTestBuilder.java | 314 +++++++++++++++++++++
 .../apache/drill/test/OperatorTestBuilderTest.java | 157 +++++++++++
 .../unit => test}/PhysicalOpUnitTestBase.java      | 169 ++---------
 .../org/apache/drill/test/rowSet/RowSetBatch.java  | 111 --------
 .../apache/drill/test/rowSet/RowSetComparison.java | 151 +++++++---
 .../drill/test/rowSet/TestRowSetComparison.java    | 211 ++++++++++++++
 .../main/codegen/templates/FixedValueVectors.java  |   2 +-
 .../codegen/templates/NullableValueVectors.java    |   2 +-
 36 files changed, 1616 insertions(+), 512 deletions(-)

commit e9ffb5bde37efad9f0b646773311f23ea2dbda5d
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Mon Jul 30 11:21:02 2018 -0700

    DRILL-6644: Don't reserve space for incoming probe batches unnecessarily during the build phase.
    
    git closes #1409

 .../exec/physical/impl/join/HashJoinBatch.java     |  23 ++--
 .../join/HashJoinMechanicalMemoryCalculator.java   |   1 -
 .../impl/join/HashJoinMemoryCalculator.java        |   3 +-
 .../impl/join/HashJoinMemoryCalculatorImpl.java    | 106 ++++++++---------
 .../impl/join/TestBuildSidePartitioningImpl.java   | 104 +++++++++++++----
 .../impl/join/TestPostBuildCalculationsImpl.java   | 127 +++++++++++++++++----
 .../exec/physical/unit/TestNullInputMiniPlan.java  |   4 +-
 7 files changed, 243 insertions(+), 125 deletions(-)

commit a1f3f9a7ee06d14e1932374e928853480e86dd90
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Aug 22 13:02:33 2018 +0300

    DRILL-6703: Query with complex expressions in lateral and unnest fails with CannotPlanException
    
    git closes #1441

 .../apache/drill/exec/planner/PlannerPhase.java    |   3 -
 ...rojectComplexRexNodeCorrelateTransposeRule.java | 154 ----------------
 .../planner/sql/handlers/ComplexUnnestVisitor.java | 199 +++++++++++++++++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    |  33 ++--
 .../impl/lateraljoin/TestE2EUnnestAndLateral.java  |  39 ++++
 5 files changed, 252 insertions(+), 176 deletions(-)

commit 260a164f1884f99208811ec151078fa019534243
Author: Vlad Rozov <vrozov@apache.org>
Date:   Wed Aug 22 18:42:11 2018 -0700

    DRILL-6693: When a query is started from Drill Web Console, the UI becomes inaccessible until the query finishes
    
    git closes #1440

 .../java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java | 1 +
 .../src/main/java/org/apache/drill/exec/server/rest/WebServer.java   | 5 +++--
 exec/java-exec/src/main/resources/drill-module.conf                  | 3 ++-
 3 files changed, 6 insertions(+), 3 deletions(-)

commit 989618287559de5e87349c637cb91150ea6a5135
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Mon Jul 2 17:59:42 2018 +0300

    DRILL-6647: Update Calcite version to 1.17.0
    
    closes #1425

 .../drill/exec/store/jdbc/JdbcStoragePlugin.java   |    2 +-
 exec/java-exec/src/main/codegen/data/Parser.tdd    |    8 +-
 .../logical/DirPrunedEnumerableTableScan.java      |   12 +-
 .../exec/planner/logical/DrillConditions.java      |   20 +-
 .../exec/planner/sql/DrillConvertletTable.java     |   35 +-
 .../drill/exec/planner/sql/SqlConverter.java       |    2 +-
 .../apache/drill/exec/store/AbstractSchema.java    |   27 +
 .../drill/jdbc/impl/DrillConnectionImpl.java       |  400 ++----
 .../drill/jdbc/impl/DrillDatabaseMetaDataImpl.java |  354 +++--
 .../apache/drill/jdbc/impl/DrillJdbc41Factory.java |  120 +-
 .../jdbc/impl/DrillPreparedStatementImpl.java      |  463 +-----
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java | 1494 ++++++--------------
 .../jdbc/impl/DrillResultSetMetaDataImpl.java      |   10 +-
 .../apache/drill/jdbc/impl/DrillStatementImpl.java |  327 +----
 .../java/org/apache/drill/jdbc/JdbcTestBase.java   |  129 +-
 ...rill2489CallsAfterCloseThrowExceptionsTest.java |  107 +-
 pom.xml                                            |    4 +-
 17 files changed, 917 insertions(+), 2597 deletions(-)

commit 8bcb103a0e3bcc5f85a03cbed3c6c0cea254ec4e
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Aug 17 17:04:30 2018 +0300

    DRILL-6492: Ensure schema / workspace case insensitivity in Drill
    
    1. StoragePluginsRegistryImpl was updated:
    a. for backward compatibility at init to convert all existing storage plugins names to lower case, in case of duplicates, to log warning and skip the duplicate.
    b. to wrap persistent plugins registry into case insensitive store wrapper (CaseInsensitivePersistentStore) to ensure all given keys are converted into lower case when performing insert, update, delete, search operations.
    c. to load system storage plugins dynamically by @SystemStorage annotation.
    2. StoragePlugins class was updated to stored storage plugins configs by name in case insensitive map.
    3. SchemaUtilities.searchSchemaTree method was updated to convert all schema names into lower case to ensure that are they are matched case insensitively (all schemas are stored in Drill in lower case).
    4. FileSystemConfig was updated to store workspaces by name in case insensitive hash map.
    5. All plugins schema factories are now extend AbstractSchemaFactory to ensure that given schema name is converted to lower case.
    6. New method areTableNamesAreCaseInsensitive was added to AbstractSchema to indicate if schema tables names are case insensitive. By default, false. Schema implementation is responsible for table names case insensitive search in case it supports one. Currently, information_schema, sys and hive do so.
    7. System storage plugins (information_schema, sys) were refactored to ensure their schema, table names are case insensitive, also the annotation @SystemPlugin and additional constructor were added to allow dynamically load system plugins at storage plugin registry during init phase.
    8. MetadataProvider was updated to concert all schema filter conditions into lower case to ensure schema would be matched case insensitively.
    9. ShowSchemasHandler, ShowTablesHandler, DescribeTableHandler were updated to ensure schema / tables names (this depends if schema supports case insensitive table names) would be found case insensitively.
    
    git closes #1439

 .../drill/common/map/CaseInsensitiveMap.java       |  25 +-
 .../drill/common/scanner/ClassPathScanner.java     |  22 +-
 .../drill/common/map/TestCaseInsensitiveMap.java   |  15 +
 .../drill/exec/store/hbase/HBaseSchemaFactory.java |  26 +-
 .../exec/store/hive/schema/HiveDatabaseSchema.java |  11 +-
 .../exec/store/hive/schema/HiveSchemaFactory.java  |  29 +-
 .../apache/drill/exec/hive/TestHiveStorage.java    |   5 +
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |   2 +-
 .../hive/BaseTestHiveImpersonation.java            |  11 -
 .../hive/TestSqlStdBasedAuthorization.java         |  19 +-
 .../hive/TestStorageBasedHiveAuthorization.java    |  30 +-
 .../store/kafka/schema/KafkaSchemaFactory.java     |  14 +-
 .../drill/exec/store/kudu/KuduSchemaFactory.java   |  22 +-
 .../store/mongo/schema/MongoSchemaFactory.java     |  16 +-
 contrib/storage-opentsdb/README.md                 |  16 +-
 .../exec/store/openTSDB/OpenTSDBStoragePlugin.java |   5 +-
 .../openTSDB/schema/OpenTSDBSchemaFactory.java     |  19 +-
 .../drill/exec/coord/zk/ZookeeperClient.java       |   2 +-
 .../expr/fn/registry/LocalFunctionRegistry.java    |  11 +-
 .../drill/exec/planner/logical/StoragePlugins.java |   7 +-
 .../drill/exec/planner/sql/SchemaUtilites.java     |   3 +-
 .../sql/handlers/DescribeSchemaHandler.java        |   6 +-
 .../planner/sql/handlers/DescribeTableHandler.java |  69 +--
 .../planner/sql/handlers/ShowSchemasHandler.java   |  27 +-
 .../planner/sql/handlers/ShowTablesHandler.java    |  74 ++--
 .../apache/drill/exec/store/AbstractSchema.java    |  23 +-
 .../drill/exec/store/AbstractSchemaFactory.java    |  35 ++
 .../drill/exec/store/AbstractStoragePlugin.java    |  14 +-
 .../drill/exec/store/PartitionExplorerImpl.java    |   2 +-
 .../org/apache/drill/exec/store/SchemaFactory.java |   5 +-
 .../org/apache/drill/exec/store/StoragePlugin.java |   2 +
 .../apache/drill/exec/store/StoragePluginMap.java  |   6 +-
 .../drill/exec/store/StoragePluginRegistry.java    |   6 +-
 .../exec/store/StoragePluginRegistryImpl.java      | 468 ++++++++++++---------
 .../org/apache/drill/exec/store/SystemPlugin.java  |  31 ++
 .../drill/exec/store/dfs/FileSystemConfig.java     |   6 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |   2 +
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  20 +-
 .../drill/exec/store/ischema/InfoSchemaConfig.java |   3 +-
 .../exec/store/ischema/InfoSchemaConstants.java    |   2 +-
 .../store/ischema/InfoSchemaStoragePlugin.java     |  62 ++-
 .../store/sys/CaseInsensitivePersistentStore.java  |  79 ++++
 .../drill/exec/store/sys/SystemTablePlugin.java    |  54 ++-
 .../exec/store/sys/SystemTablePluginConfig.java    |   1 -
 .../drill/exec/work/metadata/MetadataProvider.java |  24 +-
 .../java-exec/src/main/resources/drill-module.conf |  25 +-
 .../drill/common/scanner/TestClassPathScanner.java |  43 +-
 .../drill/exec/coord/zk/TestZookeeperClient.java   |  10 +-
 .../exec/impersonation/BaseTestImpersonation.java  |  19 +-
 .../TestImpersonationDisabledWithMiniDFS.java      |  12 +-
 .../impersonation/TestImpersonationMetadata.java   | 112 ++---
 .../impersonation/TestImpersonationQueries.java    |  17 +-
 .../exec/planner/TestDirectoryExplorerUDFs.java    |   2 +-
 .../org/apache/drill/exec/sql/TestInfoSchema.java  |  64 ++-
 .../exec/sql/TestSchemaCaseInsensitivity.java      |  92 ++++
 .../exec/work/metadata/TestMetadataProvider.java   |  38 +-
 56 files changed, 1106 insertions(+), 659 deletions(-)

commit ddb35ce71837376c7caef28c25327ba556bb32f2
Author: Karthikeyan Manivannan <kmanivannan@mapr.com>
Date:   Fri Aug 24 23:15:02 2018 -0700

    DRILL-6688 Data batches for Project operator exceed the maximum specified (#1442)
    
    
    This change separates the metadata-width and data-width of a variable-width column such that the data-width is used in all intermediate calculations and the meta-data width is added finally when the column's width is accumulated into the total width.

 .../expr/fn/output/OutputWidthCalculators.java     |  4 +-
 .../impl/project/OutputWidthExpression.java        | 13 ++++-
 .../physical/impl/project/OutputWidthVisitor.java  | 12 ++--
 .../impl/project/ProjectMemoryManager.java         | 68 +++++++++++++++++-----
 4 files changed, 73 insertions(+), 24 deletions(-)

commit b895b28182a981e5948ffa292da827cb8b2e571e
Author: weijie.tong <weijie.tong@alipay.com>
Date:   Wed May 23 10:38:40 2018 +0800

    DRILL-6385: Support JPPD feature

 contrib/native/client/src/protobuf/BitData.pb.cc   |  471 ++++++-
 contrib/native/client/src/protobuf/BitData.pb.h    |  327 ++++-
 .../native/client/src/protobuf/UserBitShared.pb.cc |    1 +
 .../native/client/src/protobuf/UserBitShared.pb.h  |    5 +-
 .../main/codegen/templates/DrillVersionInfo.java   |    2 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |    9 +
 .../org/apache/drill/exec/expr/ClassGenerator.java |    1 -
 .../exec/expr/fn/impl/ValueVectorHashHelper.java   |  125 ++
 .../drill/exec/ops/AccountingDataTunnel.java       |    7 +
 .../org/apache/drill/exec/ops/FragmentContext.java |   13 +
 .../apache/drill/exec/ops/FragmentContextImpl.java |   17 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |    4 +
 .../apache/drill/exec/ops/SendingAccountor.java    |    2 +-
 .../drill/exec/physical/config/HashJoinPOP.java    |   44 +-
 .../exec/physical/config/RuntimeFilterPOP.java     |   58 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |    4 +-
 .../exec/physical/impl/common/HashPartition.java   |    2 +-
 .../impl/filter/RuntimeFilterBatchCreator.java     |   36 +
 .../impl/filter/RuntimeFilterRecordBatch.java      |  250 ++++
 .../exec/physical/impl/join/HashJoinBatch.java     |  112 +-
 .../impl/svremover/GenericCopierFactory.java       |    1 -
 .../drill/exec/planner/fragment/PlanningSet.java   |   23 +
 .../exec/planner/fragment/SimpleParallelizer.java  |   16 +-
 .../fragment/contrib/SplittingParallelizer.java    |    2 +-
 .../drill/exec/planner/physical/HashJoinPrel.java  |   23 +-
 .../drill/exec/planner/physical/HashPrelUtil.java  |   39 +
 .../exec/planner/physical/RuntimeFilterPrel.java   |   56 +
 .../physical/visitor/RuntimeFilterVisitor.java     |  364 ++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    |   18 +-
 .../apache/drill/exec/rpc/data/DataRpcConfig.java  |    2 +
 .../exec/rpc/data/DataServerRequestHandler.java    |   47 +-
 .../org/apache/drill/exec/rpc/data/DataTunnel.java |   55 +-
 .../drill/exec/server/options/OptionValue.java     |    2 +
 .../exec/server/options/PersistedOptionValue.java  |    8 +
 .../exec/server/options/SystemOptionManager.java   |    3 +
 .../drill/exec/server/options/TypeValidators.java  |   16 +
 .../org/apache/drill/exec/work/QueryWorkUnit.java  |   11 +-
 .../org/apache/drill/exec/work/WorkManager.java    |   42 +
 .../apache/drill/exec/work/filter/BloomFilter.java |  187 +++
 .../drill/exec/work/filter/BloomFilterDef.java     |   85 ++
 .../drill/exec/work/filter/RuntimeFilterDef.java   |   95 ++
 .../exec/work/filter/RuntimeFilterManager.java     |  386 ++++++
 .../exec/work/filter/RuntimeFilterReporter.java    |   78 ++
 .../exec/work/filter/RuntimeFilterWritable.java    |   91 ++
 .../apache/drill/exec/work/foreman/Foreman.java    |   29 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |    1 -
 .../java-exec/src/main/resources/drill-module.conf |    3 +
 .../physical/impl/common/HashPartitionTest.java    |    2 +-
 .../exec/physical/impl/join/TestHashJoinJPPD.java  |  102 ++
 .../physical/impl/join/TestHashJoinJPPDPlan.java   |  118 ++
 .../exec/physical/impl/join/TestHashJoinSpill.java |    6 +-
 .../physical/unit/BasicPhysicalOpUnitTest.java     |    2 +-
 .../exec/physical/unit/PhysicalOpUnitTestBase.java |   12 +
 .../exec/physical/unit/TestNullInputMiniPlan.java  |   16 +-
 .../drill/exec/server/options/OptionValueTest.java |    2 +-
 .../drill/exec/work/filter/BloomFilterTest.java    |  319 +++++
 .../org/apache/drill/test/OperatorFixture.java     |   11 +
 .../java/org/apache/drill/exec/proto/BitData.java  | 1350 +++++++++++++++++++-
 .../org/apache/drill/exec/proto/SchemaBitData.java |  148 +++
 .../org/apache/drill/exec/proto/UserBitShared.java |   22 +-
 .../drill/exec/proto/beans/CoreOperatorType.java   |    4 +-
 .../drill/exec/proto/beans/RuntimeFilterBDef.java  |  293 +++++
 protocol/src/main/protobuf/BitData.proto           |   11 +
 protocol/src/main/protobuf/UserBitShared.proto     |    1 +
 64 files changed, 5454 insertions(+), 138 deletions(-)

commit 71c6c689a083e7496f06e99b4d253f11866ee741
Author: Boaz Ben-Zvi <boaz@mapr.com>
Date:   Wed Aug 22 11:28:06 2018 -0700

    DRILL-6566: Reduce Hash Agg Batch size and estimate when low available memory (#1438)
    
    DRILL-6566: Reduce Hash Agg Batch size and estimate when mem available is low

 .../exec/physical/impl/aggregate/HashAggBatch.java     | 18 ++++++++++++++++++
 .../exec/physical/impl/aggregate/HashAggTemplate.java  | 16 +++++++++++-----
 .../drill/exec/physical/impl/join/HashJoinBatch.java   |  2 +-
 .../impl/join/HashJoinHelperSizeCalculatorImpl.java    |  2 +-
 .../impl/join/HashJoinMemoryCalculatorImpl.java        |  4 ++--
 .../impl/validate/IteratorValidatorBatchIterator.java  |  4 ++--
 .../exec/physical/impl/xsort/ExternalSortBatch.java    |  2 +-
 .../java/org/apache/drill/exec/record/RecordBatch.java |  4 ++--
 .../impl/join/TestBuildSidePartitioningImpl.java       | 16 ++++++++--------
 .../join/TestHashJoinHelperSizeCalculatorImpl.java     |  2 +-
 .../physical/impl/join/TestLateralJoinCorrectness.java |  4 ++--
 11 files changed, 49 insertions(+), 25 deletions(-)

commit 2dfd0dab41864f22c7ed924e17c6a8cf9b2f54ad
Author: Vlad Storona <vstorona@cybervisiontech.com>
Date:   Thu Jun 21 16:41:17 2018 +0300

    DRILL-6179: Added pcapng-format support

 .../native/client/src/protobuf/UserBitShared.pb.cc |  13 +-
 .../native/client/src/protobuf/UserBitShared.pb.h  |   5 +-
 exec/java-exec/pom.xml                             |   5 +
 .../drill/exec/store/pcap/decoder/Packet.java      |  16 +-
 .../exec/store/pcapng/PcapngFormatConfig.java      |  52 +++
 .../exec/store/pcapng/PcapngFormatPlugin.java      |  76 ++++
 .../exec/store/pcapng/PcapngRecordReader.java      | 214 ++++++++++
 .../exec/store/pcapng/decoder/PacketDecoder.java   |  61 +++
 .../drill/exec/store/pcapng/package-info.java      |  23 ++
 .../drill/exec/store/pcapng/schema/Column.java     |  28 ++
 .../exec/store/pcapng/schema/DummyArrayImpl.java   |  34 ++
 .../drill/exec/store/pcapng/schema/DummyImpl.java  |  34 ++
 .../drill/exec/store/pcapng/schema/Schema.java     | 441 +++++++++++++++++++++
 .../drill/exec/store/pcapng/schema/Util.java       |  59 +++
 .../main/resources/bootstrap-storage-plugins.json  |   3 +
 .../store/dfs/TestFormatPluginOptionExtractor.java |   1 +
 .../drill/exec/store/pcapng/TestPcapngHeaders.java | 212 ++++++++++
 .../exec/store/pcapng/TestPcapngRecordReader.java  | 100 +++++
 .../src/test/resources/store/pcapng/example.pcapng | Bin 0 -> 512 bytes
 .../src/test/resources/store/pcapng/sniff.pcapng   | Bin 0 -> 33464 bytes
 .../org/apache/drill/exec/proto/UserBitShared.java |  21 +-
 .../drill/exec/proto/beans/CoreOperatorType.java   |   4 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   1 +
 23 files changed, 1380 insertions(+), 23 deletions(-)

commit 0f9d19c4c90a148573cfed908dd03ad771306bc1
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Wed Aug 15 14:02:23 2018 -0700

    DRILL-6685: Fixed exception when reading Parquet data

 .../VarLenAbstractPageEntryReader.java             |  18 +++
 .../columnreaders/VarLenFixedEntryReader.java      |   2 +-
 .../VarLenNullableFixedEntryReader.java            |   2 +-
 .../exec/store/parquet/TestParquetBulkReader.java  | 149 +++++++++++++++++++++
 .../parquet/fourvarchar_asc_nulls.parquet          | Bin 0 -> 110651 bytes
 5 files changed, 169 insertions(+), 2 deletions(-)

commit 8ddc9d79e0d298e74f2256328dd9ddee06a20066
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Fri Aug 3 12:31:01 2018 +0300

    DRILL-6662: Access AWS access key ID and secret access key using Credential Provider API for S3 storage plugin
    
    closes #1419

 distribution/src/resources/core-site-example.xml   | 14 ++++++++++
 .../drill/exec/store/dfs/FileSystemPlugin.java     | 32 ++++++++++++++++++++++
 2 files changed, 46 insertions(+)

commit 062927aceb4279e6128c99586ff193090ff7518b
Author: Oleksandr Kalinin <alexka79@gmail.com>
Date:   Thu Aug 9 00:13:06 2018 +0200

    DRILL-6670: Align Parquet TIMESTAMP_MICROS logical type handling with earlier versions + minor fixes
    
    closes #1428

 .../parquet/AbstractParquetScanBatchCreator.java   |  36 +-
 .../parquet/columnreaders/ColumnReaderFactory.java |   9 +
 .../columnreaders/ParquetToDrillTypeConverter.java |   5 +-
 .../store/parquet2/DrillParquetGroupConverter.java |   4 +-
 .../parquet/ParquetSimpleTestFileGenerator.java    |  39 +-
 .../exec/store/parquet/TestParquetComplex.java     | 177 ------
 .../store/parquet/TestParquetLogicalTypes.java     | 665 +++++++++++++++++++++
 .../store/parquet2/TestDrillParquetReader.java     | 190 +++++-
 .../parquet/parquet_logical_types_simple.parquet   | Bin 3366 -> 4098 bytes
 .../parquet_logical_types_simple_nodict.parquet    | Bin 0 -> 4070 bytes
 .../parquet_logical_types_simple_nullable.parquet  | Bin 3518 -> 4265 bytes
 ...et_logical_types_simple_nullable_nodict.parquet | Bin 0 -> 4237 bytes
 .../complex/parquet_logical_types_complex.parquet  | Bin 3908 -> 4667 bytes
 .../parquet_logical_types_complex_nodict.parquet   | Bin 0 -> 4639 bytes
 .../parquet_logical_types_complex_nullable.parquet | Bin 4081 -> 4863 bytes
 ...t_logical_types_complex_nullable_nodict.parquet | Bin 0 -> 4836 bytes
 16 files changed, 903 insertions(+), 222 deletions(-)

commit 0000641800653ba3f41c6ef82a822a4e776d7b59
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Wed Aug 15 14:06:54 2018 +0300

    DRILL-6689: Include query user information to drillbit.log
    
    closes #1432

 .../src/main/java/org/apache/drill/exec/work/foreman/Foreman.java    | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 5dc59fb88fefcb32fc38a0a2b017833088bddc8a
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Fri Aug 17 15:23:30 2018 +0300

    DRILL-6696: IOBE in Operator Metric Registry

 .../drill/exec/ops/OperatorMetricRegistry.java     | 23 +++++-----
 .../java/org/apache/drill/TestOperatorMetrics.java | 51 ++++++++++++++++++++++
 2 files changed, 64 insertions(+), 10 deletions(-)

commit 0ed56833f4a1e6dedf33289d9bcd968e28555b31
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Thu Aug 16 16:35:26 2018 -0700

    DRILL-6694: NPE in UnnestRecordBatch when query uses a column name not present in data
    
    closes #1434

 .../physical/impl/unnest/UnnestRecordBatch.java    | 77 +++++++++++-----------
 1 file changed, 39 insertions(+), 38 deletions(-)

commit b8376cce07dc6b5fe2b3408a4b4a88c3b21816dd
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon Jul 30 23:50:12 2018 +0300

    DRILL-6680: Expose show files command into INFORMATION_SCHEMA

 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +
 .../planner/sql/handlers/DescribeTableHandler.java |  12 +-
 .../exec/planner/sql/handlers/ShowFileHandler.java | 107 -------------
 .../sql/handlers/ShowFilesCommandResult.java       |  82 ----------
 .../planner/sql/handlers/ShowFilesHandler.java     | 124 +++++++++++++++
 .../planner/sql/handlers/ShowSchemasHandler.java   |  10 +-
 .../planner/sql/handlers/ShowTablesHandler.java    |   6 +-
 .../exec/planner/sql/parser/SqlShowFiles.java      |   6 +-
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../exec/store/ischema/InfoSchemaConstants.java    |  88 +++++------
 .../store/ischema/InfoSchemaFilterBuilder.java     |  10 +-
 .../store/ischema/InfoSchemaRecordGenerator.java   |  85 ++++++++++-
 .../drill/exec/store/ischema/InfoSchemaTable.java  | 102 +++++++++----
 .../exec/store/ischema/InfoSchemaTableType.java    |   8 +-
 .../apache/drill/exec/store/ischema/Records.java   |  44 +++++-
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 .../test/java/org/apache/drill/TestDropTable.java  |   2 -
 .../exec/impersonation/BaseTestImpersonation.java  |  15 +-
 .../impersonation/TestImpersonationMetadata.java   |  33 ++--
 .../org/apache/drill/exec/sql/TestInfoSchema.java  |  16 +-
 .../drill/exec/store/ischema/TestFilesTable.java   | 169 +++++++++++++++++++++
 .../exec/work/metadata/TestMetadataProvider.java   |  14 +-
 22 files changed, 603 insertions(+), 334 deletions(-)

commit d58554ff74c672312ae50e5ad26035f779c5a5d4
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue Aug 14 15:49:13 2018 -0700

    DRILL-6687: Updated with review comments

 .../apache/drill/exec/physical/impl/svremover/AbstractSV2Copier.java | 2 +-
 .../org/apache/drill/exec/record/selection/SelectionVector2.java     | 5 ++++-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 9725d4dfd25e9ac6302122463832f3334dd615fa
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Thu Aug 9 19:21:42 2018 -0700

    DRILL-6687: Improve RemovingRecordBatch to do transfer when all records needs to be copied
    Add optimization in SelectionVector2 to enable RemovingRecordBatch to transfer ValueVectors from incoming to output container when all records needs to be copied.
    Modified FilterRecordBatch and LimitRecordBatch to play by this optimization

 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  6 +-
 .../exec/physical/impl/filter/FilterTemplate2.java |  7 ++
 .../exec/physical/impl/limit/LimitRecordBatch.java |  1 +
 .../physical/impl/svremover/AbstractCopier.java    | 17 +++--
 .../physical/impl/svremover/AbstractSV2Copier.java | 23 ++++++-
 .../physical/impl/svremover/AbstractSV4Copier.java |  5 +-
 .../drill/exec/physical/impl/svremover/Copier.java |  9 ++-
 .../physical/impl/svremover/GenericCopier.java     | 11 ++-
 .../impl/svremover/GenericCopierFactory.java       | 54 +++++++++++++++
 .../physical/impl/svremover/GenericSV2Copier.java  | 17 ++++-
 .../physical/impl/svremover/GenericSV4Copier.java  | 25 +++----
 .../impl/svremover/RemovingRecordBatch.java        | 80 +---------------------
 .../physical/impl/svremover/StraightCopier.java    | 69 +++++++++++++++++++
 .../exec/record/selection/SelectionVector2.java    | 20 ++++++
 .../impl/svremover/AbstractGenericCopierTest.java  | 35 ++++++----
 .../physical/impl/svremover/GenericCopierTest.java |  8 ++-
 .../impl/svremover/GenericSV2BatchCopierTest.java  | 40 +++++++++++
 .../impl/svremover/GenericSV2CopierTest.java       |  7 +-
 .../impl/svremover/GenericSV4CopierTest.java       |  9 +--
 .../apache/drill/test/rowSet/IndirectRowSet.java   |  1 +
 20 files changed, 293 insertions(+), 151 deletions(-)

commit 6ad0f9f1bab8bdda18f3eaaf29445bc94355156e
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Mon Jul 16 15:33:23 2018 -0700

    DRILL-6453: Fix deadlock caused by reading from left and right inputs in HashJoin simultaneously.
    
    closes #1408

 .../exec/physical/impl/common/HashPartition.java   |  14 +
 .../physical/impl/join/BatchSizePredictor.java     |  79 ++++
 .../physical/impl/join/BatchSizePredictorImpl.java | 165 +++++++++
 .../exec/physical/impl/join/HashJoinBatch.java     | 358 +++++++++++--------
 .../join/HashJoinMechanicalMemoryCalculator.java   |  22 +-
 .../impl/join/HashJoinMemoryCalculator.java        |  21 +-
 .../impl/join/HashJoinMemoryCalculatorImpl.java    | 396 +++++++++++----------
 .../HashTableSizeCalculatorConservativeImpl.java   |   2 +-
 .../impl/join/HashTableSizeCalculatorLeanImpl.java |   2 +-
 .../exec/record/AbstractBinaryRecordBatch.java     |   5 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |  24 +-
 .../impl/join/TestBatchSizePredictorImpl.java      | 101 ++++++
 .../impl/join/TestBuildSidePartitioningImpl.java   | 275 +++++++++++---
 ...Impl.java => TestHashJoinMemoryCalculator.java} |  49 +--
 ...estHashTableSizeCalculatorConservativeImpl.java |   8 +-
 .../join/TestHashTableSizeCalculatorLeanImpl.java  |   8 +-
 .../impl/join/TestPostBuildCalculationsImpl.java   | 392 +++++++++++++++++---
 17 files changed, 1429 insertions(+), 492 deletions(-)

commit 93a1c5aba6f17b93a52ab4367f625103a904f1ad
Author: Hanumath Rao Maduri <hanu.ncr@gmail.com>
Date:   Fri Aug 3 13:56:44 2018 -0700

    DRILL-6671: Multi level lateral unnest join is throwing an exception during materializing the plan.
    
    closes #1426

 .../drill/exec/planner/fragment/Materializer.java  |  19 ++--
 .../drill/exec/planner/physical/UnnestPrel.java    |  10 ++
 .../visitor/LateralUnnestRowIDVisitor.java         |  54 ++++++++-
 .../impl/lateraljoin/TestE2EUnnestAndLateral.java  |  81 ++++++++++----
 .../impl/lateraljoin/TestLateralPlans.java         | 124 ++++++++++-----------
 5 files changed, 189 insertions(+), 99 deletions(-)

commit 3e3cd2bb76f6a98ca50798bdaa2d86777c7873ad
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Wed Aug 1 12:32:36 2018 -0700

    DRILL-6656: Disallow extra semicolons and multiple statements on the same line.
    
    closes #1415

 .../java/org/apache/drill/common/types/Types.java  |   2 +-
 .../apache/drill/common/util/DrillStringUtils.java |   2 +-
 .../java/org/apache/drill/test/DrillAssert.java    |   9 +-
 .../drill/exec/store/hbase/HBaseFilterBuilder.java |   2 +-
 .../exec/store/hbase/HBasePushFilterIntoScan.java  |   2 +-
 .../drill/hbase/TestHBaseConnectionManager.java    |  12 +--
 .../drill/hbase/TestHBaseFilterPushDown.java       | 118 +++++++++++----------
 .../drill/hbase/TestHBaseProjectPushDown.java      |  16 +--
 .../org/apache/drill/hbase/TestHBaseQueries.java   |   8 +-
 .../hbase/TestHBaseRegionScanAssignments.java      |   6 +-
 .../org/apache/drill/hbase/TestTableGenerator.java |  17 +--
 .../drill/exec/store/hive/HiveUtilities.java       |   2 +-
 .../initilializers/DefaultReadersInitializer.java  |   2 +-
 .../drill/exec/fn/hive/TestSampleHiveUDFs.java     |   6 +-
 .../drill/exec/store/jdbc/JdbcExpressionCheck.java |   1 -
 .../drill/exec/store/jdbc/JdbcStoragePlugin.java   |   6 +-
 .../store/kafka/KafkaPartitionScanSpecBuilder.java |   2 +-
 .../drill/yarn/appMaster/BatchScheduler.java       |   5 +-
 .../yarn/appMaster/http/AMSecurityManagerImpl.java |   1 -
 .../org/apache/drill/yarn/client/CleanCommand.java |   1 -
 .../org/apache/drill/yarn/core/TestConfig.java     |   2 +-
 .../org/apache/drill/yarn/scripts/ScriptUtils.java |   2 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +-
 .../drill/exec/cache/SerializationDefinition.java  |   3 +-
 .../org/apache/drill/exec/client/DrillClient.java  |   2 +-
 .../java/org/apache/drill/exec/client/DumpCat.java |   6 +-
 .../exec/compile/sig/CodeGeneratorMethod.java      |   2 +-
 .../apache/drill/exec/dotdrill/DotDrillType.java   |   6 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   4 +-
 .../org/apache/drill/exec/expr/SizedJBlock.java    |   2 +-
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |   6 +-
 .../drill/exec/expr/fn/impl/Hash32Functions.java   |   2 +-
 .../drill/exec/expr/fn/impl/StringFunctions.java   |  18 ++--
 .../exec/expr/fn/impl/conv/JsonConvertTo.java      |   3 +-
 .../expr/fn/registry/FunctionRegistryHolder.java   |   2 +-
 .../drill/exec/physical/config/HashAggregate.java  |   2 +-
 .../drill/exec/physical/config/HashJoinPOP.java    |   2 +-
 .../physical/impl/aggregate/HashAggTemplate.java   |  59 +++++++----
 .../physical/impl/aggregate/HashAggregator.java    |   2 +-
 .../impl/aggregate/SpilledRecordbatch.java         |   4 +-
 .../impl/aggregate/StreamingAggregator.java        |   3 +-
 .../exec/physical/impl/common/HashTableStats.java  |   8 +-
 .../physical/impl/common/HashTableTemplate.java    |   2 +-
 .../physical/impl/flatten/FlattenTemplate.java     |   2 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |   2 +-
 .../physical/impl/join/HashJoinProbeTemplate.java  |   4 +-
 .../drill/exec/physical/impl/join/JoinUtils.java   |   2 +-
 .../exec/physical/impl/join/LateralJoinBatch.java  |   4 +-
 .../partitionsender/PartitionSenderRootExec.java   |   2 +-
 .../exec/physical/impl/unnest/UnnestImpl.java      |   2 +-
 .../impl/xsort/managed/SortMemoryManager.java      |   2 +-
 .../exec/physical/rowSet/impl/ColumnState.java     |   3 +-
 .../physical/rowSet/impl/ResultSetLoaderImpl.java  |   3 +-
 .../exec/planner/AbstractPartitionDescriptor.java  |   2 +-
 .../drill/exec/planner/StarColumnHelper.java       |   2 +-
 .../exec/planner/common/DrillJoinRelBase.java      |   4 +-
 .../exec/planner/common/DrillLimitRelBase.java     |   2 +-
 .../exec/planner/common/DrillProjectRelBase.java   |   6 +-
 .../drill/exec/planner/cost/DrillCostBase.java     |   2 +-
 .../drill/exec/planner/logical/DrillFilterRel.java |   2 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |  35 ++++--
 .../exec/planner/logical/DrillUnionAllRule.java    |   2 +-
 .../drill/exec/planner/logical/DrillUnionRel.java  |   2 +-
 .../drill/exec/planner/physical/AggPrelBase.java   |   2 +-
 .../planner/physical/BroadcastExchangePrel.java    |   2 +-
 .../planner/physical/DrillDistributionTrait.java   |   4 +-
 .../drill/exec/planner/physical/HashAggPrule.java  |   2 +-
 .../planner/physical/HashToMergeExchangePrel.java  |   2 +-
 .../planner/physical/SingleMergeExchangePrel.java  |   2 +-
 .../exec/planner/physical/StreamAggPrule.java      |   4 +-
 .../physical/explain/NumberingRelWriter.java       |   4 +-
 .../physical/visitor/StarColumnConverter.java      |   2 +-
 .../apache/drill/exec/rpc/control/Controller.java  |   2 +-
 .../exec/server/rest/profile/ProfileWrapper.java   |   2 +-
 .../server/rest/profile/SimpleDurationFormat.java  |   2 +-
 .../java/org/apache/drill/exec/ssl/SSLConfig.java  |   3 +-
 .../drill/exec/store/easy/json/JsonProcessor.java  |   2 +-
 .../store/easy/text/compliant/HeaderBuilder.java   |   2 +-
 .../exec/store/easy/text/compliant/TextInput.java  |   2 +-
 .../apache/drill/exec/store/ischema/Records.java   | 100 ++++++++++++-----
 .../exec/store/parquet/ParquetFilterBuilder.java   |   2 +-
 .../exec/store/parquet/ParquetPushDownFilter.java  |   2 +-
 .../store/parquet/columnreaders/ColumnReader.java  |   5 +-
 .../store/parquet/metadata/MetadataPathUtils.java  |   2 +-
 .../drill/exec/store/schedule/BlockMapBuilder.java |   2 +-
 .../org/apache/drill/exec/util/VectorUtil.java     |   2 +-
 .../drill/exec/work/batch/DataCollector.java       |   2 +-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |   2 +-
 .../work/foreman/rm/ResourceManagerBuilder.java    |   2 +-
 .../test/java/org/apache/drill/PlanningBase.java   |   2 +-
 .../java/org/apache/drill/TestStarQueries.java     |   2 +-
 .../test/java/org/apache/drill/TestUnionAll.java   |   4 +-
 .../java/org/apache/drill/exec/RunRootExec.java    |   2 +-
 .../fn/registry/FunctionRegistryHolderTest.java    |   4 +-
 .../drill/exec/fn/impl/TestAggregateFunction.java  |   2 +-
 .../drill/exec/fn/impl/TestDateTruncFunctions.java |   4 +-
 .../exec/fn/interp/ExpressionInterpreterTest.java  |   2 +-
 .../impersonation/TestImpersonationMetadata.java   |   2 +-
 .../apache/drill/exec/memory/TestAllocators.java   |   3 +-
 .../PartitionLimit/TestPartitionLimitBatch.java    |   6 +-
 .../drill/exec/physical/impl/TestDecimal.java      |   4 +-
 .../physical/impl/TestDistributedFragmentRun.java  |  31 +++---
 .../physical/impl/TopN/TestTopNSchemaChanges.java  |   4 +-
 .../physical/impl/agg/TestHashAggEmitOutcome.java  |   4 +-
 .../exec/physical/impl/agg/TestHashAggrSpill.java  |   2 +-
 .../physical/impl/common/HashPartitionTest.java    |   6 +-
 .../exec/physical/impl/flatten/TestFlatten.java    |   2 +-
 .../exec/physical/impl/join/TestHashJoinSpill.java |   2 +-
 .../impl/protocol/TestOperatorRecordBatch.java     |   5 +-
 .../physical/impl/writer/TestParquetWriter.java    |   2 +-
 .../rowSet/impl/TestResultSetLoaderMapArray.java   |   9 +-
 .../rowSet/impl/TestResultSetLoaderMaps.java       |   9 +-
 .../rowSet/impl/TestResultSetLoaderTorture.java    |   5 +-
 .../exec/physical/unit/MiniPlanUnitTestBase.java   |  10 +-
 .../exec/physical/unit/TestNullInputMiniPlan.java  |   2 +-
 .../drill/exec/record/TestRecordBatchSizer.java    |   2 +-
 .../drill/exec/record/vector/TestDateTypes.java    |   4 +-
 .../drill/exec/store/dfs/TestFileSelection.java    |   4 +-
 .../exec/store/parquet/ParquetInternalsTest.java   |   4 +-
 .../parquet/ParquetSimpleTestFileGenerator.java    |  14 +--
 .../exec/store/parquet/TestParquetComplex.java     |  76 ++++++-------
 .../store/parquet/TestParquetPhysicalPlan.java     |   3 +-
 .../store/parquet2/TestDrillParquetReader.java     |  82 +++++++-------
 .../drill/exec/vector/TestSplitAndTransfer.java    |   4 +-
 .../exec/vector/complex/writer/TestJsonReader.java |   2 +-
 .../org/apache/drill/test/DrillTestWrapper.java    |   2 +-
 .../java/org/apache/drill/test/ExampleTest.java    |   3 +-
 .../org/apache/drill/test/QueryRowSetIterator.java |   2 +-
 .../java/org/apache/drill/test/TestBuilder.java    |   8 +-
 .../apache/drill/test/TestGracefulShutdown.java    |   4 +-
 .../test/rowSet/test/TestFixedWidthWriter.java     |   2 +-
 .../test/rowSet/test/TestOffsetVectorWriter.java   |   2 +-
 .../test/rowSet/test/TestVariableWidthWriter.java  |   2 +-
 .../org/apache/drill/jdbc/ITTestShadedJar.java     |   3 +-
 .../drill/jdbc/impl/DrillColumnMetaDataList.java   |  12 ++-
 .../apache/drill/jdbc/proxy/ProxiesManager.java    |   3 +-
 .../apache/drill/jdbc/PreparedStatementTest.java   |   8 +-
 .../java/org/apache/drill/jdbc/StatementTest.java  |   8 +-
 .../apache/drill/exec/memory/BaseAllocator.java    |   3 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |   1 -
 .../drill/common/expression/BooleanOperator.java   |   2 +-
 .../drill/common/expression/IfExpression.java      |   2 +-
 .../drill/common/expression/NullExpression.java    |   2 +-
 pom.xml                                            |   2 +-
 src/main/resources/checkstyle-config.xml           |   4 +
 145 files changed, 558 insertions(+), 451 deletions(-)

commit 9a90164ceedc65f33e3a01d3e55282d19de8009b
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Jul 26 16:04:10 2018 +0300

    DRILL-6649: Query with unnest of column from nested star subquery fails
    
    closes #1421

 .../impl/lateraljoin/TestE2EUnnestAndLateral.java        | 16 ++++++++++++++++
 pom.xml                                                  |  2 +-
 2 files changed, 17 insertions(+), 1 deletion(-)

commit 9ac8c998d3eb0d70e536e53204d3b011a9ab1c8a
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Wed Aug 8 09:02:46 2018 -0700

    DRILL-6674: Minor fixes to avoid auto boxing cost in logging in LateralJoinBatch

 .../exec/physical/impl/join/LateralJoinBatch.java  | 50 +++++++++++++++-------
 .../physical/impl/unnest/UnnestRecordBatch.java    |  4 --
 2 files changed, 34 insertions(+), 20 deletions(-)

commit 671611cbf2371bb14e6448d29640b36354b14f69
Author: Venkata Jyothsna Donapati <jyothsna.dvj@gmail.com>
Date:   Wed Aug 8 15:25:04 2018 -0700

    DRILL-6663: Fixed shutdown button
    
    closes #1424

 exec/java-exec/src/main/resources/rest/index.ftl | 4 ++++
 1 file changed, 4 insertions(+)

commit 147bc7c0fc7de31386410fab72a14e16666c910a
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Sat Aug 4 12:39:16 2018 -0700

    DRILL-6653: Unsupported Schema change exception where there is no schema change
    
    closes #1422

 .../impl/svremover/RemovingRecordBatch.java        |   8 +-
 .../impl/svremover/TestSVRemoverIterOutcome.java   | 283 +++++++++++++++++++++
 2 files changed, 290 insertions(+), 1 deletion(-)

commit a5440331bcd87b6f6fc27e3202f95d8fdf0da5e1
Author: karthik <kmanivannan@maprtech.com>
Date:   Mon Jul 23 16:28:49 2018 -0700

    DRILL-6629 BitVector split and transfer does not work correctly for transfer length < 8
    
    closes #1395

 .../drill/exec/vector/TestSplitAndTransfer.java    | 26 ++++++++++++++++++++++
 .../org/apache/drill/exec/vector/BitVector.java    |  8 ++++++-
 2 files changed, 33 insertions(+), 1 deletion(-)

commit d780820d9cf954f08992a2ec07ffdb8f09f482d1
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Fri Aug 3 13:19:58 2018 -0700

    DRILL-6664: Limit the maximum parquet reader batch rows to 64k

 exec/java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 734cd1a9f8edb98ef22446ed1c8cd1f001612578
Author: Peter Kfoury <pkfoury@purdue.edu>
Date:   Wed Aug 1 16:41:35 2018 -0500

    DRILL-6409: Updates mongo-java-driver to 3.8.0
    
    closes #1416

 contrib/storage-mongo/pom.xml | 2 +-
 exec/java-exec/pom.xml        | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 11f3c332bb4b51ad43053cb3b1fad5891bda2132
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue Jul 31 15:53:57 2018 -0700

    DRILL-6654: Data verification failure with lateral unnest query having filter in and order by
    
    closes #1418

 .../impl/aggregate/StreamingAggTemplate.java       |   2 +
 .../impl/agg/TestStreamingAggEmitOutcome.java      | 137 +++++++++++++++++++++
 2 files changed, 139 insertions(+)

commit 024fd8aa43e413bfa5a0f84f6c66b5402788b2bc
Author: Hanumath Rao Maduri <hanu.ncr@gmail.com>
Date:   Wed Aug 1 15:41:29 2018 -0700

    DRILL-6645: Transform TopN in Lateral Unnest pipeline to Sort and Limit.
    
    closes #1417

 .../drill/exec/planner/physical/AggPrelBase.java       |  2 +-
 .../apache/drill/exec/planner/physical/FilterPrel.java |  2 +-
 .../apache/drill/exec/planner/physical/LimitPrel.java  |  2 +-
 .../org/apache/drill/exec/planner/physical/Prel.java   |  8 +++++++-
 .../drill/exec/planner/physical/ProjectPrel.java       |  2 +-
 .../planner/physical/SelectionVectorRemoverPrel.java   |  2 +-
 .../apache/drill/exec/planner/physical/SortPrel.java   |  2 +-
 .../apache/drill/exec/planner/physical/TopNPrel.java   | 18 ++++++++++++++++--
 .../apache/drill/exec/planner/physical/UnnestPrel.java |  2 +-
 .../physical/visitor/LateralUnnestRowIDVisitor.java    |  6 +++---
 10 files changed, 33 insertions(+), 13 deletions(-)

commit 7c353262c3043afe57a755b5970ec99fe4f56c2c
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue Jul 31 16:48:12 2018 -0700

    DRILL-6655: Require package declaration in files.

 src/main/resources/checkstyle-config.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7afeb8e2968ad6af4fbb58238454878ec140eab8
Author: Paul Rogers <progers@cloudera.com>
Date:   Mon Apr 30 19:10:53 2018 -0700

    DRILL-6373:
    
     - Adds code to return the proper vector type given the actual vector, adjusting metadata as needed.
     - Refactor result set loader
     - Revised projection & vector cache
    
    closes #1244

 .../exec/physical/rowSet/ResultSetLoader.java      |  79 ++-
 .../exec/physical/rowSet/ResultVectorCache.java    |   4 +
 .../drill/exec/physical/rowSet/RowSetLoader.java   |  12 +
 .../exec/physical/rowSet/impl/BuildFromSchema.java |  99 ++++
 .../exec/physical/rowSet/impl/ColumnBuilder.java   | 250 +++++++++
 .../exec/physical/rowSet/impl/ColumnState.java     | 195 ++++---
 .../exec/physical/rowSet/impl/ContainerState.java  | 175 ++++++
 .../exec/physical/rowSet/impl/LoaderInternals.java | 111 ++++
 .../physical/rowSet/impl/NullProjectionSet.java    |  41 --
 .../rowSet/impl/NullResultVectorCacheImpl.java     |  16 +
 .../exec/physical/rowSet/impl/NullVectorState.java |  22 +-
 .../physical/rowSet/impl/NullableVectorState.java  |  39 +-
 .../exec/physical/rowSet/impl/OptionBuilder.java   |   9 +-
 .../physical/rowSet/impl/PrimitiveColumnState.java | 112 ----
 .../exec/physical/rowSet/impl/ProjectionSet.java   |  48 --
 .../physical/rowSet/impl/ProjectionSetImpl.java    | 136 -----
 .../physical/rowSet/impl/RepeatedVectorState.java  |  35 +-
 .../physical/rowSet/impl/ResultSetLoaderImpl.java  | 199 ++++---
 .../rowSet/impl/ResultVectorCacheImpl.java         |  59 +-
 .../physical/rowSet/impl/RowSetLoaderImpl.java     |  12 +-
 .../physical/rowSet/impl/SingleVectorState.java    | 161 ++++--
 .../exec/physical/rowSet/impl/TupleState.java      | 623 +++++++++++++--------
 .../rowSet/impl/VectorContainerBuilder.java        | 257 ---------
 .../exec/physical/rowSet/impl/VectorState.java     |  14 +-
 .../exec/physical/rowSet/impl/WriterIndexImpl.java |  21 +
 .../physical/rowSet/model/MetadataProvider.java    | 179 +++++-
 .../model/single/BuildVectorsFromMetadata.java     |  41 +-
 .../rowSet/project/ImpliedTupleRequest.java        |  69 +++
 .../rowSet/project/RequestedColumnImpl.java        | 216 +++++++
 .../physical/rowSet/project/RequestedTuple.java    |  95 ++++
 .../rowSet/project/RequestedTupleImpl.java         | 254 +++++++++
 .../physical/rowSet/impl/TestProjectedTuple.java   | 364 ++++++++++++
 .../impl/TestResultSetLoaderEmptyProject.java      | 225 ++++++++
 .../rowSet/impl/TestResultSetLoaderMapArray.java   |  11 +-
 .../rowSet/impl/TestResultSetLoaderMaps.java       |  30 +-
 .../rowSet/impl/TestResultSetLoaderProjection.java |  46 ++
 .../rowSet/impl/TestResultSetLoaderProtocol.java   |  11 +-
 .../rowSet/impl/TestResultVectorCache.java         | 302 ++++++++++
 .../main/codegen/templates/BasicTypeHelper.java    |  23 +-
 .../exec/vector/accessor/writer/MapWriter.java     |  10 +-
 40 files changed, 3456 insertions(+), 1149 deletions(-)

commit 671c315e7ec9c0cb8e0131baeb5702107b529ee2
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Tue Jul 31 09:55:18 2018 -0700

    DRILL-6101: Optimized implicit columns handling within scanner
    
    closes #1414

 .../drill/exec/planner/logical/DrillScanRel.java   | 28 ++++++++++++++++++----
 .../apache/drill/exec/store/ColumnExplorer.java    | 14 +++++++----
 2 files changed, 32 insertions(+), 10 deletions(-)

commit 419f51e57b389e39a0c3c090ae0e8d34e1fb944c
Author: Parth Chandra <parthc@apache.org>
Date:   Tue Jul 31 15:41:52 2018 -0700

    DRILL-6657: Unnest reports one batch less than the actual number of batches

 .../exec/physical/impl/unnest/UnnestRecordBatch.java | 20 ++++++++------------
 1 file changed, 8 insertions(+), 12 deletions(-)

commit 006dc10a88c1708b793e3a38ac52a0266bb07deb
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Wed Aug 1 13:24:04 2018 -0700

    DRILL-6652: PartitionLimit changes for Lateral and Unnest
    Removing Ignore from TestE2EUnnestAndLateral

 .../drill/exec/physical/impl/lateraljoin/TestE2EUnnestAndLateral.java | 4 ----
 1 file changed, 4 deletions(-)

commit 0d48f6ba1e0c794fde2e03292c8c5c85115266b7
Author: Hanumath Rao Maduri <hanu.ncr@gmail.com>
Date:   Thu Jul 26 15:48:10 2018 -0700

    DRILL-6636: Planner side changes to use PartitionLimitBatch in place of LimitBatch.

 .../drill/exec/planner/physical/LimitPrel.java     | 27 ++++++++++++++++---
 .../impl/lateraljoin/TestE2EUnnestAndLateral.java  | 31 +++++++++++++---------
 2 files changed, 42 insertions(+), 16 deletions(-)

commit f3246a4329bcd7f2007f3cb67c5666ef6d6a55f0
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Thu Jul 26 14:56:54 2018 -0700

    DRILL-6635: Update UnnesRecordBatch to handle kill differently with respect to PartitionLimitBatch in the subquery
    Fix in MockLateralJoinBatch for unnest kill tests

 .../physical/impl/unnest/UnnestRecordBatch.java    | 41 +++++++---------------
 .../physical/impl/unnest/MockLateralJoinBatch.java |  4 ++-
 2 files changed, 16 insertions(+), 29 deletions(-)

commit f8593997ec2ab5da96906e0e26df04e6ef73776e
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Thu Jul 26 11:47:33 2018 -0700

    DRILL-6635: PartitionLimit for Lateral/Unnest
    PartitionLimitBatch initial implementation
    Add unit tests for PartitionLimitBatch

 .../drill/exec/physical/config/PartitionLimit.java |   62 ++
 .../exec/physical/impl/limit/LimitRecordBatch.java |   18 +-
 .../impl/limit/PartitionLimitBatchCreator.java     |   36 +
 .../impl/limit/PartitionLimitRecordBatch.java      |  253 +++++
 .../physical/impl/BaseTestOpBatchEmitOutcome.java  |    5 +
 .../drill/exec/physical/impl/MockRecordBatch.java  |   36 +-
 .../PartitionLimit/TestPartitionLimitBatch.java    | 1022 ++++++++++++++++++++
 7 files changed, 1428 insertions(+), 4 deletions(-)

commit f7ae370b9c4acd78c3d9e03019c4a1a8cc4ebf16
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Wed Jul 25 22:49:17 2018 -0700

    DRILL-6635: PartitionLimit for Lateral/Unnest
    Protobuf changes to add new operator PartitionLimit

 .../native/client/src/protobuf/UserBitShared.pb.cc | 14 ++++++++------
 .../native/client/src/protobuf/UserBitShared.pb.h  |  5 +++--
 .../org/apache/drill/exec/proto/UserBitShared.java | 22 ++++++++++++++++------
 .../drill/exec/proto/beans/CoreOperatorType.java   |  4 +++-
 protocol/src/main/protobuf/UserBitShared.proto     |  1 +
 5 files changed, 31 insertions(+), 15 deletions(-)

commit efd6d29910d155cd84692ee8aafff3eb06c6e391
Author: jbimbert <jean-blas.imbert@amadeus.com>
Date:   Tue Jun 12 19:22:20 2018 +0200

    DRILL-5796 : implement ROWS_MATCH enum to keep inside rowgroup the filter result information, used to prune the filter if all rows match.
    
    closes #1298

 .../exec/expr/stat/ParquetBooleanPredicate.java    |  48 ++-
 .../exec/expr/stat/ParquetComparisonPredicate.java |  78 ++---
 .../exec/expr/stat/ParquetFilterPredicate.java     |  13 +-
 .../drill/exec/expr/stat/ParquetIsPredicate.java   | 125 +++++---
 .../drill/exec/expr/stat/RangeExprEvaluator.java   |  33 +-
 .../store/parquet/AbstractParquetGroupScan.java    |   8 +-
 .../exec/store/parquet/ParquetPushDownFilter.java  |  18 +-
 .../store/parquet/ParquetRGFilterEvaluator.java    |  52 +++-
 .../drill/exec/store/parquet/RowGroupInfo.java     |   5 +
 .../parquet/stat/ParquetFooterStatCollector.java   |   2 +-
 .../parquet/stat/ParquetMetaStatCollector.java     |   2 +-
 .../store/parquet/TestParquetFilterPushDown.java   | 335 +++++++++++++++------
 .../test/resources/parquet/multirowgroup2.parquet  | Bin 0 -> 598 bytes
 .../parquet/multirowgroupwithNulls.parquet         | Bin 0 -> 2063 bytes
 .../resources/parquetFilterPush/tfTbl/ff1.parquet  | Bin 0 -> 251 bytes
 .../resources/parquetFilterPush/tfTbl/ft0.parquet  | Bin 0 -> 251 bytes
 .../resources/parquetFilterPush/tfTbl/tt1.parquet  | Bin 0 -> 251 bytes
 17 files changed, 510 insertions(+), 209 deletions(-)

commit ee841643d0f2d746126f623d6a0c480b3011d38f
Author: Parth Chandra <parthc@apache.org>
Date:   Fri Jul 20 17:24:38 2018 -0700

    DRILL-6631: Streaming agg causes queries with Lateral and Unnest to return incorrect results.
    
    This commit fixes issues with handling straight aggregates (no group by)
    with empty batches received between EMIT(s).
    
    closes #1399

 .../physical/impl/aggregate/StreamingAggBatch.java |  39 +-
 .../impl/aggregate/StreamingAggTemplate.java       |   2 +-
 .../impl/agg/TestStreamingAggEmitOutcome.java      | 553 +++++++++++++++++++++
 3 files changed, 573 insertions(+), 21 deletions(-)

commit 0903a1edb5531d3d28104191b35b57db3a99d5da
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Jul 25 20:28:45 2018 +0300

    DRILL-6634: Add udf module under contrib directory and move some udfs into it
    
    1. Created new contrib/udf module.
    2. Moved distance, phonetic, networking, crypto functions from java-exec to contrib/udf module.
    3. Moved functions from gis module to contrib/udf module. Removed gis module.
    4. Removed unnecessary dependencies from java-exec module.
    5. Minor refactoring of moved functions code.
    
    closes #1403

 contrib/gis/pom.xml                                | 134 --------------------
 contrib/gis/src/main/resources/drill-module.conf   |   0
 .../drill/exec/expr/fn/impl/gis/GISTestSuite.java  |  30 -----
 contrib/pom.xml                                    |   2 +-
 contrib/udfs/pom.xml                               | 136 +++++++++++++++++++++
 .../sample-data/CA-cities-with-nulls.csv           |   0
 contrib/{gis => udfs}/sample-data/CA-cities.csv    |   0
 contrib/{gis => udfs}/sample-data/polygons.tsv     |   0
 .../com/esri/core/geometry/VertexGeomAccessor.java |   0
 .../apache/drill/exec/udfs}/CryptoFunctions.java   |  16 +--
 .../apache/drill/exec/udfs}/NetworkFunctions.java  |  55 +--------
 .../apache/drill/exec/udfs}/PhoneticFunctions.java |  16 +--
 .../drill/exec/udfs}/StringDistanceFunctions.java  |  36 ++----
 .../apache/drill/exec/udfs}/gis/STAsGeoJSON.java   |   7 +-
 .../org/apache/drill/exec/udfs}/gis/STAsJson.java  |   7 +-
 .../org/apache/drill/exec/udfs}/gis/STAsText.java  |   7 +-
 .../org/apache/drill/exec/udfs}/gis/STBuffer.java  |   9 +-
 .../apache/drill/exec/udfs}/gis/STContains.java    |  13 +-
 .../org/apache/drill/exec/udfs}/gis/STCrosses.java |  13 +-
 .../org/apache/drill/exec/udfs}/gis/STDWithin.java |  11 +-
 .../apache/drill/exec/udfs}/gis/STDifference.java  |   9 +-
 .../apache/drill/exec/udfs}/gis/STDisjoint.java    |  13 +-
 .../apache/drill/exec/udfs}/gis/STDistance.java    |   9 +-
 .../apache/drill/exec/udfs}/gis/STEnvelope.java    |   9 +-
 .../org/apache/drill/exec/udfs}/gis/STEquals.java  |  13 +-
 .../drill/exec/udfs}/gis/STGeomFromText.java       |   7 +-
 .../drill/exec/udfs}/gis/STGeomFromTextSrid.java   |   7 +-
 .../apache/drill/exec/udfs}/gis/STIntersects.java  |  13 +-
 .../apache/drill/exec/udfs}/gis/STOverlaps.java    |  13 +-
 .../apache/drill/exec/udfs}/gis/STPointFunc.java   |   7 +-
 .../org/apache/drill/exec/udfs}/gis/STRelate.java  |  13 +-
 .../org/apache/drill/exec/udfs}/gis/STTouches.java |  13 +-
 .../apache/drill/exec/udfs}/gis/STTransform.java   |  18 +--
 .../org/apache/drill/exec/udfs}/gis/STUnion.java   |   9 +-
 .../drill/exec/udfs}/gis/STUnionAggregate.java     |  44 ++++---
 .../org/apache/drill/exec/udfs}/gis/STWithin.java  |  11 +-
 .../org/apache/drill/exec/udfs}/gis/STXFunc.java   |   9 +-
 .../org/apache/drill/exec/udfs}/gis/STXMax.java    |  10 +-
 .../org/apache/drill/exec/udfs}/gis/STXMin.java    |  10 +-
 .../org/apache/drill/exec/udfs}/gis/STYFunc.java   |   9 +-
 .../org/apache/drill/exec/udfs}/gis/STYMax.java    |  10 +-
 .../org/apache/drill/exec/udfs}/gis/STYMin.java    |  10 +-
 contrib/udfs/src/main/resources/drill-module.conf  |  20 +++
 .../drill/exec/udfs}/TestCryptoFunctions.java      |   2 +-
 .../drill/exec/udfs}/TestNetworkFunctions.java     |   6 +-
 .../drill/exec/udfs}/TestPhoneticFunctions.java    |   5 +-
 .../exec/udfs}/TestStringDistanceFunctions.java    |   2 +-
 .../exec/udfs}/gis/TestGeometryFunctions.java      |  14 ++-
 distribution/pom.xml                               |   8 +-
 distribution/src/assemble/bin.xml                  |   2 +-
 exec/java-exec/pom.xml                             |  21 ----
 exec/jdbc-all/pom.xml                              |   8 --
 52 files changed, 331 insertions(+), 515 deletions(-)

commit b77441333010b60683c78dbc4cc349b2ee6c0c53
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue Jul 31 12:45:09 2018 -0700

    DRILL-6650: Remove stray semicolon in imports for PrintingResultsListener.
    
    closes #1410

 .../src/test/java/org/apache/drill/test/PrintingResultsListener.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 726c905c59dd11a6274bd2c49be22abde1e96bb2
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Tue Jul 31 15:48:06 2018 -0700

    DRILL-6651: Add missing package statements
    
    closes #1411

 .../apache/drill/exec/store/parquet/TestComplexColumnInSchema.java    | 4 ++--
 .../org/apache/drill/exec/store/parquet/TestParquetReaderUtility.java | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 8f9d39763cc5da8c3b5e9e8ae8a93fc3ffce2e9e
Author: Hanumath Rao Maduri <hanu.ncr@gmail.com>
Date:   Sun Jul 29 12:29:25 2018 -0700

    DRILL-6617: Changing name of implicit RowId column from implicitColumn to implicitRIDColumn.
    
    closes #1401

 .../org/apache/drill/exec/store/jdbc/JdbcPrel.java |  6 ----
 .../drill/exec/physical/config/LateralJoinPOP.java | 14 ++++-----
 .../exec/physical/impl/join/LateralJoinBatch.java  |  2 +-
 .../drill/exec/planner/common/DrillRelOptUtil.java | 15 ++++++++++
 .../exec/planner/physical/ComplexToJsonPrel.java   |  5 ----
 .../drill/exec/planner/physical/FilterPrel.java    | 14 ++-------
 .../drill/exec/planner/physical/JoinPrel.java      |  4 ---
 .../exec/planner/physical/LateralJoinPrel.java     |  5 ----
 .../apache/drill/exec/planner/physical/Prel.java   |  5 +++-
 .../planner/physical/ProducerConsumerPrel.java     |  5 ----
 .../drill/exec/planner/physical/ProjectPrel.java   | 14 ++-------
 .../drill/exec/planner/physical/ScanPrel.java      |  5 ----
 .../drill/exec/planner/physical/ScreenPrel.java    |  5 ----
 .../drill/exec/planner/physical/SinglePrel.java    |  6 ----
 .../drill/exec/planner/physical/UnionPrel.java     |  5 ----
 .../drill/exec/planner/physical/ValuesPrel.java    |  5 ----
 .../drill/exec/planner/physical/WindowPrel.java    |  5 ----
 .../drill/exec/planner/physical/WriterPrel.java    |  5 ----
 .../impl/join/TestLateralJoinCorrectness.java      | 34 +++++++++++-----------
 .../TestLateralJoinCorrectnessBatchProcessing.java |  2 +-
 .../impl/lateraljoin/TestLateralPlans.java         | 10 -------
 21 files changed, 51 insertions(+), 120 deletions(-)

commit 216ae5a009f1c39b99286a3441e658544ef7a767
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Wed Jul 25 15:20:25 2018 -0700

    DRILL-6616: Batch Processing for Lateral/Unnest

 .../exec/physical/impl/lateraljoin/TestE2EUnnestAndLateral.java  | 9 ++++++---
 .../physical/impl/unnest/TestUnnestWithLateralCorrectness.java   | 2 --
 2 files changed, 6 insertions(+), 5 deletions(-)

commit e9961bf384a1266787873320a6fdee359f149e66
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Wed Jul 25 13:50:06 2018 -0700

    DRILL-6619: Lateral changes for implicit column
    Lateral changes to support batch processing from right side. It also fixes memory leak issue with LimitRecordBatch
    Added debug logging for Lateral and fixed a memory related issue in Limit

 .../exec/physical/impl/join/LateralJoinBatch.java  |  389 ++++++--
 .../exec/physical/impl/limit/LimitRecordBatch.java |    4 +
 .../impl/join/TestLateralJoinCorrectness.java      |  343 ++++---
 .../TestLateralJoinCorrectnessBatchProcessing.java | 1007 ++++++++++++++++++++
 4 files changed, 1507 insertions(+), 236 deletions(-)

commit 5aae3e44a2e8c654d75809297a6c820bfa2b8e5f
Author: Parth Chandra <parthc@apache.org>
Date:   Mon Jul 16 17:50:02 2018 -0700

    DRILL-6618: Unnest changes for implicit column
    Unnest changes to do batch processing and produce an extra implicit column for Lateral to keep mapping between left rows and right output rows

 .../drill/exec/physical/impl/unnest/Unnest.java    |  11 ++-
 .../exec/physical/impl/unnest/UnnestImpl.java      | 104 +++++++++++++++------
 .../physical/impl/unnest/UnnestRecordBatch.java    |  31 +++++-
 .../physical/impl/unnest/MockLateralJoinBatch.java |   8 +-
 .../impl/unnest/TestUnnestCorrectness.java         |  87 +++++++++++------
 .../unnest/TestUnnestWithLateralCorrectness.java   |  11 ++-
 6 files changed, 179 insertions(+), 73 deletions(-)

commit e1f4a63d7c591ed84037b189ece7061dd14a8c88
Author: HanumathRao <hanu.ncr@gmail.com>
Date:   Wed Jul 25 14:07:37 2018 -0700

    DRILL-6617: Planner Side changed to propagate $drill_implicit_field$ information.

 .../org/apache/drill/exec/store/jdbc/JdbcPrel.java |  7 ++
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  3 +-
 .../drill/exec/physical/config/LateralJoinPOP.java | 10 ++-
 .../drill/exec/physical/config/UnnestPOP.java      | 12 +++-
 .../planner/common/DrillLateralJoinRelBase.java    | 19 +++++-
 .../drill/exec/planner/common/DrillRelOptUtil.java | 29 +++++++++
 .../exec/planner/common/DrillUnnestRelBase.java    |  1 +
 .../DrillProjectPushIntoLateralJoinRule.java       | 13 +---
 .../drill/exec/planner/physical/AggPrelBase.java   | 22 +++++++
 .../exec/planner/physical/ComplexToJsonPrel.java   |  5 ++
 .../drill/exec/planner/physical/FilterPrel.java    | 18 ++++++
 .../drill/exec/planner/physical/HashAggPrel.java   |  1 -
 .../drill/exec/planner/physical/JoinPrel.java      |  5 ++
 .../exec/planner/physical/LateralJoinPrel.java     |  7 +-
 .../drill/exec/planner/physical/LimitPrel.java     | 27 ++------
 .../apache/drill/exec/planner/physical/Prel.java   |  6 +-
 .../planner/physical/ProducerConsumerPrel.java     |  5 ++
 .../drill/exec/planner/physical/ProjectPrel.java   | 40 ++++++++++++
 .../drill/exec/planner/physical/ScanPrel.java      |  6 ++
 .../drill/exec/planner/physical/ScreenPrel.java    |  6 ++
 .../physical/SelectionVectorRemoverPrel.java       |  5 +-
 .../drill/exec/planner/physical/SinglePrel.java    |  7 ++
 .../drill/exec/planner/physical/SortPrel.java      | 22 +++++++
 .../drill/exec/planner/physical/TopNPrel.java      | 22 ++++++-
 .../drill/exec/planner/physical/UnionPrel.java     |  5 ++
 .../drill/exec/planner/physical/UnnestPrel.java    | 26 +++++++-
 .../drill/exec/planner/physical/ValuesPrel.java    |  5 ++
 .../drill/exec/planner/physical/WindowPrel.java    |  5 ++
 .../drill/exec/planner/physical/WriterPrel.java    |  5 ++
 .../visitor/LateralUnnestRowIDVisitor.java         | 74 ++++++++++++++++++++++
 .../exec/planner/physical/visitor/PrelVisitor.java |  1 -
 .../planner/sql/handlers/DefaultSqlHandler.java    |  3 +
 .../impl/join/TestLateralJoinCorrectness.java      | 35 ++++++----
 .../impl/lateraljoin/TestE2EUnnestAndLateral.java  |  4 ++
 .../impl/lateraljoin/TestLateralPlans.java         | 33 +++++-----
 .../impl/unnest/TestUnnestCorrectness.java         |  3 +-
 .../unnest/TestUnnestWithLateralCorrectness.java   | 16 +++--
 37 files changed, 429 insertions(+), 84 deletions(-)

commit 1058bd9838003c46a86cae1ab8fb3e4133f4a2bd
Author: Gautam Parai <gparai@maprtech.com>
Date:   Wed Jun 27 14:52:37 2018 -0700

    DRILL-6589: Push transitive closure predicate(s) past aggregates
    
    closes #1372

 .../apache/drill/exec/planner/PlannerPhase.java    |  1 +
 .../exec/planner/common/DrillAggregateRelBase.java | 24 ++++----
 .../exec/planner/logical/DrillAggregateRel.java    | 24 +++-----
 .../exec/planner/logical/DrillAggregateRule.java   | 14 +----
 .../logical/DrillFilterAggregateTransposeRule.java | 14 +++--
 .../planner/logical/DrillReduceAggregatesRule.java | 69 ++++++++++------------
 .../exec/planner/logical/DrillRelFactories.java    | 24 ++++++--
 ...quetFilterPushdownWithTransitivePredicates.java | 14 +++++
 8 files changed, 97 insertions(+), 87 deletions(-)

commit 5b36adc5b55da48df65225790bb6045c927cf3d7
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Jul 26 11:28:01 2018 +0300

    DRILL-6638: Fix TestE2EUnnestAndLateral tests introduced with DRILL-6546
    
    closes #1402

 .../exec/physical/impl/lateraljoin/TestE2EUnnestAndLateral.java   | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 20ecab0637669ac5ca61b915966817546e535e48
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Fri Jul 27 04:15:59 2018 +0300

    DRILL-6639: Exception happens while displaying operator profiles for some queries
    
    closes #1404

 .../drill/exec/store/mapr/db/MapRDBSubScan.java    |  3 +-
 .../native/client/src/protobuf/UserBitShared.pb.cc | 24 ++++--
 .../native/client/src/protobuf/UserBitShared.pb.h  | 12 ++-
 .../apache/drill/exec/store/kudu/KuduWriter.java   |  3 +-
 .../drill/exec/store/mongo/MongoSubScan.java       |  3 +-
 .../drill/exec/store/openTSDB/OpenTSDBSubScan.java |  3 +-
 .../exec/physical/config/IteratorValidator.java    |  1 +
 .../apache/drill/exec/physical/config/Values.java  |  1 +
 .../exec/server/rest/profile/OperatorWrapper.java  |  4 +
 .../drill/exec/store/dfs/easy/EasyWriter.java      |  2 +-
 .../exec/store/easy/json/JSONFormatPlugin.java     |  2 +-
 .../sequencefile/SequenceFileFormatPlugin.java     |  3 +-
 .../exec/store/httpd/HttpdLogFormatPlugin.java     |  7 +-
 .../drill/exec/store/image/ImageFormatPlugin.java  |  3 +-
 .../drill/exec/store/pcap/PcapFormatPlugin.java    |  2 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 88 ++++++++++++++++++++--
 .../drill/exec/proto/beans/CoreOperatorType.java   | 18 ++++-
 protocol/src/main/protobuf/UserBitShared.proto     |  8 ++
 18 files changed, 160 insertions(+), 27 deletions(-)

commit 24a1d55398daa7d40c329abe0e346c1c1226ddc7
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Jul 27 13:49:09 2018 +0300

    DRILL-6641: Fix columnValueCounts in ParquetGroupScanStatistics when ParquetGroupScan has RowGroupInfo without column statistics
    
    closes #1406

 .../store/parquet/ParquetGroupScanStatistics.java  | 26 ++++++++++------------
 1 file changed, 12 insertions(+), 14 deletions(-)

commit 471a86689663e7a54655b2c8e839b4168d643c41
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Wed Jul 25 14:49:29 2018 -0700

    [maven-release-plugin] prepare for next development iteration

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/format-maprdb/pom.xml                | 2 +-
 contrib/gis/pom.xml                          | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 2 +-
 contrib/storage-kafka/pom.xml                | 2 +-
 contrib/storage-kudu/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 contrib/storage-opentsdb/pom.xml             | 2 +-
 distribution/pom.xml                         | 2 +-
 drill-yarn/pom.xml                           | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/memory/base/pom.xml                     | 2 +-
 exec/memory/pom.xml                          | 2 +-
 exec/pom.xml                                 | 2 +-
 exec/rpc/pom.xml                             | 2 +-
 exec/vector/pom.xml                          | 2 +-
 logical/pom.xml                              | 2 +-
 pom.xml                                      | 4 ++--
 protocol/pom.xml                             | 2 +-
 tools/fmpp/pom.xml                           | 2 +-
 tools/pom.xml                                | 2 +-
 31 files changed, 32 insertions(+), 32 deletions(-)

commit 31b88bafbc650fe674086815ec4b1a460efea013
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Wed Jul 25 14:49:18 2018 -0700

    [maven-release-plugin] prepare release drill-1.14.0

 common/pom.xml                               |  2 +-
 contrib/data/pom.xml                         |  2 +-
 contrib/data/tpch-sample-data/pom.xml        |  2 +-
 contrib/format-maprdb/pom.xml                |  2 +-
 contrib/gis/pom.xml                          |  2 +-
 contrib/pom.xml                              |  2 +-
 contrib/sqlline/pom.xml                      |  2 +-
 contrib/storage-hbase/pom.xml                |  2 +-
 contrib/storage-hive/core/pom.xml            |  2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml |  2 +-
 contrib/storage-hive/pom.xml                 |  2 +-
 contrib/storage-jdbc/pom.xml                 |  2 +-
 contrib/storage-kafka/pom.xml                |  2 +-
 contrib/storage-kudu/pom.xml                 |  2 +-
 contrib/storage-mongo/pom.xml                |  2 +-
 contrib/storage-opentsdb/pom.xml             |  2 +-
 distribution/pom.xml                         |  2 +-
 drill-yarn/pom.xml                           |  2 +-
 exec/java-exec/pom.xml                       |  2 +-
 exec/jdbc-all/pom.xml                        |  2 +-
 exec/jdbc/pom.xml                            |  2 +-
 exec/memory/base/pom.xml                     |  2 +-
 exec/memory/pom.xml                          |  2 +-
 exec/pom.xml                                 |  2 +-
 exec/rpc/pom.xml                             |  2 +-
 exec/vector/pom.xml                          |  2 +-
 logical/pom.xml                              |  2 +-
 pom.xml                                      | 10 +++++-----
 protocol/pom.xml                             |  2 +-
 tools/fmpp/pom.xml                           |  2 +-
 tools/pom.xml                                |  2 +-
 31 files changed, 35 insertions(+), 35 deletions(-)

commit d979d7b5e9575e4b2457344e395f30c5c5f54c1c
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Wed Jul 25 13:50:03 2018 -0700

    DRILL-6637: Remove dependency on tests in the maven-javadoc-plugin in the drill-root pom

 pom.xml | 2 ++
 1 file changed, 2 insertions(+)

commit 9d86cb53f33b51acbe17bcd9f404e75161aef913
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Tue Jul 24 14:41:00 2018 -0700

    Increase jdbc-all jar size limit to 36500000

 exec/jdbc-all/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7a4ca00e86030fc9f866c3f31e1207e96c534b78
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Mon Jul 23 13:17:08 2018 -0700

    DRILL-6626: Fixed an IndexOutOfBoundException during aggregator rehash

 .../apache/drill/exec/physical/impl/common/HashTableTemplate.java   | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit c58735a04e0ad6dcff15ee35bbbc27bdd7a14aef
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Sat Jul 21 22:55:25 2018 -0700

    DRILL-6622: Fixed a NullPointerException in a query with Union
    
    closes #1391

 .../apache/drill/exec/physical/impl/aggregate/HashAggBatch.java  | 7 ++++++-
 .../drill/exec/physical/impl/aggregate/HashAggTemplate.java      | 9 ++++++++-
 .../org/apache/drill/exec/record/RecordBatchMemoryManager.java   | 3 +++
 3 files changed, 17 insertions(+), 2 deletions(-)

commit 2162986ce50f566cb80151d97b05fb5557d8d2ab
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Jul 23 14:44:48 2018 +0300

    DRILL-6627: Adding REGEX_SUB_SCAN operator to protobuf file
    
    - The operator is added to Java based UserBitShared.proto and C++ based UserBitShared.pb.h
    - Java and C++ protobuf files are regenerated

 contrib/native/client/src/protobuf/UserBitShared.pb.cc     | 12 +++++++-----
 contrib/native/client/src/protobuf/UserBitShared.pb.h      |  5 +++--
 .../java/org/apache/drill/exec/proto/UserBitShared.java    | 14 +++++++-------
 .../apache/drill/exec/proto/beans/CoreOperatorType.java    |  4 +++-
 protocol/src/main/protobuf/UserBitShared.proto             |  1 +
 5 files changed, 21 insertions(+), 15 deletions(-)

commit 5f4eeb8943e0e009136fcb5e61b51931280dac3f
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Fri Jul 13 17:13:45 2018 +0300

    DRILL-6574: Code cleanup
    
    - Fixed failing test

 .../planner/sql/handlers/FindLimit0Visitor.java    | 61 ++++++++++------------
 .../java/org/apache/drill/TestPartitionFilter.java |  2 +-
 .../impl/limit/TestLateLimit0Optimization.java     | 42 +++++++++------
 3 files changed, 53 insertions(+), 52 deletions(-)

commit aa6a898a596ce9a8e2677ebc4987947bffc56dcb
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon Mar 21 15:32:47 2016 -0700

    DRILL-6574: Add option to push LIMIT(0) on top of SCAN (late limit 0 optimization)

 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +
 .../planner/sql/handlers/DefaultSqlHandler.java    |   3 +
 .../planner/sql/handlers/FindLimit0Visitor.java    | 119 +++++++++++++++++++++
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../java-exec/src/main/resources/drill-module.conf |   3 +-
 .../java/org/apache/drill/TestPartitionFilter.java |   4 +-
 .../impl/limit/TestLateLimit0Optimization.java     | 112 +++++++++++++++++++
 7 files changed, 243 insertions(+), 2 deletions(-)

commit 91b5e4d0d84dae2c6af19f82df11bb4c493a6ce8
Author: Timothy Farkas <timothytiborfarkas@gmail.com>
Date:   Fri Jul 20 17:23:26 2018 -0700

    DRILL-6606: Fixed bug in HashJoin that caused it not to return OK_NEW_SCHEMA in some cases.
    
    closes #1384

 .../exec/physical/impl/join/HashJoinBatch.java     | 175 +++++++++++++++------
 .../physical/impl/join/TestHashJoinAdvanced.java   |  37 +++++
 2 files changed, 163 insertions(+), 49 deletions(-)

commit 4fd9cba1b3cc3b086a8f7cb1e25d7464f0db07b9
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Sat Jul 21 03:22:28 2018 +0300

    DRILL-6624: Fix loss of the table row type when the same schema name was specified as single path and as a complex path in the same query
    
    closes #1390

 .../org/apache/calcite/jdbc/DynamicRootSchema.java | 32 ++++++++++++----------
 .../drill/exec/physical/impl/TestSchema.java       | 29 ++++++++++++++++++++
 2 files changed, 46 insertions(+), 15 deletions(-)

commit c9508201d9861ab89e895f659b2cc686e3d7f37c
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Thu Jul 19 17:55:29 2018 -0700

    Add public GPG key for user boaz to KEYS

 KEYS | 58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 58 insertions(+)

commit 85344abd1ddb73448bdf67cdc6883cb98795a910
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Thu Jul 19 16:00:40 2018 +0300

    DRILL-6614: Allow usage of MapRDBFormatPlugin for HiveStoragePlugin

 .../drill/exec/store/mapr/db/MapRDBGroupScan.java   |  6 +++---
 ...vertHiveMapRDBJsonScanToDrillMapRDBJsonScan.java | 10 ++--------
 .../drill/exec/store/hive/HiveStoragePlugin.java    | 21 +++++++++++++++++++++
 .../drill/exec/store/AbstractStoragePlugin.java     | 10 +++++++++-
 .../org/apache/drill/exec/store/StoragePlugin.java  | 11 +++++++++++
 .../drill/exec/store/StoragePluginRegistryImpl.java | 11 ++---------
 .../drill/exec/store/dfs/FileSystemPlugin.java      |  5 +++--
 7 files changed, 51 insertions(+), 23 deletions(-)

commit 92fbed887ca4ca0f2208f367a8f86f8aa4940513
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Jul 17 16:41:48 2018 +0300

    DRILL-6603: Set num_nulls for parquet statistics to -1 when actual number is not defined.

 .../exec/expr/stat/ParquetPredicatesHelper.java    |   2 +-
 .../store/parquet/ParquetGroupScanStatistics.java  |   4 +-
 .../exec/store/parquet/metadata/Metadata.java      |  37 ++++------
 .../exec/store/parquet/metadata/MetadataBase.java  |  17 +++--
 .../exec/store/parquet/metadata/Metadata_V3.java   |  22 ++----
 .../parquet/stat/ParquetMetaStatCollector.java     |  13 ++--
 .../logical/TestConvertCountToDirectScan.java      |  76 +++++++++++----------
 .../store/parquet/TestParquetFilterPushDown.java   |  32 +++++++++
 .../src/test/resources/parquet/wide_string.parquet | Bin 0 -> 2292 bytes
 9 files changed, 109 insertions(+), 94 deletions(-)

commit b1aca337f4e07ad34ad5662872b237bd7257e468
Author: Charles S. Givre <cgivre@gmail.com>
Date:   Wed Jul 18 10:44:42 2018 -0400

    DRILL-6104: Add Log/Regex Format Plugin
    
    closes #1114

 .../drill/exec/store/log/LogFormatConfig.java      | 119 ++++
 .../drill/exec/store/log/LogFormatField.java       |  86 +++
 .../drill/exec/store/log/LogFormatPlugin.java      |  84 +++
 .../drill/exec/store/log/LogRecordReader.java      | 764 +++++++++++++++++++++
 .../java/org/apache/drill/exec/store/log/README.md |  86 +++
 .../store/dfs/TestFormatPluginOptionExtractor.java |  14 +-
 .../apache/drill/exec/store/log/TestLogReader.java | 366 ++++++++++
 .../src/test/resources/regex/baddates.log2         |   5 +
 .../src/test/resources/regex/mysql.sqllog          |   6 +
 .../src/test/resources/regex/mysql.sqllog2         |   6 +
 .../java-exec/src/test/resources/regex/simple.log1 |   5 +
 .../java-exec/src/test/resources/regex/simple.log2 |   5 +
 pom.xml                                            |   5 +
 .../org/apache/drill/exec/proto/UserBitShared.java |  10 +
 14 files changed, 1555 insertions(+), 6 deletions(-)

commit 5a0c75f69166283a17179e80b97712bed57110d9
Author: HanumathRao <hanu.ncr@gmail.com>
Date:   Fri Jun 29 08:46:41 2018 -0700

    DRILL-6475: Unnest: Null fieldId Pointer.
    
    closes #1381

 .../visitor/AdjustOperatorsSchemaVisitor.java      | 148 +++++++++++++++++++++
 .../physical/visitor/JoinPrelRenameVisitor.java    |  87 ------------
 .../planner/sql/handlers/DefaultSqlHandler.java    |   5 +-
 .../impl/lateraljoin/TestLateralPlans.java         |  24 ++++
 4 files changed, 175 insertions(+), 89 deletions(-)

commit 2c92ea22d9aa098cf3aaaf7893bd2fc33a08af31
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Mon Jun 25 13:50:37 2018 -0700

    DRILL-6496: Added print methods for debugging tests, and fixed missing log statement in VectorUtils.
    
    closes #1336

 .../mapr/drill/maprdb/tests/json/BaseJsonTest.java |   6 +-
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |   8 +-
 .../drill/hbase/TestHBaseCFAsJSONString.java       |   2 +-
 .../org/apache/drill/hbase/TestHBaseQueries.java   |   2 +-
 .../drill/exec/store/kafka/KafkaTestBase.java      |   8 +-
 .../drill/exec/store/mongo/MongoTestBase.java      |  10 +-
 docs/dev/TestLogging.md                            |  37 +++++++
 docs/dev/Testing.md                                |   1 -
 .../java/org/apache/drill/exec/client/DumpCat.java |   2 +-
 ...tsListener.java => LoggingResultsListener.java} |  18 ++--
 .../apache/drill/exec/client/QuerySubmitter.java   |   2 +-
 .../apache/drill/exec/util/CheckedSupplier.java    |  29 ++++++
 .../org/apache/drill/exec/util/VectorUtil.java     |  14 +--
 .../drill/TestTpchDistributedConcurrent.java       |   2 +-
 .../exec/physical/impl/TestConvertFunctions.java   |   2 +-
 .../impl/lateraljoin/TestE2EUnnestAndLateral.java  |  50 +++++-----
 .../impl/project/TestSimpleProjection.java         |   2 +-
 .../impl/xsort/TestSortSpillWithException.java     |   4 +-
 .../org/apache/drill/exec/pop/PopUnitTestBase.java |   2 -
 .../exec/server/options/TestConfigLinkage.java     |   4 +-
 .../exec/store/text/TextRecordReaderTest.java      |   2 +-
 .../drill/exec/testing/TestResourceLeak.java       |   2 +-
 .../java/org/apache/drill/test/BaseTestQuery.java  |  15 ++-
 .../drill/test/BufferingQueryEventListener.java    |   5 +-
 .../java/org/apache/drill/test/ClientFixture.java  |  31 ++++--
 .../java/org/apache/drill/test/ClusterFixture.java |   3 +-
 .../java/org/apache/drill/test/ClusterTest.java    |  40 ++------
 .../java/org/apache/drill/test/ExampleTest.java    |   8 +-
 .../apache/drill/test/PrintingResultsListener.java |  56 +++++++++++
 .../java/org/apache/drill/test/PrintingUtils.java  |  75 ++++++++++++++
 .../java/org/apache/drill/test/QueryBuilder.java   |  65 +++++++-----
 .../java/org/apache/drill/test/QueryTestUtil.java  | 111 +++++++++++++++++----
 pom.xml                                            |   1 -
 33 files changed, 447 insertions(+), 172 deletions(-)

commit 6bb0879ea22c31acc42632147ac3a1af9ec66fce
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Tue Jul 17 18:11:58 2018 +0300

    DRILL-6612: Query fails with AssertionError when joining persistent and temporary tables

 .../org/apache/calcite/jdbc/DynamicRootSchema.java |  9 ++---
 .../drill/exec/planner/sql/SchemaUtilites.java     |  8 ++++-
 .../drill/exec/planner/sql/SqlConverter.java       | 40 ++++++++++++----------
 .../apache/drill/exec/rpc/user/UserSession.java    |  3 +-
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  | 19 ++++++++++
 5 files changed, 53 insertions(+), 26 deletions(-)

commit bd6f63ddf11a668d98e52444ba79c22494820996
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Sat Jul 14 10:43:17 2018 -0700

    DRILL-6588: Make Sys tables of nullable datatypes
    
    This is to address the generic problem of NULL values being projected as a string because of all datatypes being non-nullable.
    This patch only applies to tables backed by the PojoReader (in our case, System tables). Added NonNullable annotations wherever application in any of the System tables, along with a unit test that verifies both nullable and non-nullable datatypes exist in the system tables.
    
    closes #1371

 .../apache/drill/exec/store/RecordDataType.java    | 25 ++++++++++-------
 .../apache/drill/exec/store/pojo/NonNullable.java  | 32 ++++++++++++++++++++++
 .../apache/drill/exec/store/pojo/PojoDataType.java | 30 ++++++++++----------
 .../store/sys/BitToUserConnectionIterator.java     |  7 ++++-
 .../drill/exec/store/sys/DrillbitIterator.java     |  5 ++++
 .../exec/store/sys/ExtendedOptionIterator.java     |  9 ++++--
 .../drill/exec/store/sys/MemoryIterator.java       |  2 ++
 .../drill/exec/store/sys/OptionIterator.java       | 13 +++++++--
 .../drill/exec/store/sys/ProfileInfoIterator.java  | 16 +++++++----
 .../drill/exec/store/sys/ProfileJsonIterator.java  |  2 ++
 .../drill/exec/store/sys/ThreadsIterator.java      |  2 ++
 .../drill/exec/store/sys/TestSystemTable.java      |  9 ++++++
 12 files changed, 116 insertions(+), 36 deletions(-)

commit e3534b6a9f1369a355d250a9e915ee40bca17444
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Fri Jul 13 15:21:14 2018 -0700

    DRILL-6591: Show Exception for failed queries submitted in WebUI
    
    * DRILL-6591: Show Exception for failed queries submitted in WebUI
    
    When query fails on Web UI result page no error is shown, only "No result found."
    This was because DRILL-6477 (PR #1309) switched to `WebUserConnection.await(long timeoutInMillis)` . Unlike the original `WebUserConnection.await()`, this method did not throw any UserException generated by a query failure. The fix was to use WebUserConnection.getError() method to know about failure of the query and throw UserRemoteException with that.
    
    closes #1379

 .../drill/exec/server/rest/QueryWrapper.java       | 31 +++++++++++-----------
 1 file changed, 16 insertions(+), 15 deletions(-)

commit feb99ac1a73522ce9f5dd5e3b001a89722130dbc
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Fri Jul 13 17:29:59 2018 +0300

    DRILL-5495: convert_from function on top of int96 data results in ArrayIndexOutOfBoundsException

 .../parquet/columnreaders/NullableFixedByteAlignedReaders.java     | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit c39ba74796d1f47887306ae81aa70ccf454effb3
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Jul 12 19:00:48 2018 +0300

    DRILL-6472: Prevent using zero precision in CAST function
    
    - Add check for the correctness of scale value;
    - Add check for fitting the value to the value with the concrete scale and precision;
    - Implement negative UDF for VarDecimal
    - Add unit tests for new checks and UDF.

 .../templates/Decimal/CastDecimalVarDecimal.java   |  13 ++-
 .../templates/Decimal/CastFloatDecimal.java        |  11 +-
 .../codegen/templates/Decimal/CastIntDecimal.java  |   8 +-
 .../templates/Decimal/CastVarCharDecimal.java      |  12 +--
 .../templates/Decimal/DecimalFunctions.java        |   9 +-
 .../drill/exec/planner/sql/SqlConverter.java       |  13 +++
 .../java/org/apache/drill/TestFunctionsQuery.java  |   2 +-
 .../drill/exec/fn/impl/TestCastFunctions.java      | 112 ++++++++++++++++-----
 .../exec/fn/impl/TestVarDecimalFunctions.java      | 108 +++++++++++---------
 .../test/resources/decimal/cast_decimal_int.json   |   2 +-
 .../resources/decimal/cast_decimal_vardecimal.json |   8 +-
 .../test/resources/decimal/cast_int_decimal.json   |   4 +-
 .../resources/decimal/cast_vardecimal_decimal.json |   6 +-
 .../org/apache/drill/exec/util/DecimalUtility.java |  23 +++++
 14 files changed, 227 insertions(+), 104 deletions(-)

commit eb90ebdfd6e40fe1769bfedd320fabc1e57c723b
Author: karthik <kmanivannan@maprtech.com>
Date:   Thu Jul 12 11:29:01 2018 -0700

    DRILL-6601 LageFileCompilation testProject times out
    
    closes #1378

 .../java/org/apache/drill/exec/compile/TestLargeFileCompilation.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4168e1e84d57b15d7667f7a768a0a47a577d0e79
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Mon Jul 9 17:58:08 2018 -0700

    DRILL-6542 : IndexOutOfBoundsException for multilevel lateral queries with schema changed partitioned complex data
    
    closes #1374

 .../drill/exec/physical/impl/unnest/Unnest.java    |  2 +
 .../exec/physical/impl/unnest/UnnestImpl.java      | 20 +++++++++
 .../physical/impl/unnest/UnnestRecordBatch.java    | 50 ++++++++++++++-------
 .../impl/lateraljoin/TestE2EUnnestAndLateral.java  | 51 ++++++++++++++++++++++
 4 files changed, 107 insertions(+), 16 deletions(-)

commit 94186fc54f2b2846955d44ced5ed06b1ae209884
Author: superbstreak <robwu15@gmail.com>
Date:   Mon Jul 9 12:07:22 2018 -0700

    [DRILL-6587] Added support for custom SSL CTX Options
    
    closes #1366

 contrib/native/client/example/querySubmitter.cpp   |  7 +++-
 contrib/native/client/src/clientlib/channel.cpp    | 14 +++++++-
 contrib/native/client/src/clientlib/channel.hpp    | 39 ++++++++++++----------
 contrib/native/client/src/clientlib/errmsgs.cpp    |  2 +-
 .../native/client/src/clientlib/userProperties.cpp |  1 +
 contrib/native/client/src/include/drill/common.hpp |  3 +-
 6 files changed, 45 insertions(+), 21 deletions(-)

commit b1eb9d76cda84661e5ebd6f1d87a5d5ee0501526
Author: superbstreak <robwu15@gmail.com>
Date:   Mon Jul 9 01:33:55 2018 -0700

    [DRILL-6586]  Add SSL Hostname verification with zookeeper connection mode support

 contrib/native/client/src/clientlib/channel.cpp |  7 +-----
 contrib/native/client/src/clientlib/channel.hpp | 33 +++++++++++++++----------
 2 files changed, 21 insertions(+), 19 deletions(-)

commit bd4049dc657e2f74d69abd7289482a57ea1d98cc
Author: superbstreak <robwu15@gmail.com>
Date:   Thu Jul 5 18:11:47 2018 -0700

    [DRILL-6581] C++ Client SSL Implementation Fixes/Improvements

 contrib/native/client/src/clientlib/channel.cpp    |  45 +++++----
 contrib/native/client/src/clientlib/channel.hpp    | 108 ++++++++++++++++++++-
 contrib/native/client/src/clientlib/errmsgs.cpp    |   3 +
 contrib/native/client/src/clientlib/errmsgs.hpp    |   5 +-
 .../client/src/include/drill/userProperties.hpp    |   3 +-
 5 files changed, 137 insertions(+), 27 deletions(-)

commit 56f951cc7a03e497ba34eeca4bd9265ae30c4650
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Mon Jul 2 22:04:20 2018 -0700

    DRILL-6579: Added sanity checks to the Parquet reader to avoid infinite loops
    
    closes #1361

 .../drill/exec/store/parquet/columnreaders/BatchReader.java      | 4 ++--
 .../exec/store/parquet/columnreaders/VarLenBinaryReader.java     | 3 ++-
 .../exec/store/parquet/columnreaders/VarLenBulkPageReader.java   | 7 +++++--
 .../store/parquet/columnreaders/VarLenEntryDictionaryReader.java | 3 +++
 .../exec/store/parquet/columnreaders/VarLenEntryReader.java      | 3 +++
 .../exec/store/parquet/columnreaders/VarLenFixedEntryReader.java | 9 +++++----
 .../parquet/columnreaders/VarLenNullableDictionaryReader.java    | 3 +++
 .../store/parquet/columnreaders/VarLenNullableEntryReader.java   | 3 +++
 .../parquet/columnreaders/VarLenNullableFixedEntryReader.java    | 6 ++++--
 .../exec/store/parquet/columnreaders/VarLenOverflowReader.java   | 3 +++
 10 files changed, 33 insertions(+), 11 deletions(-)

commit cad9aad12ff18a9315b8cce971e27c1b32c48079
Author: Parth Chandra <parthc@apache.org>
Date:   Fri Jul 6 16:23:51 2018 -0700

    DRILL-6592: Unnest record batch size is called too frequently
    
    closes #1376

 .../exec/physical/impl/unnest/UnnestRecordBatch.java | 20 ++++++++++++++------
 1 file changed, 14 insertions(+), 6 deletions(-)

commit c396ae71f36c3ac409d48b8977aac12d28f25077
Author: Parth Chandra <parthc@apache.org>
Date:   Fri Jul 6 16:23:51 2018 -0700

    DRILL-6596: Fix fillEmpties and set methods for Nullable variable length
    vectors to not use emptyByteArray
    
    closes #1377

 .../codegen/templates/NullableValueVectors.java    | 22 ++++++----------------
 1 file changed, 6 insertions(+), 16 deletions(-)

commit a97cce34e9f7ae9d522bf0542a984160d95a787c
Author: Abhishek Girish <agirish@apache.org>
Date:   Mon Jun 25 13:01:04 2018 -0700

    DRILL-6346: Create an Official Drill Docker Container
    
    closes #1348

 distribution/Dockerfile | 35 ++++++++++++++++++
 distribution/pom.xml    | 28 ++++++++++++++
 docs/dev/Docker.md      | 97 +++++++++++++++++++++++++++++++++++++++++++++++++
 pom.xml                 |  1 +
 4 files changed, 161 insertions(+)

commit d4f3304178f09f9fd7593ea70ffbff949c289e82
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Jul 2 00:47:13 2018 +0300

    DRILL-6559: Travis timing out
    
    * Excluding contrib module tests and all exec TPCH unit tests for travis full build.
    * Introducing new TRAVIS profile
    * Travis build is faster for 4-5 mins
    
    closes #1364

 .travis.yml                                                      | 2 +-
 contrib/pom.xml                                                  | 9 +++++++++
 .../java/org/apache/drill/exec/store/mongo/MongoTestSuit.java    | 4 ++++
 .../apache/drill/exec/store/mongo/TestMongoChunkAssignment.java  | 3 ++-
 .../java-exec/src/test/java/org/apache/drill/TestTpchLimit0.java | 4 ++--
 .../src/test/java/org/apache/drill/TestTpchSingleMode.java       | 3 +++
 6 files changed, 21 insertions(+), 4 deletions(-)

commit 80fb761f2cef0dc78c573081aaf83e52b32b46fc
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Fri Jun 29 17:31:40 2018 -0700

    DRILL-6560: Enhanced the batch statistics logging enablement
    
    closes #1355

 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |  11 +-
 .../exec/server/options/SystemOptionManager.java   |   5 +-
 .../parquet/columnreaders/ParquetRecordReader.java |   3 +-
 .../parquet/columnreaders/VarLenBinaryReader.java  |  15 +-
 .../batchsizing/OverflowSerDeUtil.java             |  12 +-
 .../batchsizing/RecordBatchOverflow.java           |  17 +-
 .../batchsizing/RecordBatchSizerManager.java       |  45 +++--
 .../drill/exec/util/record/RecordBatchStats.java   | 181 ++++++++++++++-------
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 10 files changed, 186 insertions(+), 107 deletions(-)

commit cfe61eb9b6ed4d636a26c76dbd12df26f38ba672
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Mon Jul 2 19:13:26 2018 -0700

    DRILL-6578: Handle query cancellation in Parquet reader
    
    closes #1360

 .../drill/common/exceptions/DrillRuntimeException.java | 18 ++++++++++++++++++
 .../main/codegen/templates/VariableLengthVectors.java  |  4 +++-
 2 files changed, 21 insertions(+), 1 deletion(-)

commit c64436774387e80fd9b0ff6e9cd7d42c9aa7a961
Author: karthik <kmanivannan@maprtech.com>
Date:   Mon Jun 4 17:00:31 2018 -0700

    DRILL-6594: Data batches for Project operator are not being split properly and exceed the maximum specified
    
    This change fixes the incorrect accounting in the case where a columns is being projected more than once
    
    closes #1375

 .../impl/project/OutputWidthExpression.java        | 17 ++++----
 .../physical/impl/project/OutputWidthVisitor.java  |  2 +-
 .../impl/project/OutputWidthVisitorState.java      |  7 +---
 .../impl/project/ProjectMemoryManager.java         | 48 ++++++++++------------
 .../physical/impl/project/ProjectRecordBatch.java  | 22 +++++-----
 5 files changed, 42 insertions(+), 54 deletions(-)

commit a77fd142d86dd5648cda8866b8ff3af39c7b6b11
Author: Parth Chandra <parthc@apache.org>
Date:   Mon Jun 18 21:34:20 2018 -0700

    DRILL-6516: EMIT support in streaming agg
    
    This closes #1358

 .../physical/impl/aggregate/StreamingAggBatch.java | 274 ++++++---
 .../impl/aggregate/StreamingAggTemplate.java       | 425 +++++++++-----
 .../impl/aggregate/StreamingAggregator.java        |  30 +-
 .../impl/agg/TestStreamingAggEmitOutcome.java      | 614 +++++++++++++++++++++
 .../impl/lateraljoin/TestE2EUnnestAndLateral.java  |  63 +++
 5 files changed, 1198 insertions(+), 208 deletions(-)

commit 7655ec4f54976def63101daabf34e51697978c57
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Sun Jul 1 00:02:55 2018 -0600

    DRILL-6516: Fix memory leak issue with Sort and StreamingAgg together

 .../impl/xsort/managed/ExternalSortBatch.java      | 54 +++++++++++-----------
 1 file changed, 28 insertions(+), 26 deletions(-)

commit b0314a32dec2e7e9fcc9be5f37fd35d5080cf81b
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Wed Jul 11 10:36:55 2018 -0700

    DRILL-6583: Add space between pagination links in Profiles (WebUI) list
    
    Inject a small space to improve readability of the pagination links (CSS)
    
    closes #1369

 .../java-exec/src/main/resources/rest/profile/list.ftl | 18 ++++++------------
 1 file changed, 6 insertions(+), 12 deletions(-)

commit a321bf0b9186ed25128346f0490b89ba0e2d0ddf
Author: Oleksandr Kalinin <alexka79@gmail.com>
Date:   Tue Jul 10 09:41:48 2018 +0200

    DRILL-5797: Use Parquet new reader on all non-complex columns queries

 .../parquet/AbstractParquetScanBatchCreator.java   |  29 +---
 .../exec/store/parquet/ParquetReaderUtility.java   | 143 +++++++++++++++++-
 .../columnreaders/ParquetColumnMetadata.java       |   5 +-
 .../store/parquet/columnreaders/ParquetSchema.java |  11 +-
 .../store/parquet/TestComplexColumnInSchema.java   | 168 +++++++++++++++++++++
 .../store/parquet/TestParquetReaderUtility.java    |  71 +++++++++
 .../parquet/complex/complex_special_cases.parquet  | Bin 0 -> 1911 bytes
 7 files changed, 391 insertions(+), 36 deletions(-)

commit e79db14d81f8ee15d27cc6026bc0ee409e0c0a3c
Author: karthik <kmanivannan@maprtech.com>
Date:   Fri Jun 22 18:26:37 2018 -0700

    DRILL-6529 Project Batch Sizing causes two LargeFileCompilation tests to timeout
    
    closes #1335
    
    Changed Project test columns to 10000 and reduces columns projected to SORT tests to 2500

 .../apache/drill/exec/compile/TestLargeFileCompilation.java    | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 25e65c0fe2aed741b143d69c0ffbe23a3433bedc
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Thu Jun 28 03:50:36 2018 -0700

    DRILL-6549: batch sizing for nested loop join
    
    closes #1363

 .../exec/physical/impl/join/NestedLoopJoin.java    |   3 +
 .../physical/impl/join/NestedLoopJoinBatch.java    |  62 +++-
 .../physical/impl/join/NestedLoopJoinTemplate.java |  24 +-
 .../exec/physical/unit/TestOutputBatchSize.java    | 342 ++++++++++++++++++++-
 4 files changed, 407 insertions(+), 24 deletions(-)

commit 2ea603f8c8396015006885365921027e5b3e7392
Author: Charles S. Givre <cgivre@gmail.com>
Date:   Thu Jul 5 11:45:52 2018 -0400

    DRILL-6519: Add String Distance and Phonetic Functions
    
    closes #1331

 exec/java-exec/pom.xml                             |   6 +-
 .../drill/exec/expr/fn/impl/PhoneticFunctions.java | 407 +++++++++++++++++++++
 .../exec/expr/fn/impl/StringDistanceFunctions.java | 329 +++++++++++++++++
 .../drill/exec/fn/impl/TestPhoneticFunctions.java  | 119 ++++++
 .../exec/fn/impl/TestStringDistanceFunctions.java  |  80 ++++
 .../java/org/apache/drill/test/QueryBuilder.java   |  21 ++
 exec/jdbc-all/pom.xml                              |   2 +-
 7 files changed, 962 insertions(+), 2 deletions(-)

commit 139f7156bcb2f6fef5b36f116c9c1b6095fc4b9c
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Jul 5 20:48:37 2018 +0000

    DRILL-6575: Add store.hive.conf.properties option to allow set Hive properties at session level
    
    closes #1365

 ...ertHiveMapRDBJsonScanToDrillMapRDBJsonScan.java |   6 +-
 .../ConvertHiveParquetScanToDrillParquetScan.java  |  21 ++--
 .../hive/HiveDrillNativeParquetRowGroupScan.java   |  17 +++-
 .../store/hive/HiveDrillNativeParquetScan.java     |  20 +++-
 .../org/apache/drill/exec/store/hive/HiveScan.java | 105 ++++++++++----------
 .../drill/exec/store/hive/HiveStoragePlugin.java   |  57 ++++++++---
 .../exec/store/hive/HiveStoragePluginConfig.java   |  21 ++--
 .../apache/drill/exec/store/hive/HiveSubScan.java  |  22 +++--
 .../drill/exec/store/hive/HiveUtilities.java       | 108 ++++++++++++++++-----
 .../main/resources/bootstrap-storage-plugins.json  |   2 +-
 .../exec/TestHiveDrillNativeParquetReader.java     |  17 ++++
 .../apache/drill/exec/hive/TestHiveStorage.java    |  21 ++++
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |   2 +
 .../exec/store/hive/HiveTestDataGenerator.java     |  80 ++++++++-------
 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  53 +++++-----
 .../drill/exec/planner/logical/DrillTable.java     |  11 ++-
 .../drill/exec/planner/sql/SqlConverter.java       |  34 +++----
 .../exec/server/options/SystemOptionManager.java   |  43 ++++----
 .../drill/exec/store/AbstractStoragePlugin.java    |  12 +++
 .../org/apache/drill/exec/store/StoragePlugin.java |  45 ++++++---
 .../java-exec/src/main/resources/drill-module.conf |   4 +
 22 files changed, 457 insertions(+), 247 deletions(-)

commit aee899c1b26ebb9a5781d280d5a73b42c273d4d5
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Fri Jun 29 19:58:12 2018 -0700

    DRILL-6570: Fixed IndexOutofBoundException in Parquet Reader

 .../columnreaders/VarLenColumnBulkEntry.java       | 32 ++++++++--------------
 1 file changed, 12 insertions(+), 20 deletions(-)

commit 287adec537f654e548404d1d337133fd21a1a937
Author: Abhishek Ravi <abhi.ravi@gmail.com>
Date:   Sun Apr 8 14:01:31 2018 -0700

    DRILL-5977: Implement Filter Pushdown in Drill-Kafka plugin
    
    closes #1272

 .../drill/exec/store/kafka/KafkaGroupScan.java     |  90 +++---
 .../drill/exec/store/kafka/KafkaNodeProcessor.java | 186 +++++++++++
 .../exec/store/kafka/KafkaPartitionScanSpec.java   | 100 ++++++
 .../store/kafka/KafkaPartitionScanSpecBuilder.java | 345 ++++++++++++++++++++
 .../store/kafka/KafkaPushDownFilterIntoScan.java   |  81 +++++
 .../drill/exec/store/kafka/KafkaRecordReader.java  |   5 +-
 .../exec/store/kafka/KafkaScanBatchCreator.java    |   2 +-
 .../drill/exec/store/kafka/KafkaStoragePlugin.java |   2 +-
 .../drill/exec/store/kafka/KafkaSubScan.java       |  72 +----
 .../drill/exec/store/kafka/MessageIterator.java    |   3 +-
 .../exec/store/kafka/KafkaFilterPushdownTest.java  | 359 +++++++++++++++++++++
 .../exec/store/kafka/KafkaMessageGenerator.java    |  34 ++
 .../exec/store/kafka/MessageIteratorTest.java      |   5 +-
 .../drill/exec/store/kafka/TestKafkaSuit.java      |  18 +-
 .../drill/exec/store/kafka/TestQueryConstants.java |  12 +
 15 files changed, 1197 insertions(+), 117 deletions(-)

commit 96fa53900ab470b89cf7d5b812d43f61db6eb056
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Tue Jun 26 12:30:53 2018 +0300

    DRILL-6534: Upgrade ZooKeeper patch version to 3.4.12 and add Apache Curator to dependencyManagement
    
    closes #1337

 contrib/storage-kafka/pom.xml |  8 -----
 drill-yarn/pom.xml            | 30 ++++++++----------
 exec/java-exec/pom.xml        | 39 ++++++++----------------
 exec/jdbc-all/pom.xml         |  1 +
 pom.xml                       | 71 +++++++++++++++++++++++++++++++++++++++++--
 5 files changed, 94 insertions(+), 55 deletions(-)

commit 132a05ecec9d65c00bcce20678f29228abaea418
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Mon Jul 2 18:30:47 2018 -0700

    DRILL-6577: Change Hash-Join fallback default to false
    
    closes #1359

 exec/java-exec/src/main/resources/drill-module.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5c9303d7e3797377191ff9a57103ef033e023db1
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Jun 28 20:20:38 2018 +0300

    DRILL-6553: Fix TopN for unnest operator
    
    closes #1353

 .../planner/common/DrillLateralJoinRelBase.java    | 15 ++++++----
 .../impl/lateraljoin/TestE2EUnnestAndLateral.java  |  9 ++++--
 .../impl/lateraljoin/TestLateralPlans.java         | 33 ++++++++++++++++++++++
 3 files changed, 49 insertions(+), 8 deletions(-)

commit e047a2bf79df5b2dc4d3abc00c79c6a53903522f
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Jun 29 18:25:59 2018 +0300

    DRILL-6557: Use size in bytes during Hive statistics calculation if present
    
    1. Check size in bytes presence in stats before fetching input splits and use it if present.
    2. Add log trace suggesting to use ANALYZE command before running queries if statistics is unavailable and Drill had to fetch all input splits.
    3. Minor refactoring /  cleanup in HiveMetadataProvider class.
    
    closes #1357

 .../exec/store/hive/HiveMetadataProvider.java      | 232 +++++++++++----------
 1 file changed, 123 insertions(+), 109 deletions(-)

commit cacca92fde38208828fea71d449ebb67ad9fc10f
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Jun 14 19:32:43 2018 +0300

    DRILL-6546: Allow unnest function with nested columns and complex expressions
    
    Fix loss of projected names in right side of correlate when single field is projected

 .../apache/drill/exec/planner/PlannerPhase.java    |   3 +
 .../planner/common/DrillLateralJoinRelBase.java    |  19 ++-
 .../exec/planner/logical/DrillLateralJoinRel.java  |   2 +-
 .../exec/planner/logical/DrillUnnestRule.java      |  11 +-
 ...rojectComplexRexNodeCorrelateTransposeRule.java | 154 +++++++++++++++++++
 .../exec/planner/physical/LateralJoinPrel.java     |   5 +-
 .../drill/exec/planner/physical/UnnestPrule.java   |   5 -
 .../physical/visitor/JoinPrelRenameVisitor.java    |  14 +-
 .../sql/parser/CompoundIdentifierConverter.java    | 171 +++++++++++----------
 .../impl/lateraljoin/TestE2EUnnestAndLateral.java  |  88 +++++++++++
 10 files changed, 362 insertions(+), 110 deletions(-)

commit 62aadda83c68cb3ec06af38336df969958620aa0
Author: Parth Chandra <parthc@apache.org>
Date:   Thu Jun 7 13:30:01 2018 -0700

    DRILL-6576: Unnest reports incoming record counts incorrectly
    
    This closes #1362

 .../exec/physical/impl/unnest/UnnestImpl.java      |  2 +-
 .../physical/impl/unnest/UnnestRecordBatch.java    | 41 +++++++++++-----------
 2 files changed, 21 insertions(+), 22 deletions(-)

commit 0ae7035de390c699f574d1ec25d45cd8b20a8b94
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Tue Jul 3 20:23:03 2018 +0300

    DRILL-6494: Drill Plugins Handler
    
    - Storage Plugins Handler service is used op the Drill start-up stage and it updates storage plugins configs from
      storage-plugins-override.conf file. If plugins configs are present in the persistence store - they are updated,
      otherwise bootstrap plugins are updated and the result configs are loaded to persistence store. If the enabled
      status is absent in the storage-plugins-override.conf file, the last plugin config enabled status persists.
    - 'drill.exec.storage.action_on_plugins_override_file' Boot option is added. This is the action, which should be
      performed on the storage-plugins-override.conf file after successful updating storage plugins configs.
      Possible values are: "none" (default), "rename" and "remove".
    - The "NULL" issue with updating Hive plugin config by REST is solved. But clients are still being instantiated for disabled
      plugins - DRILL-6412.
    - "org.honton.chas.hocon:jackson-dataformat-hocon" library is added for the proper deserializing HOCON conf file
    - additional refactoring: "com.typesafe:config" and "org.apache.commons:commons-lang3" are placed into DependencyManagement
      block with proper versions; correct properties for metrics in "drill-override-example.conf" are specified
    
    closes #1345

 common/pom.xml                                     |   2 -
 .../drill/common/config/CommonConstants.java       |   3 +
 .../apache/drill/common/config/DrillConfig.java    |   2 +-
 .../drill/common/scanner/ClassPathScanner.java     |   6 +-
 .../org/apache/drill/exec/util/ActionOnFile.java   |  87 +++++++++
 .../main/resources/bootstrap-storage-plugins.json  |   4 +-
 .../exec/store/hive/schema/HiveSchemaFactory.java  |  11 +-
 .../main/resources/bootstrap-storage-plugins.json  |   8 +-
 .../test/resources/bootstrap-storage-plugins.json  |   7 +-
 .../main/resources/bootstrap-storage-plugins.json  |   4 +-
 .../main/resources/bootstrap-storage-plugins.json  |   4 +-
 distribution/src/assemble/bin.xml                  |   7 +-
 .../src/resources/drill-override-example.conf      |  26 +--
 .../storage-plugins-override-example.conf          |  65 +++++++
 drill-yarn/pom.xml                                 |   1 -
 exec/java-exec/pom.xml                             |   4 +
 .../drill/exec/planner/logical/StoragePlugins.java |  44 ++++-
 .../drill/exec/server/rest/StorageResources.java   |   1 +
 .../drill/exec/store/NamedStoragePluginConfig.java |  41 +++-
 .../apache/drill/exec/store/StoragePluginMap.java  |  12 +-
 .../drill/exec/store/StoragePluginRegistry.java    |  57 +++---
 .../exec/store/StoragePluginRegistryImpl.java      | 212 +++++++++++----------
 .../drill/exec/store/StoragePluginsHandler.java    |  39 ++++
 .../exec/store/StoragePluginsHandlerService.java   | 152 +++++++++++++++
 .../drill/exec/util/StoragePluginTestUtils.java    |   2 +
 .../main/resources/bootstrap-storage-plugins.json  |  11 +-
 .../java-exec/src/main/resources/drill-module.conf |   5 +-
 .../exec/impersonation/BaseTestImpersonation.java  |   1 +
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  |   1 +
 .../java/org/apache/drill/test/ClusterFixture.java |   4 +-
 .../drill/test/ClusterMockStorageFixture.java      |   2 +-
 logical/pom.xml                                    |   2 -
 .../common/config/LogicalPlanPersistence.java      |  14 +-
 .../drill/common/logical/StoragePluginConfig.java  |  25 ++-
 pom.xml                                            |  15 ++
 35 files changed, 680 insertions(+), 201 deletions(-)

commit 069c3049f1a500e5ae0b47caeebc5856ab182b73
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Fri Jun 29 10:27:55 2018 -0700

    DRILL-6561: Lateral excluding the columns from output container provided by projection push into rules
    
    This closes #1356

 .../exec/physical/impl/join/HashJoinBatch.java     |   7 +-
 .../exec/physical/impl/join/LateralJoinBatch.java  |  71 +++++++--
 .../exec/physical/impl/join/MergeJoinBatch.java    |   3 +-
 .../drill/exec/record/JoinBatchMemoryManager.java  |  19 ++-
 .../impl/join/TestLateralJoinCorrectness.java      | 160 ++++++++++++++++++++-
 .../unnest/TestUnnestWithLateralCorrectness.java   | 104 +++++++++-----
 6 files changed, 310 insertions(+), 54 deletions(-)

commit 208733b52ec40fd49e6bd424782f7c71aabef7e3
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue Jun 26 10:53:53 2018 -0700

    DRILL-6530: JVM crash with a query involving multiple json files with one file having a schema change of one column from string to list
    
    This closes #1343

 .../vector/src/main/codegen/templates/ListWriters.java | 18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

commit 0bdebf27944396d69fa4926d1bf2da5899e03033
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Thu Jun 21 22:57:00 2018 -0700

    DRILL-6535: ClassCastException in Lateral Unnest queries when dealing with schema changed json data Note: The issue was happening because for a left incoming all right batches were filtered and hence outputIndex was still 0 when new left incoming came with OK_NEW_SCHEMA. The OK_NEW_SCHEMA change was consumed without updating output container schema.
    
    This closes #1339

 .../exec/physical/impl/join/LateralJoinBatch.java  | 37 ++++++++++--
 .../impl/join/TestLateralJoinCorrectness.java      | 67 ++++++++++++++++++++++
 2 files changed, 100 insertions(+), 4 deletions(-)

commit f1a3bd12c2fd3ad525642933ace2d7b9cedaacc9
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Tue Jun 26 14:00:07 2018 -0700

    DRILL-6310: limit batch size for hash aggregate
    
    closes #1324

 .../exec/physical/impl/aggregate/HashAggBatch.java | 137 ++++++++++++--
 .../physical/impl/aggregate/HashAggTemplate.java   | 139 ++++++++------
 .../physical/impl/aggregate/HashAggregator.java    |   2 +
 .../exec/physical/impl/common/HashPartition.java   |   4 +-
 .../drill/exec/physical/impl/common/HashTable.java |  10 +-
 .../impl/common/HashTableAllocationTracker.java    |  25 +--
 .../physical/impl/common/HashTableTemplate.java    | 132 ++++++++------
 .../exec/record/RecordBatchMemoryManager.java      |  26 ++-
 .../common/HashTableAllocationTrackerTest.java     |  46 ++---
 .../exec/physical/unit/TestOutputBatchSize.java    | 199 +++++++++++++++++++++
 10 files changed, 557 insertions(+), 163 deletions(-)

commit 482a63549e1bfe2b238ea9bdaf7d42312e1f51f6
Author: Padma Penumarthy <padma@padmas-mbp.attlocal.net>
Date:   Sun Jul 1 09:43:40 2018 -0700

    DRILL-6537: Limit the batch size for buffering operators based on how much memory they get
    
    closes #1342

 .../src/main/java/org/apache/drill/exec/ExecConstants.java     |  4 ++++
 .../apache/drill/exec/physical/impl/join/HashJoinBatch.java    | 10 +++++++---
 .../apache/drill/exec/server/options/SystemOptionManager.java  |  3 ++-
 exec/java-exec/src/main/resources/drill-module.conf            |  1 +
 4 files changed, 14 insertions(+), 4 deletions(-)

commit dcc25800902dea81e87e2c7e3ddfb7fd9b281b42
Author: Vlad Rozov <vrozov@apache.org>
Date:   Wed Jun 27 10:45:49 2018 -0700

    DRILL-6554: Minor code improvements in parquet statistics handling
    
    closes #1349

 .../apache/drill/exec/expr/stat/ParquetIsPredicate.java  | 16 ++++++++--------
 .../drill/exec/expr/stat/ParquetPredicatesHelper.java    | 16 ++++++++--------
 .../drill/exec/store/parquet/ParquetReaderUtility.java   | 15 ++++-----------
 .../drill/exec/store/parquet/metadata/Metadata.java      |  2 +-
 4 files changed, 21 insertions(+), 28 deletions(-)

commit bf40c5ca84c7a3c783984369564dc151349114b9
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Thu Jun 28 22:20:32 2018 -0700

    DRILL-6548: IllegalStateException: Unexpected EMIT outcome received in buildSchema phase
    
    closes #1352

 .../apache/drill/exec/physical/impl/TopN/TopNBatch.java  |  1 +
 .../exec/physical/impl/TopN/TestTopNEmitOutcome.java     | 16 ++++++++++++++++
 2 files changed, 17 insertions(+)

commit 8ec2dc64175648103a5ec51f8ad98387496692a9
Author: HanumathRao <hanu.ncr@gmail.com>
Date:   Thu Jun 21 18:42:24 2018 -0700

    DRILL-6545: Projection Push down into Lateral Join operator.
    
    closes #1347

 .../drill/exec/physical/config/LateralJoinPOP.java |  15 ++-
 .../apache/drill/exec/planner/PlannerPhase.java    |   5 +-
 .../planner/common/DrillLateralJoinRelBase.java    |  64 +++++++++++-
 .../drill/exec/planner/common/DrillRelOptUtil.java |  70 +++++++++++++
 .../exec/planner/logical/DrillCorrelateRule.java   |   2 +-
 .../exec/planner/logical/DrillLateralJoinRel.java  |   8 +-
 .../DrillProjectLateralJoinTransposeRule.java      |  50 +++++++++
 .../DrillProjectPushIntoLateralJoinRule.java       | 113 +++++++++++++++++++++
 .../exec/planner/physical/LateralJoinPrel.java     |  40 ++++++--
 .../exec/planner/physical/LateralJoinPrule.java    |   2 +-
 .../physical/visitor/JoinPrelRenameVisitor.java    |   2 +-
 .../impl/join/TestLateralJoinCorrectness.java      |  25 ++---
 .../impl/lateraljoin/TestLateralPlans.java         |  47 ++++++++-
 .../unnest/TestUnnestWithLateralCorrectness.java   |   7 +-
 pom.xml                                            |   2 +-
 15 files changed, 414 insertions(+), 38 deletions(-)

commit 7c22e35ef2a9ecc41cc15c5deefac9b306ea87a1
Author: agirish <abhishek.girish@gmail.com>
Date:   Sun Apr 9 17:42:57 2017 -0700

    DRILL-4580: Support for exporting storage plugin configurations
    
    closes #1350

 .../org/apache/drill/exec/server/rest/StorageResources.java    | 10 ++++++++++
 exec/java-exec/src/main/resources/rest/storage/list.ftl        |  1 +
 exec/java-exec/src/main/resources/rest/storage/update.ftl      |  1 +
 3 files changed, 12 insertions(+)

commit e6a0cdd193ed1724d7cd1faedb5257c787f468b0
Author: Akihiko Kusanagi <nagi@nagi-p.com>
Date:   Tue Jun 5 23:12:13 2018 +0900

    DRILL-4020: The not-equal operator returns incorrect results when used on the HBase row key
    
    - Added a condition that checks if the filter to the scan specification doesn't have NOT_EQUAL operator
    - Added testFilterPushDownRowKeyNotEqual() to TestHBaseFilterPushDown
    
    closes #309

 .../drill/exec/store/hbase/HBaseFilterBuilder.java     |  1 +
 .../apache/drill/hbase/TestHBaseFilterPushDown.java    | 18 ++++++++++++++++++
 2 files changed, 19 insertions(+)

commit f481a7c2833b8c7ebabe02a37590cdd3e559ca5e
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Tue Jun 19 19:23:41 2018 -0700

    DRILL-6147: Adding Columnar Parquet Batch Sizing functionality
    
    closes #1330

 .../java/org/apache/drill/exec/ExecConstants.java  |  16 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |  45 ++
 .../exec/server/options/SystemOptionManager.java   |   4 +
 .../store/parquet/columnreaders/BatchReader.java   |  53 +-
 .../store/parquet/columnreaders/BitReader.java     |   4 +-
 .../store/parquet/columnreaders/ColumnReader.java  |   2 +-
 .../parquet/columnreaders/ColumnReaderFactory.java | 115 ++--
 .../columnreaders/FixedByteAlignedReader.java      |  32 +-
 .../columnreaders/FixedWidthRepeatedReader.java    |   6 +-
 .../parquet/columnreaders/NullableBitReader.java   |   4 +-
 .../columnreaders/NullableColumnReader.java        |   4 +-
 .../NullableFixedByteAlignedReaders.java           |  64 +-
 .../NullableVarLengthValuesColumn.java             |   4 +-
 .../columnreaders/ParquetColumnMetadata.java       |  18 +-
 .../ParquetFixedWidthDictionaryReaders.java        |  44 +-
 .../parquet/columnreaders/ParquetRecordReader.java |  74 ++-
 .../store/parquet/columnreaders/ParquetSchema.java |  18 +-
 .../store/parquet/columnreaders/ReadState.java     |  76 ++-
 .../columnreaders/VarLenAbstractEntryReader.java   |  75 +--
 .../VarLenAbstractPageEntryReader.java             | 100 ++++
 .../parquet/columnreaders/VarLenBinaryReader.java  | 239 +++++++-
 .../columnreaders/VarLenBulkPageReader.java        |  78 ++-
 .../columnreaders/VarLenColumnBulkEntry.java       |  16 +
 .../columnreaders/VarLenColumnBulkInput.java       | 272 +++++++--
 .../columnreaders/VarLenEntryDictionaryReader.java |  14 +-
 .../parquet/columnreaders/VarLenEntryReader.java   |  30 +-
 .../columnreaders/VarLenFixedEntryReader.java      |   8 +-
 .../VarLenNullableDictionaryReader.java            |  16 +-
 .../columnreaders/VarLenNullableEntryReader.java   |  14 +-
 .../VarLenNullableFixedEntryReader.java            |   8 +-
 .../columnreaders/VarLenOverflowReader.java        | 372 ++++++++++++
 .../parquet/columnreaders/VarLengthColumn.java     |   4 +-
 .../columnreaders/VarLengthColumnReaders.java      |  24 +-
 .../columnreaders/VarLengthValuesColumn.java       |   4 +-
 .../batchsizing/BatchOverflowOptimizer.java        | 147 +++++
 .../batchsizing/BatchSizingMemoryUtil.java         | 329 ++++++++++
 .../batchsizing/OverflowSerDeUtil.java             | 366 ++++++++++++
 .../batchsizing/RecordBatchOverflow.java           | 177 ++++++
 .../batchsizing/RecordBatchSizerManager.java       | 661 +++++++++++++++++++++
 .../drill/exec/util/record/RecordBatchStats.java   | 225 +++++++
 .../java-exec/src/main/resources/drill-module.conf |   6 +
 .../columnreaders/TestBatchSizingMemoryUtil.java   | 167 ++++++
 .../codegen/templates/NullableValueVectors.java    |   7 +
 .../codegen/templates/VariableLengthVectors.java   |  12 +-
 44 files changed, 3525 insertions(+), 429 deletions(-)

commit 140d09e69b65ac2cb1bed09a37fa5861d39a99b3
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Mon Jun 25 21:27:48 2018 -0700

    DRILL-6539: Record count not set for this vector container error
    
    closes #1340

 .../org/apache/drill/exec/physical/impl/common/HashTableTemplate.java    | 1 +
 1 file changed, 1 insertion(+)

commit 02255d8573497cb88e19624ea0054d0121498646
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Mon Jun 25 19:06:51 2018 -0700

    DRILL-6512: Remove unnecessary processing overhead from RecordBatchSizer
    
    closes #1341

 .../physical/impl/aggregate/HashAggTemplate.java   |   4 +-
 .../exec/physical/impl/common/HashPartition.java   |   2 +-
 .../physical/impl/common/HashTableTemplate.java    |   2 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |   2 +-
 .../exec/physical/impl/xsort/managed/SortImpl.java |  10 +-
 .../drill/exec/record/JoinBatchMemoryManager.java  |   7 +-
 .../exec/record/RecordBatchMemoryManager.java      |  12 ++-
 .../apache/drill/exec/record/RecordBatchSizer.java | 120 ++++++++++++---------
 .../exec/physical/unit/TestOutputBatchSize.java    |   2 +-
 .../org/apache/drill/test/DrillTestWrapper.java    |   2 +-
 .../drill/test/rowSet/AbstractSingleRowSet.java    |   2 +-
 .../apache/drill/test/rowSet/IndirectRowSet.java   |   2 +-
 12 files changed, 96 insertions(+), 71 deletions(-)

commit 3b34f0dfddade01220cee5cd299a62f012aea70a
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Thu Jun 28 10:54:31 2018 -0700

    DRILL-6498: Support for EMIT outcome in ExternalSortBatch
    
    * DRILL-6498: Support for EMIT outcome in ExternalSortBatch
    * Updated TestTopNEmitOutcome to use RowSetComparison for comparing expected and actual output batches produced
    
    closes #1323

 .../impl/xsort/managed/ExternalSortBatch.java      | 241 +++++--
 .../impl/xsort/managed/MergeSortWrapper.java       |  31 +-
 .../xsort/managed/PriorityQueueCopierWrapper.java  |  30 +
 .../exec/physical/impl/xsort/managed/SortImpl.java |  38 ++
 .../physical/impl/xsort/managed/SpilledRuns.java   |   8 +-
 .../physical/impl/TopN/TestTopNEmitOutcome.java    | 129 +---
 .../impl/lateraljoin/TestE2EUnnestAndLateral.java  |  98 ++-
 .../impl/xsort/managed/TestSortEmitOutcome.java    | 728 +++++++++++++++++++++
 .../physical/impl/xsort/managed/TestSortImpl.java  |  20 +-
 9 files changed, 1143 insertions(+), 180 deletions(-)

commit c346859735e4eab3ad12e755e5643fceb9536f74
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Jun 22 19:36:41 2018 +0300

    DRILL-6526: Refactor FileSystemConfig to disallow direct access from the code to its variables

 .../drill/exec/store/dfs/FileSystemConfig.java     | 44 ++++++++++++++++++---
 .../drill/exec/store/dfs/FileSystemPlugin.java     | 31 +++++++--------
 .../apache/drill/exec/store/dfs/FormatCreator.java | 11 +++---
 .../exec/store/easy/json/JSONFormatPlugin.java     | 14 ++++---
 .../exec/store/easy/text/TextFormatPlugin.java     | 26 ++++++------
 .../exec/store/parquet/ParquetFormatPlugin.java    | 10 ++---
 .../drill/exec/util/StoragePluginTestUtils.java    | 46 +++++++++++++++-------
 .../exec/impersonation/BaseTestImpersonation.java  | 21 ++++------
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  | 17 +++++++-
 .../org/apache/drill/exec/sql/TestInfoSchema.java  |  2 +-
 .../java/org/apache/drill/test/ClusterFixture.java | 24 ++++++++---
 11 files changed, 158 insertions(+), 88 deletions(-)

commit 779edf880a1e92608b68108f18e79eff6eb4afa5
Author: Sorabh Hamirwasia <sorabh@apache.org>
Date:   Tue Jun 26 23:19:25 2018 -0700

    DRILL-6503: Performance improvements in lateral
    
    closes #1328

 .../drill/exec/physical/config/LateralJoinPOP.java |   4 +
 .../exec/physical/impl/join/LateralJoinBatch.java  | 162 ++++++++++++++-------
 .../impl/join/TestLateralJoinCorrectness.java      |  16 +-
 .../unnest/TestUnnestWithLateralCorrectness.java   |   6 +-
 4 files changed, 121 insertions(+), 67 deletions(-)

commit 4b028fe81ead796e0450036e19d161124b1f8470
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Tue Jun 26 13:21:13 2018 -0700

    DRILL-6515: Render a link between the Unnest operator and it's source
    
    * DRILL-6515: Render a link between the Unnest operator and it's source
    
    1. Unnest operator is expected to specify srcOp=##-## to help identify the source of its input.
    2. Implicit Source Map is leveraged to capture implicit data flow pipelines between Unnest and Lateral. (Can be expanded to other operators too).
    3. In addition, code refactored for more readability.
    
    * Minor comment updates
    
    * Minor Update
    
    Converted implicitSrc to a local variable
    
    closes #1327

 .../src/main/resources/rest/static/js/graph.js     | 80 +++++++++++++++++-----
 1 file changed, 61 insertions(+), 19 deletions(-)

commit 7b0c9034753a8c5035fd1c0f1f84a37b376e6748
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Mon Jun 4 14:07:47 2018 -0700

    DRILL-6479: Support EMIT for the Hash Aggr
    
    closes #1311

 .../exec/physical/impl/aggregate/HashAggBatch.java |  26 +-
 .../physical/impl/aggregate/HashAggTemplate.java   | 116 +++--
 .../physical/impl/aggregate/HashAggregator.java    |   6 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |   2 +-
 .../physical/impl/agg/TestHashAggEmitOutcome.java  | 476 +++++++++++++++++++++
 .../impl/lateraljoin/TestE2EUnnestAndLateral.java  |  44 ++
 .../java/org/apache/drill/test/TestBuilder.java    |   2 +-
 .../src/test/resources/lateraljoin/with_nulls.json |   4 +
 8 files changed, 634 insertions(+), 42 deletions(-)

commit b92f5996eeb9bc41c23c0faddb65b248c7cc8c4f
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Thu May 31 20:39:44 2018 -0700

    DRILL-6454: Native MapR DB plugin support for Hive MapR-DB json table
    
    closes #1314

 .../drill/exec/store/mapr/TableFormatPlugin.java   |  11 +-
 .../exec/store/mapr/db/MapRDBFormatMatcher.java    |  18 +-
 .../drill/exec/store/mapr/db/MapRDBGroupScan.java  |   8 +-
 .../store/mapr/db/MapRDBPushFilterIntoScan.java    |   2 +-
 .../store/mapr/db/binary/BinaryTableGroupScan.java |   8 +-
 .../store/mapr/db/json/JsonTableGroupScan.java     |   6 +-
 contrib/storage-hive/core/pom.xml                  |   5 +
 ...ertHiveMapRDBJsonScanToDrillMapRDBJsonScan.java | 186 +++++++++++++++++++++
 .../ConvertHiveParquetScanToDrillParquetScan.java  | 116 +------------
 .../exec/store/hive/HiveMetadataProvider.java      |   2 +-
 .../drill/exec/store/hive/HiveStoragePlugin.java   |  16 +-
 .../drill/exec/store/hive/HiveTableWrapper.java    |   7 +-
 .../drill/exec/store/hive/HiveUtilities.java       | 149 ++++++++++++++---
 .../exec/TestHiveDrillNativeParquetReader.java     |   4 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   8 +
 .../exec/server/options/SystemOptionManager.java   |   2 +
 .../java-exec/src/main/resources/drill-module.conf |   2 +
 17 files changed, 378 insertions(+), 172 deletions(-)

commit 67d992c6bbe11bea2350538db90090ccf8942096
Author: karthik <kmanivannan@maprtech.com>
Date:   Wed Mar 21 13:52:03 2018 -0700

    DRILL-6340 Output Batch Control in Project using the RecordBatchSizer
    
    Changes required to implement Output Batch Sizing in Project using the RecordBatchSizer.
    
    closes #1302

 .../scanner/persistence/AnnotationDescriptor.java  |   2 +
 .../drill/exec/expr/AbstractExecExprVisitor.java   |  58 ++++
 .../drill/exec/expr/ValueVectorReadExpression.java |   8 +-
 .../exec/expr/ValueVectorWriteExpression.java      |   9 +-
 .../exec/expr/annotations/FunctionTemplate.java    |  34 ++
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  29 +-
 .../drill/exec/expr/fn/FunctionAttributes.java     |   8 +
 .../drill/exec/expr/fn/impl/ByteSubstring.java     |   3 +-
 .../exec/expr/fn/impl/CastVarCharVar16Char.java    |   3 +-
 .../drill/exec/expr/fn/impl/CharSubstring.java     |   3 +-
 .../drill/exec/expr/fn/impl/ContextFunctions.java  |  10 +-
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java |   4 +-
 .../exec/expr/fn/impl/SimpleCastFunctions.java     |   3 +-
 .../drill/exec/expr/fn/impl/StringFunctions.java   | 108 ++++---
 .../exec/expr/fn/impl/conv/BigIntBEConvertTo.java  |   4 +-
 .../exec/expr/fn/impl/conv/BigIntConvertTo.java    |   4 +-
 .../expr/fn/impl/conv/BigIntVLongConvertTo.java    |   4 +-
 .../expr/fn/impl/conv/BooleanByteConvertTo.java    |   4 +-
 .../expr/fn/impl/conv/DateEpochBEConvertTo.java    |   4 +-
 .../exec/expr/fn/impl/conv/DateEpochConvertTo.java |   4 +-
 .../exec/expr/fn/impl/conv/DoubleBEConvertTo.java  |   4 +-
 .../exec/expr/fn/impl/conv/DoubleConvertTo.java    |   4 +-
 .../exec/expr/fn/impl/conv/DummyConvertFrom.java   |   3 +-
 .../exec/expr/fn/impl/conv/DummyConvertTo.java     |   3 +-
 .../exec/expr/fn/impl/conv/FloatBEConvertTo.java   |   4 +-
 .../exec/expr/fn/impl/conv/FloatConvertTo.java     |   4 +-
 .../exec/expr/fn/impl/conv/IntBEConvertTo.java     |   4 +-
 .../drill/exec/expr/fn/impl/conv/IntConvertTo.java |   4 +-
 .../exec/expr/fn/impl/conv/IntVIntConvertTo.java   |   4 +-
 .../exec/expr/fn/impl/conv/JsonConvertTo.java      |   6 +-
 .../expr/fn/impl/conv/SmallIntBEConvertTo.java     |   4 +-
 .../exec/expr/fn/impl/conv/SmallIntConvertTo.java  |   4 +-
 .../expr/fn/impl/conv/TimeEpochBEConvertTo.java    |   4 +-
 .../exec/expr/fn/impl/conv/TimeEpochConvertTo.java |   4 +-
 .../fn/impl/conv/TimeStampEpochBEConvertTo.java    |   4 +-
 .../exec/expr/fn/impl/conv/TinyIntConvertTo.java   |   4 +-
 .../exec/expr/fn/impl/conv/UInt4BEConvertTo.java   |   4 +-
 .../exec/expr/fn/impl/conv/UInt4ConvertTo.java     |   4 +-
 .../exec/expr/fn/impl/conv/UInt8ConvertTo.java     |   4 +-
 .../exec/expr/fn/impl/conv/UTF16ConvertFrom.java   |   3 +-
 .../exec/expr/fn/impl/conv/UTF16ConvertTo.java     |   4 +-
 .../exec/expr/fn/impl/conv/UTF8ConvertFrom.java    |   3 +-
 .../exec/expr/fn/impl/conv/UTF8ConvertTo.java      |   3 +-
 .../exec/expr/fn/output/OutputWidthCalculator.java |  33 ++
 .../expr/fn/output/OutputWidthCalculators.java     | 113 +++++++
 .../impl/project/OutputSizeEstimateConstants.java  |  46 +++
 .../impl/project/OutputWidthExpression.java        | 147 +++++++++
 .../physical/impl/project/OutputWidthVisitor.java  | 278 ++++++++++++++++
 .../impl/project/OutputWidthVisitorState.java      |  37 +++
 .../impl/project/ProjectMemoryManager.java         | 310 ++++++++++++++++++
 .../physical/impl/project/ProjectRecordBatch.java  |  84 ++++-
 .../exec/physical/impl/project/Projector.java      |   6 +-
 .../physical/impl/project/ProjectorTemplate.java   |  15 +-
 .../apache/drill/exec/record/RecordBatchSizer.java |  83 +++--
 .../org/apache/drill/exec/record/TypedFieldId.java |  32 ++
 .../exec/compile/TestLargeFileCompilation.java     |   2 +
 .../exec/physical/unit/TestOutputBatchSize.java    | 350 +++++++++++++++++++++
 57 files changed, 1790 insertions(+), 141 deletions(-)

commit 947e6e561414182f2060d905daae197f3dd71f9f
Author: karthik <kmanivannan@maprtech.com>
Date:   Thu Jun 7 13:23:04 2018 -0700

    DRILL-6486: BitVector split and transfer does not work correctly for non byte-multiple transfer lengths
    
    Fix for the bug in BitVector splitAndTransfer. The logic for handling copy of last-n bits was incorrect for none byte-multiple transfer lengths.
    
    closes #1316

 .../drill/exec/record/vector/TestValueVector.java  |   3 +
 .../drill/exec/vector/TestSplitAndTransfer.java    | 108 ++++++++++++++++++++-
 .../org/apache/drill/exec/vector/BitVector.java    |  45 ++++++---
 3 files changed, 141 insertions(+), 15 deletions(-)

commit aa127b70b1e46f7f4aa19881f25eda583627830a
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Jun 21 17:04:13 2018 +0300

    DRILL-6523: Fix NPE for describe of partial schema
    
    closes #1332

 .../sql/handlers/DescribeSchemaHandler.java        | 53 ++++++++++++----------
 .../org/apache/drill/exec/sql/TestInfoSchema.java  |  8 +++-
 2 files changed, 37 insertions(+), 24 deletions(-)

commit 6823a8f241a58a4ae1dc1c6e84ba6a9920cc1643
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Tue Jun 19 13:10:06 2018 -0700

    DRILL-6513: Max query memory per node set to Drillbit's maximum direct memory
    
    closes #1329

 exec/java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 9c7e55798259ff4ac1aca102539731348e2c9bd3
Author: Hanumath Rao Maduri <hanu.ncr@gmail.com>
Date:   Fri Jun 15 12:05:09 2018 -0700

    DRILL-6502: Rename CorrelatePrel to LateralJoinPrel.
    
    closes #1325

 .../apache/drill/exec/planner/PlannerPhase.java    |  4 ++--
 ...teRelBase.java => DrillLateralJoinRelBase.java} |  6 +++---
 .../exec/planner/logical/DrillCorrelateRule.java   |  6 +++---
 ...lCorrelateRel.java => DrillLateralJoinRel.java} | 10 ++++-----
 .../{CorrelatePrel.java => LateralJoinPrel.java}   | 14 ++++++------
 .../{CorrelatePrule.java => LateralJoinPrule.java} | 25 +++++++++++-----------
 .../drill/exec/planner/physical/UnnestPrel.java    |  2 +-
 .../physical/explain/NumberingRelWriter.java       | 20 ++++++++---------
 .../planner/physical/visitor/BasePrelVisitor.java  |  4 ++--
 .../visitor/ExcessiveExchangeIdentifier.java       |  6 +++---
 .../physical/visitor/JoinPrelRenameVisitor.java    |  8 +++----
 .../exec/planner/physical/visitor/PrelVisitor.java | 22 +++++++++----------
 .../physical/visitor/PrelVisualizerVisitor.java    |  4 ++--
 .../impl/lateraljoin/TestLateralPlans.java         |  6 +++---
 14 files changed, 68 insertions(+), 69 deletions(-)

commit 9299fcc29dd9ac320b62b986f74423e8e6d1b750
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Tue Jun 12 18:58:24 2018 +0300

    DRILL-6491: Prevent merge join for full outer join at planning stage
    
    closes #1320

 .../drill/exec/planner/physical/MergeJoinPrel.java |   3 +-
 .../physical/impl/join/TestMergeJoinAdvanced.java  | 160 +++++++++++++--------
 2 files changed, 99 insertions(+), 64 deletions(-)

commit fc825c5eff56a8433a967dd2dc41422442b68aaa
Author: Kunal Khatua <kunal@apache.org>
Date:   Mon Jun 18 10:36:43 2018 -0700

    DRILL-6470: Remove defunct repository
    
    When build the Drill source code, Parquet jars from the repository hosted at http://repo.dremio.com/release/  is inaccessible.
    These artifacts (parquet libraries) are now available within http://maven.corp.maprtech.com/nexus/content/groups/public/org/apache/parquet/
    
    closes #1326

 pom.xml | 12 ------------
 1 file changed, 12 deletions(-)

commit 502d2977092eecda0a4aa0482b5f96459c315227
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri May 18 15:54:16 2018 +0300

    DRILL-5188: Expand sub-queries using rules
    
    - Add check for agg with group by literal
    - Allow NLJ for limit 1
    - Implement single_value aggregate function
    
    closes #1321

 exec/java-exec/src/main/codegen/config.fmpp        |   1 +
 .../src/main/codegen/data/SingleValue.tdd          |  62 +++++++++
 .../src/main/codegen/templates/SingleValueAgg.java | 144 +++++++++++++++++++++
 .../drill/exec/physical/impl/join/JoinUtils.java   | 105 ++++++++++++++-
 .../apache/drill/exec/planner/PlannerPhase.java    |  10 ++
 .../apache/drill/exec/planner/RuleInstance.java    |  10 ++
 .../exec/planner/logical/PreProcessLogicalRel.java |  18 +--
 .../drill/exec/planner/sql/SqlConverter.java       |   8 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  12 +-
 .../java/org/apache/drill/TestCorrelation.java     |  46 +++++++
 .../apache/drill/TestDisabledFunctionality.java    |  37 ------
 .../java/org/apache/drill/TestExampleQueries.java  |  33 +++++
 .../java/org/apache/drill/TestTpchDistributed.java |   1 -
 .../apache/drill/TestTpchDistributedStreaming.java |   1 -
 .../java/org/apache/drill/TestTpchExplain.java     |   1 -
 .../test/java/org/apache/drill/TestTpchLimit0.java |   1 -
 .../java/org/apache/drill/TestTpchPlanning.java    |   1 -
 .../java/org/apache/drill/TestTpchSingleMode.java  |   1 -
 .../drill/exec/fn/impl/TestAggregateFunctions.java |  80 ++++++++++++
 pom.xml                                            |   2 +-
 20 files changed, 504 insertions(+), 70 deletions(-)

commit b447260e49dc4a8c906f5b310c037fe6dd77166f
Author: chunhui-shi <cshi@maprtech.com>
Date:   Wed Jun 6 12:25:31 2018 -0700

    DRILL-6212: Prevent recursive cast expressions
    
    closes #1319

 .../planner/logical/DrillMergeProjectRule.java     | 113 ++++++++++++++++++---
 .../org/apache/drill/TestProjectWithFunctions.java |  54 ++++++++++
 .../src/test/resources/view/emp_6212.view.drill    |  10 ++
 3 files changed, 165 insertions(+), 12 deletions(-)

commit 4baf769e5e9df810b3b01bad1757b27a423b7842
Author: Kunal Khatua <kunal@apache.org>
Date:   Sun Jun 10 23:36:10 2018 -0700

    DRILL-6455: Add missing JDBC Scan Operator for profiles
    
    The operator is missing in the profile protobuf. This commit introduces that.
    1. Added protobuf files (incl generated C++ and Java)
    2. Updated JdbcSubScan's getOperatorType API
    
    closes #1297

 .../native/client/src/protobuf/UserBitShared.pb.cc  | 13 +++++++------
 .../native/client/src/protobuf/UserBitShared.pb.h   |  5 +++--
 .../apache/drill/exec/store/jdbc/JdbcSubScan.java   |  3 ++-
 .../org/apache/drill/exec/proto/UserBitShared.java  | 21 +++++++++++++++------
 .../drill/exec/proto/beans/CoreOperatorType.java    |  4 +++-
 protocol/src/main/protobuf/UserBitShared.proto      |  1 +
 6 files changed, 31 insertions(+), 16 deletions(-)

commit 54c88a3f56cce20ceb900a3a83bf19c04d93ea1e
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue Jun 5 13:50:35 2018 -0700

    DRILL-6468: CatastrophicFailures should not do a graceful shutdown of drill when terminating the JVM.
    
    closes #1306

 .../apache/drill/common/CatastrophicFailure.java   |  2 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  6 ++-
 .../org/apache/drill/exec/server/FailureUtils.java | 60 ++++++++++++++++++++++
 .../apache/drill/exec/work/foreman/Foreman.java    | 20 ++++----
 .../drill/exec/work/fragment/FragmentExecutor.java | 10 ++--
 .../apache/drill/exec/server/TestFailureUtils.java | 46 +++++++++++++++++
 .../drill/exec/exception/OutOfMemoryException.java |  4 +-
 7 files changed, 131 insertions(+), 17 deletions(-)

commit ca39cb67987a0efff2fe889ca4c5bf3a6fe5273a
Author: Gautam Parai <gparai@maprtech.com>
Date:   Thu Jun 14 17:26:32 2018 -0700

    DRILL-6487: Limit estimateRowCount should not return negative rowcount
    
    closes #1322

 .../org/apache/drill/exec/planner/common/DrillLimitRelBase.java    | 3 ++-
 .../apache/drill/exec/physical/impl/limit/TestLimitPlanning.java   | 7 +++++++
 2 files changed, 9 insertions(+), 1 deletion(-)

commit ac8e69847659582e36c89fd52bb0856ab3bfbd21
Author: Vlad Rozov <vrozov@apache.org>
Date:   Wed May 9 13:24:11 2018 -0700

    DRILL-6353: Upgrade Parquet MR dependencies
    
    closes #1259

 contrib/storage-hive/hive-exec-shade/pom.xml       | 25 +++++--
 exec/java-exec/pom.xml                             | 75 ---------------------
 .../exec/expr/stat/ParquetComparisonPredicate.java | 14 ++--
 .../drill/exec/expr/stat/ParquetIsPredicate.java   |  9 +--
 .../exec/expr/stat/ParquetPredicatesHelper.java    |  4 +-
 .../parquet/AbstractParquetScanBatchCreator.java   | 14 +++-
 .../drill/exec/store/parquet/ColumnDataReader.java |  9 +--
 .../drill/exec/store/parquet/FooterGatherer.java   |  4 +-
 .../parquet/ParquetDirectByteBufferAllocator.java  | 76 ++++++----------------
 .../exec/store/parquet/ParquetRecordWriter.java    | 13 +++-
 .../store/parquet/columnreaders/PageReader.java    | 51 +++++++++------
 .../columnreaders/VarLenBulkPageReader.java        | 17 ++---
 .../columnreaders/VarLenColumnBulkInput.java       |  4 +-
 .../exec/store/parquet/metadata/Metadata.java      | 16 ++++-
 .../filereader/BufferedDirectBufInputStream.java   |  8 +--
 .../exec/util/filereader/DirectBufInputStream.java | 11 +++-
 .../parquet/hadoop/ColumnChunkIncReadStore.java    | 39 ++++++-----
 .../hadoop/ParquetColumnChunkPageWriteStore.java   | 10 +--
 .../store/parquet/TestParquetMetadataCache.java    |  4 ++
 pom.xml                                            | 40 +++++++++++-
 20 files changed, 209 insertions(+), 234 deletions(-)

commit 98dbc3a222990703aebe983883779763e0cdc1e9
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Wed Jun 6 12:04:39 2018 -0700

    DRILL-6474: Don't use TopN when order by and offset are used without a limit specified.
    
    closes #1313

 .../exec/planner/physical/PushLimitToTopN.java     | 21 +++++++++----
 .../physical/impl/limit/TestLimitOperator.java     | 23 ++++++++++++++
 .../physical/impl/limit/TestLimitPlanning.java     | 32 ++++++++++++++++++++
 .../org/apache/drill/test/DrillTestWrapper.java    | 24 ++++++++++++---
 .../java/org/apache/drill/test/TestBuilder.java    | 35 ++++++++++------------
 5 files changed, 105 insertions(+), 30 deletions(-)

commit 544a7a0def08882aca63d9a18b60d168dff8b6f7
Author: Patrick Wong <pwong@maprtech.com>
Date:   Mon Jun 11 17:05:19 2018 -0700

    DRILL-6488 - change instances of "template inline" to just "template"
    
    closes #1317

 .../client/src/include/drill/drillClient.hpp       | 70 +++++++++++-----------
 1 file changed, 35 insertions(+), 35 deletions(-)

commit 2427aa0e6d4c371def099500131dc0eadf01ecac
Author: Hanumath Rao Maduri <hanu.ncr@gmail.com>
Date:   Wed Jun 6 20:48:12 2018 -0700

    DRILL-6476: Generate explain plan which shows relation between Lateral and the corresponding Unnest.
    
    closes #1308

 .../exec/planner/physical/PhysicalPlanCreator.java |  5 --
 .../drill/exec/planner/physical/UnnestPrel.java    |  3 +
 .../physical/explain/NumberingRelWriter.java       | 69 ++++++++++++++++++----
 .../impl/lateraljoin/TestLateralPlans.java         | 21 +++++++
 4 files changed, 82 insertions(+), 16 deletions(-)

commit 7be1e01a71245f7234fe347decf9efa4acc36e52
Author: Kunal Khatua <kunal@apache.org>
Date:   Thu Jun 7 13:32:00 2018 -0700

    DRILL-6477: Drillbit crashes with OOME (Heap) for a large WebUI query
    
    For queries submitted through the WebUI and retrieving a large result-set, the Drillbit often hangs or crashes due to the (foreman) Drillbit running out of Heap memory.
    
    This is because the Web client translates the result set into a massive object in the heap-space and tries to send that back to the browser. This results in the VM thread actively trying to perform GC if the memory is not sufficient.
    
    The workaround is to have the active webConnection of the query periodically timeout to allow for checking the consumed heap-space. A level of 0.85 (i.e. 85%) is set as default threshold, crossing which, a query submitted through the REST API is marked and failed.
    In addition, a user exception is thrown, indicting the cause of the query failing, along with alternative suggestions for re-executing the query.
    
    closes #1309

 .../java/org/apache/drill/exec/ExecConstants.java  |  1 -
 .../drill/exec/server/rest/QueryWrapper.java       | 48 +++++++++++++++++++++-
 2 files changed, 46 insertions(+), 3 deletions(-)

commit 63d0251502ac7a3af5a761b1a70a958ca0be1ae1
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Jun 12 14:46:34 2018 +0000

    DRILL-6489: Fix filter push down for Hbase & Mapr-DB binary tables when convert function is used in a view

 .../exec/store/hbase/CompareFunctionsProcessor.java     | 17 +++++++++++++++++
 .../org/apache/drill/hbase/TestHBaseFilterPushDown.java | 16 ++++++++++++++++
 2 files changed, 33 insertions(+)

commit cbcb59df5ccc655e374ac6244c572088153aedc6
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Thu Jun 7 14:04:47 2018 -0700

    DRILL-6478: enhance debug logs for batch sizing
    
    closes #1310

 .../physical/impl/flatten/FlattenRecordBatch.java  | 23 +++++------
 .../exec/physical/impl/join/HashJoinBatch.java     | 37 +++++++++---------
 .../exec/physical/impl/join/MergeJoinBatch.java    | 44 +++++++++++-----------
 .../physical/impl/union/UnionAllRecordBatch.java   | 25 ++++++++++++
 4 files changed, 77 insertions(+), 52 deletions(-)

commit ded643deeafbabe9363499960a135d33652bf567
Author: Vlad Rozov <vrozov@apache.org>
Date:   Thu Jun 7 18:14:01 2018 -0700

    DRILL-6481: Rename ParquetXXXPredicates to ParquetXXXPredicate
    
    closes #1312

 ...redicates.java => ParquetBooleanPredicate.java} | 12 +++++-----
 ...icates.java => ParquetComparisonPredicate.java} | 28 +++++++++++-----------
 ...etIsPredicates.java => ParquetIsPredicate.java} | 20 ++++++++--------
 .../exec/store/parquet/ParquetFilterBuilder.java   | 14 +++++------
 4 files changed, 37 insertions(+), 37 deletions(-)

commit 0ac082589171c1e1b2216d6c4b2bbb8f713737de
Author: Vlad Rozov <vrozov@apache.org>
Date:   Wed Jun 6 15:03:42 2018 -0700

    DRILL-6481: Refactor ParquetXXXPredicate classes
    
    closes #1312

 .../exec/expr/stat/ParquetBooleanPredicates.java   |  88 +++--
 .../expr/stat/ParquetComparisonPredicates.java     | 357 ++++++++-------------
 .../exec/expr/stat/ParquetFilterPredicate.java     |   4 +-
 .../drill/exec/expr/stat/ParquetIsPredicates.java  | 246 ++++++--------
 .../exec/expr/stat/ParquetPredicatesHelper.java    |  15 +-
 .../drill/exec/expr/stat/RangeExprEvaluator.java   |  96 +++---
 .../exec/store/parquet/ParquetFilterBuilder.java   |  43 +--
 .../exec/store/parquet/stat/ColumnStatistics.java  |   8 +-
 8 files changed, 360 insertions(+), 497 deletions(-)

commit 1820d466c61e2f2519f72e7cb4d4057b91ed8364
Author: Kunal Khatua <kunal@apache.org>
Date:   Fri Jun 1 17:02:58 2018 -0700

    DRILL-6459: Unable to view profile of a running query
    
    Fixes the missing text component of the QueryId that causes lookups to fail in `WorkManager.queries` map.
    This got introduced with the fix (#1265) for DRILL-5305
    
    Reverting change to QueryIdHelper and DRILL-5305
    
    Removing the changes done, based on inputs from @vrozov and @sohami . The correct approach would be to have this as part of the profile to avoid serialization of the queryIdText for each RPC making use of the QueryId
    
    UX Changes
    Set the query ID string and display in WebUI
    
    closes #1301

 .../native/client/src/protobuf/UserBitShared.pb.cc | 184 ++++---
 .../native/client/src/protobuf/UserBitShared.pb.h  |  87 +++-
 .../exec/server/rest/profile/ProfileWrapper.java   |   2 +-
 .../drill/exec/work/foreman/QueryManager.java      |   1 +
 .../apache/drill/exec/work/user/UserWorker.java    |   5 +-
 .../drill/exec/proto/SchemaUserBitShared.java      |  14 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 570 ++++++++++-----------
 .../org/apache/drill/exec/proto/beans/QueryId.java |  22 -
 .../drill/exec/proto/beans/QueryProfile.java       |  22 +
 protocol/src/main/protobuf/UserBitShared.proto     |   2 +-
 10 files changed, 525 insertions(+), 384 deletions(-)

commit 26f0f1edd3af15578998d61ff67504256b016ed0
Author: Paul Rogers <paul-rogers@users.noreply.github.com>
Date:   Sun Jun 10 21:25:04 2018 -0700

    DRILL-6485: Fix typo in drill-env.sh
    
    closes #1315

 distribution/src/resources/drill-env.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0b393ad628bfe29ce2ced2d5614db4bab1e4b76f
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue May 8 19:09:38 2018 -0700

    DRILL-6446: Support for EMIT outcome in TopN
            - Added comments for TopNBatch and PriorityQueueTemplate
            - Adding support for SchemaChange across next() call with HyperVector in incoming container. This is achieved by adding a new method in HyperVectorWrapper which just updates the vector[] array
              holding multiple vectors with provided input ValueVector array. And also modifying RemovingRecordBatch GenericSV4Copier to hold reference to VectorWrapper instead of ValueVector[] for each column in incoming batch
            - Handling empty batches. Two cases like empty batches in the begining with EMIT outcome and empty batches between consecutive EMIT outcome but after receiving some batches with data and EMIT outcome.
                    Note: In first case of empty batch it was only returning EMIT outcome without properly creating the output container and SV4 vector. Because of that there could be a case where let's say first batch with EMIT outcome                is empty then TopN will return an empty batch with SV mode NONE and if later batch comes with some records and EMIT outcome, that will generate output batch with OK_NEW_SCHEMA (since TopN always
                    generate first output batch with records with OK_NEW_SCHEMA as it returns output with SV4 mode). Also let's consider both batch with EMIT outcome were produced after processing first 2 rows of an input batch.
                    This is a problem as this is simulating schema change across rows of same incoming batch which will never be the case.
    
                    Note: In second case of empty batches priority queue will not be null and will be uninitialized. Also optimize to send EMIT outcome with output batch which has all the data to return for current iteration
                    rather than sending it with OK followed by empty batch with EMIT outcome.
    
    closes #1293

 .../exec/physical/impl/TopN/PriorityQueue.java     |   9 +
 .../physical/impl/TopN/PriorityQueueTemplate.java  |  70 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   | 362 +++++++++--
 .../physical/impl/svremover/AbstractSV2Copier.java |   1 -
 .../physical/impl/svremover/AbstractSV4Copier.java |  11 +-
 .../physical/impl/svremover/GenericSV4Copier.java  |   3 +-
 .../drill/exec/record/HyperVectorWrapper.java      |  22 +-
 .../exec/record/selection/SelectionVector4.java    |  25 +-
 .../physical/impl/TopN/TestTopNEmitOutcome.java    | 710 +++++++++++++++++++++
 .../impl/lateraljoin/TestE2EUnnestAndLateral.java  |  34 +
 10 files changed, 1167 insertions(+), 80 deletions(-)

commit 2902ca9a5a780b3ee8b6ec56f01e3b3df4e2f37a
Author: Gautam Parai <gparai@maprtech.com>
Date:   Sat Jun 2 12:06:21 2018 -0700

    DRILL-6463 : Fix integer overflow in MockGroupScanPOP
    
    closes #1303

 .../org/apache/drill/exec/physical/base/ScanStats.java     | 14 +++++++-------
 .../exec/planner/physical/ConvertCountToDirectScan.java    |  2 +-
 .../org/apache/drill/exec/store/mock/MockGroupScanPOP.java |  4 ++--
 3 files changed, 10 insertions(+), 10 deletions(-)

commit a27a1047b16621f6c3c6c181c97f8713231f6c6c
Author: Gautam Parai <gparai@maprtech.com>
Date:   Tue Apr 3 19:18:31 2018 -0700

    DRILL-6375 : Support for ANY_VALUE aggregate function
    
    closes #1256

 .../apache/drill/exec/expr/fn/HiveFuncHolder.java  |   2 +-
 .../java-exec/src/main/codegen/data/AggrTypes1.tdd |  46 +++
 .../src/main/codegen/data/DecimalAggrTypes1.tdd    |   6 +
 .../main/codegen/templates/AggrTypeFunctions1.java |  22 +-
 .../codegen/templates/ComplexAggrFunctions1.java   | 120 ++++++++
 .../templates/DateIntervalAggrFunctions1.java      |  11 +-
 .../Decimal/DecimalAggrTypeFunctions1.java         |  97 +++++++
 .../codegen/templates/VarCharAggrFunctions1.java   |  11 +
 .../compile/sig/ConstantExpressionIdentifier.java  |   7 +
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  17 +-
 .../drill/exec/expr/fn/AbstractFuncHolder.java     |   2 +-
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |  27 +-
 .../expr/fn/DrillComplexWriterAggFuncHolder.java   | 142 ++++++++++
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  34 ++-
 .../drill/exec/expr/fn/FunctionConverter.java      |   4 +-
 .../apache/drill/exec/expr/fn/impl/Mappify.java    |   2 +-
 .../drill/exec/expr/fn/impl/MappifyUtility.java    |  34 ++-
 .../physical/impl/aggregate/StreamingAggBatch.java |  67 ++++-
 .../drill/exec/planner/physical/HashAggPrule.java  |  14 +-
 .../drill/exec/vector/complex/MapUtility.java      | 308 ++++++++++++++++++++-
 .../physical/impl/agg/TestAggWithAnyValue.java     | 149 ++++++++++
 .../test/resources/store/json/test_anyvalue.json   |  50 ++++
 .../codegen/templates/RepeatedValueVectors.java    |   1 +
 .../src/main/codegen/templates/ValueHolders.java   |  11 +-
 .../exec/expr/holders/RepeatedListHolder.java      |   2 +
 .../drill/exec/expr/holders/RepeatedMapHolder.java |   3 +
 .../drill/common/expression/parser/ExprLexer.g     |   1 +
 .../drill/common/expression/parser/ExprParser.g    |   5 +
 .../common/expression/AnyValueExpression.java      |  69 +++++
 .../common/expression/ExpressionStringBuilder.java |   8 +
 .../common/expression/FunctionCallFactory.java     |   8 +
 .../expression/visitors/AbstractExprVisitor.java   |   6 +
 .../expression/visitors/AggregateChecker.java      |   6 +
 .../visitors/ConditionalExprOptimizer.java         |   7 +
 .../expression/visitors/ConstantChecker.java       |   6 +
 .../common/expression/visitors/ExprVisitor.java    |   2 +
 .../expression/visitors/ExpressionValidator.java   |   7 +
 37 files changed, 1265 insertions(+), 49 deletions(-)

commit cd219ff2bcd0867c2fb4aa95d171cb3882d1245c
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Jun 5 17:35:24 2018 +0300

    DRILL-6466: Add HttpOnly flag to response cookies

 .../apache/drill/exec/server/rest/WebServer.java   | 48 ++++------------------
 1 file changed, 7 insertions(+), 41 deletions(-)

commit d348794986e918370e29e0f0646f3c97bda32730
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Wed Jun 6 21:30:07 2018 -0700

    DRILL-6467: Percentage usage of memory is reported as zero by the WebUI
    
    The memory reported as a percentage is incorrectly reported as 0%, irrespective of the actual usage.
    closes #1305

 exec/java-exec/src/main/resources/rest/index.ftl | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f53fd1db66f19a7055dc75a43caf1da4d09b99f0
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue May 22 16:04:02 2018 -0700

    DRILL-6438: Remove excess logging form the tests.
     - Removed usages of System.out and System.err from the test and replaced with loggers
    
    closes #1284

 .../Drill2130CommonHamcrestConfigurationTest.java  |  4 +-
 .../test/java/org/apache/drill/test/DrillTest.java | 42 ----------
 .../mapr/drill/maprdb/tests/MaprDBTestsSuite.java  |  1 -
 .../mapr/drill/maprdb/tests/json/BaseJsonTest.java |  2 -
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |  1 -
 .../apache/drill/hbase/TestHBaseTableProvider.java | 16 +---
 .../apache/drill/exec/fn/hive/TestHiveUDFs.java    | 22 ------
 ...30StorageHiveCoreHamcrestConfigurationTest.java |  5 +-
 .../apache/drill/store/kudu/TestKuduConnect.java   |  4 +-
 .../org/apache/drill/exec/util/VectorUtil.java     | 34 ++++----
 .../java/org/apache/drill/ParquetSchemaMerge.java  |  4 +-
 .../test/java/org/apache/drill/PlanTestBase.java   | 13 +--
 .../drill/TestTpchDistributedConcurrent.java       | 13 +--
 .../drill/exec/DrillSeparatePlanningTest.java      |  6 --
 .../java/org/apache/drill/exec/RunRootExec.java    |  9 ++-
 .../test/java/org/apache/drill/exec/SortTest.java  | 10 +--
 .../apache/drill/exec/cache/TestWriteToDisk.java   | 17 +---
 .../drill/exec/client/DrillClientSystemTest.java   |  2 -
 .../apache/drill/exec/client/DrillClientTest.java  | 13 +--
 .../org/apache/drill/exec/client/DumpCatTest.java  |  5 --
 .../exec/compile/TestClassCompilationTypes.java    |  2 +-
 .../org/apache/drill/exec/expr/EscapeTest1.java    |  3 +-
 .../org/apache/drill/exec/expr/ExpressionTest.java |  6 +-
 .../drill/exec/fn/impl/TestDateFunctions.java      |  2 -
 .../exec/fn/impl/TestNewAggregateFunctions.java    |  1 -
 .../exec/fn/interp/ExpressionInterpreterTest.java  |  2 +-
 .../apache/drill/exec/opt/BasicOptimizerTest.java  |  4 +-
 .../physical/config/TestParsePhysicalPlan.java     |  3 +-
 .../exec/physical/impl/TestBroadcastExchange.java  |  1 -
 .../exec/physical/impl/TestExtractFunctions.java   |  1 -
 .../exec/physical/impl/TestLocalExchange.java      |  4 +-
 .../physical/impl/TestReverseImplicitCast.java     |  2 -
 .../exec/physical/impl/TestSimpleFragmentRun.java  | 52 ++++++------
 .../exec/physical/impl/agg/TestHashAggrSpill.java  | 11 +--
 .../physical/impl/filter/TestSimpleFilter.java     |  3 -
 .../exec/physical/impl/join/TestHashJoin.java      |  3 -
 .../exec/physical/impl/join/TestHashJoinSpill.java | 10 +--
 .../exec/physical/impl/join/TestMergeJoin.java     | 65 ++++++++-------
 .../TestOrderedPartitionExchange.java              |  2 -
 .../impl/partitionsender/TestPartitionSender.java  |  1 -
 .../exec/physical/impl/sort/TestSimpleSort.java    |  4 -
 .../physical/impl/trace/TestTraceOutputDump.java   |  3 -
 .../exec/physical/impl/union/TestSimpleUnion.java  |  1 -
 .../physical/impl/window/GenerateTestData.java     |  5 +-
 .../physical/impl/writer/TestParquetWriter.java    |  3 -
 .../impl/xsort/TestSimpleExternalSort.java         |  4 -
 .../rowSet/impl/TestResultSetLoaderMaps.java       |  2 -
 .../rowSet/impl/TestResultSetLoaderTorture.java    | 17 +---
 .../apache/drill/exec/pop/TestFragmentChecker.java | 14 +---
 .../record/ExpressionTreeMaterializerTest.java     |  4 -
 .../drill/exec/record/TestRecordIterator.java      |  3 +-
 .../apache/drill/exec/record/vector/TestLoad.java  | 46 +----------
 .../drill/exec/rpc/data/TestBitBitKerberos.java    |  9 ---
 .../org/apache/drill/exec/rpc/data/TestBitRpc.java |  4 -
 .../security/TestUserBitKerberosEncryption.java    |  9 +--
 .../drill/exec/server/TestDrillbitResilience.java  |  1 -
 .../drill/exec/server/TestTpcdsSf1Leaks.java       |  2 -
 .../drill/exec/store/CachedSingleFileSystem.java   |  1 -
 .../drill/exec/store/TestAffinityCalculator.java   | 16 +---
 .../store/parquet/ParquetRecordReaderTest.java     |  7 --
 .../exec/store/parquet/ParquetResultListener.java  | 37 +++++----
 .../exec/store/parquet/TestFileGenerator.java      |  1 -
 .../store/parquet/TestParquetPhysicalPlan.java     | 19 +++--
 .../drill/exec/store/pcap/TestPcapDecoder.java     | 22 +++---
 .../drill/exec/store/store/TestAssignment.java     |  2 -
 .../exec/vector/complex/writer/TestJsonReader.java | 31 ++++----
 .../exec/vector/complex/writer/TestRepeated.java   |  8 --
 .../org/apache/drill/exec/work/batch/FileTest.java | 12 +--
 .../java/org/apache/drill/test/BaseTestQuery.java  |  1 -
 .../java/org/apache/drill/test/ClientFixture.java  | 18 ++---
 .../java/org/apache/drill/test/ClusterTest.java    |  1 -
 .../java/org/apache/drill/test/ExampleTest.java    |  9 ++-
 .../java/org/apache/drill/test/ProfileParser.java  | 92 ++++++++++------------
 .../java/org/apache/drill/test/QueryBuilder.java   |  4 +-
 .../drill/test/rowSet/test/PerformanceTool.java    |  8 +-
 .../apache/drill/test/rowSet/test/RowSetTest.java  | 31 ++++----
 .../test/rowSet/test/TestFixedWidthWriter.java     |  1 -
 .../test/rowSet/test/TestOffsetVectorWriter.java   |  1 -
 .../test/rowSet/test/TestVariableWidthWriter.java  |  1 -
 .../org/apache/drill/vector/TestFillEmpties.java   | 41 ++++++----
 .../org/apache/drill/jdbc/ITTestShadedJar.java     | 33 ++++----
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java |  8 --
 .../java/org/apache/drill/jdbc/JdbcTestBase.java   |  2 +-
 .../jdbc/test/Bug1735ConnectionCloseTest.java      |  5 --
 ...Drill2130JavaJdbcHamcrestConfigurationTest.java |  4 +-
 .../apache/drill/jdbc/test/JdbcTestActionBase.java | 22 +++---
 .../apache/drill/jdbc/test/JdbcTestQueryBase.java  | 26 +++---
 .../jdbc/test/TestInformationSchemaColumns.java    |  7 --
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  | 27 ++++---
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |  7 +-
 .../drill/common/expression/parser/TreeTest.java   | 12 ---
 91 files changed, 378 insertions(+), 671 deletions(-)

commit e0c39e070bb696d2bc67f60f18559e5a547208ad
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue May 8 11:11:33 2018 -0700

    DRILL-6389: Fixed building javadocs
     - Added documentation about how to build javadocs
     - Fixed some of the javadoc warnings
    
    closes #1276

 common/pom.xml                                     |   5 +
 .../apache/drill/common/DrillAutoCloseables.java   |   8 +-
 .../drill/common/scanner/ClassPathScanner.java     |  10 +-
 contrib/storage-kafka/pom.xml                      |   2 +-
 .../main/codegen/templates/KuduRecordWriter.java   |  35 +--
 contrib/storage-opentsdb/pom.xml                   |   2 +-
 docs/dev/DevDocs.md                                |   4 +
 docs/dev/Javadocs.md                               |  20 ++
 drill-yarn/pom.xml                                 |  10 +-
 .../drill/yarn/appMaster/ClusterController.java    |  10 +-
 .../yarn/appMaster/ClusterControllerImpl.java      |   4 +-
 .../yarn/appMaster/PersistentTaskScheduler.java    |   2 +-
 .../org/apache/drill/yarn/appMaster/Scheduler.java |   8 +-
 .../drill/yarn/appMaster/SchedulerState.java       |  11 +-
 .../yarn/appMaster/SchedulerStateActions.java      |   6 +-
 .../drill/yarn/appMaster/http/AmRestApi.java       |   3 -
 .../yarn/appMaster/http/AuthDynamicFeature.java    |   4 +-
 .../drill/yarn/zk/ZKClusterCoordinatorDriver.java  |  11 +-
 .../java/org/apache/drill/yarn/zk/ZKRegistry.java  |  13 +-
 exec/java-exec/pom.xml                             |   9 +-
 .../org/apache/drill/exec/client/DrillClient.java  |  18 +-
 .../org/apache/drill/exec/expr/CodeGenerator.java  |   4 +-
 .../drill/exec/expr/fn/FunctionLookupContext.java  |   2 +-
 .../drill/exec/expr/fn/ModifiedUnparseVisitor.java |   2 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |   8 +-
 .../drill/exec/physical/base/AbstractExchange.java |   4 +-
 .../drill/exec/physical/base/AbstractSingle.java   |   1 -
 .../apache/drill/exec/physical/base/Exchange.java  |   8 +-
 .../drill/exec/physical/base/LateralContract.java  |  11 +-
 .../drill/exec/physical/base/PhysicalOperator.java |   7 +-
 .../apache/drill/exec/physical/base/Sender.java    |   2 +-
 .../org/apache/drill/exec/physical/base/Store.java |   6 +-
 .../exec/physical/impl/xsort/MSortTemplate.java    |   2 +-
 .../impl/xsort/managed/MergeSortWrapper.java       |   4 +-
 .../exec/physical/rowSet/model/TupleModel.java     |   8 +-
 .../rowSet/model/single/VectorAllocator.java       |   7 +-
 .../exec/planner/AbstractPartitionDescriptor.java  |   4 +-
 .../exec/planner/DFSFilePartitionLocation.java     |   4 +-
 .../drill/exec/planner/PartitionDescriptor.java    |   3 -
 .../planner/fragment/DistributionAffinity.java     |   2 +-
 .../exec/planner/fragment/SimpleParallelizer.java  |   4 +-
 .../drill/exec/planner/fragment/Wrapper.java       |   6 +-
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  |   4 +-
 .../org/apache/drill/exec/store/StoragePlugin.java |   4 +-
 .../easy/text/compliant/TextParsingSettings.java   |   2 +-
 .../store/parquet/metadata/MetadataVersion.java    |   4 +-
 .../apache/drill/exec/util/ImpersonationUtil.java  |   5 +-
 .../java/org/apache/drill/exec/util/Utilities.java |   8 +-
 .../drill/exec/vector/accessor/SqlAccessor.java    |   6 +-
 .../exec/physical/unit/PhysicalOpUnitTestBase.java |   6 +-
 .../src/main/java/io/netty/buffer/DrillBuf.java    |   2 +-
 .../drill/exec/memory/AllocationManager.java       |   8 +-
 .../apache/drill/exec/memory/BufferAllocator.java  |   2 +-
 .../org/apache/drill/exec/ops/BufferManager.java   |   4 +-
 .../apache/drill/exec/rpc/NamedThreadFactory.java  |   4 +-
 .../org/apache/drill/exec/rpc/RequestHandler.java  |   1 -
 .../org/apache/drill/exec/util/DecimalUtility.java |   8 +-
 .../drill/exec/vector/accessor/ArrayReader.java    |   2 +-
 .../drill/exec/vector/accessor/ColumnWriter.java   |   2 +-
 .../drill/exec/vector/accessor/ScalarReader.java   |   2 +-
 .../drill/exec/vector/accessor/TupleReader.java    |   4 +-
 .../vector/complex/BaseRepeatedValueVector.java    |   2 +-
 .../expression/FunctionHolderExpression.java       |   6 +-
 .../drill/common/expression/LogicalExpression.java |   1 -
 .../common/logical/FormatPluginConfigBase.java     |   2 +-
 pom.xml                                            | 318 +++++++++++++++------
 66 files changed, 410 insertions(+), 291 deletions(-)

commit d05ce7fdf095976a98e66e32d7c27ee016aaf9fc
Author: kr-arjun <arjun.kr@outlook.com>
Date:   Fri Jun 1 00:09:03 2018 -0700

    DRILL-5700: Adding nohup support for Sqlline script
    
    closes #1300

 distribution/src/resources/sqlline | 5 +++++
 1 file changed, 5 insertions(+)

commit 23a7a8d83abdcc0f4cff66bdf6b2010be02e3698
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Wed Jun 6 08:43:27 2018 -0700

    DRILL-6432: Show Button to print visualized query plan (#1278)
    
    * DRILL-6432: Show Button to print visualized query plan
    
    Having the capability to only print the visualized query plan means the user can specifyi the zoom level (in the printer settings) when printing large complex plans that might span multiple pages.
    
    * Update based on review comment
    
    Padded button by 15px to avoid sticking to pane
    
    closes #1278

 .../src/main/resources/rest/profile/profile.ftl        | 18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit 9dceecff3957be6fed409ef10cb52e05e4cdb0fd
Author: Parth Chandra <parthc@apache.org>
Date:   Sat Jun 2 17:41:45 2018 -0700

    Revert "DRILL-4020: The not-equal operator returns incorrect results when used on the HBase row key"
    
    This reverts commit 0d5eda83fe34928ff60629e6a4903d43a1d82582.

 .../drill/exec/store/hbase/HBaseFilterBuilder.java     |  1 -
 .../apache/drill/hbase/TestHBaseFilterPushDown.java    | 18 ------------------
 2 files changed, 19 deletions(-)

commit 9908ea035a6a9512ddf005fc402b07a7101243db
Author: Rob Wu <robwu15@gmail.com>
Date:   Wed Nov 15 18:21:48 2017 -0800

    DRILL-5584: Add branding and versioning information for windows C++ Client.
    
    This closes #5584

 contrib/native/client/src/clientlib/CMakeLists.txt | 11 +++-
 contrib/native/client/src/clientlib/env.h.in       |  7 ++-
 contrib/native/client/src/clientlib/version.rc.in  | 68 ++++++++++++++++++++++
 3 files changed, 84 insertions(+), 2 deletions(-)

commit 7f30b0464f60a617be727c6c8b31b5c634564cff
Author: Korn, Uwe <Uwe.Korn@blue-yonder.com>
Date:   Sat Oct 28 21:45:51 2017 +0200

    DRILL-5924: native-client: Support user-specified CXX_FLAGS
    
    This closes #1022

 contrib/native/client/CMakeLists.txt                     | 9 +++++----
 contrib/native/client/src/clientlib/CMakeLists.txt       | 1 -
 contrib/native/client/src/clientlib/y2038/CMakeLists.txt | 8 --------
 contrib/native/client/src/protobuf/CMakeLists.txt        | 4 ----
 4 files changed, 5 insertions(+), 17 deletions(-)

commit 0d5eda83fe34928ff60629e6a4903d43a1d82582
Author: Akihiko Kusanagi <akusanagi@mapr.com>
Date:   Wed Nov 4 21:33:06 2015 +0900

    DRILL-4020: The not-equal operator returns incorrect results when used on the HBase row key
    
    - Added a condition that checks if the filter to the scan specification doesn't have NOT_EQUAL operator
    - Added testFilterPushDownRowKeyNotEqual() to TestHBaseFilterPushDown
    
    This closes #309

 .../drill/exec/store/hbase/HBaseFilterBuilder.java     |  1 +
 .../apache/drill/hbase/TestHBaseFilterPushDown.java    | 18 ++++++++++++++++++
 2 files changed, 19 insertions(+)

commit fde66d776cb16e77c1b3436c8a21364a43fb5f8f
Author: Hanumath Rao Maduri <hanu.ncr@gmail.com>
Date:   Wed May 30 17:59:51 2018 -0700

    DRILL-6456: Planner shouldn't create any exchanges on the right side of Lateral Join.
    
    This closes #1299

 .../visitor/ExcessiveExchangeIdentifier.java       |  72 ++++++++-
 .../impl/lateraljoin/TestLateralPlans.java         | 164 ++++++++++++++++++++-
 2 files changed, 227 insertions(+), 9 deletions(-)

commit 494d828f06ddda9c8091920cf56731bbd00abab0
Author: Kunal Khatua <kunal@apache.org>
Date:   Tue May 29 11:20:56 2018 -0700

    DRILL-6450: Visualized plans for profiles querying JDBC sources is broken
    
    When viewing a profile for a query against a JDBC source, the visualized plan is not rendered. This is because the generated SQL pushed down to the JDBC source has a line break injected just before the FROM clause.
    
    The workaround is to strip away any injected newlines ('\\n') at least for the SQL defined in the text plan, so that the backend Javascript can render it correctly.
    In addition, any single line comments are also removed, but any block comments (i.e. /* .. */ ) are retained as they might carry hints.
    
    This closes #1295

 .../java/org/apache/drill/exec/store/jdbc/JdbcPrel.java   | 15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit f48894c7294b70d17ebd92d4c92cd5e60821beeb
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Thu May 24 11:58:01 2018 -0700

    DRILL-6445: Fix existing test cases in TestScripts.java and add new test case for DRILLBIT_CONTEXT variable
    
    This closes #1289

 .../org/apache/drill/yarn/scripts/ScriptUtils.java |  98 +++++++++++--
 .../org/apache/drill/yarn/scripts/TestScripts.java | 161 ++++++++++++++++-----
 2 files changed, 208 insertions(+), 51 deletions(-)

commit 480ade960767cf138de184c7873792e96b0e9a9f
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Wed May 30 14:00:16 2018 -0700

    DRILL-6236:Batch sizing for hash join
    
    This closes #1227

 .../exec/physical/impl/join/HashJoinBatch.java     | 125 ++++---
 .../join/HashJoinMechanicalMemoryCalculator.java   |   1 +
 .../impl/join/HashJoinMemoryCalculator.java        |   1 +
 .../impl/join/HashJoinMemoryCalculatorImpl.java    |  35 +-
 .../exec/physical/impl/join/HashJoinProbe.java     |   2 +
 .../physical/impl/join/HashJoinProbeTemplate.java  |  22 +-
 .../exec/record/AbstractBinaryRecordBatch.java     |   4 +
 .../drill/exec/record/JoinBatchMemoryManager.java  |  61 ++--
 .../exec/record/RecordBatchMemoryManager.java      |  26 +-
 .../apache/drill/exec/record/RecordBatchSizer.java |  49 ++-
 .../impl/join/TestBuildSidePartitioningImpl.java   |  20 +-
 .../exec/physical/unit/TestOutputBatchSize.java    | 386 +++++++++++++++++++++
 12 files changed, 603 insertions(+), 129 deletions(-)

commit 5ef220e70fb898500110eabdbbe1b0bf6401049b
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Thu Apr 19 14:36:38 2018 -0700

    DRILL-6343: bit vector copyFromSafe is not doing realloc

 .../src/main/java/org/apache/drill/exec/vector/BitVector.java     | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit 04a532d2d8790d69214adbb4a8247f8a382cfd08
Author: Akihiko Kusanagi <akusanagi@mapr.com>
Date:   Sun Feb 7 03:55:57 2016 +0900

    DRILL-4364: Image Metadata Format Plugin - Initial commit of Image Metadata Format Plugin - See https://issues.apache.org/jira/browse/DRILL-4364
    
    This closes #367

 exec/java-exec/pom.xml                             |   5 +
 .../store/image/GenericMetadataDescriptor.java     |  89 ++++
 .../exec/store/image/GenericMetadataDirectory.java | 315 +++++++++++++
 .../exec/store/image/GenericMetadataReader.java    | 412 +++++++++++++++++
 .../drill/exec/store/image/ImageFormatConfig.java  |  97 ++++
 .../drill/exec/store/image/ImageFormatPlugin.java  |  82 ++++
 .../drill/exec/store/image/ImageRecordReader.java  | 493 +++++++++++++++++++++
 .../main/resources/bootstrap-storage-plugins.json  |  18 +
 .../store/dfs/TestFormatPluginOptionExtractor.java |   7 +
 .../exec/store/image/TestImageRecordReader.java    | 128 ++++++
 .../src/test/resources/store/image/1_webp_a.webp   | Bin 0 -> 23404 bytes
 .../src/test/resources/store/image/adobeJpeg1.eps  | Bin 0 -> 99569 bytes
 .../src/test/resources/store/image/avi.json        |  32 ++
 .../src/test/resources/store/image/bmp.json        |  36 ++
 .../src/test/resources/store/image/eps.json        | 116 +++++
 .../src/test/resources/store/image/gif.json        |  47 ++
 .../src/test/resources/store/image/ico.json        |  33 ++
 .../src/test/resources/store/image/jpeg.json       | 213 +++++++++
 .../src/test/resources/store/image/mov.json        |  67 +++
 .../src/test/resources/store/image/mp4.json        |  56 +++
 .../src/test/resources/store/image/pcx.json        |  37 ++
 .../src/test/resources/store/image/png.json        |  57 +++
 .../src/test/resources/store/image/psd.json        | 119 +++++
 .../store/image/rose-128x174-24bit-lzw.tiff        | Bin 0 -> 50476 bytes
 .../resources/store/image/rose-128x174-24bit.bmp   | Bin 0 -> 66872 bytes
 .../resources/store/image/rose-128x174-24bit.pcx   | Bin 0 -> 34864 bytes
 .../store/image/rose-128x174-32bit-alpha.png       | Bin 0 -> 26308 bytes
 .../store/image/rose-128x174-32bit-alpha.psd       | Bin 0 -> 102618 bytes
 .../store/image/rose-128x174-8bit-alpha.gif        | Bin 0 -> 10463 bytes
 .../store/image/rose-32x32-32bit-alpha.ico         | Bin 0 -> 4286 bytes
 .../src/test/resources/store/image/sample.avi      | Bin 0 -> 375688 bytes
 .../src/test/resources/store/image/sample.mov      | Bin 0 -> 469690 bytes
 .../src/test/resources/store/image/sample.mp4      | Bin 0 -> 383631 bytes
 .../src/test/resources/store/image/sample.wav      | Bin 0 -> 37534 bytes
 .../src/test/resources/store/image/tiff.json       |  87 ++++
 .../src/test/resources/store/image/wav.json        |  32 ++
 .../src/test/resources/store/image/webp.json       |  29 ++
 .../test/resources/store/image/withExifAndIptc.jpg | Bin 0 -> 44606 bytes
 exec/jdbc-all/pom.xml                              |   4 +
 39 files changed, 2611 insertions(+)

commit eded745d4647a15716fa570a69b660385d0f0ee7
Author: potocki <k255@gmx.com>
Date:   Mon Nov 16 14:05:18 2015 +0100

    DRILL-4091: Adding support for additional gis operations in gis contrib module
    
    This closes #1201

 contrib/gis/pom.xml                                |   6 +-
 contrib/gis/sample-data/CA-cities-with-nulls.csv   |   3 +
 contrib/gis/sample-data/polygons.tsv               |   5 +
 .../com/esri/core/geometry/VertexGeomAccessor.java |  25 +++
 .../drill/exec/expr/fn/impl/gis/STBuffer.java      |  69 +++++++
 .../drill/exec/expr/fn/impl/gis/STContains.java    |  66 ++++++
 .../drill/exec/expr/fn/impl/gis/STCrosses.java     |  65 ++++++
 .../drill/exec/expr/fn/impl/gis/STDifference.java  |  70 +++++++
 .../drill/exec/expr/fn/impl/gis/STDisjoint.java    |  65 ++++++
 .../drill/exec/expr/fn/impl/gis/STDistance.java    |  64 ++++++
 .../drill/exec/expr/fn/impl/gis/STEnvelope.java    |  69 +++++++
 .../drill/exec/expr/fn/impl/gis/STEquals.java      |  65 ++++++
 .../exec/expr/fn/impl/gis/STGeomFromText.java      |   4 +-
 .../exec/expr/fn/impl/gis/STGeomFromTextSrid.java  |   2 +-
 .../drill/exec/expr/fn/impl/gis/STIntersects.java  |  64 ++++++
 .../drill/exec/expr/fn/impl/gis/STOverlaps.java    |  65 ++++++
 .../drill/exec/expr/fn/impl/gis/STRelate.java      |  73 +++++++
 .../drill/exec/expr/fn/impl/gis/STTouches.java     |  65 ++++++
 .../drill/exec/expr/fn/impl/gis/STTransform.java   | 114 +++++++++++
 .../drill/exec/expr/fn/impl/gis/STUnion.java       |  69 +++++++
 .../exec/expr/fn/impl/gis/STUnionAggregate.java    | 115 +++++++++++
 .../drill/exec/expr/fn/impl/gis/STXFunc.java       |  62 ++++++
 .../apache/drill/exec/expr/fn/impl/gis/STXMax.java |  63 ++++++
 .../apache/drill/exec/expr/fn/impl/gis/STXMin.java |  63 ++++++
 .../drill/exec/expr/fn/impl/gis/STYFunc.java       |  62 ++++++
 .../apache/drill/exec/expr/fn/impl/gis/STYMax.java |  63 ++++++
 .../apache/drill/exec/expr/fn/impl/gis/STYMin.java |  63 ++++++
 .../expr/fn/impl/gis/TestGeometryFunctions.java    | 228 ++++++++++++++++++++-
 28 files changed, 1738 insertions(+), 9 deletions(-)

commit f68d3e9531c4464854f76eb6ae7d8b39e665c662
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Thu May 10 15:28:40 2018 -0700

    DRILL-6356: batch sizing for union all
    
    closes #1255

 .../drill/exec/ops/OperatorMetricRegistry.java     |   7 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |  74 +++++--
 .../physical/impl/union/UnionAllerTemplate.java    |   2 +-
 .../exec/record/AbstractBinaryRecordBatch.java     |  67 ++++---
 .../drill/exec/record/JoinBatchMemoryManager.java  |  22 ---
 .../exec/record/RecordBatchMemoryManager.java      |  50 ++++-
 .../exec/physical/unit/TestOutputBatchSize.java    | 218 +++++++++++++++++++++
 7 files changed, 368 insertions(+), 72 deletions(-)

commit 31be83ebf5c58ca9ce3862369b4a828589f496f8
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Thu May 10 15:29:27 2018 -0700

    DRILL-6402: Repeated Value Vectors copyFrom methods are not updating
    the value count and writer index correctly for values vector

 exec/vector/src/main/codegen/templates/RepeatedValueVectors.java | 2 ++
 1 file changed, 2 insertions(+)

commit e05a7e89262dd9f94e3c21160b9d71ac84b5ba1a
Author: Venkata Jyothsna Donapati <jyothsna.dvj@gmail.com>
Date:   Wed May 30 11:03:58 2018 -0700

    DRILL-6415: Fixed TestGracefulShutdown.TestRestApi test from timing out (#1281)
    
    DRILL-6415: Fixed TestGracefulShutdown.TestRestApi test from timing out

 .../apache/drill/test/TestGracefulShutdown.java    | 235 ++++++---------------
 1 file changed, 65 insertions(+), 170 deletions(-)

commit 1355bfddb1c76462366e28ff7f98fdb6823b4b2a
Author: Gautam Parai <gparai@maprtech.com>
Date:   Thu May 24 19:00:21 2018 -0700

    DRILL-3964 : Fix NPE in WriterRecordBatch when 0 rows
    
    closes #1290

 .../org/apache/drill/exec/physical/impl/WriterRecordBatch.java |  8 +++++++-
 .../apache/drill/exec/store/parquet/ParquetRecordWriter.java   |  3 ++-
 .../src/test/java/org/apache/drill/exec/sql/TestCTAS.java      | 10 ++++++++++
 3 files changed, 19 insertions(+), 2 deletions(-)

commit 18766950c640c6963ffd1c94224c4a984bedd3c1
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed May 23 16:17:11 2018 +0000

    DRILL-6442: Adjust Hbase disk cost & row count estimation when filter push down is applied
    
    closes #1288

 .../drill/exec/store/hbase/HBaseGroupScan.java     | 64 ++++++++++-----------
 .../exec/store/hbase/TableStatsCalculator.java     | 67 ++++++++++++----------
 2 files changed, 66 insertions(+), 65 deletions(-)

commit 5e503c0e90b349aa51d2828df39ae55a56ca0661
Author: Kunal Khatua <kunal@apache.org>
Date:   Mon May 21 14:19:53 2018 -0700

    DRILL-5990: Drill should not startup with JRE sourced java executable
    
    Currently, the check for the Java compiler is made only during query execution.
    This commit ensures that if the java executable used for instantiating the Drillbit is from a JRE (i.e. the Java compiler is not available), the Drillbit will fail with the exception reported in the logs:
    ```
    Exception in thread "main" org.apache.drill.exec.exception.DrillbitStartupException: JDK Java compiler not available. Ensure Drill is running with the java executable from a JDK and not a JRE
            at org.apache.drill.exec.server.Drillbit.<init>(Drillbit.java:138)
            at org.apache.drill.exec.server.Drillbit.start(Drillbit.java:409)
            at org.apache.drill.exec.server.Drillbit.start(Drillbit.java:389)
            at org.apache.drill.exec.server.Drillbit.main(Drillbit.java:385)
    ```

 .../main/java/org/apache/drill/exec/server/Drillbit.java   | 14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit 686480f6cfa56b17a8502a11d58d04506bb01924
Author: Kunal Khatua <kunal@apache.org>
Date:   Wed May 23 15:55:24 2018 -0700

    DRILL-6443: Enable Search for both running AND completed queries
    
    When running a query in Drill, the `/profiles` page will show the search (and pagination) capabilities only for the top most visible table (i.e. Running Queries ).
    
    The Completed Queries table will show the search feature only when there are no running queries. This is because the backend uses a generalized freemarker macro to define the seach capabilities for the tables being rendered. With running queries, both, running and completed queries tables have the same element ID, resulting in the search capability only being applied to the first table.
    
    This modifies the Freemarker macro to take an additional argument for distinguishing between Running and Completed Queries table.

 .../src/main/resources/rest/profile/list.ftl       | 50 +++++++++++-----------
 1 file changed, 26 insertions(+), 24 deletions(-)

commit ee429e4c74168906724473960bd2094481b1987c
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Wed May 23 14:14:15 2018 -0700

    DRILL-6437: Removed excess maven logging when downloading dependencies. This fixed Travis failures due to log overflow.

 .travis.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c29655cd1edb70abd559cdb917660efceb2f452a
Author: Vlad Rozov <vrozov@apache.org>
Date:   Wed May 23 09:14:13 2018 -0700

    DRILL-6435: MappingSet is stateful, so it can't be shared between threads

 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  6 ++---
 .../exec/physical/impl/join/MergeJoinBatch.java    | 10 ++++----
 .../physical/impl/join/NestedLoopJoinBatch.java    |  6 ++---
 .../MergingReceiverGeneratorBase.java              | 29 +++-------------------
 .../impl/mergereceiver/MergingRecordBatch.java     | 10 ++++----
 .../OrderedPartitionRecordBatch.java               |  6 ++---
 .../drill/exec/physical/impl/sort/SortBatch.java   |  6 ++---
 .../physical/impl/xsort/ExternalSortBatch.java     |  8 +++---
 .../impl/xsort/managed/BaseSortWrapper.java        |  6 ++---
 .../xsort/managed/PriorityQueueCopierWrapper.java  |  2 +-
 10 files changed, 34 insertions(+), 55 deletions(-)

commit 814dfbd2dfb00e04af64d1e0e64b27398f025750
Author: chunhui-shi <cshi@maprtech.com>
Date:   Thu Feb 15 12:21:33 2018 -0800

    DRILL-6436: Storage Plugin to have name and context moved to AbstractStoragePlugin
    
    closes #1282

 .../drill/exec/store/hbase/HBaseStoragePlugin.java |  7 +------
 .../drill/exec/store/hive/HiveStoragePlugin.java   | 18 ++++-------------
 .../drill/exec/store/jdbc/JdbcStoragePlugin.java   | 17 +++-------------
 .../drill/exec/store/kafka/KafkaStoragePlugin.java |  7 +------
 .../drill/exec/store/kudu/KuduStoragePlugin.java   | 12 ++---------
 .../drill/exec/store/mongo/MongoStoragePlugin.java |  7 +------
 .../exec/store/openTSDB/OpenTSDBStoragePlugin.java | 11 +++--------
 .../drill/exec/store/AbstractStoragePlugin.java    | 23 ++++++++++++++++++----
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  4 +++-
 .../store/ischema/InfoSchemaStoragePlugin.java     |  7 ++-----
 .../drill/exec/store/mock/MockStorageEngine.java   |  1 +
 .../drill/exec/store/sys/SystemTablePlugin.java    | 15 +++-----------
 12 files changed, 43 insertions(+), 86 deletions(-)

commit 9b3be792678afeb5f0c87ba4c4a39afe97f20e98
Author: Parth Chandra <parthc@apache.org>
Date:   Mon Apr 16 16:42:20 2018 -0700

    DRILL-6440: Unnest unit tests and fixes for stats
    
      - Add unit test with mock input, nested lateral and unnest and project.
      - Fix unit test involving batch limits, ignore map tests
      - Fix input row count stats.
    
    closes #1283

 .../physical/impl/unnest/UnnestRecordBatch.java    |   8 +-
 .../impl/unnest/TestUnnestCorrectness.java         |   3 +-
 .../unnest/TestUnnestWithLateralCorrectness.java   | 280 +++++++++++++++++++--
 3 files changed, 267 insertions(+), 24 deletions(-)

commit 1fe31c34ebf98bd913a91a8223b6f6b29c80f4e8
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon May 14 15:27:16 2018 +0300

    DRILL-6374: Transitive Closure leads to TPCH Queries regressions and OOM when run concurrency test
    
    - Test case for Directory Pruning with Transitive Predicates
    - Improving description for STRICT_EQUAL_IS_DISTINCT_FROM predicate
    
    closes #1262

 .../apache/drill/exec/planner/PlannerPhase.java    | 17 ++++---
 .../apache/drill/exec/planner/RuleInstance.java    | 12 ++++-
 .../exec/planner/logical/DrillFilterJoinRules.java | 55 +++++++++++++++-------
 .../logical/DrillPushFilterPastProjectRule.java    | 31 +++++++-----
 .../planner/sql/handlers/DefaultSqlHandler.java    | 23 +++++----
 .../drill/exec/store/AbstractStoragePlugin.java    |  4 +-
 .../java/org/apache/drill/TestPartitionFilter.java | 17 +++++++
 ...quetFilterPushdownWithTransitivePredicates.java |  5 +-
 8 files changed, 110 insertions(+), 54 deletions(-)

commit 3af718f050f28210d4c5dcf359c617b2300dd736
Author: hmaduri <hmaduri@maprtech.com>
Date:   Tue May 15 13:51:45 2018 -0700

    DRILL-6431: Unnest operator requires table and a single column alias to be specified.
    Fixing the issues related to star column renaming, same field name renaming
    and also enforcing that an alias column is required for the unnest operator.

 .../java/org/apache/drill/exec/ExecConstants.java  |   1 +
 .../physical/impl/unnest/UnnestRecordBatch.java    |  16 +-
 .../drill/exec/planner/physical/CorrelatePrel.java |  45 ++++-
 .../drill/exec/planner/physical/UnnestPrel.java    |   2 +-
 .../planner/physical/visitor/BasePrelVisitor.java  |  12 ++
 .../physical/visitor/JoinPrelRenameVisitor.java    |  38 +++-
 .../exec/planner/physical/visitor/PrelVisitor.java |   4 +
 .../physical/visitor/PrelVisualizerVisitor.java    |  15 +-
 .../physical/visitor/StarColumnConverter.java      |  28 ++-
 .../drill/exec/planner/sql/SqlConverter.java       |   7 +
 .../impl/lateraljoin/TestE2EUnnestAndLateral.java  |  48 ++---
 .../impl/lateraljoin/TestLateralPlans.java         | 212 ++++++++++++++++++---
 .../impl/unnest/TestUnnestCorrectness.java         |   2 -
 .../unnest/TestUnnestWithLateralCorrectness.java   |  13 +-
 .../exec/physical/unit/PhysicalOpUnitTestBase.java |  30 +--
 .../planner/logical/DrillLogicalTestutils.java     |  70 +++++++
 .../org/apache/drill/test/DrillTestWrapper.java    |  21 ++
 pom.xml                                            |   2 +-
 18 files changed, 454 insertions(+), 112 deletions(-)

commit 17366d3f44451fdfb0b1b2f5f6e55026346aae9b
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue May 15 14:30:05 2018 -0700

    DRILL-6419: E2E Integration test for Lateral&Unnest

 .../impl/lateraljoin/TestE2EUnnestAndLateral.java  |  223 ++
 .../org/apache/drill/test/BaseDirTestWatcher.java  |   16 +
 .../lateraljoin/multipleFiles/cust_order_10_1.json | 2191 ++++++++++++++++++++
 .../lateraljoin/multipleFiles/cust_order_10_2.json | 1302 ++++++++++++
 .../cust_order_10_2_stringNationKey.json           | 1302 ++++++++++++
 ...st_order_10_2_stringNationKey_ShipPriority.json | 1302 ++++++++++++
 .../cust_order_10_2_stringOrderShipPriority.json   | 1302 ++++++++++++
 7 files changed, 7638 insertions(+)

commit 399fc99827c5eff413cb1aa8489af09cc1266ff3
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Tue Apr 17 20:12:03 2018 -0700

    DRILL-5846: Improve parquet performance for Flat Data Types
    
    closes #1060

 .../java/org/apache/drill/exec/ExecConstants.java  |   5 +
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../store/parquet/columnreaders/ColumnReader.java  |   4 +
 .../columnreaders/NullableColumnReader.java        | 160 +++++-
 .../store/parquet/columnreaders/PageReader.java    |  26 +
 .../parquet/columnreaders/ParquetRecordReader.java |  31 +-
 .../columnreaders/VarLenAbstractEntryReader.java   | 265 ++++++++++
 .../parquet/columnreaders/VarLenBinaryReader.java  |  32 +-
 .../columnreaders/VarLenBulkPageReader.java        | 163 ++++++
 .../columnreaders/VarLenColumnBulkEntry.java       | 172 +++++++
 .../columnreaders/VarLenColumnBulkInput.java       | 570 +++++++++++++++++++++
 .../columnreaders/VarLenEntryDictionaryReader.java | 104 ++++
 .../parquet/columnreaders/VarLenEntryReader.java   | 134 +++++
 .../columnreaders/VarLenFixedEntryReader.java      |  75 +++
 .../VarLenNullableDictionaryReader.java            | 132 +++++
 .../columnreaders/VarLenNullableEntryReader.java   | 166 ++++++
 .../VarLenNullableFixedEntryReader.java            |  91 ++++
 .../columnreaders/VarLengthColumnReaders.java      | 113 +++-
 .../columnreaders/VarLengthValuesColumn.java       |  58 ++-
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 .../src/main/java/io/netty/buffer/DrillBuf.java    | 161 +++++-
 .../main/codegen/templates/FixedValueVectors.java  | 191 ++++++-
 .../codegen/templates/NullableValueVectors.java    | 103 +++-
 .../codegen/templates/VariableLengthVectors.java   | 240 ++++++++-
 .../vector/NullableVectorDefinitionSetter.java     |  12 +
 .../apache/drill/exec/vector/VarLenBulkEntry.java  |  72 +++
 .../apache/drill/exec/vector/VarLenBulkInput.java  |  56 ++
 27 files changed, 3040 insertions(+), 98 deletions(-)

commit 82e1a1229203efc3f8899c620a7efc60dff6d388
Author: Kunal Khatua <kunal@apache.org>
Date:   Wed May 16 10:35:51 2018 -0700

    DRILL-6423: Export query result as a CSV file
    
    Added option for user specified delimiter
    Also, we show query Id on results page as alink for popping out a new window
    
    closes #1266

 .../drill/exec/server/rest/QueryResources.java     |  6 ++
 .../drill/exec/server/rest/QueryWrapper.java       | 12 +++-
 .../src/main/resources/rest/query/result.ftl       | 71 +++++++++++++++++++++-
 3 files changed, 85 insertions(+), 4 deletions(-)

commit 00290977bc0e39bd188ceb9fcf90f3813f8c6e5a
Author: Kunal Khatua <kunal@apache.org>
Date:   Wed May 16 10:22:41 2018 -0700

    DRILL-5305: Query Profile must display Query ID
    
    Introduced change to the Protobuf to inject the text-equivalent of the QueryID into the profile. This way, the profile's file name can be changed, but restored back based on this new field.
    The Profile UI also shows the Query ID, though this is not inferred from this new field, for sake of backward compatibility with older profiles.
    
    closes #1265

 .../exec/server/rest/profile/ProfileWrapper.java   |   2 +-
 .../apache/drill/exec/work/user/UserWorker.java    |   5 +-
 .../src/main/resources/rest/profile/profile.ftl    |   2 +-
 .../drill/exec/proto/SchemaUserBitShared.java      |   7 +
 .../org/apache/drill/exec/proto/UserBitShared.java | 412 ++++++++++++++-------
 .../org/apache/drill/exec/proto/beans/QueryId.java |  22 ++
 protocol/src/main/protobuf/UserBitShared.proto     |   1 +
 7 files changed, 320 insertions(+), 131 deletions(-)

commit b7d259ba9c8c2b28700c9da33bb97dd79ef04cbc
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue May 15 14:27:31 2018 -0700

    DRILL-6418: Handle Schema change in Unnest And Lateral for unnest field / non-unnest field
    
    Note: Changed Lateral to handle non-empty right batch with OK_NEW_SCHEMA
    
    closes #1271

 .../exec/physical/impl/join/LateralJoinBatch.java  |  45 +---
 .../physical/impl/project/ProjectRecordBatch.java  |   2 +-
 .../physical/impl/unnest/UnnestRecordBatch.java    |   6 +-
 .../org/apache/drill/exec/record/BatchSchema.java  |  27 ++-
 .../apache/drill/exec/record/VectorContainer.java  |   9 +
 .../impl/join/TestLateralJoinCorrectness.java      | 252 ++++++++++++++++++++-
 .../impl/limit/TestLimitBatchEmitOutcome.java      |   3 +
 .../impl/project/TestProjectEmitOutcome.java       |   3 +
 .../unnest/TestUnnestWithLateralCorrectness.java   |   8 +-
 .../drill/exec/record/MaterializedField.java       |  43 +++-
 .../exec/vector/complex/AbstractMapVector.java     |   3 +
 11 files changed, 347 insertions(+), 54 deletions(-)

commit dc1db98f613f041e40c2c704862051ee2a51734a
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Sun Apr 22 18:02:35 2018 -0700

    DRILL-6348: Received batches are now owned by the receive operators instead of the parent
    
    closes #1237

 .../org/apache/drill/exec/ops/FragmentContextImpl.java  |  5 ++++-
 .../exec/physical/impl/MergingReceiverCreator.java      |  2 +-
 .../physical/impl/mergereceiver/MergingRecordBatch.java |  3 +++
 .../impl/unorderedreceiver/UnorderedReceiverBatch.java  |  3 +++
 .../unorderedreceiver/UnorderedReceiverCreator.java     |  2 +-
 .../drill/exec/work/batch/AbstractDataCollector.java    | 17 +++++++++++++++++
 .../org/apache/drill/exec/work/batch/DataCollector.java | 14 +++++++++++++-
 .../apache/drill/exec/work/batch/IncomingBuffers.java   | 10 +++++++---
 8 files changed, 49 insertions(+), 7 deletions(-)

commit f4f4dc54520e33f0b880334ff97a8a55078e9d1c
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   Thu May 17 13:08:31 2018 +0300

    DRILL-4525: Code cleanup
    
    - Fixed failing test
    
    closes #1268

 .../sql/DrillCalciteSqlBetweenOperatorWrapper.java | 28 ++++++---------
 .../drill/exec/planner/sql/DrillOperatorTable.java | 41 +++++++++++-----------
 .../drill/TestFunctionsWithTypeExpoQueries.java    | 29 +++++++--------
 3 files changed, 46 insertions(+), 52 deletions(-)

commit 1a28fd8c666a81bec2a453dbc26150349ac66cc0
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Mar 21 14:43:54 2016 -0700

    DRILL-4525: Allow SqlBetweenOperator to accept LOWER_OPERAND and UPPER_OPERAND with different types

 .../sql/DrillCalciteSqlBetweenOperatorWrapper.java | 82 ++++++++++++++++++++++
 .../drill/exec/planner/sql/DrillOperatorTable.java | 18 ++++-
 .../drill/TestFunctionsWithTypeExpoQueries.java    | 44 ++++++++++++
 3 files changed, 142 insertions(+), 2 deletions(-)

commit 1cd6ee8a04255049393492e5d4babdcad9d1c1e6
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Thu May 17 12:59:08 2018 +0300

    DRILL-6424: Updating FasterXML Jackson libraries
    
    closes #1274

 contrib/storage-hive/hive-exec-shade/pom.xml       |  19 --
 .../exec/store/easy/json/JsonRecordWriter.java     |   4 +-
 .../exec/store/parquet/metadata/Metadata.java      |  10 +-
 .../apache/drill/common/logical/data/Sequence.java | 192 ---------------------
 .../data/visitors/AbstractLogicalVisitor.java      |   6 -
 .../logical/data/visitors/LogicalVisitor.java      |   3 -
 pom.xml                                            |   4 +-
 7 files changed, 9 insertions(+), 229 deletions(-)

commit 5d22d708252bd5a84fe2f277f2b8b9a6abc0d9ce
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu May 17 18:24:35 2018 +0300

    DRILL-6413: Update ParquetFilterBuilder.visitBooleanOperator to handle simplified boolean expression
    
    closes #1269

 .../store/parquet/AbstractParquetGroupScan.java    |  3 +--
 .../exec/store/parquet/ParquetFilterBuilder.java   | 19 +++++++++++++++----
 .../store/parquet/TestParquetFilterPushDown.java   | 22 +++++++++++-----------
 3 files changed, 27 insertions(+), 17 deletions(-)

commit 55f2599d6a357b047c5a9d5e7e8a932502cda75d
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri May 18 13:11:05 2018 +0300

    DRILL-6426: Refactor TestFunctionsWithTypeExpoQueries test to be independent on limit 0 optimization option
    
    closes #1273

 .../drill/TestFunctionsWithTypeExpoQueries.java    | 34 ++++++++++++++++------
 1 file changed, 25 insertions(+), 9 deletions(-)

commit bdbd93fc726224ec45d06f09434c7406e444242e
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed May 16 21:34:56 2018 +0300

    DRILL-6421: Refactor DecimalUtility and CoreDecimalUtility classes
    
    closes #1267

 .../java/org/apache/drill/common/types/Types.java  | 106 ++--
 .../drill/common/util/CoreDecimalUtility.java      |  55 --
 .../drill/exec/store/hive/HiveUtilities.java       |   8 +-
 .../templates/Decimal/CastVarDecimalDecimal.java   |   6 +-
 .../exec/expr/ExpressionTreeMaterializer.java      |  43 +-
 .../drill/exec/physical/impl/join/JoinUtils.java   |   6 +-
 .../drill/exec/planner/sql/TypeInferenceUtils.java |   4 +-
 .../exec/store/parquet/ParquetRecordWriter.java    |   3 +-
 .../columnreaders/ParquetToDrillTypeConverter.java |   4 +-
 .../main/codegen/templates/ColumnAccessors.java    |  14 +-
 .../main/codegen/templates/FixedValueVectors.java  |   2 +-
 .../org/apache/drill/exec/util/DecimalUtility.java | 672 ++++-----------------
 .../drill/exec/vector/ValueHolderHelper.java       |   8 +-
 .../drill/common/expression/ValueExpressions.java  |  21 +-
 14 files changed, 185 insertions(+), 767 deletions(-)

commit 5dd8a6f60e006c2dc707f241b7619634e4e82bbd
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue May 8 13:06:20 2018 -0700

    DRILL-6255: Drillbit while sending control message to itself creates a connection instead of submitting locally
    
    closes #1253

 .../org/apache/drill/exec/rpc/BitRpcUtility.java   |  18 ++
 .../rpc/control/ConnectionManagerRegistry.java     |   6 +-
 .../exec/rpc/control/ControlConnectionConfig.java  |   9 +-
 .../exec/rpc/control/ControlConnectionManager.java |  16 +-
 .../drill/exec/rpc/control/ControlTunnel.java      | 162 ++++++++----
 .../rpc/control/LocalControlConnectionManager.java | 236 +++++++++++++++++
 .../control/RemoteControlConnectionManager.java    |  41 +++
 .../org/apache/drill/exec/rpc/data/DataTunnel.java |  25 +-
 .../exec/work/batch/ControlMessageHandler.java     |  51 ++--
 .../drill/exec/work/foreman/FragmentsRunner.java   | 105 ++------
 .../exec/work/fragment/FragmentStatusReporter.java |  15 +-
 .../rpc/control/ConnectionManagerRegistryTest.java | 149 +++++++++++
 .../control/TestLocalControlConnectionManager.java | 278 +++++++++++++++++++++
 .../rpc/user/security/TestUserBitKerberos.java     |  36 ++-
 .../work/fragment/FragmentStatusReporterTest.java  |  73 +-----
 .../apache/drill/exec/rpc/FutureBitCommand.java    |  20 +-
 .../apache/drill/exec/rpc/ListeningCommand.java    |  33 +--
 .../drill/exec/rpc/ReconnectingConnection.java     |  16 +-
 .../java/org/apache/drill/exec/rpc/RpcCommand.java |  13 +-
 19 files changed, 1017 insertions(+), 285 deletions(-)

commit 5a3a73ad098f77ad01d9366dc1a0f8f4ac539746
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Fri May 4 10:47:28 2018 -0700

    DRILL-6420: Add Lateral and Unnest Keyword for highlighting on WebUI
    
    closes #1261

 .../src/main/resources/rest/static/js/ace-code-editor/mode-sql.js     | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 89e0fe6b34259a2f51a7c45070935a2a2400eca4
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Fri Apr 27 21:59:25 2018 -0700

    DRILL-6027:
      - Added fallback option for HashJoin.
      - No copy of incoming for single partition, and avoid HT resize.
      - Fix memory leak when cancelling while spill file is read
      - get correct schema when probe side is empty
      - Re-create the HashJoinProbe

 .../java/org/apache/drill/exec/ExecConstants.java  |  18 +-
 .../drill/exec/physical/base/AbstractBase.java     |   4 +-
 .../drill/exec/physical/base/PhysicalOperator.java |   4 +-
 .../drill/exec/physical/config/ExternalSort.java   |   4 +-
 .../drill/exec/physical/config/HashAggregate.java  |  11 +-
 .../drill/exec/physical/config/HashJoinPOP.java    |  66 +--
 .../drill/exec/physical/impl/BaseRootExec.java     |   2 -
 .../physical/impl/aggregate/HashAggTemplate.java   |   2 +-
 .../exec/physical/impl/common/HashPartition.java   | 137 ++++--
 .../physical/impl/common/HashTableTemplate.java    |  31 +-
 .../exec/physical/impl/join/HashJoinBatch.java     | 468 ++++++---------------
 .../impl/join/HashJoinHelperSizeCalculator.java    |   2 +-
 .../join/HashJoinHelperSizeCalculatorImpl.java     |   2 +-
 ...ava => HashJoinMechanicalMemoryCalculator.java} |   5 +-
 .../impl/join/HashJoinMemoryCalculator.java        |   2 +-
 .../impl/join/HashJoinMemoryCalculatorImpl.java    |   3 +-
 .../exec/physical/impl/join/HashJoinProbe.java     |  45 ++
 .../physical/impl/join/HashJoinProbeTemplate.java  | 425 +++++++++++++++++++
 .../exec/physical/impl/join/HashJoinState.java     |   2 +-
 .../impl/join/HashJoinStateCalculator.java         |   2 +-
 .../impl/join/HashTableSizeCalculator.java         |   2 +-
 .../HashTableSizeCalculatorConservativeImpl.java   |   2 +-
 .../impl/join/HashTableSizeCalculatorLeanImpl.java |   2 +-
 .../impl/protocol/OperatorRecordBatch.java         |   5 +
 .../apache/drill/exec/record/VectorContainer.java  | 101 +----
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../drill/exec/util/MemoryAllocationUtilities.java |   2 +-
 .../work/foreman/rm/ThrottledResourceManager.java  |   2 +-
 .../java-exec/src/main/resources/drill-module.conf |   4 +
 .../drill/exec/physical/impl/MockRecordBatch.java  |   3 +
 .../physical/impl/common/HashPartitionTest.java    |   8 +-
 .../impl/join/TestBuildSidePartitioningImpl.java   |   4 +-
 .../join/TestHashJoinHelperSizeCalculatorImpl.java |   2 +-
 .../join/TestHashJoinMemoryCalculatorImpl.java     |   2 +-
 .../exec/physical/impl/join/TestHashJoinSpill.java |  15 +-
 ...estHashTableSizeCalculatorConservativeImpl.java |   2 +-
 .../join/TestHashTableSizeCalculatorLeanImpl.java  |   2 +-
 .../exec/physical/impl/join/TestPartitionStat.java |   2 +-
 .../impl/join/TestPostBuildCalculationsImpl.java   |   2 +-
 .../physical/impl/unnest/MockLateralJoinBatch.java |   2 +
 .../xsort/managed/TestExternalSortInternals.java   |  14 +-
 .../physical/impl/xsort/managed/TestSorter.java    |   1 -
 42 files changed, 868 insertions(+), 547 deletions(-)

commit 349ac5ad431a6814f0a065bf16dee635cc6d3274
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Mon Feb 12 16:49:29 2018 -0800

    DRILL-6027:
     - Added memory claculator
     - Added unit tests and docs.
     - Fixed IOB caused by output vector allocation.
     - Don't double count records that were spilled in HashJoin

 .../java/org/apache/drill/exec/ExecConstants.java  |  16 +-
 .../drill/exec/physical/config/HashJoinPOP.java    |  14 +-
 .../physical/impl/aggregate/HashAggTemplate.java   |   1 -
 .../physical/impl/common/ChainedHashTable.java     |   8 +-
 .../exec/physical/impl/common/HashPartition.java   | 111 ++-
 .../drill/exec/physical/impl/common/HashTable.java |  80 +-
 .../impl/common/HashTableAllocationTracker.java    |  73 ++
 .../exec/physical/impl/common/HashTableConfig.java |  33 +-
 .../physical/impl/common/HashTableTemplate.java    | 116 +--
 .../exec/physical/impl/join/HashJoinBatch.java     | 468 ++++++++----
 .../exec/physical/impl/join/HashJoinHelper.java    |  12 +
 .../impl/join/HashJoinHelperSizeCalculator.java    |  22 +
 .../join/HashJoinHelperSizeCalculatorImpl.java     |  51 ++
 .../impl/join/HashJoinMemoryCalculator.java        | 320 ++++++++
 .../impl/join/HashJoinMemoryCalculatorImpl.java    | 833 +++++++++++++++++++++
 .../exec/physical/impl/join/HashJoinState.java     |  42 ++
 .../impl/join/HashJoinStateCalculator.java         |  40 +
 .../impl/join/HashTableSizeCalculator.java         |  32 +
 .../HashTableSizeCalculatorConservativeImpl.java   |  96 +++
 .../impl/join/HashTableSizeCalculatorLeanImpl.java | 109 +++
 .../join/MechanicalHashJoinMemoryCalculator.java   | 163 ++++
 .../drill/exec/planner/logical/DrillJoinRel.java   |   3 +-
 .../drill/exec/record/AbstractRecordBatch.java     |   8 +
 .../apache/drill/exec/record/RecordBatchSizer.java |  42 ++
 .../apache/drill/exec/record/VectorContainer.java  |  24 +
 .../exec/server/options/SystemOptionManager.java   |   9 +-
 .../java-exec/src/main/resources/drill-module.conf |   8 +-
 .../drill/exec/cache/TestBatchSerialization.java   |   5 +-
 .../exec/compile/TestLargeFileCompilation.java     |   1 +
 .../physical/impl/common/HashPartitionTest.java    | 306 ++++++++
 .../common/HashTableAllocationTrackerTest.java     | 101 +++
 .../exec/physical/impl/join/PartitionStatImpl.java |  79 ++
 .../impl/join/TestBuildSidePartitioningImpl.java   | 289 +++++++
 .../join/TestHashJoinHelperSizeCalculatorImpl.java |  44 ++
 .../join/TestHashJoinMemoryCalculatorImpl.java     |  82 ++
 .../exec/physical/impl/join/TestHashJoinSpill.java |   2 -
 ...estHashTableSizeCalculatorConservativeImpl.java |  67 ++
 .../join/TestHashTableSizeCalculatorLeanImpl.java  |  66 ++
 .../exec/physical/impl/join/TestPartitionStat.java |  57 ++
 .../impl/join/TestPostBuildCalculationsImpl.java   | 434 +++++++++++
 .../physical/impl/validate/TestBatchValidator.java |   7 +-
 .../physical/impl/xsort/managed/TestSortImpl.java  |  23 +-
 .../physical/impl/xsort/managed/TestSorter.java    |   8 +-
 .../exec/physical/unit/PhysicalOpUnitTestBase.java |   7 +-
 .../drill/exec/record/TestVectorContainer.java     |  41 +-
 .../drill/exec/util/TestQueryMemoryAlloc.java      |  13 +-
 .../org/apache/drill/test/BaseDirTestWatcher.java  |  18 +
 .../java/org/apache/drill/test/ConfigBuilder.java  |   7 +-
 .../org/apache/drill/test/OperatorFixture.java     |  28 +-
 .../org/apache/drill/test/SubOperatorTest.java     |   6 +-
 .../drill/test/rowSet/test/PerformanceTool.java    |   2 +-
 .../main/codegen/templates/FixedValueVectors.java  |   5 +
 .../codegen/templates/NullableValueVectors.java    |   7 +
 .../org/apache/drill/exec/vector/BitVector.java    |   5 +
 .../apache/drill/exec/vector/FixedWidthVector.java |   6 +
 .../drill/exec/vector/UntypedNullVector.java       |   5 +
 56 files changed, 4184 insertions(+), 271 deletions(-)

commit 13e72c1ed846a4c2a5ee18129e773a3e2c215cdc
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Wed Feb 14 12:36:39 2018 -0800

    DRILL-6027: Initial implementation of HashJoin spill, without memory limits checks yet

 .../test/java/org/apache/drill/test/DrillTest.java |   2 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |  14 +
 .../apache/drill/exec/cache/VectorSerializer.java  |   3 +-
 .../drill/exec/physical/impl/BaseRootExec.java     |   7 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |   4 +
 .../physical/impl/aggregate/HashAggTemplate.java   |  19 +-
 .../impl/aggregate/SpilledRecordbatch.java         |  11 +-
 .../physical/impl/common/ChainedHashTable.java     |  14 +-
 .../exec/physical/impl/common/HashPartition.java   | 500 +++++++++++
 .../drill/exec/physical/impl/common/HashTable.java |  10 +-
 .../physical/impl/common/HashTableTemplate.java    |  59 +-
 .../exec/physical/impl/join/HashJoinBatch.java     | 945 +++++++++++++++------
 .../exec/physical/impl/join/HashJoinHelper.java    |   4 +
 .../exec/physical/impl/join/HashJoinProbe.java     |  53 --
 .../physical/impl/join/HashJoinProbeTemplate.java  | 261 ------
 .../drill/exec/physical/impl/spill/SpillSet.java   |   5 +
 .../unorderedreceiver/UnorderedReceiverBatch.java  |   5 +
 .../validate/IteratorValidatorBatchIterator.java   |   5 +
 .../drill/exec/record/AbstractRecordBatch.java     |   5 +
 .../org/apache/drill/exec/record/RecordBatch.java  |   7 +
 .../apache/drill/exec/record/SchemalessBatch.java  |   3 +
 .../drill/exec/record/SimpleRecordBatch.java       |   5 +
 .../apache/drill/exec/record/VectorContainer.java  | 120 ++-
 .../exec/server/options/SystemOptionManager.java   |   5 +
 .../java-exec/src/main/resources/drill-module.conf |  18 +
 .../exec/physical/impl/join/TestHashJoinSpill.java | 123 +++
 .../exec/physical/unit/MiniPlanUnitTestBase.java   |   2 +-
 .../exec/physical/unit/PhysicalOpUnitTestBase.java |   9 +-
 .../org/apache/drill/test/DrillTestWrapper.java    |  14 +-
 .../org/apache/drill/test/rowSet/RowSetBatch.java  |   3 +
 exec/java-exec/src/test/resources/empty.json       |   0
 31 files changed, 1612 insertions(+), 623 deletions(-)

commit cfaf430c78dd05f3f33b89008339c6d49f55c0b0
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Tue May 15 17:58:13 2018 -0700

    code review comments

 .../drill/exec/physical/impl/flatten/FlattenRecordBatch.java  |  8 ++++++--
 .../drill/exec/physical/impl/join/LateralJoinBatch.java       | 10 +++++++---
 .../apache/drill/exec/physical/impl/join/MergeJoinBatch.java  |  8 ++++++--
 .../drill/exec/physical/impl/unnest/UnnestRecordBatch.java    | 11 ++++++-----
 4 files changed, 25 insertions(+), 12 deletions(-)

commit 79bb7f9ae22bb981bee6abd83171cd98cd72c0fa
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Mon May 14 15:01:25 2018 -0700

    DRILL-6411: Make batch memory sizing logs uniform across all operators

 .../physical/impl/flatten/FlattenRecordBatch.java   | 11 +++++------
 .../exec/physical/impl/join/LateralJoinBatch.java   | 20 ++++++++++++++++++++
 .../exec/physical/impl/join/MergeJoinBatch.java     | 21 +++++++++++++++++++++
 .../physical/impl/unnest/UnnestRecordBatch.java     |  5 +++--
 .../exec/record/AbstractBinaryRecordBatch.java      | 15 ---------------
 .../drill/exec/record/JoinBatchMemoryManager.java   |  5 -----
 .../apache/drill/exec/record/RecordBatchSizer.java  | 20 ++++++++++++--------
 7 files changed, 61 insertions(+), 36 deletions(-)

commit 758a98143261fb7369e26499c72018d04c2a2909
Author: chunhui-shi <cshi@maprtech.com>
Date:   Mon Apr 30 10:24:06 2018 -0700

    DRILL-6321: Lateral Join and Unnest - rules, options, logical plan supports
    
    Included changes:
    * Add planner.enable_unnest_lateral option. Default value set to false.
    * Enable FilterCorrectRule
    * Add support to logical plan
    * Fix rebase errors for DRILL-6321 commits

 .../drill/exec/physical/config/UnnestPOP.java      |  1 +
 .../physical/impl/unnest/UnnestRecordBatch.java    |  4 --
 .../apache/drill/exec/planner/PlannerPhase.java    |  2 +
 .../apache/drill/exec/planner/RuleInstance.java    |  4 ++
 .../exec/planner/common/DrillJoinRelBase.java      |  4 +-
 .../exec/planner/logical/DrillCorrelateRel.java    | 13 +++++-
 .../drill/exec/planner/logical/DrillJoinRel.java   | 22 ++++++++--
 .../drill/exec/planner/logical/DrillUnnestRel.java |  9 +++-
 .../exec/planner/physical/PlannerSettings.java     | 10 +++++
 .../drill/exec/planner/physical/UnnestPrule.java   |  2 -
 .../sql/parser/UnsupportedOperatorsVisitor.java    |  9 ++++
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../java-exec/src/main/resources/drill-module.conf |  1 +
 ...eralPhysicalPlan.java => TestLateralPlans.java} | 48 +++++++++++++++++-----
 .../impl/unnest/TestUnnestCorrectness.java         |  2 +
 .../drill/common/logical/data/LateralJoin.java     |  1 -
 .../apache/drill/common/logical/data/Unnest.java   |  3 +-
 pom.xml                                            |  2 +-
 18 files changed, 110 insertions(+), 28 deletions(-)

commit 0a4a37e11f2f2ad66de80918a4b34665e42803fc
Author: chunhui-shi <cshi@maprtech.com>
Date:   Mon Mar 26 12:15:09 2018 -0700

    DRILL-6321: Lateral Join and Unnest - initial implementation for parser and planning

 .../org/apache/drill/exec/opt/BasicOptimizer.java  |   6 ++
 .../physical/base/AbstractPhysicalVisitor.java     |   6 ++
 .../drill/exec/physical/base/PhysicalVisitor.java  |   2 +
 .../drill/exec/physical/config/LateralJoinPOP.java |  22 +++-
 .../drill/exec/physical/config/UnnestPOP.java      |  32 ++++--
 .../impl/join/LateralJoinBatchCreator.java         |   9 +-
 .../physical/impl/unnest/UnnestRecordBatch.java    |  20 +++-
 .../apache/drill/exec/planner/PlannerPhase.java    |  10 +-
 .../exec/planner/common/DrillCorrelateRelBase.java |  55 ++++++++++
 .../exec/planner/common/DrillUnnestRelBase.java    |  54 ++++++++++
 .../drill/exec/planner/fragment/Materializer.java  |  38 +++++++
 .../exec/planner/logical/DrillCorrelateRel.java    |  51 +++++++++
 .../exec/planner/logical/DrillCorrelateRule.java   |  53 ++++++++++
 .../drill/exec/planner/logical/DrillUnnestRel.java |  44 ++++++++
 .../exec/planner/logical/DrillUnnestRule.java      |  48 +++++++++
 .../drill/exec/planner/physical/CorrelatePrel.java |  89 ++++++++++++++++
 .../exec/planner/physical/CorrelatePrule.java      |  56 ++++++++++
 .../drill/exec/planner/physical/UnnestPrel.java    |  78 ++++++++++++++
 .../drill/exec/planner/physical/UnnestPrule.java   |  49 +++++++++
 .../impl/lateraljoin/TestLateralPhysicalPlan.java  |  88 ++++++++++++++++
 .../test/resources/lateraljoin/lateralplan1.json   |  95 +++++++++++++++++
 .../resources/lateraljoin/nested-customer.json     | 114 +++++++++++++++++++++
 .../resources/lateraljoin/nested-customer.parquet  | Bin 0 -> 3360 bytes
 .../drill/common/logical/data/LateralJoin.java     |  60 +++++++++++
 .../apache/drill/common/logical/data/Unnest.java   |  45 ++++++++
 .../data/visitors/AbstractLogicalVisitor.java      |  12 +++
 .../logical/data/visitors/LogicalVisitor.java      |   5 +
 27 files changed, 1127 insertions(+), 14 deletions(-)

commit ca90229b6deea40282927f8ab5c07715a4e18620
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Sat May 5 15:32:07 2018 +0300

    DRILL-6272: Refactor dynamic UDFs and function initializer tests to generate needed binary and source jars at runtime
    
    close apache/drill#1225

 exec/java-exec/pom.xml                             |  48 ++
 .../exec/expr/fn/FunctionInitializerTest.java      |  54 +--
 .../apache/drill/exec/udf/dynamic/JarBuilder.java  |  96 ++++
 .../udf/dynamic}/TestDynamicUDFSupport.java        | 523 ++++++++++-----------
 .../java-exec/src/test/resources/drill-udf/pom.xml |  92 ++++
 .../drill/udf/dynamic/CustomAbsFunction.java       |  63 +++
 .../drill/udf/dynamic/CustomLogFunction.java       |  58 +++
 .../udf/dynamic/CustomLowerDummyFunction.java      |  58 +++
 .../drill/udf/dynamic/CustomLowerFunction.java     |  64 +++
 .../drill/udf/dynamic/CustomLowerFunctionV2.java   |  64 +++
 .../drill/udf/dynamic/CustomUpperFunction.java     |  64 +++
 .../apache/drill/udf/dynamic/LowerFunction.java    |  64 +++
 .../drill-udf/src/main/resources/drill-module.conf |   1 +
 .../test/resources/jars/DrillUDF-1.0-sources.jar   | Bin 1892 -> 0 bytes
 .../src/test/resources/jars/DrillUDF-1.0.jar       | Bin 3146 -> 0 bytes
 .../test/resources/jars/DrillUDF-2.0-sources.jar   | Bin 1891 -> 0 bytes
 .../src/test/resources/jars/DrillUDF-2.0.jar       | Bin 3142 -> 0 bytes
 .../jars/DrillUDF-overloading-1.0-sources.jar      | Bin 3473 -> 0 bytes
 .../resources/jars/DrillUDF-overloading-1.0.jar    | Bin 5779 -> 0 bytes
 .../resources/jars/DrillUDF_Copy-1.0-sources.jar   | Bin 1892 -> 0 bytes
 .../src/test/resources/jars/DrillUDF_Copy-1.0.jar  | Bin 3185 -> 0 bytes
 .../jars/DrillUDF_DupFunc-1.0-sources.jar          | Bin 1888 -> 0 bytes
 .../test/resources/jars/DrillUDF_DupFunc-1.0.jar   | Bin 3201 -> 0 bytes
 .../resources/jars/DrillUDF_Empty-1.0-sources.jar  | Bin 536 -> 0 bytes
 .../src/test/resources/jars/DrillUDF_Empty-1.0.jar | Bin 1863 -> 0 bytes
 .../jars/DrillUDF_NoMarkerFile-1.0-sources.jar     | Bin 1715 -> 0 bytes
 .../resources/jars/DrillUDF_NoMarkerFile-1.0.jar   | Bin 3084 -> 0 bytes
 .../resources/jars/v2/DrillUDF-1.0-sources.jar     | Bin 1899 -> 0 bytes
 .../src/test/resources/jars/v2/DrillUDF-1.0.jar    | Bin 3215 -> 0 bytes
 29 files changed, 948 insertions(+), 301 deletions(-)

commit 9a47d555b00052115016fbe35cad5a4147d42ad5
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Sat May 5 15:31:10 2018 +0300

    DRILL-6363: Upgrade jmockit and mockito libs

 .../test/java/org/apache/drill/test/TestTools.java |   2 +-
 .../drill/TestTpchDistributedConcurrent.java       |   3 +-
 .../drill/exec/coord/zk/TestZookeeperClient.java   |   2 +-
 .../rpc/user/TemporaryTablesAutomaticDropTest.java |  42 ++-
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  | 315 +++++++--------------
 .../exec/vector/complex/TestEmptyPopulation.java   |   3 -
 pom.xml                                            |   7 +-
 7 files changed, 134 insertions(+), 240 deletions(-)

commit c1f0adc9276ab8314ce9c5dff2d9c92066c71530
Author: jiang-wu <jwu@alumni.stanford.edu>
Date:   Tue May 1 14:48:26 2018 -0700

    DRILL-6242 Use java.time.Local{Date|Time|DateTime} for Drill Date, Time, Timestamp types. (#3)
    
    close apache/drill#1247
    
    * DRILL-6242 - Use java.time.Local{Date|Time|DateTime} classes to hold values from corresponding Drill date, time, and timestamp types.
    Conflicts:
            exec/java-exec/src/main/java/org/apache/drill/exec/vector/complex/fn/ExtendedJsonOutput.java
    
    Fix merge conflicts and check style.

 .../exec/TestHiveDrillNativeParquetReader.java     |  20 +-
 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    |  15 +-
 .../apache/drill/exec/hive/TestHiveStorage.java    |  37 ++--
 .../exec/store/jdbc/TestJdbcPluginWithDerbyIT.java |  12 +-
 .../exec/store/jdbc/TestJdbcPluginWithMySQLIT.java |  15 +-
 .../main/codegen/templates/CastDateVarChar.java    |   8 +-
 .../main/codegen/templates/CastVarCharDate.java    |   8 +-
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java |   8 +-
 .../exec/planner/common/DrillValuesRelBase.java    |  30 +--
 .../drill/exec/store/bson/BsonRecordReader.java    |  25 ++-
 .../org/apache/drill/exec/util/VectorUtil.java     |  10 +-
 .../exec/vector/complex/fn/BasicJsonOutput.java    |  36 ++--
 .../exec/vector/complex/fn/ExtendedJsonOutput.java |  15 +-
 .../drill/exec/vector/complex/fn/JsonOutput.java   |   8 +-
 .../drill/exec/vector/complex/fn/VectorOutput.java |  34 +--
 .../java/org/apache/drill/TestFunctionsQuery.java  |  22 +-
 .../java/org/apache/drill/TestStarQueries.java     |   2 +-
 .../drill/exec/fn/impl/TestCastFunctions.java      |  27 +--
 .../drill/exec/fn/impl/TestDateAddFunctions.java   |  29 +--
 .../drill/exec/fn/impl/TestDateTruncFunctions.java | 139 ++++++------
 .../drill/exec/fn/impl/TestNewDateFunctions.java   |  10 +-
 .../exec/fn/interp/ExpressionInterpreterTest.java  |   8 +-
 .../exec/physical/impl/TestConvertFunctions.java   |  13 +-
 .../physical/impl/TestNestedDateTimeTimestamp.java | 234 +++++++++++++++++++++
 .../impl/limit/TestEarlyLimit0Optimization.java    |  16 +-
 .../writer/TestCorruptParquetDateCorrection.java   |  66 +++---
 .../physical/impl/writer/TestParquetWriter.java    |  32 +--
 .../planner/logical/TestCaseNullableTypes.java     |   5 +-
 .../drill/exec/store/avro/AvroFormatTest.java      |  75 ++++---
 .../exec/store/bson/TestBsonRecordReader.java      |   5 +-
 .../exec/store/parquet/TestParquetComplex.java     |  52 ++---
 .../store/parquet2/TestDrillParquetReader.java     |  51 ++---
 .../vector/complex/writer/TestExtendedTypes.java   |   2 +-
 .../java/org/apache/drill/test/TestBuilder.java    |  19 +-
 .../test/resources/baseline_nested_datetime.json   |  13 ++
 exec/java-exec/src/test/resources/datetime.parquet | Bin 0 -> 1217 bytes
 .../src/main/codegen/data/ValueVectorTypes.tdd     |   6 +-
 .../src/main/codegen/includes/vv_imports.ftl       |   8 +-
 .../codegen/templates/AbstractFieldReader.java     |   2 +-
 .../main/codegen/templates/FixedValueVectors.java  |  15 +-
 .../main/codegen/templates/HolderReaderImpl.java   |  12 ++
 .../src/main/codegen/templates/NullReader.java     |   2 +-
 .../src/main/codegen/templates/UnionReader.java    |   2 +-
 .../drill/exec/expr/fn/impl/DateUtility.java       | 107 ++++++++--
 .../drill/exec/util/JsonStringArrayList.java       |   1 +
 .../apache/drill/exec/util/JsonStringHashMap.java  |   1 +
 .../drill/exec/util/SerializationModule.java       |  75 +++++++
 47 files changed, 895 insertions(+), 437 deletions(-)

commit 16659ab30fd9fca5af39edd22aaab36409a50930
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu May 10 17:06:28 2018 +0300

    DRILL-6401: Precision for decimal data types may be lost for the case when cast with literal is used
    
    close apache/drill#1254

 .../apache/drill/exec/planner/logical/DrillOptiq.java    |  4 +++-
 .../drill/exec/store/parquet/ParquetFilterBuilder.java   |  4 +++-
 .../apache/drill/common/expression/ValueExpressions.java | 16 ++++++++++------
 3 files changed, 16 insertions(+), 8 deletions(-)

commit 11036c556f6445bcf1418b6512ba71b44a0a6031
Author: Kunal Khatua <kunal@apache.org>
Date:   Fri Apr 27 16:27:45 2018 -0700

    DRILL-6364: Handle Cluster Info in WebUI when existing/new bits restart
    
    As a follow up to DRILL-6289, the following improvements have been done:
    1. When loading the page for the first time, the WebUI enables the shutdown button without actually checking the state of the Drillbits.
       The ideal behaviour should be to disable the button till the state is verified. [Done]
       If a Drillbit is confirmed down (i.e. not in `/state` response), it is marked as OFFLINE and button is disabled.
    2. When shutting down the current Drillbit, the WebUI no more has access to the cluster state.
       The ideal behaviour here should be to fetch the state from any of the other Drillbits to update the status. [Done]
       With the current Drillbit down, the other bits are requested for cluster state info and update accordingly.
    3. When a new, previously unseen Drillbit comes up, the WebUI will never render it because the table is statically generated during the first page load.
       The idea behaviour should be to append to the table on discovery of a new node. [Done]
       The new Drillbit info is injected and a prompt appears to refresh the page to re-populate any missing info. This also works with feature (2) mentioned above.
    
    The only Java code change was to have the state response carry the address and http-port as a tuple, instead of the user-port (which is never used).
    
    Updates based on review
    
    1. Added descriptive comments to functions
    2. Handled possible race condition from multiple httpRequests for cluster state
    3. Eliminated unused stateKey variable
    4. Best practice of using local (let) instead of global (var) objects, and substituting currentRow variable instead of the jQuery search.
    
    Additional changes based on review
    
    1. Random selection of Drillbits to query for state when primary Drillbit is down (limited to 3; with a timeout of 3 sec)
    2. Indicate when an Offline Drillbit is de-registered, versus just Offline as per Zookeeper
    3. Hide shutdown column when Authentication is enabled, but the user is NOT an Admin.
       When the column is visible, remote bits are disabled because
    4. Metrics will be shown all the time (except HTTPS), because the information is available and a non-admin user would anyway not have actionable capabilities
    5. Basic clean up on unused variables
    
    Hide shutdown buttons for HTTPS scenarios
    
    Fixed check for 'https'
    
    Since, `location.protocol` returns a trailing ':' as well
    
    Handle metrics lookup on local Drillbit for HTTPS
    
    If the webpage is accessed via IP, the certificate is tied to the IP and not the FQDN, which is what is used for fetching the metrics.
    
    close apache/drill#1241

 .../apache/drill/exec/server/rest/DrillRoot.java   |   3 +-
 exec/java-exec/src/main/resources/rest/index.ftl   | 319 +++++++++++++++------
 2 files changed, 239 insertions(+), 83 deletions(-)

commit 76728e5ecd30418862f4bc1d32bc315042851eb1
Author: chunhui-shi <cshi@maprtech.com>
Date:   Fri Feb 2 10:03:38 2018 -0800

    DRILL-6321: Customize Drill's conformance. Allow support to APPLY keywords
    
    close apache/drill#1224
    
    Conflicts:
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/sql/SqlConverter.java
    
    Fix checkstyle

 .../drill/exec/planner/sql/DrillConformance.java   | 43 ++++++++++++++++++++
 .../drill/exec/planner/sql/DrillParserConfig.java  |  4 +-
 .../drill/exec/planner/sql/SqlConverter.java       | 34 ++++++++--------
 .../org/apache/drill/exec/sql/TestConformance.java | 46 ++++++++++++++++++++++
 4 files changed, 109 insertions(+), 18 deletions(-)

commit dc8d0107cb6a4a31e1beaa9c98d6e51cf7486a67
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Mar 15 14:27:55 2018 -0700

    DRILL-6249: Adding more unit testing documentation.
    
    close apache/drill#1251

 README.md                                          |   5 +-
 .../java/org/apache/drill/test/DirTestWatcher.java |  14 +-
 .../test/java/org/apache/drill/test/TestTools.java |   7 +-
 docs/dev/BaseTestQuery.md                          |   4 +
 docs/dev/ClusterTest.md                            |   4 +
 docs/dev/DevDocs.md                                |   6 +-
 docs/dev/GeneratedCode.md                          |  51 +++++++
 docs/dev/InstantiatingComponents.md                | 107 ++++++++++++++
 docs/dev/LicenseHeaders.md                         |  34 +++++
 docs/dev/PhysicalOpUnitTestBase.md                 |  31 ++++
 docs/dev/RowSetFramework.md                        | 112 +++++++++++++++
 docs/dev/TempDirectories.md                        |  17 +++
 docs/dev/TestDataSets.md                           | 159 +++++++++++++++++++++
 docs/dev/Testing.md                                | 134 +++++++++++++++--
 .../drill/exec/ops/ExchangeFragmentContext.java    |   3 +
 .../drill/exec/ops/ExecutorFragmentContext.java    |   4 +
 .../org/apache/drill/exec/ops/FragmentContext.java |  10 +-
 .../apache/drill/exec/ops/FragmentContextImpl.java |  28 +++-
 .../apache/drill/exec/ops/RootFragmentContext.java |   3 +
 .../org/apache/drill/exec/record/BatchSchema.java  |   4 +
 .../org/apache/drill/TestDynamicUDFSupport.java    |   2 +-
 .../exec/expr/fn/FunctionInitializerTest.java      |   2 +-
 .../physical/impl/window/GenerateTestData.java     |   4 +-
 .../store/dfs/TestSchemaNotFoundException.java     |   8 +-
 .../org/apache/drill/test/BaseDirTestWatcher.java  |  16 ++-
 .../java/org/apache/drill/test/BaseTestQuery.java  |   4 +
 .../java/org/apache/drill/test/ExampleTest.java    |  24 ++++
 .../apache/drill/test/rowSet/RowSetBuilder.java    |   7 +
 .../apache/drill/test/rowSet/RowSetUtilities.java  |   6 +
 .../drill/test/rowSet/file/JsonFileBuilder.java    |  26 ++++
 30 files changed, 794 insertions(+), 42 deletions(-)

commit 8a1a7c53fb211dcba6e7b2f2ce90c28af4b9c518
Author: Drill Dev <dev@drill.apache.org>
Date:   Tue May 8 13:57:37 2018 -0700

    DRILL-6386: Remove unused imports and star imports.

 .../src/main/java/org/apache/drill/common/types/Types.java   |  1 -
 .../org/apache/drill/exec/store/hbase/HBaseGroupScan.java    |  1 -
 .../test/Drill2130StorageHBaseHamcrestConfigurationTest.java |  2 --
 .../apache/drill/exec/planner/sql/HivePartitionLocation.java |  1 -
 .../planner/sql/logical/HivePushPartitionFilterIntoScan.java |  1 -
 .../drill/exec/store/hive/HiveAuthorizationHelper.java       |  1 -
 .../org/apache/drill/exec/store/hive/HiveStoragePlugin.java  |  2 --
 .../org/apache/drill/exec/store/hive/HiveTableWrapper.java   |  1 -
 .../java/org/apache/drill/exec/store/hive/HiveUtilities.java |  2 --
 .../hive/readers/initilializers/EmptyReadersInitializer.java |  2 --
 .../apache/drill/exec/store/hive/schema/DrillHiveTable.java  |  1 -
 .../org/apache/drill/exec/store/jdbc/JdbcStoragePlugin.java  |  2 --
 .../org/apache/drill/exec/store/kafka/KafkaRecordReader.java |  1 -
 .../drill/exec/store/mongo/schema/MongoDatabaseSchema.java   |  1 -
 .../drill/exec/store/mongo/schema/MongoSchemaFactory.java    |  1 -
 .../org/apache/drill/exec/store/mongo/MongoTestSuit.java     |  1 -
 .../apache/drill/exec/store/mongo/TestTableGenerator.java    |  1 -
 .../org/apache/drill/yarn/core/ContainerRequestSpec.java     |  1 -
 .../test/java/org/apache/drill/yarn/client/TestClient.java   |  7 ++-----
 .../src/test/java/org/apache/drill/yarn/core/TestConfig.java |  5 ++++-
 .../java/org/apache/drill/yarn/zk/TestAmRegistration.java    |  3 ++-
 .../test/java/org/apache/drill/yarn/zk/TestZkRegistry.java   |  5 ++++-
 .../org/apache/drill/exec/compile/AbstractClassCompiler.java |  2 --
 .../java/org/apache/drill/exec/compile/ClassTransformer.java |  1 -
 .../java/org/apache/drill/exec/compile/MergeAdapter.java     |  3 ---
 .../java/org/apache/drill/exec/coord/ClusterCoordinator.java |  1 -
 .../drill/exec/coord/local/LocalClusterCoordinator.java      |  1 -
 .../drill/exec/coord/store/CachingTransientStoreFactory.java |  1 -
 .../apache/drill/exec/coord/store/TransientStoreFactory.java |  2 --
 .../org/apache/drill/exec/coord/zk/ZkEphemeralStore.java     |  1 -
 .../apache/drill/exec/coord/zk/ZkTransientStoreFactory.java  |  1 -
 .../java/org/apache/drill/exec/dotdrill/DotDrillFile.java    |  1 -
 .../main/java/org/apache/drill/exec/expr/ClassGenerator.java |  1 -
 .../main/java/org/apache/drill/exec/expr/CodeGenerator.java  |  1 -
 .../main/java/org/apache/drill/exec/expr/DrillAggFunc.java   |  2 --
 .../java/org/apache/drill/exec/expr/DrillSimpleFunc.java     |  2 --
 .../org/apache/drill/exec/expr/fn/ExceptionFunction.java     |  2 --
 .../apache/drill/exec/expr/fn/impl/CharSequenceWrapper.java  |  1 -
 .../java/org/apache/drill/exec/expr/fn/impl/DrillHash.java   |  1 -
 .../drill/exec/expr/fn/impl/Hash64FunctionsWithSeed.java     |  6 ------
 .../org/apache/drill/exec/expr/fn/impl/MappifyUtility.java   |  4 ----
 .../org/apache/drill/exec/expr/fn/impl/MathFunctions.java    |  1 -
 .../exec/expr/fn/impl/conv/ConvertFromImpalaTimestamp.java   |  1 -
 .../apache/drill/exec/expr/fn/impl/conv/JsonConvertFrom.java |  1 -
 .../apache/drill/exec/expr/fn/impl/conv/JsonConvertTo.java   |  1 -
 .../exec/expr/fn/impl/conv/TimeStampEpochConvertFrom.java    |  1 -
 .../java/org/apache/drill/exec/ops/AccountingDataTunnel.java |  1 -
 .../java/org/apache/drill/exec/ops/FragmentContextImpl.java  |  1 -
 .../java/org/apache/drill/exec/ops/OperatorContextImpl.java  |  1 -
 .../java/org/apache/drill/exec/ops/ViewExpansionContext.java |  2 --
 .../apache/drill/exec/physical/base/AbstractMultiple.java    |  2 --
 .../apache/drill/exec/physical/base/PhysicalOperator.java    |  1 -
 .../org/apache/drill/exec/physical/base/SchemalessScan.java  |  1 -
 .../drill/exec/physical/config/AbstractMuxExchange.java      |  1 -
 .../org/apache/drill/exec/physical/config/FlattenPOP.java    |  3 ---
 .../drill/exec/physical/config/HashToRandomExchange.java     |  2 --
 .../drill/exec/physical/config/OrderedMuxExchange.java       |  1 -
 .../org/apache/drill/exec/physical/config/RangeSender.java   |  1 -
 .../org/apache/drill/exec/physical/config/SingleSender.java  |  2 --
 .../org/apache/drill/exec/physical/config/UnnestPOP.java     |  4 ----
 .../drill/exec/physical/config/UnorderedMuxExchange.java     |  3 ---
 .../exec/physical/impl/aggregate/HashAggBatchCreator.java    |  1 -
 .../physical/impl/aggregate/StreamingAggBatchCreator.java    |  1 -
 .../exec/physical/impl/svremover/RemovingRecordBatch.java    |  1 -
 .../drill/exec/physical/impl/unnest/UnnestBatchCreator.java  |  3 ---
 .../drill/exec/physical/impl/unnest/UnnestRecordBatch.java   |  9 ---------
 .../exec/physical/impl/xsort/managed/SorterWrapper.java      |  1 -
 .../apache/drill/exec/physical/rowSet/ResultSetLoader.java   |  1 -
 .../drill/exec/physical/rowSet/impl/OptionBuilder.java       |  1 -
 .../drill/exec/physical/rowSet/model/BaseTupleModel.java     |  1 -
 .../apache/drill/exec/physical/rowSet/model/TupleModel.java  |  5 -----
 .../org/apache/drill/exec/planner/PartitionDescriptor.java   |  1 -
 .../drill/exec/planner/cost/DrillRelMdDistinctRowCount.java  |  1 -
 .../apache/drill/exec/planner/logical/DrillFilterRel.java    |  3 ---
 .../drill/exec/planner/logical/DrillMergeFilterRule.java     |  1 -
 .../exec/planner/logical/DrillReduceAggregatesRule.java      |  1 -
 .../apache/drill/exec/planner/logical/DrillRelFactories.java |  1 -
 .../apache/drill/exec/planner/logical/DrillUnionAllRule.java |  1 -
 .../apache/drill/exec/planner/logical/DrillWriterRel.java    |  4 ----
 .../drill/exec/planner/logical/EnumerableDrillRule.java      |  1 -
 .../logical/partition/RewriteCombineBinaryOperators.java     |  1 -
 .../org/apache/drill/exec/planner/physical/AggPrelBase.java  |  1 -
 .../org/apache/drill/exec/planner/physical/FilterPrel.java   |  1 -
 .../org/apache/drill/exec/planner/physical/FlattenPrel.java  |  3 ---
 .../exec/planner/physical/visitor/FinalColumnReorderer.java  |  1 -
 .../apache/drill/exec/planner/sql/DrillConvertletTable.java  |  4 ----
 .../org/apache/drill/exec/planner/sql/DrillSqlOperator.java  |  2 --
 .../org/apache/drill/exec/planner/sql/DrillSqlWorker.java    |  1 -
 .../java/org/apache/drill/exec/planner/sql/SqlConverter.java |  1 -
 .../drill/exec/planner/sql/handlers/AbstractSqlHandler.java  |  5 -----
 .../drill/exec/planner/sql/handlers/SetOptionHandler.java    |  2 --
 .../drill/exec/planner/sql/handlers/ShowSchemasHandler.java  |  5 ++++-
 .../drill/exec/planner/sql/handlers/UseSchemaHandler.java    |  2 --
 .../exec/planner/sql/parser/DrillCalciteWrapperUtility.java  |  3 ---
 .../apache/drill/exec/planner/sql/parser/DrillSqlCall.java   |  4 ----
 .../apache/drill/exec/planner/sql/parser/SqlDropTable.java   |  1 -
 .../apache/drill/exec/planner/sql/parser/SqlShowFiles.java   |  4 ----
 .../apache/drill/exec/planner/sql/parser/SqlShowSchemas.java |  4 ----
 .../org/apache/drill/exec/rpc/control/ControlClient.java     |  1 -
 .../java/org/apache/drill/exec/rpc/control/WorkEventBus.java |  4 ----
 .../main/java/org/apache/drill/exec/rpc/data/DataClient.java |  1 -
 .../org/apache/drill/exec/rpc/security/AuthStringUtil.java   |  1 -
 .../drill/exec/rpc/security/ClientAuthenticatorProvider.java |  1 -
 .../main/java/org/apache/drill/exec/rpc/user/UserServer.java |  1 -
 .../drill/exec/rpc/user/security/Pam4jUserAuthenticator.java |  1 -
 .../drill/exec/rpc/user/security/PamUserAuthenticator.java   |  1 -
 .../src/main/java/org/apache/drill/exec/schema/Field.java    |  3 ---
 .../drill/exec/server/options/FragmentOptionManager.java     |  1 -
 .../org/apache/drill/exec/server/options/OptionManager.java  |  2 --
 .../apache/drill/exec/server/options/OptionValidator.java    |  1 -
 .../org/apache/drill/exec/server/options/OptionValue.java    |  1 -
 .../drill/exec/server/options/SystemOptionManager.java       |  1 -
 .../java/org/apache/drill/exec/server/rest/WebServer.java    |  2 --
 .../java/org/apache/drill/exec/service/ServiceEngine.java    |  1 -
 .../java/org/apache/drill/exec/store/AbstractSchema.java     |  1 -
 .../java/org/apache/drill/exec/store/ColumnExplorer.java     |  1 -
 .../org/apache/drill/exec/store/LocalSyncableFileSystem.java |  1 -
 .../main/java/org/apache/drill/exec/store/RecordReader.java  |  1 -
 .../org/apache/drill/exec/store/avro/AvroRecordReader.java   |  1 -
 .../apache/drill/exec/store/dfs/FileSystemSchemaFactory.java |  2 --
 .../org/apache/drill/exec/store/easy/json/JsonProcessor.java |  1 -
 .../drill/exec/store/easy/text/compliant/TextInput.java      |  1 -
 .../exec/store/easy/text/compliant/TextParsingContext.java   |  2 --
 .../exec/store/easy/text/compliant/TextParsingSettings.java  |  1 -
 .../drill/exec/store/easy/text/compliant/TextReader.java     |  1 -
 .../drill/exec/store/ischema/InfoSchemaFilterBuilder.java    |  7 ++++++-
 .../drill/exec/store/ischema/InfoSchemaStoragePlugin.java    |  2 +-
 .../drill/exec/store/mock/ExtendedMockRecordReader.java      |  1 -
 .../apache/drill/exec/store/parquet/ParquetGroupScan.java    |  1 -
 .../drill/exec/store/parquet/ParquetReaderUtility.java       |  1 -
 .../store/parquet/columnreaders/ColumnReaderFactory.java     |  1 -
 .../apache/drill/exec/store/parquet2/DrillParquetReader.java |  1 -
 .../apache/drill/exec/store/schedule/BlockMapBuilder.java    |  1 -
 .../drill/exec/store/sys/store/LocalPersistentStore.java     |  2 --
 .../java/org/apache/drill/exec/testing/ControlsInjector.java |  1 -
 .../apache/drill/exec/testing/ExecutionControlsInjector.java |  1 -
 .../org/apache/drill/exec/testing/NoOpControlsInjector.java  |  1 -
 .../main/java/org/apache/drill/exec/util/ByteBufUtil.java    |  2 --
 .../drill/exec/vector/accessor/AbstractSqlAccessor.java      |  2 --
 .../drill/exec/vector/accessor/InvalidAccessException.java   |  1 -
 .../apache/drill/exec/vector/accessor/UnionSqlAccessor.java  |  6 ------
 .../apache/drill/exec/vector/complex/fn/BasicJsonOutput.java |  1 -
 .../drill/exec/vector/complex/fn/ExtendedJsonOutput.java     |  2 --
 .../org/apache/drill/exec/vector/complex/fn/JsonReader.java  |  3 ---
 .../org/apache/drill/exec/vector/complex/fn/JsonWriter.java  |  2 --
 .../main/java/org/apache/drill/exec/work/WorkManager.java    |  1 -
 .../apache/drill/exec/work/batch/ResponseSenderQueue.java    |  2 --
 .../exec/work/foreman/UnsupportedDataTypeException.java      |  2 --
 .../drill/exec/work/foreman/rm/DefaultResourceManager.java   |  1 -
 .../drill/exec/work/foreman/rm/ThrottledResourceManager.java |  1 -
 .../drill/exec/work/prepare/PreparedStatementProvider.java   |  1 -
 .../parquet/hadoop/ParquetColumnChunkPageWriteStore.java     |  2 --
 .../java/org/apache/drill/TestPlanVerificationUtilities.java |  1 -
 .../src/test/java/org/apache/drill/TestSelectivity.java      |  2 --
 .../java/org/apache/drill/TestTpchDistributedConcurrent.java |  1 -
 .../test/java/org/apache/drill/exec/TestWithZookeeper.java   |  3 ---
 .../org/apache/drill/exec/fn/interp/TestConstantFolding.java |  2 --
 .../apache/drill/exec/physical/impl/TestLocalExchange.java   |  3 ---
 .../apache/drill/exec/physical/impl/TopN/TopNBatchTest.java  |  1 -
 .../exec/physical/impl/limit/TestLimitWithExchanges.java     |  1 -
 .../exec/physical/impl/unnest/TestUnnestCorrectness.java     |  1 -
 .../impl/unnest/TestUnnestWithLateralCorrectness.java        |  1 -
 .../exec/physical/impl/validate/TestValidationOptions.java   |  1 -
 .../impl/xsort/managed/TestExternalSortInternals.java        |  1 -
 .../physical/impl/xsort/managed/TestLenientAllocation.java   |  4 +++-
 .../drill/exec/physical/impl/xsort/managed/TestSortImpl.java |  1 -
 .../exec/physical/rowSet/impl/TestResultSetLoaderLimits.java |  4 +++-
 .../apache/drill/exec/planner/logical/FilterSplitTest.java   |  3 ++-
 .../org/apache/drill/exec/record/TestVectorContainer.java    |  3 +--
 .../org/apache/drill/exec/rpc/data/TestBitBitKerberos.java   |  1 -
 .../drill/exec/rpc/user/security/TestUserBitKerberos.java    |  1 -
 .../rpc/user/security/TestUserBitKerberosEncryption.java     |  1 -
 .../rpc/user/security/testing/UserAuthenticatorTestImpl.java |  1 -
 .../org/apache/drill/exec/server/TestDrillbitResilience.java |  1 -
 .../org/apache/drill/exec/server/TestOptionsAuthEnabled.java |  5 ++++-
 .../server/rest/spnego/TestDrillSpnegoAuthenticator.java     |  2 --
 .../org/apache/drill/exec/store/text/TestTextColumn.java     |  2 +-
 .../drill/exec/testing/TestCountDownLatchInjection.java      |  1 -
 .../org/apache/drill/exec/testing/TestPauseInjection.java    |  1 -
 .../org/apache/drill/exec/util/MiniZooKeeperCluster.java     |  5 -----
 .../org/apache/drill/exec/util/TestQueryMemoryAlloc.java     |  2 +-
 .../drill/exec/vector/complex/writer/TestComplexToJson.java  |  1 -
 .../drill/exec/vector/complex/writer/TestJsonNanInf.java     |  5 +++--
 .../src/test/java/org/apache/drill/test/BaseTestQuery.java   |  4 ----
 .../src/test/java/org/apache/drill/test/ClientFixture.java   |  1 -
 .../src/test/java/org/apache/drill/test/ClusterFixture.java  |  1 -
 .../src/test/java/org/apache/drill/test/ExampleTest.java     |  3 ++-
 .../src/test/java/org/apache/drill/test/QueryBuilder.java    |  1 -
 .../src/test/java/org/apache/drill/test/rowSet/RowSet.java   |  2 --
 .../java/org/apache/drill/test/rowSet/test/RowSetTest.java   |  1 -
 .../apache/drill/test/rowSet/test/TestIndirectReaders.java   |  5 +++--
 .../apache/drill/test/rowSet/test/TestScalarAccessors.java   |  5 ++++-
 .../test/java/org/apache/drill/vector/TestToNullable.java    |  4 +++-
 .../src/test/java/org/apache/drill/jdbc/ITTestShadedJar.java |  1 -
 .../org/apache/drill/jdbc/AlreadyClosedSqlException.java     |  3 ---
 .../java/org/apache/drill/jdbc/DrillDatabaseMetaData.java    |  1 -
 .../java/org/apache/drill/jdbc/DrillPreparedStatement.java   |  2 --
 .../org/apache/drill/jdbc/ExecutionCanceledSqlException.java |  2 --
 .../apache/drill/jdbc/InvalidCursorStateSqlException.java    |  3 ---
 .../main/java/org/apache/drill/jdbc/JdbcApiSqlException.java |  7 -------
 .../java/org/apache/drill/jdbc/impl/DrillAccessorList.java   |  1 -
 .../java/org/apache/drill/jdbc/impl/DrillConnectionImpl.java |  1 -
 .../main/java/org/apache/drill/jdbc/impl/DrillCursor.java    |  2 --
 .../apache/drill/jdbc/impl/DrillDatabaseMetaDataImpl.java    |  1 -
 .../java/org/apache/drill/jdbc/impl/DrillResultSetImpl.java  |  2 --
 .../java/org/apache/drill/jdbc/impl/DrillStatementImpl.java  |  2 --
 .../apache/drill/jdbc/impl/TypeConvertingSqlAccessor.java    |  1 -
 .../java/org/apache/drill/jdbc/proxy/TracingProxyDriver.java |  4 ----
 .../src/test/java/org/apache/drill/jdbc/ConnectionTest.java  |  4 +++-
 .../apache/drill/jdbc/ConnectionTransactionMethodsTest.java  |  9 +++++++--
 .../apache/drill/jdbc/ResultSetGetMethodConversionsTest.java |  2 +-
 .../src/test/java/org/apache/drill/jdbc/StatementTest.java   |  8 ++------
 .../drill/jdbc/impl/TypeConvertingSqlAccessorTest.java       |  5 ++++-
 .../drill/jdbc/proxy/TracingProxyDriverClassLoadingTest.java |  4 +++-
 .../org/apache/drill/jdbc/proxy/TracingProxyDriverTest.java  |  8 +++++++-
 .../Drill2128GetColumnsDataTypeNotTypeCodeIntBugsTest.java   |  3 ++-
 .../jdbc/test/Drill2288GetColumnsMetadataWhenNoRowsTest.java |  6 +++---
 .../test/Drill2439GetBooleanFailsSayingWrongTypeBugTest.java |  3 +--
 .../test/Drill2463GetNullsFailedWithAssertionsBugTest.java   |  4 ++--
 .../test/Drill2489CallsAfterCloseThrowExceptionsTest.java    | 12 ++++++------
 .../drill/jdbc/test/TestExecutionExceptionsToClient.java     |  6 +++++-
 .../java/org/apache/drill/exec/memory/BufferAllocator.java   |  1 -
 .../org/apache/drill/exec/rpc/BaseRpcOutcomeListener.java    |  2 --
 .../apache/drill/exec/expr/holders/RepeatedMapHolder.java    |  3 ---
 .../main/java/org/apache/drill/exec/vector/ZeroVector.java   |  1 -
 .../drill/exec/vector/complex/impl/UnionListReader.java      |  2 --
 .../src/main/java/org/apache/drill/common/JSONOptions.java   |  1 -
 .../java/org/apache/drill/common/logical/LogicalPlan.java    |  1 -
 .../apache/drill/common/logical/data/AbstractBuilder.java    |  5 -----
 .../java/org/apache/drill/common/logical/data/Union.java     |  1 -
 .../java/org/apache/drill/common/logical/data/Window.java    |  2 --
 .../java/org/apache/drill/common/logical/data/OrderTest.java |  6 ++----
 232 files changed, 101 insertions(+), 396 deletions(-)

commit 9e8f31fb6adb4cc979c659214332ef37870d4ce0
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue May 8 13:55:40 2018 -0700

    DRILL-6386: Disallow unused imports and star imports.

 src/main/resources/checkstyle-config.xml | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit c6c5d27d91468a29656bee2acba55d3321978aab
Author: Kunal Khatua <kunal@apache.org>
Date:   Mon Apr 23 10:31:21 2018 -0700

    DRILL-143: CGroup Support for Drill-on-YARN
    
    Initial patch
    1. Minor fix up
    2. Updated variable name for pid file
    Revert changes to yarn-drillbit.sh
    Based on discussion for PR #1239 (Ref: https://github.com/apache/drill/pull/1239)
    
    closes #1239

 distribution/src/resources/drillbit.sh | 30 +++++++++++++++---------------
 1 file changed, 15 insertions(+), 15 deletions(-)

commit e0727a20009ea956ef54b338c2310a76cc35e45b
Author: Paul Rogers <progers@cloudera.com>
Date:   Sat Apr 28 23:04:26 2018 -0700

    DRILL-6361: Revised typeOf() function versions
    
    Added more unit tests.
    
    Updated to handle VARDECIMAL
    The VARDECIMAL type was recently added to Drill. Added support for this type. The sqlTypeOf() function now returns DECIMAL(p, s) for precision p, scale s.
    
    closes #1242

 .../java/org/apache/drill/common/types/Types.java  |  49 ++++-
 .../drill/exec/expr/fn/impl/UnionFunctions.java    | 128 +++++++++++--
 .../drill/exec/expr/fn/impl/TestTypeFns.java       | 197 +++++++++++++++++++++
 .../src/test/resources/functions/null.json         |   1 +
 4 files changed, 357 insertions(+), 18 deletions(-)

commit 6cbba282d17d1670da5dd8788d1318a77abc0bf7
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Wed May 2 01:21:10 2018 -0700

    DRILL-6380: Fix sporadic mongo db hangs.
    
    closes #1249

 .../org/apache/drill/exec/store/mongo/MongoTestSuit.java     | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit d0a7545c854e5ef99ed45edd1fe3520aa6dcaa74
Author: Vlad Rozov <vrozov@apache.org>
Date:   Mon Apr 30 07:11:20 2018 -0700

    DRILL-6281: Introduce Collectors class for internal iterators
    
    closes #1238

 .../drill/common/collections/Collectors.java       | 123 +++++++++++++++++++++
 .../org/apache/drill/exec/store/TimedCallable.java |   9 +-
 .../exec/store/parquet/metadata/Metadata.java      |  17 ++-
 3 files changed, 132 insertions(+), 17 deletions(-)

commit ac96381e455a6127b7abad2cf19508f160b136cd
Author: Vlad Rozov <vrozov@apache.org>
Date:   Sat Apr 21 08:07:42 2018 -0700

    DRILL-6281: Refactor TimedRunnable

 .../org/apache/drill/exec/store/TimedCallable.java | 334 ++++++++++++---------
 .../drill/exec/store/parquet/FooterGatherer.java   |  14 +-
 .../exec/store/parquet/metadata/Metadata.java      |  12 +-
 .../drill/exec/store/schedule/BlockMapBuilder.java |  17 +-
 .../apache/drill/exec/store/TestTimedCallable.java |  45 ++-
 5 files changed, 239 insertions(+), 183 deletions(-)

commit b913b3f47249957b2292864a970847f137090f7a
Author: Vlad Rozov <vrozov@apache.org>
Date:   Fri Apr 20 18:00:20 2018 -0700

    DRILL-6281: Refactor TimedRunnable (rename TimedRunnable to TimedCallable)

 .../store/{TimedRunnable.java => TimedCallable.java} |  8 ++++----
 .../drill/exec/store/parquet/FooterGatherer.java     |  8 ++++----
 .../drill/exec/store/parquet/metadata/Metadata.java  |  8 ++++----
 .../drill/exec/store/schedule/BlockMapBuilder.java   |  8 ++++----
 ...TestTimedRunnable.java => TestTimedCallable.java} | 20 ++++++++++----------
 5 files changed, 26 insertions(+), 26 deletions(-)

commit 21733b01a4275b508d65768a578070f633548095
Author: Kui LIU <brucekuiliu@gmail.com>
Date:   Mon Apr 30 08:43:00 2018 +0200

    DRILL-6347: Change method names to "visitField".
    
    Further change the method names to "visitField" with Vlad Rozov's comments.
    
    closes #1236

 .../planner/physical/visitor/PrelVisualizerVisitor.java  | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit ba5a9215aeb891be938ba9997da8360f19699dc5
Author: Oleg <ozinoviev@solit-clouds.ru>
Date:   Tue Apr 10 11:26:25 2018 +0300

    DRILL-6318: Push down limit past flatten is incorrect
    
    closes #1204

 .../exec/planner/logical/DrillPushLimitToScanRule.java      | 13 ++++---------
 .../src/test/java/org/apache/drill/TestBugFixes.java        | 13 +++++++++++++
 .../exec/physical/impl/flatten/TestFlattenPlanning.java     |  5 +++--
 exec/java-exec/src/test/resources/jsoninput/bug6318.json    | 12 ++++++++++++
 4 files changed, 32 insertions(+), 11 deletions(-)

commit 4c4953bcab4886be14fc9b7f95a77caa86a7629f
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Apr 5 15:35:42 2018 +0300

    DRILL-6094: Decimal data type enhancements
    
    Add ExprVisitors for VARDECIMAL
    Modify writers/readers to support VARDECIMAL
    - Added usage of VarDecimal for parquet, hive, maprdb, jdbc;
    - Added options to store decimals as int32 and int64 or fixed_len_byte_array or binary;
    Add UDFs for VARDECIMAL data type
    - modify type inference rules
    - remove UDFs for obsolete DECIMAL types
    Enable DECIMAL data type by default
    Add unit tests for DECIMAL data type
    Fix mapping for NLJ when literal with non-primitive type is used in join conditions
    Refresh protobuf C++ source files
    Changes in C++ files
    Add support for decimal logical type in Avro.
    Add support for date, time and timestamp logical types.
    Update Avro version to 1.8.2.

 .../java/org/apache/drill/common/types/Types.java  |    7 +-
 .../drill/common/util/CoreDecimalUtility.java      |   47 +-
 .../util/DecimalScalePrecisionDivideFunction.java  |   62 -
 .../mapr/db/json/CompareFunctionsProcessor.java    |   11 +-
 .../store/mapr/db/json/MaprDBJsonRecordReader.java |   11 +-
 .../native/client/src/clientlib/decimalUtils.cpp   |   15 +
 contrib/native/client/src/clientlib/fieldmeta.cpp  |    3 +
 contrib/native/client/src/clientlib/metadata.cpp   |   51 +
 .../native/client/src/clientlib/recordBatch.cpp    |    4 +
 .../client/src/include/drill/decimalUtils.hpp      |    1 +
 .../client/src/include/drill/protobuf/Types.pb.h   |    5 +-
 .../client/src/include/drill/recordBatch.hpp       |   55 +-
 contrib/native/client/src/protobuf/Types.pb.cc     |   11 +-
 .../core/src/main/codegen/data/HiveTypes.tdd       |    2 +-
 .../main/codegen/templates/ObjectInspectors.java   |   44 +-
 .../drill/exec/expr/fn/HiveFunctionRegistry.java   |    5 +-
 .../drill/exec/store/hive/HiveFieldConverter.java  |  112 +-
 .../drill/exec/store/hive/HiveUtilities.java       |   14 +-
 .../store/hive/readers/HiveAbstractReader.java     |    2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml       |    4 +
 .../drill/exec/store/jdbc/JdbcRecordReader.java    |   84 +-
 .../store/mongo/MongoCompareFunctionProcessor.java |   13 +-
 exec/java-exec/pom.xml                             |   49 +-
 exec/java-exec/src/main/codegen/config.fmpp        |    1 +
 exec/java-exec/src/main/codegen/data/Casts.tdd     |  138 +-
 .../main/codegen/data/ComparisonTypesDecimal.tdd   |    4 +-
 .../src/main/codegen/data/CountAggrTypes.tdd       |    2 +
 .../src/main/codegen/data/DecimalAggrTypes1.tdd    |   49 +-
 .../src/main/codegen/data/DecimalAggrTypes2.tdd    |   12 +-
 .../src/main/codegen/data/DecimalAggrTypes3.tdd    |   43 +
 exec/java-exec/src/main/codegen/data/MathFunc.tdd  |   24 +-
 .../src/main/codegen/data/NumericTypes.tdd         |    3 +-
 .../src/main/codegen/templates/CastHigh.java       |   18 +-
 .../ToTimeStampFunction.java                       |   48 +-
 .../Decimal/CastDecimalDenseDecimalSparse.java     |  170 --
 .../templates/Decimal/CastDecimalFloat.java        |   69 +-
 .../codegen/templates/Decimal/CastDecimalInt.java  |   88 +-
 .../Decimal/CastDecimalSparseDecimalDense.java     |  185 --
 ...eVarDecimal.java => CastDecimalVarDecimal.java} |   59 +-
 .../templates/Decimal/CastDecimalVarchar.java      |  203 +-
 .../templates/Decimal/CastDownwardDecimal.java     |  209 --
 .../templates/Decimal/CastFloatDecimal.java        |   87 +-
 .../codegen/templates/Decimal/CastIntDecimal.java  |  100 +-
 .../templates/Decimal/CastSrcDecimalSimple.java    |  294 ---
 .../templates/Decimal/CastVarCharDecimal.java      |  513 +---
 ...imalSimilar.java => CastVarDecimalDecimal.java} |   89 +-
 .../Decimal/DecimalAggrTypeFunctions1.java         |  356 ++-
 .../Decimal/DecimalAggrTypeFunctions2.java         |   42 +-
 .../Decimal/DecimalAggrTypeFunctions3.java         |  184 ++
 .../templates/Decimal/DecimalFunctions.java        | 2534 +++-----------------
 .../src/main/codegen/templates/MathFunctions.java  |   10 -
 .../codegen/templates/NumericToCharFunctions.java  |   65 +-
 .../templates/ParquetOutputRecordWriter.java       |   44 +-
 .../main/codegen/templates/ParquetTypeHelper.java  |   29 +-
 .../src/main/codegen/templates/SqlAccessors.java   |   31 +-
 .../codegen/templates/VarCharAggrFunctions1.java   |    7 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   10 +
 .../compile/bytecode/ScalarReplacementTypes.java   |    4 +
 .../compile/sig/ConstantExpressionIdentifier.java  |    6 +
 .../org/apache/drill/exec/expr/CloneVisitor.java   |    6 +
 .../apache/drill/exec/expr/EqualityVisitor.java    |   17 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   48 +-
 .../exec/expr/ExpressionTreeMaterializer.java      |   62 +-
 .../apache/drill/exec/expr/GetSetVectorHelper.java |   32 +-
 .../org/apache/drill/exec/expr/HashVisitor.java    |   11 +-
 .../exec/expr/annotations/FunctionTemplate.java    |   10 +-
 .../drill/exec/expr/fn/impl/Hash32AsDouble.java    |  161 +-
 .../drill/exec/expr/fn/impl/Hash32Functions.java   |  175 +-
 .../exec/expr/fn/impl/Hash32FunctionsWithSeed.java |  153 +-
 .../exec/expr/fn/impl/Hash32WithSeedAsDouble.java  |  178 +-
 .../drill/exec/expr/fn/impl/Hash64AsDouble.java    |  189 +-
 .../drill/exec/expr/fn/impl/Hash64Functions.java   |  163 +-
 .../exec/expr/fn/impl/Hash64FunctionsWithSeed.java |  139 +-
 .../exec/expr/fn/impl/Hash64WithSeedAsDouble.java  |  159 +-
 .../expr/fn/interpreter/InterpreterEvaluator.java  |    7 +
 .../expr/fn/output/DecimalReturnTypeInference.java |  113 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |    4 +-
 .../drill/exec/physical/impl/join/JoinUtils.java   |   13 +-
 .../physical/impl/join/NestedLoopJoinBatch.java    |    7 +-
 .../exec/planner/ParquetPartitionDescriptor.java   |   26 +-
 .../exec/planner/common/DrillValuesRelBase.java    |    4 +-
 .../exec/planner/logical/DrillAggregateRel.java    |   20 +-
 .../exec/planner/logical/DrillConstExecutor.java   |   32 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |   52 +-
 .../planner/logical/DrillReduceAggregatesRule.java |   18 +-
 .../drill/exec/planner/sql/SqlConverter.java       |   14 +
 .../drill/exec/planner/sql/TypeInferenceUtils.java |  208 +-
 .../planner/sql/handlers/FindLimit0Visitor.java    |   11 +-
 .../exec/planner/types/DrillRelDataTypeSystem.java |    1 -
 .../decimal}/DecimalScalePrecisionAddFunction.java |    8 +-
 .../DecimalScalePrecisionDivideFunction.java       |   38 +
 .../decimal}/DecimalScalePrecisionModFunction.java |    5 +-
 .../decimal}/DecimalScalePrecisionMulFunction.java |   11 +-
 .../decimal}/DrillBaseComputeScalePrecision.java   |   17 +-
 .../apache/drill/exec/record/VectorContainer.java  |    3 +-
 .../drill/exec/resolver/ExactFunctionResolver.java |   17 +-
 .../exec/resolver/ResolverTypePrecedence.java      |   38 +-
 .../apache/drill/exec/resolver/TypeCastRules.java  |  187 +-
 .../exec/server/options/SystemOptionManager.java   |    2 +
 .../drill/exec/store/avro/AvroDrillTable.java      |   48 +-
 .../drill/exec/store/avro/AvroRecordReader.java    |   82 +-
 .../apache/drill/exec/store/mock/ColumnDef.java    |    2 +
 .../exec/store/parquet/ParquetFilterBuilder.java   |   13 +
 .../exec/store/parquet/ParquetFormatPlugin.java    |    6 +
 .../exec/store/parquet/ParquetReaderUtility.java   |    2 +-
 .../exec/store/parquet/ParquetRecordWriter.java    |   39 +-
 .../parquet/columnreaders/ColumnReaderFactory.java |   80 +-
 .../columnreaders/FixedByteAlignedReader.java      |   50 +-
 .../NullableFixedByteAlignedReaders.java           |  130 +-
 .../ParquetFixedWidthDictionaryReaders.java        |   97 +-
 .../columnreaders/ParquetToDrillTypeConverter.java |   21 +-
 .../columnreaders/VarLengthColumnReaders.java      |  141 --
 .../decimal/BinaryDecimalParquetValueWriter.java   |   34 +
 .../store/parquet/decimal/DecimalValueWriter.java  |   61 +
 .../decimal/FixedLenDecimalParquetValueWriter.java |   50 +
 .../decimal/Int32DecimalParquetValueWriter.java    |   51 +
 .../decimal/Int64DecimalParquetValueWriter.java    |   50 +
 .../store/parquet2/DrillParquetGroupConverter.java |  186 +-
 .../apache/drill/exec/store/pojo/PojoDataType.java |    5 +-
 .../apache/drill/exec/store/pojo/PojoWriters.java  |   22 +
 .../drill/exec/vector/complex/MapUtility.java      |    7 +-
 .../apache/drill/exec/work/ExecErrorConstants.java |    3 +-
 .../work/prepare/PreparedStatementProvider.java    |    1 +
 .../java-exec/src/main/resources/drill-module.conf |    4 +-
 .../test/java/org/apache/drill/PlanningBase.java   |   19 +
 .../apache/drill/TestDisabledFunctionality.java    |   19 +-
 .../java/org/apache/drill/TestFrameworkTest.java   |    2 +-
 .../java/org/apache/drill/TestFunctionsQuery.java  |   87 +-
 .../org/apache/drill/exec/TestEmptyInputSql.java   |   58 +-
 .../org/apache/drill/exec/TestWindowFunctions.java |   18 +-
 .../drill/exec/cache/TestBatchSerialization.java   |    1 +
 .../drill/exec/fn/impl/TestAggregateFunctions.java |  245 +-
 .../drill/exec/fn/impl/TestCastFunctions.java      |  158 +-
 .../exec/fn/impl/TestVarDecimalFunctions.java      |  743 ++++++
 .../drill/exec/physical/impl/TestDecimal.java      |   26 +-
 .../physical/impl/join/TestNestedLoopJoin.java     |   26 +
 .../physical/impl/writer/TestParquetWriter.java    |  326 ++-
 .../physical/impl/xsort/managed/TestCopier.java    |    5 +-
 .../physical/impl/xsort/managed/TestSorter.java    |    9 +-
 .../planner/logical/TestCaseNullableTypes.java     |   18 +
 .../drill/exec/store/avro/AvroFormatTest.java      |   72 +
 .../apache/drill/exec/store/avro/AvroTestUtil.java |   26 +
 .../exec/store/parquet/TestFixedlenDecimal.java    |   25 +-
 .../exec/store/parquet/TestParquetComplex.java     |   41 +-
 .../exec/store/parquet/TestVarlenDecimal.java      |  105 +-
 .../columnreaders/TestColumnReaderFactory.java     |   10 +-
 .../drill/test/rowSet/test/TestFillEmpties.java    |    1 +
 .../test/resources/decimal/cast_decimal_float.json |    4 +-
 .../test/resources/decimal/cast_decimal_int.json   |    4 +-
 .../resources/decimal/cast_decimal_vardecimal.json |   56 +
 .../test/resources/decimal/cast_float_decimal.json |    4 +-
 .../test/resources/decimal/cast_int_decimal.json   |    8 +-
 .../resources/decimal/cast_simple_decimal.json     |    4 +-
 .../resources/decimal/cast_vardecimal_decimal.json |   47 +
 .../decimal/simple_decimal_arithmetic.json         |    4 +-
 .../resources/decimal/simple_decimal_math.json     |    2 +-
 .../resources/decimal/test_decimal_complex.json    |    4 +-
 .../decimal/test_decimal_sort_complex.json         |    2 +-
 .../repeatedIntLondFixedLenBinaryDecimal.parquet   |  Bin 0 -> 863 bytes
 .../org/apache/drill/jdbc/impl/DrillMetaImpl.java  |    2 +
 .../drill/jdbc/impl/TypeConvertingSqlAccessor.java |   46 +-
 .../jdbc/ResultSetGetMethodConversionsTest.java    |    9 +-
 .../src/main/codegen/data/ValueVectorTypes.tdd     |    4 +-
 .../codegen/templates/AbstractFieldReader.java     |   46 +-
 .../codegen/templates/AbstractFieldWriter.java     |   15 +-
 .../templates/AbstractPromotableFieldWriter.java   |   24 +-
 .../src/main/codegen/templates/BaseWriter.java     |    6 +-
 .../main/codegen/templates/BasicTypeHelper.java    |   39 +-
 .../main/codegen/templates/ColumnAccessors.java    |   38 +-
 .../src/main/codegen/templates/ComplexCopier.java  |   12 +-
 .../src/main/codegen/templates/ComplexReaders.java |   66 +-
 .../src/main/codegen/templates/ComplexWriters.java |   42 +-
 .../main/codegen/templates/HolderReaderImpl.java   |   13 +-
 .../src/main/codegen/templates/ListWriters.java    |   18 +-
 .../src/main/codegen/templates/MapWriters.java     |    4 +-
 .../src/main/codegen/templates/NullReader.java     |   48 +-
 .../codegen/templates/NullableValueVectors.java    |   16 +-
 .../codegen/templates/RepeatedValueVectors.java    |   18 +-
 .../main/codegen/templates/UnionListWriter.java    |   12 +
 .../src/main/codegen/templates/UnionWriter.java    |   16 +-
 .../src/main/codegen/templates/ValueHolders.java   |  141 +-
 .../codegen/templates/VariableLengthVectors.java   |   22 +-
 .../org/apache/drill/exec/util/DecimalUtility.java |  204 +-
 .../drill/exec/vector/ValueHolderHelper.java       |   19 +
 .../vector/complex/impl/MapOrListWriterImpl.java   |    5 +
 .../drill/common/expression/parser/ExprLexer.g     |    2 +-
 .../common/expression/ExpressionStringBuilder.java |    9 +-
 .../drill/common/expression/ValueExpressions.java  |   43 +-
 .../expression/visitors/AbstractExprVisitor.java   |    6 +
 .../expression/visitors/AggregateChecker.java      |    6 +
 .../expression/visitors/ConstantChecker.java       |   10 +-
 .../common/expression/visitors/ExprVisitor.java    |    2 +
 .../expression/visitors/ExpressionValidator.java   |    6 +
 .../expression/visitors/SimpleExprVisitor.java     |    7 +
 pom.xml                                            |   39 +
 .../org/apache/drill/common/types/MinorType.java   |    4 +-
 196 files changed, 5453 insertions(+), 7631 deletions(-)

commit 79e27eadb86dfaa0e2d8bc514f3069bf02dc2762
Author: Dave Oshinsky <daveoshinsky@yahoo.com>
Date:   Tue Feb 9 17:37:47 2016 -0500

    DRILL-4184: Support variable length decimal fields in parquet

 .../java/org/apache/drill/common/types/Types.java  |   6 +
 .../drill/common/util/CoreDecimalUtility.java      |  10 +-
 exec/java-exec/src/main/codegen/data/CastHigh.tdd  |   1 +
 exec/java-exec/src/main/codegen/data/Casts.tdd     |  17 +
 .../main/codegen/data/ComparisonTypesDecimal.tdd   |   5 +-
 .../src/main/codegen/data/CountAggrTypes.tdd       |   1 +
 .../src/main/codegen/data/DecimalAggrTypes1.tdd    |  12 +-
 .../src/main/codegen/data/DecimalAggrTypes2.tdd    |   4 +-
 .../src/main/codegen/data/NumericTypes.tdd         |   2 +-
 .../ToTimeStampFunction.java                       |   7 +-
 .../templates/Decimal/CastDecimalFloat.java        |   4 +-
 .../codegen/templates/Decimal/CastDecimalInt.java  |   9 +-
 .../Decimal/CastDecimalSparseVarDecimal.java       |  78 +++
 .../templates/Decimal/CastDecimalVarchar.java      |  11 +-
 .../templates/Decimal/CastFloatDecimal.java        |  17 +-
 .../codegen/templates/Decimal/CastIntDecimal.java  |  22 +-
 .../templates/Decimal/CastVarCharDecimal.java      |  42 +-
 .../Decimal/DecimalAggrTypeFunctions1.java         |   9 +-
 .../Decimal/DecimalAggrTypeFunctions2.java         |   6 +-
 .../templates/Decimal/DecimalFunctions.java        | 629 ++++++++++++++++++++-
 .../codegen/templates/JsonOutputRecordWriter.java  |   1 +
 .../codegen/templates/NumericToCharFunctions.java  |   5 +-
 .../main/codegen/templates/ParquetTypeHelper.java  |   1 +
 .../src/main/codegen/templates/SqlAccessors.java   |  23 +-
 .../templates/StringOutputRecordWriter.java        |  10 +-
 .../exec/expr/ExpressionTreeMaterializer.java      |   7 +
 .../apache/drill/exec/expr/GetSetVectorHelper.java |  17 +-
 .../drill/exec/expr/fn/impl/Hash32AsDouble.java    |  40 ++
 .../drill/exec/expr/fn/impl/Hash32Functions.java   |  56 ++
 .../exec/expr/fn/impl/Hash32FunctionsWithSeed.java |  38 ++
 .../exec/expr/fn/impl/Hash32WithSeedAsDouble.java  |  53 ++
 .../drill/exec/expr/fn/impl/Hash64AsDouble.java    |  54 ++
 .../drill/exec/expr/fn/impl/Hash64Functions.java   |  38 ++
 .../exec/expr/fn/impl/Hash64FunctionsWithSeed.java |  37 ++
 .../exec/expr/fn/impl/Hash64WithSeedAsDouble.java  |  40 ++
 .../drill/exec/expr/fn/impl/UnionFunctions.java    |   1 +
 .../exec/planner/logical/DrillConstExecutor.java   |  12 +
 .../drill/exec/planner/logical/DrillOptiq.java     |   2 +
 .../drill/exec/planner/sql/TypeInferenceUtils.java |   1 +
 .../exec/resolver/ResolverTypePrecedence.java      |   2 +
 .../apache/drill/exec/resolver/TypeCastRules.java  |  50 ++
 .../parquet/columnreaders/ColumnReaderFactory.java |  10 +-
 .../columnreaders/ParquetToDrillTypeConverter.java |  31 +-
 .../columnreaders/VarLengthColumnReaders.java      |  75 +++
 .../store/parquet2/DrillParquetGroupConverter.java |  43 +-
 .../drill/exec/vector/complex/MapUtility.java      |   7 +
 .../drill/exec/vector/complex/fn/JsonWriter.java   |   2 +
 .../exec/store/parquet/TestVarlenDecimal.java      |  77 +++
 .../java/org/apache/drill/test/TestBuilder.java    |   1 +
 .../test/resources/parquet/varlenDecimal.parquet   | Bin 0 -> 11377 bytes
 .../drill/jdbc/impl/TypeConvertingSqlAccessor.java |   1 +
 .../src/main/codegen/data/ValueVectorTypes.tdd     |   9 +
 .../src/main/codegen/templates/BaseWriter.java     |   1 +
 .../main/codegen/templates/ColumnAccessors.java    |  30 +-
 .../src/main/codegen/templates/ComplexWriters.java |   8 +
 .../main/codegen/templates/HolderReaderImpl.java   |   4 +
 .../codegen/templates/RepeatedValueVectors.java    |   8 +
 .../src/main/codegen/templates/UnionReader.java    |   4 +-
 .../src/main/codegen/templates/ValueHolders.java   |  17 +-
 .../codegen/templates/VariableLengthVectors.java   |   9 +
 .../org/apache/drill/exec/util/DecimalUtility.java |  72 ++-
 .../vector/complex/impl/MapOrListWriterImpl.java   |   6 +
 .../drill/common/expression/parser/ExprLexer.g     |   1 +
 .../drill/common/expression/parser/ExprParser.g    |   1 +
 .../common/expression/ExpressionStringBuilder.java |   2 +-
 .../drill/common/expression/ValueExpressions.java  |   2 +
 .../drill/common/expression/fn/CastFunctions.java  |   8 +
 .../org/apache/drill/common/types/TypeProtos.java  |  27 +-
 protocol/src/main/protobuf/Types.proto             |   1 +
 69 files changed, 1739 insertions(+), 98 deletions(-)

commit 24193b1b038a6315681a65c76a67034b64f71fc5
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue Apr 17 13:29:14 2018 -0700

    DRILL-6341: Fixed failing tests for mongodb storage plugin by upgrading MongoDB version.
    
    closes #1222

 contrib/storage-mongo/pom.xml                      |  2 +-
 .../drill/exec/store/mongo/MongoTestConstants.java |  6 +-
 .../drill/exec/store/mongo/MongoTestSuit.java      | 68 +++++++++++++++-------
 .../drill/exec/store/mongo/TestTableGenerator.java |  2 +-
 4 files changed, 55 insertions(+), 23 deletions(-)

commit 2f275d1723a9e91acb94a359c4db2770385aac93
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Wed Apr 4 17:54:58 2018 -0700

    DRILL-6327: Update unary operators to handle IterOutcome.EMIT
                Note: Handles for Non-Blocking Unary operators (like Filter/Project/etc) with EMIT Iter.Outcome
    
    closes #1240

 .../physical/impl/filter/FilterRecordBatch.java    |   5 +-
 .../exec/physical/impl/filter/FilterTemplate2.java |   1 +
 .../physical/impl/flatten/FlattenRecordBatch.java  |   8 +-
 .../exec/physical/impl/join/LateralJoinBatch.java  |   2 +-
 .../exec/physical/impl/limit/LimitRecordBatch.java | 203 ++++++++++------
 .../physical/impl/project/ProjectRecordBatch.java  |  61 +++--
 .../impl/svremover/RemovingRecordBatch.java        |   7 +-
 .../exec/physical/impl/trace/TraceRecordBatch.java |   2 +-
 .../validate/IteratorValidatorBatchIterator.java   |   2 +
 .../exec/record/AbstractSingleRecordBatch.java     |  18 ++
 .../exec/record/AbstractUnaryRecordBatch.java      |  25 +-
 .../physical/impl/BaseTestOpBatchEmitOutcome.java  |  84 +++++++
 .../drill/exec/physical/impl/MockRecordBatch.java  |  13 +-
 .../impl/filter/TestFilterBatchEmitOutcome.java    | 218 +++++++++++++++++
 .../impl/limit/TestLimitBatchEmitOutcome.java      | 258 +++++++++++++++++++++
 .../physical/impl/limit/TestLimitOperator.java     | 131 +++++++++++
 .../impl/project/TestProjectEmitOutcome.java       | 220 ++++++++++++++++++
 17 files changed, 1157 insertions(+), 101 deletions(-)

commit f563f38225d96872fd4bff237c1d70469b2664bf
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Fri Apr 6 12:56:06 2018 -0700

    DRILL-6307: Handle empty batches in record batch sizer correctly
    
    closes #1228

 .../physical/impl/unnest/UnnestRecordBatch.java    |   4 +-
 .../drill/exec/record/JoinBatchMemoryManager.java  |   4 +-
 .../apache/drill/exec/record/RecordBatchSizer.java |  52 +-
 .../exec/physical/unit/TestOutputBatchSize.java    |  12 +-
 .../drill/exec/record/TestRecordBatchSizer.java    | 731 ++++++++++++++++++++-
 .../apache/drill/exec/vector/AllocationHelper.java |   4 +-
 6 files changed, 762 insertions(+), 45 deletions(-)

commit 28a29033c0a966b4bd65ac691a7b86f41637cae2
Author: Vlad Rozov <vrozov@apache.org>
Date:   Thu Mar 1 09:36:05 2018 -0800

    DRILL-6202: Deprecate usage of IndexOutOfBoundsException to re-alloc vectors
    
    closes #1144

 .../physical/impl/common/HashTableTemplate.java    |  2 -
 .../drill/exec/store/ResourceInputStream.java      | 10 +--
 .../apache/drill/test/rowSet/test/RowSetTest.java  |  2 +-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |  4 +-
 .../src/main/java/io/netty/buffer/DrillBuf.java    | 28 ++++-----
 .../codegen/templates/VariableLengthVectors.java   | 73 ++++++++--------------
 .../drill/exec/vector/UntypedNullVector.java       | 21 +++----
 .../vector/accessor/reader/ArrayReaderImpl.java    | 10 ++-
 .../vector/accessor/writer/BaseScalarWriter.java   |  2 +-
 .../exec/vector/complex/EmptyValuePopulator.java   |  4 +-
 10 files changed, 59 insertions(+), 97 deletions(-)

commit 087b366f211f12e274fd2967767a7fb60e836774
Author: vladimir tkach <vovatkach75@gmail.com>
Date:   Fri Apr 27 13:24:56 2018 +0300

    DRILL-6345: DRILL Query fails on Function LOG10
    
     - Added log10 function implementation
    
    closes #1230

 exec/java-exec/src/main/codegen/data/MathFunc.tdd  |  14 ++
 .../apache/drill/exec/resolver/TypeCastRules.java  |  28 +++
 .../drill/exec/fn/impl/TestNewMathFunctions.java   | 238 +++++++++++++++++++--
 .../functions/testExtendedMathFunctions.json       |   1 +
 4 files changed, 269 insertions(+), 12 deletions(-)

commit dbff1646601db234a6606d400d5630db4deee192
Author: Paul Rogers <progers@cloudera.com>
Date:   Mon Apr 16 21:44:10 2018 -0700

    DRILL-6335: Column accessor refactoring
    
    closes #1218

 .../exec/physical/rowSet/impl/ColumnState.java     |  10 +-
 .../physical/rowSet/impl/PrimitiveColumnState.java |   9 +-
 .../physical/rowSet/impl/RepeatedVectorState.java  |   3 +-
 .../physical/rowSet/impl/ResultSetLoaderImpl.java  |   2 +-
 .../physical/rowSet/impl/RowSetLoaderImpl.java     |   9 +
 .../physical/rowSet/impl/SingleVectorState.java    |  11 +-
 .../exec/physical/rowSet/impl/TupleState.java      |  25 +-
 .../rowSet/model/single/BaseWriterBuilder.java     |   3 +-
 .../rowSet/impl/TestResultSetLoaderMapArray.java   |   3 +-
 .../rowSet/impl/TestResultSetLoaderMaps.java       |  35 ++-
 .../rowSet/impl/TestResultSetLoaderProjection.java |   4 +-
 .../rowSet/impl/TestResultSetLoaderProtocol.java   |  20 +-
 .../apache/drill/test/rowSet/RowSetUtilities.java  |   2 +-
 .../apache/drill/test/rowSet/RowSetWriterImpl.java |   9 +
 .../drill/test/rowSet/test/DummyWriterTest.java    |  22 +-
 .../drill/test/rowSet/test/PerformanceTool.java    |   3 +-
 .../test/rowSet/test/TestIndirectReaders.java      | 151 +++++++++++
 .../test/rowSet/test/TestOffsetVectorWriter.java   |  28 +-
 .../main/codegen/templates/ColumnAccessors.java    |  65 ++---
 .../drill/exec/record/metadata/ProjectionType.java |   2 +-
 .../drill/exec/vector/accessor/ArrayWriter.java    |  73 +++--
 .../drill/exec/vector/accessor/ColumnWriter.java   | 128 +++++++++
 .../drill/exec/vector/accessor/ObjectWriter.java   |  53 +---
 .../drill/exec/vector/accessor/ScalarWriter.java   |   9 +-
 .../drill/exec/vector/accessor/TupleWriter.java    |  52 ++--
 .../drill/exec/vector/accessor/WriterPosition.java |  58 ++++
 .../accessor/writer/AbstractArrayWriter.java       | 196 +++++++-------
 .../accessor/writer/AbstractFixedWidthWriter.java  |  18 +-
 .../accessor/writer/AbstractObjectWriter.java      |  45 +++-
 .../accessor/writer/AbstractScalarWriter.java      |  59 ++--
 .../accessor/writer/AbstractTupleWriter.java       | 115 +++-----
 .../vector/accessor/writer/BaseScalarWriter.java   |  40 +--
 .../vector/accessor/writer/BaseVarWidthWriter.java |   6 +-
 .../accessor/writer/ColumnWriterFactory.java       | 111 +++-----
 .../exec/vector/accessor/writer/MapWriter.java     |  92 ++++++-
 .../accessor/writer/NullableScalarWriter.java      |  16 +-
 .../vector/accessor/writer/ObjectArrayWriter.java  |  44 ++-
 .../vector/accessor/writer/OffsetVectorWriter.java | 277 +------------------
 .../accessor/writer/OffsetVectorWriterImpl.java    | 299 +++++++++++++++++++++
 .../vector/accessor/writer/ScalarArrayWriter.java  | 111 ++++++--
 .../exec/vector/accessor/writer/WriterEvents.java  |  45 +++-
 .../accessor/writer/dummy/DummyArrayWriter.java    |  44 +--
 .../accessor/writer/dummy/DummyScalarWriter.java   |  16 +-
 .../exec/vector/accessor/writer/package-info.java  |  97 ++++++-
 44 files changed, 1505 insertions(+), 915 deletions(-)

commit 883c8d94b0021a83059fa79563dd516c4299b70a
Author: Paul Rogers <progers@cloudera.com>
Date:   Tue Apr 17 17:43:02 2018 -0700

    DRILL-6328: Adding unit testing docs.
    
    closes #1220

 docs/dev/ClusterFixture.md          | 247 ++++++++++++++++++++++++++++++++++++
 docs/dev/JUnit.md                   |  81 ++++++++++++
 docs/dev/LegacyTestingFrameworks.md |  75 +++++++++++
 docs/dev/MockRecordReader.md        |  40 ++++++
 docs/dev/OperatorFixture.md         |  33 +++++
 docs/dev/TestLogging.md             | 105 +++++++++++++++
 docs/dev/Testing.md                 |  72 +++++++++++
 7 files changed, 653 insertions(+)

commit f8d7acc8274da20a7cd0c44aafdf3f84cc4927aa
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue Apr 17 17:36:57 2018 -0700

    DRILL-6328: Consolidated developer docs in the docs folder.
    
    closes #1220

 README.md                             | 4 ++--
 docs/dev/DevDocs.md                   | 9 +++++++++
 INSTALL.md => docs/dev/Environment.md | 0
 3 files changed, 11 insertions(+), 2 deletions(-)

commit 4848a56447c7733cae018358a8a814db66d58853
Author: dvjyothsna <jyothsna.dvj@gmail.com>
Date:   Mon Apr 16 11:45:30 2018 -0700

    DRILL-6302: Fixed NPE in Drillbit close method
    
    closes #1217

 .../src/main/java/org/apache/drill/exec/server/Drillbit.java   | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 2601cdd33e0685f59a7bf2ac72541bd9dcaaa18f
Author: dvjyothsna <root@qa102-33.qa.lab>
Date:   Thu Mar 29 17:11:49 2018 -0700

    DRILL-6286: Fixed incorrect reference to shutdown in drillbit.log
    
    closes #1196

 .../main/java/org/apache/drill/exec/work/WorkManager.java | 15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit 56b943beed5ff928022c1123688fb271cd9f45e9
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Wed Mar 21 16:16:10 2018 +0200

    DRILL-6282: Update Drill's Metrics dependencies
    
    - Replacing com.codahale.metrics with last io.dropwizard.metrics Metrics for Drill
    - com.yammer.metrics is removed, since isn't used directly by Drill
    
    closes #1189

 common/pom.xml                                     | 14 +++++++++----
 .../apache/drill/exec/metrics/DrillMetrics.java    |  2 +-
 contrib/gis/pom.xml                                |  6 ------
 contrib/storage-hbase/pom.xml                      |  6 ------
 contrib/storage-hive/hive-exec-shade/pom.xml       |  4 ++++
 contrib/storage-jdbc/pom.xml                       |  6 ------
 contrib/storage-mongo/pom.xml                      |  6 ------
 exec/memory/base/pom.xml                           |  5 -----
 logical/pom.xml                                    | 11 -----------
 pom.xml                                            | 23 +++++++++++++++++++++-
 10 files changed, 37 insertions(+), 46 deletions(-)

commit 23d890950fb3b70040ede60cbe36473653738f82
Author: Anton Gozhiy <anton5813@gmail.com>
Date:   Tue Mar 27 13:29:14 2018 +0300

    DRILL-6270: Added general option --jvm, which can be used to set the remote debug jvm options.
    
    The option is not needed for drillbit startup, you can set the jvm properties directly after the start command.
    Usage:
    bin/drill-embedded --jvm "[JVM options]"
    bin/sqlline -u "jdbc:drill:zk=zkaddr:port" --jvm "[JVM options]"
    bin/drillbit.sh start [JVM options]
    sqlline.bat -u "jdbc:drill:zk=local" --jvm "[JVM options]"
    
    closes #1210

 distribution/src/resources/sqlline     |  4 ++++
 distribution/src/resources/sqlline.bat | 18 +++++++++++++-----
 2 files changed, 17 insertions(+), 5 deletions(-)

commit 6fcaf4268eddcb09010b5d9c5dfb3b3be5c3f903
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Tue Apr 17 14:38:03 2018 +0300

    DRILL-6173: Support transitive closure during filter push down and partition pruning
    
    closes #1216

 .../drill/exec/TestHivePartitionPruning.java       |  15 ++
 .../apache/drill/exec/planner/PlannerPhase.java    |  37 ++-
 .../apache/drill/exec/planner/RuleInstance.java    |  10 +
 .../planner/sql/handlers/DefaultSqlHandler.java    |  10 +-
 .../test/java/org/apache/drill/PlanTestBase.java   |   7 +
 ...quetFilterPushdownWithTransitivePredicates.java | 276 +++++++++++++++++++++
 .../transitiveClosure/first/0_0_1.parquet          | Bin 0 -> 585 bytes
 .../transitiveClosure/first/0_0_10.parquet         | Bin 0 -> 585 bytes
 .../transitiveClosure/first/0_0_11.parquet         | Bin 0 -> 585 bytes
 .../transitiveClosure/first/0_0_12.parquet         | Bin 0 -> 585 bytes
 .../transitiveClosure/first/0_0_13.parquet         | Bin 0 -> 585 bytes
 .../transitiveClosure/first/0_0_14.parquet         | Bin 0 -> 585 bytes
 .../transitiveClosure/first/0_0_15.parquet         | Bin 0 -> 585 bytes
 .../transitiveClosure/first/0_0_16.parquet         | Bin 0 -> 585 bytes
 .../transitiveClosure/first/0_0_2.parquet          | Bin 0 -> 585 bytes
 .../transitiveClosure/first/0_0_3.parquet          | Bin 0 -> 601 bytes
 .../transitiveClosure/first/0_0_4.parquet          | Bin 0 -> 601 bytes
 .../transitiveClosure/first/0_0_5.parquet          | Bin 0 -> 601 bytes
 .../transitiveClosure/first/0_0_6.parquet          | Bin 0 -> 585 bytes
 .../transitiveClosure/first/0_0_7.parquet          | Bin 0 -> 601 bytes
 .../transitiveClosure/first/0_0_8.parquet          | Bin 0 -> 585 bytes
 .../transitiveClosure/first/0_0_9.parquet          | Bin 0 -> 585 bytes
 .../transitiveClosure/second/0_0_1.parquet         | Bin 0 -> 601 bytes
 .../transitiveClosure/second/0_0_2.parquet         | Bin 0 -> 633 bytes
 .../transitiveClosure/second/0_0_3.parquet         | Bin 0 -> 617 bytes
 .../transitiveClosure/second/0_0_4.parquet         | Bin 0 -> 617 bytes
 .../transitiveClosure/second/0_0_5.parquet         | Bin 0 -> 601 bytes
 .../transitiveClosure/second/0_0_6.parquet         | Bin 0 -> 601 bytes
 .../transitiveClosure/second/0_0_7.parquet         | Bin 0 -> 633 bytes
 .../transitiveClosure/third/0_0_1.parquet          | Bin 0 -> 376 bytes
 .../transitiveClosure/third/0_0_2.parquet          | Bin 0 -> 376 bytes
 .../transitiveClosure/third/0_0_3.parquet          | Bin 0 -> 376 bytes
 .../transitiveClosure/third/0_0_4.parquet          | Bin 0 -> 376 bytes
 .../transitiveClosure/third/0_0_5.parquet          | Bin 0 -> 403 bytes
 .../transitiveClosure/third/0_0_6.parquet          | Bin 0 -> 385 bytes
 .../transitiveClosure/third/0_0_7.parquet          | Bin 0 -> 385 bytes
 36 files changed, 347 insertions(+), 8 deletions(-)

commit 9173308710c3decf8ff745493ad3e85ccdaf7c37
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Fri Apr 20 16:52:59 2018 -0700

    DRILL-5927: Fixed memory leak in TestBsonRecordReader, and sped up the test.
    
    closes #1234

 .../exec/store/bson/TestBsonRecordReader.java      | 37 +++++++++++++---------
 1 file changed, 22 insertions(+), 15 deletions(-)

commit 6f6229a9a71c3e6ff3e873809d9ca591633c4129
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Thu Apr 19 14:31:17 2018 +0300

    DRILL-3855: Enable FilterSetOpTransposeRule, DrillProjectSetOpTransposeRule
    
    closes #1226

 .../apache/drill/exec/planner/PlannerPhase.java    |  29 +++++-
 .../apache/drill/exec/planner/RuleInstance.java    |   5 +
 .../logical/DrillProjectSetOpTransposeRule.java    |  30 ------
 .../planner/sql/handlers/DefaultSqlHandler.java    |   3 +-
 .../test/java/org/apache/drill/TestUnionAll.java   | 116 ++++++++++++++-------
 ...EmptyResultAfterProjectPushDownOverUnionAll.tsv |  20 ++++
 6 files changed, 131 insertions(+), 72 deletions(-)

commit c6549e58859397c88cb1de61b4f6eee52a07ed0c
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Mar 20 18:29:45 2018 +0000

    DRILL-6331: Revisit Hive Drill native parquet implementation to be exposed to Drill optimizations (filter / limit push down, count to direct scan)
    
    1. Factored out common logic for Drill parquet reader and Hive Drill native parquet readers: AbstractParquetGroupScan, AbstractParquetRowGroupScan, AbstractParquetScanBatchCreator.
    2. Rules that worked previously only with ParquetGroupScan, now can be applied for any class that extends AbstractParquetGroupScan: DrillFilterItemStarReWriterRule, ParquetPruneScanRule, PruneScanRule.
    3. Hive populated partition values based on information returned from Hive metastore. Drill populates partition values based on path difference between selection root and actual file path.
       Before ColumnExplorer populated partition values based on Drill approach. Since now ColumnExplorer populates values for parquet files from Hive tables,
       `populateImplicitColumns` method logic was changed to populated partition columns only based on given partition values.
    4. Refactored ParquetPartitionDescriptor to be responsible for populating partition values rather than storing this logic in parquet group scan class.
    5. Metadata class was moved to separate metadata package (org.apache.drill.exec.store.parquet.metadata). Factored out several inner classed to improve code readability.
    6. Collected all Drill native parquet reader unit tests into one class TestHiveDrillNativeParquetReader, also added new tests to cover new functionality.
    7. Reduced excessive logging when parquet files metadata is read
    
    closes #1214

 .../native/client/src/protobuf/UserBitShared.pb.cc |   14 +-
 .../native/client/src/protobuf/UserBitShared.pb.h  |    5 +-
 .../ConvertHiveParquetScanToDrillParquetScan.java  |   57 +-
 .../hive/HiveDrillNativeParquetRowGroupScan.java   |  131 ++
 .../store/hive/HiveDrillNativeParquetScan.java     |  204 +-
 .../HiveDrillNativeParquetScanBatchCreator.java    |   79 +
 .../store/hive/HiveDrillNativeParquetSubScan.java  |   55 -
 .../hive/HiveDrillNativeScanBatchCreator.java      |  208 --
 .../exec/store/hive/HiveMetadataProvider.java      |    5 +-
 .../drill/exec/store/hive/HivePartitionHolder.java |   95 +
 .../exec/TestHiveDrillNativeParquetReader.java     |  248 +++
 .../drill/exec/TestHivePartitionPruning.java       |   19 -
 .../apache/drill/exec/TestHiveProjectPushDown.java |   13 -
 .../org/apache/drill/exec/hive/HiveTestBase.java   |    2 +-
 .../apache/drill/exec/hive/TestHiveStorage.java    |  215 +--
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |    6 +-
 .../exec/sql/hive/TestViewSupportOnHiveTables.java |    2 +-
 .../exec/store/hive/HiveTestDataGenerator.java     |   82 +-
 .../external/kv_native_ext/part_key=1/kv_1.parquet |  Bin 0 -> 220 bytes
 .../resources/external/part_key=2/kv_2.parquet     |  Bin 0 -> 220 bytes
 .../apache/drill/exec/ops/BaseOperatorContext.java |   42 +-
 .../exec/physical/base/AbstractGroupScan.java      |   14 +
 .../apache/drill/exec/physical/base/GroupScan.java |   10 +
 .../apache/drill/exec/physical/base/ScanStats.java |    9 +-
 .../exec/planner/ParquetPartitionDescriptor.java   |  331 +++-
 .../apache/drill/exec/planner/PlannerPhase.java    |    4 +
 .../logical/DrillFilterItemStarReWriterRule.java   |    8 +-
 .../logical/partition/ParquetPruneScanRule.java    |   16 +-
 .../planner/logical/partition/PruneScanRule.java   |   77 +-
 .../sql/handlers/RefreshMetadataHandler.java       |    2 +-
 .../apache/drill/exec/store/ColumnExplorer.java    |   90 +-
 .../org/apache/drill/exec/store/TimedRunnable.java |   16 +-
 .../apache/drill/exec/store/dfs/FileSelection.java |   37 +-
 .../drill/exec/store/dfs/ReadEntryFromHDFS.java    |    4 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |    6 +-
 .../exec/store/ischema/InfoSchemaGroupScan.java    |    2 +-
 .../store/parquet/AbstractParquetGroupScan.java    |  463 +++++
 .../store/parquet/AbstractParquetRowGroupScan.java |   90 +
 .../parquet/AbstractParquetScanBatchCreator.java   |  186 ++
 .../apache/drill/exec/store/parquet/Metadata.java  | 2007 --------------------
 .../exec/store/parquet/ParquetFormatPlugin.java    |    3 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java | 1236 ++----------
 .../store/parquet/ParquetGroupScanStatistics.java  |  215 +++
 .../exec/store/parquet/ParquetPushDownFilter.java  |   23 +-
 .../exec/store/parquet/ParquetReaderUtility.java   |  116 +-
 .../exec/store/parquet/ParquetRowGroupScan.java    |  111 +-
 .../store/parquet/ParquetScanBatchCreator.java     |  160 +-
 .../drill/exec/store/parquet/RowGroupInfo.java     |   98 +
 .../exec/store/parquet/metadata/Metadata.java      |  694 +++++++
 .../exec/store/parquet/metadata/MetadataBase.java  |  142 ++
 .../store/parquet/metadata/MetadataPathUtils.java  |  122 ++
 .../parquet/{ => metadata}/MetadataVersion.java    |    3 +-
 .../exec/store/parquet/metadata/Metadata_V1.java   |  329 ++++
 .../exec/store/parquet/metadata/Metadata_V2.java   |  418 ++++
 .../exec/store/parquet/metadata/Metadata_V3.java   |  470 +++++
 .../parquet/metadata/ParquetTableMetadataDirs.java |   49 +
 .../parquet/stat/ParquetMetaStatCollector.java     |   35 +-
 .../writer/TestCorruptParquetDateCorrection.java   |    2 +-
 .../drill/exec/store/FormatPluginSerDeTest.java    |   36 +-
 .../store/parquet/TestParquetMetadataCache.java    |    2 +
 .../store/parquet/TestParquetMetadataVersion.java  |    1 +
 .../org/apache/drill/exec/proto/UserBitShared.java |   22 +-
 .../drill/exec/proto/beans/CoreOperatorType.java   |    4 +-
 protocol/src/main/protobuf/UserBitShared.proto     |    1 +
 64 files changed, 5098 insertions(+), 4048 deletions(-)

commit 84cd83495adf7b0a80932535809c58a1cd3324e9
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Apr 20 14:38:14 2018 +0300

    DRILL-6342: Fix schema path unIndexed method to return correct value
    
    closes #1231

 .../apache/drill/common/expression/SchemaPath.java | 36 +++++++++++----
 .../drill/common/expression/SchemaPathTest.java    | 54 ++++++++++++++++++++++
 2 files changed, 81 insertions(+), 9 deletions(-)

commit 8d562d07638bd5839fa6f27ce6973358abd7d3c7
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Mar 7 13:53:14 2018 +0530

    DRILL-6324: Unnest - Add tests with real Unnest and real Lateral.
    
    Code cleanup, more comments, fix license headers, and more logging.
    Refactor Unnest to allow setting in incoming batch after construction
    fix compilation after rebase
    
    This closes #1223

 .../drill/exec/ops/OperatorMetricRegistry.java     |   2 +
 .../drill/exec/physical/config/UnnestPOP.java      |  18 +-
 .../drill/exec/physical/impl/unnest/Unnest.java    |  31 +-
 .../physical/impl/unnest/UnnestBatchCreator.java   |   5 +-
 .../exec/physical/impl/unnest/UnnestImpl.java      |  76 +-
 .../physical/impl/unnest/UnnestRecordBatch.java    | 186 +++--
 .../exec/record/AbstractSingleRecordBatch.java     | 128 +---
 .../record/AbstractTableFunctionRecordBatch.java   |  64 ++
 .../exec/record/AbstractUnaryRecordBatch.java      | 167 +++++
 .../drill/exec/record/TableFunctionContract.java   |  38 +
 .../drill/exec/store/mock/MockLateralJoinPOP.java  |  72 --
 .../physical/impl/unnest/MockLateralJoinBatch.java |  32 +-
 .../impl/unnest/TestUnnestCorrectness.java         |  77 ++-
 .../unnest/TestUnnestWithLateralCorrectness.java   | 761 +++++++++++++++++++++
 14 files changed, 1281 insertions(+), 376 deletions(-)

commit 51bf1dd3f6f5054e1922f0b22b0364ef1c0c6e1f
Author: Parth Chandra <parthc@apache.org>
Date:   Thu Feb 8 10:43:13 2018 +0530

    DRILL-6324: Unnest - Initial Implementation
    
    - Based on Flatten
    - Implement unnestRecords in UnnestTemplate
    - Remove unnecessary code inherited from Flatten/Project. Add schema change handling.
    - Fix build failure after rebase since RecordBatchSizer used by UNNEST was relocated to a different package
    - Add unit tests
    - Handling of input row splitting across multiple batches. Also do not kill incoming in killIncoming.
    - Schema change generated by Unnest

 .../physical/base/AbstractPhysicalVisitor.java     |   6 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   2 +
 .../drill/exec/physical/config/UnnestPOP.java      |  90 +++
 .../drill/exec/physical/impl/unnest/Unnest.java    |  44 ++
 .../physical/impl/unnest/UnnestBatchCreator.java   |  38 ++
 .../exec/physical/impl/unnest/UnnestImpl.java      | 134 ++++
 .../physical/impl/unnest/UnnestRecordBatch.java    | 376 +++++++++++
 .../drill/exec/store/mock/MockLateralJoinPOP.java  |  72 +++
 .../drill/exec/physical/impl/MockRecordBatch.java  |   6 +-
 .../physical/impl/unnest/MockLateralJoinBatch.java | 237 +++++++
 .../impl/unnest/TestUnnestCorrectness.java         | 691 +++++++++++++++++++++
 11 files changed, 1693 insertions(+), 3 deletions(-)

commit 69ec019c85f2fffb2b6f2087e9fd59b0a7cf80e0
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Tue Apr 17 17:05:50 2018 -0700

    DRILL-6339: Add a new option to disable TopN (for testing)
    
    This closes #1219

 .../org/apache/drill/exec/planner/physical/PlannerSettings.java     | 1 +
 .../org/apache/drill/exec/planner/physical/PushLimitToTopN.java     | 6 ++++++
 .../org/apache/drill/exec/server/options/SystemOptionManager.java   | 1 +
 exec/java-exec/src/main/resources/drill-module.conf                 | 1 +
 4 files changed, 9 insertions(+)

commit c79dbe985135754bc70e97420aa5fc456225d3a8
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue Apr 17 11:57:40 2018 -0700

    DRILL-6338: Do not skip license maven plugin when formatting generated protobuf files.
    
    This closes #1215

 .travis.yml      | 3 +--
 protocol/pom.xml | 4 ++++
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 8e116c220c782bd678290f38e93d6c5d391a9076
Author: Paul Rogers <progers@cloudera.com>
Date:   Mon Apr 16 18:24:07 2018 -0700

    DRILL-6334: Minor code cleanup
    
    This closes #1213

 .../java/org/apache/drill/exec/ops/FragmentContext.java   |  1 +
 .../apache/drill/exec/record/vector/TestValueVector.java  | 15 +--------------
 .../test/java/org/apache/drill/test/BaseTestQuery.java    |  6 +++++-
 .../org/apache/drill/test/rowSet/test/RowSetTest.java     |  2 --
 .../exec/exception/OversizedAllocationException.java      |  2 ++
 .../org/apache/drill/common/expression/SchemaPath.java    |  1 +
 6 files changed, 10 insertions(+), 17 deletions(-)

commit 71785a365a99c9fccfa5cebb9acce67afd7e3e26
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Fri Apr 20 11:01:51 2018 -0700

    DRILL-6333: Fixed Quotation marks
    
    Initial step to making the source-code ready for Javadoc generation
    
    This closes #1229

 drill-yarn/USAGE.md                                | 42 +++++++++++-----------
 .../org/apache/drill/yarn/scripts/TestScripts.java |  2 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |  4 +--
 .../drill/exec/expr/fn/impl/CryptoFunctions.java   |  2 +-
 .../impl/xsort/managed/ExternalSortBatch.java      |  4 +--
 .../exec/rpc/user/InboundImpersonationManager.java |  8 ++---
 .../exec/vector/accessor/writer/package-info.java  | 18 +++++-----
 7 files changed, 40 insertions(+), 40 deletions(-)

commit ae1f838912f51244346d25912339fd650aa83dea
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Sun Mar 25 22:03:12 2018 -0700

    DRILL-6289: Cluster view should show more relevant information
    
    Protobuf change to carry HTTP port info
    Allow CORS for access to remote Drillbit metrics
    Cross-origin resource sharing (CORS) is required to ensure that the WebServer is able serve REST calls for status pages.
    Materialize relevant metrics
      1. Heap memory (incl usage)
      2. Heap memory (incl usage)
      3. Average System Load (last 1 min)
      4. Option to view from other nodes (pop out)
      5. Added Glyphicons
    Update System Table and related tests
      1. Updated System Table to show HTTP port
      2. Updated unit tests
    Skip updating remote bit info when HTTPS (SSL) or Authentication is enabled.
    Default CpuGaugeSet is public; Added Gauges
      * CPU Utiization by Drill
      * Uptime
    Show ALL Buttons, but do HTTPS Check
    Reduce power button to icon
    Allowing CORS for /status/metrics only
    Accounting for situations when JVM does not report Process CPU Load
      i.e. returned value is negative.
      See https://docs.oracle.com/javase/7/docs/jre/api/management/extension/com/sun/management/OperatingSystemMXBean.html#getProcessCpuLoad()
    Addressed shutdown security conditions
    Added C++ Client Protobuf
    Added steps for Protobuf generation to protocol/readme.txt
    
    This closes #1203

 .../org/apache/drill/exec/metrics/CpuGaugeSet.java | 101 ++++++++++
 .../apache/drill/exec/metrics/DrillMetrics.java    |   1 +
 .../native/client/src/protobuf/Coordination.pb.cc  |  66 +++++--
 .../native/client/src/protobuf/Coordination.pb.h   |  34 +++-
 .../native/client/src/protobuf/UserBitShared.pb.cc |  15 +-
 .../native/client/src/protobuf/UserBitShared.pb.h  |   7 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  11 +-
 .../apache/drill/exec/server/rest/DrillRoot.java   |   4 +
 .../apache/drill/exec/server/rest/WebServer.java   |  15 +-
 .../drill/exec/store/sys/DrillbitIterator.java     |   2 +
 exec/java-exec/src/main/resources/rest/index.ftl   | 218 +++++++++++++++++----
 .../exec/work/metadata/TestMetadataProvider.java   |   9 +-
 protocol/readme.txt                                |  11 +-
 .../drill/exec/proto/CoordinationProtos.java       | 106 ++++++++--
 .../drill/exec/proto/SchemaCoordinationProtos.java |   7 +
 .../drill/exec/proto/beans/DrillbitEndpoint.java   |  22 +++
 protocol/src/main/protobuf/Coordination.proto      |   1 +
 17 files changed, 546 insertions(+), 84 deletions(-)

commit cc606dbb9635cee0c5ecae8dba5530a46887d481
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Apr 18 15:19:10 2018 -0700

    DRILL-6323: Fix license headers

 .../java/org/apache/drill/exec/physical/base/LateralContract.java     | 1 -
 .../apache/drill/exec/physical/impl/join/LateralJoinBatchCreator.java | 2 +-
 .../java/org/apache/drill/exec/physical/impl/MockRecordBatch.java     | 4 ++--
 3 files changed, 3 insertions(+), 4 deletions(-)

commit 931b43ec54bf47dcbb4aa9ae4499f37a8f21b408
Author: Vlad Rozov <vrozov@apache.org>
Date:   Wed Apr 11 10:12:07 2018 -0700

    DRILL-6295: PartitionerDecorator may close partitioners while CustomRunnable are active during query cancellation
    
    This closes #1208

 .../partitionsender/PartitionSenderRootExec.java   |  13 +-
 .../impl/partitionsender/PartitionerDecorator.java | 333 +++++++++++++--------
 .../exec/testing/CountDownLatchInjection.java      |   4 +-
 .../impl/partitionsender/TestPartitionSender.java  |  11 +-
 4 files changed, 221 insertions(+), 140 deletions(-)

commit fdc69783a0f0014e331fe853b623750ba88c34e0
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue Apr 17 15:18:26 2018 -0700

    DRILL-6323: Lateral Join - Review feedback changes with License header fixes
    
    This closes #1212

 .../java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java | 5 -----
 .../java/org/apache/drill/exec/physical/base/AbstractJoinPop.java    | 4 ++--
 .../java/org/apache/drill/exec/record/JoinBatchMemoryManager.java    | 2 +-
 .../drill/exec/physical/impl/join/TestLateralJoinCorrectness.java    | 2 +-
 4 files changed, 4 insertions(+), 9 deletions(-)

commit 769999ef16c9d819d400c1407c5d919245b4a957
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Mon Mar 19 12:00:22 2018 -0700

    DRILL-6323: Lateral Join - Lateral Join Batch Memory manager support using the record batch sizer

 .../drill/exec/ops/OperatorMetricRegistry.java     |   1 +
 .../exec/physical/impl/join/LateralJoinBatch.java  | 470 ++++++++++++---------
 .../impl/join/TestLateralJoinCorrectness.java      |  28 +-
 3 files changed, 284 insertions(+), 215 deletions(-)

commit 7f19b500facffe52bf5611d0ae58bfd4e4d0336f
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Wed Mar 14 16:59:29 2018 -0700

    DRILL-6323: Lateral Join - Refactor BatchMemorySize to put outputBatchSize in abstract class. Created a new JoinBatchMemoryManager to be shared across join record batches. Changed merge join to use AbstractBinaryRecordBatch instead of AbstractRecordBatch, and use JoinBatchMemoryManager

 .../drill/exec/ops/OperatorMetricRegistry.java     |   6 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |  14 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    | 184 ++++-----------------
 .../exec/record/AbstractBinaryRecordBatch.java     |  88 ++++++++--
 .../drill/exec/record/AbstractRecordBatch.java     |   1 -
 .../drill/exec/record/JoinBatchMemoryManager.java  | 124 ++++++++++++++
 .../exec/record/RecordBatchMemoryManager.java      |  25 ++-
 .../apache/drill/exec/record/RecordIterator.java   |   2 +-
 8 files changed, 260 insertions(+), 184 deletions(-)

commit 4b6f10e401b3e17fe84e27fc740014d7e113bcd2
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue Mar 13 16:41:03 2018 -0700

    DRILL-6323: Lateral Join - Add some debug logs for LateralJoinBatch

 .../exec/physical/impl/join/LateralJoinBatch.java  | 49 ++++++++++++++++------
 1 file changed, 36 insertions(+), 13 deletions(-)

commit 5ed319620b66009f069934bba72f2740ff3cacaf
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Fri Mar 9 15:56:22 2018 -0800

    DRILL-6323: Lateral Join - Remove codegen and operator template class. Logic to copy data is moved to LateralJoinBatch itself

 .../drill/exec/physical/impl/join/LateralJoin.java |  57 ----
 .../exec/physical/impl/join/LateralJoinBatch.java  | 313 +++++++++------------
 .../physical/impl/join/LateralJoinTemplate.java    | 147 ----------
 .../impl/join/TestLateralJoinCorrectness.java      |  67 +++++
 4 files changed, 195 insertions(+), 389 deletions(-)

commit 74565ccb71b6c7c978d53b3a98fb1ef8b7d8551b
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue Feb 20 14:47:48 2018 -0800

    DRILL-6323: Lateral Join - Refactor, fix various issues with LATERAL: a)Override prefetch call in BuildSchema phase for LATERAL, b)EMIT handling in buildSchema, c)Issue when in multilevel Lateral case schema change is observed only on right side of UNNEST, d)Handle SelectionVector in incoming batch, e) Handling Schema change, f) Updating joinIndexes correctly when producing multiple output batches for current left&right inputs. Added tests for a)EMIT handling in buildSchema, b)Multiple UNNEST at same level, c)Multilevel Lateral, d)Multilevel Lateral with Schema change on left/right or both branches, e) Left LATERAL join f)Schema change for UNNEST and Non-UNNEST columns, g)Error outcomes from left&right, h) Producing multiple output batches for given incoming, i) Consuming multiple incoming into single output batch

 .../drill/exec/physical/impl/join/LateralJoin.java |    4 +-
 .../exec/physical/impl/join/LateralJoinBatch.java  |  240 +-
 .../physical/impl/join/LateralJoinTemplate.java    |    5 +-
 .../exec/record/AbstractBinaryRecordBatch.java     |    2 -
 .../impl/join/TestLateralJoinCorrectness.java      | 2492 ++++++++++++++++++++
 5 files changed, 2663 insertions(+), 80 deletions(-)

commit 5a63e2748d71134c0258147972b45a0fb25f5461
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Mon Feb 5 14:46:19 2018 -0800

    DRILL-6323: Lateral Join - Initial implementation

 .../java/org/apache/drill/exec/ExecConstants.java  |   5 +
 .../physical/base/AbstractPhysicalVisitor.java     |   3 -
 .../drill/exec/physical/base/PhysicalVisitor.java  |   3 -
 .../drill/exec/physical/config/LateralJoinPOP.java |  55 ++
 .../drill/exec/physical/impl/join/LateralJoin.java |  55 ++
 .../exec/physical/impl/join/LateralJoinBatch.java  | 741 +++++++++++++++++++++
 .../impl/join/LateralJoinBatchCreator.java         |  34 +
 .../physical/impl/join/LateralJoinTemplate.java    | 146 ++++
 .../exec/physical/impl/sort/RecordBatchData.java   |   1 +
 .../exec/record/AbstractBinaryRecordBatch.java     |  11 +
 .../drill/exec/record/AbstractRecordBatch.java     |   1 +
 11 files changed, 1049 insertions(+), 6 deletions(-)

commit 8051c24bf3048e1bfd4793508a2200b1662897e3
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Mon Mar 5 21:09:16 2018 -0800

    DRILL-6323: Lateral Join - Refactor Join PopConfigs

 .../drill/exec/physical/base/AbstractJoinPop.java  | 78 ++++++++++++++++++++++
 .../physical/base/AbstractPhysicalVisitor.java     | 15 -----
 .../drill/exec/physical/base/PhysicalVisitor.java  |  3 -
 .../drill/exec/physical/config/HashJoinPOP.java    | 78 +++++-----------------
 .../drill/exec/physical/config/MergeJoinPOP.java   | 61 +++--------------
 .../exec/physical/config/NestedLoopJoinPOP.java    | 56 +++-------------
 6 files changed, 116 insertions(+), 175 deletions(-)

commit 62f14690870568364723dc77494043a9854a0447
Author: Drill Dev <dev@drill.apache.org>
Date:   Fri Apr 13 10:24:45 2018 -0700

    DRILL-6320: Fixed license headers.
    
    closes #1207

 .travis.yml                                        |  3 +-
 common/pom.xml                                     | 31 ++++++++++--------
 .../apache/drill/common/AutoCloseablePointer.java  |  2 +-
 .../org/apache/drill/common/AutoCloseables.java    |  2 +-
 .../apache/drill/common/CatastrophicFailure.java   |  2 +-
 .../org/apache/drill/common/DeferredException.java |  2 +-
 .../apache/drill/common/DrillAutoCloseables.java   |  2 +-
 .../org/apache/drill/common/EventProcessor.java    |  2 +-
 .../org/apache/drill/common/HistoricalLog.java     |  2 +-
 .../java/org/apache/drill/common/KerberosUtil.java |  2 +-
 .../apache/drill/common/SelfCleaningRunnable.java  |  2 +-
 .../java/org/apache/drill/common/StackTrace.java   |  2 +-
 .../drill/common/collections/ImmutableEntry.java   |  6 ++--
 .../drill/common/collections/MapWithOrdinal.java   |  2 +-
 .../drill/common/concurrent/AutoCloseableLock.java |  2 +-
 .../drill/common/concurrent/ExtendedLatch.java     |  2 +-
 .../drill/common/config/CommonConstants.java       |  2 +-
 .../apache/drill/common/config/ConfigProvider.java |  2 +-
 .../apache/drill/common/config/DrillConfig.java    |  2 +-
 .../apache/drill/common/config/NestedConfig.java   |  2 +-
 .../apache/drill/common/config/package-info.java   |  2 +-
 .../exceptions/DrillConfigurationException.java    |  2 +-
 .../apache/drill/common/exceptions/DrillError.java |  2 +-
 .../drill/common/exceptions/DrillException.java    |  2 +-
 .../drill/common/exceptions/DrillIOException.java  |  2 +-
 .../common/exceptions/DrillRuntimeException.java   |  2 +-
 .../drill/common/exceptions/ErrorHelper.java       |  2 +-
 .../exceptions/RetryAfterSpillException.java       |  2 +-
 .../drill/common/exceptions/UserException.java     |  2 +-
 .../common/exceptions/UserExceptionContext.java    |  2 +-
 .../common/exceptions/UserRemoteException.java     |  2 +-
 .../drill/common/exceptions/package-info.java      |  2 +-
 .../java/org/apache/drill/common/package-info.java |  2 +-
 .../apache/drill/common/scanner/BuildTimeScan.java |  2 +-
 .../drill/common/scanner/ClassPathScanner.java     |  2 +-
 .../apache/drill/common/scanner/RunTimeScan.java   |  2 +-
 .../persistence/AnnotatedClassDescriptor.java      |  2 +-
 .../scanner/persistence/AnnotationDescriptor.java  |  2 +-
 .../scanner/persistence/AttributeDescriptor.java   |  2 +-
 .../scanner/persistence/ChildClassDescriptor.java  |  2 +-
 .../scanner/persistence/FieldDescriptor.java       |  2 +-
 .../scanner/persistence/ParentClassDescriptor.java |  2 +-
 .../common/scanner/persistence/ScanResult.java     |  2 +-
 .../common/scanner/persistence/TypeDescriptor.java |  2 +-
 .../apache/drill/common/types/package-info.java    |  2 +-
 .../drill/common/util/ConstructorChecker.java      |  2 +-
 .../drill/common/util/CoreDecimalUtility.java      |  2 +-
 .../drill/common/util/DataInputInputStream.java    |  2 +-
 .../drill/common/util/DataOutputOutputStream.java  |  2 +-
 .../util/DecimalScalePrecisionAddFunction.java     |  2 +-
 .../util/DecimalScalePrecisionDivideFunction.java  |  3 +-
 .../util/DecimalScalePrecisionModFunction.java     |  3 +-
 .../util/DecimalScalePrecisionMulFunction.java     |  3 +-
 .../util/DrillBaseComputeScalePrecision.java       |  2 +-
 .../apache/drill/common/util/DrillFileUtils.java   |  2 +-
 .../apache/drill/common/util/DrillStringUtils.java |  2 +-
 .../apache/drill/common/util/RepeatTestRule.java   |  2 +-
 .../org/apache/drill/common/util/package-info.java |  2 +-
 .../apache/drill/exec/metrics/DrillMetrics.java    |  2 +-
 .../org/apache/drill/exec/util/AssertionUtil.java  |  2 +-
 .../apache/drill/exec/util/SystemPropertyUtil.java |  2 +-
 .../apache/drill/categories/HbaseStorageTest.java  |  3 +-
 .../apache/drill/categories/HiveStorageTest.java   |  3 +-
 .../apache/drill/categories/JdbcStorageTest.java   |  3 +-
 .../java/org/apache/drill/categories/JdbcTest.java |  3 +-
 .../apache/drill/categories/KafkaStorageTest.java  |  1 -
 .../apache/drill/categories/KuduStorageTest.java   |  3 +-
 .../org/apache/drill/categories/MemoryTest.java    |  3 +-
 .../apache/drill/categories/MongoStorageTest.java  |  3 +-
 .../org/apache/drill/categories/OperatorTest.java  |  3 +-
 .../org/apache/drill/categories/OptionsTest.java   |  3 +-
 .../org/apache/drill/categories/ParquetTest.java   |  3 +-
 .../org/apache/drill/categories/PlannerTest.java   |  3 +-
 .../org/apache/drill/categories/SecurityTest.java  |  3 +-
 .../apache/drill/categories/SqlFunctionTest.java   |  3 +-
 .../java/org/apache/drill/categories/SqlTest.java  |  3 +-
 .../org/apache/drill/categories/VectorTest.java    |  3 +-
 .../org/apache/drill/categories/package-info.java  |  3 +-
 .../drill/common/exceptions/TestUserException.java |  2 +-
 .../drill/common/map/TestCaseInsensitiveMap.java   |  2 +-
 .../java/org/apache/drill/test/DirTestWatcher.java |  1 -
 .../Drill2130CommonHamcrestConfigurationTest.java  |  2 +-
 .../java/org/apache/drill/test/DrillAssert.java    |  2 +-
 .../org/apache/drill/test/SubDirTestWatcher.java   |  1 -
 .../apache/drill/test/UserExceptionMatcher.java    |  2 +-
 common/src/test/resources/logback-test.xml         | 29 +++++++++++------
 contrib/data/pom.xml                               | 27 +++++++++-------
 contrib/data/tpch-sample-data/bin/pom.xml          | 29 +++++++++++------
 contrib/data/tpch-sample-data/pom.xml              | 29 +++++++++++------
 contrib/format-maprdb/pom.xml                      | 27 +++++++++-------
 .../drill/exec/store/mapr/TableFormatPlugin.java   |  2 +-
 .../exec/store/mapr/TableFormatPluginConfig.java   |  2 +-
 .../drill/exec/store/mapr/db/MapRDBGroupScan.java  |  2 +-
 .../store/mapr/db/MapRDBPushFilterIntoScan.java    |  2 +-
 .../exec/store/mapr/db/MapRDBSubScanSpec.java      |  2 +-
 .../drill/exec/store/mapr/db/MapRDBTableStats.java |  2 +-
 .../exec/store/mapr/db/TabletFragmentInfo.java     |  2 +-
 .../mapr/db/json/CompareFunctionsProcessor.java    |  2 +-
 .../exec/store/mapr/db/json/JsonScanSpec.java      |  2 +-
 .../exec/store/mapr/db/json/JsonSubScanSpec.java   |  2 +-
 .../drill/exec/store/mapr/db/util/CommonFns.java   |  2 +-
 .../exec/store/mapr/db/util/FieldPathHelper.java   | 31 +++++++++---------
 .../store/mapr/streams/StreamsFormatMatcher.java   |  2 +-
 .../store/mapr/streams/StreamsFormatPlugin.java    |  2 +-
 .../mapr/streams/StreamsFormatPluginConfig.java    |  2 +-
 .../src/main/resources/checkstyle-config.xml       | 29 +++++++++++------
 .../src/main/resources/checkstyle-suppressions.xml | 29 +++++++++++------
 .../mapr/drill/maprdb/tests/MaprDBTestsSuite.java  |  2 +-
 .../tests/binary/TestMapRDBCFAsJSONString.java     |  2 +-
 .../tests/binary/TestMapRDBFilterPushDown.java     |  2 +-
 .../tests/binary/TestMapRDBProjectPushDown.java    |  2 +-
 .../maprdb/tests/binary/TestMapRDBQueries.java     |  2 +-
 .../maprdb/tests/binary/TestMapRDBSimple.java      |  2 +-
 .../mapr/drill/maprdb/tests/json/BaseJsonTest.java |  2 +-
 .../src/test/resources/hbase-site.xml              | 27 +++++++++-------
 contrib/gis/pom.xml                                | 27 +++++++++-------
 .../drill/exec/expr/fn/impl/gis/STAsGeoJSON.java   |  1 -
 .../drill/exec/expr/fn/impl/gis/STAsJson.java      |  1 -
 .../drill/exec/expr/fn/impl/gis/STAsText.java      |  2 +-
 .../drill/exec/expr/fn/impl/gis/STDWithin.java     |  2 +-
 .../exec/expr/fn/impl/gis/STGeomFromText.java      |  2 +-
 .../exec/expr/fn/impl/gis/STGeomFromTextSrid.java  |  2 +-
 .../drill/exec/expr/fn/impl/gis/STPointFunc.java   |  2 +-
 .../drill/exec/expr/fn/impl/gis/STWithin.java      |  2 +-
 .../drill/exec/expr/fn/impl/gis/GISTestSuite.java  |  2 +-
 .../expr/fn/impl/gis/TestGeometryFunctions.java    |  2 +-
 contrib/native/client/example/querySubmitter.cpp   |  1 -
 contrib/native/client/readme.boost                 |  1 -
 contrib/native/client/readme.macos                 |  2 --
 contrib/native/client/readme.sasl                  |  1 -
 contrib/native/client/readme.ssl                   |  1 -
 contrib/native/client/scripts/cpProtofiles.sh      |  1 -
 contrib/native/client/scripts/fixProtodefs.sh      |  1 -
 contrib/native/client/src/clientlib/channel.cpp    |  1 -
 contrib/native/client/src/clientlib/channel.hpp    |  1 -
 .../client/src/clientlib/collectionsImpl.hpp       |  1 -
 .../native/client/src/clientlib/decimalUtils.cpp   |  2 --
 .../native/client/src/clientlib/drillClient.cpp    |  1 -
 .../client/src/clientlib/drillClientImpl.cpp       |  2 --
 .../client/src/clientlib/drillClientImpl.hpp       |  2 --
 .../native/client/src/clientlib/drillConfig.cpp    |  1 -
 contrib/native/client/src/clientlib/drillError.cpp |  2 --
 contrib/native/client/src/clientlib/env.h.in       |  1 -
 contrib/native/client/src/clientlib/errmsgs.cpp    |  1 -
 contrib/native/client/src/clientlib/errmsgs.hpp    |  1 -
 contrib/native/client/src/clientlib/fieldmeta.cpp  |  1 -
 contrib/native/client/src/clientlib/logger.cpp     | 33 ++++++++++---------
 contrib/native/client/src/clientlib/logger.hpp     | 33 ++++++++++---------
 contrib/native/client/src/clientlib/metadata.cpp   |  1 -
 contrib/native/client/src/clientlib/metadata.hpp   |  2 --
 .../native/client/src/clientlib/recordBatch.cpp    |  1 -
 contrib/native/client/src/clientlib/rpcMessage.cpp |  2 --
 contrib/native/client/src/clientlib/rpcMessage.hpp |  2 --
 .../client/src/clientlib/saslAuthenticatorImpl.cpp |  1 -
 .../client/src/clientlib/saslAuthenticatorImpl.hpp |  1 -
 .../native/client/src/clientlib/streamSocket.hpp   |  2 --
 .../native/client/src/clientlib/userProperties.cpp |  1 -
 contrib/native/client/src/clientlib/utils.cpp      | 33 ++++++++++---------
 contrib/native/client/src/clientlib/utils.hpp      | 33 ++++++++++---------
 contrib/native/client/src/clientlib/wincert.ipp    |  1 -
 contrib/native/client/src/clientlib/y2038/time64.c |  2 +-
 contrib/native/client/src/clientlib/y2038/time64.h |  2 +-
 .../client/src/clientlib/y2038/time64_config.h     |  2 +-
 .../client/src/clientlib/y2038/time64_limits.h     |  2 +-
 .../client/src/clientlib/zookeeperClient.cpp       |  1 -
 .../client/src/clientlib/zookeeperClient.hpp       |  1 -
 .../client/src/include/drill/collections.hpp       |  1 -
 contrib/native/client/src/include/drill/common.hpp |  2 --
 .../client/src/include/drill/decimalUtils.hpp      |  2 --
 .../client/src/include/drill/drillClient.hpp       |  2 --
 .../client/src/include/drill/drillConfig.hpp       |  2 --
 .../native/client/src/include/drill/drillError.hpp |  2 --
 contrib/native/client/src/include/drill/drillc.hpp |  1 -
 .../native/client/src/include/drill/fieldmeta.hpp  |  1 -
 .../client/src/include/drill/preparedStatement.hpp |  1 -
 .../client/src/include/drill/recordBatch.hpp       |  1 -
 contrib/native/client/src/test/CollectionsTest.cpp |  1 -
 contrib/native/client/src/test/UtilsTest.cpp       |  1 -
 contrib/native/client/src/test/main.cpp            |  1 -
 contrib/native/client/test/ssl/testClient.cpp      |  1 -
 contrib/native/client/test/ssl/testSSL.cpp         |  1 -
 contrib/native/client/test/ssl/testServer.cpp      |  2 --
 contrib/pom.xml                                    | 27 +++++++++-------
 contrib/sqlline/pom.xml                            | 31 ++++++++++--------
 contrib/storage-hbase/pom.xml                      | 27 +++++++++-------
 .../impl/conv/OrderedBytesBigIntConvertFrom.java   |  5 ++-
 .../fn/impl/conv/OrderedBytesBigIntConvertTo.java  |  5 ++-
 .../impl/conv/OrderedBytesBigIntDescConvertTo.java |  5 ++-
 .../impl/conv/OrderedBytesDoubleConvertFrom.java   |  5 ++-
 .../fn/impl/conv/OrderedBytesDoubleConvertTo.java  |  5 ++-
 .../impl/conv/OrderedBytesDoubleDescConvertTo.java |  5 ++-
 .../fn/impl/conv/OrderedBytesFloatConvertFrom.java |  5 ++-
 .../fn/impl/conv/OrderedBytesFloatConvertTo.java   |  5 ++-
 .../impl/conv/OrderedBytesFloatDescConvertTo.java  |  5 ++-
 .../fn/impl/conv/OrderedBytesIntConvertFrom.java   |  5 ++-
 .../fn/impl/conv/OrderedBytesIntConvertTo.java     |  5 ++-
 .../fn/impl/conv/OrderedBytesIntDescConvertTo.java |  5 ++-
 .../exec/store/hbase/DrillHBaseConstants.java      |  2 +-
 .../exec/store/hbase/HBaseConnectionManager.java   |  2 +-
 .../exec/store/hbase/HBasePushFilterIntoScan.java  |  3 +-
 .../drill/exec/store/hbase/HBaseRegexParser.java   |  2 +-
 .../exec/store/hbase/HBaseScanBatchCreator.java    |  2 +-
 .../drill/exec/store/hbase/HBaseScanSpec.java      |  2 +-
 .../exec/store/hbase/HBaseStoragePluginConfig.java |  2 +-
 .../exec/store/hbase/TableStatsCalculator.java     |  4 +--
 .../store/hbase/config/HBasePStoreProvider.java    |  6 ++--
 .../hbase/config/HBasePersistentStoreProvider.java |  2 +-
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |  2 +-
 .../apache/drill/hbase/HBaseRecordReaderTest.java  |  2 +-
 .../drill/hbase/TestHBaseCFAsJSONString.java       |  2 +-
 .../drill/hbase/TestHBaseConnectionManager.java    |  2 +-
 .../drill/hbase/TestHBaseFilterPushDown.java       |  2 +-
 .../drill/hbase/TestHBaseProjectPushDown.java      |  2 +-
 .../org/apache/drill/hbase/TestHBaseQueries.java   |  2 +-
 .../apache/drill/hbase/TestHBaseRegexParser.java   |  2 +-
 .../hbase/TestHBaseRegionScanAssignments.java      |  2 +-
 .../hbase/TestOrderedBytesConvertFunctions.java    |  2 +-
 .../org/apache/drill/hbase/TestTableGenerator.java |  2 +-
 ...l2130StorageHBaseHamcrestConfigurationTest.java |  2 +-
 .../src/test/resources/hbase-site.xml              | 36 ++++++++++-----------
 contrib/storage-hive/core/pom.xml                  | 27 +++++++++-------
 .../core/src/main/codegen/includes/license.ftl     | 36 +++++++++++----------
 .../main/codegen/templates/HiveRecordReaders.java  |  1 -
 .../codegen/templates/ObjectInspectorHelper.java   |  3 +-
 .../main/codegen/templates/ObjectInspectors.java   |  2 +-
 .../apache/drill/exec/expr/HiveFuncHolderExpr.java |  2 +-
 .../drill/exec/expr/fn/HiveFunctionRegistry.java   |  2 +-
 .../AbstractDrillPrimitiveObjectInspector.java     |  2 +-
 .../expr/fn/impl/hive/DrillDeferredObject.java     |  2 +-
 .../exec/planner/sql/HivePartitionLocation.java    |  2 +-
 .../drill/exec/planner/sql/HiveUDFOperator.java    |  3 +-
 .../sql/HiveUDFOperatorWithoutInference.java       |  2 +-
 .../logical/HivePushPartitionFilterIntoScan.java   |  3 +-
 .../drill/exec/store/hive/ColumnListsCache.java    | 31 +++++++++---------
 .../exec/store/hive/HiveAuthorizationHelper.java   |  2 +-
 .../drill/exec/store/hive/HiveFieldConverter.java  |  2 +-
 .../drill/exec/store/hive/HivePartition.java       | 31 +++++++++---------
 .../drill/exec/store/hive/HiveReadEntry.java       |  2 +-
 .../exec/store/hive/HiveStoragePluginConfig.java   |  2 +-
 .../exec/store/hive/HiveTableWithColumnCache.java  | 31 +++++++++---------
 .../drill/exec/store/hive/HiveTableWrapper.java    |  2 +-
 .../inspectors/AbstractRecordsInspector.java       | 13 ++++----
 .../inspectors/DefaultRecordsInspector.java        | 13 ++++----
 .../inspectors/SkipFooterRecordsInspector.java     | 13 ++++----
 .../exec/store/hive/schema/DrillHiveViewTable.java |  2 +-
 .../drill/exec/TestHivePartitionPruning.java       |  2 +-
 .../apache/drill/exec/TestHiveProjectPushDown.java |  2 +-
 .../drill/exec/fn/hive/HiveTestUDFImpls.java       |  6 ++--
 .../apache/drill/exec/fn/hive/TestHiveUDFs.java    |  2 +-
 .../drill/exec/fn/hive/TestSampleHiveUDFs.java     |  2 +-
 .../org/apache/drill/exec/hive/HiveTestBase.java   |  4 +--
 .../apache/drill/exec/hive/HiveTestUtilities.java  |  4 +--
 .../apache/drill/exec/hive/TestHiveStorage.java    |  2 +-
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |  2 +-
 .../hive/BaseTestHiveImpersonation.java            |  2 +-
 .../hive/TestSqlStdBasedAuthorization.java         |  2 +-
 .../hive/TestStorageBasedHiveAuthorization.java    |  2 +-
 .../exec/sql/hive/TestViewSupportOnHiveTables.java |  4 +--
 .../exec/store/hive/HiveTestDataGenerator.java     |  1 -
 .../inspectors/SkipFooterRecordsInspectorTest.java | 31 +++++++++---------
 .../store/hive/schema/TestColumnListCache.java     | 31 +++++++++---------
 ...30StorageHiveCoreHamcrestConfigurationTest.java |  2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml       | 27 +++++++++-------
 contrib/storage-hive/pom.xml                       | 27 +++++++++-------
 contrib/storage-jdbc/pom.xml                       | 29 ++++++++++-------
 .../drill/exec/store/jdbc/JdbcBatchCreator.java    |  2 +-
 .../org/apache/drill/exec/store/jdbc/JdbcDrel.java |  2 +-
 .../drill/exec/store/jdbc/JdbcGroupScan.java       |  2 +-
 .../exec/store/jdbc/JdbcIntermediatePrel.java      |  2 +-
 .../drill/exec/store/jdbc/JdbcRecordReader.java    |  2 +-
 .../drill/exec/store/jdbc/JdbcStorageConfig.java   |  2 +-
 .../apache/drill/exec/store/jdbc/JdbcSubScan.java  |  2 +-
 contrib/storage-kafka/pom.xml                      | 29 +++++++++++------
 contrib/storage-kudu/pom.xml                       | 29 +++++++++++------
 .../main/codegen/templates/KuduRecordWriter.java   |  3 +-
 .../drill/exec/store/kudu/DrillKuduTable.java      |  2 +-
 .../exec/store/kudu/KuduScanBatchCreator.java      |  2 +-
 .../apache/drill/exec/store/kudu/KuduScanSpec.java |  2 +-
 .../drill/exec/store/kudu/KuduSchemaFactory.java   |  2 +-
 .../drill/exec/store/kudu/KuduStoragePlugin.java   |  2 +-
 .../exec/store/kudu/KuduStoragePluginConfig.java   |  2 +-
 .../apache/drill/exec/store/kudu/KuduWriter.java   |  2 +-
 .../exec/store/kudu/KuduWriterBatchCreator.java    |  2 +-
 .../apache/drill/store/kudu/TestKuduConnect.java   |  2 +-
 contrib/storage-mongo/pom.xml                      | 27 +++++++++-------
 .../exec/store/mongo/DrillMongoConstants.java      |  2 +-
 .../drill/exec/store/mongo/MongoCnxnKey.java       |  2 +-
 .../store/mongo/MongoCompareFunctionProcessor.java |  2 +-
 .../drill/exec/store/mongo/MongoGroupScan.java     |  2 +-
 .../store/mongo/MongoPushDownFilterForScan.java    |  2 +-
 .../drill/exec/store/mongo/MongoRecordReader.java  |  2 +-
 .../exec/store/mongo/MongoScanBatchCreator.java    |  2 +-
 .../drill/exec/store/mongo/MongoScanSpec.java      |  2 +-
 .../drill/exec/store/mongo/MongoStoragePlugin.java |  2 +-
 .../exec/store/mongo/MongoStoragePluginConfig.java |  2 +-
 .../drill/exec/store/mongo/MongoSubScan.java       |  2 +-
 .../apache/drill/exec/store/mongo/MongoUtils.java  |  2 +-
 .../drill/exec/store/mongo/common/ChunkInfo.java   |  2 +-
 .../exec/store/mongo/common/MongoCompareOp.java    |  2 +-
 .../mongo/config/MongoPersistentStoreProvider.java |  2 +-
 .../drill/exec/store/mongo/package-info.java       |  2 +-
 .../store/mongo/schema/MongoDatabaseSchema.java    |  2 +-
 .../store/mongo/schema/MongoSchemaFactory.java     |  2 +-
 .../drill/exec/store/mongo/MongoTestBase.java      |  2 +-
 .../drill/exec/store/mongo/MongoTestConstants.java |  2 +-
 .../exec/store/mongo/TestMongoChunkAssignment.java |  2 +-
 .../exec/store/mongo/TestMongoFilterPushDown.java  |  2 +-
 .../exec/store/mongo/TestMongoProjectPushDown.java |  2 +-
 .../drill/exec/store/mongo/TestMongoQueries.java   |  2 +-
 .../drill/exec/store/mongo/TestTableGenerator.java |  2 +-
 contrib/storage-opentsdb/pom.xml                   | 27 +++++++++-------
 distribution/pom.xml                               | 29 +++++++++++------
 distribution/src/assemble/bin.xml                  | 27 +++++++++-------
 distribution/src/resources/auto-setup.sh           | 17 ++++++----
 distribution/src/resources/core-site-example.xml   | 28 ++++++++--------
 distribution/src/resources/distrib-env.sh          | 17 ++++++----
 distribution/src/resources/distrib-setup.sh        | 17 ++++++----
 distribution/src/resources/drill-am-log.xml        | 31 ++++++++++--------
 distribution/src/resources/drill-am.sh             | 16 ++++++----
 distribution/src/resources/drill-config.sh         | 17 ++++++----
 distribution/src/resources/drill-env.sh            | 18 ++++++-----
 distribution/src/resources/drill-on-yarn.sh        | 17 ++++++----
 distribution/src/resources/drill-setup.sh          | 17 ++++++----
 distribution/src/resources/drillbit.sh             |  4 +--
 distribution/src/resources/logback.xml             | 27 +++++++++-------
 distribution/src/resources/saffron.properties      | 15 +++++----
 distribution/src/resources/sqlline.bat             | 18 +++++++++++
 distribution/src/resources/yarn-client-log.xml     | 27 +++++++++-------
 distribution/src/resources/yarn-drillbit.sh        | 18 +++++------
 drill-yarn/pom.xml                                 | 27 +++++++++-------
 .../yarn/appMaster/http/AuthDynamicFeature.java    |  2 +-
 .../drill/yarn/appMaster/http/package-info.java    |  3 +-
 .../apache/drill/yarn/appMaster/package-info.java  |  1 -
 .../org/apache/drill/yarn/client/package-info.java |  1 -
 .../org/apache/drill/yarn/core/package-info.java   |  1 -
 .../java/org/apache/drill/yarn/package-info.java   |  1 -
 .../org/apache/drill/yarn/zk/package-info.java     |  1 -
 drill-yarn/src/main/resources/drill-am/config.ftl  | 28 ++++++++++------
 drill-yarn/src/main/resources/drill-am/confirm.ftl | 28 ++++++++++------
 drill-yarn/src/main/resources/drill-am/generic.ftl | 28 ++++++++++------
 drill-yarn/src/main/resources/drill-am/history.ftl | 28 ++++++++++------
 drill-yarn/src/main/resources/drill-am/index.ftl   | 28 ++++++++++------
 drill-yarn/src/main/resources/drill-am/login.ftl   | 28 ++++++++++------
 drill-yarn/src/main/resources/drill-am/manage.ftl  | 28 ++++++++++------
 .../src/main/resources/drill-am/redirect.ftl       | 28 ++++++++++------
 .../src/main/resources/drill-am/shrink-warning.ftl | 28 ++++++++++------
 drill-yarn/src/main/resources/drill-am/tasks.ftl   | 28 ++++++++++------
 drill-yarn/src/test/resources/doy-test-logback.xml | 29 +++++++++++------
 drill-yarn/src/test/resources/wrapper.sh           | 16 ++++++----
 .../java/org/apache/drill/exec/expr/TestPrune.java |  4 +--
 exec/java-exec/pom.xml                             | 29 +++++++++++------
 .../main/codegen/includes/compoundIdentifier.ftl   | 29 +++++++++++------
 .../src/main/codegen/includes/license.ftl          | 35 ++++++++++----------
 .../src/main/codegen/includes/parserImpls.ftl      | 28 ++++++++++------
 .../src/main/codegen/includes/vv_imports.ftl       | 28 ++++++++++------
 .../codegen/templates/AbstractRecordWriter.java    |  3 +-
 .../templates/AggrBitwiseLogicalTypeFunctions.java |  2 +-
 .../main/codegen/templates/AggrTypeFunctions1.java |  2 +-
 .../main/codegen/templates/AggrTypeFunctions2.java |  2 +-
 .../main/codegen/templates/AggrTypeFunctions3.java |  2 +-
 .../src/main/codegen/templates/CastDateDate.java   |  2 +-
 .../CastEmptyStringVarTypesToNullableNumeric.java  |  2 +-
 .../codegen/templates/CastFunctionsSrcVarLen.java  |  2 +-
 .../src/main/codegen/templates/CastHigh.java       |  2 +-
 .../codegen/templates/CastIntervalInterval.java    |  2 +-
 .../codegen/templates/CastVarCharInterval.java     |  2 +-
 .../codegen/templates/ComparisonFunctions.java     |  4 +--
 .../templates/CorrelationTypeFunctions.java        |  2 +-
 .../codegen/templates/CountAggregateFunctions.java |  3 +-
 .../main/codegen/templates/CovarTypeFunctions.java |  2 +-
 .../templates/DateIntervalAggrFunctions1.java      |  2 +-
 .../DateDateArithmeticFunctions.java               |  3 +-
 .../DateIntervalArithmeticFunctions.java           |  2 +-
 .../DateToCharFunctions.java                       |  3 +-
 .../DateTruncFunctions.java                        |  3 +-
 .../DateIntervalFunctionTemplates/Extract.java     |  2 +-
 .../IntervalIntervalArithmetic.java                |  2 +-
 .../IntervalNumericArithmetic.java                 |  2 +-
 .../SqlToDateTypeFunctions.java                    |  3 +-
 .../ToDateTypeFunctions.java                       |  3 +-
 .../ToTimeStampFunction.java                       |  3 +-
 .../templates/Decimal/CastDecimalFloat.java        |  2 +-
 .../Decimal/DecimalAggrTypeFunctions1.java         |  2 --
 .../Decimal/DecimalAggrTypeFunctions2.java         |  1 -
 .../templates/Decimal/DecimalFunctions.java        |  1 -
 .../main/codegen/templates/DirectoryExplorers.java |  5 ++-
 .../main/codegen/templates/DrillVersionInfo.java   |  5 ++-
 .../codegen/templates/EventBasedRecordWriter.java  |  1 -
 .../codegen/templates/IntervalAggrFunctions2.java  |  2 +-
 .../codegen/templates/JsonOutputRecordWriter.java  |  3 +-
 .../codegen/templates/MathFunctionTemplates.java   |  2 +-
 .../src/main/codegen/templates/MathFunctions.java  |  2 +-
 .../main/codegen/templates/NewValueFunctions.java  |  2 +-
 .../src/main/codegen/templates/NullOperator.java   |  2 +-
 .../templates/NumericFunctionsTemplates.java       |  3 +-
 .../codegen/templates/NumericToCharFunctions.java  |  3 +-
 .../templates/ParquetOutputRecordWriter.java       |  3 +-
 .../main/codegen/templates/ParquetTypeHelper.java  |  3 +-
 .../codegen/templates/RecordValueAccessor.java     |  2 +-
 .../src/main/codegen/templates/RecordWriter.java   |  2 +-
 .../src/main/codegen/templates/SqlAccessors.java   |  1 -
 .../templates/StringOutputRecordWriter.java        |  1 -
 .../src/main/codegen/templates/SumZeroAggr.java    |  2 +-
 .../src/main/codegen/templates/TypeHelper.java     |  3 +-
 .../src/main/codegen/templates/UnionFunctions.java |  3 +-
 .../codegen/templates/VarCharAggrFunctions1.java   |  2 +-
 .../org/apache/drill/exec/TestMemoryRetention.java |  2 +-
 .../exec/cache/AbstractStreamSerializable.java     |  2 +-
 .../drill/exec/cache/CachedVectorContainer.java    |  2 +-
 .../java/org/apache/drill/exec/cache/Counter.java  |  2 +-
 .../apache/drill/exec/cache/DistributedCache.java  |  2 +-
 .../apache/drill/exec/cache/DistributedMap.java    |  2 +-
 .../drill/exec/cache/DistributedMultiMap.java      |  2 +-
 .../apache/drill/exec/cache/DrillSerializable.java |  2 +-
 .../cache/LoopedAbstractDrillSerializable.java     |  2 +-
 .../drill/exec/cache/SerializationDefinition.java  |  2 +-
 .../org/apache/drill/exec/cache/package-info.java  |  2 +-
 .../org/apache/drill/exec/client/DrillClient.java  |  2 +-
 .../apache/drill/exec/client/QuerySubmitter.java   |  2 +-
 .../org/apache/drill/exec/client/package-info.java |  2 +-
 .../drill/exec/compile/AbstractClassCompiler.java  |  2 +-
 .../org/apache/drill/exec/compile/AsmUtil.java     |  2 +-
 .../apache/drill/exec/compile/ByteCodeLoader.java  |  2 +-
 .../drill/exec/compile/CachedClassLoader.java      |  2 +-
 .../drill/exec/compile/CheckClassVisitorFsm.java   |  2 +-
 .../drill/exec/compile/CheckMethodVisitorFsm.java  |  2 +-
 .../drill/exec/compile/ClassBodyBuilder.java       |  2 +-
 .../drill/exec/compile/CompilationConfig.java      |  2 +-
 .../drill/exec/compile/DrillCheckClassAdapter.java |  2 +-
 .../exec/compile/DrillDiagnosticListener.java      |  2 +-
 .../drill/exec/compile/DrillInitMethodVisitor.java |  2 +-
 .../drill/exec/compile/DrillJavaFileManager.java   |  2 +-
 .../drill/exec/compile/DrillJavaFileObject.java    |  2 +-
 .../org/apache/drill/exec/compile/FsmCursor.java   |  2 +-
 .../apache/drill/exec/compile/FsmDescriptor.java   |  2 +-
 .../exec/compile/InnerClassAccessStripper.java     |  2 +-
 .../drill/exec/compile/JDKClassCompiler.java       |  2 +-
 .../drill/exec/compile/JaninoClassCompiler.java    |  2 +-
 .../org/apache/drill/exec/compile/LogWriter.java   |  2 +-
 .../apache/drill/exec/compile/MergeAdapter.java    |  2 +-
 .../exec/compile/RetargetableClassVisitor.java     |  2 +-
 .../exec/compile/TemplateClassDefinition.java      |  2 +-
 .../exec/compile/bytecode/AloadPopRemover.java     |  2 +-
 .../drill/exec/compile/bytecode/DirectSorter.java  |  2 +-
 .../exec/compile/bytecode/InstructionModifier.java |  2 +-
 .../exec/compile/bytecode/MethodAnalyzer.java      |  2 +-
 .../exec/compile/bytecode/ReplacingBasicValue.java |  2 +-
 .../compile/bytecode/ReplacingInterpreter.java     |  2 +-
 .../compile/bytecode/ScalarReplacementNode.java    |  2 +-
 .../compile/bytecode/ScalarReplacementTypes.java   |  2 +-
 .../compile/bytecode/TrackingInstructionList.java  |  2 +-
 .../exec/compile/bytecode/ValueHolderIden.java     |  2 +-
 .../bytecode/ValueHolderReplacementVisitor.java    |  2 +-
 .../drill/exec/compile/bytecode/package-info.java  |  2 +-
 .../apache/drill/exec/compile/package-info.java    |  2 +-
 .../exec/compile/sig/CodeGeneratorArgument.java    |  2 +-
 .../exec/compile/sig/CodeGeneratorMethod.java      |  2 +-
 .../exec/compile/sig/CodeGeneratorSignature.java   |  2 +-
 .../drill/exec/compile/sig/GeneratorMapping.java   |  2 +-
 .../apache/drill/exec/compile/sig/MappingSet.java  |  2 +-
 .../drill/exec/compile/sig/RuntimeOverridden.java  |  2 +-
 .../apache/drill/exec/compile/sig/Signature.java   |  2 +-
 .../apache/drill/exec/compile/sig/VVReadBatch.java |  2 +-
 .../drill/exec/compile/sig/VVWriteBatch.java       |  2 +-
 .../drill/exec/compile/sig/package-info.java       |  2 +-
 .../drill/exec/coord/ClusterCoordinator.java       |  2 +-
 .../drill/exec/coord/DistributedSemaphore.java     |  2 +-
 .../exec/coord/DrillServiceInstanceHelper.java     |  2 +-
 .../drill/exec/coord/DrillbitEndpointSerDe.java    |  2 +-
 .../exec/coord/local/LocalClusterCoordinator.java  |  2 +-
 .../drill/exec/coord/local/MapBackedStore.java     |  6 ++--
 .../drill/exec/coord/local/package-info.java       |  2 +-
 .../org/apache/drill/exec/coord/package-info.java  |  2 +-
 .../drill/exec/coord/store/BaseTransientStore.java |  6 ++--
 .../coord/store/CachingTransientStoreFactory.java  |  6 ++--
 .../drill/exec/coord/store/TransientStore.java     |  6 ++--
 .../exec/coord/store/TransientStoreConfig.java     |  6 ++--
 .../coord/store/TransientStoreConfigBuilder.java   |  6 ++--
 .../exec/coord/store/TransientStoreEvent.java      |  6 ++--
 .../exec/coord/store/TransientStoreEventType.java  |  6 ++--
 .../exec/coord/store/TransientStoreFactory.java    |  6 ++--
 .../exec/coord/store/TransientStoreListener.java   |  6 ++--
 .../drill/exec/coord/zk/EventDispatcher.java       |  6 ++--
 .../org/apache/drill/exec/coord/zk/PathUtils.java  |  4 +--
 .../drill/exec/coord/zk/ZKClusterCoordinator.java  |  2 +-
 .../drill/exec/coord/zk/ZKRegistrationHandle.java  |  2 +-
 .../exec/coord/zk/ZkDistributedSemaphore.java      |  2 +-
 .../drill/exec/coord/zk/ZkEphemeralStore.java      |  6 ++--
 .../exec/coord/zk/ZkTransientStoreFactory.java     |  6 ++--
 .../drill/exec/coord/zk/ZookeeperClient.java       |  4 +--
 .../apache/drill/exec/coord/zk/package-info.java   |  2 +-
 .../java/org/apache/drill/exec/disk/Spool.java     |  2 +-
 .../org/apache/drill/exec/disk/package-info.java   |  2 +-
 .../apache/drill/exec/dotdrill/DotDrillFile.java   |  2 +-
 .../apache/drill/exec/dotdrill/DotDrillType.java   |  2 +-
 .../apache/drill/exec/dotdrill/DotDrillUtil.java   |  2 +-
 .../apache/drill/exec/dotdrill/package-info.java   |  2 +-
 .../drill/exec/exception/BitComException.java      |  2 +-
 .../exception/ClassTransformationException.java    |  2 +-
 .../exec/exception/DrillbitStartupException.java   |  2 +-
 .../exec/exception/FragmentSetupException.java     |  2 +-
 .../exception/FunctionValidationException.java     |  6 ++--
 .../exec/exception/JarValidationException.java     |  6 ++--
 .../drill/exec/exception/OptimizerException.java   |  2 +-
 .../exec/exception/SchemaChangeException.java      |  2 +-
 .../drill/exec/exception/SetupException.java       |  2 +-
 .../drill/exec/exception/StoreException.java       |  6 ++--
 .../exception/UnsupportedOperatorCollector.java    |  2 +-
 .../exec/exception/VersionMismatchException.java   |  6 ++--
 .../apache/drill/exec/exception/package-info.java  |  2 +-
 .../org/apache/drill/exec/expr/BatchReference.java | 13 ++++----
 .../org/apache/drill/exec/expr/BooleanType.java    |  2 +-
 .../org/apache/drill/exec/expr/CloneVisitor.java   |  6 ++--
 .../apache/drill/exec/expr/DebugStringBuilder.java |  2 +-
 .../apache/drill/exec/expr/DirectExpression.java   |  2 +-
 .../org/apache/drill/exec/expr/DrillAggFunc.java   |  2 +-
 .../java/org/apache/drill/exec/expr/DrillFunc.java |  2 +-
 .../apache/drill/exec/expr/DrillSimpleFunc.java    |  2 +-
 .../apache/drill/exec/expr/EqualityVisitor.java    |  4 +--
 .../apache/drill/exec/expr/GetSetVectorHelper.java |  2 +-
 .../org/apache/drill/exec/expr/HashVisitor.java    |  6 ++--
 .../exec/expr/HoldingContainerExpression.java      |  2 +-
 .../drill/exec/expr/SingleClassStringWriter.java   |  2 +-
 .../org/apache/drill/exec/expr/SizedJBlock.java    |  3 +-
 .../exec/expr/ValueVectorWriteExpression.java      |  2 +-
 .../apache/drill/exec/expr/annotations/Output.java |  2 +-
 .../apache/drill/exec/expr/annotations/Param.java  |  2 +-
 .../drill/exec/expr/annotations/Workspace.java     |  2 +-
 .../exec/expr/fn/DrillComplexWriterFuncHolder.java |  1 -
 .../drill/exec/expr/fn/ExceptionFunction.java      |  6 ++--
 .../drill/exec/expr/fn/FunctionLookupContext.java  |  2 +-
 .../apache/drill/exec/expr/fn/FunctionUtils.java   | 13 ++++----
 .../drill/exec/expr/fn/MethodGrabbingVisitor.java  |  2 +-
 .../drill/exec/expr/fn/ModifiedUnparseVisitor.java |  2 +-
 .../exec/expr/fn/PluggableFunctionRegistry.java    |  2 +-
 .../exec/expr/fn/impl/AggregateErrorFunctions.java |  2 +-
 .../apache/drill/exec/expr/fn/impl/Alternator.java |  2 +-
 .../drill/exec/expr/fn/impl/BitFunctions.java      |  2 +-
 .../exec/expr/fn/impl/BooleanAggrFunctions.java    |  7 ++--
 .../drill/exec/expr/fn/impl/ByteSubstring.java     |  2 +-
 .../drill/exec/expr/fn/impl/CastBigIntDate.java    |  2 +-
 .../exec/expr/fn/impl/CastBigIntTimeStamp.java     |  2 +-
 .../drill/exec/expr/fn/impl/CastIntTime.java       |  2 +-
 .../exec/expr/fn/impl/CastVarCharVar16Char.java    |  2 +-
 .../exec/expr/fn/impl/CharSequenceWrapper.java     |  4 ++-
 .../drill/exec/expr/fn/impl/CharSubstring.java     |  2 +-
 .../drill/exec/expr/fn/impl/ContextFunctions.java  |  2 +-
 .../drill/exec/expr/fn/impl/CryptoFunctions.java   | 14 ++++----
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java |  1 -
 .../drill/exec/expr/fn/impl/DrillByteArray.java    |  2 +-
 .../apache/drill/exec/expr/fn/impl/DrillHash.java  |  3 +-
 .../drill/exec/expr/fn/impl/Hash32AsDouble.java    |  2 +-
 .../drill/exec/expr/fn/impl/Hash32Functions.java   |  2 +-
 .../exec/expr/fn/impl/Hash32FunctionsWithSeed.java |  2 +-
 .../exec/expr/fn/impl/Hash32WithSeedAsDouble.java  |  2 +-
 .../drill/exec/expr/fn/impl/Hash64AsDouble.java    |  2 +-
 .../drill/exec/expr/fn/impl/Hash64Functions.java   |  2 +-
 .../exec/expr/fn/impl/Hash64FunctionsWithSeed.java |  2 +-
 .../exec/expr/fn/impl/Hash64WithSeedAsDouble.java  |  2 +-
 .../apache/drill/exec/expr/fn/impl/HashHelper.java |  2 +-
 .../apache/drill/exec/expr/fn/impl/IsFalse.java    |  3 +-
 .../apache/drill/exec/expr/fn/impl/IsNotFalse.java |  3 +-
 .../apache/drill/exec/expr/fn/impl/IsNotTrue.java  |  3 +-
 .../org/apache/drill/exec/expr/fn/impl/IsTrue.java |  3 +-
 .../apache/drill/exec/expr/fn/impl/Mappify.java    |  2 +-
 .../drill/exec/expr/fn/impl/MappifyUtility.java    |  2 +-
 .../drill/exec/expr/fn/impl/MathFunctions.java     |  2 +-
 .../drill/exec/expr/fn/impl/MurmurHash3.java       |  5 +--
 .../drill/exec/expr/fn/impl/NetworkFunctions.java  |  1 -
 .../org/apache/drill/exec/expr/fn/impl/Not.java    |  3 +-
 .../exec/expr/fn/impl/ParseQueryFunction.java      | 34 ++++++++++----------
 .../drill/exec/expr/fn/impl/ParseUrlFunction.java  | 18 ++++++-----
 .../apache/drill/exec/expr/fn/impl/RegexpUtil.java |  2 +-
 .../exec/expr/fn/impl/SimpleRepeatedFunctions.java |  2 +-
 .../drill/exec/expr/fn/impl/SqlPatternFactory.java |  1 -
 .../exec/expr/fn/impl/StringFunctionHelpers.java   |  3 +-
 .../exec/expr/fn/impl/StringFunctionUtil.java      |  2 +-
 .../drill/exec/expr/fn/impl/UnionFunctions.java    |  2 +-
 .../apache/drill/exec/expr/fn/impl/VarHelpers.java |  2 +-
 .../org/apache/drill/exec/expr/fn/impl/XXHash.java |  2 +-
 .../expr/fn/impl/conv/BigIntBEConvertFrom.java     |  2 +-
 .../exec/expr/fn/impl/conv/BigIntBEConvertTo.java  |  2 +-
 .../exec/expr/fn/impl/conv/BigIntConvertFrom.java  |  5 ++-
 .../exec/expr/fn/impl/conv/BigIntConvertTo.java    |  5 ++-
 .../expr/fn/impl/conv/BigIntVLongConvertFrom.java  |  2 +-
 .../expr/fn/impl/conv/BigIntVLongConvertTo.java    |  2 +-
 .../expr/fn/impl/conv/BooleanByteConvertFrom.java  |  5 ++-
 .../expr/fn/impl/conv/BooleanByteConvertTo.java    |  5 ++-
 .../fn/impl/conv/ConvertFromImpalaTimestamp.java   |  4 +--
 .../expr/fn/impl/conv/DateEpochBEConvertFrom.java  |  2 +-
 .../expr/fn/impl/conv/DateEpochBEConvertTo.java    |  2 +-
 .../expr/fn/impl/conv/DateEpochConvertFrom.java    |  5 ++-
 .../exec/expr/fn/impl/conv/DateEpochConvertTo.java |  5 ++-
 .../expr/fn/impl/conv/DoubleBEConvertFrom.java     |  5 ++-
 .../exec/expr/fn/impl/conv/DoubleBEConvertTo.java  |  5 ++-
 .../exec/expr/fn/impl/conv/DoubleConvertFrom.java  |  5 ++-
 .../exec/expr/fn/impl/conv/DoubleConvertTo.java    |  5 ++-
 .../exec/expr/fn/impl/conv/DummyConvertFrom.java   |  5 ++-
 .../exec/expr/fn/impl/conv/DummyConvertTo.java     |  5 ++-
 .../drill/exec/expr/fn/impl/conv/DummyFlatten.java |  4 +--
 .../exec/expr/fn/impl/conv/FloatBEConvertFrom.java |  5 ++-
 .../exec/expr/fn/impl/conv/FloatBEConvertTo.java   |  5 ++-
 .../exec/expr/fn/impl/conv/FloatConvertFrom.java   |  5 ++-
 .../exec/expr/fn/impl/conv/FloatConvertTo.java     |  5 ++-
 .../exec/expr/fn/impl/conv/IntBEConvertFrom.java   |  2 +-
 .../exec/expr/fn/impl/conv/IntBEConvertTo.java     |  2 +-
 .../exec/expr/fn/impl/conv/IntConvertFrom.java     |  5 ++-
 .../drill/exec/expr/fn/impl/conv/IntConvertTo.java |  5 ++-
 .../exec/expr/fn/impl/conv/IntVIntConvertFrom.java |  2 +-
 .../exec/expr/fn/impl/conv/IntVIntConvertTo.java   |  2 +-
 .../exec/expr/fn/impl/conv/JsonConvertFrom.java    |  3 +-
 .../exec/expr/fn/impl/conv/JsonConvertTo.java      |  3 +-
 .../exec/expr/fn/impl/conv/RoundFunctions.java     |  5 ++-
 .../expr/fn/impl/conv/SmallIntBEConvertFrom.java   |  5 ++-
 .../expr/fn/impl/conv/SmallIntBEConvertTo.java     |  5 ++-
 .../expr/fn/impl/conv/SmallIntConvertFrom.java     |  5 ++-
 .../exec/expr/fn/impl/conv/SmallIntConvertTo.java  |  5 ++-
 .../expr/fn/impl/conv/TimeEpochBEConvertFrom.java  |  2 +-
 .../expr/fn/impl/conv/TimeEpochBEConvertTo.java    |  2 +-
 .../expr/fn/impl/conv/TimeEpochConvertFrom.java    |  5 ++-
 .../exec/expr/fn/impl/conv/TimeEpochConvertTo.java |  5 ++-
 .../fn/impl/conv/TimeStampEpochBEConvertFrom.java  |  2 +-
 .../fn/impl/conv/TimeStampEpochBEConvertTo.java    |  2 +-
 .../fn/impl/conv/TimeStampEpochConvertFrom.java    |  5 ++-
 .../expr/fn/impl/conv/TimeStampEpochConvertTo.java |  5 ++-
 .../exec/expr/fn/impl/conv/TinyIntConvertFrom.java |  5 ++-
 .../exec/expr/fn/impl/conv/TinyIntConvertTo.java   |  5 ++-
 .../exec/expr/fn/impl/conv/UInt4BEConvertFrom.java |  2 +-
 .../exec/expr/fn/impl/conv/UInt4BEConvertTo.java   |  2 +-
 .../exec/expr/fn/impl/conv/UInt4ConvertFrom.java   |  5 ++-
 .../exec/expr/fn/impl/conv/UInt4ConvertTo.java     |  5 ++-
 .../exec/expr/fn/impl/conv/UInt8ConvertFrom.java   |  5 ++-
 .../exec/expr/fn/impl/conv/UInt8ConvertTo.java     |  5 ++-
 .../exec/expr/fn/impl/conv/UTF16ConvertFrom.java   |  5 ++-
 .../exec/expr/fn/impl/conv/UTF16ConvertTo.java     |  5 ++-
 .../exec/expr/fn/impl/conv/UTF8ConvertFrom.java    |  5 ++-
 .../exec/expr/fn/impl/conv/UTF8ConvertTo.java      |  5 ++-
 .../expr/fn/interpreter/InterpreterEvaluator.java  |  2 +-
 .../expr/fn/output/ConcatReturnTypeInference.java  | 13 ++++----
 .../expr/fn/output/DecimalReturnTypeInference.java | 13 ++++----
 .../expr/fn/output/DefaultReturnTypeInference.java | 13 ++++----
 .../expr/fn/output/PadReturnTypeInference.java     | 13 ++++----
 .../exec/expr/fn/output/ReturnTypeInference.java   | 13 ++++----
 .../output/SameInOutLengthReturnTypeInference.java | 13 ++++----
 .../fn/output/StringCastReturnTypeInference.java   | 13 ++++----
 .../exec/expr/fn/registry/FunctionHolder.java      |  6 ++--
 .../expr/fn/registry/FunctionRegistryHolder.java   |  4 +--
 .../drill/exec/expr/fn/registry/JarScan.java       |  6 ++--
 .../expr/fn/registry/RemoteFunctionRegistry.java   |  4 +--
 .../org/apache/drill/exec/expr/package-info.java   |  2 +-
 .../exec/expr/stat/ParquetBooleanPredicates.java   | 13 ++++----
 .../expr/stat/ParquetComparisonPredicates.java     | 13 ++++----
 .../exec/expr/stat/ParquetFilterPredicate.java     |  7 ++--
 .../drill/exec/expr/stat/ParquetIsPredicates.java  | 13 ++++----
 .../exec/expr/stat/ParquetPredicatesHelper.java    |  4 +--
 .../drill/exec/expr/stat/RangeExprEvaluator.java   |  4 +--
 .../drill/exec/ops/AccountingUserConnection.java   |  2 +-
 .../java/org/apache/drill/exec/ops/Consumer.java   |  2 +-
 .../apache/drill/exec/ops/ContextInformation.java  |  4 +--
 .../org/apache/drill/exec/ops/FragmentStats.java   |  2 +-
 .../java/org/apache/drill/exec/ops/MetricDef.java  |  2 +-
 .../org/apache/drill/exec/ops/OpProfileDef.java    |  2 +-
 .../drill/exec/ops/OperatorMetricRegistry.java     |  6 ++--
 .../drill/exec/ops/OptimizerRulesContext.java      |  2 +-
 .../apache/drill/exec/ops/SendingAccountor.java    |  2 +-
 .../org/apache/drill/exec/ops/StatusHandler.java   |  2 +-
 .../org/apache/drill/exec/ops/UdfUtilities.java    |  4 +--
 .../drill/exec/ops/ViewExpansionContext.java       |  4 +--
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  2 +-
 .../apache/drill/exec/opt/IdentityOptimizer.java   |  2 +-
 .../java/org/apache/drill/exec/opt/Optimizer.java  |  2 +-
 .../java/org/apache/drill/exec/package-info.java   |  2 +-
 .../drill/exec/physical/DataValidationMode.java    |  2 +-
 .../drill/exec/physical/EndpointAffinity.java      |  2 +-
 .../drill/exec/physical/MinorFragmentEndpoint.java |  4 +--
 .../physical/PhysicalOperatorSetupException.java   |  2 +-
 .../org/apache/drill/exec/physical/WriteEntry.java |  2 +-
 .../drill/exec/physical/base/AbstractExchange.java |  2 +-
 .../exec/physical/base/AbstractFileGroupScan.java  |  2 +-
 .../drill/exec/physical/base/AbstractMultiple.java |  2 +-
 .../physical/base/AbstractPhysicalVisitor.java     |  2 +-
 .../drill/exec/physical/base/AbstractReceiver.java |  2 +-
 .../drill/exec/physical/base/AbstractSender.java   |  2 +-
 .../drill/exec/physical/base/AbstractSingle.java   |  2 +-
 .../drill/exec/physical/base/AbstractStore.java    |  2 +-
 .../drill/exec/physical/base/AbstractSubScan.java  |  2 +-
 .../apache/drill/exec/physical/base/Exchange.java  |  2 +-
 .../drill/exec/physical/base/FileGroupScan.java    |  2 +-
 .../drill/exec/physical/base/FragmentLeaf.java     |  2 +-
 .../drill/exec/physical/base/HasAffinity.java      |  2 +-
 .../org/apache/drill/exec/physical/base/Leaf.java  |  2 +-
 .../drill/exec/physical/base/PhysicalOperator.java |  2 +-
 .../exec/physical/base/PhysicalOperatorUtil.java   |  2 +-
 .../drill/exec/physical/base/PhysicalVisitor.java  |  2 +-
 .../apache/drill/exec/physical/base/Receiver.java  |  2 +-
 .../org/apache/drill/exec/physical/base/Root.java  |  2 +-
 .../org/apache/drill/exec/physical/base/Scan.java  |  2 +-
 .../apache/drill/exec/physical/base/ScanStats.java |  2 +-
 .../drill/exec/physical/base/SchemalessScan.java   | 13 ++++----
 .../apache/drill/exec/physical/base/Sender.java    |  2 +-
 .../org/apache/drill/exec/physical/base/Store.java |  2 +-
 .../apache/drill/exec/physical/base/SubScan.java   |  2 +-
 .../apache/drill/exec/physical/base/Writer.java    |  3 +-
 .../physical/config/AbstractDeMuxExchange.java     |  2 +-
 .../exec/physical/config/AbstractMuxExchange.java  |  2 +-
 .../exec/physical/config/BroadcastExchange.java    |  4 +--
 .../exec/physical/config/BroadcastSender.java      |  3 +-
 .../drill/exec/physical/config/ComplexToJson.java  |  2 +-
 .../apache/drill/exec/physical/config/Filter.java  |  2 +-
 .../drill/exec/physical/config/FlattenPOP.java     |  4 +--
 .../drill/exec/physical/config/HashAggregate.java  |  2 +-
 .../drill/exec/physical/config/HashJoinPOP.java    |  3 +-
 .../exec/physical/config/HashPartitionSender.java  |  2 +-
 .../exec/physical/config/HashToMergeExchange.java  |  2 +-
 .../exec/physical/config/HashToRandomExchange.java |  2 +-
 .../exec/physical/config/IteratorValidator.java    |  2 +-
 .../apache/drill/exec/physical/config/Limit.java   |  4 +--
 .../drill/exec/physical/config/MergeJoinPOP.java   |  2 +-
 .../exec/physical/config/MergingReceiverPOP.java   |  2 +-
 .../exec/physical/config/NestedLoopJoinPOP.java    |  1 -
 .../exec/physical/config/OrderedMuxExchange.java   |  2 +-
 .../physical/config/OrderedPartitionExchange.java  |  2 +-
 .../drill/exec/physical/config/PartitionRange.java |  2 +-
 .../exec/physical/config/ProducerConsumer.java     |  2 +-
 .../apache/drill/exec/physical/config/Project.java |  2 +-
 .../drill/exec/physical/config/RangeSender.java    |  2 +-
 .../apache/drill/exec/physical/config/Screen.java  |  2 +-
 .../physical/config/SelectionVectorRemover.java    |  2 +-
 .../exec/physical/config/SingleMergeExchange.java  |  3 +-
 .../drill/exec/physical/config/SingleSender.java   |  2 +-
 .../apache/drill/exec/physical/config/Sort.java    |  2 +-
 .../exec/physical/config/StreamingAggregate.java   |  2 +-
 .../apache/drill/exec/physical/config/TopN.java    |  2 +-
 .../apache/drill/exec/physical/config/Trace.java   |  3 +-
 .../drill/exec/physical/config/UnionAll.java       |  2 +-
 .../physical/config/UnorderedDeMuxExchange.java    |  2 +-
 .../exec/physical/config/UnorderedMuxExchange.java |  2 +-
 .../exec/physical/config/UnorderedReceiver.java    |  2 +-
 .../apache/drill/exec/physical/config/Values.java  |  2 +-
 .../drill/exec/physical/config/WindowPOP.java      |  3 +-
 .../drill/exec/physical/impl/BaseRootExec.java     |  2 +-
 .../drill/exec/physical/impl/BatchCreator.java     |  2 +-
 .../physical/impl/OperatorCreatorRegistry.java     |  2 +-
 .../drill/exec/physical/impl/OutputMutator.java    |  2 +-
 .../drill/exec/physical/impl/PhysicalConfig.java   |  2 +-
 .../drill/exec/physical/impl/RootCreator.java      |  2 +-
 .../apache/drill/exec/physical/impl/RootExec.java  |  2 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |  2 +-
 .../exec/physical/impl/SingleSenderCreator.java    |  2 +-
 .../exec/physical/impl/TopN/PriorityQueue.java     |  2 +-
 .../physical/impl/TopN/TopNSortBatchCreator.java   |  2 +-
 .../drill/exec/physical/impl/TraceInjector.java    |  1 -
 .../exec/physical/impl/WriterRecordBatch.java      |  1 -
 .../physical/impl/aggregate/BatchIterator.java     |  2 +-
 .../impl/aggregate/HashAggBatchCreator.java        |  2 +-
 .../physical/impl/aggregate/HashAggregator.java    |  2 +-
 .../impl/aggregate/StreamingAggBatchCreator.java   |  2 +-
 .../impl/aggregate/StreamingAggregator.java        |  2 +-
 .../broadcastsender/BroadcastSenderCreator.java    |  2 +-
 .../broadcastsender/BroadcastSenderRootExec.java   |  4 +--
 .../physical/impl/common/ChainedHashTable.java     | 14 ++++----
 .../exec/physical/impl/common/Comparator.java      |  6 ++--
 .../drill/exec/physical/impl/common/HashTable.java |  2 +-
 .../exec/physical/impl/common/HashTableConfig.java |  2 +-
 .../exec/physical/impl/common/HashTableStats.java  |  2 +-
 .../exec/physical/impl/common/IndexPointer.java    |  2 +-
 .../physical/impl/filter/EvalSetupException.java   |  2 +-
 .../physical/impl/filter/EvaluationPredicate.java  |  2 +-
 .../physical/impl/filter/FilterBatchCreator.java   |  2 +-
 .../exec/physical/impl/filter/FilterSignature.java |  2 +-
 .../exec/physical/impl/filter/FilterTemplate4.java |  2 +-
 .../impl/filter/ReturnValueExpression.java         |  2 +-
 .../physical/impl/flatten/FlattenBatchCreator.java |  2 +-
 .../exec/physical/impl/flatten/Flattener.java      |  2 +-
 .../physical/impl/join/HashJoinBatchCreator.java   |  2 +-
 .../exec/physical/impl/join/HashJoinHelper.java    |  3 +-
 .../exec/physical/impl/join/HashJoinProbe.java     |  3 +-
 .../physical/impl/join/HashJoinProbeTemplate.java  |  2 +-
 .../exec/physical/impl/join/JoinTemplate.java      |  2 +-
 .../drill/exec/physical/impl/join/JoinUtils.java   |  1 -
 .../drill/exec/physical/impl/join/JoinWorker.java  |  2 +-
 .../exec/physical/impl/join/MergeJoinCreator.java  |  2 +-
 .../impl/join/NestedLoopJoinBatchCreator.java      |  2 +-
 .../physical/impl/limit/LimitBatchCreator.java     |  2 +-
 .../exec/physical/impl/limit/LimitRecordBatch.java |  2 +-
 .../impl/materialize/QueryWritableBatch.java       |  2 +-
 .../impl/materialize/RecordMaterializer.java       |  2 +-
 .../impl/materialize/VectorRecordMaterializer.java |  2 +-
 .../OrderedPartitionProjector.java                 |  2 +-
 .../OrderedPartitionSenderCreator.java             |  2 +-
 .../impl/orderedpartitioner/SampleCopier.java      |  2 +-
 .../orderedpartitioner/SampleCopierTemplate.java   |  2 +-
 .../orderedpartitioner/SampleSortTemplate.java     |  2 +-
 .../impl/orderedpartitioner/SampleSorter.java      |  2 +-
 .../partitionsender/PartitionOutgoingBatch.java    |  2 +-
 .../partitionsender/PartitionSenderCreator.java    |  2 +-
 .../physical/impl/partitionsender/Partitioner.java |  2 +-
 .../impl/partitionsender/PartitionerDecorator.java |  2 +-
 .../producer/ProducerConsumerBatchCreator.java     |  2 +-
 .../impl/project/ComplexToJsonBatchCreator.java    |  2 +-
 .../physical/impl/project/ProjectBatchCreator.java |  2 +-
 .../exec/physical/impl/project/Projector.java      |  2 +-
 .../exec/physical/impl/sort/SortBatchCreator.java  |  2 +-
 .../exec/physical/impl/sort/SortTemplate.java      |  2 +-
 .../drill/exec/physical/impl/sort/Sorter.java      |  2 +-
 .../physical/impl/svremover/SVRemoverCreator.java  |  2 +-
 .../physical/impl/trace/TraceBatchCreator.java     |  3 +-
 .../exec/physical/impl/trace/TraceRecordBatch.java |  5 ++-
 .../physical/impl/union/UnionAllBatchCreator.java  |  2 +-
 .../drill/exec/physical/impl/union/UnionAller.java |  2 +-
 .../physical/impl/union/UnionAllerTemplate.java    |  1 -
 .../physical/impl/validate/BatchValidator.java     |  2 +-
 .../impl/validate/IteratorValidatorInjector.java   |  2 +-
 .../physical/impl/window/FrameSupportTemplate.java |  2 +-
 .../drill/exec/physical/impl/window/Partition.java |  2 +-
 .../exec/physical/impl/window/WindowDataBatch.java |  4 +--
 .../impl/window/WindowFrameBatchCreator.java       |  3 +-
 .../exec/physical/impl/window/WindowFunction.java  |  2 +-
 .../drill/exec/physical/impl/xsort/BatchGroup.java |  2 +-
 .../impl/xsort/ExternalSortBatchCreator.java       |  2 +-
 .../drill/exec/physical/impl/xsort/MSorter.java    |  2 +-
 .../physical/impl/xsort/PriorityQueueCopier.java   |  2 +-
 .../impl/xsort/PriorityQueueCopierTemplate.java    |  2 +-
 .../exec/physical/rowSet/impl/package-info.java    |  1 -
 .../physical/rowSet/model/hyper/package-info.java  |  1 -
 .../exec/physical/rowSet/model/package-info.java   |  1 -
 .../exec/planner/AbstractOpWrapperVisitor.java     |  2 +-
 .../exec/planner/AbstractPartitionDescriptor.java  |  2 +-
 .../exec/planner/DFSDirPartitionLocation.java      |  3 +-
 .../exec/planner/DFSFilePartitionLocation.java     |  2 +-
 .../apache/drill/exec/planner/DrillRelBuilder.java | 13 ++++----
 .../exec/planner/ParquetPartitionDescriptor.java   |  2 +-
 .../exec/planner/ParquetPartitionLocation.java     |  2 +-
 .../drill/exec/planner/PartitionDescriptor.java    |  2 +-
 .../drill/exec/planner/PartitionLocation.java      |  2 +-
 .../drill/exec/planner/PhysicalPlanReader.java     |  2 +-
 .../org/apache/drill/exec/planner/PlannerType.java |  2 +-
 .../apache/drill/exec/planner/RuleInstance.java    | 13 ++++----
 .../exec/planner/SimplePartitionLocation.java      |  3 +-
 .../drill/exec/planner/common/DrillRelNode.java    |  3 +-
 .../exec/planner/common/DrillUnionRelBase.java     |  2 +-
 .../exec/planner/common/DrillValuesRelBase.java    | 13 ++++----
 .../exec/planner/common/DrillWindowRelBase.java    |  3 +-
 .../exec/planner/common/DrillWriterRelBase.java    |  2 +-
 .../drill/exec/planner/cost/DrillCostBase.java     |  1 -
 .../drill/exec/planner/cost/DrillRelOptCost.java   |  5 ++-
 .../exec/planner/cost/DrillRelOptCostFactory.java  |  6 ++--
 .../planner/fragment/DistributionAffinity.java     |  6 ++--
 .../drill/exec/planner/fragment/Fragment.java      |  2 +-
 .../planner/fragment/FragmentParallelizer.java     |  6 ++--
 .../exec/planner/fragment/FragmentVisitor.java     |  2 +-
 .../fragment/HardAffinityFragmentParallelizer.java |  6 ++--
 .../planner/fragment/MakeFragmentsVisitor.java     |  2 +-
 .../exec/planner/fragment/ParallelizationInfo.java |  4 +--
 .../fragment/ParallelizationParameters.java        |  6 ++--
 .../fragment/SoftAffinityFragmentParallelizer.java |  4 +--
 .../apache/drill/exec/planner/fragment/Stats.java  |  2 +-
 .../exec/planner/fragment/StatsCollector.java      |  2 +-
 .../drill/exec/planner/fragment/Wrapper.java       |  2 +-
 .../contrib/ExchangeRemoverMaterializer.java       |  2 +-
 .../fragment/contrib/OperatorIdVisitor.java        |  2 +-
 .../fragment/contrib/SplittingParallelizer.java    |  2 +-
 .../exec/planner/logical/CreateTableEntry.java     |  3 +-
 .../logical/DirPrunedEnumerableTableScan.java      |  3 +-
 .../exec/planner/logical/DrillConstExecutor.java   |  2 +-
 .../logical/DrillFilterAggregateTransposeRule.java |  1 -
 .../drill/exec/planner/logical/DrillFilterRel.java |  2 +-
 .../exec/planner/logical/DrillImplementor.java     |  2 +-
 .../drill/exec/planner/logical/DrillJoinRel.java   |  2 +-
 .../drill/exec/planner/logical/DrillLimitRel.java  |  2 +-
 .../exec/planner/logical/DrillMergeFilterRule.java |  2 +-
 .../exec/planner/logical/DrillParseContext.java    |  2 +-
 .../exec/planner/logical/DrillProjectRel.java      |  2 +-
 .../logical/DrillProjectSetOpTransposeRule.java    |  1 -
 .../planner/logical/DrillPushLimitToScanRule.java  |  1 -
 .../planner/logical/DrillReduceAggregatesRule.java |  1 -
 .../drill/exec/planner/logical/DrillRel.java       |  2 +-
 .../exec/planner/logical/DrillRelFactories.java    |  1 -
 .../drill/exec/planner/logical/DrillScreenRel.java |  2 +-
 .../planner/logical/DrillViewInfoProvider.java     |  2 +-
 .../drill/exec/planner/logical/DrillWindowRel.java |  3 +-
 .../exec/planner/logical/DrillWindowRule.java      |  1 -
 .../drill/exec/planner/logical/DrillWriterRel.java |  2 +-
 .../exec/planner/logical/DynamicDrillTable.java    |  2 +-
 .../exec/planner/logical/EnumerableDrillRule.java  |  2 +-
 .../drill/exec/planner/logical/ExprHelper.java     |  2 +-
 .../planner/logical/ExtendableRelDataType.java     | 13 ++++----
 .../drill/exec/planner/logical/RelOptHelper.java   |  2 +-
 .../exec/planner/logical/ScanFieldDeterminer.java  |  2 +-
 .../drill/exec/planner/logical/StoragePlugins.java |  2 +-
 .../logical/partition/FindPartitionConditions.java |  2 +-
 .../logical/partition/ParquetPruneScanRule.java    |  2 +-
 .../partition/RewriteAsBinaryOperators.java        | 34 ++++++++++----------
 .../partition/RewriteCombineBinaryOperators.java   | 34 ++++++++++----------
 .../drill/exec/planner/physical/AggPruleBase.java  |  1 -
 .../planner/physical/BroadcastExchangePrel.java    |  1 -
 .../exec/planner/physical/ComplexToJsonPrel.java   |  2 +-
 .../planner/physical/ConvertCountToDirectScan.java |  1 -
 .../exec/planner/physical/DirectScanPrule.java     |  2 +-
 .../planner/physical/DrillDistributionTrait.java   |  2 +-
 .../physical/DrillDistributionTraitDef.java        |  2 +-
 .../drill/exec/planner/physical/DrillScanPrel.java |  2 +-
 .../drill/exec/planner/physical/ExchangePrel.java  |  3 +-
 .../drill/exec/planner/physical/FilterPrel.java    |  3 +-
 .../drill/exec/planner/physical/FilterPrule.java   |  2 +-
 .../drill/exec/planner/physical/FlattenPrel.java   |  4 +--
 .../planner/physical/HasDistributionAffinity.java  |  6 ++--
 .../drill/exec/planner/physical/HashPrelUtil.java  |  2 +-
 .../drill/exec/planner/physical/JoinPrel.java      |  1 -
 .../drill/exec/planner/physical/JoinPruleBase.java |  1 -
 .../drill/exec/planner/physical/LimitPrel.java     |  2 +-
 .../drill/exec/planner/physical/LimitPrule.java    |  2 +-
 .../physical/LimitUnionExchangeTransposeRule.java  |  2 +-
 .../planner/physical/OrderedMuxExchangePrel.java   |  2 +-
 .../planner/physical/ProducerConsumerPrel.java     |  2 +-
 .../exec/planner/physical/ProjectAllowDupPrel.java |  3 +-
 .../exec/planner/physical/PushLimitToTopN.java     |  3 +-
 .../drill/exec/planner/physical/ScanPrule.java     |  2 +-
 .../drill/exec/planner/physical/ScreenPrel.java    |  2 +-
 .../drill/exec/planner/physical/ScreenPrule.java   |  2 +-
 .../physical/SelectionVectorRemoverPrel.java       |  2 +-
 .../drill/exec/planner/physical/SinglePrel.java    |  2 +-
 .../drill/exec/planner/physical/SortPrule.java     |  2 +-
 .../drill/exec/planner/physical/UnionPrel.java     |  3 +-
 .../physical/UnorderedDeMuxExchangePrel.java       |  3 +-
 .../planner/physical/UnorderedMuxExchangePrel.java |  3 +-
 .../drill/exec/planner/physical/WindowPrel.java    |  3 +-
 .../drill/exec/planner/physical/WindowPrule.java   |  1 -
 .../drill/exec/planner/physical/WriterPrel.java    |  2 +-
 .../planner/physical/explain/PrelSequencer.java    |  2 +-
 .../planner/physical/visitor/BasePrelVisitor.java  |  2 +-
 .../physical/visitor/ComplexToJsonPrelVisitor.java |  2 +-
 .../physical/visitor/FinalColumnReorderer.java     |  2 +-
 .../visitor/InsertLocalExchangeVisitor.java        |  4 +--
 .../physical/visitor/JoinPrelRenameVisitor.java    |  3 +-
 .../exec/planner/physical/visitor/PrelVisitor.java |  2 +-
 .../visitor/ProducerConsumerPrelVisitor.java       |  2 +-
 .../planner/physical/visitor/RelUniqifier.java     |  2 +-
 .../physical/visitor/RewriteProjectToFlatten.java  |  4 +--
 .../visitor/RexVisitorComplexExprSplitter.java     |  4 +--
 .../visitor/SelectionVectorPrelVisitor.java        |  2 +-
 .../visitor/SplitUpComplexExpressions.java         |  2 +-
 .../physical/visitor/StarColumnConverter.java      |  1 -
 .../physical/visitor/SwapHashJoinVisitor.java      |  1 -
 .../physical/visitor/TopProjectVisitor.java        | 13 ++++----
 .../org/apache/drill/exec/planner/sql/Checker.java |  2 +-
 .../exec/planner/sql/DrillCalciteSqlWrapper.java   |  2 +-
 .../exec/planner/sql/DrillExtractConvertlet.java   |  2 +-
 .../exec/planner/sql/DrillSqlAggOperator.java      |  4 +--
 .../sql/DrillSqlAggOperatorWithoutInference.java   |  6 ++--
 .../drill/exec/planner/sql/DrillSqlOperator.java   |  7 ++--
 .../sql/DrillSqlOperatorWithoutInference.java      |  6 ++--
 .../drill/exec/planner/sql/DynamicReturnType.java  |  2 +-
 .../apache/drill/exec/planner/sql/DynamicType.java |  2 +-
 .../exec/planner/sql/ExpandingConcurrentMap.java   |  2 +-
 .../apache/drill/exec/planner/sql/FixedRange.java  |  2 +-
 .../exec/planner/sql/QueryInputException.java      |  2 +-
 .../planner/sql/handlers/AbstractSqlHandler.java   |  2 +-
 .../sql/handlers/CreateFunctionHandler.java        |  4 +--
 .../sql/handlers/DescribeSchemaHandler.java        |  6 ++--
 .../planner/sql/handlers/DescribeTableHandler.java |  1 -
 .../planner/sql/handlers/DropFunctionHandler.java  |  4 +--
 .../sql/handlers/FindHardDistributionScans.java    |  6 ++--
 .../planner/sql/handlers/SetOptionHandler.java     |  2 +-
 .../sql/handlers/ShowFilesCommandResult.java       |  3 +-
 .../planner/sql/handlers/ShowSchemasHandler.java   |  3 +-
 .../planner/sql/handlers/ShowTablesHandler.java    |  1 -
 .../planner/sql/handlers/SimpleCommandResult.java  |  2 +-
 .../planner/sql/handlers/SqlHandlerConfig.java     |  3 +-
 .../planner/sql/handlers/UseSchemaHandler.java     |  2 +-
 .../sql/parser/DrillCalciteWrapperUtility.java     |  3 +-
 .../exec/planner/sql/parser/DrillParserUtil.java   |  3 +-
 .../exec/planner/sql/parser/DrillSqlCall.java      |  2 +-
 .../planner/sql/parser/DrillSqlDescribeTable.java  | 31 +++++++++---------
 .../exec/planner/sql/parser/SqlCreateFunction.java |  6 ++--
 .../exec/planner/sql/parser/SqlCreateView.java     |  2 +-
 .../exec/planner/sql/parser/SqlDropFunction.java   |  6 ++--
 .../exec/planner/sql/parser/SqlDropTable.java      |  2 +-
 .../drill/exec/planner/sql/parser/SqlDropView.java |  2 +-
 .../planner/sql/parser/SqlRefreshMetadata.java     |  2 +-
 .../exec/planner/sql/parser/SqlShowFiles.java      |  2 +-
 .../exec/planner/sql/parser/SqlShowSchemas.java    |  2 +-
 .../exec/planner/sql/parser/SqlShowTables.java     |  2 +-
 .../exec/planner/sql/parser/SqlUseSchema.java      |  2 +-
 .../impl/DrillParserWithCompoundIdConverter.java   |  2 +-
 .../planner/types/AbstractRelDataTypeHolder.java   | 13 ++++----
 .../planner/types/DrillFixedRelDataTypeImpl.java   |  2 +-
 .../exec/planner/types/DrillRelDataTypeSystem.java |  3 +-
 .../planner/types/ExtendableRelDataTypeHolder.java | 13 ++++----
 .../drill/exec/proto/helper/QueryIdHelper.java     |  3 +-
 .../exec/record/AbstractBinaryRecordBatch.java     |  3 +-
 .../exec/record/AbstractSingleRecordBatch.java     |  2 +-
 .../drill/exec/record/CloseableRecordBatch.java    |  2 +-
 .../java/org/apache/drill/exec/record/DeadBuf.java |  2 +-
 .../drill/exec/record/FragmentWritableBatch.java   |  2 +-
 .../apache/drill/exec/record/MajorTypeSerDe.java   |  2 +-
 .../drill/exec/record/MaterializeVisitor.java      |  2 +-
 .../apache/drill/exec/record/RawFragmentBatch.java |  2 +-
 .../exec/record/RawFragmentBatchProvider.java      |  2 +-
 .../exec/record/RecordBatchMemoryManager.java      |  1 -
 .../apache/drill/exec/record/SchemaBuilder.java    |  2 +-
 .../org/apache/drill/exec/record/SchemaUtil.java   |  4 +--
 .../apache/drill/exec/record/SchemalessBatch.java  |  1 -
 .../drill/exec/record/SimpleRecordBatch.java       |  1 -
 .../drill/exec/record/SimpleVectorWrapper.java     |  2 +-
 .../org/apache/drill/exec/record/TypedFieldId.java |  2 +-
 .../apache/drill/exec/record/VectorAccessible.java |  2 +-
 .../exec/record/VectorAccessibleComplexWriter.java |  2 +-
 .../apache/drill/exec/record/VectorWrapper.java    |  2 +-
 .../record/selection/SelectionVector4Builder.java  |  2 +-
 .../exec/resolver/DefaultFunctionResolver.java     |  3 +-
 .../drill/exec/resolver/ExactFunctionResolver.java |  2 +-
 .../drill/exec/resolver/FunctionResolver.java      |  3 +-
 .../exec/resolver/FunctionResolverFactory.java     |  3 +-
 .../exec/resolver/ResolverTypePrecedence.java      |  3 +-
 .../apache/drill/exec/resolver/TypeCastRules.java  |  1 -
 .../drill/exec/rpc/AbstractClientConnection.java   |  2 +-
 .../drill/exec/rpc/AbstractConnectionConfig.java   |  4 +--
 .../AbstractDisposableUserClientConnection.java    |  2 +-
 .../apache/drill/exec/rpc/AbstractRpcMetrics.java  |  2 +-
 .../drill/exec/rpc/AbstractServerConnection.java   |  2 +-
 .../apache/drill/exec/rpc/BitConnectionConfig.java |  4 +--
 .../org/apache/drill/exec/rpc/BitRpcUtility.java   |  2 +-
 .../apache/drill/exec/rpc/ConnectionConfig.java    |  4 +--
 .../drill/exec/rpc/FailingRequestHandler.java      |  4 +--
 .../drill/exec/rpc/UserClientConnection.java       |  2 +-
 .../drill/exec/rpc/control/ControlConnection.java  |  2 +-
 .../exec/rpc/control/ControlConnectionManager.java |  2 +-
 .../rpc/control/ControlProtobufLengthDecoder.java  |  2 +-
 .../drill/exec/rpc/control/ControlRpcConfig.java   |  2 +-
 .../drill/exec/rpc/control/ControlRpcMetrics.java  |  2 +-
 .../drill/exec/rpc/control/ControlTunnel.java      |  2 +-
 .../apache/drill/exec/rpc/control/Controller.java  |  2 +-
 .../exec/rpc/control/CustomHandlerRegistry.java    |  2 +-
 .../exec/rpc/control/DefaultInstanceHandler.java   |  2 +-
 .../drill/exec/rpc/control/WorkEventBus.java       |  2 +-
 .../org/apache/drill/exec/rpc/data/AckSender.java  |  2 +-
 .../drill/exec/rpc/data/DataClientConnection.java  |  2 +-
 .../drill/exec/rpc/data/DataConnectionConfig.java  |  4 +--
 .../drill/exec/rpc/data/DataConnectionCreator.java |  2 +-
 .../drill/exec/rpc/data/DataConnectionManager.java |  2 +-
 .../exec/rpc/data/DataDefaultInstanceHandler.java  |  2 +-
 .../exec/rpc/data/DataProtobufLengthDecoder.java   |  2 +-
 .../apache/drill/exec/rpc/data/DataRpcConfig.java  |  2 +-
 .../apache/drill/exec/rpc/data/DataRpcMetrics.java |  2 +-
 .../drill/exec/rpc/data/DataServerConnection.java  |  4 +--
 .../exec/rpc/data/DataServerRequestHandler.java    |  4 +--
 .../org/apache/drill/exec/rpc/data/DataTunnel.java |  2 +-
 .../drill/exec/rpc/data/IncomingDataBatch.java     |  2 +-
 .../exec/rpc/security/AuthenticatorProvider.java   |  4 +--
 .../rpc/security/ClientAuthenticatorProvider.java  |  4 +--
 .../exec/rpc/security/FastSaslClientFactory.java   |  4 +--
 .../exec/rpc/security/FastSaslServerFactory.java   |  2 +-
 .../exec/rpc/security/SecurityConfiguration.java   |  2 +-
 .../rpc/security/ServerAuthenticationHandler.java  |  4 +--
 .../rpc/security/kerberos/KerberosFactory.java     |  4 +--
 .../drill/exec/rpc/security/package-info.java      |  3 +-
 .../drill/exec/rpc/security/plain/PlainServer.java |  2 +-
 .../rpc/user/AwaitableUserResultsListener.java     |  2 +-
 .../exec/rpc/user/InboundImpersonationManager.java |  2 +-
 .../apache/drill/exec/rpc/user/QueryDataBatch.java |  2 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    |  2 +-
 .../exec/rpc/user/UserProtobufLengthDecoder.java   |  2 +-
 .../drill/exec/rpc/user/UserResultsListener.java   |  2 +-
 .../apache/drill/exec/rpc/user/UserRpcConfig.java  |  2 +-
 .../apache/drill/exec/rpc/user/UserRpcMetrics.java |  2 +-
 .../rpc/user/security/Pam4jUserAuthenticator.java  |  2 +-
 .../rpc/user/security/PamUserAuthenticator.java    |  2 +-
 .../user/security/UserAuthenticationException.java |  4 +--
 .../exec/rpc/user/security/UserAuthenticator.java  |  4 +--
 .../user/security/UserAuthenticatorFactory.java    |  2 +-
 .../user/security/UserAuthenticatorTemplate.java   |  4 +--
 .../org/apache/drill/exec/schema/BackedRecord.java |  2 +-
 .../org/apache/drill/exec/schema/DataRecord.java   |  2 +-
 .../org/apache/drill/exec/schema/DiffSchema.java   |  2 +-
 .../java/org/apache/drill/exec/schema/Field.java   |  2 +-
 .../org/apache/drill/exec/schema/IdGenerator.java  |  2 +-
 .../org/apache/drill/exec/schema/ListSchema.java   |  2 +-
 .../org/apache/drill/exec/schema/NamedField.java   |  2 +-
 .../org/apache/drill/exec/schema/ObjectSchema.java |  2 +-
 .../org/apache/drill/exec/schema/OrderedField.java |  2 +-
 .../java/org/apache/drill/exec/schema/Record.java  |  2 +-
 .../org/apache/drill/exec/schema/RecordSchema.java |  2 +-
 .../drill/exec/schema/SchemaIdGenerator.java       |  2 +-
 .../exec/schema/json/jackson/JacksonHelper.java    |  2 +-
 .../exec/serialization/InstanceSerializer.java     |  6 ++--
 .../exec/serialization/JacksonSerializer.java      |  6 ++--
 .../drill/exec/serialization/ProtoSerializer.java  |  6 ++--
 .../drill/exec/server/DrillbitStateManager.java    |  1 -
 .../exec/server/QueryProfileStoreContext.java      |  2 +-
 .../apache/drill/exec/server/RemoteServiceSet.java |  2 +-
 .../apache/drill/exec/server/StartupOptions.java   |  2 +-
 .../exec/server/options/DrillConfigIterator.java   |  2 +-
 .../exec/server/options/FragmentOptionManager.java |  2 +-
 .../exec/server/options/InMemoryOptionManager.java |  2 +-
 .../exec/server/options/OptionDefinition.java      |  3 +-
 .../drill/exec/server/options/OptionList.java      |  2 +-
 .../drill/exec/server/options/OptionManager.java   |  2 +-
 .../drill/exec/server/options/OptionMetaData.java  |  3 +-
 .../drill/exec/server/options/OptionValue.java     |  2 +-
 .../exec/server/options/PersistedOptionValue.java  |  1 -
 .../exec/server/options/QueryOptionManager.java    |  2 +-
 .../exec/server/options/SessionOptionManager.java  |  2 +-
 .../exec/server/rest/GenericExceptionMapper.java   |  2 +-
 .../drill/exec/server/rest/LogsResources.java      |  8 ++---
 .../drill/exec/server/rest/MetricsResources.java   |  2 +-
 .../exec/server/rest/PluginConfigWrapper.java      |  3 +-
 .../drill/exec/server/rest/QueryWrapper.java       |  1 -
 .../drill/exec/server/rest/ThreadsResources.java   |  2 +-
 .../drill/exec/server/rest/UserNameFilter.java     |  4 +--
 .../apache/drill/exec/server/rest/WebServer.java   |  4 +--
 .../drill/exec/server/rest/WebServerConstants.java |  2 +-
 .../exec/server/rest/WebSessionResources.java      |  7 ++--
 .../drill/exec/server/rest/WebUserConnection.java  |  2 +-
 .../exec/server/rest/auth/AuthDynamicFeature.java  |  2 +-
 .../auth/DrillHttpConstraintSecurityHandler.java   |  4 +--
 .../auth/DrillHttpSecurityHandlerProvider.java     |  6 ++--
 .../server/rest/auth/DrillSpnegoAuthenticator.java |  2 --
 .../server/rest/auth/DrillSpnegoLoginService.java  |  6 ++--
 .../exec/server/rest/auth/FormSecurityHanlder.java |  2 +-
 .../drill/exec/server/rest/auth/SpnegoConfig.java  |  6 ++--
 .../server/rest/auth/SpnegoSecurityHandler.java    |  2 +-
 .../exec/server/rest/profile/Comparators.java      |  2 +-
 .../drill/exec/server/rest/profile/Filters.java    |  2 +-
 .../exec/server/rest/profile/FragmentWrapper.java  |  2 +-
 .../server/rest/profile/OperatorPathBuilder.java   |  2 +-
 .../exec/server/rest/profile/OperatorWrapper.java  |  2 +-
 .../server/rest/profile/SimpleDurationFormat.java  |  2 +-
 .../exec/server/rest/profile/TableBuilder.java     |  2 +-
 .../apache/drill/exec/service/ServiceEngine.java   |  2 +-
 .../drill/exec/store/AbstractRecordReader.java     |  2 +-
 .../drill/exec/store/AbstractStoragePlugin.java    |  2 +-
 .../drill/exec/store/BatchExceededException.java   |  2 +-
 .../drill/exec/store/ClassPathFileSystem.java      |  2 +-
 .../apache/drill/exec/store/ColumnExplorer.java    |  4 +--
 .../drill/exec/store/DistributedStorageEngine.java |  2 +-
 .../drill/exec/store/LocalSyncableFileSystem.java  |  2 +-
 .../drill/exec/store/NamedStoragePluginConfig.java |  2 +-
 .../apache/drill/exec/store/PartitionExplorer.java |  4 +--
 .../drill/exec/store/PartitionExplorerImpl.java    |  4 +--
 .../exec/store/PartitionNotFoundException.java     |  4 +--
 .../apache/drill/exec/store/RecordDataType.java    |  2 +-
 .../org/apache/drill/exec/store/RecordReader.java  |  2 +-
 .../drill/exec/store/ResourceInputStream.java      |  2 +-
 .../org/apache/drill/exec/store/SchemaConfig.java  |  4 +--
 .../drill/exec/store/SchemaPartitionExplorer.java  |  4 +--
 .../drill/exec/store/SchemaTreeProvider.java       |  4 +--
 .../apache/drill/exec/store/StoragePluginMap.java  |  2 +-
 .../apache/drill/exec/store/StorageStrategy.java   |  4 +--
 .../org/apache/drill/exec/store/TimedRunnable.java |  2 +-
 .../drill/exec/store/avro/AvroFormatConfig.java    |  2 +-
 .../drill/exec/store/avro/AvroRecordReader.java    |  2 +-
 .../drill/exec/store/avro/AvroTypeHelper.java      |  2 +-
 .../drill/exec/store/bson/BsonRecordReader.java    |  2 +-
 .../exec/store/dfs/DrillFSDataInputStream.java     |  2 +-
 .../apache/drill/exec/store/dfs/FormatCreator.java |  2 +-
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |  2 +-
 .../store/dfs/FormatPluginOptionExtractor.java     |  2 +-
 .../store/dfs/FormatPluginOptionsDescriptor.java   |  2 +-
 .../drill/exec/store/dfs/FormatSelection.java      |  2 +-
 .../exec/store/dfs/NamedFormatPluginConfig.java    |  2 +-
 .../drill/exec/store/dfs/OpenFileTracker.java      |  4 +--
 .../drill/exec/store/dfs/ReadEntryWithPath.java    |  2 +-
 .../drill/exec/store/dfs/SubDirectoryList.java     |  4 +--
 .../drill/exec/store/dfs/WorkspaceConfig.java      |  2 +-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  2 +-
 .../store/dfs/easy/EasyReaderBatchCreator.java     |  2 +-
 .../store/dfs/easy/EasyWriterBatchCreator.java     |  2 +-
 .../exec/store/direct/DirectBatchCreator.java      |  2 +-
 .../drill/exec/store/direct/DirectSubScan.java     |  2 +-
 .../exec/store/easy/json/JSONRecordReader.java     |  2 +-
 .../drill/exec/store/easy/json/JsonProcessor.java  |  2 +-
 .../store/easy/json/reader/BaseJsonProcessor.java  |  2 +-
 .../store/easy/json/reader/CountingJsonReader.java |  2 +-
 .../sequencefile/SequenceFileFormatConfig.java     |  2 +-
 .../sequencefile/SequenceFileFormatPlugin.java     |  2 +-
 .../sequencefile/SequenceFileRecordReader.java     |  2 +-
 .../easy/text/compliant/FieldVarCharOutput.java    |  2 +-
 .../compliant/StreamFinishedPseudoException.java   |  2 +-
 .../exec/store/easy/text/compliant/TextInput.java  |  2 +-
 .../exec/store/easy/text/compliant/TextOutput.java |  2 +-
 .../easy/text/compliant/TextParsingContext.java    |  2 +-
 .../easy/text/compliant/TextParsingSettings.java   |  2 +-
 .../exec/store/easy/text/compliant/TextReader.java |  2 +-
 .../drill/exec/store/httpd/HttpdLogRecord.java     | 14 ++++----
 .../apache/drill/exec/store/httpd/HttpdParser.java | 14 ++++----
 .../drill/exec/store/httpd/HttpdParserTest.java    | 14 ++++----
 .../exec/store/ischema/InfoSchemaBatchCreator.java |  2 +-
 .../drill/exec/store/ischema/InfoSchemaConfig.java |  2 +-
 .../exec/store/ischema/InfoSchemaConstants.java    |  4 +--
 .../exec/store/ischema/InfoSchemaDrillTable.java   |  2 +-
 .../drill/exec/store/ischema/InfoSchemaFilter.java |  4 +--
 .../store/ischema/InfoSchemaFilterBuilder.java     |  2 +-
 .../exec/store/ischema/InfoSchemaGroupScan.java    |  2 +-
 .../InfoSchemaPushFilterIntoRecordGenerator.java   |  3 +-
 .../store/ischema/InfoSchemaStoragePlugin.java     |  2 +-
 .../exec/store/ischema/InfoSchemaSubScan.java      |  2 +-
 .../drill/exec/store/ischema/InfoSchemaTable.java  |  2 +-
 .../exec/store/ischema/InfoSchemaTableType.java    |  2 +-
 .../apache/drill/exec/store/ischema/Records.java   |  3 +-
 .../drill/exec/store/ischema/package-info.java     |  2 +-
 .../drill/exec/store/parquet/ColumnDataReader.java |  2 +-
 .../apache/drill/exec/store/parquet/Metadata.java  |  4 +--
 .../drill/exec/store/parquet/MetadataVersion.java  |  4 +--
 .../parquet/ParquetDirectByteBufferAllocator.java  |  3 +-
 .../exec/store/parquet/ParquetFilterBuilder.java   |  2 ++
 .../drill/exec/store/parquet/ParquetGroupScan.java |  4 +--
 .../exec/store/parquet/ParquetPushDownFilter.java  |  2 ++
 .../store/parquet/ParquetRGFilterEvaluator.java    |  6 ++--
 .../store/parquet/ParquetWriterBatchCreator.java   |  2 +-
 .../exec/store/parquet/RowGroupReadEntry.java      |  2 +-
 .../parquet/columnreaders/AsyncPageReader.java     |  2 +-
 .../store/parquet/columnreaders/BitReader.java     |  2 +-
 .../parquet/columnreaders/ColumnReaderFactory.java |  4 +--
 .../columnreaders/FixedByteAlignedReader.java      |  2 +-
 .../columnreaders/FixedWidthRepeatedReader.java    |  2 +-
 .../parquet/columnreaders/NullableBitReader.java   |  2 +-
 .../columnreaders/NullableColumnReader.java        |  2 +-
 .../NullableFixedByteAlignedReaders.java           |  2 +-
 .../NullableVarLengthValuesColumn.java             |  4 +--
 .../store/parquet/columnreaders/PageReader.java    |  2 +-
 .../ParquetFixedWidthDictionaryReaders.java        |  4 +--
 .../columnreaders/ParquetToDrillTypeConverter.java |  4 +--
 .../parquet/columnreaders/VarLenBinaryReader.java  |  2 +-
 .../parquet/columnreaders/VarLengthColumn.java     |  4 +--
 .../columnreaders/VarLengthColumnReaders.java      |  4 +--
 .../columnreaders/VarLengthValuesColumn.java       |  4 +--
 .../store/parquet/stat/ColumnStatCollector.java    |  6 ++--
 .../exec/store/parquet/stat/ColumnStatistics.java  |  6 ++--
 .../parquet/stat/ParquetFooterStatCollector.java   |  6 ++--
 .../parquet2/DrillParquetRecordMaterializer.java   |  2 +-
 .../drill/exec/store/pcap/PcapDrillTable.java      | 17 +++++-----
 .../drill/exec/store/pcap/PcapFormatConfig.java    | 17 +++++-----
 .../drill/exec/store/pcap/PcapFormatPlugin.java    | 17 +++++-----
 .../drill/exec/store/pcap/PcapFormatUtils.java     | 17 +++++-----
 .../drill/exec/store/pcap/PcapRecordReader.java    | 17 +++++-----
 .../apache/drill/exec/store/pcap/package-info.java | 17 +++++-----
 .../drill/exec/store/pcap/schema/Schema.java       | 17 +++++-----
 .../exec/store/pojo/AbstractPojoRecordReader.java  | 13 ++++----
 .../apache/drill/exec/store/pojo/PojoDataType.java |  2 +-
 .../drill/exec/store/schedule/AffinityCreator.java |  2 +-
 .../exec/store/schedule/AssignmentCreator.java     |  2 +-
 .../drill/exec/store/schedule/BlockMapBuilder.java |  2 +-
 .../exec/store/schedule/CompleteFileWork.java      |  2 +-
 .../drill/exec/store/schedule/CompleteWork.java    |  2 +-
 .../drill/exec/store/schedule/EndpointByteMap.java |  2 +-
 .../exec/store/schedule/EndpointByteMapImpl.java   |  2 +-
 .../drill/exec/store/sys/BasePersistentStore.java  |  4 +--
 .../store/sys/BitToUserConnectionIterator.java     |  2 +-
 .../drill/exec/store/sys/DrillbitIterator.java     |  2 +-
 .../exec/store/sys/ExtendedOptionIterator.java     |  2 +-
 .../drill/exec/store/sys/MemoryIterator.java       |  2 +-
 .../drill/exec/store/sys/OptionIterator.java       |  2 +-
 .../exec/store/sys/PersistentStoreConfig.java      |  2 +-
 .../drill/exec/store/sys/PersistentStoreMode.java  |  6 ++--
 .../exec/store/sys/PersistentStoreProvider.java    |  2 +-
 .../exec/store/sys/PersistentStoreRegistry.java    |  2 +-
 .../drill/exec/store/sys/StaticDrillTable.java     |  2 +-
 .../org/apache/drill/exec/store/sys/Store.java     | 13 ++++----
 .../exec/store/sys/SystemTablePluginConfig.java    |  2 +-
 .../drill/exec/store/sys/ThreadsIterator.java      |  2 +-
 .../drill/exec/store/sys/VersionIterator.java      |  2 +-
 .../exec/store/sys/VersionedPersistentStore.java   | 13 ++++----
 .../exec/store/sys/local/LocalPStoreProvider.java  |  6 ++--
 .../exec/store/sys/store/DataChangeVersion.java    |  6 ++--
 .../drill/exec/store/sys/store/InMemoryStore.java  |  4 +--
 .../store/sys/store/VersionedDelegatingStore.java  | 13 ++++----
 .../provider/BasePersistentStoreProvider.java      |  6 ++--
 .../provider/CachingPersistentStoreProvider.java   |  2 +-
 .../provider/LocalPersistentStoreProvider.java     |  2 +-
 .../provider/ZookeeperPersistentStoreProvider.java |  2 +-
 .../drill/exec/store/sys/zk/ZkPStoreProvider.java  |  6 ++--
 .../drill/exec/testing/ControlsInjector.java       |  2 +-
 .../exec/testing/ControlsInjectorFactory.java      |  2 +-
 .../exec/testing/CountDownLatchInjection.java      |  2 +-
 .../exec/testing/CountDownLatchInjectionImpl.java  |  2 +-
 .../drill/exec/testing/ExceptionInjection.java     |  2 +-
 .../exec/testing/ExecutionControlsInjector.java    |  2 +-
 .../org/apache/drill/exec/testing/Injection.java   |  2 +-
 .../testing/InjectionConfigurationException.java   |  2 +-
 .../apache/drill/exec/testing/InjectionSite.java   |  2 +-
 .../drill/exec/testing/NoOpControlsInjector.java   |  2 +-
 .../apache/drill/exec/testing/PauseInjection.java  |  2 +-
 .../exec/testing/store/NoWriteLocalStore.java      |  4 +--
 .../drill/exec/util/ApproximateStringMatcher.java  |  4 +--
 .../drill/exec/util/ArrayWrappedIntIntMap.java     |  4 +--
 .../org/apache/drill/exec/util/ByteBufUtil.java    |  2 +-
 .../drill/exec/util/DrillFileSystemUtil.java       |  4 +--
 .../org/apache/drill/exec/util/FileSystemUtil.java |  4 +--
 .../org/apache/drill/exec/util/GuavaPatcher.java   |  2 +-
 .../apache/drill/exec/util/ImpersonationUtil.java  |  2 +-
 .../java/org/apache/drill/exec/util/JarUtil.java   |  6 ++--
 .../drill/exec/util/StoragePluginTestUtils.java    |  2 +-
 .../filereader/BufferedDirectBufInputStream.java   |  6 ++--
 .../exec/util/filereader/DirectBufInputStream.java |  6 ++--
 .../org/apache/drill/exec/vector/CopyUtil.java     |  2 +-
 .../apache/drill/exec/vector/VectorValidator.java  |  2 +-
 .../exec/vector/accessor/AbstractSqlAccessor.java  |  2 +-
 .../vector/accessor/BoundCheckingAccessor.java     |  2 +-
 .../exec/vector/accessor/GenericAccessor.java      |  2 +-
 .../vector/accessor/InvalidAccessException.java    |  2 +-
 .../drill/exec/vector/accessor/SqlAccessor.java    |  2 +-
 .../exec/vector/accessor/UnionSqlAccessor.java     |  2 +-
 .../drill/exec/vector/complex/FieldIdUtil.java     |  4 +--
 .../exec/vector/complex/fn/BasicJsonOutput.java    |  2 +-
 .../exec/vector/complex/fn/DateOutputFormat.java   |  2 +-
 .../vector/complex/fn/DrillBufInputStream.java     |  2 +-
 .../exec/vector/complex/fn/ExtendedJsonOutput.java |  2 +-
 .../drill/exec/vector/complex/fn/ExtendedType.java |  2 +-
 .../exec/vector/complex/fn/ExtendedTypeName.java   |  2 +-
 .../drill/exec/vector/complex/fn/JsonOutput.java   |  2 +-
 .../drill/exec/vector/complex/fn/JsonReader.java   |  2 +-
 .../exec/vector/complex/fn/JsonReaderUtils.java    |  2 +-
 .../drill/exec/vector/complex/fn/JsonWriter.java   |  2 +-
 .../drill/exec/vector/complex/fn/SeekableBAIS.java |  2 +-
 .../exec/vector/complex/fn/WorkingBuffer.java      |  2 +-
 .../vector/complex/impl/VectorContainerWriter.java |  2 +-
 .../apache/drill/exec/work/EndpointListener.java   |  2 +-
 .../apache/drill/exec/work/ExecErrorConstants.java |  2 +-
 .../org/apache/drill/exec/work/WorkManager.java    |  2 +-
 .../exec/work/batch/AbstractDataCollector.java     |  2 +-
 .../drill/exec/work/batch/BaseRawBatchBuffer.java  |  2 +-
 .../drill/exec/work/batch/DataCollector.java       |  2 +-
 .../drill/exec/work/batch/IncomingBuffers.java     |  2 +-
 .../drill/exec/work/batch/MergingCollector.java    |  2 +-
 .../exec/work/batch/PartitionedCollector.java      |  2 +-
 .../drill/exec/work/batch/RawBatchBuffer.java      |  2 +-
 .../drill/exec/work/batch/ResponseSenderQueue.java |  2 +-
 .../exec/work/batch/SpoolingRawBatchBuffer.java    |  2 +-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |  2 +-
 .../exec/work/foreman/DrillbitStatusListener.java  |  2 +-
 .../drill/exec/work/foreman/ForemanException.java  |  2 +-
 .../exec/work/foreman/ForemanSetupException.java   |  2 +-
 .../drill/exec/work/foreman/FragmentData.java      |  2 +-
 .../exec/work/foreman/FragmentStatusListener.java  |  2 +-
 .../drill/exec/work/foreman/FragmentsRunner.java   | 13 ++++----
 .../drill/exec/work/foreman/LoggedQuery.java       |  2 +-
 .../exec/work/foreman/SqlUnsupportedException.java |  3 +-
 .../work/foreman/UnsupportedDataTypeException.java |  2 +-
 .../work/foreman/UnsupportedFunctionException.java |  2 +-
 .../foreman/UnsupportedRelOperatorException.java   |  2 +-
 .../work/fragment/AbstractFragmentManager.java     |  2 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |  2 +-
 .../drill/exec/work/fragment/FragmentManager.java  |  2 +-
 .../exec/work/fragment/FragmentStatusReporter.java |  2 +-
 .../exec/work/fragment/NonRootFragmentManager.java |  2 +-
 .../exec/work/fragment/RootFragmentManager.java    |  2 +-
 .../work/fragment/StateTransitionException.java    |  2 +-
 .../drill/exec/work/metadata/MetadataProvider.java |  6 ++--
 .../exec/work/metadata/ServerMetaProvider.java     |  4 +--
 .../work/prepare/PreparedStatementProvider.java    |  4 +--
 .../apache/drill/exec/work/user/UserWorker.java    |  2 +-
 .../parquet/hadoop/ColumnChunkIncReadStore.java    |  2 +-
 .../hadoop/ParquetColumnChunkPageWriteStore.java   | 13 ++++----
 exec/java-exec/src/main/resources/rest/error.ftl   | 28 ++++++++++------
 exec/java-exec/src/main/resources/rest/generic.ftl | 28 ++++++++++------
 exec/java-exec/src/main/resources/rest/index.ftl   | 28 ++++++++++------
 exec/java-exec/src/main/resources/rest/login.ftl   | 28 ++++++++++------
 .../src/main/resources/rest/logs/list.ftl          | 28 ++++++++++------
 .../java-exec/src/main/resources/rest/logs/log.ftl | 28 ++++++++++------
 .../src/main/resources/rest/mainLogin.ftl          | 29 +++++++++++------
 .../src/main/resources/rest/metrics/metrics.ftl    | 28 ++++++++++------
 exec/java-exec/src/main/resources/rest/options.ftl | 28 ++++++++++------
 .../src/main/resources/rest/profile/list.ftl       | 28 ++++++++++------
 .../src/main/resources/rest/profile/profile.ftl    | 28 ++++++++++------
 .../src/main/resources/rest/query/errorMessage.ftl | 28 ++++++++++------
 .../src/main/resources/rest/query/list.ftl         | 28 ++++++++++------
 .../src/main/resources/rest/query/query.ftl        | 28 ++++++++++------
 .../src/main/resources/rest/query/result.ftl       | 28 ++++++++++------
 exec/java-exec/src/main/resources/rest/status.ftl  | 28 ++++++++++------
 .../src/main/resources/rest/storage/list.ftl       | 28 ++++++++++------
 .../src/main/resources/rest/storage/update.ftl     | 28 ++++++++++------
 .../src/main/resources/rest/threads/threads.ftl    | 28 ++++++++++------
 exec/java-exec/src/main/sh/drill-config.sh         | 35 ++++++++++----------
 exec/java-exec/src/main/sh/drillbit.sh             | 37 ++++++++++------------
 .../java/org/apache/drill/ParquetSchemaMerge.java  |  2 +-
 .../test/java/org/apache/drill/PlanTestBase.java   |  1 -
 .../java/org/apache/drill/SingleRowListener.java   |  2 +-
 .../java/org/apache/drill/TestAggNullable.java     |  2 +-
 .../java/org/apache/drill/TestAltSortQueries.java  |  2 +-
 .../test/java/org/apache/drill/TestCTASJson.java   |  2 +-
 .../org/apache/drill/TestCTASPartitionFilter.java  |  2 +-
 .../java/org/apache/drill/TestCaseSensitivity.java |  3 +-
 .../java/org/apache/drill/TestCorrelation.java     |  2 +-
 .../apache/drill/TestDisabledFunctionality.java    |  2 +-
 .../org/apache/drill/TestDynamicUDFSupport.java    |  4 +--
 .../java/org/apache/drill/TestExampleQueries.java  |  2 +-
 .../java/org/apache/drill/TestFrameworkTest.java   |  4 +--
 .../java/org/apache/drill/TestFunctionsQuery.java  |  2 +-
 .../java/org/apache/drill/TestImplicitCasting.java |  2 +-
 .../src/test/java/org/apache/drill/TestInList.java |  2 +-
 .../java/org/apache/drill/TestMergeFilterPlan.java |  3 +-
 .../org/apache/drill/TestOutOfMemoryOutcome.java   |  2 +-
 .../java/org/apache/drill/TestPartitionFilter.java |  2 +-
 .../drill/TestPlanVerificationUtilities.java       |  4 +--
 .../java/org/apache/drill/TestProjectPushDown.java |  3 +-
 .../java/org/apache/drill/TestSchemaChange.java    |  2 +-
 .../java/org/apache/drill/TestSelectivity.java     |  2 +-
 .../test/java/org/apache/drill/TestTextJoin.java   |  2 +-
 .../java/org/apache/drill/TestTpchDistributed.java |  2 +-
 .../drill/TestTpchDistributedConcurrent.java       |  2 +-
 .../apache/drill/TestTpchDistributedStreaming.java |  2 +-
 .../java/org/apache/drill/TestTpchExplain.java     |  2 +-
 .../test/java/org/apache/drill/TestTpchLimit0.java |  2 +-
 .../java/org/apache/drill/TestTpchPlanning.java    |  2 +-
 .../java/org/apache/drill/TestTpchSingleMode.java  |  2 +-
 .../apache/drill/TestUtf8SupportInQueryString.java | 13 ++++----
 .../drill/common/scanner/TestClassPathScanner.java |  2 +-
 .../org/apache/drill/exec/DrillSystemTestBase.java |  2 +-
 .../drill/exec/HyperVectorValueIterator.java       |  4 +--
 .../java/org/apache/drill/exec/RunRootExec.java    |  2 +-
 .../test/java/org/apache/drill/exec/SortTest.java  |  2 +-
 .../org/apache/drill/exec/TestEmptyInputSql.java   |  1 -
 .../org/apache/drill/exec/TestOpSerialization.java |  1 -
 .../apache/drill/exec/TestQueriesOnLargeFile.java  |  3 +-
 .../org/apache/drill/exec/TestRepeatedReaders.java |  1 -
 .../java/org/apache/drill/exec/TestSSLConfig.java  |  7 ++--
 .../org/apache/drill/exec/TestWithZookeeper.java   |  2 +-
 .../org/apache/drill/exec/ZookeeperTestUtil.java   | 31 +++++++++---------
 .../ConnectTriesPropertyTestClusterBits.java       |  6 ++--
 .../drill/exec/client/DrillClientSystemTest.java   |  2 +-
 .../apache/drill/exec/client/DrillClientTest.java  |  6 ++--
 .../org/apache/drill/exec/client/DumpCatTest.java  |  2 +-
 .../exec/compile/CodeCompilerTestFactory.java      |  2 +-
 .../exec/compile/ExampleExternalInterface.java     |  2 +-
 .../apache/drill/exec/compile/ExampleTemplate.java |  2 +-
 .../exec/compile/TestClassCompilationTypes.java    |  2 +-
 .../exec/compile/bytecode/ReplaceMethodInvoke.java |  2 +-
 .../drill/exec/coord/zk/TestEphemeralStore.java    |  4 +--
 .../drill/exec/coord/zk/TestEventDispatcher.java   |  6 ++--
 .../apache/drill/exec/coord/zk/TestPathUtils.java  |  6 ++--
 .../drill/exec/coord/zk/TestZookeeperClient.java   |  4 +--
 .../org/apache/drill/exec/expr/EscapeTest1.java    |  2 +-
 .../org/apache/drill/exec/expr/ExpressionTest.java |  2 +-
 .../drill/exec/expr/TestLogicalExprSerDe.java      |  5 ++-
 .../exec/expr/fn/FunctionInitializerTest.java      | 13 ++++----
 .../expr/fn/impl/TestSimpleRepeatedFunctions.java  |  2 +-
 .../drill/exec/expr/fn/impl/TestSqlPatterns.java   |  1 -
 .../fn/registry/FunctionRegistryHolderTest.java    |  4 +--
 .../drill/exec/fn/impl/TestAggregateFunction.java  |  2 +-
 .../exec/fn/impl/TestByteComparisonFunctions.java  |  2 +-
 .../drill/exec/fn/impl/TestCastEmptyStrings.java   |  7 ++--
 .../drill/exec/fn/impl/TestContextFunctions.java   |  2 +-
 .../drill/exec/fn/impl/TestCryptoFunctions.java    | 14 ++++----
 .../drill/exec/fn/impl/TestDateAddFunctions.java   | 31 +++++++++---------
 .../drill/exec/fn/impl/TestDateFunctions.java      |  6 ++--
 .../drill/exec/fn/impl/TestDateTruncFunctions.java |  6 ++--
 .../drill/exec/fn/impl/TestMathFunctions.java      |  3 +-
 .../exec/fn/impl/TestMathFunctionsWithNanInf.java  | 32 +++++++++----------
 .../drill/exec/fn/impl/TestMultiInputAdd.java      |  7 ++--
 .../drill/exec/fn/impl/TestNetworkFunctions.java   |  1 -
 .../exec/fn/impl/TestNewAggregateFunctions.java    |  2 +-
 .../drill/exec/fn/impl/TestNewDateFunctions.java   |  2 +-
 .../drill/exec/fn/impl/TestNewMathFunctions.java   |  3 +-
 .../fn/impl/TestNewSimpleRepeatedFunctions.java    |  2 +-
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |  2 +-
 .../drill/exec/fn/impl/TestTrigFunctions.java      |  6 ++--
 .../exec/fn/impl/testing/GeneratorFunctions.java   |  2 +-
 .../exec/fn/impl/testing/TestDateConversions.java  | 31 +++++++++---------
 .../drill/exec/fn/interp/TestConstantFolding.java  |  4 +--
 .../exec/impersonation/BaseTestImpersonation.java  |  4 +--
 .../TestImpersonationDisabledWithMiniDFS.java      |  4 +--
 .../impersonation/TestImpersonationMetadata.java   |  4 +--
 .../impersonation/TestImpersonationQueries.java    |  4 +--
 .../impersonation/TestInboundImpersonation.java    |  2 +-
 .../TestInboundImpersonationPrivileges.java        |  4 +--
 .../apache/drill/exec/memory/TestAllocators.java   |  3 +-
 .../drill/exec/nested/TestFastComplexSchema.java   |  2 +-
 .../drill/exec/nested/TestNestedComplexSchema.java |  2 +-
 .../apache/drill/exec/opt/BasicOptimizerTest.java  |  2 +-
 .../physical/config/TestParsePhysicalPlan.java     |  2 +-
 .../drill/exec/physical/impl/SimpleRootExec.java   |  2 +-
 .../exec/physical/impl/TestBroadcastExchange.java  |  2 +-
 .../exec/physical/impl/TestCastFunctions.java      |  2 +-
 .../physical/impl/TestCastVarCharToBigInt.java     |  2 +-
 .../physical/impl/TestComparisonFunctions.java     |  2 +-
 .../drill/exec/physical/impl/TestDecimal.java      |  2 +-
 .../physical/impl/TestDistributedFragmentRun.java  |  2 +-
 .../exec/physical/impl/TestExtractFunctions.java   |  2 +-
 .../physical/impl/TestHashToRandomExchange.java    |  2 +-
 .../physical/impl/TestImplicitCastFunctions.java   |  2 +-
 .../exec/physical/impl/TestLocalExchange.java      |  4 +--
 .../exec/physical/impl/TestOrderedMuxExchange.java |  4 +--
 .../physical/impl/TestReverseImplicitCast.java     |  2 +-
 .../exec/physical/impl/TestSimpleFunctions.java    |  2 +-
 .../exec/physical/impl/TestStringFunctions.java    |  2 +-
 .../exec/physical/impl/TestUnionExchange.java      |  2 +-
 .../physical/impl/TopN/TestTopNSchemaChanges.java  |  2 +-
 .../drill/exec/physical/impl/agg/TestAgg.java      |  2 +-
 .../drill/exec/physical/impl/agg/TestHashAggr.java |  1 -
 .../exec/physical/impl/agg/TestHashAggrSpill.java  |  1 -
 .../impl/broadcastsender/TestBroadcast.java        |  2 +-
 .../physical/impl/filter/TestLargeInClause.java    |  2 +-
 .../physical/impl/filter/TestSimpleFilter.java     |  2 +-
 .../exec/physical/impl/flatten/TestFlatten.java    |  2 +-
 .../physical/impl/flatten/TestFlattenPlanning.java |  6 ++--
 .../exec/physical/impl/join/TestHashJoin.java      |  2 +-
 .../physical/impl/join/TestHashJoinAdvanced.java   |  1 -
 .../impl/join/TestMergeJoinMulCondition.java       |  2 +-
 .../physical/impl/join/TestNestedLoopJoin.java     |  1 -
 .../impl/limit/TestEarlyLimit0Optimization.java    |  4 +--
 .../impl/limit/TestLimitWithExchanges.java         |  2 +-
 .../exec/physical/impl/limit/TestSimpleLimit.java  |  2 +-
 .../impl/mergereceiver/TestMergingReceiver.java    |  1 -
 .../TestOrderedPartitionExchange.java              |  2 +-
 .../impl/project/TestSimpleProjection.java         |  2 +-
 .../exec/physical/impl/sort/TestSimpleSort.java    |  2 +-
 .../drill/exec/physical/impl/sort/TestSort.java    |  2 +-
 .../physical/impl/svremover/TestSVRemover.java     |  2 +-
 .../impl/trace/TestTraceMultiRecordBatch.java      |  2 +-
 .../physical/impl/trace/TestTraceOutputDump.java   |  2 +-
 .../physical/impl/validate/TestBatchValidator.java |  2 +-
 .../physical/impl/window/GenerateTestData.java     |  2 +-
 .../exec/physical/impl/window/TestWindowFrame.java |  4 +--
 .../writer/TestCorruptParquetDateCorrection.java   |  4 +--
 .../exec/physical/impl/xsort/TestExternalSort.java |  4 +--
 .../physical/unit/BasicPhysicalOpUnitTest.java     |  6 ++--
 .../exec/physical/unit/MiniPlanUnitTestBase.java   |  5 ++-
 .../exec/physical/unit/PhysicalOpUnitTestBase.java |  4 +--
 .../drill/exec/physical/unit/TestMiniPlan.java     |  5 ++-
 .../exec/physical/unit/TestNullInputMiniPlan.java  |  5 ++-
 .../exec/physical/unit/TestOutputBatchSize.java    |  5 ++-
 .../planner/PhysicalPlanReaderTestFactory.java     |  2 +-
 .../exec/planner/TestDirectoryExplorerUDFs.java    |  2 +-
 .../TestHardAffinityFragmentParallelizer.java      |  6 ++--
 .../exec/planner/logical/FilterSplitTest.java      |  2 +-
 .../planner/logical/TestCaseNullableTypes.java     | 31 +++++++++---------
 .../org/apache/drill/exec/pop/PopUnitTestBase.java |  2 +-
 .../apache/drill/exec/pop/TestFragmentChecker.java |  2 +-
 .../org/apache/drill/exec/pop/TestFragmenter.java  |  2 +-
 .../apache/drill/exec/pop/TestInjectionValue.java  |  2 +-
 .../drill/exec/record/TestMaterializedField.java   |  4 +--
 .../drill/exec/record/TestRecordIterator.java      |  2 +-
 .../drill/exec/record/vector/TestDateTypes.java    |  2 +-
 .../drill/exec/rpc/control/TestCustomTunnel.java   |  2 +-
 .../org/apache/drill/exec/rpc/data/TestBitRpc.java |  2 +-
 .../drill/exec/rpc/security/KerberosHelper.java    |  2 +-
 .../rpc/user/TemporaryTablesAutomaticDropTest.java |  4 +--
 .../user/security/TestCustomUserAuthenticator.java |  2 +-
 .../rpc/user/security/TestUserBitKerberos.java     |  2 +-
 .../security/TestUserBitKerberosEncryption.java    |  2 +-
 .../exec/rpc/user/security/TestUserBitSSL.java     |  2 +-
 .../rpc/user/security/TestUserBitSSLServer.java    |  2 +-
 .../security/TestUserBitSaslCompatibility.java     |  2 +-
 .../testing/UserAuthenticatorTestImpl.java         |  4 +--
 .../drill/exec/server/DrillClientFactory.java      |  2 +-
 .../apache/drill/exec/server/HelloResource.java    |  2 +-
 .../drill/exec/server/TestDurationFormat.java      |  2 +-
 .../org/apache/drill/exec/server/TestOptions.java  |  2 +-
 .../drill/exec/server/TestOptionsAuthEnabled.java  |  2 +-
 .../drill/exec/server/TestTpcdsSf1Leaks.java       |  2 +-
 .../drill/exec/server/options/OptionValueTest.java |  1 -
 .../server/options/PersistedOptionValueTest.java   |  1 -
 .../exec/server/options/TestConfigLinkage.java     |  3 +-
 .../exec/server/rest/StatusResourcesTest.java      |  1 -
 .../exec/server/rest/TestMainLoginPageModel.java   |  2 +-
 .../exec/server/rest/WebSessionResourcesTest.java  |  2 +-
 .../rest/spnego/TestDrillSpnegoAuthenticator.java  |  2 +-
 .../rest/spnego/TestSpnegoAuthentication.java      |  4 +--
 .../exec/server/rest/spnego/TestSpnegoConfig.java  |  2 +-
 .../apache/drill/exec/sql/TestBaseViewSupport.java |  2 +-
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  |  4 +--
 .../org/apache/drill/exec/sql/TestInfoSchema.java  |  2 +-
 .../drill/exec/sql/TestSimpleCastFunctions.java    |  2 +-
 .../drill/exec/sql/TestSqlBracketlessSyntax.java   |  2 +-
 .../org/apache/drill/exec/sql/TestViewSupport.java |  2 +-
 .../org/apache/drill/exec/sql/TestWithClause.java  |  2 +-
 .../org/apache/drill/exec/store/ByteArrayUtil.java |  2 +-
 .../drill/exec/store/CachedSingleFileSystem.java   |  2 +-
 .../drill/exec/store/FormatPluginSerDeTest.java    | 13 ++++----
 .../drill/exec/store/StorageStrategyTest.java      | 13 ++++----
 .../drill/exec/store/TestAffinityCalculator.java   |  2 +-
 .../drill/exec/store/TestImplicitFileColumns.java  |  6 ++--
 .../apache/drill/exec/store/TestTimedRunnable.java |  2 +-
 .../exec/store/bson/TestBsonRecordReader.java      |  2 +-
 .../drill/exec/store/dfs/TestDrillFileSystem.java  |  4 +--
 .../store/dfs/TestFormatPluginOptionExtractor.java |  2 +-
 .../org/apache/drill/exec/store/dfs/TestGlob.java  |  6 ++--
 .../exec/store/easy/text/compliant/TestCsv.java    |  2 +-
 .../Drill2283InfoSchemaVarchar1BugTest.java        |  4 +--
 .../ischema/TestInfoSchemaFilterPushDown.java      |  2 +-
 .../exec/store/json/TestJsonRecordReader.java      |  2 +-
 .../apache/drill/exec/store/parquet/FieldInfo.java |  4 +--
 .../store/parquet/ParquetRecordReaderTest.java     |  2 +-
 .../parquet/ParquetSimpleTestFileGenerator.java    |  2 +-
 .../exec/store/parquet/ParquetTestProperties.java  |  4 +--
 .../exec/store/parquet/TestFileGenerator.java      |  2 +-
 .../exec/store/parquet/TestFixedlenDecimal.java    |  2 +-
 .../store/parquet/TestParquetFilterPushDown.java   |  1 -
 .../exec/store/parquet/WrapAroundCounter.java      |  4 +--
 .../columnreaders/TestColumnReaderFactory.java     |  2 +-
 .../parquet/columnreaders/TestDateReader.java      |  2 +-
 .../store/parquet2/TestDrillParquetReader.java     |  2 +-
 .../drill/exec/store/pcap/TestPcapDecoder.java     | 17 +++++-----
 .../exec/store/pcap/TestPcapRecordReader.java      | 17 +++++-----
 .../store/sequencefile/TestSequenceFileReader.java |  2 +-
 .../drill/exec/store/store/TestAssignment.java     |  2 +-
 .../drill/exec/store/sys/PStoreTestUtil.java       |  2 +-
 .../drill/exec/store/sys/TestPStoreProviders.java  |  3 +-
 .../drill/exec/store/text/TestCsvHeader.java       |  2 +-
 .../drill/exec/store/text/TestNewTextReader.java   |  2 +-
 .../drill/exec/store/text/TestTextColumn.java      | 21 +++++++-----
 .../exec/store/text/TextRecordReaderTest.java      |  2 +-
 ...Drill2130JavaExecHamcrestConfigurationTest.java |  2 +-
 .../org/apache/drill/exec/testing/Controls.java    |  2 +-
 .../drill/exec/testing/ControlsInjectionUtil.java  |  2 +-
 .../exec/testing/TestCountDownLatchInjection.java  |  2 +-
 .../drill/exec/testing/TestExceptionInjection.java |  2 +-
 .../drill/exec/testing/TestPauseInjection.java     |  2 +-
 .../drill/exec/testing/TestResourceLeak.java       |  2 +-
 .../drill/exec/util/DrillFileSystemUtilTest.java   | 13 ++++----
 .../apache/drill/exec/util/FileSystemUtilTest.java |  4 +--
 .../drill/exec/util/FileSystemUtilTestBase.java    | 13 ++++----
 .../drill/exec/util/MiniZooKeeperCluster.java      |  2 +-
 .../exec/util/TestApproximateStringMatcher.java    |  4 +--
 .../drill/exec/util/TestArrayWrappedIntIntMap.java |  4 +--
 .../drill/exec/vector/TestSplitAndTransfer.java    |  2 +-
 .../exec/vector/accessor/GenericAccessorTest.java  |  2 +-
 .../exec/vector/accessor/TestTimePrintMillis.java  |  2 +-
 .../exec/vector/complex/TestEmptyPopulation.java   |  2 +-
 .../complex/fn/TestJsonReaderWithSparseFiles.java  |  2 +-
 .../vector/complex/writer/TestComplexToJson.java   |  2 +-
 .../complex/writer/TestComplexTypeReader.java      |  1 -
 .../complex/writer/TestComplexTypeWriter.java      |  3 +-
 .../vector/complex/writer/TestExtendedTypes.java   |  2 +-
 .../exec/vector/complex/writer/TestJsonNanInf.java | 32 +++++++++----------
 .../complex/writer/TestPromotableWriter.java       |  6 ++--
 .../exec/vector/complex/writer/TestRepeated.java   |  2 +-
 .../org/apache/drill/exec/work/batch/FileTest.java |  2 +-
 .../drill/exec/work/batch/TestSpoolingBuffer.java  |  2 +-
 .../work/fragment/FragmentStatusReporterTest.java  | 15 ++++-----
 .../work/fragment/TestFragmentExecutorCancel.java  |  2 +-
 .../exec/work/metadata/TestMetadataProvider.java   |  6 ++--
 .../exec/work/metadata/TestServerMetaProvider.java |  4 +--
 .../work/prepare/PreparedStatementTestBase.java    | 13 ++++----
 .../TestLimit0VsRegularQueriesMetadata.java        | 13 ++++----
 .../prepare/TestPreparedStatementProvider.java     |  4 +--
 .../org/apache/drill/test/BaseDirTestWatcher.java  |  1 -
 .../apache/drill/test/ClusterFixtureBuilder.java   |  2 +-
 .../java/org/apache/drill/test/ClusterTest.java    |  2 +-
 .../java/org/apache/drill/test/ConfigBuilder.java  |  2 +-
 .../test/java/org/apache/drill/test/FieldDef.java  |  2 +-
 .../java/org/apache/drill/test/ProfileParser.java  |  2 +-
 .../java/org/apache/drill/test/QueryTestUtil.java  |  2 +-
 .../org/apache/drill/test/RestClientFixture.java   |  1 -
 .../apache/drill/test/TestGracefulShutdown.java    |  1 -
 .../drill/test/rowSet/file/JsonFileBuilder.java    |  1 -
 .../org/apache/drill/vector/TestFillEmpties.java   |  3 +-
 exec/java-exec/src/test/resources/core-site.xml    | 28 ++++++++--------
 .../src/test/resources/saffron.properties          | 15 +++++----
 .../src/test/resources/ssl-server-invalid.xml      | 19 +++++++++++
 exec/jdbc-all/pom.xml                              | 31 ++++++++++--------
 .../org/apache/drill/jdbc/DrillbitClassLoader.java |  2 +-
 .../org/apache/drill/jdbc/ITTestShadedJar.java     |  2 +-
 exec/jdbc/pom.xml                                  | 29 +++++++++++------
 .../org/apache/drill/jdbc/DrillConnection.java     |  2 +-
 .../apache/drill/jdbc/DrillConnectionConfig.java   |  2 +-
 .../apache/drill/jdbc/DrillDatabaseMetaData.java   | 13 ++++----
 .../apache/drill/jdbc/DrillPreparedStatement.java  | 15 +++++----
 .../java/org/apache/drill/jdbc/DrillResultSet.java |  2 +-
 .../java/org/apache/drill/jdbc/DrillStatement.java | 15 +++++----
 .../main/java/org/apache/drill/jdbc/Driver.java    |  2 +-
 .../apache/drill/jdbc/SQLConversionException.java  |  2 +-
 .../drill/jdbc/SQLConversionOverflowException.java |  2 +-
 .../apache/drill/jdbc/SchemaChangeListener.java    |  2 +-
 .../org/apache/drill/jdbc/SqlTimeoutException.java |  2 +-
 .../drill/jdbc/impl/AvaticaDrillSqlAccessor.java   |  2 +-
 .../java/org/apache/drill/jdbc/impl/BasicList.java |  2 +-
 .../apache/drill/jdbc/impl/DrillAccessorList.java  |  2 +-
 .../org/apache/drill/jdbc/impl/DrillCursor.java    |  2 +-
 .../org/apache/drill/jdbc/impl/DrillFactory.java   |  3 +-
 .../org/apache/drill/jdbc/impl/DrillHandler.java   |  2 +-
 .../apache/drill/jdbc/impl/DrillJdbc40Factory.java |  2 +-
 .../apache/drill/jdbc/impl/DrillJdbc41Factory.java |  1 -
 .../drill/jdbc/impl/DrillRemoteStatement.java      |  2 +-
 .../jdbc/impl/DrillResultSetMetaDataImpl.java      |  3 +-
 .../apache/drill/jdbc/impl/DrillStatementImpl.java |  2 +-
 .../drill/jdbc/impl/DrillStatementRegistry.java    |  2 +-
 .../org/apache/drill/jdbc/impl/DriverImpl.java     |  2 +-
 .../drill/jdbc/impl/GlobalServiceSetReference.java |  2 +-
 .../drill/jdbc/impl/TypeConvertingSqlAccessor.java |  4 +--
 .../apache/drill/jdbc/impl/WrappedAccessor.java    |  5 ++-
 .../java/org/apache/drill/jdbc/package-info.java   |  1 -
 .../org/apache/drill/jdbc/proxy/package-info.java  |  1 -
 .../main/resources/apache-drill-jdbc.properties    |  1 +
 .../drill/jdbc/CachingConnectionFactory.java       |  2 +-
 .../org/apache/drill/jdbc/ConnectionFactory.java   |  2 +-
 .../java/org/apache/drill/jdbc/ConnectionInfo.java |  2 +-
 .../jdbc/ConnectionTransactionMethodsTest.java     |  2 +-
 .../apache/drill/jdbc/NonClosableConnection.java   |  2 +-
 .../jdbc/ResultSetGetMethodConversionsTest.java    |  2 +-
 .../apache/drill/jdbc/ResultSetMetaDataTest.java   |  2 +-
 .../java/org/apache/drill/jdbc/StatementTest.java  |  2 +-
 .../jdbc/impl/TypeConvertingSqlAccessorTest.java   |  2 +-
 .../jdbc/test/Bug1735ConnectionCloseTest.java      |  2 +-
 .../Bug1735ResultSetCloseReleasesBuffersTest.java  |  2 +-
 ...28GetColumnsDataTypeNotTypeCodeIntBugsTest.java |  2 +-
 ...Drill2130JavaJdbcHamcrestConfigurationTest.java |  2 +-
 .../Drill2288GetColumnsMetadataWhenNoRowsTest.java |  2 +-
 ...l2439GetBooleanFailsSayingWrongTypeBugTest.java |  2 +-
 .../Drill2461IntervalsBreakInfoSchemaBugTest.java  |  2 +-
 ...ill2463GetNullsFailedWithAssertionsBugTest.java |  2 +-
 .../test/java/org/apache/drill/jdbc/test/Hook.java |  2 +-
 .../test/JdbcConnectTriesTestEmbeddedBits.java     |  7 ++--
 .../org/apache/drill/jdbc/test/JdbcDataTest.java   |  2 +-
 .../jdbc/test/JdbcNullOrderingAndGroupingTest.java |  2 +-
 .../apache/drill/jdbc/test/JdbcTestActionBase.java |  2 +-
 .../apache/drill/jdbc/test/JdbcTestQueryBase.java  |  2 +-
 .../jdbc/test/TestAggregateFunctionsQuery.java     |  2 +-
 .../org/apache/drill/jdbc/test/TestBugFixes.java   |  2 +-
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  |  2 +-
 .../apache/drill/jdbc/test/TestJdbcMetadata.java   |  2 +-
 exec/memory/base/pom.xml                           | 29 +++++++++++------
 .../java/io/netty/buffer/ExpandableByteBuf.java    |  2 +-
 .../src/main/java/io/netty/buffer/LargeBuffer.java |  2 +-
 .../io/netty/buffer/MutableWrappedByteBuf.java     |  2 +-
 .../io/netty/buffer/UnsafeDirectLittleEndian.java  |  3 +-
 .../drill/exec/exception/OutOfMemoryException.java |  2 +-
 .../drill/exec/memory/AllocationManager.java       |  2 +-
 .../drill/exec/memory/AllocationReservation.java   |  2 +-
 .../exec/memory/AllocatorClosedException.java      |  2 +-
 .../apache/drill/exec/memory/BoundsChecking.java   |  2 +-
 .../apache/drill/exec/memory/BufferAllocator.java  |  2 +-
 .../drill/exec/memory/DrillByteBufAllocator.java   |  2 +-
 .../apache/drill/exec/memory/RootAllocator.java    |  2 +-
 .../org/apache/drill/exec/memory/package-info.java |  2 +-
 .../org/apache/drill/exec/ops/BufferManager.java   |  4 +--
 .../java/org/apache/drill/exec/util/Pointer.java   |  2 +-
 .../drill/exec/memory/BoundsCheckingTest.java      | 13 ++++----
 .../apache/drill/exec/memory/TestAccountant.java   |  2 +-
 .../drill/exec/memory/TestBaseAllocator.java       |  2 +-
 .../apache/drill/exec/memory/TestEndianess.java    |  2 +-
 exec/memory/pom.xml                                | 27 +++++++++-------
 exec/pom.xml                                       | 31 ++++++++++--------
 exec/rpc/pom.xml                                   | 29 +++++++++++------
 .../apache/drill/common/SerializedExecutor.java    |  2 +-
 .../drill/exec/rpc/AbstractHandshakeHandler.java   |  2 +-
 .../main/java/org/apache/drill/exec/rpc/Acks.java  |  2 +-
 .../drill/exec/rpc/BaseRpcOutcomeListener.java     |  2 +-
 .../drill/exec/rpc/ChannelClosedException.java     |  2 +-
 .../rpc/ChannelListenerWithCoordinationId.java     |  2 +-
 .../drill/exec/rpc/ChunkCreationHandler.java       |  2 +-
 .../apache/drill/exec/rpc/ClientConnection.java    |  4 +--
 .../apache/drill/exec/rpc/ConnectionThrottle.java  |  2 +-
 .../org/apache/drill/exec/rpc/DrillRpcFuture.java  |  2 +-
 .../apache/drill/exec/rpc/DrillRpcFutureImpl.java  |  2 +-
 .../apache/drill/exec/rpc/EncryptionContext.java   |  3 +-
 .../drill/exec/rpc/EncryptionContextImpl.java      |  2 +-
 .../apache/drill/exec/rpc/FutureBitCommand.java    |  2 +-
 .../apache/drill/exec/rpc/InboundRpcMessage.java   |  2 +-
 .../apache/drill/exec/rpc/ListeningCommand.java    |  2 +-
 .../apache/drill/exec/rpc/NamedThreadFactory.java  |  2 +-
 .../drill/exec/rpc/NonTransientRpcException.java   |  2 +-
 .../apache/drill/exec/rpc/OutOfMemoryHandler.java  |  2 +-
 .../apache/drill/exec/rpc/OutboundRpcMessage.java  |  2 +-
 .../drill/exec/rpc/ProtobufLengthDecoder.java      |  2 +-
 .../drill/exec/rpc/ReconnectingConnection.java     |  2 +-
 .../apache/drill/exec/rpc/ResettableBarrier.java   |  2 +-
 .../java/org/apache/drill/exec/rpc/Response.java   |  2 +-
 .../org/apache/drill/exec/rpc/ResponseSender.java  |  2 +-
 .../apache/drill/exec/rpc/RpcCheckedFuture.java    |  2 +-
 .../java/org/apache/drill/exec/rpc/RpcCommand.java |  2 +-
 .../java/org/apache/drill/exec/rpc/RpcConfig.java  |  2 +-
 .../drill/exec/rpc/RpcConnectionHandler.java       |  2 +-
 .../java/org/apache/drill/exec/rpc/RpcDecoder.java |  2 +-
 .../java/org/apache/drill/exec/rpc/RpcEncoder.java |  2 +-
 .../org/apache/drill/exec/rpc/RpcException.java    |  2 +-
 .../apache/drill/exec/rpc/RpcExceptionHandler.java |  2 +-
 .../java/org/apache/drill/exec/rpc/RpcMessage.java |  2 +-
 .../java/org/apache/drill/exec/rpc/RpcMetrics.java |  5 ++-
 .../java/org/apache/drill/exec/rpc/RpcOutcome.java |  2 +-
 .../apache/drill/exec/rpc/RpcOutcomeListener.java  |  2 +-
 .../java/org/apache/drill/exec/rpc/SaslCodec.java  |  1 -
 .../drill/exec/rpc/SaslDecryptionHandler.java      |  1 -
 .../drill/exec/rpc/SaslEncryptionHandler.java      |  1 -
 .../org/apache/drill/exec/rpc/TransportCheck.java  |  2 +-
 .../apache/drill/exec/rpc/UserRpcException.java    |  2 +-
 .../security/AuthenticationOutcomeListener.java    |  2 +-
 .../drill/exec/rpc/security/SaslProperties.java    |  2 +-
 exec/vector/pom.xml                                | 29 +++++++++++------
 exec/vector/src/main/codegen/includes/license.ftl  | 36 +++++++++++----------
 .../src/main/codegen/includes/vv_imports.ftl       | 28 ++++++++++------
 .../codegen/templates/AbstractFieldReader.java     |  1 -
 .../codegen/templates/AbstractFieldWriter.java     |  3 +-
 .../templates/AbstractPromotableFieldWriter.java   |  3 +-
 .../src/main/codegen/templates/BaseReader.java     |  3 +-
 .../src/main/codegen/templates/BaseWriter.java     |  3 +-
 .../main/codegen/templates/BasicTypeHelper.java    |  1 -
 .../src/main/codegen/templates/ComplexCopier.java  |  3 +-
 .../src/main/codegen/templates/ComplexReaders.java |  3 +-
 .../src/main/codegen/templates/ComplexWriters.java |  3 +-
 .../main/codegen/templates/FixedValueVectors.java  |  1 -
 .../main/codegen/templates/HolderReaderImpl.java   |  3 +-
 .../src/main/codegen/templates/ListWriters.java    |  1 -
 .../src/main/codegen/templates/MapWriters.java     |  3 +-
 .../src/main/codegen/templates/NullReader.java     |  3 +-
 .../codegen/templates/RepeatedValueVectors.java    |  1 -
 .../main/codegen/templates/UnionListWriter.java    |  1 -
 .../src/main/codegen/templates/UnionReader.java    |  3 +-
 .../src/main/codegen/templates/UnionVector.java    |  1 -
 .../src/main/codegen/templates/UnionWriter.java    |  1 -
 .../src/main/codegen/templates/ValueHolders.java   |  2 +-
 .../codegen/templates/VariableLengthVectors.java   |  1 -
 .../exception/OversizedAllocationException.java    |  2 +-
 .../exception/SchemaChangeRuntimeException.java    |  2 +-
 .../exec/expr/fn/impl/ByteFunctionHelpers.java     |  5 ++-
 .../drill/exec/expr/fn/impl/DateUtility.java       |  1 -
 .../drill/exec/expr/holders/ComplexHolder.java     |  2 +-
 .../apache/drill/exec/expr/holders/ListHolder.java |  2 +-
 .../apache/drill/exec/expr/holders/MapHolder.java  |  2 +-
 .../drill/exec/expr/holders/ObjectHolder.java      |  3 +-
 .../exec/expr/holders/RepeatedListHolder.java      |  2 +-
 .../drill/exec/expr/holders/RepeatedMapHolder.java |  2 +-
 .../drill/exec/expr/holders/UnionHolder.java       |  2 +-
 .../drill/exec/expr/holders/ValueHolder.java       |  2 +-
 .../org/apache/drill/exec/record/TransferPair.java |  2 +-
 .../java/org/apache/drill/exec/util/CallBack.java  |  2 +-
 .../drill/exec/util/JsonStringArrayList.java       |  2 +-
 .../apache/drill/exec/util/JsonStringHashMap.java  |  2 +-
 .../main/java/org/apache/drill/exec/util/Text.java |  2 +-
 .../apache/drill/exec/vector/AddOrGetResult.java   |  2 +-
 .../apache/drill/exec/vector/DateUtilities.java    |  1 -
 .../vector/NullableVectorDefinitionSetter.java     |  2 +-
 .../drill/exec/vector/SchemaChangeCallBack.java    |  3 +-
 .../drill/exec/vector/UntypedNullHolder.java       |  1 -
 .../drill/exec/vector/UntypedNullVector.java       |  3 +-
 .../drill/exec/vector/ValueHolderHelper.java       |  2 +-
 .../apache/drill/exec/vector/VectorTrimmer.java    |  2 +-
 .../vector/accessor/writer/dummy/package-info.java |  1 -
 .../exec/vector/accessor/writer/package-info.java  |  1 -
 .../exec/vector/complex/ContainerVectorLike.java   |  2 +-
 .../exec/vector/complex/EmptyValuePopulator.java   |  2 +-
 .../drill/exec/vector/complex/Positionable.java    |  2 +-
 .../complex/RepeatedFixedWidthVectorLike.java      |  2 +-
 .../exec/vector/complex/RepeatedValueVector.java   |  2 +-
 .../complex/RepeatedVariableWidthVectorLike.java   |  2 +-
 .../exec/vector/complex/VectorWithOrdinal.java     |  2 +-
 .../vector/complex/impl/AbstractBaseReader.java    |  2 +-
 .../vector/complex/impl/AbstractBaseWriter.java    |  2 +-
 .../vector/complex/impl/ComplexWriterImpl.java     |  2 +-
 .../vector/complex/impl/MapOrListWriterImpl.java   |  2 +-
 .../exec/vector/complex/impl/PromotableWriter.java |  4 +--
 .../complex/impl/RepeatedListReaderImpl.java       |  5 ++-
 .../vector/complex/impl/RepeatedMapReaderImpl.java |  5 ++-
 .../impl/SingleLikeRepeatedMapReaderImpl.java      |  3 +-
 .../vector/complex/impl/SingleListReaderImpl.java  |  6 ++--
 .../vector/complex/impl/SingleMapReaderImpl.java   |  7 ++--
 .../exec/vector/complex/impl/UnionListReader.java  |  5 ++-
 .../exec/vector/complex/reader/FieldReader.java    |  2 +-
 .../exec/vector/complex/writer/FieldWriter.java    |  2 +-
 .../exec/vector/VariableLengthVectorTest.java      |  2 +-
 header                                             |  2 +-
 logical/pom.xml                                    | 31 ++++++++++--------
 .../java/org/apache/drill/common/JSONOptions.java  |  2 +-
 .../common/config/LogicalPlanPersistence.java      |  2 +-
 .../common/exceptions/ExecutionSetupException.java |  2 +-
 .../exceptions/ExpressionParsingException.java     |  2 +-
 .../LogicalOperatorValidationException.java        |  2 +-
 .../exceptions/LogicalPlanParsingException.java    |  2 +-
 .../drill/common/expression/BooleanOperator.java   |  3 +-
 .../drill/common/expression/CastExpression.java    |  2 +-
 .../drill/common/expression/ConvertExpression.java |  2 +-
 .../drill/common/expression/ErrorCollector.java    |  2 +-
 .../common/expression/ErrorCollectorImpl.java      |  2 +-
 .../common/expression/ExpressionFunction.java      |  2 +-
 .../common/expression/ExpressionPosition.java      |  2 +-
 .../drill/common/expression/FunctionCall.java      |  2 +-
 .../common/expression/FunctionCallFactory.java     |  2 +-
 .../drill/common/expression/FunctionName.java      |  2 +-
 .../expression/MajorTypeInLogicalExpression.java   |  2 +-
 .../drill/common/expression/NullExpression.java    |  2 +-
 .../common/expression/OutputTypeDeterminer.java    |  2 +-
 .../drill/common/expression/TypedNullConstant.java |  2 +-
 .../drill/common/expression/ValidationError.java   |  2 +-
 .../drill/common/expression/fn/CastFunctions.java  |  2 +-
 .../drill/common/expression/fn/FuncHolder.java     |  2 +-
 .../common/expression/fn/JodaDateValidator.java    | 31 +++++++++---------
 .../drill/common/expression/fn/package-info.java   |  2 +-
 .../drill/common/expression/package-info.java      |  2 +-
 .../drill/common/expression/types/AtomType.java    |  2 +-
 .../drill/common/expression/types/DataType.java    |  2 +-
 .../common/expression/types/DataTypeFactory.java   |  2 +-
 .../common/expression/types/LateBindType.java      |  2 +-
 .../common/expression/types/package-info.java      |  2 +-
 .../visitors/ConditionalExprOptimizer.java         |  3 +-
 .../visitors/ExpressionValidationError.java        |  2 +-
 .../visitors/ExpressionValidationException.java    |  2 +-
 .../common/expression/visitors/OpVisitor.java      |  2 +-
 .../expression/visitors/SimpleExprVisitor.java     |  2 +-
 .../common/expression/visitors/package-info.java   |  2 +-
 .../apache/drill/common/graph/AdjacencyList.java   |  2 +-
 .../drill/common/graph/AdjacencyListBuilder.java   |  2 +-
 .../java/org/apache/drill/common/graph/Edge.java   |  2 +-
 .../java/org/apache/drill/common/graph/Graph.java  |  2 +-
 .../org/apache/drill/common/graph/GraphAlgos.java  |  2 +-
 .../org/apache/drill/common/graph/GraphValue.java  |  2 +-
 .../apache/drill/common/graph/GraphVisitor.java    |  2 +-
 .../org/apache/drill/common/graph/Visitable.java   |  2 +-
 .../apache/drill/common/graph/package-info.java    |  2 +-
 .../drill/common/logical/FormatPluginConfig.java   |  2 +-
 .../apache/drill/common/logical/LogicalPlan.java   |  2 +-
 .../drill/common/logical/LogicalPlanBuilder.java   |  4 +--
 .../drill/common/logical/PlanProperties.java       |  4 +--
 .../drill/common/logical/StoragePluginConfig.java  |  2 +-
 .../common/logical/StoragePluginConfigBase.java    |  2 +-
 .../common/logical/UnexpectedOperatorType.java     |  2 +-
 .../drill/common/logical/ValidationError.java      |  2 +-
 .../drill/common/logical/data/AbstractBuilder.java |  2 +-
 .../common/logical/data/AbstractSingleBuilder.java |  2 +-
 .../apache/drill/common/logical/data/Filter.java   |  2 +-
 .../apache/drill/common/logical/data/Flatten.java  |  2 +-
 .../common/logical/data/GroupingAggregate.java     |  2 +-
 .../org/apache/drill/common/logical/data/Join.java |  2 +-
 .../drill/common/logical/data/JoinCondition.java   |  2 +-
 .../apache/drill/common/logical/data/Limit.java    |  2 +-
 .../drill/common/logical/data/LogicalOperator.java |  2 +-
 .../common/logical/data/LogicalOperatorBase.java   |  2 +-
 .../drill/common/logical/data/NamedExpression.java |  2 +-
 .../apache/drill/common/logical/data/Project.java  |  2 +-
 .../common/logical/data/RunningAggregate.java      |  2 +-
 .../org/apache/drill/common/logical/data/Scan.java |  2 +-
 .../apache/drill/common/logical/data/Sequence.java |  2 +-
 .../common/logical/data/SingleInputOperator.java   |  2 +-
 .../drill/common/logical/data/SinkOperator.java    |  2 +-
 .../drill/common/logical/data/SourceOperator.java  |  2 +-
 .../apache/drill/common/logical/data/Store.java    |  2 +-
 .../drill/common/logical/data/Transform.java       |  2 +-
 .../apache/drill/common/logical/data/Union.java    |  2 +-
 .../apache/drill/common/logical/data/Values.java   |  2 +-
 .../apache/drill/common/logical/data/Window.java   |  2 +-
 .../apache/drill/common/logical/data/Writer.java   |  2 +-
 .../drill/common/logical/data/package-info.java    |  2 +-
 .../data/visitors/AbstractLogicalVisitor.java      |  2 +-
 .../logical/data/visitors/LogicalVisitor.java      |  2 +-
 .../common/logical/data/visitors/package-info.java |  2 +-
 .../apache/drill/common/logical/package-info.java  |  2 +-
 .../drill/common/util/AbstractDynamicBean.java     |  2 +-
 .../drill/common/expression/PathSegmentTests.java  |  2 +-
 .../expression/fn/JodaDateValidatorTest.java       | 31 +++++++++---------
 .../drill/common/expression/parser/TreeTest.java   |  2 +-
 .../apache/drill/storage/CheckStorageConfig.java   |  2 +-
 .../org/apache/drill/common/types/DataMode.java    |  2 +-
 .../org/apache/drill/common/types/MajorType.java   |  2 +-
 .../org/apache/drill/common/types/MinorType.java   |  2 +-
 .../drill/common/types/SchemaTypeProtos.java       |  2 +-
 .../org/apache/drill/common/types/TypeProtos.java  |  2 +-
 .../org/apache/drill/exec/proto/BitControl.java    |  2 +-
 .../java/org/apache/drill/exec/proto/BitData.java  |  2 +-
 .../drill/exec/proto/CoordinationProtos.java       |  2 +-
 .../org/apache/drill/exec/proto/ExecProtos.java    |  2 +-
 .../apache/drill/exec/proto/GeneralRPCProtos.java  |  2 +-
 .../apache/drill/exec/proto/SchemaBitControl.java  |  2 +-
 .../org/apache/drill/exec/proto/SchemaBitData.java |  2 +-
 .../drill/exec/proto/SchemaCoordinationProtos.java |  2 +-
 .../apache/drill/exec/proto/SchemaDefProtos.java   |  2 +-
 .../apache/drill/exec/proto/SchemaExecProtos.java  |  2 +-
 .../drill/exec/proto/SchemaGeneralRPCProtos.java   |  2 +-
 .../drill/exec/proto/SchemaSchemaDefProtos.java    |  2 +-
 .../drill/exec/proto/SchemaUserBitShared.java      |  2 +-
 .../apache/drill/exec/proto/SchemaUserProtos.java  |  2 +-
 .../org/apache/drill/exec/proto/UserBitShared.java |  2 +-
 .../org/apache/drill/exec/proto/UserProtos.java    |  2 +-
 .../org/apache/drill/exec/proto/beans/Ack.java     |  2 +-
 .../drill/exec/proto/beans/BitClientHandshake.java |  2 +-
 .../exec/proto/beans/BitControlHandshake.java      |  2 +-
 .../drill/exec/proto/beans/BitServerHandshake.java |  2 +-
 .../apache/drill/exec/proto/beans/BitStatus.java   |  2 +-
 .../drill/exec/proto/beans/BitToUserHandshake.java |  2 +-
 .../drill/exec/proto/beans/CatalogMetadata.java    |  2 +-
 .../drill/exec/proto/beans/CollateSupport.java     |  2 +-
 .../apache/drill/exec/proto/beans/Collector.java   |  2 +-
 .../drill/exec/proto/beans/ColumnMetadata.java     |  2 +-
 .../exec/proto/beans/ColumnSearchability.java      |  2 +-
 .../drill/exec/proto/beans/ColumnUpdatability.java |  2 +-
 .../drill/exec/proto/beans/CompleteRpcMessage.java |  2 +-
 .../drill/exec/proto/beans/ConvertSupport.java     |  2 +-
 .../drill/exec/proto/beans/CoreOperatorType.java   |  2 +-
 .../exec/proto/beans/CorrelationNamesSupport.java  |  2 +-
 .../proto/beans/CreatePreparedStatementReq.java    |  2 +-
 .../proto/beans/CreatePreparedStatementResp.java   |  2 +-
 .../drill/exec/proto/beans/CustomMessage.java      |  2 +-
 .../exec/proto/beans/DateTimeLiteralsSupport.java  |  2 +-
 .../drill/exec/proto/beans/DrillPBError.java       |  2 +-
 .../exec/proto/beans/DrillServiceInstance.java     |  2 +-
 .../drill/exec/proto/beans/DrillbitEndpoint.java   |  2 +-
 .../drill/exec/proto/beans/ExceptionWrapper.java   |  2 +-
 .../drill/exec/proto/beans/FinishedReceiver.java   |  2 +-
 .../drill/exec/proto/beans/FragmentHandle.java     |  2 +-
 .../exec/proto/beans/FragmentRecordBatch.java      |  2 +-
 .../drill/exec/proto/beans/FragmentState.java      |  2 +-
 .../drill/exec/proto/beans/FragmentStatus.java     |  2 +-
 .../drill/exec/proto/beans/GetCatalogsReq.java     |  2 +-
 .../drill/exec/proto/beans/GetCatalogsResp.java    |  2 +-
 .../drill/exec/proto/beans/GetColumnsReq.java      |  2 +-
 .../drill/exec/proto/beans/GetColumnsResp.java     |  2 +-
 .../exec/proto/beans/GetQueryPlanFragments.java    |  2 +-
 .../drill/exec/proto/beans/GetSchemasReq.java      |  2 +-
 .../drill/exec/proto/beans/GetSchemasResp.java     |  2 +-
 .../drill/exec/proto/beans/GetServerMetaResp.java  |  2 +-
 .../drill/exec/proto/beans/GetTablesReq.java       |  2 +-
 .../drill/exec/proto/beans/GetTablesResp.java      |  2 +-
 .../drill/exec/proto/beans/GroupBySupport.java     |  2 +-
 .../drill/exec/proto/beans/HandshakeStatus.java    |  2 +-
 .../drill/exec/proto/beans/IdentifierCasing.java   |  2 +-
 .../exec/proto/beans/InitializeFragments.java      |  2 +-
 .../org/apache/drill/exec/proto/beans/Jar.java     |  2 +-
 .../apache/drill/exec/proto/beans/LikeFilter.java  |  2 +-
 .../exec/proto/beans/MajorFragmentProfile.java     |  2 +-
 .../apache/drill/exec/proto/beans/MetricValue.java |  2 +-
 .../exec/proto/beans/MinorFragmentProfile.java     |  2 +-
 .../apache/drill/exec/proto/beans/NamePart.java    |  2 +-
 .../apache/drill/exec/proto/beans/NodeStatus.java  |  2 +-
 .../drill/exec/proto/beans/NullCollation.java      |  2 +-
 .../drill/exec/proto/beans/OperatorProfile.java    |  2 +-
 .../drill/exec/proto/beans/OrderBySupport.java     |  2 +-
 .../drill/exec/proto/beans/OuterJoinSupport.java   |  2 +-
 .../drill/exec/proto/beans/ParsingError.java       |  2 +-
 .../drill/exec/proto/beans/PlanFragment.java       |  2 +-
 .../drill/exec/proto/beans/PreparedStatement.java  |  2 +-
 .../exec/proto/beans/PreparedStatementHandle.java  |  2 +-
 .../apache/drill/exec/proto/beans/Property.java    |  2 +-
 .../exec/proto/beans/QueryContextInformation.java  |  2 +-
 .../apache/drill/exec/proto/beans/QueryData.java   |  2 +-
 .../org/apache/drill/exec/proto/beans/QueryId.java |  2 +-
 .../apache/drill/exec/proto/beans/QueryInfo.java   |  2 +-
 .../drill/exec/proto/beans/QueryPlanFragments.java |  2 +-
 .../drill/exec/proto/beans/QueryProfile.java       |  2 +-
 .../apache/drill/exec/proto/beans/QueryResult.java |  2 +-
 .../drill/exec/proto/beans/QueryResultsMode.java   |  2 +-
 .../apache/drill/exec/proto/beans/QueryType.java   |  2 +-
 .../drill/exec/proto/beans/RecordBatchDef.java     |  2 +-
 .../apache/drill/exec/proto/beans/Registry.java    |  2 +-
 .../drill/exec/proto/beans/RequestResults.java     |  2 +-
 .../drill/exec/proto/beans/RequestStatus.java      |  2 +-
 .../exec/proto/beans/ResultColumnMetadata.java     |  2 +-
 .../org/apache/drill/exec/proto/beans/Roles.java   |  2 +-
 .../apache/drill/exec/proto/beans/RpcChannel.java  |  2 +-
 .../drill/exec/proto/beans/RpcEndpointInfos.java   |  2 +-
 .../apache/drill/exec/proto/beans/RpcHeader.java   |  2 +-
 .../org/apache/drill/exec/proto/beans/RpcMode.java |  2 +-
 .../org/apache/drill/exec/proto/beans/RpcType.java |  2 +-
 .../apache/drill/exec/proto/beans/RunQuery.java    |  2 +-
 .../apache/drill/exec/proto/beans/SaslMessage.java |  2 +-
 .../apache/drill/exec/proto/beans/SaslStatus.java  |  2 +-
 .../apache/drill/exec/proto/beans/SaslSupport.java |  2 +-
 .../drill/exec/proto/beans/SchemaMetadata.java     |  2 +-
 .../drill/exec/proto/beans/SerializedField.java    |  2 +-
 .../apache/drill/exec/proto/beans/ServerMeta.java  |  2 +-
 .../proto/beans/ServerPreparedStatementState.java  |  2 +-
 .../exec/proto/beans/StackTraceElementWrapper.java |  2 +-
 .../drill/exec/proto/beans/StreamProfile.java      |  2 +-
 .../drill/exec/proto/beans/SubQuerySupport.java    |  2 +-
 .../drill/exec/proto/beans/TableMetadata.java      |  2 +-
 .../drill/exec/proto/beans/UnionSupport.java       |  2 +-
 .../drill/exec/proto/beans/UserCredentials.java    |  2 +-
 .../drill/exec/proto/beans/UserProperties.java     |  2 +-
 .../drill/exec/proto/beans/UserToBitHandshake.java |  2 +-
 .../apache/drill/exec/proto/beans/ValueMode.java   |  2 +-
 .../drill/exec/proto/beans/WorkQueueStatus.java    |  2 +-
 src/main/resources/assemblies/source-assembly.xml  | 29 +++++++++++------
 src/main/resources/checkstyle-config.xml           | 31 +++++++++++-------
 src/main/resources/checkstyle-suppressions.xml     | 29 +++++++++++------
 tools/drill-patch-review.py                        |  7 ++--
 tools/fmpp/pom.xml                                 | 29 +++++++++++------
 .../java/org/apache/drill/fmpp/mojo/FMPPMojo.java  |  2 +-
 tools/pom.xml                                      | 27 +++++++++-------
 tools/verify_release.sh                            | 34 +++++++++-----------
 2067 files changed, 4511 insertions(+), 4259 deletions(-)

commit 1ce7d37d822bdfed66031444cbdf6785700495b6
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Apr 12 16:39:19 2018 -0700

    DRILL-6320: Added license-maven-plugin to the pom.

 INSTALL.md       |   4 +-
 pom.xml          | 143 +++++++++++++++++++++++++++++++++++++++++++++++--------
 protocol/pom.xml |  36 +++++++-------
 3 files changed, 145 insertions(+), 38 deletions(-)

commit 1bb292072f249bc8c4334313af8f8537c7ed1622
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Mon Feb 5 13:12:15 2018 -0800

    DRILL-6322: Lateral Join: Common changes - Add new iterOutcome, Operatortypes, MockRecordBatch for testing
    
      Added new Iterator State EMIT, added operatos LATERA_JOIN & UNNEST in CoreOperatorType and added LateralContract interface
    
      Implementation of MockRecordBatch to test operator behavior for different IterOutcomes. a) Creates new output container for schema change cases. b) Doesn't create new container for each next() call without schema change, since the operator in test expects the ValueVector object in it's incoming batch to be same unless a OK_NEW_SCHEMA case is hit. Since setup() method of operator in test will store the reference to value vector received in first batch
    
    This closes #1211

 .../drill/exec/physical/base/LateralContract.java  |  46 +++++
 .../org/apache/drill/exec/record/RecordBatch.java  |  27 ++-
 .../drill/exec/physical/impl/MockRecordBatch.java  | 185 +++++++++++++++++++++
 .../org/apache/drill/test/OperatorFixture.java     |  28 ++--
 .../org/apache/drill/exec/proto/UserBitShared.java |  31 +++-
 .../drill/exec/proto/beans/CoreOperatorType.java   |   6 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   2 +
 7 files changed, 306 insertions(+), 19 deletions(-)

commit f8691f4f9b2a8a64d33bad61bd7cb1d9a428569e
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Thu Apr 5 15:49:22 2018 -0700

    DRILL-6311: No logging information in drillbit.log / drillbit.out
    
    closes #1202

 exec/java-exec/pom.xml   |  7 -------
 exec/jdbc/pom.xml        |  7 -------
 exec/memory/base/pom.xml |  7 -------
 exec/pom.xml             | 11 ++++++++++-
 exec/rpc/pom.xml         |  7 -------
 exec/vector/pom.xml      |  8 --------
 6 files changed, 10 insertions(+), 37 deletions(-)

commit 379196970a0eb4d1c1059902b5daa0673dfb7fbf
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Feb 7 16:24:50 2018 +0200

    DRILL-6294: Changes to support Calcite 1.16.0 , and remove deprecated API usage
    
    closes #1198

 .../org/apache/drill/exec/store/jdbc/JdbcPrel.java |  2 +-
 .../drill/exec/store/jdbc/JdbcStoragePlugin.java   |  6 ++--
 .../apache/drill/exec/planner/RuleInstance.java    |  4 +--
 .../exec/planner/common/DrillFilterRelBase.java    |  3 +-
 .../exec/planner/common/DrillJoinRelBase.java      |  6 ++--
 .../exec/planner/common/DrillProjectRelBase.java   |  4 +--
 .../drill/exec/planner/common/DrillRelOptUtil.java | 27 +++++++-------
 .../drill/exec/planner/cost/DrillCostBase.java     |  9 ++---
 .../planner/cost/DrillRelMdDistinctRowCount.java   |  2 +-
 .../exec/planner/logical/DrillConstExecutor.java   |  2 +-
 .../logical/DrillPushFilterPastProjectRule.java    | 13 ++++---
 .../planner/logical/DrillPushLimitToScanRule.java  | 17 ++++-----
 .../planner/logical/DrillReduceAggregatesRule.java | 37 ++++++++++---------
 .../logical/DrillReduceExpressionsRule.java        |  4 +--
 .../drill/exec/planner/logical/DrillSortRel.java   |  7 ++--
 .../planner/logical/partition/PruneScanRule.java   |  6 ++--
 .../drill/exec/planner/physical/AggPrelBase.java   | 10 ------
 .../planner/physical/HashToRandomExchangePrel.java | 12 +++----
 .../drill/exec/planner/physical/JoinPrel.java      | 20 +++++------
 .../exec/planner/physical/MergeJoinPrule.java      | 11 +++---
 .../exec/planner/physical/PhysicalPlanCreator.java |  4 +--
 .../drill/exec/planner/physical/ProjectPrule.java  | 14 ++++----
 .../exec/planner/physical/StreamAggPrule.java      |  6 ++--
 .../drill/exec/planner/physical/WindowPrule.java   | 12 +++----
 .../drill/exec/planner/physical/WriterPrule.java   |  8 ++---
 .../physical/explain/NumberingRelWriter.java       |  3 +-
 .../visitor/ExcessiveExchangeIdentifier.java       | 10 +++---
 .../physical/visitor/StarColumnConverter.java      | 41 +++++++++++-----------
 .../physical/visitor/SwapHashJoinVisitor.java      | 12 +++----
 .../exec/planner/sql/DrillSqlAggOperator.java      |  6 ++--
 .../drill/exec/planner/sql/SqlConverter.java       | 15 ++++----
 .../drill/exec/planner/sql/TypeInferenceUtils.java |  1 +
 .../planner/sql/handlers/DefaultSqlHandler.java    |  3 +-
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  |  8 +++--
 .../sql/parser/UnsupportedOperatorsVisitor.java    | 22 ++++++------
 .../exec/store/parquet/ParquetPushDownFilter.java  |  8 ++---
 exec/jdbc-all/pom.xml                              |  2 +-
 .../org/apache/drill/jdbc/impl/DrillMetaImpl.java  |  2 ++
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java | 26 ++++----------
 pom.xml                                            |  4 +--
 40 files changed, 194 insertions(+), 215 deletions(-)

commit ead1e9d6325893fde17076b704a1d4b4a94ccef3
Author: dvjyothsna <jyothsna.dvj@gmail.com>
Date:   Thu Mar 29 11:16:56 2018 -0700

    DRILL-6273: Removed dependency licensed under Category X
    
    closes #1195

 pom.xml                                        |  1 +
 tools/fmpp/pom.xml                             |  4 ++++
 tools/fmpp/src/main/java/bsh/EvalError.java    | 24 ++++++++++++++++++++++++
 tools/fmpp/src/main/java/bsh/package-info.java | 24 ++++++++++++++++++++++++
 4 files changed, 53 insertions(+)

commit 6370ed630b6bc56972d8893618773b2176846085
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Mon Apr 2 22:35:53 2018 -0700

    DRILL-143: Support CGROUPs resource management
    
    Introduces the DRILLBIT_CGROUP option in drill-env.sh.
    The startup script checks if the specified CGroup (ver 2) is available and tries to apply it to the launched Drillbit JVM.
    This would benefit not just Drill-on-YARN usecases, but  any setup that would like CGroups for enforcement of (cpu) resources management.
    (Also introduced SYS_CGROUP_DIR to account for possible non default locations of CGroup).
    
    e.g when Drillbit is configured to use `drillcpu` cgroup
    ```
    [root@maprlabs ~]# /opt/mapr/drill/apache-drill-1.14.0-SNAPSHOT/bin/drillbit.sh restart
    Stopping drillbit
    ..
    Starting drillbit, logging to /var/log/drill/drillbit.out
    WARN: Drillbit's CPU resource usage will be managed under the CGroup : drillcpu (up to 4.00 cores allowed)
    ```
    
    e.g. Non-existent CGroup `droolcpu` is used
    ```
    [root@kk127 ~]# /opt/mapr/drill/apache-drill-1.14.0-SNAPSHOT/bin/drillbit.sh restart
    Stopping drillbit
    ..
    Starting drillbit, logging to /var/log/drill/drillbit.out
    ERROR: cgroup droolcpu does not found. Ensure that daemon is running and cgroup exists
    ```
    
    closes #1200

 distribution/src/resources/drill-env.sh | 10 +++++++++
 distribution/src/resources/drillbit.sh  | 39 +++++++++++++++++++++++++++++++++
 2 files changed, 49 insertions(+)

commit da241134fb88464139437b05b1feaafbb3014bb0
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Thu Mar 29 19:05:07 2018 -0700

    DRILL-6296: Add operator metrics for batch sizing for merge join
    
    closes #1181

 .../drill/exec/ops/OperatorMetricRegistry.java     |   2 +
 .../physical/impl/flatten/FlattenRecordBatch.java  |  28 ++-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  90 ++++++--
 .../record/AbstractRecordBatchMemoryManager.java   | 134 ------------
 .../exec/record/RecordBatchMemoryManager.java      | 228 +++++++++++++++++++++
 .../apache/drill/exec/record/RecordIterator.java   |   6 +-
 6 files changed, 330 insertions(+), 158 deletions(-)

commit 77f5e901370c4c23195ac226d140e8f3eca5f71d
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Tue Mar 20 13:44:50 2018 -0700

    DRILL-6284: Add operator metrics for batch sizing for flatten

 .../drill/exec/ops/OperatorMetricRegistry.java     |  2 +
 .../drill/exec/physical/config/FlattenPOP.java     |  4 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  | 42 +++++++++++++++++
 .../record/AbstractRecordBatchMemoryManager.java   | 53 ++++++++++++++++++++++
 .../org/apache/drill/exec/proto/UserBitShared.java | 20 ++++++--
 .../drill/exec/proto/beans/CoreOperatorType.java   |  4 +-
 protocol/src/main/protobuf/UserBitShared.proto     |  1 +
 7 files changed, 118 insertions(+), 8 deletions(-)

commit 4f2182e41f4474ca42ae6d572a9c5d5ff274d984
Author: Paul Rogers <progers@cloudera.com>
Date:   Sat Mar 10 23:43:36 2018 -0800

    DRILL-6230: Extend row set readers to handle hyper vectors
    
    closes #1161

 .../rowSet/model/AbstractReaderBuilder.java        |  45 ++
 .../exec/physical/rowSet/model/ReaderIndex.java    |  28 +-
 .../rowSet/model/hyper/BaseReaderBuilder.java      | 142 +++---
 .../rowSet/model/hyper/HyperSchemaInference.java   |  72 ++++
 .../rowSet/model/single/BaseReaderBuilder.java     |  81 ++--
 .../rowSet/model/single/DirectRowIndex.java        |  40 ++
 .../SingleSchemaInference.java}                    |  27 +-
 .../exec/physical/rowSet/impl/RowSetTestUtils.java |  59 +++
 .../rowSet/impl/TestResultSetLoaderMapArray.java   | 135 +++---
 .../rowSet/impl/TestResultSetLoaderMaps.java       | 193 ++++++---
 .../impl/TestResultSetLoaderOmittedValues.java     |   3 +-
 .../rowSet/impl/TestResultSetLoaderOverflow.java   | 173 ++++----
 .../rowSet/impl/TestResultSetLoaderProjection.java | 139 +-----
 .../rowSet/impl/TestResultSetLoaderProtocol.java   |   2 +-
 .../rowSet/impl/TestResultSetLoaderTorture.java    |  16 +-
 .../drill/exec/record/TestVectorContainer.java     |   3 +-
 .../org/apache/drill/test/rowSet/DirectRowSet.java |  31 +-
 .../apache/drill/test/rowSet/HyperRowSetImpl.java  | 102 ++++-
 .../apache/drill/test/rowSet/IndirectRowSet.java   |  14 +-
 .../java/org/apache/drill/test/rowSet/RowSet.java  |   7 +
 .../apache/drill/test/rowSet/RowSetComparison.java |  73 +---
 .../apache/drill/test/rowSet/RowSetPrinter.java    |  18 +-
 .../org/apache/drill/test/rowSet/RowSetReader.java |  11 +-
 .../apache/drill/test/rowSet/RowSetReaderImpl.java |  24 +-
 .../drill/test/rowSet/schema/UnionBuilder.java     |   4 +-
 .../apache/drill/test/rowSet/test/RowSetTest.java  | 268 ++++++++++--
 .../drill/test/rowSet/test/TestFillEmpties.java    |  12 +-
 .../test/rowSet/test/TestHyperVectorReaders.java   | 365 ++++++++++++++++
 .../test/rowSet/test/TestScalarAccessors.java      | 474 ++++++++++++++++-----
 .../src/main/java/io/netty/buffer/DrillBuf.java    |  15 +
 .../main/codegen/templates/ColumnAccessors.java    | 251 ++++++-----
 .../drill/exec/vector/accessor/ArrayReader.java    |  40 +-
 .../drill/exec/vector/accessor/ColumnReader.java   |  83 ++++
 .../exec/vector/accessor/ColumnReaderIndex.java    | 102 ++++-
 .../drill/exec/vector/accessor/ObjectReader.java   |  26 +-
 .../exec/vector/accessor/ScalarElementReader.java  |  65 ---
 .../drill/exec/vector/accessor/ScalarReader.java   |  13 +-
 .../drill/exec/vector/accessor/TupleReader.java    |  31 +-
 .../accessor/UnsupportedConversionError.java       |  52 +++
 .../drill/exec/vector/accessor/ValueType.java      |  57 ++-
 .../exec/vector/accessor/impl}/VectorPrinter.java  |   2 +-
 .../drill/exec/vector/accessor/package-info.java   | 184 ++++++++
 .../accessor/reader/AbstractArrayReader.java       | 188 --------
 .../accessor/reader/AbstractObjectReader.java      |  21 +-
 .../accessor/reader/AbstractScalarReader.java      | 205 +++++++++
 .../accessor/reader/AbstractTupleReader.java       |  85 ++--
 .../vector/accessor/reader/ArrayReaderImpl.java    | 357 ++++++++++++++++
 .../vector/accessor/reader/BaseElementReader.java  | 187 --------
 .../vector/accessor/reader/BaseScalarReader.java   | 198 ++++-----
 .../accessor/reader/ColumnReaderFactory.java       |  52 +--
 .../exec/vector/accessor/reader/MapReader.java     |  49 ++-
 .../vector/accessor/reader/NullStateReader.java    |  52 +++
 .../vector/accessor/reader/NullStateReaders.java   | 193 +++++++++
 .../vector/accessor/reader/ObjectArrayReader.java  | 159 -------
 .../vector/accessor/reader/OffsetVectorReader.java |  70 +++
 ...thElementReaderIndex.java => ReaderEvents.java} |  19 +-
 .../vector/accessor/reader/ScalarArrayReader.java  | 102 -----
 .../vector/accessor/reader/VectorAccessor.java     |   5 +-
 .../vector/accessor/reader/VectorAccessors.java    | 344 +++++++++++++++
 .../exec/vector/accessor/reader/package-info.java  |  65 ++-
 .../accessor/writer/ColumnWriterFactory.java       |   4 +-
 .../drill/exec/vector/complex/ListVector.java      |   2 +-
 62 files changed, 3976 insertions(+), 1863 deletions(-)

commit 127e4150b9495c465f8c37a534dfd50512013765
Author: Rahul Raj <rajrahul@gmail.com>
Date:   Wed Mar 14 12:05:45 2018 +0530

    DRILL-6016: Fix for Error reading INT96 created by Apache Spark
    
    closes #1166

 .../parquet/columnreaders/ColumnReaderFactory.java |   7 +++-
 .../ParquetFixedWidthDictionaryReaders.java        |  27 ++++++++++++++
 .../physical/impl/writer/TestParquetWriter.java    |  40 +++++++++++++--------
 .../spark-generated-int96-timestamp.snappy.parquet | Bin 0 -> 2896 bytes
 .../testParquetReader/testInt96DictChange/q1.tsv   |  12 -------
 5 files changed, 59 insertions(+), 27 deletions(-)

commit 67669a000c19a39510118f20366f3a189809200a
Author: dvjyothsna <root@qa102-33.qa.lab>
Date:   Fri Mar 23 17:13:46 2018 -0700

    DRILL-6271: Updated copyright range in NOTICE
    
    closes #1188

 NOTICE                            | 2 +-
 distribution/src/resources/NOTICE | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit a05494537494efe7d9489e1468245e1ca7b16708
Author: Vlad Rozov <vrozov@apache.org>
Date:   Thu Mar 22 06:54:56 2018 -0700

    DRILL-6287: apache-release profile should be disabled by default
    
    closes #1182

 pom.xml | 11 ++++-------
 1 file changed, 4 insertions(+), 7 deletions(-)

commit 2e1568cecd4aafb87c092c6b403a60366cc8f107
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Sun Mar 25 23:09:43 2018 -0700

    DRILL-6303: Provide a button to copy the Drillbit's JStack shown in /threads
    
    Provides a button in the web UI to copy the thread stack to the user's clipboard.
    
    closes #1199

 .../src/main/resources/rest/threads/threads.ftl    | 27 ++++++++++++++++++++--
 1 file changed, 25 insertions(+), 2 deletions(-)

commit cc440af0397d0ec8b52227db9b7e09513b5ff157
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Sun Mar 25 22:05:06 2018 -0700

    DRILL-6279: Indicate operators that spilled in-memory data to disk on Web UI
    
    As part of this coomit added Bootstrap's Glyphicons.
    
    closes #1197

 .../exec/server/rest/profile/OperatorWrapper.java  |  89 ++++++++++++++++++++-
 .../exec/server/rest/profile/TableBuilder.java     |  14 +++-
 .../src/main/resources/rest/profile/profile.ftl    |  12 ++-
 .../static/fonts/glyphicons-halflings-regular.eot  | Bin 0 -> 20127 bytes
 .../static/fonts/glyphicons-halflings-regular.ttf  | Bin 0 -> 45404 bytes
 .../static/fonts/glyphicons-halflings-regular.woff | Bin 0 -> 23424 bytes
 .../fonts/glyphicons-halflings-regular.woff2       | Bin 0 -> 18028 bytes
 7 files changed, 109 insertions(+), 6 deletions(-)

commit 9a6cb59b9b7a5b127e5f60309ce2f506ede9652a
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue Mar 13 17:24:28 2018 -0700

    DRILL-6234: Improved documentation for VariableWidthVector mutators, and added simple unit tests demonstrating mutator behavior.
    
    close apache/drill#1164

 exec/vector/pom.xml                                |   7 +-
 .../codegen/templates/VariableLengthVectors.java   |  61 +++++++++
 .../org/apache/drill/exec/vector/ValueVector.java  |   3 +-
 .../exec/vector/VariableLengthVectorTest.java      | 141 +++++++++++++++++++++
 4 files changed, 210 insertions(+), 2 deletions(-)

commit f5b82239ad823a972e32ea732237a2e8c4346db3
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Mon Mar 26 23:30:31 2018 -0700

    DRILL-6103: lsb_release: command not found
    
    close apache/drill#1191
    
    Thanks to Sanel Zukan for providing a small patch that checks for /etc/fedora-release path. This is more common, than lsb_release command on Linux distros.

 distribution/src/resources/drill-config.sh | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 4ee5625d57bd73d3d82b45f687a8574ea6660f8e
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Mar 13 19:54:25 2018 +0200

    DRILL-6259: Support parquet filter push down for complex types
    
    close apache/drill#1173

 .../compile/sig/ConstantExpressionIdentifier.java  |   6 +
 .../exec/expr/ExpressionTreeMaterializer.java      |   3 +-
 .../drill/exec/expr/stat/ParquetIsPredicates.java  |  23 ++++
 .../drill/exec/expr/stat/RangeExprEvaluator.java   |  27 +++--
 .../drill/exec/planner/common/DrillRelOptUtil.java |  14 +--
 .../logical/DrillPushFilterPastProjectRule.java    |  14 ++-
 .../exec/store/parquet/ParquetFilterBuilder.java   |  80 +++++--------
 .../exec/store/parquet/ParquetPushDownFilter.java  |  13 ++-
 .../parquet/stat/ParquetMetaStatCollector.java     |  29 ++---
 .../TestParquetFilterPushDownForComplexTypes.java  | 124 +++++++++++++++++++++
 .../test/resources/parquet/users/users_1.parquet   | Bin 0 -> 657 bytes
 .../test/resources/parquet/users/users_2.parquet   | Bin 0 -> 641 bytes
 .../test/resources/parquet/users/users_3.parquet   | Bin 0 -> 588 bytes
 .../test/resources/parquet/users/users_4.parquet   | Bin 0 -> 653 bytes
 .../test/resources/parquet/users/users_5.parquet   | Bin 0 -> 583 bytes
 .../test/resources/parquet/users/users_6.parquet   | Bin 0 -> 627 bytes
 .../test/resources/parquet/users/users_7.parquet   | Bin 0 -> 662 bytes
 .../apache/drill/common/expression/SchemaPath.java |  29 +++--
 .../drill/common/expression}/TypedFieldExpr.java   |  17 ++-
 .../expression/visitors/AbstractExprVisitor.java   |   6 +-
 .../expression/visitors/AggregateChecker.java      |   5 +
 .../expression/visitors/ConstantChecker.java       |   5 +
 .../common/expression/visitors/ExprVisitor.java    |  54 ++++-----
 .../expression/visitors/ExpressionValidator.java   |   5 +
 24 files changed, 312 insertions(+), 142 deletions(-)

commit a264e7feb1d02ffd5762bb1f652ea22d17aa5243
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue Jan 30 15:55:41 2018 -0800

    DRILL-6125: Fix possible memory leak when query is cancelled or finished.
    
    close apache/drill#1105

 .../apache/drill/exec/physical/impl/RootExec.java  |  23 ++-
 .../partitionsender/PartitionSenderRootExec.java   |  32 ++--
 .../drill/exec/work/fragment/FragmentExecutor.java | 179 +++++++++++++++------
 3 files changed, 160 insertions(+), 74 deletions(-)

commit 03b245ef4d028458fc6cc3588682d5ae9cc3bb33
Author: vladimir tkach <vovatkach75@gmail.com>
Date:   Mon Mar 26 20:02:37 2018 +0300

    DRILL-6256: Remove references to java 7 from readme and other files
    
    close apache/drill#1172

 INSTALL.md                                 | 10 +++++-----
 distribution/src/resources/README.md       |  2 +-
 distribution/src/resources/drill-config.sh |  9 ++++-----
 exec/java-exec/src/main/sh/drill-config.sh |  2 +-
 exec/java-exec/src/main/sh/runbit          |  4 ++--
 pom.xml                                    |  2 +-
 6 files changed, 14 insertions(+), 15 deletions(-)

commit 7f645565cd68b1780e643bc20a43951610704008
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue Mar 20 23:00:22 2018 -0700

    DRILL-6278: Removed temp codegen directory in testing framework.
    
    close apache/drill#1178

 .../apache/drill/exec/physical/impl/TopN/TopNBatchTest.java    |  6 +-----
 .../test/java/org/apache/drill/test/BaseDirTestWatcher.java    | 10 ----------
 .../src/test/java/org/apache/drill/test/BaseTestQuery.java     |  1 -
 .../src/test/java/org/apache/drill/test/ClusterFixture.java    |  1 -
 4 files changed, 1 insertion(+), 17 deletions(-)

commit 67710bba7cdbc05428df7390bad8639b099769fc
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Wed Mar 21 13:39:43 2018 -0700

    DRILL-6254: IllegalArgumentException: the requested size must be non-negative
    
    close apache/drill#1179

 .../apache/drill/exec/physical/impl/flatten/FlattenRecordBatch.java  | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 7088bfe4bd6e2379ba21b0c48f7280a77d2c3b83
Author: Pushpendra Jaiswal <pushpendra.jaiswal@paysafe.com>
Date:   Tue Mar 27 13:16:23 2018 +0530

    DRILL-5937: drill-module.conf : Changed timeout to 30 seconds, ExecConstant.java : Changed comment
    
    DRILL-5937: ExecConstant.java : removed comment
    
    DRILL-5937: CheckStyle fix
    
    close apache/drill#1190

 exec/java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java | 4 ----
 exec/java-exec/src/main/resources/drill-module.conf                   | 2 +-
 2 files changed, 1 insertion(+), 5 deletions(-)

commit ea643bfebeff8991d4e43fa8762773076087d0df
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Wed Mar 28 12:08:25 2018 -0700

    DRILL-6299: Fixed a filter pushed down issue when a column doesn't have stats
    
    close apache/drill#1192

 .../drill/exec/expr/stat/ParquetIsPredicates.java       | 17 ++++++-----------
 .../drill/exec/expr/stat/ParquetPredicatesHelper.java   |  9 +++++++++
 2 files changed, 15 insertions(+), 11 deletions(-)

commit bfc86f1719bc348a74886e8f29e49bed6fdfe8df
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Mar 29 18:51:08 2018 +0300

    DRILL-6300: Refresh protobuf C++ source files
    
    close apache/drill#1194

 contrib/native/client/readme.linux                 |  12 +-
 .../native/client/src/protobuf/Coordination.pb.cc  |  98 ++++++++-
 .../native/client/src/protobuf/Coordination.pb.h   |  89 +++++++-
 .../native/client/src/protobuf/UserBitShared.pb.cc | 239 +++++++++++----------
 .../native/client/src/protobuf/UserBitShared.pb.h  |  24 ++-
 5 files changed, 326 insertions(+), 136 deletions(-)

commit f1cfaaf3aa08b25910918255fbf8daf67278d5c9
Author: Vlad Rozov <vrozov@apache.org>
Date:   Thu Mar 22 15:47:31 2018 -0700

    DRILL-6288: Upgrade org.javassist:javassist and org.reflections:reflections
    
    closes #1185

 contrib/storage-hbase/pom.xml |  1 -
 exec/jdbc-all/pom.xml         |  2 +-
 pom.xml                       | 16 +++++-----------
 3 files changed, 6 insertions(+), 13 deletions(-)

commit 435fa8044889f3879967a6412015cf92f3e46a31
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Mar 23 13:33:40 2018 +0200

    DRILL-6290: Refactor TestInfoSchemaFilterPushDown tests to use PlanTestBase utility methods
    
    closes #1186

 .../ischema/TestInfoSchemaFilterPushDown.java      | 50 +++++++++++-----------
 1 file changed, 24 insertions(+), 26 deletions(-)

commit 36aa757911b3953b1edc864e585015e06b1d5dfd
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Wed Mar 21 15:53:25 2018 -0700

    DRILL-6283: WebServer stores SPNEGO client principal without taking any conversion rule
    
    closes #1180

 .../java/org/apache/drill/exec/ExecConstants.java  |  5 ++
 .../apache/drill/exec/server/BootStrapContext.java | 17 +++---
 .../server/rest/auth/DrillSpnegoLoginService.java  | 16 ++++--
 .../drill/exec/server/rest/auth/SpnegoConfig.java  | 14 +++++
 .../drill/exec/rpc/data/TestBitBitKerberos.java    | 28 +++++-----
 .../rpc/user/security/TestUserBitKerberos.java     |  4 +-
 .../security/TestUserBitKerberosEncryption.java    | 60 +++++++++++-----------
 .../rest/spnego/TestSpnegoAuthentication.java      | 20 ++++----
 8 files changed, 93 insertions(+), 71 deletions(-)

commit a8c46445a6febd21d19ca1338003d65df072dc18
Author: Vlad Rozov <vrozov@apache.org>
Date:   Tue Mar 20 19:24:11 2018 -0700

    DRILL-6280: Cleanup execution of BuildTimeScan during maven build
    
    closes #1177

 common/pom.xml                                     | 16 +++------------
 .../apache/drill/common/scanner/BuildTimeScan.java |  8 ++++----
 exec/java-exec/pom.xml                             | 24 +---------------------
 logical/pom.xml                                    | 24 +---------------------
 pom.xml                                            | 20 ++++++++++++++++++
 5 files changed, 29 insertions(+), 63 deletions(-)

commit 051a96dae42c70e633ba3f6af9817836544e075b
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Fri Mar 16 16:57:12 2018 -0700

    DRILL-6262: IndexOutOfBoundException in RecordBatchSize for empty variableWidthVector
    
    closes #1175

 .../apache/drill/exec/record/RecordBatchSizer.java |  9 ++---
 .../drill/exec/record/TestRecordBatchSizer.java    | 43 ++++++++++++++++++++--
 .../codegen/templates/RepeatedValueVectors.java    |  2 +-
 .../codegen/templates/VariableLengthVectors.java   |  8 +++-
 4 files changed, 50 insertions(+), 12 deletions(-)

commit 8663e8a56caae10623c7135292d00df49fddf419
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Mar 20 20:26:42 2018 +0200

    DRILL-6248: Added limit push down support for system tables
    
    1. PojoRecordReader started returning data in batches instead of returing all in one batch. Default batch size is 4000.
    2. SystemTableScan supports limit push down while extrating data in record reader based on given max records to read.
    3. Profiles and profiles_json tables apply limit push down while extracting data from store accessing profiles by range.
    
    closes #1183

 .../exec/physical/base/AbstractGroupScan.java      |  13 +--
 .../apache/drill/exec/physical/base/GroupScan.java |  38 +++----
 .../drill/exec/store/parquet/ParquetGroupScan.java |   2 +-
 .../exec/store/pojo/AbstractPojoRecordReader.java  |  12 ++-
 .../exec/store/pojo/DynamicPojoRecordReader.java   |  21 ++--
 .../drill/exec/store/pojo/PojoRecordReader.java    |   6 ++
 .../drill/exec/store/sys/ProfileInfoIterator.java  |  33 +++---
 .../drill/exec/store/sys/ProfileIterator.java      | 116 ++++++++++++++++-----
 .../drill/exec/store/sys/ProfileJsonIterator.java  |  34 +++---
 .../apache/drill/exec/store/sys/SystemTable.java   |  36 +++----
 .../exec/store/sys/SystemTableBatchCreator.java    |   4 +-
 .../drill/exec/store/sys/SystemTablePlugin.java    |  10 +-
 .../drill/exec/store/sys/SystemTableScan.java      |  69 +++++++++---
 .../drill/exec/store/sys/TestSystemTable.java      |  16 ++-
 14 files changed, 265 insertions(+), 145 deletions(-)

commit 35956648493bee79ef7a8fac8c60a0e857fdf70c
Author: dvjyothsna <root@qa102-33.qa.lab>
Date:   Wed Mar 14 16:36:42 2018 -0700

    DRILL-6243: Added alert box to confirm shutdown of drillbit after clicking shutdown button
    
    closes #1169

 exec/java-exec/src/main/resources/rest/index.ftl | 27 ++++++++++++++----------
 1 file changed, 16 insertions(+), 11 deletions(-)

commit 4aadfa8de5d3d46fca1babfa33ef620653c891f2
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue Mar 13 17:39:50 2018 -0700

    DRILL-6239: Add build and license badges to README.md
    
    closes #1165

 README.md | 4 ++++
 1 file changed, 4 insertions(+)

commit d55b62f9ea76372c823c15780b2a69f81f0b945c
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Thu Mar 15 21:50:54 2018 -0700

    DRILL-6231: Fix memory allocation for repeated list vector
    
    closes #1171

 .../apache/drill/exec/record/RecordBatchSizer.java |  15 ++
 .../exec/physical/unit/TestOutputBatchSize.java    | 257 ++++++++++++++++++++-
 2 files changed, 267 insertions(+), 5 deletions(-)

commit 3167771fa666af5dae3b839000fabddfb814f8e3
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Thu Mar 22 22:03:27 2018 -0700

    DRILL-6224: Publish metrics gauge values correctly
    
    The `metrics.ftl` page had gauges incorrectly set to near zero values. The commit for metrics.ftl fixes that, and also provides an estimate of the current direct memory actively in use (based on the `drill.allocator.root.used` value reported by the Drillbit)
    
    closes #1160

 .../src/main/resources/rest/metrics/metrics.ftl    | 39 ++++++++++++++++------
 1 file changed, 29 insertions(+), 10 deletions(-)

commit 590a72bc667f6bc373130bcae58c22c11f13edaf
Author: Vlad Rozov <vrozov@apache.org>
Date:   Tue Mar 13 10:56:52 2018 -0700

    DRILL-6053: Avoid excessive locking in LocalPersistentStore
    
    closes #1163

 .../org/apache/drill/common/AutoCloseables.java    |   5 +
 .../drill/common/concurrent/AutoCloseableLock.java |   6 +-
 .../expr/fn/registry/FunctionRegistryHolder.java   |  24 +--
 .../expr/fn/registry/RemoteFunctionRegistry.java   |   6 +-
 .../exec/rpc/control/CustomHandlerRegistry.java    |   5 +-
 .../drill/exec/store/sys/BasePersistentStore.java  |  22 ---
 .../drill/exec/store/sys/PersistentStore.java      |  61 +------
 .../exec/store/sys/PersistentStoreProvider.java    |   5 +-
 .../org/apache/drill/exec/store/sys/Store.java     |  58 +++++++
 .../exec/store/sys/VersionedPersistentStore.java   |  57 +++++++
 .../drill/exec/store/sys/store/InMemoryStore.java  |  85 ++--------
 .../exec/store/sys/store/LocalPersistentStore.java | 187 ++++++++-------------
 .../store/sys/store/VersionedDelegatingStore.java  | 120 +++++++++++++
 .../store/sys/store/ZookeeperPersistentStore.java  |   3 +-
 .../provider/ZookeeperPersistentStoreProvider.java |  20 +++
 .../exec/testing/store/NoWriteLocalStore.java      |  74 ++------
 .../drill/exec/work/batch/IncomingBuffers.java     |   4 +-
 .../drill/exec/store/sys/TestPStoreProviders.java  |   6 +-
 .../drill/exec/memory/AllocationManager.java       |  11 +-
 19 files changed, 401 insertions(+), 358 deletions(-)

commit 9327ca65ac100ec6959d2180ba79fbb10ab7d6c6
Author: Vlad Rozov <vrozov@apache.org>
Date:   Tue Mar 13 12:24:48 2018 -0700

    DRILL-6237: Upgrade checkstyle version to 5.9 or above
    
    closes #1163

 pom.xml | 7 +++++++
 1 file changed, 7 insertions(+)

commit 844d5323072b826da41ae1c85f5aa6fbf1200d62
Author: dvjyothsna <jyothsna.dvj@gmail.com>
Date:   Mon Mar 12 15:38:13 2018 -0700

    DRILL-6005: Fixed TestGracefulShutdown tests to skip check for loopback address usage in distributed mode
    
    closes #1162

 .../src/main/java/org/apache/drill/exec/ExecConstants.java     |  2 ++
 .../src/main/java/org/apache/drill/exec/server/Drillbit.java   |  4 ++--
 exec/java-exec/src/main/resources/drill-module.conf            |  4 +++-
 .../test/java/org/apache/drill/test/TestGracefulShutdown.java  | 10 ++++++----
 4 files changed, 13 insertions(+), 7 deletions(-)

commit b4c599e33606f3e2fef132dbd38ee69b516e681e
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Fri Mar 9 18:02:42 2018 +0200

    DRILL-6145: Implement Hive MapR-DB JSON handler
    
    closes #1158

 contrib/storage-hive/core/pom.xml                  | 10 ++++++
 .../drill/exec/store/hive/HiveUtilities.java       |  4 +++
 distribution/pom.xml                               |  8 +++++
 pom.xml                                            | 38 +++++++++++++++++++---
 4 files changed, 56 insertions(+), 4 deletions(-)

commit ddb73a506c6cbb6492d6ff91ca174dbff1b8a045
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Sun Mar 4 22:12:06 2018 +0200

    DRILL-6199: Add support for filter push down and partition pruning with several nested star sub-queries
    
    closes #1152

 .../apache/drill/exec/planner/PlannerPhase.java    |  33 ++-
 .../logical/DrillFilterItemStarReWriterRule.java   | 301 +++++++++++++++------
 .../TestPushDownAndPruningWithItemStar.java        | 114 +++++++-
 3 files changed, 343 insertions(+), 105 deletions(-)

commit cdc21ce72416f6b426ce7cab7614766af37dca2f
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Mon Mar 19 13:16:37 2018 -0700

    DRILL-6275: Fixed direct memory reporting in sys.memory.
    
    closes #1176

 .../java/org/apache/drill/exec/ops/ExecutorFragmentContext.java     | 6 ++++++
 .../main/java/org/apache/drill/exec/ops/FragmentContextImpl.java    | 5 +++++
 .../main/java/org/apache/drill/exec/store/sys/MemoryIterator.java   | 4 ++--
 .../org/apache/drill/exec/physical/unit/PhysicalOpUnitTestBase.java | 6 ++++++
 4 files changed, 19 insertions(+), 2 deletions(-)

commit edc982a90f3551d1e30ec210f18d87ec4c084b70
Author: Vladimir Tkach <vovatkach75@gmail.com>
Date:   Sat Mar 17 17:27:10 2018 +0200

    DRILL-6250: Sqlline start command with password appears in the sqlline.log
    
    closes #1174

 .../main/java/org/apache/drill/common/config/DrillConfig.java  | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 4e3e0ffd0e9fa72f5a8865188c4cfb79b7f2cb95
Author: Vladimir Tkach <vovatkach75@gmail.com>
Date:   Wed Mar 14 13:21:43 2018 +0200

    DRILL-6241: Saffron properties config has the excessive permissions
    
    changed saffron.properties permission to 640
    
    closes #1167

 distribution/src/assemble/bin.xml | 1 +
 1 file changed, 1 insertion(+)

commit dd4a46a6c57425284a2b8c68676357f947e01988
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Mar 14 20:45:15 2018 +0530

    Update version to 1.14.0-SNAPSHOT

 common/pom.xml                               |  2 +-
 contrib/data/pom.xml                         |  2 +-
 contrib/data/tpch-sample-data/pom.xml        |  2 +-
 contrib/format-maprdb/pom.xml                |  6 ++----
 contrib/gis/pom.xml                          |  2 +-
 contrib/pom.xml                              |  2 +-
 contrib/sqlline/pom.xml                      |  2 +-
 contrib/storage-hbase/pom.xml                |  2 +-
 contrib/storage-hive/core/pom.xml            |  2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml |  2 +-
 contrib/storage-hive/pom.xml                 |  2 +-
 contrib/storage-jdbc/pom.xml                 |  2 +-
 contrib/storage-kafka/pom.xml                |  6 ++----
 contrib/storage-kudu/pom.xml                 |  2 +-
 contrib/storage-mongo/pom.xml                |  2 +-
 contrib/storage-opentsdb/pom.xml             |  6 ++----
 distribution/pom.xml                         |  2 +-
 drill-yarn/pom.xml                           |  5 ++---
 exec/java-exec/pom.xml                       |  2 +-
 exec/jdbc-all/pom.xml                        |  2 +-
 exec/jdbc/pom.xml                            |  2 +-
 exec/memory/base/pom.xml                     |  2 +-
 exec/memory/pom.xml                          |  2 +-
 exec/pom.xml                                 |  2 +-
 exec/rpc/pom.xml                             |  2 +-
 exec/vector/pom.xml                          |  2 +-
 logical/pom.xml                              |  2 +-
 pom.xml                                      | 11 +++++------
 protocol/pom.xml                             |  2 +-
 tools/fmpp/pom.xml                           |  2 +-
 tools/pom.xml                                |  2 +-
 31 files changed, 39 insertions(+), 47 deletions(-)

commit cac2882d5a9e22fbc251e4caf622fe30242ad557
Author: dvjyothsna <jyothsna.dvj@gmail.com>
Date:   Tue Mar 6 18:10:22 2018 -0800

    DRILL-6044: Fixed shutdown button in Web UI when ssl,auth are enabled
    
    This closes #1153

 exec/java-exec/src/main/resources/rest/index.ftl | 34 +++++++++++++++---------
 1 file changed, 21 insertions(+), 13 deletions(-)

commit 920a12a6f01b99a677dd26223d9b1228a35fe3f5
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Thu Mar 1 15:08:10 2018 -0800

    DRILL-6187: Exception in RPC communication between DataClient/ControlClient and respective servers when bit-to-bit security is on
    
    This closes #1145

 .../org/apache/drill/exec/client/DrillClient.java  |  28 +-
 .../org/apache/drill/exec/rpc/BitRpcUtility.java   | 109 ++++++++
 .../drill/exec/rpc/control/ControlClient.java      | 136 +---------
 .../drill/exec/rpc/control/ControlConnection.java  |   2 +-
 .../org/apache/drill/exec/rpc/data/DataClient.java | 124 +--------
 .../org/apache/drill/exec/rpc/user/UserClient.java | 292 ++++++++++-----------
 .../ConnectTriesPropertyTestClusterBits.java       |   2 +-
 .../drill/exec/rpc/data/TestBitBitKerberos.java    | 187 ++++++++-----
 .../drill/exec/rpc/security/KerberosHelper.java    |   5 +-
 .../rpc/user/security/TestUserBitKerberos.java     |   2 +-
 .../security/TestUserBitKerberosEncryption.java    |  50 +++-
 .../drill/exec/server/TestDrillbitResilience.java  |   3 +-
 .../drill/exec/testing/TestResourceLeak.java       |   2 +-
 exec/rpc/pom.xml                                   |   4 +
 .../org/apache/drill/exec/rpc/BasicClient.java     | 105 ++++++--
 .../drill/exec/rpc/ConnectionMultiListener.java    |  18 +-
 .../drill/exec/rpc/ReconnectingConnection.java     |   2 +-
 .../security/AuthenticationOutcomeListener.java    |   0
 .../exec/rpc/security/AuthenticatorFactory.java    |   0
 .../drill/exec/rpc/security/SaslProperties.java    |   0
 20 files changed, 576 insertions(+), 495 deletions(-)

commit 035010c1781b480ee2ee2d33209103e902eb0ccf
Author: dvjyothsna <jyothsna.dvj@gmail.com>
Date:   Thu Mar 8 10:14:34 2018 -0800

    DRILL-4547: Disabling doclint.

 pom.xml | 6 ++++++
 1 file changed, 6 insertions(+)

commit dbc95a659c3325e263340f3ec2b913a048163671
Author: vladimir tkach <vovatkach75@gmail.com>
Date:   Mon Mar 5 12:07:54 2018 +0200

    DRILL-1491: Support for JDK 8
    
    Changed jdk version from 7 to 8 in pom.xml travis and drill-config.sh
    
    This closes #1143

 .travis.yml                                        |  2 +-
 distribution/src/resources/drill-config.sh         | 28 +++++++++-------------
 distribution/src/resources/drill-env.sh            | 10 +++-----
 .../drill/exec/server/TestDrillbitResilience.java  |  2 ++
 exec/jdbc-all/pom.xml                              |  2 +-
 pom.xml                                            |  6 ++---
 6 files changed, 21 insertions(+), 29 deletions(-)

commit d09efb931f183d989516d1dd098ade546bbe3f16
Author: Vladimir Tkach <vovatkach75@gmail.com>
Date:   Tue Mar 6 11:42:02 2018 +0200

    DRILL-6217: NaN/Inf NestedLoopJoin processes NaN values incorrectly
    
    - Changed loggic for equality functions to handle NaN values as the biggest ones
    
    closes #1154

 .../codegen/templates/ComparisonFunctions.java     | 39 ++++++++++
 .../exec/fn/impl/TestMathFunctionsWithNanInf.java  |  6 +-
 .../exec/vector/complex/writer/TestJsonNanInf.java | 88 ++++++++++++++++++++--
 3 files changed, 123 insertions(+), 10 deletions(-)

commit f47af650bf4f2cc1c61aff26bac92dec0674d0d4
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Mar 7 12:35:30 2018 +0200

    DRILL-6213: During restart drillbit should be killed forcefully if exceeds allowed timeout
    
    closes #1155

 distribution/src/resources/drillbit.sh | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b75298d178bf54e8758070de87e456e620ba6811
Author: vladimir tkach <vovatkach75@gmail.com>
Date:   Tue Feb 27 20:25:28 2018 +0200

    DRILL-6192: Drill is vulnerable to CVE-2017-12197
    
    Changed libpam4j version from 1.8-rev1 to 1.9-mapr
    
    closes #1136

 exec/java-exec/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f653359c7a5468ef94815e5d845980d254cda7b4
Author: Paul Rogers <progers@cloudera.com>
Date:   Sun Mar 4 16:14:33 2018 -0800

    DRILL-6210: Enhanced test schema utilities
    
    closes #1150

 .../java/org/apache/drill/TestStarQueries.java     |   2 +-
 .../test/java/org/apache/drill/TestUnionAll.java   |   2 +-
 .../java/org/apache/drill/TestUnionDistinct.java   |   2 +-
 .../org/apache/drill/exec/TestEmptyInputSql.java   |   2 +-
 .../drill/exec/cache/TestBatchSerialization.java   |  22 +-
 .../impl/protocol/TestOperatorRecordBatch.java     |   2 +-
 .../physical/impl/validate/TestBatchValidator.java |  35 +-
 .../exec/physical/impl/xsort/TestExternalSort.java |   2 +-
 .../impl/xsort/managed/SortTestUtilities.java      |   2 +-
 .../physical/impl/xsort/managed/TestCopier.java    |  23 +-
 .../impl/xsort/managed/TestShortArrays.java        |   9 +-
 .../physical/impl/xsort/managed/TestSortImpl.java  |   2 +-
 .../physical/impl/xsort/managed/TestSorter.java    |   4 +-
 .../rowSet/impl/TestResultSetLoaderLimits.java     |   2 +-
 .../rowSet/impl/TestResultSetLoaderMapArray.java   | 124 ++---
 .../rowSet/impl/TestResultSetLoaderMaps.java       | 159 +++---
 .../impl/TestResultSetLoaderOmittedValues.java     |  23 +-
 .../rowSet/impl/TestResultSetLoaderOverflow.java   |   2 +-
 .../rowSet/impl/TestResultSetLoaderProjection.java |  54 +-
 .../rowSet/impl/TestResultSetLoaderProtocol.java   |   7 +-
 .../rowSet/impl/TestResultSetLoaderTorture.java    |   8 +-
 .../rowSet/impl/TestResultSetSchemaChange.java     |  23 +-
 .../drill/exec/physical/unit/TestMiniPlan.java     |   2 +-
 .../exec/physical/unit/TestNullInputMiniPlan.java  |   2 +-
 .../drill/exec/record/TestRecordBatchSizer.java    |  17 +-
 .../apache/drill/exec/record/TestTupleSchema.java  | 151 +++++-
 .../drill/exec/record/TestVectorContainer.java     |   2 +-
 .../apache/drill/exec/record/vector/TestLoad.java  |  12 +-
 .../drill/exec/store/TestImplicitFileColumns.java  |   2 +-
 .../exec/store/easy/text/compliant/TestCsv.java    |   2 +-
 .../store/parquet/TestParquetMetadataCache.java    |   2 +-
 .../java/org/apache/drill/test/ExampleTest.java    |   2 +-
 .../apache/drill/test/rowSet/RowSetBuilder.java    |   4 +-
 .../apache/drill/test/rowSet/RowSetUtilities.java  |  73 ++-
 .../org/apache/drill/test/rowSet/RowSetWriter.java |   3 +-
 .../apache/drill/test/rowSet/RowSetWriterImpl.java |   8 +-
 .../apache/drill/test/rowSet/SchemaBuilder.java    | 252 ---------
 .../drill/test/rowSet/schema/ColumnBuilder.java    |  66 +++
 .../drill/test/rowSet/schema/MapBuilder.java       | 154 ++++++
 .../test/rowSet/schema/RepeatedListBuilder.java    |  96 ++++
 .../drill/test/rowSet/schema/SchemaBuilder.java    | 214 ++++++++
 .../drill/test/rowSet/schema/SchemaContainer.java  |  29 +
 .../drill/test/rowSet/schema/TupleBuilder.java     | 166 ++++++
 .../drill/test/rowSet/schema/UnionBuilder.java     | 105 ++++
 .../drill/test/rowSet/schema/package-info.java     |  26 +
 .../drill/test/rowSet/test/DummyWriterTest.java    |   6 +-
 .../drill/test/rowSet/test/PerformanceTool.java    |   2 +-
 .../apache/drill/test/rowSet/test/RowSetTest.java  |  33 +-
 .../drill/test/rowSet/test/TestFillEmpties.java    |   2 +-
 .../test/rowSet/test/TestFixedWidthWriter.java     |   2 +-
 .../test/rowSet/test/TestOffsetVectorWriter.java   |   2 +-
 .../test/rowSet/test/TestScalarAccessors.java      |   2 +-
 .../drill/test/rowSet/test/TestSchemaBuilder.java  | 598 +++++++++++++++++++++
 .../test/rowSet/test/TestVariableWidthWriter.java  |   2 +-
 .../org/apache/drill/vector/TestFillEmpties.java   |   2 +-
 .../org/apache/drill/vector/TestToNullable.java    |   2 +-
 56 files changed, 1996 insertions(+), 558 deletions(-)

commit b4a783a0b0fb334134fa00411cb4b910c05baa05
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Wed Mar 7 12:06:32 2018 -0800

    DRILL-6216: Metadata mismatch when connecting to a Drill 1.12.0 with a Drill-1.13.0-SNAPSHOT driver
    
    closes #1157

 .../main/codegen/templates/NullableValueVectors.java | 20 ++++++--------------
 .../org/apache/drill/exec/vector/ValueVector.java    |  3 +++
 2 files changed, 9 insertions(+), 14 deletions(-)

commit 766315ea17377199897d685ab801edd38394fe01
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Tue Mar 6 16:09:43 2018 -0800

    DRILL-6177: Merge Join - Allocate memory for outgoing value vectors based on sizes of incoming batches.
    
    closes #1125

 .../exec/physical/impl/join/MergeJoinBatch.java    | 23 ++++++++++++++++++----
 1 file changed, 19 insertions(+), 4 deletions(-)

commit 31e0f29a6140a19eda8de615e615208f51f2cf96
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Tue Mar 6 16:09:13 2018 -0800

    DRILL-6126: Allocate memory for value vectors upfront in flatten operator

 .../physical/impl/flatten/FlattenRecordBatch.java  | 34 ++++++++++++----------
 .../record/AbstractRecordBatchMemoryManager.java   | 24 +++++++++++++--
 2 files changed, 40 insertions(+), 18 deletions(-)

commit 47c5d1feaaaf9b6384ed8ef1011fa58b9272b362
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Tue Mar 6 16:05:48 2018 -0800

    DRILL-6162: Enhance record batch sizer to retain nesting information.
    Refactor record batch sizer and add unit tests for sizing and vector allocation.

 .../apache/drill/exec/record/RecordBatchSizer.java | 479 +++++++++---
 .../drill/exec/record/VectorInitializer.java       |  23 +-
 .../impl/xsort/managed/TestShortArrays.java        |   6 +-
 .../exec/physical/unit/TestOutputBatchSize.java    | 118 ++-
 .../drill/exec/record/TestRecordBatchSizer.java    | 806 +++++++++++++++++++++
 .../org/apache/drill/exec/vector/ValueVector.java  |   1 +
 6 files changed, 1296 insertions(+), 137 deletions(-)

commit 0a8a3f1984b17c883dd8ee7cc1065932a4700224
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Tue Mar 6 15:57:34 2018 -0800

    DRILL-6203: Repeated Map Vector does not give correct payload bytecount.

 .../drill/exec/vector/complex/RepeatedListVector.java |  8 ++++++--
 .../drill/exec/vector/complex/RepeatedMapVector.java  | 19 +++++++++++++++++--
 2 files changed, 23 insertions(+), 4 deletions(-)

commit fe05ba001986f9c8fc3cc34387353383e93b433a
Author: Vlad Rozov <vrozov@apache.org>
Date:   Tue Mar 6 09:12:32 2018 -0800

    DRILL-6151: Fragment executors may terminate without sending final batch to a downstream causing query to hang
    
    closes #1151

 .../java/org/apache/drill/exec/work/fragment/FragmentExecutor.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c5ae560dcc3fba6d1949be17d07a22085e4d49fb
Author: dvjyothsna <jyothsna.dvj@gmail.com>
Date:   Thu Feb 22 11:30:50 2018 -0800

    Added usage for graceful_stop in drillbit.sh
    
    closes #1135

 distribution/src/resources/drillbit.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e61df7c8d0da192c5c2c9e64b1d213c63cc81ecb
Author: Jyothsna Donapati <jyothsnadonapati@jdonapa-e890.local>
Date:   Thu Feb 22 11:17:48 2018 -0800

    DRILL-6021:Show shutdown button when authentication is not enabled
    
    closes #1127

 .../org/apache/drill/exec/server/rest/DrillRoot.java     | 16 +++++++++++-----
 exec/java-exec/src/main/resources/rest/index.ftl         |  4 ++--
 2 files changed, 13 insertions(+), 7 deletions(-)

commit 4652b0ba4f9a0708227e2b83a7097ff0517df33e
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Mon Mar 5 14:25:33 2018 +0200

    DRILL-4120: Allow implicit columns for Avro storage format
    
    closes #1138

 .../drill/exec/store/mapr/TableFormatMatcher.java  |   7 +-
 .../exec/store/mapr/db/MapRDBFormatMatcher.java    |   5 +-
 .../planner/logical/ExtendableRelDataType.java     |  42 +++++++++
 .../drill/exec/planner/sql/SqlConverter.java       |  28 ++++++
 .../planner/types/AbstractRelDataTypeHolder.java   |  71 ++++++++++++++
 .../planner/types/ExtendableRelDataTypeHolder.java |  82 ++++++++++++++++
 .../exec/planner/types/RelDataTypeDrillImpl.java   |   6 +-
 .../exec/planner/types/RelDataTypeHolder.java      |  39 +-------
 .../apache/drill/exec/store/ColumnExplorer.java    |  51 ++++++++++
 .../drill/exec/store/avro/AvroDrillTable.java      |  49 +++++++---
 .../drill/exec/store/avro/AvroFormatPlugin.java    |   6 +-
 .../drill/exec/store/dfs/BasicFormatMatcher.java   |  10 +-
 .../apache/drill/exec/store/dfs/FormatMatcher.java |   6 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |   6 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |   9 +-
 .../drill/exec/store/pcap/PcapFormatPlugin.java    |   6 +-
 .../test/java/org/apache/drill/PlanningBase.java   |   3 +-
 .../drill/exec/store/avro/AvroFormatTest.java      | 104 ++++++++++++++++++++-
 .../apache/drill/exec/store/avro/AvroTestUtil.java |  18 +++-
 19 files changed, 471 insertions(+), 77 deletions(-)

commit dfe47ce04cae8ef9af08d67c91f2bbbdfacf09ed
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Mar 7 15:23:42 2018 +0530

    DRILL-6218: Update release profile to not generate MD5 checksum
    
    This closes #1156

 pom.xml | 1 -
 1 file changed, 1 deletion(-)

commit 36159e2282153dbce52b8345d19e9bd95d67d377
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Sat Mar 3 21:00:50 2018 +0200

    DRILL-6208: Fix FunctionInitializerTest#testConcurrentFunctionBodyLoad to use Mockito instead of JMockit
    
    closes #1149

 .../drill/exec/expr/fn/FunctionInitializer.java    |  5 ++--
 .../exec/expr/fn/FunctionInitializerTest.java      | 33 +++++++++++-----------
 2 files changed, 20 insertions(+), 18 deletions(-)

commit 863ff0bcff1ee01df292277194e0fee25dbe3460
Author: Vladimir Tkach <vovatkach75@gmail.com>
Date:   Wed Feb 28 19:13:51 2018 +0200

    DRILL-6189: Security: passwords logging and file permisions
    
    1. Overrided serialization methods for instances with passwords
    2. Changed file permissions for configuration files
    
    closes #1139

 .../drill/exec/store/jdbc/JdbcStorageConfig.java   |  2 ++
 distribution/src/assemble/bin.xml                  | 12 ++++---
 distribution/src/resources/distrib-env.sh          |  0
 distribution/src/resources/drill-env.sh            |  0
 .../planner/sql/handlers/DefaultSqlHandler.java    |  8 ++++-
 .../org/apache/drill/exec/rpc/user/UserServer.java | 40 ++++++++++++++++++++--
 .../common/config/LogicalPlanPersistence.java      |  2 ++
 7 files changed, 57 insertions(+), 7 deletions(-)

commit f2ac8749b42539ca6301024becbf3e7092e9511e
Author: Paul Rogers <progers@maprtech.com>
Date:   Thu Oct 26 00:24:00 2017 -0700

    DRILL-1170: YARN integration for Drill
    
    closes #1011

 distribution/pom.xml                               |    5 +
 distribution/src/assemble/bin.xml                  |   40 +
 distribution/src/resources/drill-am-log.xml        |   54 +
 distribution/src/resources/drill-am.sh             |  137 +++
 .../src/resources/drill-on-yarn-example.conf       |  204 ++++
 distribution/src/resources/drill-on-yarn.sh        |   74 ++
 distribution/src/resources/yarn-client-log.xml     |   44 +
 distribution/src/resources/yarn-drillbit.sh        |  178 +++
 drill-yarn/README.md                               |  190 +++
 drill-yarn/USAGE.md                                |  941 ++++++++++++++
 drill-yarn/img/am-overview.png                     |  Bin 0 -> 111982 bytes
 drill-yarn/img/client-classes.png                  |  Bin 0 -> 138409 bytes
 drill-yarn/img/controller-classes.png              |  Bin 0 -> 157668 bytes
 drill-yarn/img/overview.png                        |  Bin 0 -> 65994 bytes
 drill-yarn/pom.xml                                 |  144 +++
 .../apache/drill/yarn/appMaster/AMException.java   |   30 +
 .../apache/drill/yarn/appMaster/AMRegistrar.java   |   43 +
 .../drill/yarn/appMaster/AMWrapperException.java   |   25 +
 .../apache/drill/yarn/appMaster/AMYarnFacade.java  |   91 ++
 .../drill/yarn/appMaster/AMYarnFacadeImpl.java     |  288 +++++
 .../yarn/appMaster/AbstractDrillbitScheduler.java  |  166 +++
 .../drill/yarn/appMaster/AbstractScheduler.java    |  112 ++
 .../drill/yarn/appMaster/AbstractTaskManager.java  |   50 +
 .../drill/yarn/appMaster/BatchScheduler.java       |   88 ++
 .../drill/yarn/appMaster/ClusterController.java    |  206 ++++
 .../yarn/appMaster/ClusterControllerImpl.java      |  785 ++++++++++++
 .../drill/yarn/appMaster/ControllerFactory.java    |   30 +
 .../drill/yarn/appMaster/ControllerVisitor.java    |   22 +
 .../apache/drill/yarn/appMaster/Dispatcher.java    |  345 ++++++
 .../drill/yarn/appMaster/DispatcherAddOn.java      |   30 +
 .../yarn/appMaster/DrillApplicationMaster.java     |  119 ++
 .../yarn/appMaster/DrillControllerFactory.java     |  398 ++++++
 .../drill/yarn/appMaster/DrillbitScheduler.java    |   51 +
 .../apache/drill/yarn/appMaster/EventContext.java  |   70 ++
 .../apache/drill/yarn/appMaster/NodeInventory.java |  195 +++
 .../yarn/appMaster/PersistentTaskScheduler.java    |  174 +++
 .../org/apache/drill/yarn/appMaster/Pollable.java  |   28 +
 .../apache/drill/yarn/appMaster/PulseRunnable.java |   79 ++
 .../drill/yarn/appMaster/RegistryHandler.java      |   35 +
 .../org/apache/drill/yarn/appMaster/Scheduler.java |  162 +++
 .../drill/yarn/appMaster/SchedulerState.java       |   79 ++
 .../yarn/appMaster/SchedulerStateActions.java      |  101 ++
 .../drill/yarn/appMaster/SchedulerStateImpl.java   |  467 +++++++
 .../java/org/apache/drill/yarn/appMaster/Task.java |  323 +++++
 .../yarn/appMaster/TaskLifecycleListener.java      |   26 +
 .../org/apache/drill/yarn/appMaster/TaskSpec.java  |   40 +
 .../org/apache/drill/yarn/appMaster/TaskState.java |  895 ++++++++++++++
 .../apache/drill/yarn/appMaster/TaskVisitor.java   |   22 +
 .../drill/yarn/appMaster/YarnFacadeException.java  |   30 +
 .../yarn/appMaster/http/AMSecurityManager.java     |   34 +
 .../yarn/appMaster/http/AMSecurityManagerImpl.java |  221 ++++
 .../yarn/appMaster/http/AbstractTasksModel.java    |  380 ++++++
 .../drill/yarn/appMaster/http/AmRestApi.java       |  296 +++++
 .../yarn/appMaster/http/AuthDynamicFeature.java    |  114 ++
 .../drill/yarn/appMaster/http/ControllerModel.java |  208 ++++
 .../apache/drill/yarn/appMaster/http/PageTree.java |   80 ++
 .../drill/yarn/appMaster/http/WebServer.java       |  467 +++++++
 .../drill/yarn/appMaster/http/WebUiPageTree.java   |  527 ++++++++
 .../drill/yarn/appMaster/http/package-info.java    |   22 +
 .../apache/drill/yarn/appMaster/package-info.java  |   36 +
 .../org/apache/drill/yarn/client/AMRunner.java     |  368 ++++++
 .../org/apache/drill/yarn/client/CleanCommand.java |   89 ++
 .../apache/drill/yarn/client/ClientCommand.java    |  100 ++
 .../apache/drill/yarn/client/ClientContext.java    |   48 +
 .../apache/drill/yarn/client/ClientException.java  |   34 +
 .../drill/yarn/client/CommandLineOptions.java      |  230 ++++
 .../org/apache/drill/yarn/client/DrillOnYarn.java  |  176 +++
 .../org/apache/drill/yarn/client/FileUploader.java |  551 +++++++++
 .../org/apache/drill/yarn/client/HelpCommand.java  |   26 +
 .../org/apache/drill/yarn/client/KillCommand.java  |   48 +
 .../drill/yarn/client/PrintConfigCommand.java      |   49 +
 .../apache/drill/yarn/client/ResizeCommand.java    |  115 ++
 .../apache/drill/yarn/client/SimpleRestClient.java |   66 +
 .../org/apache/drill/yarn/client/StartCommand.java |  145 +++
 .../apache/drill/yarn/client/StatusCommand.java    |  189 +++
 .../org/apache/drill/yarn/client/StopCommand.java  |  223 ++++
 .../org/apache/drill/yarn/client/package-info.java |   31 +
 .../java/org/apache/drill/yarn/core/AppSpec.java   |  169 +++
 .../org/apache/drill/yarn/core/ClusterDef.java     |  212 ++++
 .../drill/yarn/core/ContainerRequestSpec.java      |  125 ++
 .../java/org/apache/drill/yarn/core/DfsFacade.java |  345 ++++++
 .../java/org/apache/drill/yarn/core/DoYUtil.java   |  189 +++
 .../apache/drill/yarn/core/DoyConfigException.java |   30 +
 .../apache/drill/yarn/core/DrillOnYarnConfig.java  |  841 +++++++++++++
 .../org/apache/drill/yarn/core/LaunchSpec.java     |  248 ++++
 .../org/apache/drill/yarn/core/NameValuePair.java  |   46 +
 .../drill/yarn/core/YarnClientException.java       |   30 +
 .../org/apache/drill/yarn/core/YarnRMClient.java   |  207 ++++
 .../org/apache/drill/yarn/core/package-info.java   |   24 +
 .../java/org/apache/drill/yarn/package-info.java   |   35 +
 .../java/org/apache/drill/yarn/zk/AMRegistry.java  |  145 +++
 .../apache/drill/yarn/zk/ZKClusterCoordinator.java |  318 +++++
 .../drill/yarn/zk/ZKClusterCoordinatorDriver.java  |  315 +++++
 .../apache/drill/yarn/zk/ZKConfigException.java    |   26 +
 .../java/org/apache/drill/yarn/zk/ZKRegistry.java  |  582 +++++++++
 .../apache/drill/yarn/zk/ZKRuntimeException.java   |   30 +
 .../org/apache/drill/yarn/zk/package-info.java     |   31 +
 drill-yarn/src/main/resources/drill-am/config.ftl  |   41 +
 drill-yarn/src/main/resources/drill-am/confirm.ftl |   70 ++
 drill-yarn/src/main/resources/drill-am/generic.ftl |   78 ++
 drill-yarn/src/main/resources/drill-am/history.ftl |   59 +
 drill-yarn/src/main/resources/drill-am/index.ftl   |  128 ++
 drill-yarn/src/main/resources/drill-am/login.ftl   |   35 +
 drill-yarn/src/main/resources/drill-am/manage.ftl  |   78 ++
 .../src/main/resources/drill-am/redirect.ftl       |   33 +
 .../src/main/resources/drill-am/shrink-warning.ftl |   58 +
 .../resources/drill-am/static/css/drill-am.css     |   20 +
 .../drill-am/static/img/apache-drill-logo.png      |  Bin 0 -> 29802 bytes
 .../main/resources/drill-am/static/img/drill.ico   |  Bin 0 -> 580 bytes
 drill-yarn/src/main/resources/drill-am/tasks.ftl   |  113 ++
 .../drill/yarn/core/drill-on-yarn-defaults.conf    |  275 +++++
 .../org/apache/drill/yarn/client/TestClient.java   |  137 +++
 .../drill/yarn/client/TestCommandLineOptions.java  |   84 ++
 .../org/apache/drill/yarn/core/TestConfig.java     |  267 ++++
 .../java/org/apache/drill/yarn/scripts/README.md   |   65 +
 .../org/apache/drill/yarn/scripts/ScriptUtils.java |  847 +++++++++++++
 .../org/apache/drill/yarn/scripts/TestScripts.java | 1288 ++++++++++++++++++++
 .../apache/drill/yarn/zk/TestAmRegistration.java   |  129 ++
 .../org/apache/drill/yarn/zk/TestZkRegistry.java   |  459 +++++++
 drill-yarn/src/test/resources/doy-test-logback.xml |   56 +
 .../src/test/resources/second-test-config.conf     |   34 +
 drill-yarn/src/test/resources/test-doy-config.conf |   32 +
 .../src/test/resources/test-doy-distrib.conf       |   30 +
 .../src/test/resources/third-test-config.conf      |   32 +
 drill-yarn/src/test/resources/wrapper.sh           |   53 +
 pom.xml                                            |  225 ++++
 126 files changed, 21163 insertions(+)

commit cf2478f7a48e66cbb0a7f29750c8a4360a271e9b
Author: Paul Rogers <progers@cloudera.com>
Date:   Mon Feb 5 20:18:18 2018 -0800

    DRILL-6114: Metadata revisions
    
    Support for union vectors, list vectors, repeated list vectors. Refactored metadata classes.
    
    closes #1112

 .../exec/physical/rowSet/ResultSetLoader.java      |   2 +-
 .../exec/physical/rowSet/impl/ColumnState.java     |   2 +-
 .../physical/rowSet/impl/NullableVectorState.java  |   2 +-
 .../exec/physical/rowSet/impl/OptionBuilder.java   |   2 +-
 .../physical/rowSet/impl/RepeatedVectorState.java  |   2 +-
 .../physical/rowSet/impl/ResultSetLoaderImpl.java  |   2 +-
 .../physical/rowSet/impl/RowSetLoaderImpl.java     |   2 +-
 .../physical/rowSet/impl/SingleVectorState.java    |   2 +-
 .../exec/physical/rowSet/impl/TupleState.java      |  11 +-
 .../rowSet/impl/VectorContainerBuilder.java        |   6 +-
 .../exec/physical/rowSet/model/BaseTupleModel.java |   8 +-
 .../physical/rowSet/model/MetadataProvider.java    |   6 +-
 .../physical/rowSet/model/SchemaInference.java     |  15 +-
 .../exec/physical/rowSet/model/TupleModel.java     |   6 +-
 .../model/single/BuildVectorsFromMetadata.java     |   4 +-
 .../rowSet/model/single/VectorAllocator.java       |   4 +-
 .../org/apache/drill/exec/record/TupleSchema.java  | 534 ---------------------
 .../record/metadata/AbstractColumnMetadata.java    | 206 ++++++++
 .../exec/record/metadata/MapColumnMetadata.java    | 126 +++++
 .../drill/exec/record/metadata/MetadataUtils.java  | 165 +++++++
 .../record/metadata/PrimitiveColumnMetadata.java   | 131 +++++
 .../metadata/RepeatedListColumnMetadata.java       | 100 ++++
 .../drill/exec/record/metadata/TupleSchema.java    | 196 ++++++++
 .../record/metadata/VariantColumnMetadata.java     | 136 ++++++
 .../drill/exec/record/metadata/VariantSchema.java  | 210 ++++++++
 .../exec/physical/impl/xsort/TestExternalSort.java |  20 +-
 .../impl/xsort/managed/SortTestUtilities.java      |   2 +-
 .../rowSet/impl/TestResultSetLoaderMapArray.java   |   2 +-
 .../rowSet/impl/TestResultSetLoaderMaps.java       |   2 +-
 .../impl/TestResultSetLoaderOmittedValues.java     |   2 +-
 .../rowSet/impl/TestResultSetLoaderOverflow.java   |   2 +-
 .../rowSet/impl/TestResultSetLoaderProjection.java |   4 +-
 .../rowSet/impl/TestResultSetLoaderProtocol.java   |  57 ++-
 .../rowSet/impl/TestResultSetLoaderTorture.java    |   2 +-
 .../drill/exec/physical/unit/TestMiniPlan.java     |  10 +-
 .../apache/drill/exec/record/TestTupleSchema.java  | 264 ++++++++--
 .../exec/store/easy/text/compliant/TestCsv.java    |   3 +-
 .../org/apache/drill/test/DrillTestWrapper.java    |   6 +-
 .../org/apache/drill/test/OperatorFixture.java     |  17 +-
 .../apache/drill/test/rowSet/AbstractRowSet.java   |   2 +-
 .../drill/test/rowSet/AbstractSingleRowSet.java    |   2 +-
 .../org/apache/drill/test/rowSet/DirectRowSet.java |   8 +-
 .../apache/drill/test/rowSet/HyperRowSetImpl.java  |   2 +-
 .../java/org/apache/drill/test/rowSet/RowSet.java  |   2 +-
 .../apache/drill/test/rowSet/RowSetBuilder.java    |   6 +-
 .../apache/drill/test/rowSet/RowSetPrinter.java    |   4 +-
 .../apache/drill/test/rowSet/RowSetReaderImpl.java |   2 +-
 .../apache/drill/test/rowSet/RowSetWriterImpl.java |   2 +-
 .../apache/drill/test/rowSet/SchemaBuilder.java    |  11 +-
 .../drill/test/rowSet/test/DummyWriterTest.java    |   2 +-
 .../drill/test/rowSet/test/PerformanceTool.java    |   8 +-
 .../apache/drill/test/rowSet/test/RowSetTest.java  |   2 +-
 .../drill/test/rowSet/test/TestFillEmpties.java    |   2 +-
 .../exec/record/{ => metadata}/ColumnMetadata.java |  94 +++-
 .../drill/exec/record/metadata/ProjectionType.java |  27 ++
 .../exec/record/{ => metadata}/TupleMetadata.java  |   4 +-
 .../exec/record/{ => metadata}/TupleNameSpace.java |   2 +-
 .../exec/record/metadata/VariantMetadata.java      | 177 +++++++
 .../drill/exec/vector/accessor/ObjectWriter.java   |   2 +-
 .../drill/exec/vector/accessor/TupleReader.java    |   2 +-
 .../drill/exec/vector/accessor/TupleWriter.java    |   4 +-
 .../accessor/reader/AbstractTupleReader.java       |   2 +-
 .../exec/vector/accessor/reader/MapReader.java     |   2 +-
 .../accessor/writer/AbstractArrayWriter.java       |   2 +-
 .../accessor/writer/AbstractObjectWriter.java      |   2 +-
 .../accessor/writer/AbstractScalarWriter.java      |   2 +-
 .../accessor/writer/AbstractTupleWriter.java       |   4 +-
 .../accessor/writer/ColumnWriterFactory.java       |   2 +-
 .../exec/vector/accessor/writer/MapWriter.java     |   2 +-
 .../accessor/writer/NullableScalarWriter.java      |   2 +-
 .../vector/accessor/writer/ScalarArrayWriter.java  |   2 +-
 71 files changed, 1938 insertions(+), 724 deletions(-)

commit 69a5f3a9c4fadafc588a3e325a12b98cbf359ece
Author: Paul Rogers <progers@cloudera.com>
Date:   Mon Feb 12 22:27:23 2018 -0800

    DRILL-6153: Operator framework
    
    closes #1121

 .../exec/physical/impl/protocol/BatchAccessor.java |  50 ++
 .../physical/impl/protocol/OperatorDriver.java     | 234 +++++++
 .../exec/physical/impl/protocol/OperatorExec.java  | 127 ++++
 .../impl/protocol/OperatorRecordBatch.java         | 156 +++++
 .../exec/physical/impl/protocol/SchemaTracker.java |  98 +++
 .../impl/protocol/VectorContainerAccessor.java     | 134 ++++
 .../exec/physical/impl/protocol/package-info.java  |  29 +
 .../impl/protocol/TestOperatorRecordBatch.java     | 747 +++++++++++++++++++++
 8 files changed, 1575 insertions(+)

commit 4ee207bd6744fcd9efcd7bafa3559093ad89fb46
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Thu Feb 22 16:41:47 2018 -0800

    DRILL-6180: Use System Option "output_batch_size" for External Sort
    
    closes #1129

 .../impl/xsort/managed/ExternalSortBatch.java      |  2 +-
 .../physical/impl/xsort/managed/SortConfig.java    | 12 ++-
 .../java-exec/src/main/resources/drill-module.conf |  9 +--
 .../xsort/managed/TestExternalSortInternals.java   | 88 +++++++++++-----------
 .../physical/impl/xsort/managed/TestSortImpl.java  |  3 +-
 5 files changed, 59 insertions(+), 55 deletions(-)

commit 6a55b2b21e047ba44f8f2d19381f18ae44263e26
Author: Gautam Parai <gparai@maprtech.com>
Date:   Thu Jan 18 15:46:42 2018 -0800

    DRILL-6099: Push limit past flatten(project) without pushdown into scan
    
    closes #1096

 .../apache/drill/exec/planner/PlannerPhase.java    |  8 +--
 .../drill/exec/planner/common/DrillRelOptUtil.java | 63 ++++++++++++++++++++++
 .../drill/exec/planner/logical/DrillLimitRel.java  |  6 ++-
 .../planner/logical/DrillPushLimitToScanRule.java  | 41 +++++++++-----
 .../planner/sql/handlers/FindLimit0Visitor.java    | 20 ++-----
 .../physical/impl/flatten/TestFlattenPlanning.java |  7 +++
 6 files changed, 112 insertions(+), 33 deletions(-)

commit 6af651fcde8059dbf557a1f2f897557425fb950d
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Wed Feb 28 14:07:27 2018 -0800

    DRILL-6197: Skip duplicate entry for OperatorStats
    
    org.apache.drill.exec.ops.FragmentStats should skip injecting the org.apache.drill.exec.ops.OperatorStats instance for these operators:
    org.apache.drill.exec.proto.beans.CoreOperatorType.SCREEN
    org.apache.drill.exec.proto.beans.CoreOperatorType.SINGLE_SENDER
    org.apache.drill.exec.proto.beans.CoreOperatorType.BROADCAST_SENDER
    org.apache.drill.exec.proto.beans.CoreOperatorType.HASH_PARTITION_SENDER
    
    closes #1141

 .../org/apache/drill/exec/ops/FragmentStats.java     | 20 +++++++++++---------
 .../drill/exec/physical/impl/BaseRootExec.java       | 16 ++++++++--------
 2 files changed, 19 insertions(+), 17 deletions(-)

commit 161a046822ca6676e0c62dcbdf38abcc6c08b1b6
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Tue Feb 27 12:10:06 2018 -0800

    DRILL-6185: Fixed error while displaying system profiles via the Web-UI
    
    The bug lies in the absence of a text plan for profiles related to system queries:
    e.g.
    {code:sql}
    use dfs.tmp;
    show tables;
    alter session reset all;
    {code}
    This addresses that by ensuring an empty string is substituted and the tokenization is done correctly.
    
    closes #1137

 .../exec/server/rest/profile/OperatorWrapper.java    |  3 ++-
 .../exec/server/rest/profile/ProfileWrapper.java     | 20 ++++++++++++++------
 2 files changed, 16 insertions(+), 7 deletions(-)

commit a3b0bf5970b6d84b29ce843af1fd5cacf62a13bd
Author: Parth Chandra <parthc@apache.org>
Date:   Tue Feb 27 17:31:51 2018 +0530

    DRILL-6188: Fix C++ client build on Centos7, OS X
    
    closes #1132

 contrib/native/client/src/clientlib/drillClientImpl.hpp | 1 -
 contrib/native/client/src/clientlib/logger.hpp          | 1 +
 2 files changed, 1 insertion(+), 1 deletion(-)

commit 408942259800d9987f4e84b3cdbd47e29920e934
Author: Ted Dunning <ted.dunning@gmail.com>
Date:   Tue Jan 2 16:20:35 2018 -0800

    DRILL-6191: Add acknowledgement sequence number and flags fields, details for flags
    
    closes #1134

 .../drill/exec/store/pcap/PcapDrillTable.java      |   2 +
 .../drill/exec/store/pcap/PcapRecordReader.java    |  75 +++++++++++++++
 .../drill/exec/store/pcap/decoder/Packet.java      | 102 ++++++++++++++++++++-
 .../exec/store/pcap/decoder/PacketConstants.java   |   3 +
 .../drill/exec/store/pcap/schema/PcapTypes.java    |   1 +
 .../drill/exec/store/pcap/schema/Schema.java       |  14 +++
 .../exec/store/pcap/TestPcapRecordReader.java      |  40 ++++++--
 .../src/test/resources/store/pcap/synscan.pcap     | Bin 0 -> 148872 bytes
 8 files changed, 224 insertions(+), 13 deletions(-)

commit 4bd3cc2995ab7bd94ca5f5a8838b0d02fb396c3e
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Mar 1 14:52:28 2018 +0200

    DRILL-6198: OpenTSDB unit tests fail when Lilith client is running
    
    closes #1142

 .../drill/store/openTSDB/TestOpenTSDBPlugin.java   | 41 ++++++++++++++++++----
 1 file changed, 35 insertions(+), 6 deletions(-)

commit 57e5ab26659e1fa393f8963435de946e0da949be
Author: Ted Dunning <ted.dunning@gmail.com>
Date:   Wed Jan 10 16:52:53 2018 -0800

    DRILL-6190: Fix handling of packets longer than legally allowed
    
    closes #1133

 .../drill/exec/store/pcap/PcapRecordReader.java    | 43 ++++++++++++++--------
 .../exec/store/pcap/decoder/PacketConstants.java   |  2 +-
 .../exec/store/pcap/decoder/PacketDecoder.java     | 15 +++++++-
 .../drill/exec/store/pcap/TestPcapDecoder.java     | 13 ++++---
 .../exec/store/pcap/TestPcapRecordReader.java      |  5 ++-
 5 files changed, 52 insertions(+), 26 deletions(-)

commit 3bc4e31916fe3abddda8ab1c2504b0e67645a602
Author: Roman Kulyk <rom.kulyk@gmail.com>
Date:   Thu Feb 15 15:37:43 2018 +0000

    DRILL-6174: Parquet filter pushdown improvements.
    
    Added support IS [NOT] NULL/TRUE/FALSE operator for the parquet filter pushdown.
    Added timestamp/date/time implicit/explicit casts.
    
    closes #1131

 .../exec/expr/fn/FunctionGenerationHelper.java     |   9 +-
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java |  17 +-
 .../exec/expr/stat/ParquetBooleanPredicates.java   |  75 ++++++++
 ...cates.java => ParquetComparisonPredicates.java} | 110 +++--------
 .../drill/exec/expr/stat/ParquetIsPredicates.java  | 209 +++++++++++++++++++++
 .../exec/expr/stat/ParquetPredicatesHelper.java    |  50 +++++
 .../drill/exec/expr/stat/RangeExprEvaluator.java   |  34 +++-
 .../apache/drill/exec/resolver/TypeCastRules.java  |   3 +-
 .../exec/store/parquet/ParquetFilterBuilder.java   |  83 +++++++-
 .../parquet/stat/ParquetMetaStatCollector.java     |   4 +
 .../store/parquet/TestParquetFilterPushDown.java   |  39 ++++
 .../TestParquetFilterPushDownForDateTimeCasts.java | 127 +++++++++++++
 .../parquetFilterPush/blnTbl/0_0_0.parquet         | Bin 0 -> 272 bytes
 .../parquetFilterPush/blnTbl/0_0_1.parquet         | Bin 0 -> 272 bytes
 .../parquetFilterPush/blnTbl/0_0_2.parquet         | Bin 0 -> 272 bytes
 .../parquetFilterPush/blnTbl/0_0_3.parquet         | Bin 0 -> 259 bytes
 16 files changed, 658 insertions(+), 102 deletions(-)

commit 1697e531dce5fd094f3b5d4a29448df704ed6c4a
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Mar 2 13:38:00 2018 +0200

    DRILL-6204: Pass tables columns without partition columns to empty Hive reader
    
    closes #1146

 .../drill/exec/store/hive/HiveDrillNativeScanBatchCreator.java | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 6bf04eccf4ab756fa370f800f2d35d2443bac518
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Wed Feb 28 14:16:17 2018 +0000

    DRILL-6195: Quering Hive non-partitioned transactional tables via Drill
    
    closes #1140

 .../org/apache/drill/exec/store/hive/readers/HiveAbstractReader.java   | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 411253608344343f09f75e15af61e79358da6eb1
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Fri Mar 2 11:13:59 2018 -0800

    DRILL-6205: Reduce memory consumption of testFlattenUpperLimit test
    
    closes #1147

 .../drill/exec/physical/unit/TestOutputBatchSize.java  | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 49faae0452935e9ee1054c056df3e038391048ba
Author: Vlad Rozov <vrozov@apache.org>
Date:   Fri Mar 2 10:39:31 2018 -0800

    DRILL-5994: Enable configuring number of Jetty acceptors and selectors (default to 1 acceptor and 2 selectors)
    
    closes #1148

 .../java/org/apache/drill/exec/ExecConstants.java  |  3 +-
 .../apache/drill/exec/server/rest/WebServer.java   | 55 ++++++++++------------
 .../java-exec/src/main/resources/drill-module.conf | 11 +++--
 3 files changed, 34 insertions(+), 35 deletions(-)

commit 9073aed67d89e8b2188870d6c812706085c9c41b
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Dec 21 19:31:00 2017 +0200

    DRILL-6118: Handle item star columns during project / filter push down and directory pruning
    
    1. Added DrillFilterItemStarReWriterRule to re-write item star fields to regular field references.
    2. Refactored DrillPushProjectIntoScanRule to handle item star fields, factored out helper classes and methods from PreUitl.class.
    3. Fixed issue with dynamic star usage (after Calcite upgrade old usage of star was still present, replaced WILDCARD -> DYNAMIC_STAR  for clarity).
    4. Added unit tests to check project / filter push down and directory pruning with item star.

 .../java/org/apache/drill/exec/dotdrill/View.java  |   5 +-
 .../physical/impl/project/ProjectRecordBatch.java  |  12 +-
 .../physical/impl/values/ValuesBatchCreator.java   |   5 +-
 .../apache/drill/exec/planner/PlannerPhase.java    |   7 +-
 .../drill/exec/planner/StarColumnHelper.java       |  13 +-
 .../exec/planner/common/DrillScanRelBase.java      |  10 +-
 .../logical/DrillFilterItemStarReWriterRule.java   | 232 +++++++++++++++++++
 .../drill/exec/planner/logical/DrillOptiq.java     |   3 +-
 .../planner/logical/DrillPushProjIntoScan.java     |  97 --------
 .../logical/DrillPushProjectIntoScanRule.java      | 256 +++++++++++++++++++++
 .../exec/planner/logical/FieldsReWriterUtil.java   | 138 +++++++++++
 .../exec/planner/logical/PreProcessLogicalRel.java |   6 +-
 .../drill/exec/planner/physical/PrelUtil.java      | 247 +-------------------
 .../visitor/SplitUpComplexExpressions.java         |   6 +-
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  |   4 +-
 .../exec/planner/types/RelDataTypeHolder.java      |  13 +-
 .../easy/text/compliant/RepeatedVarCharOutput.java |   7 +-
 .../drill/exec/store/mock/MockGroupScanPOP.java    |   2 +-
 .../store/parquet2/DrillParquetGroupConverter.java |  12 +-
 .../exec/store/text/DrillTextRecordReader.java     |   4 +-
 .../java/org/apache/drill/exec/util/Utilities.java |  39 +++-
 .../exec/vector/complex/fn/FieldSelection.java     |  13 +-
 .../org/apache/drill/exec/TestWindowFunctions.java |   4 +-
 .../exec/physical/unit/MiniPlanUnitTestBase.java   |   3 +-
 .../exec/physical/unit/PhysicalOpUnitTestBase.java |   3 +-
 .../TestPushDownAndPruningWithItemStar.java        | 183 +++++++++++++++
 .../apache/drill/common/expression/SchemaPath.java |  12 +-
 27 files changed, 923 insertions(+), 413 deletions(-)

commit 50efb806bb03494e1da4d6b48f90fbf58d699c18
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Thu Jan 11 17:35:13 2018 -0800

    DRILL-5741: Automatically manage memory allocations during startup
    
    **Note:** This commit is rebased on (hence, requires) DRILL-6068 commit
    
    This commit provides a way for distributions and users to automatically define the Drillbit JVM's Heap, Direct and CodeCache allocations. To do this, it leverages the DRILL-6068 commit, which provides for configuration setup.
    
    The only new variable introduced is an environment variable - `DRILLBIT_MAX_PROC_MEM` that defines a Drillbit's max memory parameters. The logic defined by `auto-setup.sh` will check that if any (or all) of the JVM memory parameters have been declared; they, cumulatively, don't exceed the value specified by `DRILLBIT_MAX_PROC_MEM`.
    
    ```
    NOTE: To disable this, simply unset (or don't define) the environment variable DRILLBIT_MAX_PROC_MEM
    ```
    
    The variable can be defined in KB, MB, or  GB; similar in syntax to how the JVM MaxHeap is specified. For e.g.
    ```
    DRILLBIT_MAX_PROC_MEM=13G
    DRILLBIT_MAX_PROC_MEM=8192m
    DRILLBIT_MAX_PROC_MEM=4194304K
    ```
    In addition, you can specify it as a percent of the total system memory prior to the Drillbit starting up:
    `DRILLBIT_MAX_PROC_MEM=40%`
    
    For a system with with 48GB free memory, when set to (say) 25% (with settings defined in drill-env.sh), and heap (8GB) and direct (10GB) are defined; the Drillbit fails startup with the following message:
    ```
    2018-01-03 14:27:57  [WARN] 25% of System Memory (47 GB) translates to 12 GB
    2018-01-03 14:27:57  [ERROR]    Unable to start Drillbit due to memory constraint violations
      Total Memory Requested : 19 GB
      Check the following settings to possibly modify (or increase the Max Memory Permitted):
            DRILLBIT_MAX_PROC_MEM=25%
            DRILL_HEAP=8G
            DRILL_MAX_DIRECT_MEMORY=10G
            DRILLBIT_CODE_CACHE_SIZE=1024m
            *NOTE: It is recommended not to specify DRILLBIT_CODE_CACHE_SIZE as this will be auto-computed based on the HeapSize and would not exceed 1GB
    ```
    
    For all other combinations, the undefined parameters are adjusted to ensure that the total memory allocated is within the value specified by `DRILLBIT_MAX_PROC_MEM`,
    
    For a system with with 48GB free memory, when set to (say) 50% (with settings defined in drill-env.sh), and heap (8GB) and direct (10GB) are defined; the Drillbit startup with the following warning:
    ```
    2018-01-03 14:31:06  [WARN] 50% of System Memory (47 GB) translates to 24 GB
    2018-01-03 14:31:06  [WARN] You have an allocation of 4 GB that is currently unused from a total of 24 GB. You can increase your existing memory configuration to use this extra memory
            DRILLBIT_MAX_PROC_MEM=50%
            DRILL_HEAP=8G
            DRILL_MAX_DIRECT_MEMORY=10G
            DRILLBIT_CODE_CACHE_SIZE=1024m
            *NOTE: It is recommended not to specify DRILLBIT_CODE_CACHE_SIZE as this will be auto-computed based on the HeapSize and would not exceed 1GB
    ```
    
    In addition, if the available free memory is less than the allocation, an additional warning is provided under the assumption that the OS will reclaim more free memory when required:
    ```
    2018-01-03 14:31:06  [WARN] Total Memory Allocation for Drillbit (19GB) exceeds available free memory (11GB)
    2018-01-03 14:31:06  [WARN] Drillbit will start up, but can potentially crash due to oversubscribing of system memory.
    ```
    
    For more details, refer the attachments in https://issues.apache.org/jira/browse/DRILL-5741
    
    Changes to auto configure messaging
    
    Publishing final values prior to startup
    
    Minor update for printing to console's err stream
    
    close apache/drill#1082

 distribution/src/resources/auto-setup.sh    | 202 +++++++++++++++++++++++++++-
 distribution/src/resources/distrib-setup.sh |   2 +-
 distribution/src/resources/drill-env.sh     |  10 ++
 3 files changed, 212 insertions(+), 2 deletions(-)

commit 266250cf6ca2269f8772796d6c4eb903aa795111
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Thu Jan 11 15:45:04 2018 -0800

    DRILL-6068: Support user/distrib-specific config checks during startup
    
    1. Allows for distrib/user specific checks to be done
    2. Place-holder files for distribution and user specific checks
    3. Moved JVM Version Check to head of script
    Separation of setups into 3 levels
    
    1. Apache Drill (Default)
    2. Distribition Specific
    3. User-Defined
    1 & 2 are mutually exclusive.
    3 is additional checks that the user can specify.

 distribution/src/assemble/bin.xml           |  15 +++
 distribution/src/resources/auto-setup.sh    |  29 +++++
 distribution/src/resources/distrib-setup.sh |  29 +++++
 distribution/src/resources/drill-config.sh  | 178 ++++++++++++++++++----------
 distribution/src/resources/drill-setup.sh   |  26 ++++
 5 files changed, 217 insertions(+), 60 deletions(-)

commit 27aa236975e6d998e5b5dc173de777c78bb44bdd
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Nov 13 16:04:03 2017 +0000

    DRILL-5978: Updating of Apache and MapR Hive libraries to 2.3.2 and 2.1.2-mapr-1710 versions respectively
    
      * Improvements to allow of reading Hive bucketed transactional ORC tables;
      * Updating hive properties for tests and resolving dependencies and API conflicts:
      - Fix for "hive.metastore.schema.verification", MetaException(message: Version information
      not found in metastore) https://cwiki.apache.org/confluence/display/Hive/Hive+Schema+Tool
      METASTORE_SCHEMA_VERIFICATION="false" property is added
      - Added METASTORE_AUTO_CREATE_ALL="true", properties to tests, because some additional
      tables are necessary in Hive metastore
      - Disabling calcite CBO for (Hive's CalcitePlanner) for tests, because it is in conflict
      with Drill's Calcite version for Drill unit tests. HIVE_CBO_ENABLED="false" property
      - jackson and parquet libraries are relocated in hive-exec-shade module
      - org.apache.parquet:parquet-column Drill version is added to "hive-exec" to
      allow of using Parquet empty group on MessageType level (PARQUET-278)
      - Removing of commons-codec exclusion from hive core. This dependency is
      necessary for hive-exec and hive-metastore.
      - Setting Hive internal properties for transactional scan:
      HiveConf.HIVE_TRANSACTIONAL_TABLE_SCAN and for schema evolution: HiveConf.HIVE_SCHEMA_EVOLUTION,
      IOConstants.SCHEMA_EVOLUTION_COLUMNS, IOConstants.SCHEMA_EVOLUTION_COLUMNS_TYPES
      - "io.dropwizard.metrics:metrics-core" with last 4.0.2 version is added to dependencyManagement block in Drill root POM
      - Exclusion of "hive-exec" in "hive-hbase-handler" is already in Drill root dependencyManagement POM
      - Hive Calcite libraries are excluded (Calcite CBO was disabled)
      - "jackson-core" dependency is added to DependencyManagement block in Drill root POM file
      - For MapR Hive 2.1 client older "com.fasterxml.jackson.core:jackson-databind" is included
      - "log4j:log4j" dependency is excluded from "hive-exec", "hive-metastore", "hive-hbase-handler".
    
    close apache/drill#1111

 contrib/storage-hive/core/pom.xml                  |   6 -
 .../main/codegen/templates/HiveRecordReaders.java  |   4 +-
 .../exec/store/hive/HiveMetadataProvider.java      |   1 +
 .../drill/exec/store/hive/HiveUtilities.java       |  65 ++++++++-
 .../store/hive/readers/HiveAbstractReader.java     |  57 +++++---
 .../apache/drill/exec/hive/TestHiveStorage.java    |  10 ++
 .../hive/BaseTestHiveImpersonation.java            |   5 +-
 .../hive/TestSqlStdBasedAuthorization.java         |   8 +-
 .../hive/TestStorageBasedHiveAuthorization.java    |   6 +
 .../exec/store/hive/HiveTestDataGenerator.java     |   3 +
 contrib/storage-hive/hive-exec-shade/pom.xml       | 158 ++++++++++++---------
 exec/java-exec/pom.xml                             |  15 --
 exec/jdbc-all/pom.xml                              |  20 ---
 exec/jdbc/pom.xml                                  |   1 -
 pom.xml                                            |  74 +++++++++-
 15 files changed, 292 insertions(+), 141 deletions(-)

commit 1c14d3c3c836515b375ae7c47c4179503b1dcee0
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue Feb 20 17:14:29 2018 -0800

    DRILL-6172: setValueCount of VariableLengthVectors throws IOB exception when called with 0 value after clearing vectors
    
    close apache/drill#1124

 .../drill/exec/record/vector/TestValueVector.java  | 42 ++++++++++++++++++++++
 .../codegen/templates/VariableLengthVectors.java   |  6 +++-
 2 files changed, 47 insertions(+), 1 deletion(-)

commit bcd358b3c73f34381b543789dfc368bfaefa4ea9
Author: vladimir tkach <vovatkach75@gmail.com>
Date:   Fri Feb 16 16:36:49 2018 +0200

    DRILL-6154: NaN, Infinity issues
    
    - changed comparison rules for NaN, Infinity values. For now NaN is the biggest value, Infinity - second biggest value
    - fixed min, max, trunc functions for NaN, Infinity values
    - made drill use original sqrt function instead of power(x,0.5) substitution
    
    close apache/drill#1123

 .../main/codegen/templates/AggrTypeFunctions1.java | 23 +++++++--
 .../codegen/templates/ComparisonFunctions.java     | 13 ++++-
 .../src/main/codegen/templates/MathFunctions.java  | 16 ++++--
 .../exec/planner/sql/DrillConvertletTable.java     | 15 ++++++
 .../java/org/apache/drill/TestExampleQueries.java  |  1 -
 .../exec/fn/impl/TestMathFunctionsWithNanInf.java  | 22 ++++++---
 .../exec/vector/complex/writer/TestJsonNanInf.java | 57 ++++++++++++++++++++++
 7 files changed, 129 insertions(+), 18 deletions(-)

commit b4d2a77038421b243970da71655311076c0a5a43
Author: Vlad Rozov <vrozov@apache.org>
Date:   Mon Feb 5 19:15:56 2018 -0800

    DRILL-5902: Queries encounter random failure due to RPC connection timed out
    
    close apache/drill#1113

 .../exec/server/rest/profile/ProfileResources.java |  5 +--
 .../org/apache/drill/exec/work/WorkManager.java    | 39 ++++++++++++++++++++++
 .../exec/work/batch/ControlMessageHandler.java     |  4 +--
 .../exec/work/foreman/QueryStateProcessor.java     | 14 ++++----
 .../apache/drill/exec/work/user/UserWorker.java    |  5 +--
 5 files changed, 48 insertions(+), 19 deletions(-)

commit 4f203ea99e2d6bd5596672a0ea67445720630228
Author: Hanumath Rao Maduri <hanu.ncr@gmail.com>
Date:   Mon Feb 12 18:19:07 2018 -0800

    DRILL-6115: SingleMergeExchange is not scaling up when many minor fragments are allocated for a query.
    
    DRILL-6115: Refactoring the existing code.
    
    close apache/drill#1110

 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +
 .../physical/base/AbstractPhysicalVisitor.java     |  18 --
 .../drill/exec/physical/base/PhysicalVisitor.java  |   7 -
 .../exec/physical/config/AbstractMuxExchange.java  |  15 ++
 .../exec/physical/config/OrderedMuxExchange.java   |  52 ++++++
 .../exec/physical/config/UnorderedMuxExchange.java |   9 +-
 .../drill/exec/planner/physical/ExchangePrel.java  |  13 ++
 .../drill/exec/planner/physical/HashPrelUtil.java  |  23 ++-
 .../planner/physical/HashToMergeExchangePrel.java  |   4 -
 .../planner/physical/HashToRandomExchangePrel.java |  77 ++++++++
 .../planner/physical/OrderedMuxExchangePrel.java   |  74 ++++++++
 .../exec/planner/physical/PlannerSettings.java     |   1 +
 .../planner/physical/SingleMergeExchangePrel.java  |  21 +++
 .../visitor/InsertLocalExchangeVisitor.java        | 115 ++----------
 .../exec/planner/physical/visitor/PrelVisitor.java |   1 -
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 .../exec/physical/impl/TestOrderedMuxExchange.java | 193 +++++++++++++++++++++
 18 files changed, 479 insertions(+), 149 deletions(-)

commit 8cb32343b2816fe97f04efc055e6ffba77a9116a
Author: milindt <35451050+milindt@users.noreply.github.com>
Date:   Wed Jan 17 14:35:33 2018 +0530

    DRILL-6090: While connecting to drill-bits using JDBC Driver through Zookeeper, a lot of "Curator-Framework-0" threads are created if connection to drill-bit is not successful(no drill-bits are up/reachable)
    
    I am using Drill JDBC driver 1.12.0 to connect to MapR-DB. I am finding the available drill-bits using Zookeepers. When drill-bits are not up or not reachable, the connection is failed with exception: "Failure in connecting to Drill: oadd.org.apache.drill.exec.rpc.RpcException: Failure setting up ZK for client", which is expected, but number of threads created by ZKClusterCoordinator just keeps on increasing.
    
    Steps to reproduce the issue
    
    Setup a connection with a drill-bit using Apache Drill JDBC driver 1.12.0 through Zookeeper hosts(port 5181)
    Now stop the drill-bit services or block the drill-bit IPs using iptable rules
    Truncate catalina logs
    Try to connect to the drill-bit/hit a code path that requires connection to drill-bits.
    Take thread dump using kill -QUIT <java process id>
    grep -c "Curator-Framework-0" catalina.out
    Observe that the curator framework thread just keep on accumulating
    
    RCA:
    
    ZKClusterCoordinator creates curator threads in the constructor
    ZKClusterCoordinator is instantiated by DrillClient.connect
    DrillClient.connect is called in DrillConnectionImpl constructor
    
    Fix:
    
    Call DrillConnectionImpl .cleanup() from all the catch blocks in the DrillConnectionImpl  constructor.
    
    close apache/drill#1094

 .../drill/jdbc/impl/DrillConnectionImpl.java       | 130 +++++++++++----------
 1 file changed, 69 insertions(+), 61 deletions(-)

commit 894c0f58ecff11ce53ede696f2a82308ca8333d4
Author: Vlad Rozov <vrozov@apache.org>
Date:   Thu Feb 15 19:25:21 2018 -0800

    DRILL-6164: Heap memory leak during parquet scan and OOM
    
    closes #1122

 .../exec/store/mapr/db/MapRDBScanBatchCreator.java      |  4 ++--
 .../drill/exec/store/hbase/HBaseScanBatchCreator.java   |  4 ++--
 .../store/hive/HiveDrillNativeScanBatchCreator.java     |  3 ++-
 .../initilializers/DefaultReadersInitializer.java       |  4 ++--
 .../drill/exec/store/kafka/KafkaScanBatchCreator.java   |  4 ++--
 .../drill/exec/store/kudu/KuduScanBatchCreator.java     |  4 ++--
 .../drill/exec/store/mongo/MongoScanBatchCreator.java   |  4 ++--
 .../drill/exec/store/openTSDB/OpenTSDBBatchCreator.java |  4 ++--
 .../org/apache/drill/exec/physical/impl/ScanBatch.java  |  3 +++
 .../drill/exec/store/dfs/easy/EasyFormatPlugin.java     |  3 ++-
 .../drill/exec/store/mock/MockScanBatchCreator.java     |  4 ++--
 .../exec/store/parquet/ParquetScanBatchCreator.java     |  3 ++-
 .../drill/exec/store/parquet2/DrillParquetReader.java   | 14 +++++++++-----
 .../store/parquet2/DrillParquetRecordMaterializer.java  | 17 +++++++++++------
 .../drill/exec/physical/unit/MiniPlanUnitTestBase.java  |  5 +++--
 .../exec/physical/unit/PhysicalOpUnitTestBase.java      |  3 ++-
 16 files changed, 50 insertions(+), 33 deletions(-)

commit 24a7acd440d29b7340a378306f339e1307892208
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Fri Jan 26 13:46:22 2018 -0800

    DRILL-6089: Removed ordering trait from HashJoin in planner and verified the planner does not assume HashJoin preserves ordering.
    
    closes #1117

 .../drill/exec/planner/physical/JoinPruleBase.java | 10 +++---
 .../drill/exec/planner/physical/PrelUtil.java      | 15 +++++++++
 .../test/java/org/apache/drill/PlanTestBase.java   | 37 ++++++++++++++++------
 .../physical/impl/join/TestHashJoinAdvanced.java   | 16 ++++++++--
 4 files changed, 60 insertions(+), 18 deletions(-)

commit 20185c9bf0f4c94815fd2ab1eae1b98b3d4e4ff7
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Fri Feb 9 13:54:38 2018 -0800

    DRILL-6123: Limit batch size for Merge Join based on memory
    
    closes #1107

 .../java/org/apache/drill/exec/ExecConstants.java  |   4 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |  32 ++-
 .../drill/exec/physical/impl/join/JoinStatus.java  |  12 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  65 +++++-
 .../record/AbstractRecordBatchMemoryManager.java   |  61 +++++
 .../apache/drill/exec/record/RecordBatchSizer.java |   6 +-
 .../apache/drill/exec/record/RecordIterator.java   |  13 +-
 .../exec/physical/unit/TestOutputBatchSize.java    | 249 ++++++++++++++++++++-
 .../drill/exec/record/TestRecordIterator.java      |   4 +-
 .../exec/vector/complex/AbstractMapVector.java     |   4 +
 .../vector/complex/BaseRepeatedValueVector.java    |   3 +
 .../drill/exec/vector/complex/ListVector.java      |   4 +
 .../exec/vector/complex/RepeatedListVector.java    |   3 +
 13 files changed, 425 insertions(+), 35 deletions(-)

commit 58e4cec9a913e381ef0e96b072c31e34085277b3
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Feb 1 17:44:43 2018 +0000

    DRILL-6130: Fix NPE during physical plan submission for various storage plugins
    
    1. Fixed ser / de issues for Hive, Kafka, Hbase plugins.
    2. Added physical plan submission unit test for all storage plugins in contrib module.
    3. Refactoring.
    
    closes #1108

 .../drill/exec/store/hbase/HBaseGroupScan.java     |   5 +-
 .../drill/exec/store/hbase/HBaseSubScan.java       |  38 +++---
 .../org/apache/drill/hbase/TestHBaseQueries.java   |   6 +
 .../exec/planner/sql/HivePartitionDescriptor.java  |  14 +--
 .../ConvertHiveParquetScanToDrillParquetScan.java  |  14 +--
 .../store/hive/HiveDrillNativeParquetScan.java     |  22 ++--
 .../store/hive/HiveDrillNativeParquetSubScan.java  |   4 +-
 .../org/apache/drill/exec/store/hive/HiveScan.java |  68 ++++++-----
 .../apache/drill/exec/store/hive/HiveSubScan.java  | 130 +++++++++++----------
 .../apache/drill/exec/hive/TestHiveStorage.java    |   7 +-
 .../exec/store/jdbc/TestJdbcPluginWithMySQLIT.java |   5 +
 .../drill/exec/store/kafka/KafkaGroupScan.java     |  40 ++++---
 .../drill/exec/store/kafka/KafkaSubScan.java       |  56 +++++----
 .../drill/exec/store/kafka/KafkaQueriesTest.java   |  21 ++--
 .../exec/store/kafka/MessageIteratorTest.java      |   2 +-
 .../drill/exec/store/kafka/TestKafkaSuit.java      |   6 +-
 ...QueryConstants.java => TestQueryConstants.java} |  26 ++---
 .../store/kafka/cluster/EmbeddedKafkaCluster.java  |   4 +-
 .../drill/exec/store/kudu/KuduGroupScan.java       |  39 +++----
 .../apache/drill/exec/store/kudu/KuduSubScan.java  |  39 +++----
 .../apache/drill/store/kudu/TestKuduPlugin.java    |   8 +-
 .../drill/exec/store/mongo/TestMongoQueries.java   |   7 ++
 .../drill/store/openTSDB/TestOpenTSDBPlugin.java   |   7 +-
 .../org/apache/drill/exec/proto/UserBitShared.java |  21 +++-
 .../drill/exec/proto/beans/CoreOperatorType.java   |   4 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   1 +
 26 files changed, 326 insertions(+), 268 deletions(-)

commit 58f3b10464f5a3b969ce19705750cb163be9b287
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Tue Feb 6 22:14:58 2018 -0800

    DRILL-6140: Correctly list Operators in Profiles Page
    
    Operators listed in Profiles Page don't always correspond with operator specified in Physical Plan.
    This commit fixes that by using the PhysicalPlan as a reference, but reverts to the inferred names in the event of an Exchange-based operator
    
    closes #1116

 .../exec/server/rest/profile/OperatorWrapper.java   | 17 +++++++++++++++--
 .../exec/server/rest/profile/ProfileWrapper.java    | 21 ++++++++++++++++++++-
 2 files changed, 35 insertions(+), 3 deletions(-)

commit 3314905987ee6d28c89cc5cfd8c7dbd6f36da41c
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Feb 8 15:25:59 2018 -0800

    DRILL-6143: Made FragmentsRunner's rpc timeout larger to reduce random failures and made it configurable as a SystemOption.
    
    closes #1119

 .../java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java | 2 ++
 .../org/apache/drill/exec/server/options/SystemOptionManager.java    | 3 ++-
 .../java/org/apache/drill/exec/work/foreman/FragmentsRunner.java     | 5 ++---
 exec/java-exec/src/main/resources/drill-module.conf                  | 1 +
 4 files changed, 7 insertions(+), 4 deletions(-)

commit 5d4fbd1e65ec197780088889eec81e01d29f1167
Author: Hanumath Rao Maduri <hanu.ncr@gmail.com>
Date:   Fri Feb 9 14:13:04 2018 -0800

    DILL-6148: TestSortSpillWithException is sometimes failing.
    
    closes #1120

 .../drill/exec/physical/impl/xsort/TestSortSpillWithException.java   | 5 +++++
 1 file changed, 5 insertions(+)

commit 23042dec6a142206bd1ec86b82d3e5747c346276
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Fri Feb 2 18:52:38 2018 -0800

    DRILL-6128: Wrong Result with Nested Loop Join
    
    This closes #1109

 .../physical/impl/join/NestedLoopJoinBatch.java    |  2 +-
 .../physical/impl/join/NestedLoopJoinTemplate.java |  6 ++-
 .../physical/impl/join/TestNestedLoopJoin.java     | 55 ++++++++++++++++++++++
 .../join/expected/nestedLoopJoinBaseline.csv       |  6 +++
 .../test/resources/join/multiple/left/left1.json   | 15 ++++++
 .../test/resources/join/multiple/left/left2.json   | 15 ++++++
 .../test/resources/join/multiple/right/right1.json | 15 ++++++
 .../test/resources/join/multiple/right/right2.json | 15 ++++++
 8 files changed, 126 insertions(+), 3 deletions(-)

commit 7b49be6af1bf8fc906b6d56ea5805ba2f9756127
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Feb 8 16:25:23 2018 -0800

    DRILL-6144: Make direct memory amount configurable in tests.
    
    This closes #1118

 .travis.yml | 2 +-
 pom.xml     | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit f0bd12941103d96aecb574e0564e952d521f475d
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Mon Feb 5 21:41:45 2018 -0800

    DRILL-6138: Move RecordBatchSizer to org.apache.drill.exec.record package
    
    This closes #1115

 .../physical/impl/aggregate/HashAggTemplate.java   |  2 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |  2 +-
 .../exec/physical/impl/xsort/managed/SortImpl.java |  2 +-
 .../rowSet/model/single/VectorAllocator.java       |  5 ++---
 .../impl/spill => record}/RecordBatchSizer.java    | 22 ++++++++--------------
 .../impl/xsort/managed/TestShortArrays.java        |  6 +++---
 .../exec/physical/unit/TestOutputBatchSize.java    |  2 +-
 .../org/apache/drill/test/DrillTestWrapper.java    |  3 +--
 .../drill/test/rowSet/AbstractSingleRowSet.java    |  2 +-
 .../apache/drill/test/rowSet/IndirectRowSet.java   |  2 +-
 10 files changed, 20 insertions(+), 28 deletions(-)

commit 26dcca0c525e5e0e2920caf6a70c74996af92fd6
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Wed Jan 31 18:59:58 2018 -0800

    DRILL-6129: Fixed query failure due to nested column data type change
    
    This closes #1106

 .../java/org/apache/drill/exec/record/RecordBatchLoader.java  | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit 2637d65cdb7291f39b99376ce1d9d4907b84a7ff
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Mon Feb 5 12:23:31 2018 -0800

    DRILL-6137: Fixed join error when one file partition is empty

 .../exec/physical/impl/join/HashJoinBatch.java     |  4 +-
 .../exec/physical/impl/join/HashJoinProbe.java     |  2 +-
 .../physical/impl/join/HashJoinProbeTemplate.java  | 10 ++++-
 .../exec/record/AbstractSingleRecordBatch.java     |  1 +
 .../physical/impl/join/TestHashJoinAdvanced.java   | 23 ++++++++++
 .../test/resources/join/empty_part/part/0_0_0.json | 41 ++++++++++++++++++
 .../resources/join/empty_part/partsupp/0_0_0.json  | 49 ++++++++++++++++++++++
 .../resources/join/empty_part/partsupp/0_0_1.json  |  0
 8 files changed, 125 insertions(+), 5 deletions(-)

commit cd6ddc96a21d84fcdbf9fecdcf5b3fe3732a0f95
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Tue Jan 16 11:29:38 2018 -0800

    DRILL-5993: Fixed copyEntry for var length nullable vectors.

 .../src/main/codegen/templates/NullableValueVectors.java      | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit 55c2bea04c28d22e58ef055ee35947c1b6cec21c
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Nov 30 09:55:32 2017 -0800

    DRILL-5993: Used generic copiers in the selection vector remover, and implemented testing improvements for RowSets and codegen.
    
    closes #1057

 .../drill/exec/physical/impl/TopN/TopNBatch.java   |   8 +-
 .../physical/impl/svremover/AbstractCopier.java    |  95 +++++++++++++
 .../physical/impl/svremover/AbstractSV2Copier.java |  53 ++++++++
 .../physical/impl/svremover/AbstractSV4Copier.java |  53 ++++++++
 .../drill/exec/physical/impl/svremover/Copier.java |  12 +-
 .../physical/impl/svremover/CopierTemplate2.java   |  71 ----------
 .../physical/impl/svremover/CopierTemplate4.java   |  72 ----------
 .../physical/impl/svremover/GenericCopier.java     |  96 +++++++++++++
 .../physical/impl/svremover/GenericSV2Copier.java  |  31 +----
 .../physical/impl/svremover/GenericSV4Copier.java  |  42 +++---
 .../impl/svremover/RemovingRecordBatch.java        | 148 ++++-----------------
 .../exec/record/ExpandableHyperContainer.java      |   4 +
 .../org/apache/drill/exec/record/RecordBatch.java  |  31 ++---
 .../apache/drill/exec/record/VectorAccessible.java |  14 +-
 .../impl/svremover/AbstractGenericCopierTest.java  | 136 +++++++++++++++++++
 .../physical/impl/svremover/GenericCopierTest.java |  41 ++++++
 .../impl/svremover/GenericSV2CopierTest.java       |  41 ++++++
 .../impl/svremover/GenericSV4CopierTest.java       |  65 +++++++++
 .../drill/exec/record/TestVectorContainer.java     |   3 +-
 .../org/apache/drill/test/BaseDirTestWatcher.java  |  10 ++
 .../java/org/apache/drill/test/BaseTestQuery.java  |   5 +
 .../java/org/apache/drill/test/ClusterFixture.java |   2 +
 .../org/apache/drill/test/rowSet/DirectRowSet.java |  11 +-
 .../apache/drill/test/rowSet/IndirectRowSet.java   |  32 ++++-
 .../java/org/apache/drill/test/rowSet/RowSet.java  |   3 +
 .../org/apache/drill/test/rowSet/RowSetBatch.java  | 108 +++++++++++++++
 .../apache/drill/test/rowSet/RowSetBuilder.java    |  22 ++-
 27 files changed, 839 insertions(+), 370 deletions(-)

commit c8fdfd6d7ea46b13e5409b482ff5ec2ab962ac5d
Author: Paul Rogers <progers@maprtech.com>
Date:   Thu Nov 30 09:39:16 2017 -0800

    DRILL-5993: Adding generic copiers which do not require codegen

 .../physical/impl/svremover/GenericSV2Copier.java  | 56 +++++++++++++++++++++
 .../physical/impl/svremover/GenericSV4Copier.java  | 58 ++++++++++++++++++++++
 2 files changed, 114 insertions(+)

commit 5c8e80d81a32015ee24011078748a12495857c35
Author: Vlad Storona <vstorona@cybervisiontech.com>
Date:   Tue Jan 30 14:55:04 2018 +0200

    DRILL-6119: The OpenTSDB storage plugin is not included in the Drill distribution
    
    closes #1102

 distribution/src/assemble/bin.xml | 1 +
 1 file changed, 1 insertion(+)

commit f30200812eb27c76b8d4d246008cbd9bd59fb0a5
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Fri Dec 1 22:48:05 2017 +0200

    DRILL-4185: UNION ALL involving empty directory on any side of union all results in Failed query
    
    closes #1083

 .../exec/physical/base/SchemalessBatchCreator.java |  40 +++
 .../drill/exec/physical/base/SchemalessScan.java   |  94 ++++++
 .../physical/impl/join/NestedLoopJoinBatch.java    |  86 +++---
 .../drill/exec/planner/logical/DrillTable.java     |   8 +-
 .../drill/exec/planner/physical/UnionAllPrule.java |   3 +-
 .../sql/handlers/RefreshMetadataHandler.java       |  14 +-
 .../apache/drill/exec/record/SchemalessBatch.java  | 108 +++++++
 .../apache/drill/exec/store/dfs/FileSelection.java |  21 ++
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |   5 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |  12 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  23 +-
 .../java/org/apache/drill/TestJoinNullable.java    |   2 +-
 .../test/java/org/apache/drill/TestUnionAll.java   | 136 +++++++--
 .../java/org/apache/drill/TestUnionDistinct.java   |  76 +++++
 .../org/apache/drill/exec/TestEmptyInputSql.java   |  43 ++-
 .../exec/physical/impl/join/JoinTestBase.java      |  61 +++-
 .../physical/impl/join/TestHashJoinAdvanced.java   |  17 +-
 .../physical/impl/join/TestJoinEmptyDirTable.java  | 321 +++++++++++++++++++++
 .../physical/impl/join/TestMergeJoinAdvanced.java  |  25 +-
 .../physical/impl/join/TestNestedLoopJoin.java     |  42 ++-
 .../drill/exec/store/dfs/TestFileSelection.java    |  18 +-
 .../store/dfs/TestSchemaNotFoundException.java     |   4 +-
 .../exec/store/parquet/TestParquetGroupScan.java   |  64 ++--
 .../store/parquet/TestParquetMetadataCache.java    |  60 +++-
 .../org/apache/drill/test/BaseDirTestWatcher.java  |   2 +-
 .../apache/drill/test/rowSet/SchemaBuilder.java    |   9 +-
 26 files changed, 1069 insertions(+), 225 deletions(-)

commit 07dae3c34001f15b28f0332ddc1be23adb539b41
Author: reudismam <reudismam@gmail.com>
Date:   Wed Jan 24 09:36:04 2018 -0300

    DRILL-6106: Use valueOf method instead of constructor since valueOf has a higher performance by caching frequently requested values.
    
    closes #1099

 .../hbase/TestOrderedBytesConvertFunctions.java      |  2 +-
 .../src/main/codegen/templates/ObjectInspectors.java |  6 +++---
 .../apache/drill/exec/fn/hive/HiveTestUDFImpls.java  | 12 ++++++------
 .../exec/planner/sql/handlers/DefaultSqlHandler.java |  2 +-
 .../org/apache/drill/exec/ssl/SSLConfigClient.java   |  7 +++++--
 .../java/org/apache/drill/TestFunctionsQuery.java    | 20 ++++++++++----------
 .../exec/compile/TestClassCompilationTypes.java      |  4 ++--
 .../exec/physical/impl/TestStringFunctions.java      | 10 +++++-----
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java   |  2 +-
 .../jdbc/test/TestInformationSchemaColumns.java      |  2 +-
 .../src/main/codegen/templates/HolderReaderImpl.java |  4 ++--
 .../java/org/apache/drill/exec/vector/BitVector.java |  2 +-
 12 files changed, 38 insertions(+), 35 deletions(-)

commit f0d00c62b594e424ea085ebd0a5be26f0f509fda
Author: Paul Rogers <progers@maprtech.com>
Date:   Wed Jan 10 16:04:53 2018 -0800

    DRILL-6080: Sort incorrectly limits batch size to 65535 records
    
    closes #1090
    
    * Sort incorrectly limits batch size to 65535 records rather than 65536.
    * This PR also includes a few code cleanup items.
    * Fix for overflow in offset vector in row set writer
    * Performance tool update
    * Replace "unsafe" methods with "set" methods
    * Also fixes an indexing issue with nullable writers
    * Removed debug & timing code
    * Increase strictness for batch size

 .../physical/impl/sort/SortRecordBatchBuilder.java |  6 +-
 .../exec/physical/impl/xsort/MSortTemplate.java    |  9 +--
 .../exec/record/selection/SelectionVector4.java    |  4 +-
 .../physical/impl/xsort/managed/TestSortImpl.java  | 72 +++++++++---------
 .../drill/test/rowSet/test/PerformanceTool.java    | 10 +++
 .../test/rowSet/test/TestVariableWidthWriter.java  |  2 +-
 .../src/main/java/io/netty/buffer/DrillBuf.java    | 86 ----------------------
 .../main/codegen/templates/ColumnAccessors.java    | 24 +++---
 .../accessor/writer/AbstractFixedWidthWriter.java  |  2 +-
 .../accessor/writer/NullableScalarWriter.java      | 51 ++++++++++++-
 .../vector/accessor/writer/OffsetVectorWriter.java | 36 ++++++---
 11 files changed, 145 insertions(+), 157 deletions(-)

commit 039530a4195ba8fa4532b9ca92980206fa66c181
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Wed Jan 10 05:06:58 2018 -0800

    DRILL-6071: Limit batch size for flatten operator
    
    closes #1091

 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +
 .../physical/impl/flatten/FlattenRecordBatch.java  |  55 ++
 .../physical/impl/flatten/FlattenTemplate.java     | 142 +---
 .../exec/physical/impl/flatten/Flattener.java      |   1 +
 .../exec/physical/impl/spill/RecordBatchSizer.java |  50 +-
 .../exec/server/options/SystemOptionManager.java   |   3 +-
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 .../physical/unit/BasicPhysicalOpUnitTest.java     |  29 +
 .../exec/physical/unit/MiniPlanUnitTestBase.java   |   2 +-
 .../exec/physical/unit/PhysicalOpUnitTestBase.java |  45 +-
 .../exec/physical/unit/TestOutputBatchSize.java    | 882 +++++++++++++++++++++
 .../org/apache/drill/test/DrillTestWrapper.java    |  39 +-
 12 files changed, 1095 insertions(+), 157 deletions(-)

commit a9ea4ec1c5645ddab4b7aef9ac060ff5f109b696
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Wed Nov 29 12:12:53 2017 -0800

    DRILL-3640: Support JDBC Statement.setQueryTimeout(int)
    
    Allow for queries to be cancelled if they don't complete within the stipulated time.
    This is done by having Drill[Prepared]StatementImpl create a Stopwatch timer to track elapsed time.
      * DrillCursor uses this to detect timeouts.
      * DrillResultSetImpl uses this to detech timeout from the client side (e.g. a slow client, when all batches have been processed by DrillCursor)
    * Tests added to test these and other query timeout scenarios.
    * Dependent on DRILL-5973 for enabling server-triggered timeout tests
    NOTE: PreparedStatementTest.testServerTriggeredQueryTimeout is disabled
    
    closes #1024

 .../java-exec/src/main/resources/drill-module.conf |   2 +-
 .../java/org/apache/drill/jdbc/DrillStatement.java |  24 +--
 .../org/apache/drill/jdbc/SqlTimeoutException.java |  14 +-
 .../org/apache/drill/jdbc/impl/DrillCursor.java    |  61 ++++++-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |  22 +++
 .../apache/drill/jdbc/impl/DrillStatementImpl.java |  21 +--
 .../apache/drill/jdbc/PreparedStatementTest.java   | 173 ++++++++++++++++++
 .../java/org/apache/drill/jdbc/StatementTest.java  | 197 +++++++++++++++++----
 8 files changed, 436 insertions(+), 78 deletions(-)

commit f42115263cefaa8eacc117696c77725ac7f3058b
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Mon Jan 22 12:02:43 2018 -0800

    DRILL-6102: Fix ConcurrentModificationException in the BaseAllocator's print method
    
    closes #1100

 .../apache/drill/exec/memory/BaseAllocator.java    | 28 ++++++++++++----------
 1 file changed, 15 insertions(+), 13 deletions(-)

commit 186536d544d02ffc01339a4645e2a533545a2f86
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Jan 11 14:59:41 2018 -0800

    DRILL-5730: Mock testing improvements and interface improvements
    
    closes #1045

 .../apache/drill/common/config/DrillConfig.java    |  10 +-
 .../apache/drill/common/config/NestedConfig.java   |   2 -
 .../exec/store/mapr/db/MapRDBScanBatchCreator.java |  11 +-
 .../store/mapr/db/json/MaprDBJsonRecordReader.java |   4 +-
 .../drill/exec/store/hbase/HBaseRecordReader.java  |   4 +-
 .../exec/store/hbase/HBaseScanBatchCreator.java    |  10 +-
 .../main/codegen/templates/HiveRecordReaders.java  |   2 +-
 .../hive/HiveDrillNativeScanBatchCreator.java      |   7 +-
 .../exec/store/hive/HiveScanBatchCreator.java      |   6 +-
 .../drill/exec/store/hive/HiveStoragePlugin.java   |   1 +
 .../drill/exec/store/hive/HiveUtilities.java       |   6 +-
 .../apache/drill/exec/hive/TestHiveStorage.java    |   3 -
 .../drill/exec/store/jdbc/JdbcBatchCreator.java    |   7 +-
 .../drill/exec/store/jdbc/JdbcRecordReader.java    |   9 +-
 .../drill/exec/store/kafka/KafkaRecordReader.java  |  13 +-
 .../exec/store/kafka/KafkaScanBatchCreator.java    |   4 +-
 .../drill/exec/store/kudu/KuduRecordReader.java    |   4 +-
 .../exec/store/kudu/KuduScanBatchCreator.java      |   6 +-
 .../exec/store/kudu/KuduWriterBatchCreator.java    |   4 +-
 .../drill/exec/store/mongo/MongoRecordReader.java  |   5 +-
 .../exec/store/mongo/MongoScanBatchCreator.java    |   6 +-
 .../exec/store/openTSDB/OpenTSDBBatchCreator.java  |   4 +-
 .../exec/expr/fn/FunctionGenerationHelper.java     |   2 +-
 .../apache/drill/exec/ops/BaseFragmentContext.java |   6 +-
 .../apache/drill/exec/ops/BaseOperatorContext.java |  22 +-
 .../drill/exec/ops/ExchangeFragmentContext.java    |  34 ++
 .../drill/exec/ops/ExecutorFragmentContext.java    |  56 +++
 .../org/apache/drill/exec/ops/FragmentContext.java | 511 ++++-----------------
 .../apache/drill/exec/ops/FragmentContextImpl.java | 491 ++++++++++++++++++++
 .../org/apache/drill/exec/ops/OperatorContext.java |   2 +-
 .../apache/drill/exec/ops/OperatorContextImpl.java |  12 +-
 .../org/apache/drill/exec/ops/OperatorStats.java   |   3 -
 .../apache/drill/exec/ops/RootFragmentContext.java |  24 +
 .../org/apache/drill/exec/ops/UdfUtilities.java    |   2 +-
 .../drill/exec/physical/base/AbstractBase.java     |  11 -
 .../apache/drill/exec/physical/base/Exchange.java  |  18 +-
 .../drill/exec/physical/base/PhysicalOperator.java |  28 +-
 .../drill/exec/physical/impl/BaseRootExec.java     |  14 +-
 .../drill/exec/physical/impl/BatchCreator.java     |   6 +-
 .../drill/exec/physical/impl/ImplCreator.java      |  19 +-
 .../exec/physical/impl/MergingReceiverCreator.java |   4 +-
 .../drill/exec/physical/impl/RootCreator.java      |   6 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |   6 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |  14 +-
 .../exec/physical/impl/SingleSenderCreator.java    |   7 +-
 .../physical/impl/TopN/PriorityQueueTemplate.java  |   1 -
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  12 +-
 .../physical/impl/TopN/TopNSortBatchCreator.java   |  10 +-
 .../exec/physical/impl/WriterRecordBatch.java      |   4 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java |   7 +-
 .../impl/aggregate/HashAggBatchCreator.java        |   9 +-
 .../physical/impl/aggregate/HashAggTemplate.java   |   4 +-
 .../physical/impl/aggregate/HashAggregator.java    |  27 +-
 .../impl/aggregate/SpilledRecordbatch.java         |   8 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |   6 +-
 .../impl/aggregate/StreamingAggBatchCreator.java   |   9 +-
 .../impl/aggregate/StreamingAggregator.java        |   1 -
 .../broadcastsender/BroadcastSenderCreator.java    |   4 +-
 .../broadcastsender/BroadcastSenderRootExec.java   |   4 +-
 .../physical/impl/common/ChainedHashTable.java     |   3 +-
 .../drill/exec/physical/impl/common/HashTable.java |  48 +-
 .../physical/impl/common/HashTableTemplate.java    |   7 +-
 .../physical/impl/filter/FilterBatchCreator.java   |  10 +-
 .../physical/impl/filter/FilterRecordBatch.java    |  17 +-
 .../exec/physical/impl/filter/FilterSignature.java |   4 +-
 .../exec/physical/impl/filter/FilterTemplate2.java |   4 +-
 .../exec/physical/impl/filter/FilterTemplate4.java |   2 -
 .../drill/exec/physical/impl/filter/Filterer.java  |  10 +-
 .../physical/impl/flatten/FlattenBatchCreator.java |   9 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |   2 -
 .../exec/physical/impl/flatten/Flattener.java      |  20 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |   7 +-
 .../physical/impl/join/HashJoinBatchCreator.java   |   4 +-
 .../exec/physical/impl/join/HashJoinProbe.java     |  18 +-
 .../drill/exec/physical/impl/join/JoinWorker.java  |  11 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |   7 +-
 .../exec/physical/impl/join/MergeJoinCreator.java  |   7 +-
 .../impl/join/NestedLoopJoinBatchCreator.java      |   4 +-
 .../physical/impl/limit/LimitBatchCreator.java     |   4 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |  42 +-
 .../OrderedPartitionRecordBatch.java               |  16 +-
 .../OrderedPartitionSenderCreator.java             |   4 +-
 .../partitionsender/PartitionSenderCreator.java    |   4 +-
 .../partitionsender/PartitionSenderRootExec.java   |  17 +-
 .../physical/impl/partitionsender/Partitioner.java |  31 +-
 .../impl/partitionsender/PartitionerDecorator.java |   4 +-
 .../impl/partitionsender/PartitionerTemplate.java  |   3 +-
 .../impl/producer/ProducerConsumerBatch.java       |   4 +-
 .../producer/ProducerConsumerBatchCreator.java     |   4 +-
 .../impl/project/ComplexToJsonBatchCreator.java    |   7 +-
 .../physical/impl/project/ProjectBatchCreator.java |   7 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   2 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   4 +-
 .../exec/physical/impl/sort/SortBatchCreator.java  |   8 +-
 .../physical/impl/sort/SortRecordBatchBuilder.java |   5 -
 .../impl/svremover/RemovingRecordBatch.java        |   6 +-
 .../physical/impl/svremover/SVRemoverCreator.java  |  10 +-
 .../physical/impl/trace/TraceBatchCreator.java     |   8 +-
 .../physical/impl/union/UnionAllBatchCreator.java  |  10 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |   4 +-
 .../unorderedreceiver/UnorderedReceiverBatch.java  |  20 +-
 .../UnorderedReceiverCreator.java                  |   6 +-
 .../impl/validate/IteratorValidatorCreator.java    |   6 +-
 .../physical/impl/values/ValuesBatchCreator.java   |   6 +-
 .../impl/window/WindowFrameBatchCreator.java       |   5 +-
 .../impl/window/WindowFrameRecordBatch.java        |   2 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |  19 +-
 .../impl/xsort/ExternalSortBatchCreator.java       |   6 +-
 .../exec/physical/impl/xsort/MSortTemplate.java    |   2 +-
 .../physical/impl/xsort/SingleBatchSorter.java     |   4 +-
 .../impl/xsort/SingleBatchSorterTemplate.java      |   6 +-
 .../impl/xsort/managed/ExternalSortBatch.java      |   8 +-
 .../physical/impl/xsort/managed/MSortTemplate.java |  10 +-
 .../exec/physical/impl/xsort/managed/MSorter.java  |   4 +-
 .../drill/exec/record/AbstractRecordBatch.java     |   6 +-
 .../exec/record/AbstractSingleRecordBatch.java     |   2 +-
 .../org/apache/drill/exec/rpc/data/DataTunnel.java |  43 --
 .../apache/drill/exec/server/BootStrapContext.java |   8 +
 .../exec/server/options/FragmentOptionManager.java |   3 +-
 .../apache/drill/exec/store/ColumnExplorer.java    |  10 -
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   4 +-
 .../store/dfs/easy/EasyReaderBatchCreator.java     |   8 +-
 .../store/dfs/easy/EasyWriterBatchCreator.java     |   6 +-
 .../exec/store/direct/DirectBatchCreator.java      |   6 +-
 .../exec/store/easy/json/JSONRecordReader.java     |   2 +-
 .../exec/store/easy/text/TextFormatPlugin.java     |   2 +-
 .../text/compliant/CompliantTextRecordReader.java  |   3 +-
 .../exec/store/ischema/InfoSchemaBatchCreator.java |   8 +-
 .../exec/store/mock/ExtendedMockRecordReader.java  |   3 +-
 .../drill/exec/store/mock/MockRecordReader.java    |   6 +-
 .../exec/store/mock/MockScanBatchCreator.java      |   8 +-
 .../store/parquet/ParquetRGFilterEvaluator.java    |   4 +-
 .../store/parquet/ParquetScanBatchCreator.java     |   9 +-
 .../store/parquet/ParquetWriterBatchCreator.java   |   4 +-
 .../columnreaders/ParquetToDrillTypeConverter.java |   5 +-
 .../parquet/stat/ParquetFooterStatCollector.java   |   3 -
 .../store/sys/BitToUserConnectionIterator.java     |  13 +-
 .../drill/exec/store/sys/DrillbitIterator.java     |   8 +-
 .../drill/exec/store/sys/MemoryIterator.java       |  10 +-
 .../drill/exec/store/sys/ProfileInfoIterator.java  |   4 +-
 .../drill/exec/store/sys/ProfileIterator.java      |  10 +-
 .../drill/exec/store/sys/ProfileJsonIterator.java  |   4 +-
 .../apache/drill/exec/store/sys/SystemTable.java   |  30 +-
 .../exec/store/sys/SystemTableBatchCreator.java    |   6 +-
 .../drill/exec/store/sys/ThreadsIterator.java      |   8 +-
 .../drill/exec/testing/ControlsInjector.java       |  15 +-
 .../drill/exec/testing/ExecutionControls.java      |   6 +
 .../exec/testing/ExecutionControlsInjector.java    |  14 +-
 .../drill/exec/testing/NoOpControlsInjector.java   |   6 +-
 .../exec/work/batch/AbstractDataCollector.java     |   7 +-
 .../drill/exec/work/batch/BaseRawBatchBuffer.java  |  28 +-
 .../exec/work/batch/ControlMessageHandler.java     |   4 +-
 .../exec/work/batch/SpoolingRawBatchBuffer.java    |   6 +-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |   4 +-
 .../drill/exec/work/foreman/FragmentsRunner.java   |   6 +-
 .../work/fragment/AbstractFragmentManager.java     |   5 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |  25 +-
 .../exec/work/fragment/FragmentStatusReporter.java |  16 +-
 .../test/java/org/apache/drill/PlanningBase.java   |  87 ++--
 .../org/apache/drill/TestDynamicUDFSupport.java    |  27 +-
 .../test/java/org/apache/drill/exec/ExecTest.java  |  36 +-
 .../java/org/apache/drill/exec/RunRootExec.java    |   4 +-
 .../org/apache/drill/exec/client/DumpCatTest.java  |  19 +-
 .../org/apache/drill/exec/expr/ExpressionTest.java |  69 ++-
 .../exec/expr/fn/impl/TestStringFunctions.java     |   3 -
 .../drill/exec/fn/impl/TestMathFunctions.java      |  18 +-
 .../drill/exec/fn/impl/TestMultiInputAdd.java      |  60 +--
 .../drill/exec/fn/impl/TestNewMathFunctions.java   |  42 +-
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |  21 +-
 .../exec/fn/interp/ExpressionInterpreterTest.java  |   8 +-
 .../impersonation/TestInboundImpersonation.java    |   3 +-
 .../apache/drill/exec/memory/TestAllocators.java   |   8 +-
 .../drill/exec/physical/impl/SimpleRootExec.java   |  14 +-
 .../exec/physical/impl/TestCastFunctions.java      | 120 +++--
 .../physical/impl/TestComparisonFunctions.java     | 115 +++--
 .../exec/physical/impl/TestConvertFunctions.java   |  18 +-
 .../physical/impl/TestImplicitCastFunctions.java   |  38 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   | 322 -------------
 .../physical/impl/TestReverseImplicitCast.java     |   7 +-
 .../exec/physical/impl/TestSimpleFunctions.java    |  92 ++--
 .../exec/physical/impl/TestStringFunctions.java    | 111 ++---
 .../drill/exec/physical/impl/agg/TestAgg.java      |  41 +-
 .../physical/impl/filter/TestSimpleFilter.java     |  32 +-
 .../exec/physical/impl/join/TestHashJoin.java      |  47 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |  75 ++-
 .../exec/physical/impl/limit/TestSimpleLimit.java  |  38 +-
 .../impl/partitionsender/TestPartitionSender.java  |   8 +-
 .../impl/project/TestSimpleProjection.java         |  21 +-
 .../exec/physical/impl/sort/TestSimpleSort.java    |  32 +-
 .../impl/trace/TestTraceMultiRecordBatch.java      |  18 +-
 .../physical/impl/trace/TestTraceOutputDump.java   |  18 +-
 .../exec/physical/impl/union/TestSimpleUnion.java  |  18 +-
 .../physical/impl/xsort/managed/TestSortImpl.java  |   4 +-
 .../exec/physical/unit/MiniPlanUnitTestBase.java   |  21 +-
 .../exec/physical/unit/PhysicalOpUnitTestBase.java | 285 ++++++++----
 .../TestHardAffinityFragmentParallelizer.java      |  16 +-
 .../record/ExpressionTreeMaterializerTest.java     |  72 +--
 .../drill/exec/record/TestRecordIterator.java      |  22 +-
 .../drill/exec/record/TestVectorContainer.java     | 128 ++++++
 .../drill/exec/rpc/data/TestBitBitKerberos.java    | 166 ++++---
 .../org/apache/drill/exec/rpc/data/TestBitRpc.java | 129 ++++--
 .../user/security/TestCustomUserAuthenticator.java |   3 +-
 .../rpc/user/security/TestUserBitKerberos.java     |   3 +-
 .../security/TestUserBitKerberosEncryption.java    |  36 +-
 .../exec/rpc/user/security/TestUserBitSSL.java     |  11 +-
 .../rpc/user/security/TestUserBitSSLServer.java    |  22 +-
 .../security/TestUserBitSaslCompatibility.java     |  34 +-
 .../drill/exec/server/TestOptionsAuthEnabled.java  |   3 +-
 .../exec/server/rest/TestMainLoginPageModel.java   |   8 +-
 .../rest/spnego/TestDrillSpnegoAuthenticator.java  |   3 +-
 .../rest/spnego/TestSpnegoAuthentication.java      |  18 +-
 .../exec/server/rest/spnego/TestSpnegoConfig.java  |  10 +-
 .../drill/exec/store/TestAffinityCalculator.java   | 162 +------
 .../store/parquet/ParquetRecordReaderTest.java     |  21 +-
 .../store/parquet/TestParquetFilterPushDown.java   |   6 +-
 .../store/parquet/TestParquetMetadataCache.java    |  37 +-
 .../exec/testing/TestCountDownLatchInjection.java  |   3 +-
 .../drill/exec/testing/TestPauseInjection.java     |   3 +-
 .../drill/exec/util/TestQueryMemoryAlloc.java      |  51 +-
 .../work/fragment/FragmentStatusReporterTest.java  |  26 +-
 .../java/org/apache/drill/test/ClusterFixture.java |   1 -
 .../java/org/apache/drill/test/ConfigBuilder.java  |  49 +-
 .../org/apache/drill/test/OperatorFixture.java     | 281 ++++++++---
 .../drill/common/expression/LogicalExpression.java |  27 +-
 224 files changed, 2732 insertions(+), 2941 deletions(-)

commit 9926eda21c748e96d67bce341a76dac3114002af
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Sun Jan 21 16:30:25 2018 -0800

    DRILL-6100: Intermittent failure while reading Parquet file footer during planning phase
    
    close apache/drill#1097

 .../org/apache/drill/exec/store/parquet/Metadata.java | 19 +++++++++++++++++--
 1 file changed, 17 insertions(+), 2 deletions(-)

commit e791ed62b1c91c39676c4adef438c689fd84fd4b
Author: Paul Rogers <progers@maprtech.com>
Date:   Wed Dec 20 23:59:06 2017 -0800

    DRILL-6049: Misc. hygiene and code cleanup changes
    
    close apache/drill#1085

 .../drill/common/exceptions/UserException.java     |  69 +++-
 .../java/org/apache/drill/common/types/Types.java  |  68 +++-
 .../test/java/org/apache/drill/test/DrillTest.java |   5 +-
 .../store/mapr/db/json/MaprDBJsonRecordReader.java |   4 +-
 .../drill/exec/store/kafka/KafkaRecordReader.java  |   2 +-
 .../drill/exec/store/mongo/MongoRecordReader.java  |   3 +-
 .../src/main/codegen/templates/CastDateDate.java   |   1 -
 .../codegen/templates/CastIntervalInterval.java    |   2 -
 .../codegen/templates/CastIntervalVarChar.java     |  35 +-
 .../main/codegen/templates/CastVarCharDate.java    |   7 +-
 .../codegen/templates/CastVarCharInterval.java     |  17 +-
 .../templates/DateIntervalAggrFunctions1.java      |  24 +-
 .../DateDateArithmeticFunctions.java               |   6 +-
 .../DateIntervalArithmeticFunctions.java           |   4 +-
 .../DateTruncFunctions.java                        |  24 +-
 .../DateIntervalFunctionTemplates/Extract.java     |  28 +-
 .../IntervalIntervalArithmetic.java                |   1 -
 .../IntervalNumericArithmetic.java                 |   5 +-
 .../codegen/templates/IntervalAggrFunctions2.java  |  18 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |  11 +-
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java | 112 ++++---
 .../drill/exec/expr/fn/impl/MappifyUtility.java    |   7 +-
 .../apache/drill/exec/ops/BaseOperatorContext.java |   2 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  10 +-
 .../drill/exec/ops/FragmentContextInterface.java   |  16 +-
 .../org/apache/drill/exec/ops/OperatorContext.java |  12 +-
 .../apache/drill/exec/ops/OperatorContextImpl.java |   5 -
 .../org/apache/drill/exec/ops/OperatorStats.java   |  64 +++-
 .../apache/drill/exec/physical/base/GroupScan.java |   2 +-
 .../drill/exec/physical/impl/ImplCreator.java      |   2 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  12 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |   2 +-
 .../physical/impl/project/ProjectRecordBatch.java  |  12 +-
 .../validate/IteratorValidatorBatchIterator.java   |   8 +-
 .../impl/validate/IteratorValidatorCreator.java    |   2 +-
 .../impl/xsort/managed/ExternalSortBatch.java      |  27 +-
 .../impl/xsort/managed/MergeSortWrapper.java       |   2 +-
 .../xsort/managed/PriorityQueueCopierWrapper.java  |   2 +-
 .../exec/physical/impl/xsort/managed/SortImpl.java |  13 +-
 .../physical/impl/xsort/managed/SortMetrics.java   |   6 +-
 .../physical/impl/xsort/managed/SorterWrapper.java |   2 +-
 .../drill/exec/planner/StarColumnHelper.java       |  12 +-
 .../exec/planner/logical/DrillConstExecutor.java   |   4 +-
 .../exec/planner/logical/PreProcessLogicalRel.java |   4 +-
 .../visitor/SplitUpComplexExpressions.java         |   4 +-
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  |   6 +-
 .../exec/record/ExpandableHyperContainer.java      |  18 +-
 .../drill/exec/record/RecordBatchLoader.java       |  17 +-
 .../org/apache/drill/exec/record/SchemaUtil.java   |  20 +-
 .../apache/drill/exec/record/VectorContainer.java  |  44 ++-
 .../apache/drill/exec/record/WritableBatch.java    |   3 +-
 .../exec/record/selection/SelectionVector2.java    |  10 +-
 .../exec/record/selection/SelectionVector4.java    |  26 +-
 .../apache/drill/exec/store/ColumnExplorer.java    |  33 +-
 .../drill/exec/store/ResourceInputStream.java      |   1 -
 .../exec/store/dfs/DrillFSDataInputStream.java     |  14 +-
 .../drill/exec/store/dfs/DrillFileSystem.java      |   6 +-
 .../apache/drill/exec/store/dfs/easy/FileWork.java |  11 +-
 .../store/easy/text/compliant/HeaderBuilder.java   |  27 +-
 .../exec/store/easy/text/compliant/TextReader.java |   7 +-
 .../apache/drill/exec/store/parquet/Metadata.java  |   3 +-
 .../store/parquet/columnreaders/ParquetSchema.java |   3 +-
 .../java/org/apache/drill/exec/util/Utilities.java |   3 +-
 .../exec/vector/accessor/sql/TimePrintMillis.java  |   6 +-
 .../drill/exec/vector/complex/fn/VectorOutput.java |  16 +-
 .../java/org/apache/drill/TestStarQueries.java     |  16 +-
 .../drill/exec/DrillSeparatePlanningTest.java      | 305 ++++++------------
 .../test/java/org/apache/drill/exec/ExecTest.java  |   6 +
 .../drill/exec/compile/TestEvaluationVisitor.java  |   2 +-
 .../exec/fn/interp/ExpressionInterpreterTest.java  |   4 +-
 .../exec/physical/impl/TopN/TopNBatchTest.java     |   2 +-
 .../exec/physical/impl/agg/TestHashAggrSpill.java  |   3 +-
 .../exec/physical/impl/window/TestWindowFrame.java |   1 -
 .../exec/physical/impl/xsort/TestExternalSort.java |  43 ++-
 .../impl/xsort/TestSimpleExternalSort.java         |   1 +
 .../impl/xsort/managed/SortTestUtilities.java      |  46 +--
 .../physical/impl/xsort/managed/TestCopier.java    |  10 +-
 .../xsort/managed/TestExternalSortInternals.java   |  40 +--
 .../physical/impl/xsort/managed/TestSortImpl.java  |  17 +-
 .../physical/impl/xsort/managed/TestSorter.java    | 105 ++++--
 .../exec/physical/unit/PhysicalOpUnitTestBase.java |   3 +-
 .../exec/store/easy/text/compliant/TestCsv.java    |   6 -
 .../easy/text/compliant/TestHeaderBuilder.java     |   6 +-
 .../java/org/apache/drill/test/BaseTestQuery.java  |   5 -
 .../java/org/apache/drill/test/ClientFixture.java  |  27 ++
 .../java/org/apache/drill/test/ClusterFixture.java |  17 +
 .../java/org/apache/drill/test/ClusterTest.java    |  35 ++
 .../org/apache/drill/test/DrillTestWrapper.java    |   2 +-
 .../org/apache/drill/test/OperatorFixture.java     | 111 +++----
 .../java/org/apache/drill/test/QueryBuilder.java   |  47 ++-
 .../java/org/apache/drill/test/QueryResultSet.java | 110 +++++++
 .../apache/drill/test/rowSet/HyperRowSetImpl.java  |  10 +
 .../drill/test/rowSet/test/PerformanceTool.java    |  18 --
 .../main/codegen/templates/FixedValueVectors.java  | 181 ++++-------
 .../src/main/codegen/templates/ListWriters.java    |  56 ++--
 .../codegen/templates/NullableValueVectors.java    |  34 +-
 .../main/codegen/templates/UnionListWriter.java    |  23 +-
 .../src/main/codegen/templates/UnionVector.java    | 355 +++++++++++++++------
 .../src/main/codegen/templates/UnionWriter.java    |  12 +-
 .../codegen/templates/VariableLengthVectors.java   |  10 +-
 .../drill/exec/expr/fn/impl/DateUtility.java       | 108 +++----
 .../drill/exec/record/MaterializedField.java       | 147 +++++++--
 .../drill/exec/vector/BaseDataValueVector.java     |   3 +
 .../apache/drill/exec/vector/BaseValueVector.java  |  10 +-
 .../apache/drill/exec/vector/DateUtilities.java    | 191 +++++++++++
 .../apache/drill/exec/vector/NullableVector.java   |   8 +-
 .../org/apache/drill/exec/vector/ValueVector.java  |   7 +-
 .../drill/exec/vector/VariableWidthVector.java     |  24 +-
 .../exec/vector/complex/AbstractMapVector.java     |  33 +-
 .../vector/complex/BaseRepeatedValueVector.java    |   1 -
 .../drill/exec/vector/complex/MapVector.java       |  42 +--
 .../exec/vector/complex/RepeatedMapVector.java     |  21 +-
 .../exec/vector/complex/RepeatedValueVector.java   |   3 +-
 .../drill/exec/vector/complex/StateTool.java       |   8 +-
 .../exec/vector/complex/impl/PromotableWriter.java |   2 +
 .../common/expression/LogicalExpressionBase.java   |  11 +-
 .../drill/common/expression/PathSegment.java       |  27 +-
 .../apache/drill/common/expression/SchemaPath.java |  99 +++++-
 .../common/logical/FormatPluginConfigBase.java     |   6 +-
 pom.xml                                            |   2 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 295 ++++++++++-------
 .../drill/exec/proto/beans/DrillPBError.java       |   8 +-
 protocol/src/main/protobuf/GeneralRPC.proto        |   6 +-
 protocol/src/main/protobuf/UserBitShared.proto     |  16 +-
 124 files changed, 2322 insertions(+), 1377 deletions(-)

commit d803f0c2188c679de3dacf10741005b217425a33
Author: Vlad Rozov <vrozov@apache.org>
Date:   Wed Nov 22 14:06:13 2017 -0800

    DRILL-6002: Avoid memory copy from direct buffer to heap while spilling to local disk
    
    close apache/drill#1058

 .../apache/drill/exec/cache/VectorSerializer.java  | 107 +++++++++++++++------
 .../physical/impl/aggregate/HashAggTemplate.java   |  38 ++++----
 .../drill/exec/physical/impl/spill/SpillSet.java   |  99 +++++++++++++++----
 .../physical/impl/xsort/managed/BatchGroup.java    |  28 ++----
 .../physical/impl/xsort/managed/SpilledRuns.java   |   2 +-
 .../drill/exec/cache/TestBatchSerialization.java   |  34 +++++--
 6 files changed, 210 insertions(+), 98 deletions(-)

commit 2420b35d716a35a10be91ea82ec17bdeb392a77c
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Wed Dec 13 14:24:45 2017 -0800

    DRILL-5879: Improved SQL Pattern Contains Performance
    
    close apache/drill#1072

 .../expr/fn/impl/SqlPatternContainsMatcher.java    | 274 ++++++++++++++++++++-
 .../drill/exec/expr/fn/impl/TestSqlPatterns.java   | 112 ++++++++-
 2 files changed, 363 insertions(+), 23 deletions(-)

commit 48623eac53ecf92754bb150094086dac46625b6a
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Fri Dec 22 11:50:56 2017 -0800

    DRILL-6079 : Fixed memory leak in Parquet Reader
    
    close apache/drill#1087

 .../parquet/columnreaders/AsyncPageReader.java     | 52 +++++++++++++---------
 1 file changed, 30 insertions(+), 22 deletions(-)

commit 4c8a55b825b91ca26073f9ba059e18cdaa08670d
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Mon Jan 22 12:01:32 2018 -0800

    DRILL-5868: Support SQL syntax highlighting of queries
    
    Based on the commit for DRILL-5981 (PR #1043), this commit further leverages the Ace JavaScript library with customizations specific to Drill.
    
    This commit introduces the following to the Query Editor (including the Edit Query tab within an existing profile to rerunning the query).
    1. Syntax highlighting (This is supported for submitted query profiles
    2. Autocomplete supported in editors
    3. Specifying Drill specific keywords and functions in visible autocomplete
    4. Key snippets (template SQLs) allowing for rapid writing of syntax:
      i. Query System Tables
      ii. CView, CTAS and CTempTAS
      iii. Alter Session
      iv. Explain and Select * queries
    
    NOTE: The lists for #3 and #4 are not exhaustive. As more features are added to Drill, these lists can be expanded.
    Updates based on review comments
    
    1. Disabled warning message
    2. Extended reserved keyword list
    3. Fixed bugs
    List:
    Update 1: Bug fix for when Impersonation is enabled
    Update 2: Remove the duplicate editor that might get injected
    Update 3: Removed trailing whitespaces in Javascripts
    
    close apache/drill#1084

 .../src/main/resources/rest/profile/profile.ftl    |  83 ++++++++-
 .../src/main/resources/rest/query/query.ftl        |  43 ++++-
 .../rest/static/js/ace-code-editor/ace.js          |   3 +-
 .../js/ace-code-editor/ext-language_tools.js       |   4 +
 .../static/js/ace-code-editor/mode-snippets.js     | 199 +++++++++++++++++++++
 .../rest/static/js/ace-code-editor/mode-sql.js     | 135 +++++++++++++-
 .../rest/static/js/ace-code-editor/snippets/sql.js |  48 +++++
 .../static/js/ace-code-editor/theme-sqlserver.js   | 138 ++++++++++++++
 .../src/main/resources/rest/storage/update.ftl     |   6 +-
 9 files changed, 649 insertions(+), 10 deletions(-)

commit a2058fd16b555cebd0a539d5c9b993e0d628eced
Author: Gautam Parai <gparai@maprtech.com>
Date:   Tue Jan 16 15:16:16 2018 -0800

    DRILL-6093 : Account for simple columns in project cpu costing
    
    close apache/drill#1093

 .../apache/drill/exec/planner/common/DrillProjectRelBase.java | 10 ++++++----
 .../src/test/java/org/apache/drill/TestProjectPushDown.java   | 11 +++++++++++
 2 files changed, 17 insertions(+), 4 deletions(-)

commit 7d1e81a5ac0d8ca0b6519dd2c90bf3804c3221b1
Author: Hanumath Maduri <hmaduri@laptop-npjh4dhd.corp.maprtech.com>
Date:   Mon Oct 9 13:08:13 2017 -0700

    DRILL-5851: Empty table during a join operation with a non empty table produces cast exception.
    
    close apache/drill#1059

 .../exec/physical/impl/join/HashJoinBatch.java     | 21 ++++++-
 .../physical/impl/join/HashJoinProbeTemplate.java  |  6 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  3 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |  1 +
 .../validate/IteratorValidatorBatchIterator.java   |  1 +
 .../exec/record/AbstractBinaryRecordBatch.java     | 11 +++-
 .../exec/physical/impl/join/JoinTestBase.java      | 63 +++++++++++++++++++++
 .../physical/impl/join/TestHashJoinAdvanced.java   | 23 +++++++-
 .../physical/impl/join/TestMergeJoinAdvanced.java  | 25 +++++++--
 .../physical/impl/join/TestNestedLoopJoin.java     | 64 ++++++++++++++++------
 10 files changed, 185 insertions(+), 33 deletions(-)

commit a2a56af3e3f2a3c92bbfafeeb7a1f285a64e4a73
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Sun Jan 14 22:25:51 2018 -0800

    DRILL-6088: MainLoginPageModel errors out when http.auth.mechanisms is not configured
    
    DRILL-6088: Update based on review feedback
    
    close apache/drill#1092

 .../src/resources/drill-override-example.conf      |  11 +-
 .../exec/server/rest/LogInLogOutResources.java     |  26 ++--
 .../auth/DrillHttpSecurityHandlerProvider.java     |  89 ++++++++------
 .../exec/server/rest/TestMainLoginPageModel.java   | 133 +++++++++++++++++++++
 4 files changed, 211 insertions(+), 48 deletions(-)

commit dbaf048c7443e453a78cdb5a976ed19ebb9ed2c7
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue Jan 16 12:11:25 2018 -0800

    DRILL-6085: Fixed spontaneous vm exits on Travis.
    
    close apache/drill#1095

 .travis.yml | 1 +
 1 file changed, 1 insertion(+)

commit 3ff958cbcac644685f0c6e984eb4764c55e226f3
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Jan 11 17:40:04 2018 +0200

    DRILL-6081: Set query end time before writing final profile
    
    close apache/drill#1088

 .../src/main/java/org/apache/drill/exec/work/foreman/Foreman.java    | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 81f926b5ea5c8537c7c65db397efc0fdf0a1d589
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Dec 14 10:48:27 2017 -0800

    DRILL-5967: Fixed memory leak in OrderedPartitionSender
    
    closes apache/drill#1073

 .../OrderedPartitionSenderCreator.java             | 35 ++++++++++++++++++----
 .../partitionsender/PartitionSenderRootExec.java   | 14 +++++++++
 2 files changed, 44 insertions(+), 5 deletions(-)

commit 9e944c97ee6f6c0d1705f09d531af35deed2e310
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Jan 17 21:50:34 2018 +0200

    DRILL-3993: Fix typo in DrillRelBuilder Javadoc

 .../src/main/java/org/apache/drill/exec/planner/DrillRelBuilder.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit de3889ac1e6c1808b1f24b32039dd3c2fff658d7
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Tue Jan 16 15:38:17 2018 +0200

    DRILL-3993: Changes after review:
    
    Moved checks for OOM into spillIfNeeded method to avoid excessive call of chooseAPartitionToFlush method.
    Ignored unit tests until DRILL-6018 is fixed.
    These failures appears because new Calcite tries to simplify expressions from the query when applying ReduceExpressionsRule and fails with NFE.
    Similar problem, but with old version of Calcite was described in DRILL-6018, therefore these unit tests are marked as ignored until DRILL-6018 is fixed.

 .../physical/impl/aggregate/HashAggTemplate.java   | 52 +++++++++++-----------
 .../exec/fn/impl/TestMathFunctionsWithNanInf.java  |  3 ++
 .../exec/vector/complex/writer/TestJsonNanInf.java |  3 ++
 3 files changed, 32 insertions(+), 26 deletions(-)

commit 18a71a38f6bd1fd33d21d1c68fc23c5901b0080a
Author: chunhui-shi <cshi@maprtech.com>
Date:   Fri Nov 3 02:06:25 2017 +0200

    DRILL-5089: Dynamically load schema of storage plugin only when needed for every query
    
    For each query, loading all storage plugins and loading all workspaces under file system plugins is not needed.
    
    This patch use DynamicRootSchema as the root schema for Drill. Which loads correspondent storage only when needed.
    
    infoschema to read full schema information and load second level schema accordingly.
    
    for workspaces under the same Filesyetm, no need to create FileSystem for each workspace.
    
    use fs.access API to check permission which is available after HDFS 2.6 except for windows + local file system case.
    
    Add unit tests to test with a broken mock storage: with a storage that will throw Exception in regiterSchema method,
    all queries even on good storages shall fail without this fix(Drill still load all schemas from all storages).
    
    (cherry picked from commit a66d1d7)

 .../org/apache/calcite/jdbc/DynamicRootSchema.java | 129 +++++++++++++++++++++
 .../org/apache/calcite/jdbc/DynamicSchema.java     |  57 +++++++++
 .../org/apache/drill/exec/ops/FragmentContext.java |   9 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |  11 +-
 .../drill/exec/planner/sql/SqlConverter.java       |  10 +-
 .../drill/exec/store/SchemaTreeProvider.java       |  31 ++++-
 .../exec/store/StoragePluginRegistryImpl.java      |   2 +
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  23 +++-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  87 +++++++++-----
 .../exec/store/ischema/InfoSchemaBatchCreator.java |   2 +-
 .../drill/exec/store/mock/MockBreakageStorage.java |  47 ++++++++
 .../drill/exec/store/mock/MockStorageEngine.java   |   7 +-
 .../drill/exec/work/metadata/MetadataProvider.java |   2 +-
 .../drill/exec/physical/impl/TestSchema.java       |  87 ++++++++++++++
 .../apache/drill/test/ClusterFixtureBuilder.java   |   4 +
 .../drill/test/ClusterMockStorageFixture.java      |  51 ++++++++
 16 files changed, 512 insertions(+), 47 deletions(-)

commit 3f0e517fb62a1ebad92fb473e787d343152920d6
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Tue Jan 9 12:44:12 2018 +0200

    DRILL-3993: Resolve conflicts

 .../java/org/apache/drill/exec/planner/physical/SubsetTransformer.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 90b5e6392d09db44ddef058b8c8caf88f52e23a2
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Jan 5 15:35:45 2018 +0200

    DRILL-3993: Add unit tests for DRILL-4469 & DRILL-5768

 .../org/apache/drill/exec/TestWindowFunctions.java | 22 ++++++++++++++++++++--
 .../drill/exec/fn/impl/TestAggregateFunctions.java | 15 +++++++++++++++
 2 files changed, 35 insertions(+), 2 deletions(-)

commit d06a7cbbd7e5046e5017ffeb010b8b3c74123184
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Dec 29 17:36:08 2017 +0200

    DRILL-3993: Add check for OOM in HashAgg

 .../exec/physical/impl/aggregate/HashAggTemplate.java     | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 3c9093e32a095bd40832bcd8fe67ab20898537c4
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Jan 4 16:05:53 2018 +0200

    DRILL-3993: Fix aggregate exchange rules for the cases when aggregate rel node contains several calls

 .../drill/exec/planner/physical/AggPrelBase.java   | 24 +++++++++++---------
 .../drill/exec/planner/physical/AggPruleBase.java  | 26 +++++++++++++++++-----
 .../drill/exec/planner/physical/HashAggPrule.java  | 22 ++++++++++++------
 .../exec/planner/physical/StreamAggPrule.java      | 25 ++++++++++++++++-----
 4 files changed, 69 insertions(+), 28 deletions(-)

commit 22d0f7e57b84fcb034624579f68b638ffdad6b7e
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Tue Dec 26 15:03:59 2017 +0200

    DRILL-3993: Changes for CALCITE-2018

 .../planner/cost/DrillRelMdDistinctRowCount.java   | 31 +++++++++++++++-------
 .../exec/planner/cost/DrillRelMdRowCount.java      |  2 +-
 .../drill/exec/planner/sql/SqlConverter.java       | 12 +++++++--
 3 files changed, 33 insertions(+), 12 deletions(-)

commit 6580674134339fb31cd42f8003e2494f04cac205
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Tue Dec 26 14:03:54 2017 +0200

    DRILL-3993: Changes for CALCITE-2092

 .../main/java/org/apache/drill/exec/planner/sql/SqlConverter.java  | 7 +++++++
 1 file changed, 7 insertions(+)

commit 663518e8ae1a05e29895a3994213a1e9819c955b
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Dec 21 15:01:50 2017 +0200

    DRILL-3993: Changes after code review.

 .../org/apache/drill/exec/store/hbase/HBaseSchemaFactory.java     | 8 ++++----
 .../src/main/java/org/apache/drill/exec/store/jdbc/JdbcPrel.java  | 2 +-
 .../drill/exec/store/openTSDB/schema/OpenTSDBSchemaFactory.java   | 8 ++++----
 .../main/java/org/apache/drill/exec/planner/sql/SqlConverter.java | 8 +-------
 exec/jdbc-all/pom.xml                                             | 2 +-
 5 files changed, 11 insertions(+), 17 deletions(-)

commit 688e043b4546884d82422b266b419817d645acfc
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Dec 13 14:53:47 2017 +0200

    DRILL-3993: Move Drill-specific commits 'CALCITE-628' and 'Drill-specific change: Add back AbstractConverter in RelSet.java' from Calcite into DRILL

 .../drill/exec/store/jdbc/DrillJdbcRuleBase.java   |  4 +--
 .../drill/exec/store/jdbc/JdbcStoragePlugin.java   |  2 +-
 .../exec/planner/logical/DrillAggregateRule.java   |  2 +-
 .../exec/planner/logical/DrillFilterRule.java      |  2 +-
 .../drill/exec/planner/logical/DrillJoinRule.java  |  4 +--
 .../drill/exec/planner/logical/DrillLimitRule.java |  2 +-
 .../exec/planner/logical/DrillProjectRule.java     |  2 +-
 .../drill/exec/planner/logical/DrillSortRule.java  |  2 +-
 .../exec/planner/logical/DrillUnionAllRule.java    |  2 +-
 .../exec/planner/logical/DrillWindowRule.java      |  2 +-
 .../apache/drill/exec/planner/physical/Prel.java   | 29 ++++++++++++++--------
 .../apache/drill/exec/planner/physical/Prule.java  |  2 +-
 .../exec/planner/physical/SortConvertPrule.java    |  8 +++---
 .../exec/planner/physical/SubsetTransformer.java   |  2 +-
 14 files changed, 37 insertions(+), 28 deletions(-)

commit d59f0cda481d98a15d11ecbfb1463db53c954dfb
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Dec 8 15:05:03 2017 +0200

    DRILL-3993: Changes to support Calcite 1.15.
    
    Fix AssertionError: type mismatch for tests with aggregate functions.
    Fix VARIANCE agg function
    Remove using deprecated Subtype enum
    Fix 'Failure while loading table a in database hbase' error
    Fix 'Field ordinal 1 is invalid for  type '(DrillRecordRow[*])'' unit test failures

 .../drill/exec/store/hbase/HBaseSchemaFactory.java | 11 ++-
 .../exec/store/hive/schema/HiveDatabaseSchema.java | 23 ++++--
 .../openTSDB/schema/OpenTSDBSchemaFactory.java     |  9 +++
 .../src/main/codegen/includes/parserImpls.ftl      | 12 ++--
 .../planner/logical/DrillReduceAggregatesRule.java | 83 +++++++++++++---------
 .../drill/exec/planner/logical/DrillTable.java     | 15 +++-
 .../planner/logical/DrillTranslatableTable.java    | 17 ++++-
 .../drill/exec/planner/logical/DrillViewTable.java | 13 ++++
 .../drill/exec/planner/physical/AggPruleBase.java  | 10 ++-
 .../planner/sql/DrillAvgVarianceConvertlet.java    |  6 +-
 .../exec/planner/sql/DrillConvertletTable.java     | 16 +++--
 .../drill/exec/planner/sql/SqlConverter.java       | 19 ++++-
 .../drill/exec/planner/sql/TypeInferenceUtils.java | 35 +++++----
 .../apache/drill/exec/store/AbstractSchema.java    |  8 +--
 .../drill/exec/store/mock/MockStorageEngine.java   | 16 +++--
 .../test/java/org/apache/drill/TestBugFixes.java   |  2 +-
 .../org/apache/drill/exec/TestWindowFunctions.java |  4 +-
 pom.xml                                            |  2 +-
 18 files changed, 207 insertions(+), 94 deletions(-)

commit 9274cb9204c6ebf5bd2d13fe4d02af5cebb48fa5
Author: Roman Kulyk <rom.kulyk@gmail.com>
Date:   Thu Nov 2 18:22:36 2017 +0000

    DRILL-3993: Fix failed tests after Calcite update
    
    - fix temporary table errors according to updated logic;
    - fixed errors when we trying to make select from hbase table with schema name in query (example: "SELECT row_key FROM hbase.TestTableNullStr) from hbase schema (did "USE hbase" before). Added test for it;
    - added fix for views which were created on Calcite 1.4 and test for it.

 .../org/apache/drill/hbase/TestHBaseQueries.java   |  7 ++
 .../java/org/apache/drill/exec/dotdrill/View.java  |  7 +-
 .../drill/exec/planner/sql/SqlConverter.java       | 99 ++++++++++++++++------
 .../apache/drill/exec/rpc/user/UserSession.java    |  9 ++
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  | 15 ++++
 .../org/apache/drill/exec/sql/TestViewSupport.java | 10 +++
 .../view/view_from_calcite_1_4.view.drill          | 10 +++
 7 files changed, 127 insertions(+), 30 deletions(-)

commit 0a525aab638016a74cae11f8b2430b5a96ffc4af
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Nov 15 12:37:50 2017 +0200

    DRILL-3993: Use custom RelBuilder implementation in rules
    
    After the changes, made in CALCITE-1056 if the filter has a predicate that is always false, RelBuilder.filter() method returns values rel node instead of filter rel node. In order to preserve column types, DrillRelBuilder.empty() method, which is returned by filter method  was overridden, and now it returns filter with a false predicate. (advice to override this method was in its javadoc) The goal of all other changes in this commit is to use our custom RelBuilder for all rules that are used in Drill.

 .../drill/exec/store/jdbc/DrillJdbcRuleBase.java   |  10 +-
 .../drill/exec/store/jdbc/JdbcStoragePlugin.java   |  18 ++--
 .../apache/drill/exec/planner/DrillRelBuilder.java |  69 ++++++++++++++
 .../apache/drill/exec/planner/PlannerPhase.java    |  64 ++++++-------
 .../apache/drill/exec/planner/RuleInstance.java    | 105 +++++++++++++++++++++
 .../drill/exec/planner/StarColumnHelper.java       |   5 +-
 .../drill/exec/planner/common/DrillRelOptUtil.java |   7 +-
 .../exec/planner/logical/DrillAggregateRule.java   |   6 +-
 .../exec/planner/logical/DrillConstExecutor.java   |   7 +-
 .../logical/DrillFilterAggregateTransposeRule.java |  14 +--
 .../exec/planner/logical/DrillFilterJoinRules.java |  52 +++++-----
 .../exec/planner/logical/DrillFilterRule.java      |  16 ++--
 .../drill/exec/planner/logical/DrillJoinRule.java  |   5 +-
 .../drill/exec/planner/logical/DrillLimitRule.java |   9 +-
 .../planner/logical/DrillMergeProjectRule.java     |  13 ++-
 .../exec/planner/logical/DrillProjectRule.java     |  11 ++-
 .../logical/DrillProjectSetOpTransposeRule.java    |   3 +-
 .../logical/DrillPushFilterPastProjectRule.java    |  14 ++-
 .../planner/logical/DrillPushLimitToScanRule.java  |  22 ++---
 .../planner/logical/DrillPushProjIntoScan.java     |  15 ++-
 .../logical/DrillPushProjectPastFilterRule.java    |   5 +-
 .../logical/DrillPushProjectPastJoinRule.java      |   3 +-
 .../planner/logical/DrillReduceAggregatesRule.java |  10 +-
 .../logical/DrillReduceExpressionsRule.java        |   7 +-
 .../exec/planner/logical/DrillRelFactories.java    |  38 +++++++-
 .../drill/exec/planner/logical/DrillScanRule.java  |   7 +-
 .../drill/exec/planner/logical/DrillSortRule.java  |   5 +-
 .../exec/planner/logical/DrillUnionAllRule.java    |   3 +-
 .../exec/planner/logical/DrillValuesRule.java      |   7 +-
 .../exec/planner/logical/DrillWindowRule.java      |   5 +-
 .../apache/drill/exec/planner/physical/Prule.java  |  15 ++-
 .../drill/exec/planner/physical/ValuesPrule.java   |  10 +-
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  |   4 +-
 .../exec/store/StoragePluginOptimizerRule.java     |   5 +-
 .../writer/TestCorruptParquetDateCorrection.java   |  70 ++++----------
 .../test/resources/record/test_recorditerator.json |   2 +-
 36 files changed, 422 insertions(+), 239 deletions(-)

commit 3896a58243f310c5d9466a98edc205b61f9dd2e7
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Nov 3 12:18:09 2017 +0000

    DRILL-3993: Fix unit test failures connected with support Calcite 1.13
    
    - Use root schema as default for describe table statement.
    Fix TestOpenTSDBPlugin.testDescribe() and TestInfoSchemaOnHiveStorage.varCharMaxLengthAndDecimalPrecisionInInfoSchema() unit tests.
    - Modify expected results for tests:
    TestPreparedStatementProvider.invalidQueryValidationError();
    TestProjectPushDown.testTPCH1();
    TestProjectPushDown.testTPCH3();
    TestStorageBasedHiveAuthorization.selectUser1_db_u0_only();
    TestStorageBasedHiveAuthorization.selectUser0_db_u1g1_only()
    - Fix TestCTAS.whenTableQueryColumnHasStarAndTableFiledListIsSpecified(), TestViewSupport.createViewWhenViewQueryColumnHasStarAndViewFiledListIsSpecified(), TestInbuiltHiveUDFs.testIf(), testDisableUtf8SupportInQueryString unit tests.
    - Fix UnsupportedOperationException and NPE for jdbc tests.
    - Fix AssertionError: Conversion to relational algebra failed to preserve datatypes
    
    *DrillCompoundIdentifier:
    According to the changes, made in [CALCITE-546], star Identifier is replaced by empty string during parsing the query. Since Drill uses its own DrillCompoundIdentifier, it should also replace star by empty string before creating SqlIdentifier instance to avoid further errors connected with star column. see SqlIdentifier.isStar() method.
    
    *SqlConverter:
    In [CALCITE-1417] added simplification of expressions which should be projected every time when a new project rel node is created using RelBuilder. It causes assertion errors connected with types nullability. This hook was set to false to avoid project expressions simplification. See usage of this hook and RelBuilder.project() method.
    
    In Drill the type nullability of the function depends on only the nullability of its arguments. In some cases, a function may return null value even if it had non-nullable arguments. When Calice simplifies expressions, it checks that the type of the result is the same as the type of the expression. Otherwise, makeCast() method is called. But when a function returns null literal, this cast does nothing, even when the function has a non-nullable type. So to avoid this issue, method makeCast() was overridden.
    
    *DrillAvgVarianceConvertlet:
    Problem with sum0 and specific changes in old Calcite (it is CALCITE-777). (see HistogramShuttle.visitCall method) Changes were made to avoid changes in Calcite.
    
    *SqlConverter, DescribeTableHandler, ShowTablesHandler:
    New Calcite tries to combine both default and specified workspaces during the query validation. In some cases, for example, when describe table statement is used, Calcite tries to find INFORMATION_SCHEMA in the schema used as default. When it does not find the schema, it tries to find a table with such name. For some storage plugins, such as opentsdb and hbase, when a table was not found, the error is thrown, and the query fails. To avoid this issue, default schema was changed to root schema for validation stage for describe table and show tables queries.

 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    |  2 +-
 .../hive/TestStorageBasedHiveAuthorization.java    |  6 +-
 .../planner/sql/DrillAvgVarianceConvertlet.java    |  8 +--
 .../sql/DrillCalciteSqlAggFunctionWrapper.java     |  6 ++
 .../drill/exec/planner/sql/SqlConverter.java       | 53 +++++++++++++++-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  4 +-
 .../planner/sql/handlers/DescribeTableHandler.java | 16 ++++-
 .../planner/sql/handlers/ShowTablesHandler.java    | 15 +++++
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  |  4 +-
 .../sql/parser/DrillCompoundIdentifier.java        | 72 +++++++++++-----------
 .../store/ischema/InfoSchemaRecordGenerator.java   |  3 +-
 .../java/org/apache/drill/TestProjectPushDown.java |  4 +-
 .../apache/drill/TestUtf8SupportInQueryString.java | 24 +++-----
 .../prepare/TestPreparedStatementProvider.java     |  5 +-
 .../org/apache/drill/jdbc/impl/DrillMetaImpl.java  | 14 +++--
 .../jdbc/impl/DrillPreparedStatementImpl.java      |  8 ++-
 ...rill2489CallsAfterCloseThrowExceptionsTest.java | 45 +++++---------
 ...l2769UnsupportedReportsUseSqlExceptionTest.java | 15 ++---
 18 files changed, 189 insertions(+), 115 deletions(-)

commit 9fabb612f16f6f541b3bde68ad7d734cad26df33
Author: Roman Kulyk <rom.kulyk@gmail.com>
Date:   Tue Aug 29 14:10:24 2017 +0000

    DRILL-3993: Changes to support Calcite 1.13
    
    - fixed all compiling errors (main changes were: Maven changes, chenges RelNode -> RelRoot, implementing some new methods from updated interfaces, chenges some literals, logger changes);
    - fixed unexpected column errors, validation errors and assertion errors after Calcite update;
    - fixed describe table/schema statement according to updated logic;
    - added fixes with time-intervals;
    - changed precision of BINARY to 65536 (was 1048576) according to updated logic (Calcite overrides bigger precision to own maxPrecision);
    - ignored some incorrect tests with DRILL-3244;
    - changed "Table not found" message to "Object not found within" according to new Calcite changes.

 contrib/storage-hive/hive-exec-shade/pom.xml       |   6 +-
 .../drill/exec/store/jdbc/JdbcExpressionCheck.java |  20 +++-
 .../org/apache/drill/exec/store/jdbc/JdbcPrel.java |   2 +-
 exec/java-exec/pom.xml                             |   4 +
 exec/java-exec/src/main/codegen/data/Parser.tdd    |  23 ++++-
 .../src/main/codegen/includes/parserImpls.ftl      |  25 ++++-
 .../java/org/apache/drill/exec/dotdrill/View.java  |  15 ++-
 .../planner/FileSystemPartitionDescriptor.java     |   6 +-
 .../exec/planner/common/DrillStoreRelBase.java     |   9 +-
 .../exec/planner/common/DrillValuesRelBase.java    |  13 ++-
 .../exec/planner/logical/DrillAggregateRule.java   |  10 +-
 .../exec/planner/logical/DrillConditions.java      |   8 +-
 .../exec/planner/logical/DrillConstExecutor.java   |  14 ++-
 .../drill/exec/planner/logical/DrillJoinRule.java  |  12 +--
 .../drill/exec/planner/logical/DrillOptiq.java     |  32 ++++++-
 .../logical/DrillProjectSetOpTransposeRule.java    |   5 +-
 .../logical/DrillPushProjectPastFilterRule.java    |   7 +-
 .../logical/DrillPushProjectPastJoinRule.java      |   5 +-
 .../planner/logical/DrillReduceAggregatesRule.java |   7 +-
 .../logical/DrillReduceExpressionsRule.java        |  25 ++---
 .../exec/planner/logical/DrillRelFactories.java    |  11 ++-
 .../drill/exec/planner/logical/DrillStoreRel.java  |   9 +-
 .../exec/planner/logical/DrillUnionAllRule.java    |   8 +-
 .../drill/exec/planner/logical/DrillViewTable.java |   9 +-
 .../drill/exec/planner/physical/HashAggPrel.java   |   5 -
 .../drill/exec/planner/physical/HashAggPrule.java  |   7 +-
 .../drill/exec/planner/physical/HashJoinPrel.java  |   1 -
 .../drill/exec/planner/physical/HashJoinPrule.java |   9 +-
 .../exec/planner/physical/MergeJoinPrule.java      |   6 +-
 .../exec/planner/physical/NestedLoopJoinPrule.java |   6 +-
 .../exec/planner/physical/StreamAggPrule.java      |   6 +-
 .../drill/exec/planner/physical/UnionAllPrule.java |  13 ++-
 .../exec/planner/physical/UnionDistinctPrule.java  |  14 +--
 .../drill/exec/planner/physical/WindowPrule.java   |   8 +-
 .../physical/visitor/TopProjectVisitor.java        |   2 +-
 .../sql/DrillCalciteSqlAggFunctionWrapper.java     |   5 +-
 .../sql/DrillCalciteSqlFunctionWrapper.java        |   5 +-
 .../sql/DrillCalciteSqlOperatorWrapper.java        |   5 +-
 .../drill/exec/planner/sql/DrillParserConfig.java  |  12 +++
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  15 +++
 .../drill/exec/planner/sql/SqlConverter.java       |  41 +++++----
 .../drill/exec/planner/sql/TypeInferenceUtils.java |  20 +++-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  29 ++++--
 .../sql/handlers/DescribeSchemaHandler.java        |   2 +-
 .../planner/sql/handlers/DescribeTableHandler.java |   5 +-
 .../planner/sql/handlers/FindLimit0Visitor.java    |  29 +++++-
 .../sql/parser/CompoundIdentifierConverter.java    |   3 +-
 .../planner/sql/parser/DrillSqlDescribeTable.java  |  73 +++++++++++++++
 .../exec/planner/sql/parser/SqlDescribeSchema.java |  81 ----------------
 .../exec/planner/sql/parser/SqlDescribeTable.java  | 102 ---------------------
 .../exec/planner/torel/ConversionContext.java      |   7 +-
 .../exec/planner/types/RelDataTypeDrillImpl.java   |   6 +-
 .../exec/planner/types/RelDataTypeHolder.java      |  12 ++-
 .../apache/drill/exec/store/AbstractSchema.java    |   5 +
 .../drill/exec/store/SchemaTreeProvider.java       |   4 +-
 .../apache/drill/exec/store/ischema/Records.java   |  41 ++++++++-
 .../test/java/org/apache/drill/PlanningBase.java   |   4 +-
 .../drill/exec/planner/logical/DrillOptiqTest.java |   2 +-
 .../drill/exec/sql/TestSqlBracketlessSyntax.java   |   4 +-
 .../exec/store/parquet/TestParquetGroupScan.java   |   4 +-
 exec/jdbc-all/pom.xml                              |   4 +-
 exec/jdbc/pom.xml                                  |   5 +-
 .../drill/jdbc/impl/DrillConnectionImpl.java       |  12 ++-
 .../apache/drill/jdbc/impl/DrillJdbc41Factory.java |   6 +-
 .../org/apache/drill/jdbc/impl/DrillMetaImpl.java  |  73 +++++++++++++--
 .../jdbc/impl/DrillPreparedStatementImpl.java      |  18 ++--
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |   7 +-
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java |  43 +++++----
 .../jdbc/test/TestInformationSchemaColumns.java    |  40 ++++----
 pom.xml                                            |  28 +++++-
 tools/fmpp/pom.xml                                 |  14 ++-
 71 files changed, 692 insertions(+), 436 deletions(-)

commit 450e67094eb6e9a6484d7f86c49b51c77a08d7b2
Author: Roman Kulyk <rom.kulyk@gmail.com>
Date:   Thu Nov 30 16:19:12 2017 +0000

    REVERTED:  DRILL-5089
    
    Dynamically load schema of storage plugin only when needed for every query

 .../org/apache/drill/exec/ops/FragmentContext.java |   9 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |  11 +-
 .../drill/exec/planner/sql/DynamicRootSchema.java  | 142 ---------------------
 .../drill/exec/planner/sql/DynamicSchema.java      |  58 ---------
 .../drill/exec/planner/sql/SqlConverter.java       |   9 +-
 .../drill/exec/store/SchemaTreeProvider.java       |  31 +----
 .../exec/store/StoragePluginRegistryImpl.java      |   3 -
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  23 +---
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  87 ++++---------
 .../exec/store/ischema/InfoSchemaBatchCreator.java |   2 +-
 .../drill/exec/store/mock/MockBreakageStorage.java |  47 -------
 .../drill/exec/store/mock/MockStorageEngine.java   |   7 +-
 .../drill/exec/work/metadata/MetadataProvider.java |   2 +-
 .../drill/exec/physical/impl/TestSchema.java       |  87 -------------
 .../apache/drill/test/ClusterFixtureBuilder.java   |   4 -
 .../drill/test/ClusterMockStorageFixture.java      |  51 --------
 16 files changed, 46 insertions(+), 527 deletions(-)

commit ef0fafea214e866556fa39c902685d48a56001e1
Author: chunhui-shi <cshi@maprtech.com>
Date:   Fri Dec 22 15:42:27 2017 -0800

    DRILL-6054: don't try to split the filter when it is not AND
    
    This closes #1078

 .../logical/partition/FindPartitionConditions.java | 21 +++++--
 .../exec/planner/logical/FilterSplitTest.java      | 69 +++++++++++++++++++++-
 2 files changed, 82 insertions(+), 8 deletions(-)

commit dcaac1b37a2df5a52cdb2d86bf78926488fcca64
Author: Vlad Rozov <vrozov@apache.org>
Date:   Sun Dec 17 09:25:55 2017 -0800

    DRILL-6030: Managed sort should minimize number of batches in a k-way merge
    
    This closes #1075

 .../drill/exec/physical/impl/xsort/managed/SortConfig.java   |  1 +
 .../exec/physical/impl/xsort/managed/SortMemoryManager.java  |  8 ++++----
 exec/java-exec/src/main/resources/drill-module.conf          |  4 ++--
 .../impl/xsort/managed/TestExternalSortInternals.java        | 12 +++++-------
 4 files changed, 12 insertions(+), 13 deletions(-)

commit fa2005eebffe259324f3d91f6c31d0b52d59e434
Author: Prasad Nagaraj Subramanya <prasadns14@gmail.com>
Date:   Thu Jan 11 07:14:52 2018 -0800

    DRILL-6025: Display execution time of a query in RUNNING state
    
    This closes #1074

 .../exec/server/rest/profile/ProfileWrapper.java     | 20 ++++++++++++++------
 1 file changed, 14 insertions(+), 6 deletions(-)

commit 58f6b32af388ee8f120107a20e787722e80c0f67
Author: Vlad Rozov <vrozov@apache.org>
Date:   Tue Dec 12 13:37:38 2017 -0800

    DRILL-6004: Direct buffer bounds checking should be disabled by default
    
    This closes #1070

 .../exec/expr/fn/impl/StringFunctionHelpers.java   |   7 +-
 .../org/apache/drill/exec/expr/fn/impl/XXHash.java |   8 +-
 .../exec/store/easy/text/compliant/TextInput.java  |   7 +-
 .../src/main/java/io/netty/buffer/DrillBuf.java    |  53 ++-------
 .../apache/drill/exec/memory/BoundsChecking.java   |  85 +++++++++++++-
 .../drill/exec/memory/BoundsCheckingTest.java      | 126 +++++++++++++++++++++
 .../exec/expr/fn/impl/ByteFunctionHelpers.java     |  17 +--
 pom.xml                                            |   1 +
 8 files changed, 226 insertions(+), 78 deletions(-)

commit 90eb23baa6a1a205fd0821c7af708969fcb98c5c
Author: Parth Chandra <parthc@apache.org>
Date:   Tue Aug 29 11:20:47 2017 -0700

    DRILL-5971: Fix INT64, INT32 logical types in complex parquet reader
    
    Added the following types : ENUM (Binary annotated as ENUM) INT96 (Dictionary encoded)
    Fixed issue with reading Dictionary encoded fixed width reader
    Added test file generator
    
    This closes #1049

 .../parquet/columnreaders/ColumnReaderFactory.java |  11 +-
 .../ParquetFixedWidthDictionaryReaders.java        |   2 +-
 .../columnreaders/ParquetToDrillTypeConverter.java |   4 +
 .../store/parquet2/DrillParquetGroupConverter.java |  18 +
 .../parquet/ParquetSimpleTestFileGenerator.java    | 461 +++++++++++++++++++++
 .../exec/store/parquet/TestParquetComplex.java     | 177 ++++++++
 .../store/parquet2/TestDrillParquetReader.java     | 173 ++++++++
 .../src/test/resources/parquet/logical_int.parquet | Bin 0 -> 1133 bytes
 .../parquet/parquet_logical_types_simple.parquet   | Bin 0 -> 3366 bytes
 .../parquet_logical_types_simple_nullable.parquet  | Bin 0 -> 3518 bytes
 .../parquet/complex/logical_int_complex.parquet    | Bin 0 -> 1377 bytes
 .../complex/parquet_logical_types_complex.parquet  | Bin 0 -> 3908 bytes
 .../parquet_logical_types_complex_nullable.parquet | Bin 0 -> 4081 bytes
 13 files changed, 843 insertions(+), 3 deletions(-)

commit c5af3aefe79c34d5b76bec8ce55875decca9e617
Author: Vlad Rozov <vrozov@apache.org>
Date:   Tue Nov 14 16:24:01 2017 -0800

    DRILL-5961: For long running queries (> 10 min) Drill may raise FragmentSetupException for completed/cancelled fragments
    
    This closes #1041

 .../drill/exec/rpc/control/WorkEventBus.java       | 91 ++++++----------------
 .../org/apache/drill/exec/work/WorkManager.java    |  4 +-
 .../exec/work/batch/ControlMessageHandler.java     | 10 +--
 .../exec/work/fragment/NonRootFragmentManager.java |  5 --
 .../drill/exec/rpc/data/TestBitBitKerberos.java    |  3 -
 .../org/apache/drill/exec/rpc/data/TestBitRpc.java |  1 -
 6 files changed, 30 insertions(+), 84 deletions(-)

commit cbb79e598705138086c453d69b5706655b070259
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Tue Jan 9 01:20:09 2018 -0800

    DRILL-6003: Fixed sporadic test failures caused by the creation of duplicate clusters in TestDynamicUDFSupport.
    
    This closes #1023

 exec/java-exec/src/test/java/org/apache/drill/TestDynamicUDFSupport.java | 1 -
 1 file changed, 1 deletion(-)

commit 680f9c1327c4e3d7dcc5a275df167c0c5e128049
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Fri Nov 10 12:59:42 2017 -0800

    DRILL-5926: The TestValueVector tests would run out of memory. Increased the MaxDirectMemorySize for the forked test processes in the pom to avoid this.

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit efed7e3060e8054a9223e0a2001236c4d9bcd34d
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Fri Nov 10 11:13:18 2017 -0800

    DRILL-5922: - The QueryContext was never closed when the Foreman finished, so it's child allocator was never closed. Now it is. - The PlanSplitter created a QueryContext temporarily to construct an RPC message but never closed it. Now the temp QueryContext is closed. - The waitForExit method was error prone. Changed it to use the standard condition variable pattern. - Fixed timeouts in graceful shutdown tests

 .../test/java/org/apache/drill/test/DrillTest.java |   2 +-
 .../exec/planner/fragment/SimpleParallelizer.java  |   1 -
 .../org/apache/drill/exec/server/Drillbit.java     |   2 +-
 .../org/apache/drill/exec/work/WorkManager.java    | 105 +++++++++++-------
 .../apache/drill/exec/work/foreman/Foreman.java    |   7 +-
 .../apache/drill/exec/work/user/PlanSplitter.java  |  11 +-
 .../apache/drill/test/TestGracefulShutdown.java    | 123 +++++++++++++++------
 7 files changed, 170 insertions(+), 81 deletions(-)

commit 9bb93703ec571b0ffa08b17fd31a00d6eeb6b4e9
Author: Volodymyr Tkach <vovatkach75@gmail.com>
Date:   Mon Nov 13 14:45:33 2017 +0000

    DRILL-5919: Add non-numeric support for JSON processing
    
    1. Added two session options store.json.reader.non_numeric_numbers and store.json.reader.non_numeric_numbers that allow to read/write NaN and Infinity as numbers. By default these options
    are set to true.
    
    2. Extended signature of convert_toJSON and convert_fromJSON functions by adding second optional parameter
    that enables/disables read/write NaN and Infinity. By default it is set true.
    
    3. Added unit tests with nan, infitity values for math and aggregate functions
    
    4. Replaced JsonReader's constructors with builder.
    
    This closes #1026

 .../store/kafka/decoders/JsonMessageReader.java    |   6 +-
 .../drill/exec/store/mongo/MongoRecordReader.java  |  11 +-
 .../src/main/codegen/templates/MathFunctions.java  |  10 +
 .../java/org/apache/drill/exec/ExecConstants.java  |  10 +
 .../exec/expr/fn/impl/conv/JsonConvertFrom.java    |  10 +-
 .../exec/expr/fn/impl/conv/JsonConvertTo.java      |   2 +
 .../exec/expr/fn/impl/conv/RoundFunctions.java     |  20 +-
 .../exec/server/options/SystemOptionManager.java   |   2 +
 .../exec/store/easy/json/JSONFormatPlugin.java     |   2 +-
 .../exec/store/easy/json/JSONRecordReader.java     |  15 +-
 .../exec/store/easy/json/JsonRecordWriter.java     |   4 +-
 .../store/easy/json/reader/BaseJsonProcessor.java  |  29 +-
 .../store/easy/json/reader/CountingJsonReader.java |   4 +-
 .../drill/exec/vector/complex/fn/JsonReader.java   |  91 +++-
 .../drill/exec/vector/complex/fn/JsonWriter.java   |   2 +-
 .../java-exec/src/main/resources/drill-module.conf |   2 +
 .../exec/fn/impl/TestMathFunctionsWithNanInf.java  | 551 +++++++++++++++++++++
 .../exec/vector/complex/writer/TestJsonNanInf.java | 274 ++++++++++
 18 files changed, 1004 insertions(+), 41 deletions(-)

commit bf56cd917bd8f054794489e2b252d79c039d0286
Author: Rahul Raj <rajrahul@gmail.com>
Date:   Tue Dec 12 14:21:53 2017 +0530

    DRILL-3958: Return a valid error message when storage plugin fails
    
    This closes #1067

 .../main/java/org/apache/drill/exec/server/rest/StorageResources.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 27aff35b54df0adfd951c7b7afc47b36a6de5e0a
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue Jan 2 10:35:19 2018 -0800

    DRILL-6063: Set correct ThreadContext ClassLoader before using Hadoop Configuration class in DrillClient
    
    This closes #1079

 .../main/java/org/apache/drill/exec/rpc/user/UserClient.java  | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit 93621eb2491de911b751fe3489d17004ff4acc8a
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Wed Dec 20 10:28:15 2017 -0800

    DRILL-6036: Create sys.connections table
    
    Introduced a distributed (i.e. each Drillbit executes a fragment) system table to list all the active client connections to all the Drillbits in a cluster. This is achieved by having the UserServer maintain a static (class-level) map of these connections, which is updated as and when connections are established and closed.
    
    The following details are provided by the table:
        user
        targetUser
        client
        drillbit
        established
        duration
        queries
        isAuthenticated
        isEncrypted
        usingSSL
        session
    
    Security check to prevent unauthorized access to connection listing
    
    Match is done between the inbound impersonated user and the available list of connections' targetUser property
    
    Removed listing of targetUser
    Removed getQueryContext from FragmentContext
    FragmentContext provides isUserAuthenticationEnabled()
    
    This closes #1076

 .../org/apache/drill/exec/rpc/user/UserServer.java |  70 +++++++++-
 .../apache/drill/exec/server/DrillbitContext.java  |   9 ++
 .../store/sys/BitToUserConnectionIterator.java     | 141 +++++++++++++++++++++
 .../apache/drill/exec/store/sys/SystemTable.java   |   7 +
 .../drill/exec/store/sys/TestSystemTable.java      |   7 +-
 .../exec/work/metadata/TestMetadataProvider.java   |   2 +-
 6 files changed, 229 insertions(+), 7 deletions(-)

commit 0b17fbf5234e1c81bea821a3dcd181c8c2962438
Author: chunhui-shi <cshi@maprtech.com>
Date:   Fri Mar 24 18:09:04 2017 -0700

    DRILL-5286: No need to convert when the relNode and target candidate set are the same
    
    This closes #797

 .../exec/planner/physical/SubsetTransformer.java   | 35 ++++++++++++++++++----
 1 file changed, 29 insertions(+), 6 deletions(-)

commit 13a568a53026df66a0b62e7ce230a2fcfd6731bd
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Thu Dec 28 13:18:58 2017 -0800

    DRILL-5068: Create sys.profiles table
    
    (Thanks to Hongze Zhang for the initial work)
    Introduced a non-distributed (i.e. the foreman Drillbit executes a single fragment query) system table to list the completed profiles that are visible to it in the persistent store. This allows for querying the profiles on the following common metrics:
        queryId
        startTime
        foreman
        fragments
        user
        queue
        planTime
        queueTime
        executeTime
        totalTime
        state
        query
    
    An additional system table - `sys.profiles_json` has also been introduced. This only has the following fields:
        queryId
        json
    This allows for more detail metrics to be queried on the profile as a JSON document. Users are expected to use `sys.profiles` to identify profiles on the available metrics (such as long executeTime or fragments), and use the queryId to find the corresponding JSON document representation for further drill down into the profiles.
    Updated TestMetadataProvider with new tally for current table and column counting tests
    
    Security check to prevent unauthorized access to profile listing
    
    Updated based on review comments
    
    This closes #1077

 .../org/apache/drill/exec/ops/FragmentContext.java |  10 ++
 .../exec/server/QueryProfileStoreContext.java      |   2 -
 .../drill/exec/store/sys/ProfileInfoIterator.java  | 160 +++++++++++++++++++++
 .../drill/exec/store/sys/ProfileIterator.java      | 154 +++++++-------------
 .../drill/exec/store/sys/ProfileJsonIterator.java  | 139 ++++++++++++++++++
 .../apache/drill/exec/store/sys/SystemTable.java   |  19 ++-
 .../exec/store/sys/store/LocalPersistentStore.java |   2 +
 .../drill/exec/store/sys/TestSystemTable.java      |   5 +
 .../exec/work/metadata/TestMetadataProvider.java   |   8 +-
 9 files changed, 384 insertions(+), 115 deletions(-)

commit ffd7d7e0952ecda1d63d22058df2ae2412ea31c7
Author: hongze.zhz <hongze.zhz@alibaba-inc.com>
Date:   Thu Dec 22 15:47:42 2016 +0800

    DRILL-5068: Add a new system table for completed profiles

 .../drill/exec/store/sys/ProfileIterator.java      | 141 +++++++++++++++++++++
 .../apache/drill/exec/store/sys/SystemTable.java   |   7 +
 .../drill/exec/store/sys/TestSystemTable.java      |   7 +-
 3 files changed, 154 insertions(+), 1 deletion(-)

commit b4ffa40127c040d2f8d9ebe2fd4623dfac8c7724
Author: mitchel <mitchellabonte@hotmail.com>
Date:   Tue Dec 12 09:57:55 2017 -0500

    DRILL-6020: Fix NullPointerException when querying JSON untyped path with Union setting on
    
    closes #1068

 .../drill/exec/vector/complex/FieldIdUtil.java     | 32 ++++++++++++++--------
 .../exec/vector/complex/writer/TestJsonReader.java | 28 +++++++++++++++++++
 2 files changed, 48 insertions(+), 12 deletions(-)

commit ce80da857d1b28af7619f8402ffe1e4e3c833e1c
Author: mitchel <mitchellabonte@hotmail.com>
Date:   Tue Dec 12 10:27:19 2017 -0500

    DRILL-5994: Added webserver maxThreads configuration option to enable launching on a machine with more than 200 cores
    
    closes #1069

 exec/java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java | 1 +
 .../src/main/java/org/apache/drill/exec/server/rest/WebServer.java    | 3 ++-
 exec/java-exec/src/main/resources/drill-module.conf                   | 4 +++-
 3 files changed, 6 insertions(+), 2 deletions(-)

commit 3df11e1905ad384a7205d9daa0e2832394a6b890
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Wed Dec 20 12:52:12 2017 -0800

    DRILL-5973: Support injection of time-bound pauses in server
    
    Support pause injections in the test framework that are time-bound, to allow for testing high latency scenarios.
    e.g. delayed server response to the Drill client allows for test a server-induced timeout
    Added tests to verify the commit.
    
    closes #1055

 .../exec/testing/CountDownLatchInjectionImpl.java  |   4 +-
 .../drill/exec/testing/ExceptionInjection.java     |   2 +-
 .../exec/testing/ExecutionControlsInjector.java    |   9 +-
 .../org/apache/drill/exec/testing/Injection.java   |   8 +-
 .../apache/drill/exec/testing/PauseInjection.java  |  24 ++++-
 .../org/apache/drill/exec/testing/Controls.java    |  29 ++++++
 .../drill/exec/testing/ControlsInjectionUtil.java  |  27 ++++++
 .../drill/exec/testing/TestPauseInjection.java     | 101 +++++++++++++++++++++
 8 files changed, 194 insertions(+), 10 deletions(-)

commit 034351837885d54196f3dd550ed2dc4e50fc4128
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Nov 24 17:59:42 2017 +0200

    DRILL-5963: Query state process improvements
    
    1. Added two new query states: PREPARING (when foreman is initialized) and PLANNING (includes logical and / or physical planning).
    2. Ability to cancel query during planning and enqueued states was added.
    3. Logic for submitting fragments was moved from Foreman to new class FragmentsRunner.
    4. Logic for moving query from to new state and incrementing / decrementing query counters was moved into QueryStateProcessor class.
    5. Major type in DrillFuncHolderExpr was cached for better performance.
    
    closes #1051

 .../drill/exec/expr/DrillFuncHolderExpr.java       |   9 +-
 .../exec/server/rest/profile/ProfileUtil.java      |  41 +-
 .../exec/server/rest/profile/ProfileWrapper.java   |   6 +-
 .../org/apache/drill/exec/work/QueryWorkUnit.java  |  45 ++
 .../apache/drill/exec/work/foreman/Foreman.java    | 887 +++++----------------
 .../drill/exec/work/foreman/FragmentsRunner.java   | 410 ++++++++++
 .../drill/exec/work/foreman/QueryManager.java      |  20 +-
 .../exec/work/foreman/QueryStateProcessor.java     | 355 +++++++++
 .../java-exec/src/main/resources/drill-module.conf |   2 +-
 .../drill/exec/server/TestDrillbitResilience.java  |   3 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 201 +++--
 .../apache/drill/exec/proto/beans/QueryResult.java |   6 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   2 +
 13 files changed, 1166 insertions(+), 821 deletions(-)

commit adee46149734908ad20568951c683e49e88a67a3
Author: Sindhuri Rayavaram <srayavaram@mapr.com>
Date:   Mon Sep 11 16:56:22 2017 -0700

    DRILL-5425: Support HTTP Kerberos auth using SPNEGO
    
    closes #1040

 .../java/org/apache/drill/exec/ExecConstants.java  |   4 +-
 .../exec/server/rest/LogInLogOutResources.java     | 124 ++++++--
 .../exec/server/rest/ViewableWithPermissions.java  |  21 +-
 .../apache/drill/exec/server/rest/WebServer.java   |  52 ++--
 .../drill/exec/server/rest/WebServerConstants.java |  45 +++
 .../exec/server/rest/auth/AuthDynamicFeature.java  |   9 +-
 .../exec/server/rest/auth/DrillErrorHandler.java   |  45 +++
 .../auth/DrillHttpConstraintSecurityHandler.java   |  61 ++++
 .../auth/DrillHttpSecurityHandlerProvider.java     | 184 ++++++++++++
 .../server/rest/auth/DrillSpnegoAuthenticator.java | 192 ++++++++++++
 .../server/rest/auth/DrillSpnegoLoginService.java  | 149 ++++++++++
 .../exec/server/rest/auth/DrillUserPrincipal.java  |   6 +-
 .../exec/server/rest/auth/FormSecurityHanlder.java |  49 ++++
 .../drill/exec/server/rest/auth/SpnegoConfig.java  | 112 +++++++
 .../server/rest/auth/SpnegoSecurityHandler.java    |  36 +++
 .../java-exec/src/main/resources/drill-module.conf |   4 +-
 exec/java-exec/src/main/resources/rest/generic.ftl |   2 +-
 .../src/main/resources/rest/mainLogin.ftl          |  32 ++
 .../drill/exec/rpc/data/TestBitBitKerberos.java    |   3 +-
 .../drill/exec/rpc/security/KerberosHelper.java    |   8 +-
 .../rpc/user/security/TestUserBitKerberos.java     |   2 +-
 .../security/TestUserBitKerberosEncryption.java    |   2 +-
 .../rest/spnego/TestDrillSpnegoAuthenticator.java  | 286 ++++++++++++++++++
 .../rest/spnego/TestSpnegoAuthentication.java      | 326 +++++++++++++++++++++
 .../exec/server/rest/spnego/TestSpnegoConfig.java  | 167 +++++++++++
 .../org/apache/drill/exec/rpc/BasicServer.java     |   1 +
 26 files changed, 1850 insertions(+), 72 deletions(-)

commit e25c58f7bf0ad07d3611b85d6d82d05549a28791
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon Dec 4 19:33:03 2017 +0200

    DRILL-5996: Add ability to re-run queries from Profiles tab with impersonation and without authentication
    
    closes #1061

 .../exec/server/rest/profile/ProfileResources.java | 12 ++++----
 .../exec/server/rest/profile/ProfileWrapper.java   | 29 ++++++++++++-----
 .../src/main/resources/rest/profile/profile.ftl    | 18 +++++++++--
 .../src/main/resources/rest/query/query.ftl        | 31 ++-----------------
 .../resources/rest/static/js/querySubmission.js    | 36 ++++++++++++++++++++++
 5 files changed, 82 insertions(+), 44 deletions(-)

commit ef4c63d56e2339721867a964b724883a9b5d1fbe
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Dec 12 18:45:57 2017 +0200

    DRILL-6028: Allow splitting generated code in ChainedHashTable into blocks to avoid "code too large" error
    
    1. Added new parameter seedValue to getHashBuild and getHashProbe methods in HashTableTemplate.
    2. Generate logical expression for each key so its  can be split into blocks if number of expressions in method exceeds upper limit.
    3. ParameterExpression was added to generate reference to method parameter during code generation.
    
    closes #1071

 .../compile/sig/ConstantExpressionIdentifier.java  |  7 +++-
 .../org/apache/drill/exec/expr/ClassGenerator.java | 18 ++++++++--
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 23 +++++++++++++
 .../physical/impl/common/ChainedHashTable.java     | 29 +++++++++++-----
 .../physical/impl/common/HashTableTemplate.java    |  9 ++---
 .../drill/exec/planner/physical/HashPrelUtil.java  | 20 ++++++++---
 .../java/org/apache/drill/TestUnionDistinct.java   | 35 +++++++++++++++++++
 .../drill/common/expression/ValueExpressions.java  | 39 ++++++++++++++++++++++
 .../expression/visitors/AbstractExprVisitor.java   |  7 +++-
 .../expression/visitors/AggregateChecker.java      |  8 ++++-
 .../expression/visitors/ConstantChecker.java       |  8 ++++-
 .../common/expression/visitors/ExprVisitor.java    |  4 ++-
 .../expression/visitors/ExpressionValidator.java   |  7 +++-
 13 files changed, 187 insertions(+), 27 deletions(-)

commit 40de8ca4f47533fa6593d1266403868ae1a2119f
Author: Paul Rogers <progers@maprtech.com>
Date:   Thu Aug 17 22:41:30 2017 -0700

    DRILL-5657: Size-aware vector writer structure
    
    - Vector and accessor layer
    - Row Set layer
    - Tuple and column models
    - Revised write-time metadata
    - "Result set loader" layer
    
    this closes #914

 .../exec/physical/rowSet/ResultSetLoader.java      |  204 ++++
 .../exec/physical/rowSet/ResultVectorCache.java}   |   28 +-
 .../drill/exec/physical/rowSet/RowSetLoader.java   |  153 +++
 .../exec/physical/rowSet/impl/ColumnState.java     |  358 ++++++
 .../physical/rowSet/impl/NullProjectionSet.java    |   41 +
 .../rowSet/impl/NullResultVectorCacheImpl.java     |   41 +
 .../exec/physical/rowSet/impl/NullVectorState.java |   52 +
 .../physical/rowSet/impl/NullableVectorState.java  |  108 ++
 .../exec/physical/rowSet/impl/OptionBuilder.java   |  134 +++
 .../physical/rowSet/impl/PrimitiveColumnState.java |  105 ++
 .../exec/physical/rowSet/impl/ProjectionSet.java   |   48 +
 .../physical/rowSet/impl/ProjectionSetImpl.java    |  136 +++
 .../physical/rowSet/impl/RepeatedVectorState.java  |  168 +++
 .../physical/rowSet/impl/ResultSetLoaderImpl.java  |  775 ++++++++++++
 .../rowSet/impl/ResultVectorCacheImpl.java         |  186 +++
 .../physical/rowSet/impl/RowSetLoaderImpl.java     |   98 ++
 .../physical/rowSet/impl/SingleVectorState.java    |  274 +++++
 .../exec/physical/rowSet/impl/TupleState.java      |  388 ++++++
 .../rowSet/impl/VectorContainerBuilder.java        |  257 ++++
 .../exec/physical/rowSet/impl/VectorState.java     |  102 ++
 .../exec/physical/rowSet/impl/WriterIndexImpl.java |  100 ++
 .../exec/physical/rowSet/impl/package-info.java    |  304 +++++
 .../exec/physical/rowSet/model/BaseTupleModel.java |  117 ++
 .../physical/rowSet/model/ContainerVisitor.java    |  115 ++
 .../physical/rowSet/model/MetadataProvider.java    |   93 ++
 .../exec/physical/rowSet/model/ReaderIndex.java    |   53 +
 .../physical/rowSet/model/SchemaInference.java     |   61 +
 .../exec/physical/rowSet/model/TupleModel.java     |  117 ++
 .../rowSet/model/hyper/BaseReaderBuilder.java      |  149 +++
 .../physical/rowSet/model/hyper/package-info.java  |   30 +
 .../exec/physical/rowSet/model/package-info.java   |   68 ++
 .../rowSet/model/single/BaseReaderBuilder.java     |   89 ++
 .../rowSet/model/single/BaseWriterBuilder.java     |   72 ++
 .../model/single/BuildVectorsFromMetadata.java     |   97 ++
 .../rowSet/model/single/VectorAllocator.java       |  112 ++
 .../physical/rowSet/model/single/package-info.java |   28 +
 .../drill/exec/physical/rowSet/package-info.java   |  193 +++
 .../org/apache/drill/exec/record/BatchSchema.java  |   42 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |    3 +-
 .../org/apache/drill/exec/record/TupleSchema.java  |  534 +++++++++
 .../exec/record/selection/SelectionVector2.java    |   20 +-
 .../drill/exec/cache/TestBatchSerialization.java   |   22 +-
 .../exec/physical/impl/TopN/TopNBatchTest.java     |   26 +-
 .../physical/impl/validate/TestBatchValidator.java |   64 +-
 .../exec/physical/impl/xsort/TestExternalSort.java |   12 +-
 .../impl/xsort/managed/SortTestUtilities.java      |    8 +-
 .../physical/impl/xsort/managed/TestCopier.java    |  146 +--
 .../impl/xsort/managed/TestShortArrays.java        |    8 +-
 .../physical/impl/xsort/managed/TestSortImpl.java  |   46 +-
 .../physical/impl/xsort/managed/TestSorter.java    |   38 +-
 .../rowSet/impl/TestResultSetLoaderLimits.java     |  224 ++++
 .../rowSet/impl/TestResultSetLoaderMapArray.java   |  481 ++++++++
 .../rowSet/impl/TestResultSetLoaderMaps.java       |  810 +++++++++++++
 .../impl/TestResultSetLoaderOmittedValues.java     |  379 ++++++
 .../rowSet/impl/TestResultSetLoaderOverflow.java   |  680 +++++++++++
 .../rowSet/impl/TestResultSetLoaderProjection.java |  470 ++++++++
 .../rowSet/impl/TestResultSetLoaderProtocol.java   |  586 +++++++++
 .../rowSet/impl/TestResultSetLoaderTorture.java    |  453 +++++++
 .../rowSet/impl/TestResultSetSchemaChange.java     |  245 ++++
 .../apache/drill/exec/record/TestTupleSchema.java  |  509 ++++++++
 .../drill/exec/record/TestVectorContainer.java     |  127 --
 .../drill/exec/record/vector/TestValueVector.java  |   12 +
 .../org/apache/drill/exec/sql/TestInfoSchema.java  |    2 +-
 .../exec/store/easy/text/compliant/TestCsv.java    |    6 +-
 .../java/org/apache/drill/test/ExampleTest.java    |    4 +-
 .../org/apache/drill/test/OperatorFixture.java     |   30 +-
 .../java/org/apache/drill/test/QueryBuilder.java   |   12 +-
 .../org/apache/drill/test/QueryRowSetIterator.java |    2 +-
 .../apache/drill/test/rowSet/AbstractRowSet.java   |  109 +-
 .../drill/test/rowSet/AbstractSingleRowSet.java    |  182 +--
 .../org/apache/drill/test/rowSet/DirectRowSet.java |  171 +--
 .../apache/drill/test/rowSet/HyperRowSetImpl.java  |  245 +---
 .../apache/drill/test/rowSet/IndirectRowSet.java   |   38 +-
 .../java/org/apache/drill/test/rowSet/RowSet.java  |   81 +-
 .../apache/drill/test/rowSet/RowSetBuilder.java    |   32 +-
 .../apache/drill/test/rowSet/RowSetComparison.java |  124 +-
 .../apache/drill/test/rowSet/RowSetPrinter.java    |   30 +-
 .../org/apache/drill/test/rowSet/RowSetReader.java |   54 +
 .../apache/drill/test/rowSet/RowSetReaderImpl.java |   76 ++
 .../org/apache/drill/test/rowSet/RowSetSchema.java |  304 -----
 .../apache/drill/test/rowSet/RowSetUtilities.java  |  101 +-
 .../org/apache/drill/test/rowSet/RowSetWriter.java |  119 ++
 .../apache/drill/test/rowSet/RowSetWriterImpl.java |  155 +++
 .../apache/drill/test/rowSet/SchemaBuilder.java    |   87 +-
 .../drill/test/rowSet/file/JsonFileBuilder.java    |   35 +-
 .../drill/test/rowSet/test/DummyWriterTest.java    |  169 +++
 .../drill/test/rowSet/test/PerformanceTool.java    |  296 +++++
 .../apache/drill/test/rowSet/test/RowSetTest.java  |  858 ++++++++-----
 .../drill/test/rowSet/test/TestFillEmpties.java    |  241 ++++
 .../test/rowSet/test/TestFixedWidthWriter.java     |  444 +++++++
 .../test/rowSet/test/TestOffsetVectorWriter.java   |  425 +++++++
 .../test/rowSet/test/TestScalarAccessors.java      | 1266 ++++++++++++++++++++
 .../test/rowSet/test/TestVariableWidthWriter.java  |  418 +++++++
 .../drill/test/rowSet/test/VectorPrinter.java      |   72 ++
 .../org/apache/drill/vector/TestFillEmpties.java   |   55 +-
 .../org/apache/drill/vector/TestVectorLimits.java  |  487 --------
 exec/jdbc-all/pom.xml                              |    2 +-
 .../src/main/java/io/netty/buffer/DrillBuf.java    |   70 +-
 .../io/netty/buffer/PooledByteBufAllocatorL.java   |   62 +-
 .../drill/exec/memory/AllocationManager.java       |   89 +-
 .../main/codegen/templates/ColumnAccessors.java    |  383 +++---
 .../main/codegen/templates/FixedValueVectors.java  |  293 +----
 .../codegen/templates/NullableValueVectors.java    |   91 +-
 .../codegen/templates/RepeatedValueVectors.java    |   71 +-
 .../src/main/codegen/templates/UnionVector.java    |   44 +-
 .../codegen/templates/VariableLengthVectors.java   |  216 +---
 .../apache/drill/exec/record/ColumnMetadata.java   |  114 ++
 .../drill/exec/record/MaterializedField.java       |   41 +-
 .../apache/drill/exec/record/TupleMetadata.java    |   88 ++
 .../apache/drill/exec/record/TupleNameSpace.java   |   89 ++
 .../apache/drill/exec/vector/AllocationHelper.java |    2 +-
 .../drill/exec/vector/BaseDataValueVector.java     |   16 +
 .../org/apache/drill/exec/vector/BitVector.java    |   52 +-
 .../apache/drill/exec/vector/FixedWidthVector.java |    7 +-
 .../org/apache/drill/exec/vector/ObjectVector.java |   26 +-
 .../drill/exec/vector/UntypedNullVector.java       |   59 +-
 .../org/apache/drill/exec/vector/ValueVector.java  |   53 +-
 .../drill/exec/vector/VariableWidthVector.java     |    4 +-
 .../org/apache/drill/exec/vector/VectorUtils.java  |   63 -
 .../org/apache/drill/exec/vector/ZeroVector.java   |    6 +-
 .../exec/vector/accessor/AccessorUtilities.java    |  125 --
 .../drill/exec/vector/accessor/ArrayReader.java    |  108 +-
 .../drill/exec/vector/accessor/ArrayWriter.java    |   60 +-
 ...ctTupleAccessor.java => ColumnReaderIndex.java} |   22 +-
 .../drill/exec/vector/accessor/ColumnWriter.java   |   45 -
 .../exec/vector/accessor/ColumnWriterIndex.java    |   76 ++
 .../drill/exec/vector/accessor/ObjectReader.java   |   60 +
 .../drill/exec/vector/accessor/ObjectType.java     |   28 +
 .../drill/exec/vector/accessor/ObjectWriter.java   |  101 ++
 .../exec/vector/accessor/ScalarElementReader.java  |   65 +
 .../{ColumnReader.java => ScalarReader.java}       |   17 +-
 .../drill/exec/vector/accessor/ScalarWriter.java   |   71 +-
 .../drill/exec/vector/accessor/TupleAccessor.java  |   71 --
 .../drill/exec/vector/accessor/TupleReader.java    |   36 +-
 .../drill/exec/vector/accessor/TupleWriter.java    |  154 ++-
 .../{ColumnAccessor.java => ValueType.java}        |   25 +-
 .../vector/accessor/impl/AbstractArrayReader.java  |  128 --
 .../vector/accessor/impl/AbstractArrayWriter.java  |  127 --
 .../vector/accessor/impl/AbstractColumnReader.java |  126 --
 .../vector/accessor/impl/AbstractColumnWriter.java |   87 --
 .../vector/accessor/impl/AccessorUtilities.java    |   53 +
 .../accessor/impl/ColumnAccessorFactory.java       |  122 --
 .../accessor/impl/HierarchicalFormatter.java       |   38 +
 .../vector/accessor/impl/HierarchicalPrinter.java  |  238 ++++
 .../exec/vector/accessor/impl/TupleReaderImpl.java |  151 ---
 .../exec/vector/accessor/impl/TupleWriterImpl.java |  162 ---
 .../drill/exec/vector/accessor/package-info.java   |   79 +-
 .../accessor/reader/AbstractArrayReader.java       |  188 +++
 .../accessor/reader/AbstractObjectReader.java      |   52 +
 .../accessor/reader/AbstractTupleReader.java       |  189 +++
 .../vector/accessor/reader/BaseElementReader.java  |  187 +++
 .../vector/accessor/reader/BaseScalarReader.java   |  189 +++
 .../accessor/reader/ColumnReaderFactory.java       |  109 ++
 .../vector/accessor/reader/ElementReaderIndex.java |   24 +
 .../reader/FixedWidthElementReaderIndex.java       |   38 +
 .../exec/vector/accessor/reader/MapReader.java     |   43 +
 .../vector/accessor/reader/ObjectArrayReader.java  |  159 +++
 .../vector/accessor/reader/ScalarArrayReader.java  |  102 ++
 .../vector/accessor/reader/VectorAccessor.java     |   26 +
 .../exec/vector/accessor/reader/package-info.java  |   26 +
 .../accessor/writer/AbstractArrayWriter.java       |  348 ++++++
 .../accessor/writer/AbstractFixedWidthWriter.java  |  258 ++++
 .../accessor/writer/AbstractObjectWriter.java      |   72 ++
 .../accessor/writer/AbstractScalarWriter.java      |  126 ++
 .../accessor/writer/AbstractTupleWriter.java       |  450 +++++++
 .../vector/accessor/writer/BaseScalarWriter.java   |  272 +++++
 .../vector/accessor/writer/BaseVarWidthWriter.java |  157 +++
 .../accessor/writer/ColumnWriterFactory.java       |  196 +++
 .../exec/vector/accessor/writer/MapWriter.java     |  155 +++
 .../accessor/writer/NullableScalarWriter.java      |  190 +++
 .../vector/accessor/writer/ObjectArrayWriter.java  |  143 +++
 .../vector/accessor/writer/OffsetVectorWriter.java |  283 +++++
 .../vector/accessor/writer/ScalarArrayWriter.java  |  229 ++++
 .../exec/vector/accessor/writer/WriterEvents.java  |  127 ++
 .../accessor/writer/dummy/DummyArrayWriter.java    |   96 ++
 .../accessor/writer/dummy/DummyScalarWriter.java   |   89 ++
 .../vector/accessor/writer/dummy/package-info.java |   54 +
 .../exec/vector/accessor/writer/package-info.java  |  151 +++
 .../exec/vector/complex/AbstractMapVector.java     |   13 +-
 .../vector/complex/BaseRepeatedValueVector.java    |   13 +-
 .../drill/exec/vector/complex/ListVector.java      |    4 +-
 .../drill/exec/vector/complex/MapVector.java       |   24 +-
 .../exec/vector/complex/RepeatedListVector.java    |   20 +-
 .../exec/vector/complex/RepeatedMapVector.java     |   21 +-
 184 files changed, 22587 insertions(+), 4681 deletions(-)

commit eb0c40306b769093966062229c0d4724dc2163b9
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Dec 15 14:49:43 2017 +0200

    Update version to 1.13.0-SNAPSHOT

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/format-maprdb/pom.xml                | 2 +-
 contrib/gis/pom.xml                          | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 2 +-
 contrib/storage-kafka/pom.xml                | 2 +-
 contrib/storage-kudu/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 contrib/storage-opentsdb/pom.xml             | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/memory/base/pom.xml                     | 2 +-
 exec/memory/pom.xml                          | 2 +-
 exec/pom.xml                                 | 2 +-
 exec/rpc/pom.xml                             | 2 +-
 exec/vector/pom.xml                          | 2 +-
 logical/pom.xml                              | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 tools/fmpp/pom.xml                           | 2 +-
 tools/pom.xml                                | 2 +-
 30 files changed, 30 insertions(+), 30 deletions(-)

commit 0e5ad4e1b549f37eb878758409b5afda1deece9d
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Dec 8 13:19:40 2017 +0200

    DRILL-6019: Only admin should be able to access shutdown resources and information about process and admin users
    
    1. Only admin should be able to access shutdown resources via REST API.
    2. Modified ClusterInfo to show information about process and admin users only when user is logged in and is admin.
    3. Added drillbits comparison based on thier adress and ports to check if drillbits are the same (DRILL-6006)
    
    closes #1065

 .../apache/drill/exec/server/rest/DrillRoot.java   | 117 +++++++++++++--------
 1 file changed, 73 insertions(+), 44 deletions(-)

commit aa6666e6700566719c00614a58ce5b861c79e2a5
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Dec 5 19:13:09 2017 +0200

    DRILL-6007: Use default refresh timeout (10 seconds) if graceful shutdown timeout is set to 0.
    
    closes #1062

 .../org/apache/drill/exec/client/DrillClient.java  |  2 +-
 .../apache/drill/exec/server/rest/DrillRoot.java   |  2 +-
 exec/java-exec/src/main/resources/rest/index.ftl   | 27 +++++++++++-----------
 3 files changed, 16 insertions(+), 15 deletions(-)

commit b34679579930f2643837e0c59dbe743b80b2f7e2
Author: karthik <kmanivannan@maprtech.com>
Date:   Thu Dec 7 09:43:24 2017 +0530

    DRILL-6017: Fix for SHUTDOWN button being visible for non Admin users
    
    closes #1064

 .../apache/drill/exec/server/rest/DrillRoot.java   | 14 ++++-----
 exec/java-exec/src/main/resources/rest/index.ftl   | 36 ++++++++++++----------
 2 files changed, 27 insertions(+), 23 deletions(-)

commit c7872dc00fd320133a7ce8b80c31a9a681fbd700
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Wed Dec 6 17:31:10 2017 +0200

    DRILL-5702: Jdbc Driver Class not found
    
    1. Setting "package.namespace.prefix" to "oadd." by default for all profiles. It can be overridden if necessary within any profile.
    2. Removing duplicated and redundant excluding of commons-logging packages.
    
    closes #1063

 .../drill/exec/rpc/security/SecurityConfiguration.java  |  5 ++---
 exec/jdbc-all/pom.xml                                   | 17 +++++++----------
 pom.xml                                                 |  8 --------
 3 files changed, 9 insertions(+), 21 deletions(-)

commit ed089d7f28b28192f824a3d9a19d394539f93528
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Wed Nov 29 10:52:29 2017 -0800

    DRILL-6000: Categorized graceful shutdown unit tests as SlowTests
    
    closes #1056

 .../src/test/java/org/apache/drill/test/TestGracefulShutdown.java    | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 54d3d201882ef5bc2e0f754fd10edfead9947b60
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Wed Nov 22 15:02:07 2017 -0800

    DRILL-5989: Categories some tests to speed up smoke tests. Made travis run tests.
    
    closes #1053

 .travis.yml                                        |  5 ++-
 .../apache/drill/categories/KafkaStorageTest.java  | 25 ++++++++++++
 .../store/hive/schema/TestColumnListCache.java     |  2 +-
 .../drill/exec/store/kafka/KafkaQueriesTest.java   |  4 ++
 .../exec/store/kafka/MessageIteratorTest.java      |  4 ++
 .../drill/exec/store/kafka/TestKafkaSuit.java      |  6 ++-
 .../kafka/decoders/MessageReaderFactoryTest.java   |  3 ++
 exec/java-exec/pom.xml                             | 47 ----------------------
 .../org/apache/drill/TestOutOfMemoryOutcome.java   |  3 ++
 .../java/org/apache/drill/TestTpchDistributed.java |  4 +-
 .../drill/TestTpchDistributedConcurrent.java       |  2 +-
 .../apache/drill/TestTpchDistributedStreaming.java |  3 ++
 .../drill/common/scanner/TestClassPathScanner.java | 23 ++---------
 .../apache/drill/exec/TestQueriesOnLargeFile.java  |  3 ++
 .../exec/compile/TestLargeFileCompilation.java     |  6 ++-
 .../exec/expr/fn/impl/TestStringFunctions.java     |  4 +-
 .../exec/physical/impl/TestBroadcastExchange.java  |  3 +-
 .../drill/exec/physical/impl/TestDecimal.java      |  2 +-
 .../physical/impl/TestDistributedFragmentRun.java  |  2 +-
 .../exec/physical/impl/TestExtractFunctions.java   |  4 +-
 .../exec/physical/impl/TestStringFunctions.java    |  3 ++
 .../impl/xsort/TestSimpleExternalSort.java         |  2 +-
 .../drill/exec/record/vector/TestValueVector.java  |  4 ++
 .../rpc/user/security/TestUserBitSSLServer.java    |  4 +-
 .../security/TestUserBitSaslCompatibility.java     |  5 ++-
 .../drill/exec/server/TestDrillbitResilience.java  |  2 +-
 .../exec/server/options/TestConfigLinkage.java     |  3 +-
 .../apache/drill/exec/store/TestTimedRunnable.java |  2 +-
 .../exec/store/parquet/TestFixedlenDecimal.java    |  3 ++
 .../drill/exec/store/sys/TestPStoreProviders.java  |  2 +-
 exec/jdbc-all/pom.xml                              |  7 +---
 pom.xml                                            | 29 ++++++++++++-
 32 files changed, 122 insertions(+), 99 deletions(-)

commit 3d13b4f604852b959fe5ab0f21ec01d455553a2f
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Wed Nov 15 20:31:23 2017 -0800

    DRILL-5972: Slow performance for query on INFORMATION_SCHEMA.TABLE
    
    closes #1038

 .../org/apache/drill/exec/store/ischema/InfoSchemaFilter.java    | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 53d71dfdff414d705587a051b6e7ef00614de723
Author: Parth Chandra <parthc@apache.org>
Date:   Tue Nov 14 15:25:33 2017 -0800

    DRILL-5694: Do not allow queries to access paths outside the current workspace root
    
    closes #1050

 .../apache/drill/exec/store/dfs/FileSelection.java | 29 ++++++++++--
 .../drill/exec/store/dfs/WorkspaceConfig.java      | 24 ++++++++--
 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 12 +++--
 .../drill/exec/util/StoragePluginTestUtils.java    |  2 +-
 .../main/resources/bootstrap-storage-plugins.json  |  6 ++-
 .../java/org/apache/drill/TestExampleQueries.java  |  6 +--
 .../org/apache/drill/exec/TestWindowFunctions.java | 26 +++++------
 .../exec/impersonation/BaseTestImpersonation.java  |  4 +-
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  |  2 +-
 .../drill/exec/store/dfs/TestFileSelection.java    | 53 ++++++++++++++++++++++
 .../java/org/apache/drill/test/ClusterFixture.java |  2 +-
 11 files changed, 131 insertions(+), 35 deletions(-)

commit 5f044f2a6d0cd34a3d4107ece4c0637469f89b40
Author: dvjyothsna <jyothsnadonapati@Skatkam-598.local>
Date:   Thu Aug 24 08:58:00 2017 -0700

    DRILL-4286: Graceful shutdown of drillbit
    
    closes #921

 distribution/src/resources/drillbit.sh             |  25 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |  13 +
 .../org/apache/drill/exec/client/DrillClient.java  |  11 +-
 .../drill/exec/coord/ClusterCoordinator.java       |  24 ++
 .../exec/coord/local/LocalClusterCoordinator.java  |  56 ++-
 .../drill/exec/coord/zk/ZKClusterCoordinator.java  |  83 +++-
 .../drill/exec/coord/zk/ZKRegistrationHandle.java  |  14 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |   4 +
 .../org/apache/drill/exec/server/Drillbit.java     |  69 ++-
 .../apache/drill/exec/server/DrillbitContext.java  |  31 +-
 .../drill/exec/server/DrillbitStateManager.java    |  80 ++++
 .../drill/exec/server/rest/DrillRestServer.java    |   4 +-
 .../apache/drill/exec/server/rest/DrillRoot.java   | 479 +++++++++++++--------
 .../apache/drill/exec/server/rest/WebServer.java   |  10 +-
 .../apache/drill/exec/service/ServiceEngine.java   |   2 +
 .../drill/exec/store/sys/DrillbitIterator.java     |  18 +-
 .../org/apache/drill/exec/work/WorkManager.java    |  43 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  14 +-
 .../java-exec/src/main/resources/drill-module.conf |  10 +
 exec/java-exec/src/main/resources/rest/index.ftl   | 110 ++++-
 .../exec/work/metadata/TestMetadataProvider.java   |   2 +-
 .../java/org/apache/drill/test/ClusterFixture.java |  19 +
 .../apache/drill/test/TestGracefulShutdown.java    | 250 +++++++++++
 .../drill/exec/proto/CoordinationProtos.java       | 214 ++++++++-
 .../drill/exec/proto/SchemaCoordinationProtos.java |   7 +
 .../drill/exec/proto/beans/DrillbitEndpoint.java   |  54 +++
 protocol/src/main/protobuf/Coordination.proto      |   7 +
 27 files changed, 1416 insertions(+), 237 deletions(-)

commit d3f8da2b62b13be28c4133980067942cec2a5faf
Author: Anil Kumar Batchu <akumarb2010@gmail.com>
Date:   Mon Nov 27 18:44:55 2017 -0800

    DRILL-4779: Kafka storage plugin (Kamesh Bhallamudi & Anil Kumar Batchu)
    
    closes #1052

 contrib/pom.xml                                    |   1 +
 contrib/storage-kafka/README.md                    | 230 +++++++++++++++
 contrib/storage-kafka/pom.xml                      | 101 +++++++
 .../drill/exec/store/kafka/KafkaGroupScan.java     | 319 +++++++++++++++++++++
 .../drill/exec/store/kafka/KafkaRecordReader.java  | 145 ++++++++++
 .../exec/store/kafka/KafkaScanBatchCreator.java    |  55 ++++
 .../drill/exec/store/kafka/KafkaScanSpec.java      |  40 +++
 .../drill/exec/store/kafka/KafkaStoragePlugin.java | 100 +++++++
 .../exec/store/kafka/KafkaStoragePluginConfig.java |  78 +++++
 .../drill/exec/store/kafka/KafkaSubScan.java       | 177 ++++++++++++
 .../drill/exec/store/kafka/MessageIterator.java    | 114 ++++++++
 .../drill/exec/store/kafka/MetaDataField.java      |  37 +++
 .../store/kafka/decoders/JsonMessageReader.java    | 104 +++++++
 .../exec/store/kafka/decoders/MessageReader.java   |  45 +++
 .../store/kafka/decoders/MessageReaderFactory.java |  63 ++++
 .../drill/exec/store/kafka/package-info.java       |  24 ++
 .../store/kafka/schema/KafkaMessageSchema.java     |  86 ++++++
 .../store/kafka/schema/KafkaSchemaFactory.java     |  45 +++
 .../main/resources/bootstrap-storage-plugins.json  |   9 +
 .../src/main/resources/drill-module.conf           |  30 ++
 .../exec/store/kafka/KafkaMessageGenerator.java    | 134 +++++++++
 .../drill/exec/store/kafka/KafkaQueriesTest.java   | 109 +++++++
 .../drill/exec/store/kafka/KafkaTestBase.java      |  92 ++++++
 .../exec/store/kafka/MessageIteratorTest.java      | 106 +++++++
 .../drill/exec/store/kafka/QueryConstants.java     |  40 +++
 .../drill/exec/store/kafka/TestKafkaSuit.java      | 107 +++++++
 .../store/kafka/cluster/EmbeddedKafkaCluster.java  | 166 +++++++++++
 .../kafka/decoders/MessageReaderFactoryTest.java   |  67 +++++
 .../storage-kafka/src/test/resources/login.conf    |  25 ++
 distribution/pom.xml                               |   5 +
 distribution/src/assemble/bin.xml                  |   1 +
 .../java/org/apache/drill/exec/ExecConstants.java  |  12 +
 .../exec/server/options/SystemOptionManager.java   |   4 +
 .../java-exec/src/main/resources/drill-module.conf |   4 +
 .../org/apache/drill/exec/proto/UserBitShared.java |   9 +
 .../drill/exec/proto/beans/CoreOperatorType.java   |   4 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   1 +
 37 files changed, 2688 insertions(+), 1 deletion(-)

commit 05d8b3c2c078c5cf89fcbe05a9a6cf555a21d303
Author: Prasad Nagaraj Subramanya <prasadns14@gmail.com>
Date:   Thu Nov 16 23:03:43 2017 -0800

    DRILL-5952: Implement "CREATE TABLE IF NOT EXISTS and CREATE VIEW IF NOT EXISTS"
    
    closes #1033

 .../src/main/codegen/includes/parserImpls.ftl      | 25 ++++--
 .../drill/exec/planner/sql/SqlConverter.java       |  3 +
 .../planner/sql/handlers/CreateTableHandler.java   | 41 ++++++----
 .../exec/planner/sql/handlers/ViewHandler.java     | 69 +++++++++++------
 .../sql/parser/CompoundIdentifierConverter.java    |  2 +-
 .../exec/planner/sql/parser/SqlCreateTable.java    | 22 ++++--
 .../exec/planner/sql/parser/SqlCreateView.java     | 37 +++++----
 .../java/org/apache/drill/exec/sql/TestCTAS.java   | 61 +++++++++++++++
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  | 60 +++++++++++++++
 .../org/apache/drill/exec/sql/TestViewSupport.java | 90 ++++++++++++++++++++++
 10 files changed, 347 insertions(+), 63 deletions(-)

commit 27dc0d27d5efad839ce3a63917c13e48536e57d2
Author: cgivre <cgivre@gmail.com>
Date:   Wed Nov 22 13:48:06 2017 -0500

    DRILL-5981: Add syntax highlighting and error checking to plugin configuration page.
    
    closes #1043

 .../rest/static/js/ace-code-editor/ace.js          | 14 ++++++++++++
 .../rest/static/js/ace-code-editor/mode-json.js    |  1 +
 .../rest/static/js/ace-code-editor/mode-sql.js     |  1 +
 .../static/js/ace-code-editor/theme-eclipse.js     |  1 +
 .../rest/static/js/ace-code-editor/worker-json.js  |  1 +
 .../src/main/resources/rest/storage/update.ftl     | 26 +++++++++++++++++++++-
 6 files changed, 43 insertions(+), 1 deletion(-)

commit 1e7899909af31c90985f141fbcb9e6e8eb13baf8
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Nov 22 17:45:42 2017 +0200

    DRILL-5986: Update jackson-databind version to 2.7.9.1
    
    closes #1046

 common/pom.xml      |  2 --
 exec/jdbc/pom.xml   |  8 ++++++--
 exec/vector/pom.xml |  2 --
 logical/pom.xml     |  2 --
 pom.xml             | 13 ++++++++++++-
 5 files changed, 18 insertions(+), 9 deletions(-)

commit bfaec2882e69e3a4a753ae96b7619c4331506255
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Wed Nov 22 12:31:18 2017 -0800

    DRILL-5987: Use one version of javassist
    
    closes #1048

 common/pom.xml  |  7 +++++--
 logical/pom.xml | 12 ------------
 pom.xml         | 24 ++++++++++++++++++++++++
 3 files changed, 29 insertions(+), 14 deletions(-)

commit 46fac0adc0931d9fcc80b8be906f4bb1562042cd
Author: chris <chris@thinkdataworks.com>
Date:   Tue Nov 21 15:53:45 2017 -0500

    DRILL-5980: Making queryType param for REST client case-insensitive
    
    This closes #1044

 .../src/main/java/org/apache/drill/exec/server/rest/QueryWrapper.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 46ca206e612f57811cae44372824933b852fbf28
Author: chris <chris@thinkdataworks.com>
Date:   Tue Nov 14 16:26:21 2017 -0500

    DRILL-5962: Add function STAsJSON to extend GIS support
    
    This closes #1036

 .../drill/exec/expr/fn/impl/gis/STAsJson.java      | 64 ++++++++++++++++++++++
 .../expr/fn/impl/gis/TestGeometryFunctions.java    | 25 +++++++++
 2 files changed, 89 insertions(+)

commit b8598b6b69156b1a7ec984a4ffa2559658a1e98a
Author: chris <chris@thinkdataworks.com>
Date:   Tue Nov 14 09:28:36 2017 -0500

    DRILL-5960: Add ST_AsGeoJSON functionality from PostGIS
    
    This closes  #1034

 .../drill/exec/expr/fn/impl/gis/STAsGeoJSON.java   | 64 ++++++++++++++++++++++
 .../expr/fn/impl/gis/TestGeometryFunctions.java    | 28 +++++++++-
 2 files changed, 91 insertions(+), 1 deletion(-)

commit 0e4136fc411af7b9df5413bb73cae8ee831448af
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue Nov 7 15:27:45 2017 -0800

    DRILL-5943: Avoid the strong check introduced by DRILL-5582 for PLAIN mechanism
    
    This closes #1028

 .../client/src/clientlib/drillClientImpl.cpp       | 18 ++++++++-----
 .../client/src/clientlib/saslAuthenticatorImpl.cpp | 22 ++++++++-------
 .../client/src/clientlib/saslAuthenticatorImpl.hpp |  4 +++
 .../org/apache/drill/exec/rpc/user/UserClient.java | 21 ++++++++-------
 .../org/apache/drill/exec/rpc/user/UserServer.java | 10 ++++---
 .../security/TestUserBitSaslCompatibility.java     | 31 +++++++++++++++++++---
 6 files changed, 75 insertions(+), 31 deletions(-)

commit f8bbb7591235627a58a1f10584d7902d8251d221
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Nov 9 08:58:46 2017 +0000

    DRILL-5941: Skip header / footer improvements for Hive storage plugin
    
    Overview:
    1. When table has header / footer process input splits fo the same file in one reader (bug fix for DRILL-5941).
    2. Apply skip header logic during reader initialization only once to avoid checks during reading the data (DRILL-5106).
    3. Apply skip footer logic only when footer is more then 0, otherwise default processing will be done without buffering data in queue (DRILL-5106).
    
    Code changes:
    1. AbstractReadersInitializer was introduced to factor out common logic during readers intialization.
    It will have two implementations:
    a. Default (each input split group gets its own reader);
    b. Empty (for empty tables);
    
    2. AbstractRecordsInspector was introduced to improve performance when table has footer is less or equals to 0.
    It will have two implementations:
    a. Default (records will be processed one by one without buffering);
    b. SkipFooter (queue will be used to buffer N records that should be skipped in the end of file processing).
    
    3. When text table has header / footer each table file should be read as one unit. When file is being read as several input splits, they should be grouped.
    For this purpose LogicalInputSplit class was introduced which replaced InputSplitWrapper class. New class stores list of grouped input splits and returns information about splits on group level.
    Please note, during planning input splits are grouped only when data is being read from text table has header / footer each table, otherwise each input split is treated separately.
    
    4. Allow HiveAbstractReader to have multiple input splits instead of one.
    
    This closes #1030

 .../core/src/main/codegen/includes/license.ftl     |   5 +-
 .../main/codegen/templates/HiveRecordReaders.java  | 229 +++++----------------
 .../store/hive/HiveDrillNativeParquetSubScan.java  |   4 +-
 .../hive/HiveDrillNativeScanBatchCreator.java      |  99 ++++-----
 .../exec/store/hive/HiveMetadataProvider.java      | 190 ++++++++++++++---
 .../org/apache/drill/exec/store/hive/HiveScan.java |  52 ++---
 .../exec/store/hive/HiveScanBatchCreator.java      |  69 +------
 .../apache/drill/exec/store/hive/HiveSubScan.java  |  30 +--
 .../drill/exec/store/hive/HiveUtilities.java       |  45 +++-
 .../hive/{ => readers}/HiveAbstractReader.java     | 105 +++++++---
 .../initilializers/AbstractReadersInitializer.java |  78 +++++++
 .../initilializers/DefaultReadersInitializer.java  |  54 +++++
 .../initilializers/EmptyReadersInitializer.java    |  48 +++++
 .../readers/initilializers/ReadersInitializer.java |  87 ++++++++
 .../inspectors/AbstractRecordsInspector.java       |  71 +++++++
 .../inspectors/DefaultRecordsInspector.java        |  41 ++++
 .../inspectors/SkipFooterRecordsInspector.java     |  87 ++++++++
 .../apache/drill/exec/hive/TestHiveStorage.java    |  34 +--
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |  14 +-
 .../exec/store/hive/HiveTestDataGenerator.java     |  74 ++++---
 .../inspectors/SkipFooterRecordsInspectorTest.java |  84 ++++++++
 21 files changed, 1059 insertions(+), 441 deletions(-)

commit 36abdd79fe57a596dc1c508306acefdd6b3163ea
Author: Vlad Rozov <vrozov@apache.org>
Date:   Mon Nov 6 17:55:56 2017 -0800

    DRILL-5936: Refactor MergingRecordBatch based on code inspection
    
    This closes #1025

 .../impl/mergereceiver/MergingRecordBatch.java     | 41 ++++++++++------------
 1 file changed, 18 insertions(+), 23 deletions(-)

commit 23e65657db964522de5eec69283dc697071a225c
Author: Vlad Rozov <vrozov@apache.org>
Date:   Tue Nov 7 17:07:38 2017 -0800

    DRILL-5917: Ban org.json:json library in Drill
    
    This closes #1031

 contrib/format-maprdb/pom.xml                |  5 +++-
 contrib/storage-hbase/pom.xml                |  4 +++
 contrib/storage-hive/core/pom.xml            | 11 +++++++++
 contrib/storage-hive/hive-exec-shade/pom.xml |  8 ++++++
 exec/java-exec/pom.xml                       | 14 +++++++++++
 exec/vector/pom.xml                          | 37 ++++++++++------------------
 pom.xml                                      | 17 ++++++++++++-
 7 files changed, 70 insertions(+), 26 deletions(-)

commit b1f0739fdee5fc1d2b1c43fa052d1fc92fd33af0
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Tue Nov 14 14:15:28 2017 -0800

    DRILL-5867: List profiles in pages rather than a long verbose listing
    
    Leverage existing DataTables libraries to paginate a long pre-fetched list of profiles for listing.
    Added benefit of querying through that list (search field) is also available for a user
    Minor change made to the display text for prefetching of profiles (DRILL-5259) so that it is not confused with what this commit adds to the UI.
    
    This closes #1029

 .../exec/server/rest/profile/ProfileResources.java | 39 ++++++++++--
 .../src/main/resources/rest/profile/list.ftl       | 69 ++++++++++++++++++++--
 2 files changed, 99 insertions(+), 9 deletions(-)

commit 1285c80fa91e0fe10e3a60b58bd5af71882a7ed2
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Tue Nov 14 10:48:36 2017 -0800

    DRILL-5801: Gantt chart (fragment timeline) enhancements
    
    1. Labelled X and Y axes on the Gantt Chart that expresses the fragments' timelines
    2. Support mouse hover to reveal major fragment ID
    
    This closes #1035

 .../src/main/resources/rest/static/js/graph.js     | 60 ++++++++++++++++++----
 1 file changed, 51 insertions(+), 9 deletions(-)

commit 7506cfbb5c8522d371c12dbdc2268d48a9449a48
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Oct 26 16:09:00 2017 +0300

    DRILL-5771: Fix serDe errors for format plugins
    
    1. Fix various serde issues for format plugins described in DRILL-5771.
    2. Throw meaninful exception instead of NPE when table is not found when table function is used.
    3. Added unit tests for all format plugins for ensure serde is checked (physical plan is generated in json format and then submitted).
    4. Fix physical plan submission on Windows (DRILL-4640).
    
    This closes #1014

 .../drill/exec/store/avro/AvroFormatPlugin.java    |  11 +-
 .../drill/exec/store/dfs/BasicFormatMatcher.java   |   8 +-
 .../apache/drill/exec/store/dfs/FileSelection.java |   5 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  27 ++---
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |   9 +-
 .../drill/exec/store/dfs/easy/EasySubScan.java     |  11 +-
 .../exec/store/httpd/HttpdLogFormatPlugin.java     |  55 +++++++---
 .../drill/exec/store/parquet/ParquetGroupScan.java |   4 +-
 .../exec/store/parquet/ParquetRowGroupScan.java    |  28 ++---
 .../drill/exec/store/pcap/PcapFormatConfig.java    |  10 ++
 .../drill/exec/store/pcap/PcapFormatPlugin.java    |   9 +-
 .../test/java/org/apache/drill/PlanTestBase.java   |  13 +++
 .../org/apache/drill/TestSelectWithOption.java     |  17 +++-
 .../drill/TestTpchDistributedConcurrent.java       |   2 +-
 .../drill/exec/store/FormatPluginSerDeTest.java    | 113 +++++++++++++++++++++
 15 files changed, 243 insertions(+), 79 deletions(-)

commit d4c61cadbe5c7d88fd4393cc1b29648fbadfb9f1
Author: chunhui-shi <cshi@maprtech.com>
Date:   Thu Nov 2 17:06:25 2017 -0700

    DRILL-5089: Dynamically load schema of storage plugin only when needed for every query
    
    For each query, loading all storage plugins and loading all workspaces under file system plugins is not needed.
    
    This patch use DynamicRootSchema as the root schema for Drill. Which loads correspondent storage only when needed.
    
    infoschema to read full schema information and load second level schema accordingly.
    
    for workspaces under the same Filesyetm, no need to create FileSystem for each workspace.
    
    use fs.access API to check permission which is available after HDFS 2.6 except for windows + local file system case.
    
    Add unit tests to test with a broken mock storage: with a storage that will throw Exception in regiterSchema method,
    all queries even on good storages shall fail without this fix(Drill still load all schemas from all storages).
    
    This closes #1032

 .../org/apache/drill/exec/ops/FragmentContext.java |   9 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |  11 +-
 .../drill/exec/planner/sql/DynamicRootSchema.java  | 142 +++++++++++++++++++++
 .../drill/exec/planner/sql/DynamicSchema.java      |  58 +++++++++
 .../drill/exec/planner/sql/SqlConverter.java       |   9 +-
 .../drill/exec/store/SchemaTreeProvider.java       |  31 ++++-
 .../exec/store/StoragePluginRegistryImpl.java      |   3 +
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  23 +++-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  87 ++++++++-----
 .../exec/store/ischema/InfoSchemaBatchCreator.java |   2 +-
 .../drill/exec/store/mock/MockBreakageStorage.java |  47 +++++++
 .../drill/exec/store/mock/MockStorageEngine.java   |   7 +-
 .../drill/exec/work/metadata/MetadataProvider.java |   2 +-
 .../drill/exec/physical/impl/TestSchema.java       |  87 +++++++++++++
 .../apache/drill/test/ClusterFixtureBuilder.java   |   4 +
 .../drill/test/ClusterMockStorageFixture.java      |  51 ++++++++
 16 files changed, 526 insertions(+), 47 deletions(-)

commit 5490f3dc0133fb9f0f24229e09c4cc053192ac5b
Author: Rob Wu <robwu15@gmail.com>
Date:   Tue Nov 14 23:27:29 2017 -0800

    DRILL-5968: Add support for empty service_host user property
    
    This closes #1037

 contrib/native/client/src/clientlib/drillClientImpl.cpp    |  4 ++--
 contrib/native/client/src/include/drill/userProperties.hpp | 11 +++++++++++
 2 files changed, 13 insertions(+), 2 deletions(-)

commit acc5ed927e1fa4011ac1c3724d15197484b9f45b
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Nov 9 14:25:53 2017 -0800

    DRILL-5783, DRILL-5841, DRILL-5894: Rationalize test temp directories
    
    This change includes:
    
    DRILL-5783:
     - A unit test is created for the priority queue in the TopN operator.
     - The code generation classes passed around a completely unused function registry reference in some places so it is removed.
     - The priority queue had unused parameters for some of its methods so it is removed.
    
    DRILL-5841:
     - Created standardized temp directory classes DirTestWatcher, SubDirTestWatcher, and BaseDirTestWatcher. And updated all unit tests to use them.
    
    DRILL-5894:
     - Removed the dfs_test storage plugin for tests and replaced it with the already existing dfs storage plugin.
    
    Misc:
     - General code cleanup.
     - Removed unnecessary use of String.format in the tests.
    
    This closes #984

 .../util/{FileUtils.java => DrillFileUtils.java}   |  15 +-
 .../org/apache/drill/common/util/TestTools.java    |  75 ----
 .../java/org/apache/drill/test/DirTestWatcher.java | 167 +++++++++
 .../test/java/org/apache/drill/test/DrillTest.java |  19 +-
 .../org/apache/drill/test/SubDirTestWatcher.java   | 193 ++++++++++
 .../test/java/org/apache/drill/test/TestTools.java | 104 ++++++
 .../org/apache/drill/testutils/DirTestWatcher.java |  61 ----
 .../mapr/drill/maprdb/tests/json/BaseJsonTest.java |   2 +-
 .../expr/fn/impl/gis/TestGeometryFunctions.java    |  10 +-
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |   6 +-
 .../apache/drill/hbase/HBaseRecordReaderTest.java  |   2 +-
 .../hbase/TestOrderedBytesConvertFunctions.java    |   2 +-
 .../apache/drill/exec/fn/hive/TestHiveUDFs.java    |   2 +-
 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    |   4 +-
 .../org/apache/drill/exec/hive/HiveTestBase.java   |   4 +-
 .../apache/drill/exec/hive/TestHiveStorage.java    |   1 -
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |   5 +-
 .../hive/BaseTestHiveImpersonation.java            |  14 +-
 .../exec/sql/hive/TestViewSupportOnHiveTables.java |  16 +-
 .../exec/store/hive/HiveTestDataGenerator.java     |  46 ++-
 .../apache/drill/store/kudu/TestKuduPlugin.java    |   2 +-
 .../exec/store/mongo/TestMongoProjectPushDown.java |   4 +-
 .../drill/exec/compile/ClassTransformer.java       |  11 +-
 .../apache/drill/exec/compile/CodeCompiler.java    |   6 +-
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  38 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   9 +-
 .../exec/expr/fn/FunctionGenerationHelper.java     |  18 +-
 .../drill/exec/expr/fn/FunctionInitializer.java    |   5 +-
 .../exec/physical/impl/TopN/PriorityQueue.java     |  60 +++-
 .../physical/impl/TopN/PriorityQueueTemplate.java  |  18 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  78 ++--
 .../exec/physical/impl/aggregate/HashAggBatch.java |   3 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |   5 +-
 .../physical/impl/common/ChainedHashTable.java     |   2 +-
 .../physical/impl/filter/FilterRecordBatch.java    |   4 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |   4 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |   5 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |   4 +-
 .../physical/impl/join/NestedLoopJoinBatch.java    |   5 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |   6 +-
 .../OrderedPartitionRecordBatch.java               |   9 +-
 .../partitionsender/PartitionSenderRootExec.java   |   4 +-
 .../physical/impl/project/ProjectRecordBatch.java  |  13 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   6 +-
 .../impl/svremover/RemovingRecordBatch.java        |  19 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |   2 +-
 .../impl/window/WindowFrameRecordBatch.java        |   3 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |   6 +-
 .../impl/xsort/managed/MergeSortWrapper.java       |   4 +-
 .../xsort/managed/PriorityQueueCopierWrapper.java  |   4 +-
 .../physical/impl/xsort/managed/SorterWrapper.java |   3 +-
 .../org/apache/drill/exec/record/BatchSchema.java  |   4 +-
 .../exec/record/selection/SelectionVector4.java    |   8 +
 .../drill/exec/store/dfs/FileSystemPlugin.java     |   1 +
 .../exec/store/easy/json/JSONFormatPlugin.java     |   2 +-
 .../drill/exec/util/StoragePluginTestUtils.java    | 125 +++++++
 .../org/apache/drill/exec/util/TestUtilities.java  | 148 --------
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 .../test/java/org/apache/drill/PlanTestBase.java   |   2 +
 .../test/java/org/apache/drill/PlanningBase.java   |   2 +-
 .../java/org/apache/drill/TestAggNullable.java     |  23 +-
 .../java/org/apache/drill/TestAltSortQueries.java  |  22 +-
 .../test/java/org/apache/drill/TestBugFixes.java   |  27 +-
 .../test/java/org/apache/drill/TestCTASJson.java   |  16 +-
 .../org/apache/drill/TestCTASPartitionFilter.java  |  45 +--
 .../java/org/apache/drill/TestCaseSensitivity.java |   1 +
 .../apache/drill/TestDisabledFunctionality.java    |  56 +--
 .../test/java/org/apache/drill/TestDropTable.java  |  62 ++--
 .../org/apache/drill/TestDynamicUDFSupport.java    | 196 ++++++----
 .../java/org/apache/drill/TestExampleQueries.java  | 195 ++++------
 .../java/org/apache/drill/TestFrameworkTest.java   |  14 +-
 .../java/org/apache/drill/TestFunctionsQuery.java  |   1 +
 .../drill/TestFunctionsWithTypeExpoQueries.java    | 172 ++++-----
 .../src/test/java/org/apache/drill/TestInList.java |   3 +-
 .../java/org/apache/drill/TestJoinNullable.java    | 157 ++++----
 .../java/org/apache/drill/TestMergeFilterPlan.java |  64 ++--
 .../org/apache/drill/TestOutOfMemoryOutcome.java   |   3 +-
 .../java/org/apache/drill/TestPartitionFilter.java | 258 +++++++-------
 .../java/org/apache/drill/TestProjectPushDown.java |  20 +-
 .../java/org/apache/drill/TestSchemaChange.java    |  15 +-
 .../org/apache/drill/TestSelectWithOption.java     |  13 +-
 .../java/org/apache/drill/TestSelectivity.java     |   1 +
 .../java/org/apache/drill/TestStarQueries.java     |  30 +-
 .../test/java/org/apache/drill/TestTextJoin.java   |  25 +-
 .../java/org/apache/drill/TestTpchDistributed.java |   1 +
 .../drill/TestTpchDistributedConcurrent.java       |   4 +-
 .../apache/drill/TestTpchDistributedStreaming.java |   3 +-
 .../java/org/apache/drill/TestTpchExplain.java     |   3 +-
 .../test/java/org/apache/drill/TestTpchLimit0.java |   3 +-
 .../java/org/apache/drill/TestTpchPlanning.java    |   2 +-
 .../java/org/apache/drill/TestTpchSingleMode.java  |   3 +-
 .../test/java/org/apache/drill/TestUnionAll.java   | 343 ++++++++----------
 .../java/org/apache/drill/TestUnionDistinct.java   | 338 ++++++------------
 .../apache/drill/TestUtf8SupportInQueryString.java |   1 +
 .../drill/exec/DrillSeparatePlanningTest.java      |  44 +--
 .../test/java/org/apache/drill/exec/ExecTest.java  |  20 --
 .../org/apache/drill/exec/TestEmptyInputSql.java   |  52 +--
 .../apache/drill/exec/TestQueriesOnLargeFile.java  |  32 +-
 .../org/apache/drill/exec/TestRepeatedReaders.java |  41 +--
 .../org/apache/drill/exec/TestWindowFunctions.java |  47 +--
 .../apache/drill/exec/cache/TestWriteToDisk.java   |   2 +-
 .../org/apache/drill/exec/client/DumpCatTest.java  |   4 +-
 .../exec/compile/TestClassTransformation.java      |   4 +-
 .../drill/exec/compile/TestEvaluationVisitor.java  |  11 +-
 .../exec/compile/TestLargeFileCompilation.java     |  17 +-
 .../org/apache/drill/exec/expr/ExpressionTest.java |   8 +-
 .../drill/exec/expr/TestLogicalExprSerDe.java      |   2 +-
 .../exec/expr/TestSchemaPathMaterialization.java   |  14 +-
 .../exec/expr/fn/FunctionInitializerTest.java      |  10 +-
 .../exec/expr/fn/impl/TestStringFunctions.java     |  21 +-
 .../drill/exec/fn/impl/TestAggregateFunction.java  |   4 +-
 .../drill/exec/fn/impl/TestAggregateFunctions.java |  70 ++--
 .../drill/exec/fn/impl/TestCastEmptyStrings.java   | 143 ++++----
 .../drill/exec/fn/impl/TestCastFunctions.java      |  76 ++--
 .../drill/exec/fn/impl/TestContextFunctions.java   |  10 +-
 .../drill/exec/fn/impl/TestCryptoFunctions.java    |   2 +-
 .../drill/exec/fn/impl/TestDateAddFunctions.java   |   2 +-
 .../drill/exec/fn/impl/TestDateFunctions.java      |   7 +-
 .../drill/exec/fn/impl/TestDateTruncFunctions.java |   2 +-
 .../drill/exec/fn/impl/TestMathFunctions.java      |   4 +-
 .../drill/exec/fn/impl/TestMultiInputAdd.java      |   4 +-
 .../drill/exec/fn/impl/TestNetworkFunctions.java   |   2 +-
 .../exec/fn/impl/TestNewAggregateFunctions.java    |   4 +-
 .../drill/exec/fn/impl/TestNewDateFunctions.java   |   2 +-
 .../fn/impl/TestNewSimpleRepeatedFunctions.java    |   2 +-
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |   4 +-
 .../drill/exec/fn/impl/TestTrigFunctions.java      |   2 +-
 .../exec/fn/impl/testing/TestDateConversions.java  | 117 +++---
 .../drill/exec/fn/interp/TestConstantFolding.java  |  38 +-
 .../exec/impersonation/BaseTestImpersonation.java  |  11 +-
 .../TestImpersonationDisabledWithMiniDFS.java      |  16 +-
 .../impersonation/TestImpersonationMetadata.java   |  16 +-
 .../impersonation/TestImpersonationQueries.java    |  24 +-
 .../impersonation/TestInboundImpersonation.java    |   8 +-
 .../TestInboundImpersonationPrivileges.java        |   4 +-
 .../apache/drill/exec/memory/TestAllocators.java   |   4 +-
 .../drill/exec/nested/TestFastComplexSchema.java   |   2 +-
 .../drill/exec/nested/TestNestedComplexSchema.java |   2 +-
 .../apache/drill/exec/opt/BasicOptimizerTest.java  |   4 +-
 .../physical/config/TestParsePhysicalPlan.java     |   4 +-
 .../exec/physical/impl/TestBroadcastExchange.java  |  10 +-
 .../exec/physical/impl/TestCastFunctions.java      |  24 +-
 .../physical/impl/TestCastVarCharToBigInt.java     |   4 +-
 .../exec/physical/impl/TestConvertFunctions.java   |  58 ++-
 .../drill/exec/physical/impl/TestDecimal.java      |  14 +-
 .../physical/impl/TestDistributedFragmentRun.java  |  10 +-
 .../exec/physical/impl/TestExtractFunctions.java   |   4 +-
 .../physical/impl/TestHashToRandomExchange.java    |   4 +-
 .../exec/physical/impl/TestLocalExchange.java      |  47 +--
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   6 +-
 .../physical/impl/TestReverseImplicitCast.java     |   4 +-
 .../exec/physical/impl/TestSimpleFragmentRun.java  |   8 +-
 .../exec/physical/impl/TestSimpleFunctions.java    |   8 +-
 .../exec/physical/impl/TestStringFunctions.java    |   1 -
 .../exec/physical/impl/TestUnionExchange.java      |   4 +-
 .../exec/physical/impl/TopN/TestSimpleTopN.java    | 102 ------
 .../physical/impl/TopN/TestTopNSchemaChanges.java  |  77 ++--
 .../exec/physical/impl/TopN/TopNBatchTest.java     | 173 +++++++++
 .../drill/exec/physical/impl/agg/TestAgg.java      |   4 +-
 .../drill/exec/physical/impl/agg/TestHashAggr.java |   2 +-
 .../exec/physical/impl/agg/TestHashAggrSpill.java  | 153 ++++----
 .../impl/broadcastsender/TestBroadcast.java        |  25 +-
 .../physical/impl/filter/TestLargeInClause.java    |   2 +-
 .../physical/impl/filter/TestSimpleFilter.java     |   6 +-
 .../exec/physical/impl/flatten/TestFlatten.java    | 221 ++++++------
 .../physical/impl/flatten/TestFlattenPlanning.java |   6 +-
 .../exec/physical/impl/join/TestHashJoin.java      |  24 +-
 .../physical/impl/join/TestHashJoinAdvanced.java   |  45 +--
 .../exec/physical/impl/join/TestMergeJoin.java     |  32 +-
 .../physical/impl/join/TestMergeJoinAdvanced.java  |  42 ++-
 .../impl/join/TestMergeJoinMulCondition.java       |  10 +-
 .../impl/join/TestMergeJoinWithSchemaChanges.java  | 123 +++----
 .../physical/impl/join/TestNestedLoopJoin.java     |  17 +-
 .../impl/limit/TestEarlyLimit0Optimization.java    |  36 +-
 .../impl/limit/TestLimitWithExchanges.java         |  45 +--
 .../exec/physical/impl/limit/TestSimpleLimit.java  |   6 +-
 .../impl/mergereceiver/TestMergingReceiver.java    |  12 +-
 .../TestOrderedPartitionExchange.java              |   4 +-
 .../impl/partitionsender/TestPartitionSender.java  |  31 +-
 .../impl/project/TestSimpleProjection.java         |   4 +-
 .../exec/physical/impl/sort/TestSimpleSort.java    |   6 +-
 .../drill/exec/physical/impl/sort/TestSort.java    |   2 +-
 .../physical/impl/svremover/TestSVRemover.java     |   2 +-
 .../impl/trace/TestTraceMultiRecordBatch.java      |   4 +-
 .../physical/impl/trace/TestTraceOutputDump.java   |   4 +-
 .../exec/physical/impl/union/TestSimpleUnion.java  |   4 +-
 .../impl/validate/TestValidationOptions.java       |  21 +-
 .../physical/impl/window/GenerateTestData.java     |  24 +-
 .../exec/physical/impl/window/TestWindowFrame.java |  85 +++--
 .../writer/TestCorruptParquetDateCorrection.java   |  85 +++--
 .../physical/impl/writer/TestParquetWriter.java    | 146 ++++----
 .../impl/writer/TestParquetWriterEmptyFiles.java   |  50 +--
 .../exec/physical/impl/writer/TestWriter.java      | 110 +++---
 .../exec/physical/impl/xsort/TestExternalSort.java | 171 ++++++---
 .../impl/xsort/TestSimpleExternalSort.java         |  29 +-
 .../impl/xsort/TestSortSpillWithException.java     |  17 +-
 .../physical/unit/BasicPhysicalOpUnitTest.java     |   2 +-
 .../exec/physical/unit/MiniPlanUnitTestBase.java   |   8 +-
 .../exec/physical/unit/PhysicalOpUnitTestBase.java |  61 +++-
 .../drill/exec/physical/unit/TestMiniPlan.java     |   4 +-
 .../exec/physical/unit/TestNullInputMiniPlan.java  |   6 +-
 .../exec/planner/TestDirectoryExplorerUDFs.java    |  93 +++--
 .../planner/logical/TestCaseNullableTypes.java     |   2 +-
 .../logical/TestConvertCountToDirectScan.java      |  12 +-
 .../drill/exec/planner/sql/TestDrillSQLWorker.java |   2 +-
 .../org/apache/drill/exec/pop/PopUnitTestBase.java |   6 +-
 .../apache/drill/exec/pop/TestInjectionValue.java  |   4 +-
 .../drill/exec/record/TestRecordIterator.java      |   6 +-
 .../drill/exec/record/vector/TestDateTypes.java    |  14 +-
 .../drill/exec/rpc/control/TestCustomTunnel.java   |   2 +-
 .../drill/exec/rpc/data/TestBitBitKerberos.java    |   4 +-
 .../drill/exec/rpc/security/KerberosHelper.java    |   6 +-
 .../rpc/user/TemporaryTablesAutomaticDropTest.java |  67 ++--
 .../user/security/TestCustomUserAuthenticator.java |   2 +-
 .../rpc/user/security/TestUserBitKerberos.java     |   4 +-
 .../security/TestUserBitKerberosEncryption.java    |   4 +-
 .../exec/rpc/user/security/TestUserBitSSL.java     |   5 +-
 .../rpc/user/security/TestUserBitSSLServer.java    |  20 +-
 .../security/TestUserBitSaslCompatibility.java     |   3 +-
 .../drill/exec/server/TestDrillbitResilience.java  |   4 +-
 .../org/apache/drill/exec/server/TestOptions.java  |   2 +-
 .../drill/exec/server/TestOptionsAuthEnabled.java  |   8 +-
 .../drill/exec/server/TestTpcdsSf1Leaks.java       |   4 +-
 .../server/options/PersistedOptionValueTest.java   |  11 +-
 .../server/options}/TestConfigLinkage.java         |  65 ++--
 .../exec/server/rest/StatusResourcesTest.java      |  14 +-
 .../apache/drill/exec/sql/TestBaseViewSupport.java |  16 +-
 .../java/org/apache/drill/exec/sql/TestCTAS.java   | 207 ++++-------
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  |  82 ++---
 .../org/apache/drill/exec/sql/TestInfoSchema.java  |  66 ++--
 .../drill/exec/sql/TestSimpleCastFunctions.java    |   2 +-
 .../org/apache/drill/exec/sql/TestViewSupport.java | 173 ++++-----
 .../org/apache/drill/exec/sql/TestWithClause.java  |   2 +-
 .../drill/exec/store/TestImplicitFileColumns.java  |  94 +++--
 .../apache/drill/exec/store/TestTimedRunnable.java |   2 +-
 .../drill/exec/store/avro/AvroFormatTest.java      | 257 ++++++--------
 .../apache/drill/exec/store/avro/AvroTestUtil.java |  82 ++---
 .../exec/store/bson/TestBsonRecordReader.java      |   2 +-
 .../drill/exec/store/dfs/TestFileSelection.java    |  11 +-
 .../org/apache/drill/exec/store/dfs/TestGlob.java  |  92 ++---
 .../store/dfs/TestSchemaNotFoundException.java     |  12 +-
 .../exec/store/easy/text/compliant/TestCsv.java    |  18 +-
 .../Drill2283InfoSchemaVarchar1BugTest.java        |   2 +-
 .../exec/store/json/TestJsonRecordReader.java      |  24 +-
 .../exec/store/parquet/ParquetInternalsTest.java   |  37 +-
 .../store/parquet/ParquetRecordReaderTest.java     | 100 +++---
 .../exec/store/parquet/TestFixedlenDecimal.java    |  15 +-
 .../exec/store/parquet/TestParquetComplex.java     |   2 +-
 .../store/parquet/TestParquetFilterPushDown.java   | 227 ++++++------
 .../exec/store/parquet/TestParquetGroupScan.java   |  44 +--
 .../store/parquet/TestParquetMetadataCache.java    | 393 ++++++++++-----------
 .../drill/exec/store/parquet/TestParquetScan.java  |  40 +--
 .../columnreaders/TestColumnReaderFactory.java     |   2 +-
 .../parquet/columnreaders/TestDateReader.java      |   2 +-
 .../store/parquet2/TestDrillParquetReader.java     |   6 +-
 .../drill/exec/store/pcap/TestPcapDecoder.java     |   3 +-
 .../exec/store/pcap/TestPcapRecordReader.java      |  22 +-
 .../store/sequencefile/TestSequenceFileReader.java |   9 +-
 .../drill/exec/store/sys/PStoreTestUtil.java       |  30 +-
 .../drill/exec/store/sys/TestPStoreProviders.java  |  27 +-
 .../drill/exec/store/sys/TestSystemTable.java      |   2 +-
 .../drill/exec/store/text/TestCsvHeader.java       |  68 ++--
 .../drill/exec/store/text/TestNewTextReader.java   |  31 +-
 .../drill/exec/store/text/TestTextColumn.java      |  11 +-
 .../exec/store/text/TextRecordReaderTest.java      |   6 +-
 .../exec/testing/TestCountDownLatchInjection.java  |   2 +-
 .../drill/exec/testing/TestExceptionInjection.java |   2 +-
 .../drill/exec/testing/TestPauseInjection.java     |   2 +-
 .../drill/exec/testing/TestResourceLeak.java       |   2 +-
 .../exec/vector/complex/TestEmptyPopulation.java   |   6 +-
 .../complex/fn/TestJsonReaderWithSparseFiles.java  |   2 +-
 .../vector/complex/writer/TestComplexToJson.java   |   8 +-
 .../complex/writer/TestComplexTypeReader.java      |  59 ++--
 .../complex/writer/TestComplexTypeWriter.java      |   2 +-
 .../vector/complex/writer/TestExtendedTypes.java   |  46 ++-
 .../exec/vector/complex/writer/TestJsonReader.java | 241 +++++--------
 .../drill/exec/work/batch/TestSpoolingBuffer.java  |   6 +-
 .../work/fragment/TestFragmentExecutorCancel.java  |   2 +-
 .../exec/work/metadata/TestMetadataProvider.java   |  19 +-
 .../exec/work/metadata/TestServerMetaProvider.java |   2 +-
 .../work/prepare/PreparedStatementTestBase.java    |   2 +-
 .../org/apache/drill/test/BaseDirTestWatcher.java  | 278 +++++++++++++++
 .../org/apache/drill/{ => test}/BaseTestQuery.java | 150 ++------
 .../java/org/apache/drill/test/ClientFixture.java  |   4 +-
 .../java/org/apache/drill/test/ClusterFixture.java | 215 +++--------
 .../apache/drill/test/ClusterFixtureBuilder.java   |  61 +---
 .../java/org/apache/drill/test/ClusterTest.java    |   2 -
 .../apache/drill/{ => test}/DrillTestWrapper.java  |  52 ++-
 .../java/org/apache/drill/test/ExampleTest.java    |  98 +++--
 .../java/org/apache/drill/test/HadoopUtils.java    |  44 +++
 .../java/org/apache/drill/test/QueryBuilder.java   |   1 -
 .../org/apache/drill/{ => test}/QueryTestUtil.java |  11 +-
 .../org/apache/drill/{ => test}/TestBuilder.java   |  12 +-
 .../java/org/apache/drill/test/package-info.java   | 117 ++++--
 .../java/org/apache/drill/test/rowSet/RowSet.java  |  16 +-
 .../apache/drill/test/rowSet/RowSetBuilder.java    |   2 +-
 .../apache/drill/test/rowSet/RowSetComparison.java |  37 ++
 .../drill/test/rowSet/file/JsonFileBuilder.java    | 159 +++++++++
 .../test/resources/bootstrap-storage-plugins.json  |  75 ----
 .../test/resources/parquet/parquet_nullable.json   |   6 +-
 .../resources/parquet/parquet_nullable_varlen.json |   6 +-
 .../resources/parquet/parquet_scan_screen.json     |   6 +-
 .../src/test/resources/queries/tpch/15.sql         |   2 +-
 .../src/test/resources/store/text/test.json        |   2 +-
 .../src/test/resources/topN/one_key_sort.json      |   4 +-
 .../java-exec/src/test/resources/tpcds-sf1/q73.sql |  10 +-
 exec/java-exec/src/test/resources/window/3604.sql  |   2 +-
 exec/java-exec/src/test/resources/window/3605.sql  |   2 +-
 exec/java-exec/src/test/resources/window/3606.sql  |   2 +-
 exec/java-exec/src/test/resources/window/3648.sql  |   2 +-
 exec/java-exec/src/test/resources/window/3668.sql  |   2 +-
 .../src/test/resources/window/fval.alltypes.sql    |   2 +-
 .../src/test/resources/window/fval.pby.sql         |   2 +-
 .../src/test/resources/window/lag.oby.sql          |   2 +-
 .../src/test/resources/window/lag.pby.oby.sql      |   2 +-
 .../src/test/resources/window/lead.oby.sql         |   2 +-
 .../src/test/resources/window/lead.pby.oby.sql     |   2 +-
 .../src/test/resources/window/lval.alltypes.sql    |   2 +-
 .../src/test/resources/window/lval.pby.oby.sql     |   2 +-
 exec/java-exec/src/test/resources/window/ntile.sql |   2 +-
 exec/java-exec/src/test/resources/window/q1.sql    |   2 +-
 exec/java-exec/src/test/resources/window/q2.sql    |   2 +-
 exec/java-exec/src/test/resources/window/q3.sql    |   2 +-
 exec/java-exec/src/test/resources/window/q3218.sql |   2 +-
 exec/java-exec/src/test/resources/window/q3220.sql |   2 +-
 exec/java-exec/src/test/resources/window/q4.sql    |   2 +-
 .../test/resources/writer/simple_csv_writer.json   |   6 +-
 .../org/apache/drill/jdbc/ITTestShadedJar.java     | 134 ++++---
 .../drill/jdbc/impl/DrillConnectionImpl.java       |  42 ++-
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java |  79 ++---
 .../org/apache/drill/jdbc/DrillResultSetTest.java  |  13 +-
 .../java/org/apache/drill/jdbc/JdbcTestBase.java   | 334 ++++++++++++++++-
 .../jdbc/LegacyDatabaseMetaDataGetColumnsTest.java |   6 +-
 .../apache/drill/jdbc/ResultSetMetaDataTest.java   |  11 +-
 .../jdbc/test/Bug1735ConnectionCloseTest.java      |   8 +-
 .../Bug1735ResultSetCloseReleasesBuffersTest.java  |   5 +-
 ...28GetColumnsDataTypeNotTypeCodeIntBugsTest.java |   2 +-
 .../Drill2288GetColumnsMetadataWhenNoRowsTest.java |   8 +-
 ...l2439GetBooleanFailsSayingWrongTypeBugTest.java |   2 +-
 .../Drill2461IntervalsBreakInfoSchemaBugTest.java  |   4 +-
 ...ill2463GetNullsFailedWithAssertionsBugTest.java |   2 +-
 ...rill2489CallsAfterCloseThrowExceptionsTest.java |   8 +-
 ...l2769UnsupportedReportsUseSqlExceptionTest.java |   7 +-
 .../org/apache/drill/jdbc/test/JdbcAssert.java     | 361 -------------------
 .../test/JdbcConnectTriesTestEmbeddedBits.java     |  20 +-
 .../org/apache/drill/jdbc/test/JdbcDataTest.java   | 133 ++-----
 .../jdbc/test/JdbcNullOrderingAndGroupingTest.java | 266 +++++---------
 .../apache/drill/jdbc/test/JdbcTestActionBase.java |  62 +---
 .../apache/drill/jdbc/test/JdbcTestQueryBase.java  |   8 +-
 .../jdbc/test/TestAggregateFunctionsQuery.java     |  34 +-
 .../jdbc/test/TestInformationSchemaColumns.java    |  76 ++--
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  | 111 +++---
 .../apache/drill/jdbc/test/TestJdbcMetadata.java   |   7 +-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |  84 +++--
 .../drill/jdbc/test/TestLegacyJdbcMetadata.java    |   2 +-
 .../apache/drill/exec/memory/ChildAllocator.java   |  11 +-
 .../apache/drill/exec/vector/BaseValueVector.java  |   2 -
 .../org/apache/drill/exec/vector/ValueVector.java  |   1 +
 .../exec/vector/complex/RepeatedMapVector.java     |   4 -
 .../apache/drill/storage/CheckStorageConfig.java   |   4 +-
 360 files changed, 6389 insertions(+), 6555 deletions(-)

commit c56de2f13a36d673f0c5836d44817137e64b91e4
Author: Paul Rogers <progers@maprtech.com>
Date:   Wed Oct 4 22:43:44 2017 -0700

    DRILL-5842: Refactor fragment, operator contexts
    
    This closes #978

 .../exec/ops/AbstractOperatorExecContext.java      |  95 ----------
 .../drill/exec/ops/AccountingDataTunnel.java       |   3 +-
 .../apache/drill/exec/ops/BaseFragmentContext.java |  90 ++++++++++
 .../apache/drill/exec/ops/BaseOperatorContext.java | 196 +++++++++++++++++++++
 .../org/apache/drill/exec/ops/FragmentContext.java |  81 +++------
 ...cContext.java => FragmentContextInterface.java} |  34 +++-
 .../org/apache/drill/exec/ops/OperExecContext.java |  90 ----------
 .../apache/drill/exec/ops/OperExecContextImpl.java | 146 ---------------
 .../org/apache/drill/exec/ops/OperatorContext.java |  97 +++++++++-
 .../apache/drill/exec/ops/OperatorContextImpl.java |  76 ++------
 .../apache/drill/exec/ops/OperatorExecContext.java |  46 -----
 .../drill/exec/ops/OperatorStatReceiver.java       |   4 +
 .../org/apache/drill/exec/ops/OperatorStats.java   |   2 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |   5 +-
 .../physical/impl/xsort/SingleBatchSorter.java     |   4 +-
 .../impl/xsort/SingleBatchSorterTemplate.java      |   6 +-
 .../impl/xsort/managed/BaseSortWrapper.java        |   9 +-
 .../physical/impl/xsort/managed/BaseWrapper.java   |   8 +-
 .../impl/xsort/managed/BufferedBatches.java        |   6 +-
 .../impl/xsort/managed/ExternalSortBatch.java      |  10 +-
 .../physical/impl/xsort/managed/MSortTemplate.java |   8 +-
 .../exec/physical/impl/xsort/managed/MSorter.java  |   4 +-
 .../impl/xsort/managed/MergeSortWrapper.java       |  15 +-
 .../xsort/managed/PriorityQueueCopierWrapper.java  |  10 +-
 .../exec/physical/impl/xsort/managed/SortImpl.java |  10 +-
 .../physical/impl/xsort/managed/SortMetrics.java   |   1 +
 .../physical/impl/xsort/managed/SorterWrapper.java |  10 +-
 .../physical/impl/xsort/managed/SpilledRuns.java   |   8 +-
 .../exec/store/dfs/DrillFSDataInputStream.java     |  11 +-
 .../drill/exec/store/dfs/DrillFileSystem.java      |   6 +-
 .../impl/xsort/managed/SortTestUtilities.java      |   8 +-
 .../physical/impl/xsort/managed/TestSortImpl.java  |   8 +-
 .../physical/impl/xsort/managed/TestSorter.java    |   6 +-
 .../physical/unit/BasicPhysicalOpUnitTest.java     |   3 +
 .../exec/physical/unit/MiniPlanUnitTestBase.java   |  36 ++--
 .../exec/physical/unit/PhysicalOpUnitTestBase.java |  14 +-
 .../org/apache/drill/test/OperatorFixture.java     | 124 ++++++++-----
 37 files changed, 645 insertions(+), 645 deletions(-)

commit 42fc11e53557477ac01c7dd31c3aa93e22fb4384
Author: Paul Rogers <progers@maprtech.com>
Date:   Mon Oct 2 15:45:21 2017 -0700

    DRILL-5832: Change OperatorFixture to use system option manager
    
    - Rename FixtureBuilder to ClusterFixtureBuilder
    - Provide alternative way to reset system/session options
    - Fix for DRILL-5833: random failure in TestParquetWriter
    - Provide strict, but clear, errors for missing options
    
    closes #970

 .../drill/common/util/CoreDecimalUtility.java      |   9 +-
 .../apache/drill/exec/hive/TestHiveStorage.java    |   7 +-
 .../apache/drill/exec/ops/BufferManagerImpl.java   |   5 +-
 .../drill/exec/physical/impl/ImplCreator.java      |   3 +
 .../exec/physical/impl/MergingReceiverCreator.java |   5 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  24 ++---
 .../drill/exec/physical/impl/ScreenCreator.java    |   6 +-
 .../drill/exec/physical/impl/TraceInjector.java    |   6 +-
 .../exec/physical/impl/WriterRecordBatch.java      |   2 +
 .../exec/server/options/BaseOptionManager.java     |  76 +++++++++++++-
 .../drill/exec/server/options/BaseOptionSet.java   |  57 -----------
 .../drill/exec/server/options/OptionSet.java       |  44 ++++++++
 .../drill/exec/server/options/OptionValidator.java |   1 -
 .../drill/exec/server/options/OptionValue.java     |   4 +
 .../exec/server/options/PersistedOptionValue.java  |   1 +
 .../exec/server/options/SystemOptionManager.java   |  26 ++++-
 .../apache/drill/exec/store/dfs/FileSelection.java |  12 ---
 .../drill/exec/store/dfs/FileSystemConfig.java     |   3 +-
 .../exec/store/dfs/FileSystemSchemaFactory.java    |   3 +-
 .../drill/exec/store/dfs/ReadEntryFromHDFS.java    |   4 +-
 .../store/parquet/ParquetScanBatchCreator.java     |   3 +-
 .../store/parquet/columnreaders/ParquetSchema.java |   2 +-
 .../store/parquet2/DrillParquetGroupConverter.java |  33 ++++--
 .../exec/store/parquet2/DrillParquetReader.java    |  39 ++-----
 .../parquet2/DrillParquetRecordMaterializer.java   |   6 +-
 .../sys/store/provider/InMemoryStoreProvider.java  |  11 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  35 +++++--
 .../exec/physical/impl/agg/TestHashAggrSpill.java  |   4 +-
 .../impl/limit/TestLimitWithExchanges.java         |   9 +-
 .../impl/validate/TestValidationOptions.java       |   8 +-
 .../physical/impl/writer/TestParquetWriter.java    | 113 ++++++++++----------
 .../impl/writer/TestParquetWriterEmptyFiles.java   |   3 +-
 .../impl/xsort/TestSimpleExternalSort.java         |  10 +-
 .../impl/xsort/TestSortSpillWithException.java     |   4 +-
 .../impl/xsort/managed/SortTestUtilities.java      |   1 +
 .../impl/xsort/managed/TestShortArrays.java        |   2 +-
 .../drill/exec/server/TestDrillbitResilience.java  |  33 +++---
 .../exec/server/rest/StatusResourcesTest.java      |   6 +-
 .../exec/store/parquet/ParquetInternalsTest.java   |   4 +-
 .../store/parquet/TestParquetFilterPushDown.java   |   8 +-
 .../drill/exec/store/sys/TestPStoreProviders.java  |   4 +-
 .../drill/exec/util/TestQueryMemoryAlloc.java      |  18 ++--
 .../vector/complex/writer/TestExtendedTypes.java   |  18 +---
 .../java/org/apache/drill/test/ClientFixture.java  |  10 +-
 .../java/org/apache/drill/test/ClusterFixture.java |  26 ++---
 ...tureBuilder.java => ClusterFixtureBuilder.java} |  36 +++----
 .../java/org/apache/drill/test/ClusterTest.java    |   2 +-
 .../java/org/apache/drill/test/ExampleTest.java    |   6 +-
 .../org/apache/drill/test/OperatorFixture.java     | 114 ++++++---------------
 .../org/apache/drill/test/TestConfigLinkage.java   |  34 +++---
 .../java/org/apache/drill/test/package-info.java   |   2 +-
 51 files changed, 453 insertions(+), 449 deletions(-)

commit 3036d3700aa620bbbffc260e52f633cdaae1172c
Author: Damien Profeta <damien.profeta@amadeus.com>
Date:   Fri Sep 15 11:01:58 2017 -0700

    DRILL-5795: Parquet Filter push down now work at rowgroup level
    
    Before this commit, the filter was pruning complete files. When a file
    is composed of multiple rowgroups, it was not able to prune one
    rowgroup from the file. Now, when the filter find that a rowgroup
    doesn't match it will be remove from the scan.
    
    closes #949

 .../drill/exec/store/parquet/ParquetGroupScan.java | 171 +++++++++++----------
 .../store/parquet/TestParquetFilterPushDown.java   |  10 ++
 .../test/resources/parquet/multirowgroup.parquet   | Bin 0 -> 398 bytes
 3 files changed, 103 insertions(+), 78 deletions(-)

commit 30da051b968926b7ead388b7df56c402dbdd5cb8
Author: Prasad Nagaraj Subramanya <prasadns14@gmail.com>
Date:   Thu Nov 9 15:00:15 2017 -0800

    DRILL-5923: Display name for query state
    
    closes #1021

 .../exec/server/rest/profile/ProfileResources.java |  8 ++--
 .../exec/server/rest/profile/ProfileUtil.java      | 48 ++++++++++++++++++++++
 .../exec/server/rest/profile/ProfileWrapper.java   |  4 ++
 .../src/main/resources/rest/profile/profile.ftl    |  3 +-
 4 files changed, 59 insertions(+), 4 deletions(-)

commit ed6c4bc8e18b55e2aaac731f6cb4bc0f4480e490
Author: Prasad Nagaraj Subramanya <prasadns14@gmail.com>
Date:   Wed Nov 8 23:18:42 2017 -0800

    DRILL-5921: Display counter metrics in table
    
    closes #1020

 .../src/main/resources/rest/metrics/metrics.ftl    | 34 ++++++++++++----------
 1 file changed, 18 insertions(+), 16 deletions(-)

commit 99e4504f2aa9d11a6bc49a57f5edb70f8d621747
Author: Prasad Nagaraj Subramanya <prasadns14@gmail.com>
Date:   Wed Nov 1 13:49:43 2017 -0700

    DRILL-5909: Added new Counter metrics
    
    closes #1019

 .../java/org/apache/drill/exec/work/foreman/Foreman.java | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit df95709a2dac47e46be59c47dc776efbbe615726
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Wed Oct 25 13:37:25 2017 -0700

    DRILL-5899: Simple pattern matchers can work with DrillBuf directly
    
    closes #1015

 .../expr/fn/impl/AbstractSqlPatternMatcher.java    |  66 ++
 .../expr/fn/impl/SqlPatternComplexMatcher.java     |  18 +-
 .../expr/fn/impl/SqlPatternConstantMatcher.java    |  29 +-
 .../expr/fn/impl/SqlPatternContainsMatcher.java    |  59 +-
 .../expr/fn/impl/SqlPatternEndsWithMatcher.java    |  35 +-
 .../drill/exec/expr/fn/impl/SqlPatternFactory.java |  15 +-
 .../drill/exec/expr/fn/impl/SqlPatternMatcher.java |   4 +-
 .../expr/fn/impl/SqlPatternStartsWithMatcher.java  |  32 +-
 .../drill/exec/expr/fn/impl/StringFunctions.java   |  16 +-
 .../drill/exec/expr/fn/impl/TestSqlPatterns.java   | 729 +++++++--------------
 .../exec/expr/fn/impl/TestStringFunctions.java     | 149 +++++
 11 files changed, 574 insertions(+), 578 deletions(-)

commit dfd43d020498c09dcb2c3fed4e8c6df23d755d55
Author: Prasad Nagaraj Subramanya <prasadns14@gmail.com>
Date:   Wed Oct 25 21:20:07 2017 -0700

    DRILL-5896: Handle HBase columns vector creation in the HBaseRecordReader
    
    closes #1005

 .../drill/exec/store/hbase/HBaseRecordReader.java  | 34 +++++++++++++++-------
 1 file changed, 23 insertions(+), 11 deletions(-)

commit 59c7447262a22f7f1099f1e0f6d33d44acf8813f
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Wed Oct 11 21:35:47 2017 -0700

    DRILL-5863: Sortable table incorrectly sorts fragments/time lexically
    
    The DataTables jQuery library sorts data based on the value of the element in a column.
    However, since Drill publishes sortable items like fragment IDs and time durations as non-numeric text, the sorting is incorrect.
    This PR fixes the fragment and duration ordering based on their implicit numeric values (minor ID and millisecond representation, respectively).
    Support memory chaining
    
    closes #987

 .../exec/server/rest/profile/FragmentWrapper.java  |  7 ++-
 .../exec/server/rest/profile/OperatorWrapper.java  |  5 +-
 .../exec/server/rest/profile/TableBuilder.java     | 54 +++++++++++++++++-----
 3 files changed, 52 insertions(+), 14 deletions(-)

commit c1118a3d9a74cf24f28bc69efca2c21d2a6d5b1d
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Thu Oct 26 18:07:33 2017 +0000

    DRILL-5822: The query with "SELECT *" with "ORDER BY" clause and `planner.slice_target`=1 doesn't preserve column order
    
    - The commit for DRILL-847 is oudated. There is no need to canonicalize the batch or container since RecordBatchLoader
      swallows the "schema change" for now if two batches have different column ordering.
    
      closes #1017

 .../drill/exec/physical/impl/TopN/TopNBatch.java   | 11 +++-------
 .../impl/mergereceiver/MergingRecordBatch.java     |  7 +-----
 .../exec/physical/impl/sort/RecordBatchData.java   |  8 +------
 .../physical/impl/sort/SortRecordBatchBuilder.java |  6 ------
 .../drill/exec/record/RecordBatchLoader.java       | 18 ----------------
 .../apache/drill/exec/record/VectorContainer.java  | 25 ----------------------
 .../java/org/apache/drill/TestStarQueries.java     | 17 +++++++++++++++
 7 files changed, 22 insertions(+), 70 deletions(-)

commit 17ca6181ba924837d493ae789637b3d4514bd560
Author: weijie.tong <weijie.tong@alipay.com>
Date:   Sun Aug 20 20:07:41 2017 +0800

    DRILL-5717: Let some test cases be Local or TimeZone independent.
    
    closes #904

 .../test/java/org/apache/drill/exec/ExecTest.java  |  35 +++-
 .../drill/exec/fn/impl/TestCastFunctions.java      |  22 +-
 .../drill/exec/fn/impl/TestDateFunctions.java      | 226 +++++++++++----------
 .../drill/exec/fn/impl/TestNewDateFunctions.java   |   8 +-
 .../exec/fn/impl/testing/TestDateConversions.java  |  19 +-
 .../drill/exec/fn/interp/TestConstantFolding.java  |  17 +-
 .../vector/complex/writer/TestExtendedTypes.java   |  19 +-
 .../expression/fn/JodaDateValidatorTest.java       |   7 +-
 8 files changed, 200 insertions(+), 153 deletions(-)

commit 496c97d14eb428a5aff74e82d662a0da6930e94f
Author: Vlad Storona <vstorona@cybervisiontech.com>
Date:   Fri Nov 25 20:28:02 2016 +0200

    DRILL-5337: OpenTSDB storage plugin
    
    closes #774

 contrib/pom.xml                                    |   1 +
 contrib/storage-opentsdb/README.md                 |  69 ++++++
 contrib/storage-opentsdb/pom.xml                   |  80 +++++++
 .../drill/exec/store/openTSDB/Constants.java       |  32 +++
 .../exec/store/openTSDB/DrillOpenTSDBTable.java    |  81 +++++++
 .../exec/store/openTSDB/OpenTSDBBatchCreator.java  |  53 +++++
 .../exec/store/openTSDB/OpenTSDBGroupScan.java     | 169 ++++++++++++++
 .../exec/store/openTSDB/OpenTSDBRecordReader.java  | 258 +++++++++++++++++++++
 .../exec/store/openTSDB/OpenTSDBScanSpec.java      |  42 ++++
 .../exec/store/openTSDB/OpenTSDBStoragePlugin.java |  77 ++++++
 .../openTSDB/OpenTSDBStoragePluginConfig.java      |  77 ++++++
 .../drill/exec/store/openTSDB/OpenTSDBSubScan.java | 132 +++++++++++
 .../org/apache/drill/exec/store/openTSDB/Util.java |  66 ++++++
 .../drill/exec/store/openTSDB/client/OpenTSDB.java |  50 ++++
 .../exec/store/openTSDB/client/OpenTSDBTypes.java  |  28 +++
 .../drill/exec/store/openTSDB/client/Schema.java   | 124 ++++++++++
 .../drill/exec/store/openTSDB/client/Service.java  |  55 +++++
 .../exec/store/openTSDB/client/query/DBQuery.java  | 148 ++++++++++++
 .../exec/store/openTSDB/client/query/Query.java    | 187 +++++++++++++++
 .../openTSDB/client/services/ServiceImpl.java      | 174 ++++++++++++++
 .../drill/exec/store/openTSDB/dto/ColumnDTO.java   |  63 +++++
 .../drill/exec/store/openTSDB/dto/MetricDTO.java   |  77 ++++++
 .../openTSDB/schema/OpenTSDBSchemaFactory.java     |  77 ++++++
 .../main/resources/bootstrap-storage-plugins.json  |   9 +
 .../src/main/resources/drill-module.conf           |  21 ++
 .../drill/store/openTSDB/TestDataHolder.java       | 247 ++++++++++++++++++++
 .../drill/store/openTSDB/TestOpenTSDBPlugin.java   | 189 +++++++++++++++
 distribution/pom.xml                               |   5 +
 28 files changed, 2591 insertions(+)

commit 29e054769ea1cfd36f08df991d6263781374c92c
Author: cgivre <cgivre@gmail.com>
Date:   Wed Nov 1 14:15:38 2017 -0400

    DRILL-5834: Add Networking Functions
    
    close apache/drill#1018

 exec/java-exec/pom.xml                             |  17 +-
 .../drill/exec/expr/fn/impl/NetworkFunctions.java  | 563 +++++++++++++++++++++
 .../drill/exec/fn/impl/TestNetworkFunctions.java   | 134 +++++
 exec/jdbc-all/pom.xml                              |   8 +
 4 files changed, 721 insertions(+), 1 deletion(-)

commit 7a2fc87ee20f706d85cb5c90cc441e6b44b71592
Author: Hanumath Rao Maduri <hmaduri@maprtech.com>
Date:   Sat Sep 16 16:54:00 2017 -0700

    DRILL-5878: TableNotFound exception is being reported for a wrong storage plugin.
    
    Address review comments.

 .../drill/exec/planner/sql/SchemaUtilites.java     | 35 ++++++++-
 .../drill/exec/planner/sql/SqlConverter.java       | 50 +++++++++++--
 .../drill/exec/store/dfs/TestFileSelection.java    |  3 -
 .../store/dfs/TestSchemaNotFoundException.java     | 86 ++++++++++++++++++++++
 4 files changed, 164 insertions(+), 10 deletions(-)

commit 125a9271d7cf0dfb30aac8e62447507ea0a7d6c9
Author: Hanumath Rao Maduri <hmaduri@maprtech.com>
Date:   Wed Oct 11 17:07:22 2017 -0700

    DRILL-5864: Selecting a non-existing field from a MapR-DB JSON table fails with NPE.

 contrib/format-maprdb/README.md                    |  6 ++
 .../store/mapr/db/MapRDBFormatPluginConfig.java    | 11 +++
 .../store/mapr/db/json/MaprDBJsonRecordReader.java |  7 ++
 .../drill/maprdb/tests/json/TestSimpleJson.java    | 10 +++
 .../drill/exec/vector/complex/fn/JsonReader.java   | 66 +--------------
 .../exec/vector/complex/fn/JsonReaderUtils.java    | 94 ++++++++++++++++++++++
 6 files changed, 129 insertions(+), 65 deletions(-)

commit 4a718a0bd728ae02b502ac93620d132f0f6e1b6c
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Oct 27 14:45:17 2017 +0000

    DRILL-5911: Upgrade esri-geometry-api version to 2.0.0 to avoid dependency on org.json library
    
    closes #1012

 contrib/gis/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b0b7df10da14ab94cd657f0c1e3a0c3ff242bedd
Author: vladimir <vtkach@rightandabove.com>
Date:   Fri Oct 27 11:32:32 2017 +0300

    DRILL-5910: Logging exception when custom AuthenticatorFactory not found
    
    closes #1013

 .../drill/exec/rpc/security/ClientAuthenticatorProvider.java   | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit a4712c24101e7131a1161a5e79a619326e330890
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Wed Oct 25 17:59:09 2017 +0000

    DRILL-5906: java.lang.NullPointerException while quering Hive ORC tables on MapR cluster
    
    - Upgrade drill to 1.2.0-mapr-1707 hive.version.
    
    closes #1010

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fd58e2944b4d03538ed981359940ef486279b626
Author: Vlad Rozov <vrozov@apache.org>
Date:   Tue Oct 24 19:10:37 2017 -0700

    DRILL-5905: Exclude jdk-tools from project dependencies
    
    closes #1009

 contrib/storage-hbase/pom.xml |  4 ++--
 pom.xml                       | 35 +++++++++++++++++++++++++++++++++++
 2 files changed, 37 insertions(+), 2 deletions(-)

commit c8d01b3141b0b755d4311340c3e5823214332c70
Author: Volodymyr Tkach <vovatkach75@gmail.com>
Date:   Mon Oct 23 09:10:57 2017 +0000

    DRILL-5895: Add logging mongod exception when failed to close all mongod processes during provided timeout
    
    closes #1006

 .../apache/drill/exec/store/mongo/MongoTestSuit.java    | 17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit 5a215144d2542c81c3053df9effe5cdd2ed118e5
Author: Prasad Nagaraj Subramanya <prasadns14@gmail.com>
Date:   Wed Oct 25 17:03:26 2017 -0700

    DRILL-5887: Display process user/groups info in Drill UI
    
    closes #998

 .../apache/drill/exec/server/rest/DrillRoot.java   | 35 +++++++++++-----------
 exec/java-exec/src/main/resources/rest/index.ftl   | 22 ++++++++++++--
 2 files changed, 37 insertions(+), 20 deletions(-)

commit a26fbec13134f249e258be6735b82cf09ab1f406
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Wed Oct 11 15:57:21 2017 -0700

    DRILL-5874: NPE in AnonWebUserConnection.cleanupSession()
    
    closes #993

 .../drill/exec/server/rest/DrillRestServer.java    |  37 ++++-
 .../exec/server/rest/WebSessionResources.java      |  16 +-
 .../drill/exec/server/rest/WebUserConnection.java  |  11 +-
 .../exec/server/rest/WebSessionResourcesTest.java  | 168 +++++++++++++++++++++
 4 files changed, 219 insertions(+), 13 deletions(-)

commit 8eda4d7749c129c692f9e57db4c2a755a9139052
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Sep 7 18:15:14 2017 +0300

    DRILL-5772: Enable UTF-8 support in query string by default
    
    1. Bump up Drill Calcite version to in include CALCITE-2014 changes.
    2. Add saffron.properties file to the Drill conf folder.
    3. Add appopriate unit tests.
    
    closes #936

 .../apache/drill/exec/hive/TestHiveStorage.java    | 16 +----
 distribution/src/assemble/bin.xml                  |  4 ++
 distribution/src/resources/saffron.properties      | 23 +++++++
 .../apache/drill/TestUtf8SupportInQueryString.java | 77 ++++++++++++++++++++++
 .../exec/expr/fn/impl/TestStringFunctions.java     | 15 -----
 .../src/test/resources/saffron.properties          | 23 +++++++
 pom.xml                                            |  2 +-
 7 files changed, 129 insertions(+), 31 deletions(-)

commit e4938c0942e3906124b3f81f58fd7e95cc128844
Author: Salim Achouche <sachouche2@gmail.com>
Date:   Tue Oct 24 10:12:19 2017 -0700

    DRILL-5890: Fixed a file descriptor leak in Drill's test-suite
    
    This closes #1008

 .../org/apache/drill/exec/server/BootStrapContext.java     | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit b0c4e0486d6d4620b04a1bb8198e959d433b4840
Author: Vlad Rozov <vrozov@apache.org>
Date:   Wed Oct 18 15:00:37 2017 -0700

    DRILL-5876: Use openssl profile to include netty-tcnative dependency with the platform specific classifier
    
    This closes #1004

 .mvn/extensions.xml                                | 27 +++++++++++++++++++
 exec/java-exec/pom.xml                             | 20 +-------------
 .../org/apache/drill/exec/ssl/SSLConfigClient.java |  8 ++++++
 .../org/apache/drill/exec/ssl/SSLConfigServer.java |  8 ++++++
 exec/jdbc-all/pom.xml                              |  1 +
 pom.xml                                            | 31 ++++++++++++++++++++++
 6 files changed, 76 insertions(+), 19 deletions(-)

commit 119251e28b877e65a46a729d67d5c232665b1238
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Oct 19 10:57:05 2017 -0700

    DRILL-5893: Reverted the number of forked test processes back to 2
    
    This closes #1003

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 02d5e1755e96baa0d9cac1fb711a1593dc38a490
Author: Parth Chandra <parthc@apache.org>
Date:   Tue Oct 17 17:14:20 2017 -0700

    DRILL-5888: Remove dependency of SSLConfig on hadoop.security package. This allows jdbc-all-jar to be built without hadoop dependencies
    
    This closes #1002

 .../java/org/apache/drill/exec/rpc/user/UserClient.java   |  3 +--
 .../java/org/apache/drill/exec/rpc/user/UserServer.java   |  3 +--
 .../java/org/apache/drill/exec/server/rest/WebServer.java |  3 +--
 .../main/java/org/apache/drill/exec/ssl/SSLConfig.java    |  9 +++++++--
 .../java/org/apache/drill/exec/ssl/SSLConfigBuilder.java  |  9 ++++-----
 .../java/org/apache/drill/exec/ssl/SSLConfigClient.java   |  7 ++-----
 .../java/org/apache/drill/exec/ssl/SSLConfigServer.java   |  9 ++++-----
 .../test/java/org/apache/drill/exec/TestSSLConfig.java    | 15 +++++++--------
 .../exec/rpc/user/security/TestUserBitSSLServer.java      |  1 -
 9 files changed, 27 insertions(+), 32 deletions(-)

commit d2e3dd95a55ffadc0ac2f1e90c4ba6fd43346d8b
Author: Parth Chandra <parthc@apache.org>
Date:   Fri Oct 13 11:00:31 2017 -0700

    DRILL-5873: (C++ Client) Improve SASL error reporting.
    
    This closes #992

 contrib/native/client/src/clientlib/drillClientImpl.cpp    | 14 ++++++++++----
 .../native/client/src/clientlib/saslAuthenticatorImpl.cpp  | 13 +++++++++++++
 .../native/client/src/clientlib/saslAuthenticatorImpl.hpp  |  7 +++++++
 contrib/native/client/src/clientlib/utils.cpp              |  4 ++--
 4 files changed, 32 insertions(+), 6 deletions(-)

commit a447dc5ec732b95c035761bc3b056acbaf4f7da1
Author: Vlad Rozov <vrozov@apache.org>
Date:   Wed Oct 11 08:05:25 2017 -0700

    DRILL-5862 Update project parent pom xml to the latest ASF version
    
    This closes #985

 pom.xml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c4eaf4b8697a32a6786e9c5b5a6023327ec461ae
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Oct 9 11:27:58 2017 +0000

    DRILL-5845: Columns returned by select with "ORDER BY" and "LIMIT" clauses are not in correct order.
    
    This closes #1000

 .../drill/exec/physical/impl/TopN/TopNBatch.java    |  1 -
 .../test/java/org/apache/drill/TestStarQueries.java | 21 ++++++++++++++++++++-
 2 files changed, 20 insertions(+), 2 deletions(-)

commit f1d1945b3772bb782039fd6811e34a7de66441c8
Author: karthik <kmanivannan@maprtech.com>
Date:   Tue Oct 17 16:18:45 2017 -0700

    DRILL-5582: C++ Client: [Threat Modeling] Drillbit may be spoofed by an attacker and this may lead to data being written to the attacker's target instead of Drillbit
    
    This closes #997

 .../client/src/clientlib/drillClientImpl.cpp       | 22 ++++++++++++++++++++--
 .../client/src/clientlib/drillClientImpl.hpp       |  3 +++
 contrib/native/client/src/clientlib/errmsgs.cpp    |  6 ++++++
 contrib/native/client/src/clientlib/errmsgs.hpp    |  4 +++-
 .../client/src/clientlib/saslAuthenticatorImpl.cpp |  2 ++
 5 files changed, 34 insertions(+), 3 deletions(-)

commit 40d0991998a4174cf5d4b12f695380e97aba4fd3
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Mon Oct 16 14:58:31 2017 -0700

    DRILL-5881:Java Client: [Threat Modeling] Drillbit may be spoofed by an attacker and this may lead to data being written to the attacker's target instead of Drillbit
     Also set connection to null after its closed
    
    This closes #999

 .../org/apache/drill/exec/rpc/user/UserClient.java |  69 ++++-
 .../security/TestUserBitSaslCompatibility.java     | 317 +++++++++++++++++++++
 .../org/apache/drill/exec/rpc/BasicClient.java     |   1 +
 3 files changed, 377 insertions(+), 10 deletions(-)

commit 779703421fc68262dd7dfa994bd572517eb50b7e
Author: Parth Chandra <parthc@apache.org>
Date:   Mon Oct 16 11:54:53 2017 -0700

    DRILL-5877: - Fix travis build. Add *.pem and *.p12 files to rat exclusions.
    
    This closes #995

 pom.xml | 2 ++
 1 file changed, 2 insertions(+)

commit 9313a2865bfc00d21036e581fa9fa6e94e532fb8
Author: Vlad Storona <vstorona@cybervisiontech.com>
Date:   Thu Oct 12 13:16:19 2017 +0300

    DRILL-5790: Fixed problem with explicit opening a local file
    
    closes #989

 .../drill/exec/store/pcap/PcapFormatPlugin.java    |  4 +---
 .../drill/exec/store/pcap/PcapRecordReader.java    | 23 ++++++++++++----------
 2 files changed, 14 insertions(+), 13 deletions(-)

commit a5e2f4443ef617c55c847d687f89a101241b9e87
Author: Gautam Parai <gparai@maprtech.com>
Date:   Fri Oct 6 18:48:42 2017 -0700

    DRILL-5853 : Update Calcite to get NULL direction for sort removal
    
    closes #979

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e90d96a5240ab2d1c7200bd8f4caa54e9b9cba45
Author: Prasad Nagaraj Subramanya <prasadns14@gmail.com>
Date:   Fri Oct 6 21:17:57 2017 -0700

    DRILL-5743: Handling column family and column scan for hbase
    
    closes #975

 .../drill/exec/store/hbase/HBaseRecordReader.java  | 25 ++++++--
 .../apache/drill/hbase/HBaseRecordReaderTest.java  | 50 +++++++++++++++
 .../org/apache/drill/hbase/HBaseTestsSuite.java    | 12 +++-
 .../org/apache/drill/hbase/TestTableGenerator.java | 75 ++++++++++++++++++++++
 .../apache/drill/exec/util/JsonStringHashMap.java  |  8 +++
 5 files changed, 164 insertions(+), 6 deletions(-)

commit bad6c1c991a18fe360c5ecff1704692c76438542
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Tue Sep 26 16:37:03 2017 +0000

    DRILL-5838: Fix MaprDB filter pushdown for the case of nested field (reg. of DRILL-4264)
    
    Use FieldPath.asPathString() method instead of creating custom string representation of SchemaPath
    
    closes #972

 .../store/mapr/db/json/JsonConditionBuilder.java   | 30 ++++++------
 .../exec/store/mapr/db/util/FieldPathHelper.java   | 53 ++++++++++++++++++++++
 .../drill/maprdb/tests/json/TestSimpleJson.java    | 19 ++++----
 3 files changed, 77 insertions(+), 25 deletions(-)

commit f781ce1f54d0d79f2d7014490d4dc422f33b309c
Author: Paul Rogers <progers@maprtech.com>
Date:   Mon Sep 25 17:04:41 2017 -0700

    DRILL-5815: Option to set query memory as percent of total
    
    closes #960

 .../java/org/apache/drill/exec/ExecConstants.java  |  33 ++++-
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../drill/exec/util/MemoryAllocationUtilities.java | 111 +++++++++++++----
 .../java-exec/src/main/resources/drill-module.conf | 113 ++++++++---------
 .../impl/xsort/TestSortSpillWithException.java     |   2 +
 .../drill/exec/util/TestQueryMemoryAlloc.java      | 137 +++++++++++++++++++++
 6 files changed, 315 insertions(+), 82 deletions(-)

commit 2444271e4fc2233f39441fb3e3bf0d6bab064422
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Oct 11 16:18:39 2017 -0700

    DRILL-5431: Regenerate protobuf files
    
    This closes #950

 .../native/client/src/protobuf/UserBitShared.pb.cc | 350 ++++++++++++++++-----
 .../native/client/src/protobuf/UserBitShared.pb.h  | 245 ++++++++++++++-
 2 files changed, 519 insertions(+), 76 deletions(-)

commit 42c06b308d58cf980ea4ef7ff7d0f57bf529130a
Author: Parth Chandra <parthc@apache.org>
Date:   Mon Jul 31 13:28:24 2017 -0700

    DRILL-5431: SSL Support (C++) - Fix Sasl on Windows to build from source (instead of install) directory

 contrib/native/client/src/clientlib/saslAuthenticatorImpl.hpp | 5 +++++
 1 file changed, 5 insertions(+)

commit f246c3cad7f44baeb8153913052ebc963c62276a
Author: Parth Chandra <parthc@apache.org>
Date:   Mon Jul 24 12:55:02 2017 -0700

    DRILL-5431: SSL Support (C++) - Update DrillClientImpl to use Channel implementation
    
    Also remove ChannelContextFactory and merge it into ChannelFactory

 contrib/native/client/CMakeLists.txt               |   3 +
 contrib/native/client/example/querySubmitter.cpp   |  33 ++-
 contrib/native/client/readme.linux                 |  13 +
 contrib/native/client/readme.macos                 |  33 ++-
 contrib/native/client/readme.sasl                  |  93 +++++++
 contrib/native/client/readme.ssl                   |   4 +-
 contrib/native/client/readme.win.txt               |  14 +-
 contrib/native/client/src/clientlib/CMakeLists.txt |   2 +-
 contrib/native/client/src/clientlib/channel.cpp    | 146 ++++-------
 contrib/native/client/src/clientlib/channel.hpp    |  58 ++---
 .../client/src/clientlib/drillClientImpl.cpp       | 270 +++++++++++----------
 .../client/src/clientlib/drillClientImpl.hpp       |  38 ++-
 .../native/client/src/clientlib/drillConfig.cpp    |   2 +-
 contrib/native/client/src/include/drill/common.hpp |   7 +-
 .../client/src/include/drill/drillConfig.hpp       |  22 +-
 .../client/src/include/drill/userProperties.hpp    |   9 +-
 contrib/native/client/test/ssl/testSSL.cpp         |   7 +-
 pom.xml                                            |   3 +-
 18 files changed, 430 insertions(+), 327 deletions(-)

commit facbb92ba319373dd8b8baa171ac1d7978c926c5
Author: Parth Chandra <parthc@apache.org>
Date:   Tue Jul 25 09:22:23 2017 -0700

    DRILL-5431: SSL Support (C++) - Add (Netty like) socket abstraction that encapsulates a TCP socket or a SSL Stream on TCP.
    
    The testSSL program tests the client connection against a drillbit by sending a drill handshake.

 contrib/native/client/CMakeLists.txt               |  13 +
 contrib/native/client/src/clientlib/CMakeLists.txt |   4 +-
 contrib/native/client/src/clientlib/channel.cpp    | 448 +++++++++++++++++++++
 contrib/native/client/src/clientlib/channel.hpp    | 237 +++++++++++
 contrib/native/client/src/clientlib/errmsgs.cpp    |   3 +
 contrib/native/client/src/clientlib/errmsgs.hpp    |   5 +-
 contrib/native/client/src/clientlib/logger.hpp     |   1 +
 .../native/client/src/clientlib/streamSocket.hpp   | 218 ++++++++++
 .../native/client/src/clientlib/userProperties.cpp |   4 +
 contrib/native/client/src/clientlib/wincert.ipp    |  98 +++++
 contrib/native/client/src/include/drill/common.hpp |  19 +-
 contrib/native/client/test/ssl/testSSL.cpp         | 384 ++++++++++++++++++
 12 files changed, 1428 insertions(+), 6 deletions(-)

commit 414c94ee7e088c89b0c7c8b9d9dde9335cfcbe6d
Author: Parth Chandra <parthc@apache.org>
Date:   Mon Jul 10 17:19:12 2017 -0700

    DRILL-5431: SSL Support (C++) - Add boost example code for ssl (small change to the code to pick up the certificate and key files from the test dir). Useful to test the ssl environment.

 contrib/native/client/test/CMakeLists.txt     |  28 ++++
 contrib/native/client/test/ssl/testClient.cpp | 151 ++++++++++++++++++++++
 contrib/native/client/test/ssl/testServer.cpp | 177 ++++++++++++++++++++++++++
 3 files changed, 356 insertions(+)

commit ac3f0ce2683906db908d861e3f93700d8ac0f6d6
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Jun 7 11:09:10 2017 -0700

    DRILL-5431: SSL Support (C++) - Refactoring of C++ client.
    
        Move classes out of drillclient to their own files
        Fix build on MacOS to suppress warnings from boost code
        Refactoring of user properties to use a map

 contrib/native/client/CMakeLists.txt               |   3 +
 contrib/native/client/src/clientlib/CMakeLists.txt |   7 +-
 .../native/client/src/clientlib/drillClient.cpp    | 155 +--------------------
 .../client/src/clientlib/drillClientImpl.cpp       |  49 +++----
 .../client/src/clientlib/drillClientImpl.hpp       |   3 +-
 .../native/client/src/clientlib/drillConfig.cpp    | 151 ++++++++++++++++++++
 contrib/native/client/src/clientlib/drillError.cpp |  41 ++++++
 .../client/src/clientlib/saslAuthenticatorImpl.cpp |  10 +-
 .../native/client/src/clientlib/userProperties.cpp |  44 ++++++
 contrib/native/client/src/clientlib/utils.cpp      |   1 +
 .../client/src/clientlib/zookeeperClient.cpp       |   5 +
 .../client/src/include/drill/drillClient.hpp       | 143 +------------------
 .../client/src/include/drill/drillConfig.hpp       | 153 ++++++++++++++++++++
 .../native/client/src/include/drill/drillError.hpp |  72 ++++++++++
 contrib/native/client/src/include/drill/drillc.hpp |   3 +
 .../client/src/include/drill/userProperties.hpp    |  76 ++++++++++
 16 files changed, 589 insertions(+), 327 deletions(-)

commit a62f96d944c7bb63d2bfdaec10ff571153b071c9
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Sep 20 13:35:22 2017 -0700

    DRILL-5431: SSL Support (Java) - Fix display of client-server encryption status in GUI

 .../src/main/java/org/apache/drill/exec/server/rest/DrillRoot.java    | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 552d7d825e37d42835bd6bfccfc07fc7d3b5fd94
Author: Parth Chandra <parthc@apache.org>
Date:   Fri Jun 9 22:03:59 2017 -0700

    DRILL-5431: SSL Support (Java) - Java client server SSL implementation
    
    Also enable OpenSSL support
    
    Also fix exclusions and java-exec pom file to eliminate netty-tcnative as a transitive dependency on all projects

 .../drill/common/config/DrillProperties.java       |  16 +-
 contrib/format-maprdb/pom.xml                      |  45 +--
 contrib/storage-hbase/pom.xml                      |  78 ++---
 distribution/pom.xml                               |  29 +-
 distribution/src/assemble/bin.xml                  |  38 +++
 distribution/src/resources/drill-config.sh         |  22 ++
 .../src/resources/drill-override-example.conf      |  18 +-
 exec/java-exec/pom.xml                             |  66 +++-
 .../java/org/apache/drill/exec/ExecConstants.java  |  28 +-
 .../main/java/org/apache/drill/exec/SSLConfig.java |  69 ----
 .../org/apache/drill/exec/client/DrillClient.java  |   6 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java | 356 ++++++++++++---------
 .../drill/exec/rpc/user/UserConnectionConfig.java  |  13 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |  49 +++
 .../apache/drill/exec/server/rest/WebServer.java   |  12 +-
 .../java/org/apache/drill/exec/ssl/SSLConfig.java  | 265 +++++++++++++++
 .../apache/drill/exec/ssl/SSLConfigBuilder.java    |  94 ++++++
 .../org/apache/drill/exec/ssl/SSLConfigClient.java | 273 ++++++++++++++++
 .../org/apache/drill/exec/ssl/SSLConfigServer.java | 330 +++++++++++++++++++
 .../java-exec/src/main/resources/drill-module.conf |  33 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  10 +-
 .../java/org/apache/drill/exec/TestSSLConfig.java  |  75 ++++-
 .../exec/rpc/user/security/TestUserBitSSL.java     | 344 ++++++++++++++++++++
 .../rpc/user/security/TestUserBitSSLServer.java    | 143 +++++++++
 .../src/test/resources/ssl-server-invalid.xml      |  72 +++++
 .../drill/jdbc/impl/DrillConnectionImpl.java       |   6 +-
 .../drill/exec/rpc/AbstractRemoteConnection.java   |  27 +-
 .../org/apache/drill/exec/rpc/BasicClient.java     | 149 +++------
 .../org/apache/drill/exec/rpc/BasicServer.java     |  28 ++
 .../drill/exec/rpc/ConnectionMultiListener.java    | 235 ++++++++++++++
 .../org/apache/drill/exec/rpc/RpcConstants.java    |   1 +
 31 files changed, 2447 insertions(+), 483 deletions(-)

commit b803405c0f978beb8beaf77211f99731014ac92f
Author: Parth Chandra <parthc@apache.org>
Date:   Fri Jun 16 16:49:45 2017 -0700

    DRILL-5431: Update POM to upgrade to Netty 4.0.48 and add exclusions to all modules that included older versions of Netty

 contrib/format-maprdb/pom.xml |  46 ++++++++++++
 contrib/storage-hbase/pom.xml |  76 ++++++++++++++++++++
 distribution/pom.xml          |   6 ++
 exec/java-exec/pom.xml        |  70 +++++++++++++++++++
 exec/rpc/pom.xml              |  27 ++++++--
 exec/vector/pom.xml           |   4 ++
 pom.xml                       | 158 +++++++++++++++++++++++++++++++++++++++++-
 7 files changed, 380 insertions(+), 7 deletions(-)

commit 78e0dcd09639f948549b0eb10710807c634aefb7
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Tue May 16 14:48:57 2017 -0700

    DRILL-5431: Upgrade Netty to 4.0.47

 .../src/main/java/io/netty/buffer/DrillBuf.java    |  2 +-
 .../io/netty/buffer/PooledByteBufAllocatorL.java   |  2 +-
 .../io/netty/buffer/UnsafeDirectLittleEndian.java  | 40 +++++++++++++++++-----
 pom.xml                                            |  8 ++++-
 4 files changed, 40 insertions(+), 12 deletions(-)

commit ebddd61a2d8ebc93448129f3129e41f45e27fe7c
Author: Parth Chandra <parthc@apache.org>
Date:   Tue Jul 25 09:21:02 2017 -0700

    DRILL-5431: SSL Support (Java) - Add test certificates, keys, keystore, and truststore.

 contrib/native/client/readme.ssl                   |  58 +++++++++++++++++++++
 contrib/native/client/test/ssl/dh512.pem           |   4 ++
 contrib/native/client/test/ssl/drillTestCert.p12   | Bin 0 -> 1741 bytes
 contrib/native/client/test/ssl/drillTestCert.pem   |  18 +++++++
 contrib/native/client/test/ssl/drillTestServer.csr |  13 +++++
 .../native/client/test/ssl/drillTestServerKey.pem  |  18 +++++++
 .../client/test/ssl/drillTestServerKey.safe.pem    |  18 +++++++
 .../client/test/ssl/drillTestServerKeyNoPass.pem   |  15 ++++++
 .../src/test/resources/ssl/emptykeystore.ks        | Bin 0 -> 32 bytes
 .../src/test/resources/ssl/emptytruststore.ks      | Bin 0 -> 32 bytes
 exec/java-exec/src/test/resources/ssl/keystore.ks  | Bin 0 -> 1492 bytes
 .../src/test/resources/ssl/nopasskeystore.ks       | Bin 0 -> 1500 bytes
 .../java-exec/src/test/resources/ssl/truststore.ks | Bin 0 -> 790 bytes
 .../src/test/resources/ssl/unknownkeystore.ks      | Bin 0 -> 2244 bytes
 pom.xml                                            |   1 +
 15 files changed, 145 insertions(+)

commit 58b7be2714d95bb21e90aa80fc1f24f079e88821
Author: Parth Chandra <parthc@apache.org>
Date:   Mon Aug 28 10:08:15 2017 -0700

    DRILL-5698: Revert unnecessary changes to C++ client

 contrib/native/client/CMakeLists.txt               |  2 +-
 contrib/native/client/example/querySubmitter.cpp   |  5 +-
 .../client/src/include/drill/drillClient.hpp       | 70 +++++++++++-----------
 3 files changed, 40 insertions(+), 37 deletions(-)

commit 6ad9838339999c3e069b6925d0c3ce3077afd8c3
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Oct 11 16:40:12 2017 -0700

    DRILL-5865: fix build
    
    closes #986

 .../src/main/java/org/apache/drill/exec/store/hbase/HBaseGroupScan.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7aeaf0e3d8ff1099131df7eb4331cdadf299b297
Author: karthik <kmanivannan@maprtech.com>
Date:   Wed Oct 4 11:23:04 2017 -0700

    DRILL-5819: Default value of security.admin.user_groups and security.admin.users is true
    
    closes #983

 .../apache/drill/common/util/DrillStringUtils.java | 432 +++++++++++----------
 .../java/org/apache/drill/exec/ExecConstants.java  |   9 +-
 .../planner/sql/handlers/SetOptionHandler.java     |   4 +-
 .../drill/exec/server/options/TypeValidators.java  |  51 +++
 .../apache/drill/exec/server/rest/DrillRoot.java   |  48 ++-
 .../server/rest/auth/DrillRestLoginService.java    |   4 +-
 .../exec/server/rest/auth/DrillUserPrincipal.java  |   2 +
 .../java-exec/src/main/resources/drill-module.conf |   4 +-
 exec/java-exec/src/main/resources/rest/index.ftl   |  22 ++
 .../drill/exec/server/TestOptionsAuthEnabled.java  |  94 +++++
 .../java/org/apache/drill/test/ClientFixture.java  |  15 +
 11 files changed, 470 insertions(+), 215 deletions(-)

commit fe79a633a3da8b4f6db50454fde64c30c73233bb
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Oct 2 14:14:54 2017 +0000

    DRILL-5775: Select * query on a maprdb binary table fails
    
    - The common HBase/MapR-DB_binary verifyColumns() method;
    - MapRDBBinaryTable is introduced for the purpose of expanding the wildcard on the planning stage;
    - AbstractHBaseDrillTable class for MapRDBBinaryTable and DrillHBaseTable.
    
    closes #973

 .../exec/store/mapr/db/MapRDBFormatMatcher.java    | 34 +++++++++-
 .../exec/store/mapr/db/MapRDBFormatPlugin.java     | 19 ++++--
 .../store/mapr/db/binary/BinaryTableGroupScan.java | 19 ++----
 .../store/mapr/db/binary/MapRDBBinaryTable.java    | 34 ++++++++++
 .../exec/store/hbase/AbstractHBaseDrillTable.java  | 79 ++++++++++++++++++++++
 .../drill/exec/store/hbase/DrillHBaseTable.java    | 44 +-----------
 .../drill/exec/store/hbase/HBaseGroupScan.java     | 14 +---
 .../apache/drill/exec/store/hbase/HBaseUtils.java  | 27 +++++++-
 8 files changed, 195 insertions(+), 75 deletions(-)

commit 42f7af22fc5d713aac07e057fd374ccd674e40df
Author: Paul Rogers <progers@maprtech.com>
Date:   Thu Sep 28 09:49:38 2017 -0700

    DRILL-5830: Resolve regressions to MapR DB from DRILL-5546
    
    - Back out HBase changes
    - Code cleanup
    - Test utilities
    - Fix for DRILL-5829
    
    closes #968

 .../drill/exec/store/hbase/HBaseGroupScan.java     |  95 +++---
 .../drill/exec/store/hbase/HBaseRecordReader.java  |   6 +-
 .../drill/exec/store/hbase/HBaseScanSpec.java      |   1 -
 .../drill/exec/store/hbase/HBaseSchemaFactory.java |   4 +-
 .../drill/exec/store/hbase/HBaseStoragePlugin.java |   4 +-
 .../drill/exec/store/hbase/HBaseSubScan.java       |   9 +-
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |   2 +-
 .../drill/exec/client/PrintingResultsListener.java |  55 ++--
 .../drill/exec/physical/config/UnionExchange.java  |   7 +-
 .../unorderedreceiver/UnorderedReceiverBatch.java  |   5 +-
 .../UnorderedReceiverCreator.java                  |   6 +-
 .../planner/logical/DrillPushProjIntoScan.java     |   1 -
 .../drill/exec/planner/physical/ProjectPrel.java   |   2 +-
 .../org/apache/drill/exec/record/BatchSchema.java  |  15 +
 .../drill/exec/record/RecordBatchLoader.java       |  63 +++-
 .../apache/drill/exec/record/VectorContainer.java  |   2 +-
 .../org/apache/drill/exec/util/VectorUtil.java     |  27 +-
 .../work/foreman/rm/DistributedQueryQueue.java     |   3 +
 .../apache/drill/exec/record/vector/TestLoad.java  | 358 +++++++++++++++++++--
 .../java/org/apache/drill/test/QueryBuilder.java   |   4 +
 .../org/apache/drill/test/QueryRowSetIterator.java | 118 +++++++
 .../src/main/java/io/netty/buffer/DrillBuf.java    |   6 +-
 .../drill/exec/record/MaterializedField.java       |  53 +++
 23 files changed, 691 insertions(+), 155 deletions(-)

commit fe84713169d410c40da80d6faf658ba2ac884ccc
Author: Paul Rogers <progers@maprtech.com>
Date:   Sun Sep 24 12:51:43 2017 -0700

    DRILL-5808: Reduce memory allocator strictness for "managed" operators
    
    closes #958

 .../exec/physical/impl/aggregate/HashAggBatch.java |   7 +
 .../exec/physical/impl/xsort/managed/SortImpl.java |  15 +-
 .../impl/xsort/managed/TestLenientAllocation.java  | 194 +++++++++++++++++++++
 .../org/apache/drill/exec/memory/Accountant.java   |  98 ++++++++++-
 .../apache/drill/exec/memory/BaseAllocator.java    |   9 +-
 .../apache/drill/exec/memory/BufferAllocator.java  |  13 ++
 .../apache/drill/exec/memory/ChildAllocator.java   |   4 +-
 7 files changed, 321 insertions(+), 19 deletions(-)

commit cf3a5eef23ffe0cdc33366941e60cee4e593f684
Author: Prasad Nagaraj Subramanya <prasadns14@gmail.com>
Date:   Tue Oct 10 11:12:03 2017 -0700

    DRILL-5859: Fixed queued time calculation
    
    closes #982

 .../main/java/org/apache/drill/exec/work/foreman/Foreman.java    | 3 ++-
 .../apache/drill/exec/work/foreman/rm/DistributedQueryQueue.java | 9 +++++----
 .../java/org/apache/drill/exec/work/foreman/rm/QueryQueue.java   | 4 ++--
 3 files changed, 9 insertions(+), 7 deletions(-)

commit e14cb7ac2dacd618dc217dc3c136da8ba2fe9367
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Mon Oct 9 15:05:17 2017 -0700

    DRILL-5854: IllegalStateException when empty batch with valid schema is received
    
    closes #981

 .../drill/exec/physical/impl/mergereceiver/MergingRecordBatch.java       | 1 +
 1 file changed, 1 insertion(+)

commit 0049f17331462e0c7940bb5b5b79eab8e75d2a86
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Mon Oct 9 14:28:42 2017 +0000

    DRILL-5857: Fix NumberFormatException in Hive unit tests
    
    closes #980

 .../org/apache/drill/exec/store/hive/HiveMetadataProvider.java   | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 27b6605fab5a52526c2abb5a90c649febe725905
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Oct 6 16:58:28 2017 +0300

    DRILL-5849: Add freemarker lib to dependencyManagement to ensure proper version is used when resolving dependency version conflicts
    
    closes #977

 exec/java-exec/pom.xml | 1 -
 pom.xml                | 5 +++++
 tools/fmpp/pom.xml     | 1 -
 3 files changed, 5 insertions(+), 2 deletions(-)

commit a7b25714d824c7447a73251314383eccb9b7b18b
Author: Josiah Yan <josiah.yan@gmail.com>
Date:   Wed Aug 2 22:50:54 2017 +0800

    DRILL-5645: negation of expression causes null pointer exception
    
    closes #892

 exec/java-exec/src/main/codegen/data/MathFunc.tdd  | 13 +++++++++++
 .../src/main/codegen/templates/MathFunctions.java  |  4 ++++
 .../drill/exec/expr/fn/impl/MathFunctions.java     | 15 -------------
 .../drill/exec/planner/logical/DrillOptiq.java     | 11 +++------
 .../java/org/apache/drill/TestFunctionsQuery.java  | 26 +++++++++++++++++++++-
 5 files changed, 45 insertions(+), 24 deletions(-)

commit bbc42240483a0658691149aea3c509ccd0db4c79
Author: Paul Rogers <progers@maprtech.com>
Date:   Wed Aug 30 14:32:17 2017 -0700

    DRILL-5716: Queue-driven memory allocation
    
    * Creates new core resource management and query queue abstractions.
    * Adds queue information to the Protobuf layer.
    * Foreman and Planner changes
    
    - Abstracts memory management out to the new resource management layer.
    This means deferring generating the physical plan JSON to later in the
    process after memory planning.
    
    * Web UI changes
    
    * Adds queue information to the main page and the profile page to each
    query.
    * Also sorts the list of options displayed in the Web UI.
    
    - Added memory reserve
    
    A new config parameter, exec.queue.memory_reserve_ratio, sets aside a
    slice of total memory for operators that do not participate in the
    memory assignment process. The default is 20% testing will tell us if
    that value should be larger or smaller.
    
    * Additional minor fixes
    
    - Code cleanup.
    - Added mechanism to abandon lease release during shutdown.
    - Log queue configuration only when the config changes, rather than on
    every query.
    - Apply Boaz option to enforce a minimum memory allocation per
    operator.
    - Additional logging to help testers see what is happening.
    
    closes #928

 .../java/org/apache/drill/exec/ExecConstants.java  |  25 +-
 .../exec/coord/store/TransientStoreConfig.java     |   2 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |  13 +-
 .../apache/drill/exec/physical/PhysicalPlan.java   |  16 +-
 .../drill/exec/physical/base/FragmentRoot.java     |   7 +-
 .../fragment/HardAffinityFragmentParallelizer.java |   2 +-
 .../drill/exec/planner/fragment/Materializer.java  |   3 +-
 .../drill/exec/planner/fragment/PlanningSet.java   |   4 +-
 .../exec/planner/fragment/SimpleParallelizer.java  |  50 +-
 .../fragment/SoftAffinityFragmentParallelizer.java |   3 +-
 .../fragment/contrib/SplittingParallelizer.java    |  24 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  10 +-
 .../apache/drill/exec/server/DrillbitContext.java  |  40 +-
 .../exec/server/options/DrillConfigIterator.java   |   3 +
 .../drill/exec/server/options/OptionList.java      |   1 +
 .../exec/server/options/SessionOptionManager.java  |   9 +-
 .../exec/server/options/SystemOptionManager.java   |   9 +-
 .../drill/exec/server/rest/DrillRestServer.java    |   4 +-
 .../apache/drill/exec/server/rest/DrillRoot.java   | 137 ++++-
 .../exec/server/rest/GenericExceptionMapper.java   |  25 +-
 .../drill/exec/server/rest/LogsResources.java      |   1 +
 .../drill/exec/server/rest/StatusResources.java    |  12 +-
 .../drill/exec/server/rest/StorageResources.java   |   3 +-
 .../apache/drill/exec/server/rest/WebServer.java   |   4 +-
 .../exec/server/rest/profile/Comparators.java      |  13 +
 .../exec/server/rest/profile/ProfileResources.java |  87 ++-
 .../exec/server/rest/profile/ProfileWrapper.java   |   1 -
 .../org/apache/drill/exec/util/BatchPrinter.java   |   8 +-
 .../drill/exec/util/MemoryAllocationUtilities.java |  19 +-
 .../org/apache/drill/exec/util/TestUtilities.java  |   3 +-
 .../org/apache/drill/exec/work/QueryWorkUnit.java  |  80 ++-
 .../org/apache/drill/exec/work/WorkManager.java    |   4 +-
 .../apache/drill/exec/work/foreman/Foreman.java    | 278 ++++-----
 .../drill/exec/work/foreman/QueryManager.java      |  30 +-
 .../work/foreman/rm/AbstractResourceManager.java   |  68 +++
 .../work/foreman/rm/DefaultResourceManager.java    | 120 ++++
 .../work/foreman/rm/DistributedQueryQueue.java     | 363 ++++++++++++
 .../work/foreman/rm/DynamicResourceManager.java    | 146 +++++
 .../exec/work/foreman/rm/EmbeddedQueryQueue.java   | 151 +++++
 .../drill/exec/work/foreman/rm/QueryQueue.java     | 140 +++++
 .../work/foreman/rm/QueryResourceAllocator.java    |  56 ++
 .../exec/work/foreman/rm/QueryResourceManager.java |  73 +++
 .../exec/work/foreman/rm/ResourceManager.java      |  66 +++
 .../work/foreman/rm/ResourceManagerBuilder.java    |  78 +++
 .../work/foreman/rm/ThrottledResourceManager.java  | 360 ++++++++++++
 .../drill/exec/work/foreman/rm/package-info.java   |  31 +
 .../apache/drill/exec/work/user/PlanSplitter.java  |  14 +-
 .../java-exec/src/main/resources/drill-module.conf |  36 +-
 exec/java-exec/src/main/resources/rest/index.ftl   |  60 +-
 .../src/main/resources/rest/profile/profile.ftl    |  15 +
 .../exec/physical/impl/TestLocalExchange.java      |   3 +-
 .../impl/partitionsender/TestPartitionSender.java  |   3 +-
 .../apache/drill/exec/pop/TestFragmentChecker.java |   3 +-
 .../drill/exec/proto/SchemaUserBitShared.java      |  28 +
 .../org/apache/drill/exec/proto/UserBitShared.java | 621 ++++++++++++++++++---
 .../apache/drill/exec/proto/beans/QueryInfo.java   |  45 ++
 .../drill/exec/proto/beans/QueryProfile.java       |  45 ++
 protocol/src/main/protobuf/UserBitShared.proto     |   6 +-
 58 files changed, 3002 insertions(+), 459 deletions(-)

commit a03f5429e368cf73286eec6101871f6e61a5b7d1
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Sat Sep 30 17:33:17 2017 -0700

    DRILL-5839: Handle Empty Batches in Merge Receiver
    
    closes #974

 .../impl/mergereceiver/MergingRecordBatch.java     | 102 ++++++++++++++++++---
 .../drill/exec/store/mock/MockRecordReader.java    |  12 +++
 .../impl/mergereceiver/TestMergingReceiver.java    |  79 ++++++++++++++++
 .../resources/mergerecv/empty_batch_noschema.json  |  51 +++++++++++
 .../multiple_providers_empty_batches.json          |  67 ++++++++++++++
 5 files changed, 300 insertions(+), 11 deletions(-)

commit 030189f905f13377d0de5fc5a904312c35ef9ed4
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Wed Aug 30 12:53:49 2017 -0700

    DRILL-5752 this change includes:
    
      1. Increased test parallelism and fixed associated bugs
      2. Added test categories and categorized tests appropriately
    
    - Don't exclude anything by default
    - Increase test timeout
    - Fixed flakey test
    
    closes #940

 .../java/org/apache/drill/test/SecondaryTest.java  |  70 ---
 .../apache/drill/categories/HbaseStorageTest.java  |  25 +
 .../apache/drill/categories/HiveStorageTest.java   |  25 +
 .../apache/drill/categories/JdbcStorageTest.java   |  25 +
 .../java/org/apache/drill/categories/JdbcTest.java |  25 +
 .../apache/drill/categories/KuduStorageTest.java   |  25 +
 .../org/apache/drill/categories/MemoryTest.java    |  25 +
 .../apache/drill/categories/MongoStorageTest.java  |  25 +
 .../org/apache/drill/categories/OperatorTest.java  |  25 +
 .../org/apache/drill/categories/OptionsTest.java   |  25 +
 .../org/apache/drill/categories/ParquetTest.java   |  25 +
 .../org/apache/drill/categories/PlannerTest.java   |  26 +
 .../org/apache/drill/categories/SecurityTest.java  |  25 +
 .../java/org/apache/drill/categories/SlowTest.java |  25 +
 .../apache/drill/categories/SqlFunctionTest.java   |  25 +
 .../java/org/apache/drill/categories/SqlTest.java  |  25 +
 .../org/apache/drill/categories/UnlikelyTest.java  |  24 +
 .../org/apache/drill/categories/VectorTest.java    |  25 +
 .../org/apache/drill/categories/package-info.java  |  67 +++
 .../Drill2130CommonHamcrestConfigurationTest.java  |   2 +-
 .../test/java/org/apache/drill/test/DrillTest.java |   5 +-
 .../apache/drill/hbase/HBaseRecordReaderTest.java  |   4 +
 .../drill/hbase/TestHBaseCFAsJSONString.java       |   4 +
 .../drill/hbase/TestHBaseConnectionManager.java    |   4 +
 .../drill/hbase/TestHBaseFilterPushDown.java       |   4 +
 .../drill/hbase/TestHBaseProjectPushDown.java      |   4 +
 .../org/apache/drill/hbase/TestHBaseQueries.java   |   4 +
 .../apache/drill/hbase/TestHBaseRegexParser.java   |   4 +
 .../hbase/TestHBaseRegionScanAssignments.java      |   4 +
 .../apache/drill/hbase/TestHBaseTableProvider.java |   4 +
 .../hbase/TestOrderedBytesConvertFunctions.java    |   4 +
 ...l2130StorageHBaseHamcrestConfigurationTest.java |   3 +-
 .../drill/exec/TestHivePartitionPruning.java       |   4 +
 .../apache/drill/exec/TestHiveProjectPushDown.java |   4 +
 .../apache/drill/exec/fn/hive/TestHiveUDFs.java    |   4 +
 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    |   4 +
 .../drill/exec/fn/hive/TestSampleHiveUDFs.java     |   4 +
 .../apache/drill/exec/hive/TestHiveStorage.java    |   4 +
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |   4 +
 .../hive/TestSqlStdBasedAuthorization.java         |   4 +
 .../hive/TestStorageBasedHiveAuthorization.java    |   4 +
 .../exec/sql/hive/TestViewSupportOnHiveTables.java |   4 +
 .../store/hive/schema/TestColumnListCache.java     |   3 +
 ...30StorageHiveCoreHamcrestConfigurationTest.java |   2 +-
 .../exec/store/jdbc/TestJdbcPluginWithDerbyIT.java |   3 +
 .../exec/store/jdbc/TestJdbcPluginWithMySQLIT.java |   4 +-
 .../apache/drill/store/kudu/TestKuduConnect.java   |   3 +
 .../apache/drill/store/kudu/TestKuduPlugin.java    |   3 +
 .../exec/store/mongo/TestMongoChunkAssignment.java |   3 +
 .../exec/store/mongo/TestMongoFilterPushDown.java  |   4 +
 .../exec/store/mongo/TestMongoProjectPushDown.java |   4 +
 .../drill/exec/store/mongo/TestMongoQueries.java   |   4 +
 exec/java-exec/pom.xml                             |   5 +-
 .../java/org/apache/drill/exec/ExecConstants.java  | 571 +++++++++++----------
 .../drill/exec/server/options/OptionValidator.java |   4 +-
 .../drill/exec/server/options/TypeValidators.java  |   5 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |   4 +
 .../java/org/apache/drill/TestAggNullable.java     |   3 +
 .../java/org/apache/drill/TestAltSortQueries.java  |   4 +
 .../test/java/org/apache/drill/TestBugFixes.java   |   3 +
 .../java/org/apache/drill/TestCaseSensitivity.java |   4 +
 .../java/org/apache/drill/TestCorrelation.java     |   4 +
 .../apache/drill/TestDisabledFunctionality.java    |   3 +
 .../test/java/org/apache/drill/TestDropTable.java  |   8 +-
 .../org/apache/drill/TestDynamicUDFSupport.java    |   4 +
 .../java/org/apache/drill/TestExampleQueries.java  |  23 +-
 .../java/org/apache/drill/TestFunctionsQuery.java  |   3 +
 .../drill/TestFunctionsWithTypeExpoQueries.java    |   3 +
 .../java/org/apache/drill/TestImplicitCasting.java |   4 +-
 .../src/test/java/org/apache/drill/TestInList.java |   4 +-
 .../java/org/apache/drill/TestJoinNullable.java    |   3 +
 .../java/org/apache/drill/TestMergeFilterPlan.java |   3 +
 .../java/org/apache/drill/TestPartitionFilter.java |  10 +
 .../drill/TestPlanVerificationUtilities.java       |   3 +
 .../java/org/apache/drill/TestProjectPushDown.java |   3 +
 .../org/apache/drill/TestSelectWithOption.java     |   3 +
 .../java/org/apache/drill/TestSelectivity.java     |   4 +-
 .../java/org/apache/drill/TestStarQueries.java     |  17 +
 .../java/org/apache/drill/TestTpchDistributed.java |   3 +
 .../drill/TestTpchDistributedConcurrent.java       |   6 +-
 .../java/org/apache/drill/TestTpchExplain.java     |   3 +
 .../test/java/org/apache/drill/TestTpchLimit0.java |   3 +
 .../java/org/apache/drill/TestTpchPlanning.java    |   4 +-
 .../test/java/org/apache/drill/TestUnionAll.java   |  20 +
 .../java/org/apache/drill/TestUnionDistinct.java   |   4 +
 .../drill/exec/DrillSeparatePlanningTest.java      |  16 +-
 .../test/java/org/apache/drill/exec/ExecTest.java  |   1 +
 .../drill/exec/HyperVectorValueIterator.java       |   3 +
 .../org/apache/drill/exec/TestEmptyInputSql.java   |   3 +
 .../org/apache/drill/exec/TestRepeatedReaders.java |   2 +
 .../java/org/apache/drill/exec/TestSSLConfig.java  |   4 +
 .../org/apache/drill/exec/TestWindowFunctions.java |   3 +
 .../drill/exec/expr/TestLogicalExprSerDe.java      |   3 +
 .../exec/expr/TestSchemaPathMaterialization.java   |   7 +
 .../exec/expr/fn/FunctionInitializerTest.java      |   3 +
 .../expr/fn/impl/TestSimpleRepeatedFunctions.java  |   3 +
 .../exec/expr/fn/impl/TestStringFunctions.java     |   3 +
 .../fn/registry/FunctionRegistryHolderTest.java    |   3 +
 .../drill/exec/fn/impl/TestAggregateFunction.java  |   3 +
 .../drill/exec/fn/impl/TestAggregateFunctions.java |  15 +
 .../exec/fn/impl/TestByteComparisonFunctions.java  |   4 +
 .../drill/exec/fn/impl/TestCastEmptyStrings.java   |   4 +
 .../drill/exec/fn/impl/TestCastFunctions.java      |   4 +
 .../drill/exec/fn/impl/TestContextFunctions.java   |   3 +
 .../drill/exec/fn/impl/TestCryptoFunctions.java    |   4 +
 .../drill/exec/fn/impl/TestDateAddFunctions.java   |   4 +
 .../drill/exec/fn/impl/TestDateFunctions.java      |   4 +
 .../drill/exec/fn/impl/TestDateTruncFunctions.java |   4 +
 .../drill/exec/fn/impl/TestMathFunctions.java      |   4 +-
 .../drill/exec/fn/impl/TestMultiInputAdd.java      |   3 +
 .../exec/fn/impl/TestNewAggregateFunctions.java    |   3 +
 .../drill/exec/fn/impl/TestNewDateFunctions.java   |   4 +
 .../drill/exec/fn/impl/TestNewMathFunctions.java   |   4 +
 .../fn/impl/TestNewSimpleRepeatedFunctions.java    |   3 +
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |   3 +
 .../drill/exec/fn/impl/TestTrigFunctions.java      |   4 +
 .../exec/fn/impl/testing/TestDateConversions.java  |   5 +
 .../exec/fn/interp/ExpressionInterpreterTest.java  |   4 +
 .../drill/exec/fn/interp/TestConstantFolding.java  |   3 +
 .../TestImpersonationDisabledWithMiniDFS.java      |   5 +-
 .../impersonation/TestImpersonationMetadata.java   |   6 +
 .../impersonation/TestImpersonationQueries.java    |   4 +
 .../impersonation/TestInboundImpersonation.java    |   4 +
 .../TestInboundImpersonationPrivileges.java        |   3 +
 .../apache/drill/exec/memory/TestAllocators.java   |   3 +
 .../drill/exec/nested/TestFastComplexSchema.java   |   3 +
 .../drill/exec/nested/TestNestedComplexSchema.java |   3 +
 .../physical/config/TestParsePhysicalPlan.java     |   4 +-
 .../exec/physical/impl/TestBroadcastExchange.java  |   3 +
 .../exec/physical/impl/TestConvertFunctions.java   |   3 +
 .../drill/exec/physical/impl/TestDecimal.java      |   3 +
 .../physical/impl/TestDistributedFragmentRun.java  |   4 +-
 .../exec/physical/impl/TestExtractFunctions.java   |   3 +
 .../physical/impl/TestHashToRandomExchange.java    |   3 +
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   3 +
 .../exec/physical/impl/TestUnionExchange.java      |   3 +
 .../exec/physical/impl/TopN/TestSimpleTopN.java    |   3 +
 .../physical/impl/TopN/TestTopNSchemaChanges.java  |   4 +-
 .../drill/exec/physical/impl/agg/TestAgg.java      |   3 +
 .../drill/exec/physical/impl/agg/TestHashAggr.java |   4 +-
 .../exec/physical/impl/agg/TestHashAggrSpill.java  |   5 +
 .../impl/broadcastsender/TestBroadcast.java        |   3 +
 .../physical/impl/filter/TestLargeInClause.java    |   6 +
 .../physical/impl/filter/TestSimpleFilter.java     |   3 +
 .../exec/physical/impl/flatten/TestFlatten.java    |  22 +
 .../physical/impl/flatten/TestFlattenPlanning.java |   4 +
 .../exec/physical/impl/join/TestHashJoin.java      |   5 +-
 .../physical/impl/join/TestHashJoinAdvanced.java   |   8 +
 .../exec/physical/impl/join/TestMergeJoin.java     |   5 +-
 .../physical/impl/join/TestMergeJoinAdvanced.java  |   3 +
 .../impl/join/TestMergeJoinMulCondition.java       |   4 +
 .../impl/join/TestMergeJoinWithSchemaChanges.java  |   5 +-
 .../physical/impl/join/TestNestedLoopJoin.java     |   3 +
 .../impl/limit/TestEarlyLimit0Optimization.java    |   3 +
 .../impl/limit/TestLimitWithExchanges.java         |   4 +-
 .../exec/physical/impl/limit/TestSimpleLimit.java  |   3 +
 .../impl/mergereceiver/TestMergingReceiver.java    |   3 +
 .../TestOrderedPartitionExchange.java              |   3 +
 .../impl/partitionsender/TestPartitionSender.java  |   3 +
 .../impl/project/TestSimpleProjection.java         |   3 +
 .../exec/physical/impl/sort/TestSimpleSort.java    |   3 +
 .../drill/exec/physical/impl/sort/TestSort.java    |   3 +
 .../impl/trace/TestTraceMultiRecordBatch.java      |   3 +
 .../physical/impl/trace/TestTraceOutputDump.java   |   3 +
 .../exec/physical/impl/union/TestSimpleUnion.java  |   4 +-
 .../exec/physical/impl/window/TestWindowFrame.java |  10 +
 .../writer/TestCorruptParquetDateCorrection.java   |   4 +
 .../physical/impl/writer/TestParquetWriter.java    |   8 +-
 .../impl/writer/TestParquetWriterEmptyFiles.java   |   4 +
 .../exec/physical/impl/xsort/TestExternalSort.java |   5 +-
 .../impl/xsort/TestSimpleExternalSort.java         |   6 +-
 .../impl/xsort/TestSortSpillWithException.java     |   3 +
 .../physical/impl/xsort/managed/TestCopier.java    |   3 +
 .../impl/xsort/managed/TestExternalSortExec.java   |   3 +
 .../xsort/managed/TestExternalSortInternals.java   |   3 +
 .../physical/impl/xsort/managed/TestSortImpl.java  |   3 +
 .../physical/impl/xsort/managed/TestSorter.java    |   3 +
 .../drill/exec/physical/unit/TestMiniPlan.java     |   3 +
 .../planner/PhysicalPlanReaderTestFactory.java     |   3 +
 .../exec/planner/TestDirectoryExplorerUDFs.java    |   4 +
 .../TestHardAffinityFragmentParallelizer.java      |   3 +
 .../drill/exec/planner/logical/DrillOptiqTest.java |   4 +
 .../exec/planner/logical/FilterSplitTest.java      |   3 +
 .../planner/logical/TestCaseNullableTypes.java     |   3 +
 .../logical/TestConvertCountToDirectScan.java      |   3 +
 .../drill/exec/planner/sql/TestDrillSQLWorker.java |   3 +
 .../apache/drill/exec/pop/TestFragmentChecker.java |   3 +
 .../org/apache/drill/exec/pop/TestFragmenter.java  |   3 +
 .../apache/drill/exec/pop/TestInjectionValue.java  |   3 +
 .../record/ExpressionTreeMaterializerTest.java     |   3 +
 .../drill/exec/record/TestMaterializedField.java   |   3 +
 .../drill/exec/record/TestRecordIterator.java      |   4 +-
 .../drill/exec/record/TestVectorContainer.java     |   5 +-
 .../drill/exec/record/vector/TestDateTypes.java    |   4 +
 .../apache/drill/exec/record/vector/TestLoad.java  |   3 +
 .../drill/exec/record/vector/TestValueVector.java  |   3 +
 .../drill/exec/rpc/data/TestBitBitKerberos.java    |   3 +
 .../user/security/TestCustomUserAuthenticator.java |   3 +
 .../rpc/user/security/TestUserBitKerberos.java     |   3 +
 .../security/TestUserBitKerberosEncryption.java    |   3 +
 .../drill/exec/server/TestDrillbitResilience.java  |   3 +
 .../org/apache/drill/exec/server/TestOptions.java  |   3 +
 .../exec/server/rest/StatusResourcesTest.java      |   2 +-
 .../java/org/apache/drill/exec/sql/TestCTAS.java   |  11 +
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  |   3 +
 .../org/apache/drill/exec/sql/TestInfoSchema.java  |   3 +
 .../drill/exec/sql/TestSimpleCastFunctions.java    |   3 +
 .../drill/exec/sql/TestSqlBracketlessSyntax.java   |   3 +
 .../org/apache/drill/exec/sql/TestViewSupport.java |  20 +
 .../org/apache/drill/exec/sql/TestWithClause.java  |   3 +
 .../apache/drill/exec/store/TestTimedRunnable.java |   3 +
 .../org/apache/drill/exec/store/dfs/TestGlob.java  |   3 +
 .../Drill2283InfoSchemaVarchar1BugTest.java        |   3 +
 .../exec/store/json/TestJsonRecordReader.java      |   9 +
 .../store/parquet/TestParquetMetadataCache.java    |  16 +
 .../drill/exec/store/sys/TestSystemTable.java      |   3 +
 .../drill/exec/store/text/TestNewTextReader.java   |   6 +
 .../exec/vector/accessor/GenericAccessorTest.java  |   3 +
 .../exec/work/metadata/TestMetadataProvider.java   |   3 +
 .../org/apache/drill/test/TestConfigLinkage.java   |  12 +-
 .../org/apache/drill/vector/TestFillEmpties.java   |   3 +
 .../org/apache/drill/vector/TestVectorLimits.java  |   3 +
 .../org/apache/drill/jdbc/ITTestShadedJar.java     |  11 +-
 .../org/apache/drill/jdbc/ConnectionInfoTest.java  |   4 +
 .../java/org/apache/drill/jdbc/ConnectionTest.java |  11 +-
 .../jdbc/ConnectionTransactionMethodsTest.java     |   5 +-
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java |   3 +
 .../apache/drill/jdbc/DatabaseMetaDataTest.java    |   3 +
 .../drill/jdbc/DrillColumnMetaDataListTest.java    |   3 +
 .../org/apache/drill/jdbc/DrillResultSetTest.java  |   5 +-
 .../java/org/apache/drill/jdbc/DriverTest.java     |   4 +-
 .../java/org/apache/drill/jdbc/JdbcTestBase.java   |   3 +
 .../jdbc/LegacyDatabaseMetaDataGetColumnsTest.java |   3 +
 .../drill/jdbc/LegacyDatabaseMetaDataTest.java     |   3 +
 .../drill/jdbc/LegacyPreparedStatementTest.java    |   3 +
 .../apache/drill/jdbc/PreparedStatementTest.java   |  11 +-
 .../jdbc/ResultSetGetMethodConversionsTest.java    |   3 +
 .../apache/drill/jdbc/ResultSetMetaDataTest.java   |   4 +-
 .../java/org/apache/drill/jdbc/StatementTest.java  |   6 +-
 .../jdbc/impl/TypeConvertingSqlAccessorTest.java   |  12 +-
 .../proxy/TracingProxyDriverClassLoadingTest.java  |   3 +
 .../drill/jdbc/proxy/TracingProxyDriverTest.java   |   3 +
 .../jdbc/test/Bug1735ConnectionCloseTest.java      |   4 +-
 .../Bug1735ResultSetCloseReleasesBuffersTest.java  |   3 +
 ...28GetColumnsDataTypeNotTypeCodeIntBugsTest.java |   4 +-
 ...Drill2130JavaJdbcHamcrestConfigurationTest.java |   5 +-
 .../Drill2288GetColumnsMetadataWhenNoRowsTest.java |   7 +-
 ...l2439GetBooleanFailsSayingWrongTypeBugTest.java |   6 +-
 .../Drill2461IntervalsBreakInfoSchemaBugTest.java  |   4 +-
 ...ill2463GetNullsFailedWithAssertionsBugTest.java |   4 +-
 ...rill2489CallsAfterCloseThrowExceptionsTest.java |   4 +-
 ...l2769UnsupportedReportsUseSqlExceptionTest.java |   4 +-
 .../test/JdbcConnectTriesTestEmbeddedBits.java     |   3 +
 .../org/apache/drill/jdbc/test/JdbcDataTest.java   |   4 +-
 .../jdbc/test/JdbcNullOrderingAndGroupingTest.java |  15 +-
 .../jdbc/test/TestAggregateFunctionsQuery.java     |   4 +-
 .../jdbc/test/TestExecutionExceptionsToClient.java |   3 +
 .../jdbc/test/TestInformationSchemaColumns.java    |   3 +
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  |   3 +
 .../apache/drill/jdbc/test/TestJdbcMetadata.java   |   4 +-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |   3 +
 exec/memory/base/pom.xml                           |  11 +-
 .../apache/drill/exec/memory/TestAccountant.java   |   3 +
 .../drill/exec/memory/TestBaseAllocator.java       |   3 +
 .../apache/drill/exec/memory/TestEndianess.java    |   4 +-
 pom.xml                                            |  11 +-
 266 files changed, 1767 insertions(+), 470 deletions(-)

commit 9df8102eb18d9718472a1291130345d960435085
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Mon Oct 2 13:07:54 2017 -0700

    DRILL-5259: Allow listing a user-defined number of profiles
    
    Added an additional field in the UI allowing a user to specify the max number of profiles to load via Refresh
    
    closes #963

 .../exec/server/rest/profile/ProfileResources.java |  4 +++
 .../src/main/resources/rest/profile/list.ftl       | 37 +++++++++++++++++++++-
 2 files changed, 40 insertions(+), 1 deletion(-)

commit bec436f87d14a27180658b0b00b90ba6c6161f72
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Mon Oct 2 21:34:01 2017 -0700

    DRILL-5802: Provide a sortable table for tables within a query profile
    
    Using the DataTables jQuery library, we can now sort tables (fragments and operators) to group like values or sort on a column.
    In addition, additional tooltips have been provided for these columns
    
    closes #969

 .../exec/server/rest/profile/FragmentWrapper.java  |  47 +++++-
 .../exec/server/rest/profile/OperatorWrapper.java  |  36 ++++-
 .../exec/server/rest/profile/TableBuilder.java     |  10 +-
 .../src/main/resources/rest/profile/profile.ftl    |  23 +++
 .../main/resources/rest/static/img/black-asc.gif   | Bin 0 -> 48 bytes
 .../main/resources/rest/static/img/black-desc.gif  | Bin 0 -> 49 bytes
 .../resources/rest/static/img/black-unsorted.gif   | Bin 0 -> 54 bytes
 .../static/js/jquery.dataTables-1.10.16.min.js     | 164 +++++++++++++++++++++
 8 files changed, 266 insertions(+), 14 deletions(-)

commit da88bf7aada502c49ee80a9a24a325abaa052802
Author: Roman Kulyk <rom.kulyk@gmail.com>
Date:   Fri Sep 29 17:26:39 2017 +0000

    DRILL-5564: Added finally block for stopWait() to avoid all situations where Drill able to miss stopWait() in case of exceptions (it can lead to assertions).
    
    closes #967

 .../parquet/columnreaders/AsyncPageReader.java     | 27 ++++++++++++----------
 1 file changed, 15 insertions(+), 12 deletions(-)

commit f958d4d0545c2d886e16f3413e2166f69c80d772
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Thu Sep 28 17:09:53 2017 -0700

    DRILL-5824: Retain original memory limit for 1st phase HashAgg with 1 partition
    
    closes #966

 .../apache/drill/exec/physical/impl/aggregate/HashAggTemplate.java   | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 5a100d1327a06a4509021916f302293ec228bbb3
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Sep 28 12:56:18 2017 -0700

    DRILL-5811 reduced repeated log messages further.
    
    closes #965

 .../drill/exec/store/schedule/BlockMapBuilder.java | 24 ++++++++++++++--------
 1 file changed, 16 insertions(+), 8 deletions(-)

commit 7bcc17817c4a9e15911660c2fbc65d38b467f60e
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Sep 21 15:59:58 2017 -0700

    DRILL-5755 Reduced default number of batches kept in memory by the TopN operator.
    
    closes #964

 exec/java-exec/src/main/resources/drill-module.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0cff5f7a7cb4f35a836bf02df159d993df4bcb00
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Wed Sep 20 17:38:08 2017 -0700

    DRILL-5820: Add support for libpam4j Pam Authenticator
    
    closes #962

 .../src/resources/drill-override-example.conf      |  4 ++
 exec/java-exec/pom.xml                             |  8 +++
 .../rpc/user/security/Pam4jUserAuthenticator.java  | 73 ++++++++++++++++++++++
 .../rpc/user/security/PamUserAuthenticator.java    |  3 +-
 exec/jdbc-all/pom.xml                              |  4 ++
 5 files changed, 91 insertions(+), 1 deletion(-)

commit 4ae7885f5456ce173a288b1720471da12ba5ed7a
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Tue Sep 26 04:06:45 2017 -0700

    DRILL-5792: CONVERT_FROM_JSON on an empty file throws runtime exception
    
    closes #961

 exec/java-exec/src/main/codegen/templates/TypeHelper.java     |  1 +
 exec/jdbc/pom.xml                                             |  1 +
 .../test/java/org/apache/drill/jdbc/test/TestJdbcQuery.java   | 11 +++++++++--
 exec/jdbc/src/test/resources/empty.csv                        |  0
 4 files changed, 11 insertions(+), 2 deletions(-)

commit d59421be4390ed00cec3d4378e15dae790323d40
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Fri Sep 15 15:07:50 2017 -0700

    DRILL-5816: Hash function produces skewed results on String values with same leading prefix
                Note: Changing hash32 computation to use Murmur3.hash32 instead of int casted version of Murmur3.hash64
    
    closes #959

 .../org/apache/drill/exec/expr/fn/impl/MurmurHash3.java   | 15 +++++++--------
 1 file changed, 7 insertions(+), 8 deletions(-)

commit dfd33e182371392fd7fccf92297969b6071926b9
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Tue Sep 26 15:59:32 2017 -0700

    DRILL-5803: Show the hostname for each minor fragment in operator table
    
    Based on DRILL-4909, list hostnames for each minor fragment within an operator table to identify any problematic host
    
    closes #954

 .../exec/server/rest/profile/OperatorWrapper.java  | 49 ++++++++++++----------
 .../exec/server/rest/profile/ProfileWrapper.java   | 13 +++---
 2 files changed, 36 insertions(+), 26 deletions(-)

commit 68a517bfc3f54f39cb7964b8ea708112a7feebf3
Author: Korn, Uwe <Uwe.Korn@blue-yonder.com>
Date:   Mon Sep 18 09:57:08 2017 +0200

    DRILL-5799: native-client: Support alternative build directories
    
    closes #946

 contrib/native/client/src/protobuf/CMakeLists.txt | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e2a28f7f1b329d20f19f14c165362af4d716539e
Author: Paul Rogers <progers@maprtech.com>
Date:   Thu Aug 31 17:24:43 2017 -0700

    DRILL-5443: Rollup of external sort fixes
    
    - DRILL-5758: the record batch sizer did not handle repeated columns correctly.
    - Enabled managed sort by default
    - Fix check style warning
    - Fix for DRILL-5670
    
    Estimation for size of spill batch read from disk was off. For some
    reason, Drill needs an amount of memory 2x the data size. The previous
    estimate was 1.5x. That error, accumulated over 47 columns, was enough
    to cause an OOM.
    
    - Code cleanup discovered during the investigation.
    - Exception if reAlloc tries to double a zero-size vector
    - DRILL-5804: Fixes issues with zero-length vector allocations.
    - Better estimates array cardinality when it is fractional.
    - Uses fractional cardinality to allocate new arrays.
    - Prevents an infinite loop on reAlloc if the array starts empty.
    - Fixed unit test issue
    - Change batch size variables from int to long
    
    closes #932

 .../exec/physical/impl/spill/RecordBatchSizer.java | 143 +++++++++++----------
 .../physical/impl/xsort/managed/BatchGroup.java    |   6 +-
 .../impl/xsort/managed/BufferedBatches.java        |   4 +-
 .../impl/xsort/managed/MergeSortWrapper.java       |   1 -
 .../xsort/managed/PriorityQueueCopierWrapper.java  |   6 +-
 .../exec/physical/impl/xsort/managed/SortImpl.java |   7 +-
 .../impl/xsort/managed/SortMemoryManager.java      |   6 +-
 .../physical/impl/xsort/managed/SortMetrics.java   |   2 +-
 .../drill/exec/record/VectorInitializer.java       |  25 +++-
 .../java-exec/src/main/resources/drill-module.conf |   3 -
 .../impl/xsort/managed/SortTestUtilities.java      |   1 -
 .../xsort/managed/TestExternalSortInternals.java   |   6 +-
 .../impl/xsort/managed/TestShortArrays.java        | 116 +++++++++++++++++
 .../apache/drill/test/rowSet/AbstractRowSet.java   |   2 +-
 .../drill/test/rowSet/AbstractSingleRowSet.java    |   2 +-
 .../apache/drill/test/rowSet/IndirectRowSet.java   |   2 +-
 .../java/org/apache/drill/test/rowSet/RowSet.java  |   2 +-
 .../main/codegen/templates/FixedValueVectors.java  |  21 ++-
 .../codegen/templates/NullableValueVectors.java    |   1 +
 .../codegen/templates/RepeatedValueVectors.java    |   3 +
 .../apache/drill/exec/vector/AllocationHelper.java |  21 +++
 21 files changed, 277 insertions(+), 103 deletions(-)

commit 5df49ab9c250114d93aa90507b029fad77f4e6bd
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri Mar 24 16:02:07 2017 +0000

    DRILL-4139: Add missing Interval, VarBinary and Varchar with nulls partition pruning support.
    Fix metadata serialization for fixed_len_byte_array types.
    Fix partition pruning for decimal type.
    Fix loss of scale value for DECIMAL in parquet partition pruning.
    Fix partition pruning for primitive types with null values.
    Update parquet table metadata version to v3_3.
    DRILL-4139: Fix wrong parquet metadata cache version after resolving conflicts with DRILL-4264
    
    closes #805

 .../apache/drill/exec/store/parquet/Metadata.java  | 101 ++++++++--
 .../drill/exec/store/parquet/MetadataVersion.java  |   9 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java | 222 +++++++++++++++++----
 .../exec/store/parquet/ParquetReaderUtility.java   | 112 ++++++++++-
 .../parquet/stat/ParquetMetaStatCollector.java     |  36 +++-
 .../store/parquet/TestParquetMetadataCache.java    | 217 +++++++++++++++++++-
 6 files changed, 634 insertions(+), 63 deletions(-)

commit 1ea191fa351b29847e2358f5777982d602cf5ec3
Author: Przemyslaw Maciolek <pmm@collective-sense.com>
Date:   Tue May 31 20:46:53 2016 +0200

    DRILL-4139: Add missing BIT support for Paruet partition pruning

 .../java/org/apache/drill/exec/store/parquet/ParquetGroupScan.java | 7 +++++++
 1 file changed, 7 insertions(+)

commit 8a8bf63f7e9f804e761c69f8e94f34417f83c7f7
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Sep 21 22:40:46 2017 -0700

    DRILL-5809 made the storage format of system options backwards compatible, and avoided storing unnecessary option info.
    
     - Fixed forward compatability issue
     - Added error message for debugging
     - Fix flakey test
     - Cleaned up bad logging
     - Applied comments
    
    closes #957

 .../org/apache/drill/testutils/DirTestWatcher.java |  61 ++++
 .../exec/server/options/BaseOptionManager.java     |   2 +-
 .../drill/exec/server/options/OptionMetaData.java  |   2 +-
 .../drill/exec/server/options/OptionValue.java     |  60 ++--
 .../exec/server/options/PersistedOptionValue.java  | 316 +++++++++++++++++++++
 .../exec/server/options/SystemOptionManager.java   |  34 ++-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  14 +-
 .../TestInboundImpersonationPrivileges.java        |   2 +-
 .../drill/exec/server/options/OptionValueTest.java |  72 +++++
 .../server/options/PersistedOptionValueTest.java   | 226 +++++++++++++++
 .../drill/exec/store/sys/TestPStoreProviders.java  | 121 +++++++-
 .../exec/testing/TestCountDownLatchInjection.java  |   7 +-
 .../drill/exec/util/MiniZooKeeperCluster.java      |   4 +-
 .../src/test/resources/options/old_booleanopt.json |   6 +
 .../src/test/resources/options/old_doubleopt.json  |   6 +
 .../src/test/resources/options/old_longopt.json    |   6 +
 .../src/test/resources/options/old_stringopt.json  |   6 +
 ...et.rowgroup.filter.pushdown.threshold.sys.drill |   6 +
 .../planner.width.max_per_query.sys.drill          |   6 +
 pom.xml                                            |   1 +
 20 files changed, 910 insertions(+), 48 deletions(-)

commit 44d5cc8eb1cd197d942a8ac52e9d42e282d30c88
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Fri Sep 22 12:55:29 2017 -0700

    DRILL-5812: Restore the minor fragment Gantt chart canvas
    
    Minor update to restore the fragment Gantt chart
    https://issues.apache.org/jira/browse/DRILL-5766?focusedCommentId=16176955&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16176955
    
    closes #956

 exec/java-exec/src/main/resources/rest/profile/profile.ftl | 1 +
 1 file changed, 1 insertion(+)

commit 3d8f69935458da6eccd324e1add0900209fb2e8a
Author: Korn, Uwe <Uwe.Korn@blue-yonder.com>
Date:   Thu Sep 21 14:52:58 2017 +0200

    DRILL-5438: Amazon S3 bucket can't be queried directly at root
    
    closes #952

 .../src/main/java/org/apache/drill/exec/store/dfs/FileSelection.java  | 4 ++++
 1 file changed, 4 insertions(+)

commit dde6fb72eca3c89265d41814e8dfea64b26bfb4b
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Sep 20 13:42:54 2017 -0700

    DRILL-5727: Update release profile to generate SHA-512 checksum.
    
    Also, remove sha1 checksum from release package
    
    closes #951

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 61c48a9cf935c43de4cfca28fe11fbe6fdb1a36f
Author: Prasad Subramanya <prasadsubramanya@psubram-1010.local>
Date:   Tue Sep 19 18:32:49 2017 -0700

    DRILL-5745: Corrected 'location' information in Drill web server
    
    closes #948

 .../exec/server/rest/profile/ProfileResources.java | 42 +++++++++++++++++-----
 1 file changed, 34 insertions(+), 8 deletions(-)

commit 9620e34829a25d767f90b272b9b57ccc9e0e36ea
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Sep 7 18:01:12 2017 +0000

    DRILL-5781: Fix unit test failures to use tests config even if default config is available
    
    closes #942

 .../org/apache/drill/hbase/HBaseTestsSuite.java    |  5 ++-
 .../src/test/resources/hbase-site.xml              |  4 +-
 .../org/apache/drill/exec/coord/zk/PathUtils.java  | 17 ++++++-
 .../org/apache/drill/exec/ZookeeperHelper.java     |  5 ++-
 .../org/apache/drill/exec/ZookeeperTestUtil.java   | 44 ++++++++++++++++++
 .../drill/exec/coord/zk/TestEphemeralStore.java    |  5 ++-
 .../drill/exec/coord/zk/TestZookeeperClient.java   |  3 ++
 .../drill/exec/server/TestDrillbitResilience.java  |  3 ++
 exec/java-exec/src/test/resources/core-site.xml    | 52 ++++++++++++++++++++++
 exec/java-exec/src/test/resources/login.conf       | 25 +++++++++++
 10 files changed, 155 insertions(+), 8 deletions(-)

commit 6cb626d78de75a1061e1381f680478ed8844123a
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue Sep 19 21:58:39 2017 -0700

    DRILL-5721: Update based on merge conflict with DRILL-3449
                Note: Resolved Merge Conflict and added certain new tests
    
    closes #919

 .../exec/work/fragment/FragmentStatusReporter.java | 11 ++-
 .../work/fragment/FragmentStatusReporterTest.java  | 83 +++++++++++++++++++---
 2 files changed, 76 insertions(+), 18 deletions(-)

commit b06a7bdecef8bdd52eebf4a2821a09c64b296886
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Thu Aug 17 16:48:37 2017 -0700

    DRILL-5721: Query with only root fragment and no non-root fragment hangs when Drillbit to Drillbit Control Connection has network issues
                Note: 1) To resolve the issue all the fragments including root fragment which are assigned to be executed on Foreman node
                         are scheduled locally and not sent over Control Tunnel. Also the FragmentStatusReporter is updated to sent the
                         status update locally by fragments running on Foreman node.
                      2) Refactor for FragmentManager, setupRootFragment and startNewFragment
                      3) Update the test added for DRILL-5701 as there is change in behavior

 .../org/apache/drill/exec/ops/FragmentContext.java |  30 ++-
 .../org/apache/drill/exec/work/WorkManager.java    |  51 +++--
 .../exec/work/batch/ControlMessageHandler.java     |  35 +--
 .../apache/drill/exec/work/foreman/Foreman.java    | 238 ++++++++++++++-------
 .../work/fragment/AbstractFragmentManager.java     |  99 +++++++++
 .../drill/exec/work/fragment/FragmentExecutor.java |   5 +-
 .../exec/work/fragment/FragmentStatusReporter.java |  77 ++++---
 .../exec/work/fragment/NonRootFragmentManager.java |  78 +------
 .../exec/work/fragment/RootFragmentManager.java    |  67 +-----
 .../drill/exec/rpc/data/TestBitBitKerberos.java    |  97 +++++++++
 .../security/TestUserBitKerberosEncryption.java    |  14 +-
 11 files changed, 501 insertions(+), 290 deletions(-)

commit d77ab31836e5e5b88c124e0c7540bccd0544dedb
Author: Ben-Zvi <bben-zvi@mapr.com>
Date:   Wed Sep 20 14:39:21 2017 -0700

    DRILL-5694: Handle OOM in HashAggr by spill and retry, reserve memory, spinner

 .../exceptions/RetryAfterSpillException.java       |  26 ++
 .../drill/common/exceptions/UserException.java     |  36 ++
 .../java/org/apache/drill/exec/ExecConstants.java  |  12 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java |  11 +-
 .../physical/impl/aggregate/HashAggTemplate.java   | 369 ++++++++++++++-------
 .../physical/impl/aggregate/HashAggregator.java    |   6 +-
 .../impl/aggregate/SpilledRecordbatch.java         |  12 +-
 .../physical/impl/common/ChainedHashTable.java     |   1 +
 .../drill/exec/physical/impl/common/HashTable.java |   3 +-
 .../physical/impl/common/HashTableTemplate.java    | 129 ++++---
 .../exec/physical/impl/join/HashJoinBatch.java     |   6 +-
 .../exec/physical/impl/spill/RecordBatchSizer.java |   2 +-
 .../drill/exec/physical/impl/spill/SpillSet.java   |  26 +-
 .../impl/xsort/managed/ExternalSortBatch.java      |   3 +-
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../java-exec/src/main/resources/drill-module.conf |  29 +-
 .../exec/physical/impl/agg/TestHashAggrSpill.java  | 163 ++++-----
 .../physical/impl/xsort/managed/TestSortImpl.java  |  12 +-
 .../apache/drill/exec/memory/BaseAllocator.java    |   8 +-
 .../codegen/templates/NullableValueVectors.java    |   2 +-
 .../codegen/templates/VariableLengthVectors.java   |   2 +-
 21 files changed, 523 insertions(+), 336 deletions(-)

commit 4c99f0cdd98b1a0e789c5d11b353f88a2f6d54aa
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Aug 21 20:47:13 2017 +0300

    DRILL-5002: Using hive's date functions on top of date column gives wrong results for local time-zone
    
    closes #937

 .../codegen/templates/ObjectInspectorHelper.java   |  6 ++-
 .../main/codegen/templates/ObjectInspectors.java   | 20 ++++++++--
 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    | 43 +++++++++++++++++++++-
 3 files changed, 63 insertions(+), 6 deletions(-)

commit b2744a2abf4fcda4ba9b30616bc379018a39af12
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Sun Sep 17 00:33:00 2017 -0700

    DRILL-5798 changes include:
    
     - Fixed unstable StatusResourcesTest
     - Fixed buggy port hunting for the WebService
     - Fixed bug in ClientFixture which does not assign the correct user port when port hunting is done for the user port
     - Fixed unstable hash agg tests
    
    closes #945

 .../org/apache/drill/exec/server/Drillbit.java     |  8 ++
 .../apache/drill/exec/server/rest/WebServer.java   | 90 +++++++++++++---------
 .../apache/drill/exec/service/ServiceEngine.java   |  8 +-
 .../exec/physical/impl/agg/TestHashAggrSpill.java  |  4 +
 .../exec/server/rest/StatusResourcesTest.java      |  2 +
 .../java/org/apache/drill/test/ClusterFixture.java |  5 +-
 .../org/apache/drill/test/RestClientFixture.java   |  8 +-
 exec/jdbc-all/pom.xml                              | 10 ++-
 8 files changed, 89 insertions(+), 46 deletions(-)

commit 1c20a323f3941e1b4790332247ca1fe26e960477
Author: weijie.tong <weijie.tong@alipay.com>
Date:   Thu Sep 14 20:02:55 2017 +0800

    DRILL-5749: solve deadlock occured between foreman and netty threads
    
    closes #943

 .../src/main/java/org/apache/drill/exec/rpc/RequestIdMap.java  | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 75bd1d04b01d23fc14730d6aba20964582990fa3
Author: Vlad Rozov <vrozov@apache.org>
Date:   Wed Sep 6 18:29:02 2017 -0700

    DRILL-3449: When Foreman node dies, the FragmentExecutor still tries to send status updates to Foreman
    
    closes #934

 .../drill/exec/work/fragment/FragmentExecutor.java |   2 +
 .../exec/work/fragment/FragmentStatusReporter.java |  25 ++++-
 .../work/fragment/FragmentStatusReporterTest.java  | 106 +++++++++++++++++++++
 3 files changed, 129 insertions(+), 4 deletions(-)

commit 6adeb986016a769755fd5e8fc66244ee1e8d18e1
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Aug 17 16:49:51 2017 -0700

    DRILL-5723: Added System Internal Options That can be Modified at Runtime
    Changes include:
    
       1. Addition of internal options.
       2. Refactoring of OptionManagers and OptionValidators.
       3. Fixed ambiguity in the meaning of an option type, and changed its name to accessibleScopes.
       4. Updated javadocs in the Option System classes.
       5. Added RestClientFixture for testing the Rest API.
       6. Fixed flakey test in TestExceptionInjection caused by race condition.
       7. Fixed various tests which started zookeeper but failed to shut it down at the end of tests.
       8. Added port hunting to the Drill Webserver for testing
       9. Fixed various flaky tests
      10. Fix compile issue
    
    closes #923

 .../test/java/org/apache/drill/test/DrillTest.java |   2 +-
 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    |   2 +-
 .../apache/drill/exec/hive/TestHiveStorage.java    |   4 +-
 contrib/storage-jdbc/pom.xml                       |  47 ++-
 contrib/storage-mongo/pom.xml                      |  12 +-
 .../drill/exec/store/mongo/MongoTestBase.java      |   3 +
 .../drill/exec/store/mongo/MongoTestSuit.java      |   8 +
 exec/java-exec/pom.xml                             |   5 +
 .../java/org/apache/drill/exec/ExecConstants.java  |  12 +-
 .../drill/exec/compile/ClassCompilerSelector.java  |   5 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |   5 +-
 .../exec/planner/physical/PlannerSettings.java     |   4 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |   5 +-
 .../planner/sql/handlers/SetOptionHandler.java     |  44 +--
 .../exec/rpc/user/InboundImpersonationManager.java |   7 +-
 .../apache/drill/exec/rpc/user/UserSession.java    |  12 +-
 .../apache/drill/exec/server/BootStrapContext.java |  11 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  56 ++-
 .../apache/drill/exec/server/DrillbitContext.java  |   2 +-
 .../exec/server/options/BaseOptionManager.java     | 112 ++++--
 .../drill/exec/server/options/BaseOptionSet.java   |  57 +++
 .../exec/server/options/DrillConfigIterator.java   |   8 +-
 .../exec/server/options/FallbackOptionManager.java |  91 +----
 .../exec/server/options/FragmentOptionManager.java |  23 +-
 .../exec/server/options/InMemoryOptionManager.java |  42 +--
 .../exec/server/options/OptionDefinition.java      |  47 +++
 .../drill/exec/server/options/OptionManager.java   | 106 +++++-
 .../drill/exec/server/options/OptionMetaData.java  |  68 ++++
 .../drill/exec/server/options/OptionSet.java       |   8 +-
 .../drill/exec/server/options/OptionValidator.java |  33 +-
 .../drill/exec/server/options/OptionValue.java     |  82 ++--
 .../exec/server/options/QueryOptionManager.java    |  29 +-
 .../exec/server/options/SessionOptionManager.java  |  35 +-
 .../exec/server/options/SystemOptionManager.java   | 419 ++++++++++++---------
 .../drill/exec/server/options/TypeValidators.java  | 124 ++----
 .../drill/exec/server/rest/StatusResources.java    | 119 ++++--
 .../apache/drill/exec/server/rest/WebServer.java   |  85 +++--
 .../exec/store/sys/ExtendedOptionIterator.java     |  20 +-
 .../drill/exec/store/sys/OptionIterator.java       |  45 ++-
 .../apache/drill/exec/store/sys/SystemTable.java   |  22 +-
 .../drill/exec/testing/ExecutionControls.java      |  15 +-
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |  12 +
 .../test/java/org/apache/drill/QueryTestUtil.java  |  12 +-
 .../java/org/apache/drill/TestStarQueries.java     |   2 +-
 .../org/apache/drill/exec/DrillSystemTestBase.java |   2 +-
 .../org/apache/drill/exec/TestWithZookeeper.java   |  16 +-
 .../org/apache/drill/exec/ZookeeperHelper.java     |  38 +-
 .../ConnectTriesPropertyTestClusterBits.java       |   1 +
 .../drill/exec/client/DrillClientSystemTest.java   |   4 +-
 .../exec/compile/TestClassTransformation.java      |  15 +-
 .../TestInboundImpersonationPrivileges.java        |   7 +-
 .../exec/physical/impl/TestConvertFunctions.java   |  10 +-
 .../exec/physical/impl/agg/TestHashAggrSpill.java  |   3 +-
 .../physical/impl/join/TestMergeJoinAdvanced.java  |   6 +-
 .../impl/limit/TestLimitWithExchanges.java         |  11 +-
 .../TestOrderedPartitionExchange.java              |   3 +-
 .../impl/partitionsender/TestPartitionSender.java  |  12 +-
 .../physical/impl/writer/TestParquetWriter.java    |  30 +-
 .../impl/writer/TestParquetWriterEmptyFiles.java   |   4 +-
 .../drill/exec/rpc/data/TestBitBitKerberos.java    |   3 +-
 .../org/apache/drill/exec/rpc/data/TestBitRpc.java |   5 +-
 .../drill/exec/server/TestDrillbitResilience.java  |  11 +-
 .../org/apache/drill/exec/server/TestOptions.java  |  46 +--
 .../drill/exec/server/TestOptionsAuthEnabled.java  |   6 +-
 .../exec/server/rest/StatusResourcesTest.java      |  80 ++++
 .../org/apache/drill/exec/sql/TestWithClause.java  |   4 +-
 .../store/parquet/TestParquetFilterPushDown.java   |   9 +-
 .../drill/exec/store/sys/TestPStoreProviders.java  |   9 +-
 .../drill/exec/store/sys/TestSystemTable.java      |   4 +-
 .../drill/exec/testing/ControlsInjectionUtil.java  |  12 +-
 .../drill/exec/testing/TestExceptionInjection.java | 122 +++---
 .../drill/exec/testing/TestPauseInjection.java     | 111 +++---
 .../drill/exec/util/MiniZooKeeperCluster.java      |  66 ++--
 .../vector/complex/writer/TestExtendedTypes.java   |  11 +-
 .../drill/exec/work/batch/TestSpoolingBuffer.java  |   1 -
 .../exec/work/metadata/TestMetadataProvider.java   |  24 +-
 .../java/org/apache/drill/test/ClusterFixture.java |  20 +-
 .../java/org/apache/drill/test/ConfigBuilder.java  |  19 +-
 .../java/org/apache/drill/test/FixtureBuilder.java |   6 +
 .../org/apache/drill/test/OperatorFixture.java     |  44 ++-
 .../org/apache/drill/test/RestClientFixture.java   | 117 ++++++
 .../org/apache/drill/test/TestConfigLinkage.java   | 134 ++++++-
 .../org/apache/drill/jdbc/ITTestShadedJar.java     |  12 +-
 .../java/org/apache/drill/exec/util/Pointer.java   |   2 +-
 pom.xml                                            |   4 +
 86 files changed, 1849 insertions(+), 1058 deletions(-)

commit df54cc2d00ed5d5056f2af55e7fef8a5696aa933
Author: Sindhuri Rayavaram <sindhurirayavaram@mapr.local>
Date:   Thu Aug 10 12:50:58 2017 -0700

    DRILL-5712: Update the pom files with dependency exclusions for commons-codec
    
    closes #903

 contrib/format-maprdb/pom.xml                | 12 +++++++++
 contrib/storage-hbase/pom.xml                |  8 ++++++
 contrib/storage-hive/core/pom.xml            | 28 +++++++++++++++++++++
 contrib/storage-hive/hive-exec-shade/pom.xml |  4 +++
 distribution/pom.xml                         | 18 ++++++++++++++
 exec/java-exec/pom.xml                       | 37 ++++++++++++++++++++++++----
 exec/vector/pom.xml                          |  6 +++++
 pom.xml                                      |  6 +++++
 8 files changed, 114 insertions(+), 5 deletions(-)

commit d1552db3850a80b67e4bc33877f70675ec7566a6
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Aug 31 12:52:43 2017 +0000

    DRILL-5761: Disable Lilith ClassicMultiplexSocketAppender by default.
    Unify logback files.

 common/src/test/resources/logback-test.xml         | 53 ++++++++++++++++
 common/src/test/resources/logback.xml              | 55 ----------------
 .../format-maprdb/src/test/resources/logback.xml   | 74 ----------------------
 .../storage-hbase/src/test/resources/logback.xml   | 74 ----------------------
 .../core/src/test/resources/logback.xml            | 64 -------------------
 .../storage-jdbc/src/test/resources/logback.xml    | 48 --------------
 .../storage-kudu/src/test/resources/logback.xml    | 64 -------------------
 .../storage-mongo/src/test/resources/logback.xml   | 59 -----------------
 exec/java-exec/src/main/resources/logback.xml      | 65 -------------------
 exec/java-exec/src/test/resources/logback.xml      | 54 ----------------
 exec/java-exec/src/test/sh/logback.xml             | 51 ---------------
 exec/jdbc-all/src/test/resources/logback.xml       | 54 ----------------
 exec/jdbc/src/test/resources/logback.xml           | 48 --------------
 pom.xml                                            |  1 -
 14 files changed, 53 insertions(+), 711 deletions(-)

commit 0b1cb98ad65b2057e5540f84986eb718850dad20
Author: Vlad Rozov <vrozov@apache.org>
Date:   Tue Aug 29 17:05:24 2017 -0700

    DRILL-5269 Make DirectSubScan Jackson JSON deserializable
    
    closes #926

 .../drill/exec/planner/PhysicalPlanReader.java     | 26 +++++++--
 .../drill/exec/store/direct/DirectSubScan.java     | 16 +++++-
 .../exec/store/pojo/AbstractPojoRecordReader.java  |  4 +-
 .../exec/store/pojo/DynamicPojoRecordReader.java   | 40 +++++++++++++
 .../apache/drill/exec/work/foreman/Foreman.java    |  2 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |  2 +-
 .../test/java/org/apache/drill/TestBugFixes.java   | 23 ++++++++
 .../org/apache/drill/exec/TestOpSerialization.java | 65 ++++++++++++++++++++--
 8 files changed, 165 insertions(+), 13 deletions(-)

commit aaff1b35b7339fb4e6ab480dd517994ff9f0a5c5
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Mon Aug 7 15:11:00 2017 -0700

    DRILL-5697: Improve performance of filter operator for pattern matching
    
    closes #907

 .../apache/drill/exec/expr/fn/impl/RegexpUtil.java |  77 +-
 .../expr/fn/impl/SqlPatternComplexMatcher.java     |  36 +
 .../expr/fn/impl/SqlPatternConstantMatcher.java    |  52 ++
 .../expr/fn/impl/SqlPatternContainsMatcher.java    |  53 ++
 .../expr/fn/impl/SqlPatternEndsWithMatcher.java    |  49 ++
 .../drill/exec/expr/fn/impl/SqlPatternFactory.java |  42 +
 .../drill/exec/expr/fn/impl/SqlPatternMatcher.java |  22 +
 .../expr/fn/impl/SqlPatternStartsWithMatcher.java  |  48 +
 .../drill/exec/expr/fn/impl/StringFunctions.java   |  34 +-
 .../drill/exec/store/ischema/InfoSchemaFilter.java |   4 +-
 .../drill/exec/expr/fn/impl/TestSqlPatterns.java   | 674 +++++++++++++++
 .../exec/expr/fn/impl/TestStringFunctions.java     | 961 +++++++++++++++++++++
 12 files changed, 2028 insertions(+), 24 deletions(-)

commit c7c8ffd6f5e1b8f4677f9e95c317482d929a1bb5
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Sep 7 15:30:39 2017 +0300

    DRILL-5766: Fix XSS vulnerabilities in Drill
    
    1. Bumped up freemarker version to 2.3.26-incubating.
    2. Indicated default output format in Freemarker configuration (HTML).
    3. Fixed Web UI bugs listed in DRILL-5346, DRILL-5341, DRILL-5339, DRILL-5338.
    
    closes #935

 .../drill/exec/server/rest/DrillRestServer.java    |  43 ++++-
 .../apache/drill/exec/server/rest/WebServer.java   |   2 +-
 .../java-exec/src/main/resources/rest/logs/log.ftl |   2 +-
 exec/java-exec/src/main/resources/rest/options.ftl |   3 -
 .../src/main/resources/rest/profile/list.ftl       | 135 ++++-----------
 .../src/main/resources/rest/profile/profile.ftl    | 187 ++++++++++++++-------
 .../src/main/resources/rest/query/result.ftl       |   4 +-
 pom.xml                                            |   2 +-
 8 files changed, 207 insertions(+), 171 deletions(-)

commit 7a900b71fd269aceee7301afb18fd8d303df5bcd
Author: Sindhuri Rayavaram <sindhurirayavaram@mapr.local>
Date:   Fri Sep 1 16:51:07 2017 -0700

    DRILL-5765: Json query profile is not shown on Web UI
    
    closes #933

 exec/java-exec/src/main/resources/rest/static/js/graph.js | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fde0a1df1734e0742b49aabdd28b02202ee2b044
Author: Jinfeng Ni <jni@apache.org>
Date:   Wed May 17 16:08:00 2017 -0700

    DRILL-5546: Handle schema change exception failure caused by empty input or empty batch.
    
    1. Modify ScanBatch's logic when it iterates list of RecordReader.
       1) Skip RecordReader if it returns 0 row && present same schema. A new schema (by calling Mutator.isNewSchema() ) means either a new top level field is added, or a field in a nested field is added, or an existing field type is changed.
       2) Implicit columns are presumed to have constant schema, and are added to outgoing container before any regular column is added in.
       3) ScanBatch will return NONE directly (called as "fast NONE"), if all its RecordReaders haver empty input and thus are skipped, in stead of returing OK_NEW_SCHEMA first.
    
    2. Modify IteratorValidatorBatchIterator to allow
       1) fast NONE ( before seeing a OK_NEW_SCHEMA)
       2) batch with empty list of columns.
    
    2. Modify JsonRecordReader when it get 0 row. Do not insert a nullable-int column for 0 row input. Together with ScanBatch, Drill will skip empty json files.
    
    3. Modify binary operators such as join, union to handle fast none for either one side or both sides. Abstract the logic in AbstractBinaryRecordBatch, except for MergeJoin as its implementation is quite different from others.
    
    4. Fix and refactor union all operator.
      1) Correct union operator hanndling 0 input rows. Previously, it will ignore inputs with 0 row and put nullable-int into output schema, which causes various of schema change issue in down-stream operator. The new behavior is to take schema with 0 into account
      in determining the output schema, in the same way with > 0 input rows. By doing that, we ensure Union operator will not behave like a schema-lossy operator.
      2) Add a UnionInputIterator to simplify the logic to iterate the left/right inputs, removing significant chunk of duplicate codes in previous implementation.
      The new union all operator reduces the code size into half, comparing the old one.
    
    5. Introduce UntypedNullVector to handle convertFromJson() function, when the input batch contains 0 row.
      Problem: The function convertFromJSon() is different from other regular functions in that it only knows the output schema after evaluation is performed. When input has 0 row, Drill essentially does not have
      a way to know the output type, and previously will assume Map type. That works under the assumption other operators like Union would ignore batch with 0 row, which is no longer
      the case in the current implementation.
      Solution: Use MinorType.NULL at the output type for convertFromJSON() when input contains 0 row. The new UntypedNullVector is used to represent a column with MinorType.NULL.
    
    6. HBaseGroupScan convert star column into list of row_key and column family. HBaseRecordReader should reject column star since it expectes star has been converted somewhere else.
      In HBase a column family always has map type, and a non-rowkey column always has nullable varbinary type, this ensures that HBaseRecordReader across different HBase regions will have the same top level schema, even if the region is
      empty or prune all the rows due to filter pushdown optimization. In other words, we will not see different top level schema from different HBaseRecordReader for the same table.
      However, such change will not be able to handle hard schema change : c1 exists in cf1 in one region, but not in another region. Further work is required to handle hard schema change.
    
    7. Modify scan cost estimation when the query involves * column. This is to remove the planning randomness since previously two different operators could have same cost.
    
    8. Add a new flag 'outputProj' to Project operator, to indicate if Project is for the query's final output. Such Project is added by TopProjectVisitor, to handle fast NONE when all the inputs to the query are empty
    and are skipped.
      1) column star is replaced with empty list
      2) regular column reference is replaced with nullable-int column
      3) An expression will go through ExpressionTreeMaterializer, and use the type of materialized expression as the output type
      4) Return an OK_NEW_SCHEMA with the schema using the above logic, then return a NONE to down-stream operator.
    
    9. Add unit test to test operators handling empty input.
    
    10. Add unit test to test query when inputs are all empty.
    
    DRILL-5546: Revise code based on review comments.
    
    Handle implicit column in scan batch. Change interface in ScanBatch's constructor.
     1) Ensure either the implicit column list is empty, or all the reader has the same set of implicit columns.
     2) We could skip the implicit columns when check if there is a schema change coming from record reader.
     3) ScanBatch accept a list in stead of iterator, since we may need go through the implicit column list multiple times, and verify the size of two lists are same.
    
    ScanBatch code review comments. Add more unit tests.
    
    Share code path in ProjectBatch to handle normal setupNewSchema() and handleNullInput().
     - Move SimpleRecordBatch out of TopNBatch to make it sharable across different places.
     - Add Unit test verify schema for star column query against multilevel tables.
    
    Unit test framework change
     - Fix memory leak in unit test framework.
     - Allow SchemaTestBuilder to pass in BatchSchema.
    
    close #906

 .../java/org/apache/drill/common/types/Types.java  |   9 +
 .../exec/store/mapr/db/MapRDBScanBatchCreator.java |   2 +-
 .../store/mapr/db/json/MaprDBJsonRecordReader.java |   5 +-
 .../drill/exec/store/hbase/HBaseGroupScan.java     |  93 +--
 .../drill/exec/store/hbase/HBaseRecordReader.java  |   5 +-
 .../exec/store/hbase/HBaseScanBatchCreator.java    |   2 +-
 .../hive/HiveDrillNativeScanBatchCreator.java      |   6 +-
 .../org/apache/drill/exec/store/hive/HiveScan.java |   4 +-
 .../exec/store/hive/HiveScanBatchCreator.java      |   2 +-
 .../drill/exec/store/jdbc/JdbcBatchCreator.java    |   2 +-
 .../exec/store/kudu/KuduScanBatchCreator.java      |   2 +-
 .../drill/exec/store/mongo/MongoRecordReader.java  |   3 +-
 .../exec/store/mongo/MongoScanBatchCreator.java    |   2 +-
 .../src/main/codegen/templates/TypeHelper.java     |   2 +
 .../apache/drill/exec/physical/config/Project.java |  23 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java | 407 +++++++-----
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  73 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |  33 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |   6 +
 .../physical/impl/join/NestedLoopJoinBatch.java    |  31 +-
 .../physical/impl/project/ProjectRecordBatch.java  | 117 +++-
 .../physical/impl/union/UnionAllRecordBatch.java   | 737 ++++++---------------
 .../validate/IteratorValidatorBatchIterator.java   |  18 +-
 .../physical/impl/values/ValuesBatchCreator.java   |   2 +-
 .../drill/exec/planner/logical/DrillScanRel.java   |  10 +-
 .../drill/exec/planner/physical/ProjectPrel.java   |  31 +-
 .../physical/visitor/TopProjectVisitor.java        |  20 +-
 .../exec/record/AbstractBinaryRecordBatch.java     |  75 +++
 .../exec/record/AbstractSingleRecordBatch.java     |  26 +
 .../drill/exec/record/SimpleRecordBatch.java       |  98 +++
 .../drill/exec/store/AbstractRecordReader.java     |  20 +-
 .../apache/drill/exec/store/ColumnExplorer.java    |   3 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   2 +-
 .../exec/store/direct/DirectBatchCreator.java      |   2 +-
 .../exec/store/easy/json/JSONRecordReader.java     |   6 +-
 .../exec/store/ischema/InfoSchemaBatchCreator.java |   2 +-
 .../exec/store/mock/MockScanBatchCreator.java      |   2 +-
 .../apache/drill/exec/store/parquet/Metadata.java  |   4 +-
 .../exec/store/parquet/ParquetReaderUtility.java   |   4 +-
 .../store/parquet/ParquetScanBatchCreator.java     |   2 +-
 .../store/parquet/columnreaders/ParquetSchema.java |   3 +-
 .../exec/store/sys/SystemTableBatchCreator.java    |   2 +-
 .../java/org/apache/drill/exec/util/Utilities.java |  23 +
 .../org/apache/drill/exec/util/VectorUtil.java     |  15 +-
 .../java/org/apache/drill/DrillTestWrapper.java    |  24 +-
 .../test/java/org/apache/drill/TestBuilder.java    |  10 +
 .../java/org/apache/drill/TestExampleQueries.java  |   3 +-
 .../test/java/org/apache/drill/TestUnionAll.java   |   9 +-
 .../java/org/apache/drill/TestUnionDistinct.java   |   9 +-
 .../org/apache/drill/exec/TestEmptyInputSql.java   | 203 ++++++
 .../impl/partitionsender/TestPartitionSender.java  |   2 +-
 .../exec/physical/impl/union/TestSimpleUnion.java  |   2 +-
 .../exec/physical/unit/MiniPlanUnitTestBase.java   |  75 ++-
 .../exec/physical/unit/PhysicalOpUnitTestBase.java |  10 +-
 .../drill/exec/physical/unit/TestMiniPlan.java     |  69 +-
 .../exec/physical/unit/TestNullInputMiniPlan.java  | 572 ++++++++++++++++
 .../drill/exec/store/TestImplicitFileColumns.java  |  69 ++
 .../resources/scan/emptyInput/emptyCsv/empty.csv   |   0
 .../resources/scan/emptyInput/emptyCsvH/empty.csvh |   0
 .../resources/scan/emptyInput/emptyJson/empty.json |   0
 .../scan/emptyInput/emptyJson/empty2.json          |   0
 .../src/test/resources/scan/jsonTbl/1990/1.json    |   2 +
 .../src/test/resources/scan/jsonTbl/1991/2.json    |   1 +
 .../main/codegen/templates/BasicTypeHelper.java    |  21 +-
 .../src/main/codegen/templates/ValueHolders.java   |   8 +-
 .../drill/exec/record/MaterializedField.java       |  10 +
 .../drill/exec/vector/UntypedNullHolder.java       |  46 ++
 .../drill/exec/vector/UntypedNullVector.java       | 270 ++++++++
 68 files changed, 2278 insertions(+), 1073 deletions(-)

commit e1649dd7d9fb2c30632f4df6ea17c483379c9775
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue Aug 22 18:20:51 2017 -0700

    DRILL-5737: Hash Agg uses more than the allocated memory under certain low memory conditions Note: Provide a new config parameter HASHAGG_FALLBACK_ENABLED which is set to true by default. When 2 Phase HashAgg doesn't have enough memory to hold 2 partitions then based on this flag it either fallsback to old behavior of consuming unbounded memory or it fails the query.
    
    close apache/drill#920

 .../java/org/apache/drill/exec/ExecConstants.java  |  2 +
 .../physical/impl/aggregate/HashAggTemplate.java   | 19 ++++++-
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../java-exec/src/main/resources/drill-module.conf |  6 ++
 .../exec/physical/impl/agg/TestHashAggrSpill.java  | 66 ++++++++++++++++++++++
 5 files changed, 91 insertions(+), 3 deletions(-)

commit d105950a7a9fb2ff3acd072ee65a51ef1fca120e
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Jul 5 19:08:59 2017 +0000

    DRILL-4264: Allow field names to include dots

 .../mapr/db/binary/CompareFunctionsProcessor.java  | 547 ---------------------
 .../store/mapr/db/binary/MapRDBFilterBuilder.java  |  12 +-
 .../db/binary/MaprDBCompareFunctionsProcessor.java |  65 +++
 .../store/mapr/db/json/JsonConditionBuilder.java   |  28 +-
 .../store/hbase/CompareFunctionsProcessor.java     | 461 +++++++++--------
 .../drill/exec/store/hbase/HBaseFilterBuilder.java |   6 +-
 .../ConvertHiveParquetScanToDrillParquetScan.java  |   4 +-
 .../hive/HiveDrillNativeScanBatchCreator.java      |   6 +-
 .../drill/exec/store/kudu/KuduRecordReader.java    |   6 +-
 .../exec/store/kudu/KuduRecordWriterImpl.java      |   4 +-
 .../drill/exec/store/mongo/MongoFilterBuilder.java |   4 +-
 .../codegen/templates/EventBasedRecordWriter.java  |   6 +-
 .../templates/StringOutputRecordWriter.java        |   4 +-
 .../java/org/apache/drill/exec/client/DumpCat.java |  26 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  12 +-
 .../physical/impl/TopN/PriorityQueueTemplate.java  |   2 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |  12 +-
 .../physical/impl/common/ChainedHashTable.java     |   6 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |  11 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |   2 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |   4 +-
 .../physical/impl/join/NestedLoopJoinBatch.java    |   4 +-
 .../OrderedPartitionRecordBatch.java               |   5 +-
 .../impl/producer/ProducerConsumerBatch.java       |   6 +-
 .../physical/impl/project/ProjectRecordBatch.java  |  70 +--
 .../physical/impl/union/UnionAllRecordBatch.java   |  95 ++--
 .../physical/impl/xsort/ExternalSortBatch.java     |   2 +-
 .../xsort/managed/PriorityQueueCopierWrapper.java  |   2 +-
 .../planner/logical/partition/PruneScanRule.java   |   6 +-
 .../drill/exec/record/RecordBatchLoader.java       |   6 +-
 .../org/apache/drill/exec/record/SchemaUtil.java   |  21 +-
 .../apache/drill/exec/record/VectorContainer.java  |  12 +-
 .../drill/exec/server/rest/WebUserConnection.java  |   2 +-
 .../apache/drill/exec/store/ColumnExplorer.java    |   4 +-
 .../store/ischema/InfoSchemaFilterBuilder.java     |   6 +-
 .../apache/drill/exec/store/parquet/Metadata.java  |  44 +-
 .../drill/exec/store/parquet/MetadataVersion.java  |  10 +-
 .../exec/store/parquet/ParquetRecordWriter.java    |   6 +-
 .../columnreaders/ParquetColumnMetadata.java       |   6 +-
 .../store/parquet/columnreaders/ParquetSchema.java |  10 +-
 .../exec/store/parquet2/DrillParquetReader.java    |  19 +-
 .../org/apache/drill/exec/util/BatchPrinter.java   |  35 +-
 .../org/apache/drill/exec/util/VectorUtil.java     |  14 +-
 .../drill/exec/vector/complex/FieldIdUtil.java     |   4 +-
 .../drill/exec/vector/complex/MapUtility.java      |   4 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |   5 +
 .../java/org/apache/drill/DrillTestWrapper.java    |  29 +-
 .../test/java/org/apache/drill/PlanTestBase.java   |   4 +-
 .../test/java/org/apache/drill/TestUnionAll.java   |  42 +-
 .../exec/expr/TestSchemaPathMaterialization.java   |  21 +-
 .../drill/exec/fn/impl/TestAggregateFunctions.java |  33 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |  12 +-
 .../exec/physical/impl/TestSimpleFragmentRun.java  |   8 +-
 .../physical/impl/join/TestHashJoinAdvanced.java   |  43 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |  10 +-
 .../impl/mergereceiver/TestMergingReceiver.java    |  14 +-
 .../exec/physical/unit/MiniPlanUnitTestBase.java   |   5 +-
 .../drill/exec/record/TestMaterializedField.java   |   7 +-
 .../apache/drill/exec/record/vector/TestLoad.java  |  16 +-
 .../apache/drill/exec/store/TestOutputMutator.java |   4 +-
 .../exec/store/parquet/ParquetResultListener.java  |  20 +-
 .../exec/store/parquet/TestParquetComplex.java     |  10 +-
 .../store/parquet/TestParquetMetadataCache.java    |  93 ++--
 .../store/parquet/TestParquetPhysicalPlan.java     |   8 +-
 .../exec/vector/complex/writer/TestJsonReader.java |  29 ++
 .../apache/drill/test/rowSet/RowSetPrinter.java    |   2 +-
 .../apache/drill/test/rowSet/test/RowSetTest.java  | 290 +++++------
 .../V3/metadata_directories.requires_replace.txt}  |   0
 .../V3/metadata_table.requires_replace.txt}        |   0
 .../V3/metadata_table_t1.requires_replace.txt}     |   0
 .../V3/metadata_table_t2.requires_replace.txt}     |   0
 .../v3_1/metadata_directories.requires_replace.txt |   3 +
 .../v3_1/metadata_table.requires_replace.txt       | 108 ++++
 .../v3_1/metadata_table_t1.requires_replace.txt    |  76 +++
 .../v3_1/metadata_table_t2.requires_replace.txt    |  76 +++
 .../resources/store/parquet/complex/baseline8.json |  25 +-
 .../drill/jdbc/impl/DrillColumnMetaDataList.java   |   6 +-
 .../drill/jdbc/DrillColumnMetaDataListTest.java    |   6 +-
 .../main/codegen/templates/FixedValueVectors.java  |   3 +-
 .../drill/exec/record/MaterializedField.java       |  41 +-
 .../apache/drill/exec/vector/BaseValueVector.java  |   4 +-
 .../org/apache/drill/exec/vector/BitVector.java    |   5 +-
 .../apache/drill/exec/vector/VectorDescriptor.java |   6 +-
 .../drill/exec/vector/accessor/TupleAccessor.java  |  12 +
 .../drill/exec/vector/accessor/TupleReader.java    |   7 +
 .../drill/exec/vector/accessor/TupleWriter.java    |   7 +
 .../vector/complex/AbstractContainerVector.java    |  14 +-
 .../exec/vector/complex/AbstractMapVector.java     |  10 +-
 .../drill/exec/vector/complex/ListVector.java      |   4 +-
 .../drill/exec/vector/complex/MapVector.java       |  12 +-
 .../exec/vector/complex/RepeatedMapVector.java     |  10 +-
 .../exec/vector/complex/impl/PromotableWriter.java |   4 +-
 .../drill/common/expression/FieldReference.java    |  14 +-
 .../drill/common/expression/PathSegment.java       |  40 +-
 .../apache/drill/common/expression/SchemaPath.java |  87 ++--
 95 files changed, 1447 insertions(+), 1459 deletions(-)

commit e57514aad09985cd48ee5d3bf39f21af3ceaf510
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Sep 1 14:51:46 2017 +0300

    DRILL-5763: Fix NPE during MapRDBSubScan deserialization
    
    close apache/drill#931

 .../drill/exec/store/mapr/db/MapRDBSubScan.java    | 27 ++++++++++++++--------
 1 file changed, 18 insertions(+), 9 deletions(-)

commit 6829af095ac5bb78ed3df874f078891e61ef7721
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue Aug 8 20:04:24 2017 -0700

    DRILL-5709: Provide a value vector method to convert a vector to nullable
    
    Please see the DRILL-5709 for an explanation and example.
    
    close apache/drill#901

 .../org/apache/drill/vector/TestToNullable.java    | 135 +++++++++++++++++++++
 .../main/codegen/templates/FixedValueVectors.java  |   6 +
 .../codegen/templates/NullableValueVectors.java    |  38 ++++--
 .../src/main/codegen/templates/UnionVector.java    |   5 +
 .../codegen/templates/VariableLengthVectors.java   |   6 +
 .../apache/drill/exec/vector/BaseValueVector.java  |  20 ++-
 .../org/apache/drill/exec/vector/BitVector.java    |   6 +
 .../apache/drill/exec/vector/NullableVector.java   |   3 +-
 .../org/apache/drill/exec/vector/ObjectVector.java |   5 +
 .../org/apache/drill/exec/vector/ValueVector.java  |  13 ++
 .../org/apache/drill/exec/vector/ZeroVector.java   |   6 +
 .../drill/exec/vector/complex/MapVector.java       |   7 +-
 .../exec/vector/complex/RepeatedListVector.java    |   5 +
 .../exec/vector/complex/RepeatedMapVector.java     |   5 +
 14 files changed, 250 insertions(+), 10 deletions(-)

commit 789b83d773b9022638c3e9841e9f13a7033cb60b
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Aug 23 16:17:11 2017 +0300

    DRILL-5726: Support Impersonation without authentication for REST API
    
    DRILL-5726: Changes after code review.
    
    close apache/drill#910

 .../drill/exec/server/rest/DrillRestServer.java    | 28 ++++++++--
 .../drill/exec/server/rest/QueryResources.java     |  7 ++-
 .../drill/exec/server/rest/UserNameFilter.java     | 61 ++++++++++++++++++++++
 .../apache/drill/exec/server/rest/WebServer.java   | 19 ++++++-
 .../src/main/resources/rest/query/query.ftl        | 48 +++++++++++++++--
 5 files changed, 153 insertions(+), 10 deletions(-)

commit 2c470de30a9ae70709b392f8cb36094a450e52d8
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Thu Aug 31 13:24:37 2017 +0000

    DRILL-5757: CONVERT_TO_JSON function is failed while using non-existence field as a parameter.
    
    close apache/drill#929

 .../drill/exec/expr/ExpressionTreeMaterializer.java      |  7 ++++---
 .../vector/complex/writer/TestComplexTypeReader.java     | 16 +++++++++++++++-
 2 files changed, 19 insertions(+), 4 deletions(-)

commit 406dd2a58d2168faf47636fcd9829f29a93175bd
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Tue Aug 15 17:51:10 2017 +0000

    DRILL-1051: Casting timestamp as date gives wrong result for dates earlier than 1883
    
    - Fix DateAccessor's, TimestampAccessor's and TimeAccessor's converting joda time to java.sql
    
    close apache/drill#915

 .../src/main/codegen/templates/SqlAccessors.java   | 28 ++++++++++------------
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 25 ++++++++++++++++++-
 2 files changed, 36 insertions(+), 17 deletions(-)

commit 33f17aabadff5bf5f546762a9d0fb63edbd725f9
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Aug 17 16:37:24 2017 -0700

    DRILL-5729 explicitly made the travis container use openjdk7 to fix the build.
    
    close apache/drill#913

 .travis.yml | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 75c35135da960d0fb8b995d0cc5c048a98d4954f
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Aug 24 19:49:52 2017 +0300

    DRILL-5751: Fix unit tests to use local file system even if it is not set by default
    
    DRILL-5751: Changes after code review.
    
    close apache/drill#927

 .../sql/handlers/CreateFunctionHandler.java        | 17 +++-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  8 +-
 .../org/apache/drill/TestDynamicUDFSupport.java    | 52 +++++++-----
 .../test/java/org/apache/drill/exec/ExecTest.java  | 14 ++++
 .../org/apache/drill/exec/TestRepeatedReaders.java |  8 +-
 .../apache/drill/exec/cache/TestWriteToDisk.java   | 11 +--
 .../physical/impl/writer/TestParquetWriter.java    |  6 +-
 .../impl/writer/TestParquetWriterEmptyFiles.java   |  9 +--
 .../exec/physical/impl/writer/TestWriter.java      |  8 +-
 .../exec/planner/TestDirectoryExplorerUDFs.java    | 79 ++++++++----------
 .../rpc/user/TemporaryTablesAutomaticDropTest.java | 31 +++++---
 .../java/org/apache/drill/exec/sql/TestCTAS.java   |  4 +-
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  | 45 +++++------
 .../drill/exec/store/StorageStrategyTest.java      | 93 +++++++++-------------
 .../store/parquet/TestParquetFilterPushDown.java   | 16 ++--
 .../drill/exec/store/parquet/TestParquetScan.java  |  8 +-
 .../drill/exec/util/FileSystemUtilTestBase.java    | 12 +--
 .../java/org/apache/drill/test/ClusterFixture.java |  6 +-
 .../java-exec/src/test/resources/drill-module.conf |  2 +
 19 files changed, 206 insertions(+), 223 deletions(-)

commit d1a6134b441aebd7b05c9c7bc9ef4780707a41e3
Author: Paul Rogers <progers@maprtech.com>
Date:   Fri Aug 25 21:28:29 2017 -0700

    DRILL-5740: Ensure spill directories are unique
    
    A recent change added the node name and port to make the spill path
    unique. Turns out we need to add this information to the single spill
    directory name. The previous change use the node ID as a parent
    directory, which turns out not to work well in practice.
    
    closes #924

 .../main/java/org/apache/drill/exec/physical/impl/spill/SpillSet.java  | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit a51c98b8bf210bbe9d3f4018361d937252d1226d
Author: Jyothsna Donapati <jyothsnadonapati@Skatkam-598.local>
Date:   Wed Jun 7 11:15:08 2017 -0700

    DRILL-5547: Linking config options with system option manager
    
    closes #868

 .../java/org/apache/drill/exec/ExecConstants.java  | 173 ++++++++---------
 .../drill/exec/compile/ClassCompilerSelector.java  |   6 +-
 .../exec/planner/fragment/SimpleParallelizer.java  |   5 +-
 .../exec/planner/physical/PlannerSettings.java     |  74 ++++----
 .../planner/sql/handlers/DefaultSqlHandler.java    |   4 +-
 .../planner/sql/handlers/SetOptionHandler.java     |  21 ++-
 .../exec/rpc/user/InboundImpersonationManager.java |   4 +-
 .../apache/drill/exec/rpc/user/UserSession.java    |   6 +-
 .../org/apache/drill/exec/server/Drillbit.java     |   3 +-
 .../apache/drill/exec/server/DrillbitContext.java  |   2 +-
 .../exec/server/options/BaseOptionManager.java     |   1 +
 .../exec/server/options/DrillConfigIterator.java   |   7 +-
 .../exec/server/options/FallbackOptionManager.java |  27 ++-
 .../drill/exec/server/options/OptionValidator.java |  10 +-
 .../drill/exec/server/options/OptionValue.java     |  46 +++--
 .../exec/server/options/SessionOptionManager.java  |  10 +-
 .../exec/server/options/SystemOptionManager.java   |  97 +++++++---
 .../drill/exec/server/options/TypeValidators.java  | 131 +++++++++----
 .../drill/exec/server/rest/StatusResources.java    |   2 +-
 .../exec/store/sys/ExtendedOptionIterator.java     | 155 +++++++++++++++
 .../drill/exec/store/sys/OptionIterator.java       |   7 +-
 .../apache/drill/exec/store/sys/SystemTable.java   |   8 +
 .../drill/exec/testing/ExecutionControls.java      |  14 +-
 .../drill/exec/util/MemoryAllocationUtilities.java |   4 +-
 .../java-exec/src/main/resources/drill-module.conf | 147 +++++++++++++++
 .../test/java/org/apache/drill/PlanningBase.java   |   2 +-
 .../test/java/org/apache/drill/QueryTestUtil.java  |   3 +-
 .../test/java/org/apache/drill/exec/ExecTest.java  |   2 +-
 .../exec/compile/CodeCompilerTestFactory.java      |   2 +-
 .../exec/compile/TestClassTransformation.java      |  13 +-
 .../exec/compile/bytecode/ReplaceMethodInvoke.java |   2 +-
 .../TestInboundImpersonationPrivileges.java        |   2 +-
 .../impl/partitionsender/TestPartitionSender.java  |  11 +-
 .../drill/exec/testing/ControlsInjectionUtil.java  |   3 +-
 .../exec/work/metadata/TestMetadataProvider.java   |   8 +-
 .../java/org/apache/drill/test/FixtureBuilder.java |   9 +
 .../org/apache/drill/test/OperatorFixture.java     |   9 +-
 .../org/apache/drill/test/TestConfigLinkage.java   | 209 +++++++++++++++++++++
 .../apache/drill/jdbc/test/TestJdbcMetadata.java   |   4 +-
 39 files changed, 979 insertions(+), 264 deletions(-)

commit a3442021bca05fc17f399338c36ce8a6ba140e0c
Author: Timothy Farkas <timothyfarkas@apache.org>
Date:   Thu Aug 17 14:29:38 2017 -0700

    DRILL-5507: Made verbose info logging message debug level and printed it less frequently
    
    closes #911

 .../java/org/apache/drill/exec/store/schedule/BlockMapBuilder.java | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit e91ae5099ade86e5d45157deacd2eae4f43a8c9c
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Wed Aug 2 14:25:21 2017 -0700

    DRILL-5701: Fix drill.connections.rpc.<user/control/data>.<encrypted/unencrypted> metric behavior
    
    closes #894

 .../drill/exec/rpc/control/ControlClient.java      |   8 +-
 .../drill/exec/rpc/control/ControlRpcMetrics.java  |  12 ++-
 .../drill/exec/rpc/control/ControlServer.java      |  11 ++-
 .../org/apache/drill/exec/rpc/data/DataClient.java |  13 ++-
 .../apache/drill/exec/rpc/data/DataRpcMetrics.java |  12 ++-
 .../org/apache/drill/exec/rpc/data/DataServer.java |  11 ++-
 .../apache/drill/exec/rpc/user/UserRpcMetrics.java |  12 ++-
 .../org/apache/drill/exec/rpc/user/UserServer.java |   9 +-
 .../rpc/user/security/TestUserBitKerberos.java     |  40 ++++++++
 .../security/TestUserBitKerberosEncryption.java    | 110 +++++++++++++++++++++
 .../java/org/apache/drill/exec/rpc/RpcMetrics.java |   4 +
 11 files changed, 217 insertions(+), 25 deletions(-)

commit 1c3c65fe8a00899980414a7a410e08c70b6973f0
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Aug 16 14:16:55 2017 +0000

    DRILL-5725: Update Jackson version to 2.7.8
    
    closes #908

 exec/vector/pom.xml | 4 ++--
 pom.xml             | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 0641dedcde60cb56bd02069aae43dc657e98cc8c
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Thu Aug 3 18:23:02 2017 -0700

    DRILL-5704: Improve error message on client side when queries fail with "Failed to create schema tree." when Impersonation is enabled and logins are anonymous

 .../main/java/org/apache/drill/exec/store/SchemaTreeProvider.java  | 7 +++++++
 1 file changed, 7 insertions(+)

commit e9065b55ea560e7f737d6fcb4948f9e945b9b14f
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Wed Jul 12 15:12:00 2017 -0700

    DRILL-5660: Parquet metadata caching improvements
    
    1. Bumped up metadata file version to v3_1.
    2. Introduced MetadataVersion comparable class.
    3. Added support to ignore unknown metadata version (for example, metadata generated from future versions of drill).
    4. Added support to ignore corrupted or missing metadata files.
    5. Removed "%20" symbols from path if present.
    
    closes #877

 .../apache/drill/exec/store/dfs/FileSelection.java |   2 +-
 .../drill/exec/store/dfs/MetadataContext.java      |  37 ++-
 .../apache/drill/exec/store/parquet/Metadata.java  | 293 +++++++++++++--------
 .../drill/exec/store/parquet/MetadataVersion.java  | 155 +++++++++++
 .../exec/store/parquet/ParquetFormatConfig.java    |  14 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |   6 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java | 144 ++++++----
 .../exec/store/parquet/ParquetReaderUtility.java   |  11 +-
 .../exec/store/parquet/ParquetRowGroupScan.java    |   9 +-
 .../store/parquet/ParquetScanBatchCreator.java     |   2 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  19 +-
 .../store/parquet/TestParquetMetadataCache.java    | 249 +++++++++++++++--
 .../store/parquet/TestParquetMetadataVersion.java  | 121 +++++++++
 ...tories_with_absolute_paths.requires_replace.txt |   2 +-
 ..._table_with_absolute_paths.requires_replace.txt |   6 +-
 ...ble_with_absolute_paths_t1.requires_replace.txt |   2 +-
 ...ble_with_absolute_paths_t2.requires_replace.txt |   2 +-
 .../corrupted_metadata.requires_replace.txt        |  41 +++
 .../empty_metadata_file.requires_replace.txt       |   0
 ...supported_metadata_version.requires_replace.txt |  76 ++++++
 20 files changed, 980 insertions(+), 211 deletions(-)

commit 073ea68197cdc37e2ca9414da96e9df39ec49fcc
Author: Paul Rogers <progers@maprtech.com>
Date:   Thu Apr 6 13:57:19 2017 -0700

    DRILL-5601: Rollup of external sort fixes an improvements
    
    - DRILL-5513: Managed External Sort : OOM error during the merge phase
    - DRILL-5519: Sort fails to spill and results in an OOM
    - DRILL-5522: OOM during the merge and spill process of the managed external sort
    - DRILL-5594: Excessive buffer reallocations during merge phase of external sort
    - DRILL-5597: Incorrect "bits" vector allocation in nullable vectors allocateNew()
    - DRILL-5602: Repeated List Vector fails to initialize the offset vector
    - DRILL-5617: Spill file name collisions when spill file is on a shared file system
    0 DRILL-5445: bug in repeated map vector deserialization
    - Workaround for DRILL-5656: Streaming Agg Batch forces sort to retain in-memory batches past NONE
    - Fixes for the "record batch sizer" to handle for UNION, MAP, LIST types
    
    Fixes a longstanding bug in the deserialization of a repeated map
    vector read from a spill file. A few minor code cleanups also.
    
    All of the bugs have to do with handling low-memory conditions, and with
    correctly estimating the sizes of vectors, even when those vectors come
    from the spill file or from an exchange. Hence, the changes for all of
    the above issues are interrelated.
    
    Also includes some fixes for tests:
    
    * Certain tests require the ability to enforce the output size of the
    memory merge/sort. Restored this option.
    * Resolve issue with TestDrillbitResilience
    * A particular test injects a fault during in-memory sort, but used a
    single-batch input (which does not need the merge phase.)
    Rather than introduce a new config property (the earlier solution),
    altered the test to use input that returns more than one batch.
    
    Two fixes forBasicPhysicalOpUnitTest  a test that uses JMockit to create a fake
    fragment context.
    
    1. No drillbit endpoint is available, so the SpillSet change that adds
    the node to the spill path failed. Solution was to omit the node path
    segment in such tests.
    
    2. The Dynamic UDF registry is null causing a crash. This has nothing
    to do with sort. Perhaps some pre-existing error? Anyway, added a check
    for this condition.
    
    close #860

 .../exec/cache/VectorAccessibleSerializable.java   |   3 +-
 .../drill/exec/coord/ClusterCoordinator.java       |  10 +-
 .../expr/fn/FunctionImplementationRegistry.java    |   9 +-
 .../expr/fn/registry/RemoteFunctionRegistry.java   |   8 +
 .../physical/impl/aggregate/InternalBatch.java     |   4 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |  12 +
 .../impl/aggregate/StreamingAggTemplate.java       |  24 +-
 .../physical/impl/sort/SortRecordBatchBuilder.java |  13 +-
 .../exec/physical/impl/spill/RecordBatchSizer.java | 348 ++++++++++----
 .../drill/exec/physical/impl/spill/SpillSet.java   |  24 +-
 .../validate/IteratorValidatorBatchIterator.java   |   3 +-
 .../exec/physical/impl/xsort/MSortTemplate.java    |   6 +-
 .../physical/impl/xsort/managed/BatchGroup.java    |   7 +-
 .../impl/xsort/managed/BufferedBatches.java        |   1 +
 .../impl/xsort/managed/ExternalSortBatch.java      |  74 ++-
 .../physical/impl/xsort/managed/MSortTemplate.java |   4 +-
 .../exec/physical/impl/xsort/managed/MSorter.java  |   3 +-
 .../impl/xsort/managed/MergeSortWrapper.java       |  18 +-
 .../xsort/managed/PriorityQueueCopierTemplate.java |   1 -
 .../xsort/managed/PriorityQueueCopierWrapper.java  |  53 ++-
 .../physical/impl/xsort/managed/SortConfig.java    |  27 +-
 .../exec/physical/impl/xsort/managed/SortImpl.java | 271 ++++++-----
 .../impl/xsort/managed/SortMemoryManager.java      | 523 ++++++++++++++++-----
 .../physical/impl/xsort/managed/SorterWrapper.java |   3 +-
 .../physical/impl/xsort/managed/SpilledRuns.java   |  31 +-
 .../drill/exec/record/AbstractRecordBatch.java     |   6 +-
 .../drill/exec/record/HyperVectorWrapper.java      |   7 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |   4 +-
 .../drill/exec/record/VectorInitializer.java       | 154 ++++++
 .../apache/drill/exec/record/WritableBatch.java    |   5 +-
 .../org/apache/drill/exec/server/Drillbit.java     |   1 +
 .../java-exec/src/main/resources/drill-module.conf |  11 +-
 .../test/java/org/apache/drill/TestUnionAll.java   |   1 -
 .../drill/exec/cache/TestBatchSerialization.java   |   6 -
 .../exec/physical/impl/window/TestWindowFrame.java |   5 +
 .../impl/xsort/TestSimpleExternalSort.java         |   7 +-
 .../impl/xsort/TestSortSpillWithException.java     |   8 +-
 .../impl/xsort/managed/SortTestUtilities.java      |   2 +-
 .../physical/impl/xsort/managed/TestCopier.java    |   7 +-
 .../xsort/managed/TestExternalSortInternals.java   | 224 ++++++---
 .../physical/impl/xsort/managed/TestSortImpl.java  |  10 +-
 .../drill/exec/server/TestDrillbitResilience.java  |  38 +-
 .../java/org/apache/drill/test/ClientFixture.java  | 120 +++++
 .../java/org/apache/drill/test/ProfileParser.java  |   2 +-
 .../java/org/apache/drill/test/QueryBuilder.java   |  25 +
 .../src/main/java/io/netty/buffer/DrillBuf.java    |  17 +-
 .../drill/exec/memory/AllocationManager.java       |  17 +-
 .../apache/drill/exec/memory/BaseAllocator.java    |   1 +
 .../src/main/codegen/includes/vv_imports.ftl       |   2 +
 .../main/codegen/templates/FixedValueVectors.java  |   4 +-
 .../codegen/templates/NullableValueVectors.java    |  13 +-
 .../src/main/codegen/templates/UnionVector.java    |  14 +-
 .../codegen/templates/VariableLengthVectors.java   |  37 +-
 .../apache/drill/exec/vector/AllocationHelper.java |  43 +-
 .../drill/exec/vector/BaseDataValueVector.java     |  14 +-
 .../org/apache/drill/exec/vector/BitVector.java    |   5 +-
 .../org/apache/drill/exec/vector/ObjectVector.java |   9 +-
 .../org/apache/drill/exec/vector/ValueVector.java  |  11 +-
 .../org/apache/drill/exec/vector/ZeroVector.java   |   9 +-
 .../exec/vector/complex/AbstractMapVector.java     |  14 +-
 .../vector/complex/BaseRepeatedValueVector.java    |  13 +-
 .../drill/exec/vector/complex/ListVector.java      |  13 +-
 .../exec/vector/complex/RepeatedListVector.java    |  13 +-
 .../exec/vector/complex/RepeatedMapVector.java     |  25 +-
 64 files changed, 1759 insertions(+), 638 deletions(-)

commit ae123e166af2ddb22c79b8cb93278a66fccc3be4
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Mon Jul 24 13:21:55 2017 -0700

    DRILL-5685: Provide a way to set common environment variable between sqlline and Drillbit differently.
    
    close #883

 distribution/src/resources/drill-env.sh | 10 ++++++++++
 distribution/src/resources/drillbit.sh  |  5 +++++
 2 files changed, 15 insertions(+)

commit f1e1dfe09c3e57bdeb313d01940275b3fc83535f
Author: Sindhuri Rayavaram <sindhurirayavaram@srayava-E422.local>
Date:   Thu Jul 13 16:07:53 2017 -0700

    DRILL-5663: Drillbit fails to start when only keystore path is provided without keystore password.
    
    Added comments for the drill-override-example.conf file
    
    close #874

 .../src/resources/drill-override-example.conf      |  19 ++--
 .../java/org/apache/drill/exec/ExecConstants.java  |   8 +-
 .../main/java/org/apache/drill/exec/SSLConfig.java |  69 ++++++++++++++
 .../apache/drill/exec/server/rest/WebServer.java   |  30 ++++---
 .../java-exec/src/main/resources/drill-module.conf |  14 ++-
 .../java/org/apache/drill/exec/TestSSLConfig.java  | 100 +++++++++++++++++++++
 6 files changed, 216 insertions(+), 24 deletions(-)

commit 109b2c09433789babb1704e30429450806dd5b37
Author: Darren Brien <darrenbrien@aol.com>
Date:   Mon Jul 31 11:52:41 2017 +0100

    Drill-5698 Escape version number period separator, this captures version numbers with 4 5 or 6 in them, like 1.8.0_144
    
    release build
    
    build example
    
    remove print statements
    
    close #890

 contrib/native/client/CMakeLists.txt               |  2 +-
 contrib/native/client/example/querySubmitter.cpp   |  5 +-
 .../client/src/include/drill/drillClient.hpp       | 70 +++++++++++-----------
 distribution/src/resources/drill-config.sh         |  2 +-
 4 files changed, 38 insertions(+), 41 deletions(-)

commit 1cec10b957b13c1006bb644a44a833d81da5a187
Author: Sindhuri Rayavaram <sindhurirayavaram@srayava-E422.local>
Date:   Mon Jul 31 11:45:53 2017 -0700

    DRILL-5699: Drill Web UI Page Source Has Links To External Sites
    
    close #891

 exec/java-exec/src/main/resources/rest/generic.ftl |   4 +-
 .../src/main/resources/rest/query/result.ftl       |  13 +-
 .../static/css/dataTables.colVis-1.1.0.min.css     |   1 +
 .../rest/static/css/dataTables.jqueryui.css        | 414 +++++++++++++++++++++
 .../css/images/ui-bg_glass_75_e6e6e6_1x400.png     | Bin 0 -> 110 bytes
 .../ui-bg_highlight-soft_75_cccccc_1x100.png       | Bin 0 -> 101 bytes
 .../static/css/images/ui-icons_888888_256x240.png  | Bin 0 -> 4369 bytes
 .../rest/static/css/jquery-ui-1.10.3.min.css       |   9 +
 .../rest/static/js/dataTables.colVis-1.1.0.min.js  |  23 ++
 .../resources/rest/static/js/jquery-3.2.1.min.js   |   4 +
 .../rest/static/js/jquery.dataTables-1.10.0.min.js | 152 ++++++++
 .../main/resources/rest/static/js/jquery.min.js    |   4 -
 12 files changed, 611 insertions(+), 13 deletions(-)

commit fd7fba6c56fb19c6fbf3074ce16b7c97d1aef63f
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Aug 10 14:34:13 2017 +0300

    DRILL-5714: Fix NPE when mapr-db plugin is used in table function
    
    close #902

 .../store/mapr/db/MapRDBFormatPluginConfig.java    | 43 ++++++--------------
 .../exec/store/mapr/db/MapRDBScanBatchCreator.java | 15 ++++---
 .../drill/exec/store/mapr/db/MapRDBSubScan.java    | 46 +++++++++-------------
 .../store/mapr/db/binary/BinaryTableGroupScan.java |  7 ++--
 .../store/mapr/db/json/JsonTableGroupScan.java     |  6 +--
 .../store/mapr/db/json/MaprDBJsonRecordReader.java |  5 +--
 6 files changed, 47 insertions(+), 75 deletions(-)

commit 8b5642353505d1001d7ec3590a07ad1144ecf7f3
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Jul 20 19:26:44 2017 +0300

    DRILL-4735: ConvertCountToDirectScan rule enhancements
    
    1. ConvertCountToDirectScan rule will be applicable for 2 or more COUNT aggregates.
    To achieve this DynamicPojoRecordReader was added which accepts any number of columns,
    on the contrary with PojoRecordReader which depends on class fields.
    AbstractPojoRecordReader class was added to factor out common logic for these two readers.
    
    2. ConvertCountToDirectScan will distinguish between missing, directory and implicit columns.
    For missing columns count will be set 0, for implicit to the total records count
    since implicit columns are based on files and there is no data without a file.
    If directory column will be encountered, rule won't be applied.
    CountsCollector class was introduced to encapsulate counts collection logic.
    
    3. MetadataDirectGroupScan class was introduced to indicate to the user when metadata was used
    during calculation and for which files it was applied.
    
    DRILL-4735: Changes after code review.
    
    close #900

 .../physical/impl/project/ProjectRecordBatch.java  |   4 +-
 .../planner/physical/ConvertCountToDirectScan.java | 242 ++++++++++++-----
 .../apache/drill/exec/planner/sql/DirectPlan.java  |  16 +-
 .../exec/planner/sql/handlers/ShowFileHandler.java |   2 +-
 ...icitColumnExplorer.java => ColumnExplorer.java} |  60 ++++-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   7 +-
 .../drill/exec/store/direct/DirectGroupScan.java   |   7 +-
 .../exec/store/direct/MetadataDirectGroupScan.java |  86 ++++++
 .../store/ischema/InfoSchemaRecordGenerator.java   |  12 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |   4 +-
 .../store/parquet/ParquetScanBatchCreator.java     |   6 +-
 .../exec/store/pojo/AbstractPojoRecordReader.java  | 157 +++++++++++
 ...AbstractWriter.java => AbstractPojoWriter.java} |  24 +-
 .../exec/store/pojo/DynamicPojoRecordReader.java   |  71 +++++
 .../drill/exec/store/pojo/PojoRecordReader.java    | 187 +++----------
 .../apache/drill/exec/store/pojo/PojoWriter.java   |  38 ++-
 .../apache/drill/exec/store/pojo/PojoWriters.java  | 296 +++++++++++++++++++++
 .../org/apache/drill/exec/store/pojo/Writers.java  | 274 -------------------
 .../exec/store/sys/SystemTableBatchCreator.java    |   6 +-
 .../drill/TestFunctionsWithTypeExpoQueries.java    |   6 +-
 .../logical/TestConvertCountToDirectScan.java      |  82 +++++-
 21 files changed, 1026 insertions(+), 561 deletions(-)

commit 5c57b50f263fb0fda681fc566a11a41971fde14e
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Jul 25 14:37:31 2017 +0300

    DRILL-5687: Disable TestMergeJoinWithSchemaChanges#testMissingAndNewColumns until DRILL-5612 is done
    
    closes #885

 .../drill/exec/physical/impl/join/TestMergeJoinWithSchemaChanges.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5bb4b1f661edc7281245d2d2ceed8d339e75d702
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Mon Jul 24 19:06:21 2017 -0700

    DRILL-5686: Warning for sasl.max_wrapped_size contain incorrect syntax
    
    closes #884

 .../src/main/java/org/apache/drill/exec/rpc/BitConnectionConfig.java | 5 +++--
 .../java/org/apache/drill/exec/rpc/user/UserConnectionConfig.java    | 5 +++--
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 75b2136ac8a7729c4660f8761162d8056afeba68
Author: Rob Wu <robwu15@gmail.com>
Date:   Mon Jul 17 17:12:39 2017 -0700

    DRILL-5675: Drill C++ Client reports incorrect  datetime Literals Support Metadata
    
    closes #878

 contrib/native/client/src/clientlib/metadata.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9d1d815737528251a7500621cc976b57e7f3be59
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Sun Jul 30 19:32:21 2017 +0300

    Update version to 1.12.0-SNAPSHOT

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/format-maprdb/pom.xml                | 2 +-
 contrib/gis/pom.xml                          | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 2 +-
 contrib/storage-kudu/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/memory/base/pom.xml                     | 2 +-
 exec/memory/pom.xml                          | 2 +-
 exec/pom.xml                                 | 2 +-
 exec/rpc/pom.xml                             | 2 +-
 exec/vector/pom.xml                          | 2 +-
 logical/pom.xml                              | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 tools/fmpp/pom.xml                           | 2 +-
 tools/pom.xml                                | 2 +-
 28 files changed, 28 insertions(+), 28 deletions(-)

commit d622f76ee6336d97c9189fc589befa7b0f4189d6
Author: chunhui-shi <cshi@maprtech.com>
Date:   Tue Mar 7 23:39:32 2017 -0800

    DRILL-5165: For limit all case, no need to push down limit to scan

 .../exec/planner/logical/DrillPushLimitToScanRule.java   | 16 ++++++++++++++--
 .../exec/physical/impl/limit/TestLimitWithExchanges.java |  9 +++++++++
 2 files changed, 23 insertions(+), 2 deletions(-)

commit a0c178babb6d82a30af8fdf5e912cbc9c9526a85
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Jun 29 16:08:33 2017 +0300

    DRILL-4720: Fix SchemaPartitionExplorer.getSubPartitions method implementations to return only Drill file system directories
    
    1. Added file system util helper classes to standardize list directory and file statuses usage in Drill with appropriate unit tests.
    2. Fixed SchemaPartitionExplorer.getSubPartitions method implementations to return only directories that can be partitions according to Drill file system rules
    (excluded all files and directories that start with dot or underscore).
    3. Added unit test for directory explorers UDFs with and without metadata cache presence.
    4. Minor refactoring.
    
    closes #864

 .../exec/planner/sql/handlers/ShowFileHandler.java |  13 +-
 .../drill/exec/store/dfs/DrillFileSystem.java      |  36 +---
 .../drill/exec/store/dfs/DrillPathFilter.java      |  34 ---
 .../apache/drill/exec/store/dfs/FileSelection.java |  28 +--
 .../exec/store/dfs/FileSystemSchemaFactory.java    |   3 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  17 +-
 .../drill/exec/store/parquet/FooterGatherer.java   |  12 +-
 .../apache/drill/exec/store/parquet/Metadata.java  |  36 +---
 .../exec/store/parquet/ParquetFormatPlugin.java    |  14 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  16 +-
 .../exec/store/sys/store/LocalPersistentStore.java |  21 +-
 .../drill/exec/util/DrillFileSystemUtil.java       |  91 ++++++++
 .../org/apache/drill/exec/util/FileSystemUtil.java | 207 ++++++++++++++++++
 .../exec/planner/TestDirectoryExplorerUDFs.java    |  70 +++++-
 .../drill/exec/util/DrillFileSystemUtilTest.java   | 158 ++++++++++++++
 .../apache/drill/exec/util/FileSystemUtilTest.java | 240 +++++++++++++++++++++
 .../drill/exec/util/FileSystemUtilTestBase.java    | 112 ++++++++++
 17 files changed, 942 insertions(+), 166 deletions(-)

commit 368bc38b162e43c7c9e6ce302ede87bccf019052
Author: Roman Kulyk <rom.kulyk@gmail.com>
Date:   Thu Jul 20 16:33:49 2017 +0300

    DRILL-5083: status.getOutcome() return FAILURE if one of the batches has STOP status (to avoid infinite loop in Merge Join).
    
    closes #881

 .../java/org/apache/drill/exec/physical/impl/join/JoinStatus.java  | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 943a1432943c5aff0db76b8eb2d6cf9273737b6f
Author: Boaz Ben-Zvi <boazben-zvi@BBenZvi-E754-MBP13.local>
Date:   Tue Jul 18 15:18:08 2017 -0700

    DRILL-5665: Add the option planner.force_2phase_aggr to override small inputs
    
    closes #872

 .../java/org/apache/drill/exec/planner/physical/AggPruleBase.java  | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 6b0e8378cc198c926f5b1cf95a07fd4c9fc092de
Author: Boaz Ben-Zvi <boazben-zvi@BBenZvi-E754-MBP13.local>
Date:   Mon Jul 17 14:21:29 2017 -0700

    DRILL-5669: Add a configurable option for minimum memory allocation to buffered ops
    
    closes #879

 .../src/main/java/org/apache/drill/exec/ExecConstants.java       | 9 +++++++++
 .../apache/drill/exec/server/options/SystemOptionManager.java    | 1 +
 .../org/apache/drill/exec/util/MemoryAllocationUtilities.java    | 8 ++++++--
 3 files changed, 16 insertions(+), 2 deletions(-)

commit 35a7ad00258ed4db2602b813c0ce35e34563725d
Author: Boaz Ben-Zvi <boazben-zvi@BBenZvi-E754-MBP13.local>
Date:   Mon Jul 10 17:53:28 2017 -0700

    DRILL-5616: Add memory checks, plus minor metrics changes
    
    closes #871

 .../physical/impl/aggregate/HashAggTemplate.java   | 116 ++++++++++++---------
 .../drill/exec/physical/impl/common/HashTable.java |   6 +-
 .../physical/impl/common/HashTableTemplate.java    |  42 +++-----
 .../exec/physical/impl/join/HashJoinBatch.java     |   4 +-
 4 files changed, 81 insertions(+), 87 deletions(-)

commit 07346c782102205091f7e93a7fe566fd9019cbea
Author: Rob Wu <robwu15@gmail.com>
Date:   Tue Jul 18 22:55:52 2017 -0700

    DRILL-5678: Undefined behavior due to un-initialized values in ServerMetaContext
    
    closes #880

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 4 ++++
 1 file changed, 4 insertions(+)

commit 4e5a0cb96f7fc0c725bd4e5b5aac1342170531ae
Author: Roman Kulyk <rom.kulyk@gmail.com>
Date:   Thu Jul 6 18:27:34 2017 +0300

    DRILL-4511: Add unit tests for "Table does not exist" situation in case of empty directory or incorrect table name
    
    closes #869

 .../store/parquet/TestParquetMetadataCache.java    | 28 ++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit 34d736e6dabea7d3d4bb8fb699e956f72bcdbfb8
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Tue Jul 4 18:19:23 2017 +0000

    DRILL-4755: Fix IOBE for convert_from/convert_to functions with incorrect encoding type
    
    closes #867

 .../exec/planner/logical/PreProcessLogicalRel.java |  5 ++---
 .../drill/exec/planner/sql/DrillOperatorTable.java |  4 ++--
 .../jdbc/test/TestExecutionExceptionsToClient.java | 24 +++++++++++++++++++++-
 3 files changed, 27 insertions(+), 6 deletions(-)

commit a3f9dff0a00f5ed8b87c0802ea7cc069c6407bcd
Author: cgivre <cgivre@gmail.com>
Date:   Sun Jul 2 23:13:02 2017 -0400

    DRILL-5634: Add Crypto Functions
    
    closes #865

 exec/java-exec/pom.xml                             |   5 +
 .../drill/exec/expr/fn/impl/CryptoFunctions.java   | 388 +++++++++++++++++++++
 .../drill/exec/fn/impl/TestCryptoFunctions.java    |  92 +++++
 exec/jdbc-all/pom.xml                              |   4 +
 4 files changed, 489 insertions(+)

commit 8d659ff7045337ec6a041e1cb37c45c6460ff168
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Jul 12 14:39:17 2017 -0700

    DRILL-5659: Fix error code checking in reading from socket
     This closes #876

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit da9f09a3caa083da10d13596ce61f85084c691ef
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Sun Jul 16 14:04:27 2017 +0000

    Add Arina's PGP key.

 KEYS | 58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 58 insertions(+)

commit 35d07c3bd84ee8e8a4019a18888461e130c45d42
Author: Laurent Goujon <laurent@dremio.com>
Date:   Tue Jul 11 22:25:44 2017 -0700

    DRILL-5668: Fix C++ connector crash on error
    
    Fix C++ connector crash when receiving error messages exceeding
    a given size.
    
    closes #873

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 4 ++--
 contrib/native/client/src/clientlib/errmsgs.cpp         | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 35a1ec66726fc5a77ea61cac3b6f3bbc33b8564a
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Thu Jun 29 15:28:05 2017 +0000

    DRILL-4970: Prevent changing the negative value of input holder for cast functions
    
    closes #863

 .../src/main/codegen/templates/CastFunctions.java  |  19 +-
 .../codegen/templates/Decimal/CastDecimalInt.java  |  14 +-
 .../templates/Decimal/CastDecimalVarchar.java      |  11 +-
 .../drill/exec/fn/impl/TestCastFunctions.java      | 439 ++++++++++++++++++++-
 .../test/resources/decimal/cast_decimal_float.json |  45 +++
 .../test/resources/decimal/cast_decimal_int.json   |  45 +++
 .../test/resources/decimal/cast_int_decimal.json   |  45 +++
 .../src/test/resources/input_simple_decimal.json   |  24 +-
 8 files changed, 612 insertions(+), 30 deletions(-)

commit 0e1e6042f507ac0da2a21d7de3bbed4c0dac549a
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Wed Jun 28 17:39:08 2017 -0700

    DRILL-5420: ParquetAsyncPgReader goes into infinite loop during cleanup
    
    PageQueue is cleaned up using poll() instead of take(), which constantly gets interrupted and causes CPU churn.
    During a columnReader shutdown, a flag is set so as to block any new page reading tasks from being submitted.
    
    closes #862

 .../parquet/columnreaders/AsyncPageReader.java      | 21 ++++++++++++++-------
 .../store/parquet/columnreaders/BatchReader.java    |  4 +++-
 .../store/parquet/columnreaders/ColumnReader.java   | 11 ++++++++---
 .../parquet/columnreaders/VarLenBinaryReader.java   |  4 +++-
 4 files changed, 28 insertions(+), 12 deletions(-)

commit 0b830ef5370ad865c13da64121cd8a0e366dfd7b
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Mon Jun 26 18:12:34 2017 +0000

    DRILL-4722: Fix EqualityVisitor for interval day expressions with millis
    
    closes #861

 .../apache/drill/exec/expr/EqualityVisitor.java    |  6 +-
 .../drill/exec/fn/impl/TestDateAddFunctions.java   | 79 ++++++++++++++++++++++
 2 files changed, 82 insertions(+), 3 deletions(-)

commit f5b975adf26622451885149acf26ce4c2c2e0a93
Author: Vlad Storona <vstorona@cybervisiontech.com>
Date:   Thu May 11 13:53:08 2017 +0000

    DRILL-5432: Added pcap-format support as format plugin
    
    closes #831

 .../drill/exec/store/pcap/PcapDrillTable.java      |  73 ++++
 .../drill/exec/store/pcap/PcapFormatConfig.java    |  24 ++
 .../drill/exec/store/pcap/PcapFormatPlugin.java    | 116 +++++++
 .../drill/exec/store/pcap/PcapFormatUtils.java     |  79 +++++
 .../drill/exec/store/pcap/PcapRecordReader.java    | 307 +++++++++++++++++
 .../drill/exec/store/pcap/decoder/Murmur128.java   | 161 +++++++++
 .../drill/exec/store/pcap/decoder/Packet.java      | 375 +++++++++++++++++++++
 .../exec/store/pcap/decoder/PacketConstants.java   |  68 ++++
 .../exec/store/pcap/decoder/PacketDecoder.java     | 116 +++++++
 .../drill/exec/store/pcap/dto/ColumnDto.java       |  63 ++++
 .../apache/drill/exec/store/pcap/package-info.java |  22 ++
 .../drill/exec/store/pcap/schema/PcapTypes.java    |  25 ++
 .../drill/exec/store/pcap/schema/Schema.java       |  64 ++++
 .../main/resources/bootstrap-storage-plugins.json  |   3 +
 .../store/dfs/TestFormatPluginOptionExtractor.java |   1 +
 .../apache/drill/exec/store/pcap/ConcatPcap.java   |  67 ++++
 .../drill/exec/store/pcap/TestPcapDecoder.java     | 239 +++++++++++++
 .../exec/store/pcap/TestPcapRecordReader.java      |  65 ++++
 .../src/test/resources/store/pcap/data-1.pcap      | Bin 0 -> 73016 bytes
 .../src/test/resources/store/pcap/data-2.pcap      | Bin 0 -> 1167896 bytes
 .../src/test/resources/store/pcap/tcp-1.pcap       | Bin 0 -> 1848 bytes
 .../src/test/resources/store/pcap/tcp-2.pcap       | Bin 0 -> 29208 bytes
 .../org/apache/drill/exec/proto/UserBitShared.java |   9 +
 .../drill/exec/proto/beans/CoreOperatorType.java   |   4 +-
 24 files changed, 1880 insertions(+), 1 deletion(-)

commit 63e243378f3be125f1e8bfb52c74b8211c87bfc3
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue May 16 15:55:41 2017 -0700

    DRILL-5518: Test framework enhancements
    
    * Create a SubOperatorTest base class to do routine setup and shutdown.
    * Additional methods to simplify creating complex schemas with field
    widths.
    * Define a test workspace with plugin-specific options (as for the CSV
    storage plugin)
    * When verifying row sets, add methods to verify and release just the
    "actual" batch in addition to the existing method for verify and free
    both the actual and expected batches.
    * Allow reading of row set values as object for generic comparisons.
    * "Column builder" within schema builder to simplify building a single
    MatrializedField for tests.
    * Misc. code cleanup.
    
    closes #851

 .../exec/ops/AbstractOperatorExecContext.java      |  17 ++--
 .../apache/drill/exec/record/VectorContainer.java  |   2 -
 .../drill/exec/cache/TestBatchSerialization.java   |   2 +-
 .../impl/xsort/managed/SortTestUtilities.java      |   2 +-
 .../physical/impl/xsort/managed/TestSorter.java    |  13 +--
 .../drill/exec/record/TestVectorContainer.java     |   2 +-
 .../exec/store/easy/text/compliant/TestCsv.java    |  10 +-
 .../java/org/apache/drill/test/ClientFixture.java  |   6 ++
 .../java/org/apache/drill/test/ClusterTest.java    |   1 -
 .../org/apache/drill/test/OperatorFixture.java     |   9 +-
 .../org/apache/drill/test/SubOperatorTest.java     |  36 +++++++
 .../apache/drill/test/rowSet/RowSetBuilder.java    |  33 +++++++
 .../apache/drill/test/rowSet/RowSetComparison.java |  18 +++-
 .../apache/drill/test/rowSet/SchemaBuilder.java    |  98 +++++++++++++++++--
 .../apache/drill/test/rowSet/test/RowSetTest.java  | 108 ++++++++++++++-------
 .../drill/exec/vector/accessor/ColumnReader.java   |   1 +
 .../vector/accessor/impl/AbstractColumnReader.java |  28 ++++++
 .../exec/vector/accessor/impl/TupleReaderImpl.java |  73 +++++++++++---
 18 files changed, 367 insertions(+), 92 deletions(-)

commit 92c9304f77a515d8f6747514bd295613738f611e
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue May 16 13:20:32 2017 -0700

    DRILL-5517: Size-aware set methods in value vectors
    
    Please see DRILL-5517 for an explanation.
    
    Also includes a workaround for DRILL-5529.
    Implements a setEmpties method for repeated and non-nullable
    variable-width types in support of the revised column accessors.
    
    Unit test included. Without the setEmpties call, the tests fail with
    vector corruption. With the call, things work properly.
    
    closes #840

 .../drill/exec/record/vector/TestValueVector.java  |   7 +-
 .../org/apache/drill/vector/TestFillEmpties.java   | 242 +++++++++
 .../org/apache/drill/vector/TestVectorLimits.java  | 484 +++++++++++++++++
 .../java/org/apache/drill/vector/package-info.java |  22 +
 .../src/main/java/io/netty/buffer/DrillBuf.java    |  19 +
 .../io/netty/buffer/UnsafeDirectLittleEndian.java  |  75 ++-
 .../main/codegen/templates/FixedValueVectors.java  | 577 ++++++++++++++-------
 .../codegen/templates/NullableValueVectors.java    | 163 ++++--
 .../codegen/templates/RepeatedValueVectors.java    | 132 ++++-
 .../src/main/codegen/templates/UnionVector.java    |  13 +-
 .../codegen/templates/VariableLengthVectors.java   | 218 +++++++-
 .../drill/exec/vector/BaseDataValueVector.java     |  21 +-
 .../apache/drill/exec/vector/BaseValueVector.java  |  13 +-
 .../org/apache/drill/exec/vector/BitVector.java    |  85 ++-
 .../apache/drill/exec/vector/FixedWidthVector.java |   5 +-
 .../org/apache/drill/exec/vector/ObjectVector.java |  39 +-
 .../org/apache/drill/exec/vector/ValueVector.java  |  60 ++-
 .../drill/exec/vector/VectorOverflowException.java |  30 ++
 .../org/apache/drill/exec/vector/VectorUtils.java  |  63 +++
 .../org/apache/drill/exec/vector/ZeroVector.java   |  71 +--
 .../vector/complex/BaseRepeatedValueVector.java    |  18 +-
 .../drill/exec/vector/complex/ListVector.java      |   8 +-
 .../drill/exec/vector/complex/MapVector.java       |  14 +-
 .../exec/vector/complex/RepeatedListVector.java    |  19 +-
 .../exec/vector/complex/RepeatedMapVector.java     |  19 +-
 .../vector/complex/impl/AbstractBaseReader.java    |  12 +-
 26 files changed, 2059 insertions(+), 370 deletions(-)

commit 6446e56f292a5905d646462c618c056839ad5198
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Jun 15 16:01:54 2017 +0300

    DRILL-5538: Create TopProject with validatedNodeType after PHYSICAL phase
    
    closes #844

 .../physical/visitor/TopProjectVisitor.java        | 142 +++++++++++++++++++++
 .../planner/sql/handlers/CreateTableHandler.java   |  14 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  71 +++++++----
 .../exec/planner/sql/handlers/ExplainHandler.java  |   6 +-
 .../test/java/org/apache/drill/TestUnionAll.java   |   1 -
 5 files changed, 195 insertions(+), 39 deletions(-)

commit 9cf6faa7aa834c7ba654ce956c8b523ff3464658
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Thu Jun 15 11:43:04 2017 -0700

    DRILL-5587: Validate Parquet blockSize and pageSize configured with SYSTEM/SESSION option
    
    close #852

 .../src/main/java/org/apache/drill/exec/ExecConstants.java          | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 7e6571aa5d4c58185dbfa131de99354ea7dc6b4e
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Jun 20 12:18:27 2017 +0300

    DRILL-5599: Notify StatusHandler that batch sending has failed even if channel is still open
    
    close #857

 .../org/apache/drill/exec/rpc/RequestIdMap.java     | 21 ++++++++++++---------
 1 file changed, 12 insertions(+), 9 deletions(-)

commit dd55b5c49c8e3207400b99ea616a032bc6172988
Author: Paul Rogers <progers@maprtech.com>
Date:   Thu Jun 15 22:46:56 2017 -0700

    DRILL-5590: Bugs in CSV field matching, null columns
    
    Please see the problem and solution descriptions in DRILL-5590.
    
    Also cleaned up some dead code left over from DRILL-5498.
    
    close #855

 .../text/compliant/CompliantTextRecordReader.java  | 73 ++--------------------
 .../easy/text/compliant/FieldVarCharOutput.java    | 73 ++++++++++++----------
 .../easy/text/compliant/RepeatedVarCharOutput.java |  5 +-
 .../exec/store/easy/text/compliant/TestCsv.java    | 22 +++++++
 4 files changed, 68 insertions(+), 105 deletions(-)

commit 33682be99e719dce9cb326e2835ebc4ae434104a
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Jun 15 18:03:34 2017 +0300

    DRILL-5130: Implement DrillValuesRel and ValuesPrel as Calcite Values sub-classes

 .../exec/planner/common/DrillValuesRelBase.java    | 251 ++++++++++++++++++++
 .../drill/exec/planner/logical/DrillValuesRel.java | 255 +--------------------
 .../drill/exec/planner/physical/ValuesPrel.java    |  32 +--
 .../drill/exec/planner/physical/ValuesPrule.java   |  14 +-
 .../test/java/org/apache/drill/TestUnionAll.java   |  11 +
 .../physical/impl/filter/TestLargeInClause.java    |   2 +-
 6 files changed, 290 insertions(+), 275 deletions(-)

commit 886ccdc1a850a0dc054a37797f45cba409b1d0a4
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Mon Jun 5 13:45:27 2017 -0700

    DRILL-5568: Include hadoop-common jars inside drill-jdbc-all.jar 1) Introduce a new file inside exec/jdbc-all resource package which contains the property key/value pair for prefix 2) At build time based upon the profile choosen this property value is set inside the file 3) It is later consumed by SecurityConfiguration class to rename classpath for classes inside hadoop package.
    
    DRILL-5568: Code review changes
    
    close apache/drill#849

 .../exec/rpc/security/SecurityConfiguration.java   |  68 +++++
 .../rpc/security/kerberos/KerberosFactory.java     |   3 +-
 .../exec/rpc/security/plain/PlainFactory.java      |   3 +-
 exec/jdbc-all/pom.xml                              | 310 ++++++++++++++++++++-
 exec/jdbc-all/src/main/resources/profile.props     |  18 ++
 .../org/apache/drill/jdbc/impl/DrillFactory.java   |   6 +-
 6 files changed, 397 insertions(+), 11 deletions(-)

commit 964a947315c31571954c1f4f56ac3336ac7bbcda
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Fri Apr 14 18:57:13 2017 +0000

    DRILL-3867: Metadata Caching : Moving a directory which contains a cache file causes subsequent queries to fail - change absolute to relative path in the parquet metadata cache files; - add converting of the relative paths in the metadata to absolute ones. - test case when table is moved to other place after creating meta cache files.
    
    Changes according to the review
    
    Minor changes according to the review
    
    close apache/drill#824

 .../apache/drill/exec/store/parquet/Metadata.java  | 159 ++++++++++++++++++---
 .../drill/exec/store/parquet/ParquetGroupScan.java |  15 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  58 ++++++++
 .../writer/TestCorruptParquetDateCorrection.java   |  82 ++---------
 .../store/parquet/TestParquetMetadataCache.java    |  53 ++++++-
 ...tories_with_absolute_paths.requires_replace.txt |   3 +
 ..._table_with_absolute_paths.requires_replace.txt | 108 ++++++++++++++
 ...ble_with_absolute_paths_t1.requires_replace.txt |  76 ++++++++++
 ...ble_with_absolute_paths_t2.requires_replace.txt |  76 ++++++++++
 9 files changed, 530 insertions(+), 100 deletions(-)

commit 90f43bff7a01eaaee6c8861137759b05367dfcf3
Author: Paul Rogers <progers@maprtech.com>
Date:   Thu Apr 6 13:57:19 2017 -0700

    DRILL-5325: Unit tests for the managed sort
    
    Uses the sub-operator test framework (DRILL-5318), including the test
    row set abstraction (DRILL-5323) to enable unit testing of the
    managed external sort. This PR allows early review of the code, but
    cannot be pulled until the dependencies (mentioned above) are pulled.
    
    Refactors the external sort code into small chunks that can be unit
    tested, then wraps that code in tests for all interesting data types,
    record batch sizes, and so on.
    
    Refactors some of the operator definitions to more easily allow
    programmatic setup in the unit tests.
    
    Fixes a number of bugs discovered by the unit tests. The biggest
    changes were in the new code: the code that computes spilling and
    merging based on memory levels.
    
    Otherwise, although GitHub will show many files change, most of the
    changes are simply moving blocks of code around to create smaller units
    that can be tested independently.
    
    Includes a refactoring of the code that does spilling, along with a
    complete set of low-level unit tests.
    
    Excludes long-running sort tests.
    
    Defines a test category for long-running tests.
    
    First attempt to provide a way to run such tests from Maven.
    
    closes #808

 .../java/org/apache/drill/test/SecondaryTest.java  |   70 ++
 exec/java-exec/pom.xml                             |    5 +
 .../java/org/apache/drill/exec/ExecConstants.java  |    2 -
 .../apache/drill/exec/cache/VectorSerializer.java  |  121 ++
 .../drill/exec/physical/base/AbstractBase.java     |    2 +-
 .../drill/exec/physical/base/FragmentRoot.java     |    2 +-
 .../org/apache/drill/exec/physical/base/Root.java  |    2 +-
 .../drill/exec/physical/config/ExternalSort.java   |    4 +-
 .../physical/impl/aggregate/HashAggTemplate.java   |    2 +-
 .../physical/impl/sort/SortRecordBatchBuilder.java |   12 +-
 .../drill/exec/physical/impl/spill/SpillSet.java   |   35 +-
 .../physical/impl/svremover/CopierTemplate2.java   |    6 +-
 .../drill/exec/physical/impl/xsort/BatchGroup.java |    2 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |    6 +-
 .../impl/xsort/managed/BaseSortWrapper.java        |   90 ++
 .../physical/impl/xsort/managed/BaseWrapper.java   |   53 +
 .../physical/impl/xsort/managed/BatchGroup.java    |   76 +-
 .../impl/xsort/managed/BufferedBatches.java        |  232 ++++
 .../impl/xsort/managed/ExternalSortBatch.java      | 1226 ++------------------
 .../physical/impl/xsort/managed/MSortTemplate.java |   26 +-
 .../exec/physical/impl/xsort/managed/MSorter.java  |    6 +-
 .../physical/impl/xsort/managed/MergeSort.java     |  167 ---
 .../impl/xsort/managed/MergeSortWrapper.java       |  261 +++++
 .../impl/xsort/managed/OperatorCodeGenerator.java  |  259 -----
 .../impl/xsort/managed/PriorityQueueCopier.java    |    3 +-
 .../xsort/managed/PriorityQueueCopierTemplate.java |   74 +-
 ...Holder.java => PriorityQueueCopierWrapper.java} |  131 ++-
 .../physical/impl/xsort/managed/SortConfig.java    |  121 ++
 .../exec/physical/impl/xsort/managed/SortImpl.java |  491 ++++++++
 .../impl/xsort/managed/SortMemoryManager.java      |  513 ++++++++
 .../physical/impl/xsort/managed/SortMetrics.java   |   97 ++
 .../physical/impl/xsort/managed/SorterWrapper.java |   92 ++
 .../physical/impl/xsort/managed/SpilledRuns.java   |  235 ++++
 .../java-exec/src/main/resources/drill-module.conf |   18 +-
 .../drill/exec/cache/TestBatchSerialization.java   |  216 ++++
 .../apache/drill/exec/cache/TestWriteToDisk.java   |    2 +-
 .../exec/physical/impl/xsort/TestExternalSort.java |    3 +
 .../impl/xsort/TestSimpleExternalSort.java         |   69 +-
 .../impl/xsort/TestSortSpillWithException.java     |   72 +-
 .../impl/xsort/managed/SortTestUtilities.java      |  132 +++
 .../physical/impl/xsort/managed/TestCopier.java    |  377 ++++++
 .../impl/xsort/managed/TestExternalSortExec.java   |  188 +++
 .../xsort/managed/TestExternalSortInternals.java   |  632 ++++++++++
 .../physical/impl/xsort/managed/TestSortImpl.java  |  609 ++++++++++
 .../physical/impl/xsort/managed/TestSorter.java    |  605 ++++++++++
 .../apache/drill/exec/memory/BaseAllocator.java    |   25 +-
 .../drill/common/expression/FieldReference.java    |    9 +-
 .../apache/drill/common/expression/SchemaPath.java |    5 +-
 .../apache/drill/common/logical/data/Order.java    |   73 +-
 pom.xml                                            |    3 +-
 50 files changed, 5605 insertions(+), 1857 deletions(-)

commit c16e5f8072f3e5d18157767143f9ccc7669c4380
Author: Boaz Ben-Zvi <boazben-zvi@BBenZvi-E754-MBP13.local>
Date:   Mon Jun 19 19:04:30 2017 -0700

    DRILL-5457: Spill implementation for Hash Aggregate
    
    closes #822

 .../src/resources/drill-override-example.conf      |   22 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   22 +
 .../exec/cache/VectorAccessibleSerializable.java   |   56 +
 .../drill/exec/physical/base/AbstractBase.java     |   28 +-
 .../drill/exec/physical/base/PhysicalOperator.java |   15 +
 .../drill/exec/physical/config/ExternalSort.java   |   17 +-
 .../drill/exec/physical/config/HashAggregate.java  |   25 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java |   46 +-
 .../physical/impl/aggregate/HashAggTemplate.java   | 1113 ++++++++++++++++----
 .../physical/impl/aggregate/HashAggregator.java    |   19 +-
 .../impl/aggregate/SpilledRecordbatch.java         |  175 +++
 .../physical/impl/common/ChainedHashTable.java     |   10 +-
 .../drill/exec/physical/impl/common/HashTable.java |   26 +-
 .../exec/physical/impl/common/HashTableStats.java  |    7 +
 .../physical/impl/common/HashTableTemplate.java    |  255 +++--
 .../exec/physical/impl/join/HashJoinBatch.java     |    5 +-
 .../exec/physical/impl/spill/RecordBatchSizer.java |   78 +-
 .../drill/exec/physical/impl/spill/SpillSet.java   |   59 +-
 .../impl/xsort/managed/ExternalSortBatch.java      |    6 +-
 .../drill/exec/planner/physical/AggPrelBase.java   |    2 +-
 .../drill/exec/planner/physical/AggPruleBase.java  |    3 +
 .../drill/exec/planner/physical/HashAggPrel.java   |    2 +-
 .../exec/planner/physical/PlannerSettings.java     |    5 +
 .../org/apache/drill/exec/record/RecordBatch.java  |    2 +-
 .../exec/server/options/SystemOptionManager.java   |    4 +
 .../drill/exec/util/MemoryAllocationUtilities.java |   21 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |    2 +-
 .../apache/drill/exec/work/user/PlanSplitter.java  |    2 +-
 .../java-exec/src/main/resources/drill-module.conf |   35 +-
 .../test/java/org/apache/drill/TestBugFixes.java   |    5 +-
 .../drill/TestTpchDistributedConcurrent.java       |    2 +-
 .../exec/physical/impl/agg/TestHashAggrSpill.java  |  141 +++
 .../physical/unit/BasicPhysicalOpUnitTest.java     |    3 +-
 exec/jdbc/pom.xml                                  |    1 +
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |    2 +-
 .../codegen/templates/VariableLengthVectors.java   |    1 +
 36 files changed, 1800 insertions(+), 417 deletions(-)

commit be43a9edd148ef3af6f92c5ce7cda235c5ac1ad6
Author: Paul Rogers <progers@maprtech.com>
Date:   Mon May 15 15:59:35 2017 -0700

    DRILL-5514: Enhance VectorContainer to merge two row sets
    
    Adds ability to merge two schemas and to merge two vector containers,
    in each case producing a new, merged result. See DRILL-5514 for details.
    
    Also provides a handy constructor to create a vector container given a
    pre-defined schema.
    
    closes #837

 .../org/apache/drill/exec/record/BatchSchema.java  |  28 +++++
 .../apache/drill/exec/record/VectorContainer.java  |  54 ++++++++-
 .../drill/exec/record/TestVectorContainer.java     | 126 +++++++++++++++++++++
 .../org/apache/drill/test/rowSet/DirectRowSet.java |   5 +
 .../apache/drill/test/rowSet/HyperRowSetImpl.java  |   5 +
 .../apache/drill/test/rowSet/IndirectRowSet.java   |   5 +
 .../java/org/apache/drill/test/rowSet/RowSet.java  |   2 +
 7 files changed, 221 insertions(+), 4 deletions(-)

commit b714b2d74f80755d02de87b3151d94cb9cfc6794
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Thu May 25 17:10:55 2017 +0000

    DRILL-5544: Out of heap running CTAS against text delimited
    
    Since parquet version of PageWriter cannot allow to use direct memory for allocating ByteBuffers.
    This PR introduces other version of PageWriter and PageWriteStore.
    See more: https://issues.apache.org/jira/browse/PARQUET-1006.
    
    closes #846

 .../exec/store/parquet/ParquetRecordWriter.java    |  61 +++--
 .../hadoop/ColumnChunkPageWriteStoreExposer.java   |  47 ----
 .../hadoop/ParquetColumnChunkPageWriteStore.java   | 280 +++++++++++++++++++++
 .../physical/impl/writer/TestParquetWriter.java    |   4 +-
 4 files changed, 318 insertions(+), 74 deletions(-)

commit 01bcb787493b218f80a8e66305d2e272ee004e1d
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Thu Jun 15 11:00:21 2017 -0700

    DRILL-5589: JDBC client crashes after successful authentication if trace logging is enabled
    
    closes #854

 .../drill/exec/rpc/security/AuthenticationOutcomeListener.java      | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit a7e298760f9c9efa281d61a1d2ec776139f69225
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Wed May 17 16:56:13 2017 -0700

    DRILL-5545: Fix issues reported by findbugs in Async Parquet Reader.
    This closes #847

 .../parquet/columnreaders/AsyncPageReader.java     | 118 ++++++++-------------
 .../store/parquet/columnreaders/ColumnReader.java  |  17 ++-
 .../store/parquet/columnreaders/PageReader.java    |  31 ++++--
 3 files changed, 83 insertions(+), 83 deletions(-)

commit 610602eb13fb883acab8bc2b73ab304896b4f0b6
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Tue May 23 11:04:15 2017 -0700

    DRILL-5545: Update POM to add support for running findbugs

 contrib/storage-hive/hive-exec-shade/pom.xml |  7 +++
 pom.xml                                      | 94 +++++++++++++++++++++++++++-
 2 files changed, 100 insertions(+), 1 deletion(-)

commit 5d2eedff8329b687fb7a5a498971503b82260946
Author: Rob Wu <robwu15@gmail.com>
Date:   Mon Jun 5 14:06:33 2017 -0700

    DRILL-5541: C++ Client Crashes During Simple "Man in the Middle" Attack Test with Exploitable Write AV
    This closes #850

 .../client/src/clientlib/drillClientImpl.cpp       | 46 ++++++++++++++++++++--
 .../client/src/clientlib/drillClientImpl.hpp       | 40 ++++++++++---------
 contrib/native/client/src/clientlib/rpcMessage.cpp | 12 ++++++
 3 files changed, 75 insertions(+), 23 deletions(-)

commit adb79fb58e7ee699424d8f24c6ed76080921b579
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Tue May 30 10:17:48 2017 -0700

    DRILL-5560: Create configuration file for distribution specific configuration
    This closes #848

 .../apache/drill/common/config/CommonConstants.java   |  3 +++
 .../org/apache/drill/common/config/DrillConfig.java   | 19 ++++++++++++++-----
 distribution/src/resources/drill-config.sh            |  3 ++-
 3 files changed, 19 insertions(+), 6 deletions(-)

commit 874bf6296dcd1a42c7cf7f097c1a6b5458010cbb
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Fri Apr 21 18:34:19 2017 -0700

    DRILL-5485: Remove WebServer dependency on DrillClient
    
    1. Added WebUserConnection/AnonWebUserConnection and their providers for Authenticated and Anonymous web users.
    2. Updated to store the UserSession, BufferAllocator and other session states inside the HttpSession of Jetty instead
            of storing in DrillUserPrincipal. For each request now a new instance of WebUserConnection will be created. However
            for authenticated users the UserSession and other states will be re-used whereas for Anonymous Users it will created
            for each request and later re-cycled after query execution.
    
    close #829

 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +
 .../drill/exec/ops/AccountingUserConnection.java   |   4 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |   2 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |   2 +-
 .../AbstractDisposableUserClientConnection.java    | 107 ++++++++++++++
 .../drill/exec/rpc/UserClientConnection.java       |  69 +++++++++
 .../org/apache/drill/exec/rpc/user/UserServer.java |  42 +-----
 .../apache/drill/exec/server/DrillbitContext.java  |  16 +-
 .../drill/exec/server/rest/DrillRestServer.java    | 149 ++++++++++++++++++-
 .../drill/exec/server/rest/QueryResources.java     |  51 +++----
 .../drill/exec/server/rest/QueryWrapper.java       | 157 +++++---------------
 .../apache/drill/exec/server/rest/WebServer.java   |  32 ++--
 .../exec/server/rest/WebSessionResources.java      |  84 +++++++++++
 .../drill/exec/server/rest/WebUserConnection.java  | 164 +++++++++++++++++++++
 .../rest/auth/AbstractDrillLoginService.java       |  95 ------------
 .../server/rest/auth/DrillRestLoginService.java    |  75 ++++++++--
 .../exec/server/rest/auth/DrillUserPrincipal.java  |  82 +++--------
 .../apache/drill/exec/work/foreman/Foreman.java    |   2 +-
 .../work/prepare/PreparedStatementProvider.java    |  78 +++-------
 .../apache/drill/exec/work/user/PlanSplitter.java  |   2 +-
 .../apache/drill/exec/work/user/UserWorker.java    |   2 +-
 .../java-exec/src/main/resources/drill-module.conf |   6 +
 .../org/apache/drill/exec/client/DumpCatTest.java  |   2 +-
 .../drill/exec/fn/impl/TestMathFunctions.java      |   2 +-
 .../drill/exec/fn/impl/TestMultiInputAdd.java      |   4 +-
 .../drill/exec/fn/impl/TestNewMathFunctions.java   |  12 +-
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |   2 +-
 .../exec/physical/impl/TestCastFunctions.java      |  18 +--
 .../physical/impl/TestComparisonFunctions.java     |  16 +-
 .../exec/physical/impl/TestConvertFunctions.java   |  12 +-
 .../physical/impl/TestImplicitCastFunctions.java   |  10 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   2 +-
 .../physical/impl/TestReverseImplicitCast.java     |   4 +-
 .../exec/physical/impl/TestSimpleFunctions.java    |   8 +-
 .../exec/physical/impl/TestStringFunctions.java    |  40 ++---
 .../drill/exec/physical/impl/agg/TestAgg.java      |   2 +-
 .../physical/impl/filter/TestSimpleFilter.java     |   2 +-
 .../exec/physical/impl/join/TestHashJoin.java      |  16 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |  11 +-
 .../exec/physical/impl/limit/TestSimpleLimit.java  |  12 +-
 .../impl/project/TestSimpleProjection.java         |   2 +-
 .../exec/physical/impl/sort/TestSimpleSort.java    |   2 +-
 .../impl/trace/TestTraceMultiRecordBatch.java      |   2 +-
 .../physical/impl/trace/TestTraceOutputDump.java   |   2 +-
 .../exec/physical/impl/union/TestSimpleUnion.java  |   4 +-
 .../drill/exec/record/TestRecordIterator.java      |   6 +-
 .../store/parquet/ParquetRecordReaderTest.java     |   4 +-
 47 files changed, 871 insertions(+), 549 deletions(-)

commit d38917be44c7d98f1b37984e324c781f2a4e25ad
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu May 25 13:23:43 2017 +0000

    DRILL-5537: Display columns alias for queries with sum() when RDBMS storage plugin is enabled
    
    close #845

 .../planner/logical/DrillReduceAggregatesRule.java | 63 ++++++----------------
 1 file changed, 17 insertions(+), 46 deletions(-)

commit b14e30b3df9803fef418d083837c91d57d7a5fe3
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Wed Apr 12 16:07:39 2017 +0000

    DRILL-5140: Fix CompileException in run-time generated code when record batch has large number of fields.
    
    - Changed estimation of max index value and added comments.
    
    close #818

 .../drill/exec/compile/ClassTransformer.java       |  18 ++-
 .../org/apache/drill/exec/expr/ClassGenerator.java | 170 ++++++++++++++++++++-
 .../exec/compile/TestLargeFileCompilation.java     |   4 +-
 3 files changed, 181 insertions(+), 11 deletions(-)

commit dd2692ecd57a180f33e51147afe063627552979e
Author: eskabetxe <boto@boto.pro>
Date:   Sat May 6 13:41:36 2017 +0200

    DRILL-5229: Update kudu-client to 1.3.0
    
    closes #828

 contrib/storage-kudu/pom.xml                       |  5 ++-
 .../main/codegen/templates/KuduRecordWriter.java   |  4 +--
 .../drill/exec/store/kudu/DrillKuduTable.java      | 14 ++++----
 .../drill/exec/store/kudu/KuduGroupScan.java       |  4 +--
 .../drill/exec/store/kudu/KuduRecordReader.java    | 30 +++++++++---------
 .../exec/store/kudu/KuduRecordWriterImpl.java      | 37 +++++++++++-----------
 .../drill/exec/store/kudu/KuduSchemaFactory.java   |  6 ++--
 .../drill/exec/store/kudu/KuduStoragePlugin.java   |  2 +-
 .../apache/drill/store/kudu/TestKuduConnect.java   | 30 ++++++++++--------
 9 files changed, 67 insertions(+), 65 deletions(-)

commit 676ea889bb69e9e0a733cab29665236d066bd1ab
Author: Paul Rogers <progers@maprtech.com>
Date:   Wed Mar 15 13:49:07 2017 -0700

    DRILL-5356: Refactor Parquet Record Reader
    
    The Parquet reader is Drill's premier data source and has worked very well
    for many years. As with any piece of code, it has grown in complexity over
    that time and has become hard to understand and maintain.
    
    In work in another project, we found that Parquet is accidentally creating
    "low density" batches: record batches with little actual data compared to
    the amount of memory allocated. We'd like to fix that.
    
    However, the current complexity of the reader code creates a barrier to
    making improvements: the code is so complex that it is often better to
    leave bugs unfixed, or risk spending large amounts of time struggling to
    make small changes.
    
    This commit offers to help revitalize the Parquet reader. Functionality is
    identical to the code in master; but code has been pulled apart into
    various classes each of which focuses on one part of the task: building
    up a schema, keeping track of read state, a strategy for reading various
    combinations of records, etc. The idea is that it is easier to understand
    several small, focused classes than one huge, complex class. Indeed, the
    idea of small, focused classes is common in the industry; it is nothing new.
    
    Unit tests pass with the change. Since no logic has chanaged, we only moved
    lines of code, that is a good indication that everything still works.
    
    Also includes fixes based on review comments.
    
    closes #789

 .../exec/planner/physical/PlannerSettings.java     |   2 +-
 .../exec/store/parquet/ParquetReaderStats.java     |  70 ++-
 .../exec/store/parquet/ParquetReaderUtility.java   |   2 +-
 .../store/parquet/columnreaders/BatchReader.java   | 169 +++++++
 .../store/parquet/columnreaders/ColumnReader.java  |   6 +-
 .../columnreaders/FixedWidthRepeatedReader.java    |   2 +-
 .../columnreaders/ParquetColumnMetadata.java       | 154 +++++++
 .../parquet/columnreaders/ParquetRecordReader.java | 494 +++------------------
 .../store/parquet/columnreaders/ParquetSchema.java | 265 +++++++++++
 .../store/parquet/columnreaders/ReadState.java     | 192 ++++++++
 .../store/parquet2/DrillParquetGroupConverter.java |   4 +-
 .../exec/store/parquet/ParquetInternalsTest.java   | 158 +++++++
 .../src/test/resources/parquet/expected/bogus.csv  |  20 +
 .../test/resources/parquet/expected/fixedWidth.csv |  20 +
 .../test/resources/parquet/expected/mixedWidth.csv |  20 +
 .../src/test/resources/parquet/expected/star.csv   |  20 +
 .../resources/parquet/expected/variableWidth.csv   |  20 +
 17 files changed, 1168 insertions(+), 450 deletions(-)

commit 9ab91ff2640a8e89b92869d7dbb15acb9b602cd3
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Wed Apr 19 17:25:20 2017 -0700

    DRILL-5379: Set Hdfs Block Size based on Parquet Block Size
    
    Provide an option to specify blocksize during file creation.
    This will help create parquet files with single block on HDFS, helping improve performance when we read those files.
    
    See DRILL-5379 for details.
    
    closes #826

 .../java/org/apache/drill/exec/ExecConstants.java  |  3 +++
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../exec/store/parquet/ParquetFormatPlugin.java    |  2 ++
 .../exec/store/parquet/ParquetRecordWriter.java    | 22 ++++++++++++++++++----
 4 files changed, 24 insertions(+), 4 deletions(-)

commit 9ba4af860e3def8f880eef13e353a730cb3b18ea
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Mon May 15 13:33:49 2017 -0700

    DRILL-5481: Allow to persist profiles in-memory only with a max capacity
    
    1. Introduced an InMemoryStoreProvider with the ability to maintain a max capacity
    2. DrillbitContext now explicitly has a profileStoreProvider that, by default, re-uses the general PersistentStoreProvider, unless it is InMemory, which is when #1 is used.
    2. Cleanly separated out QueryProfileStoreContext
    3. Converted literal values to constants within ExecConstants
    4. Updated drill-module.conf for default capacity
    
    closes #834

 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +
 .../org/apache/drill/exec/ops/QueryContext.java    |   5 +
 .../org/apache/drill/exec/server/Drillbit.java     |  20 ++-
 .../apache/drill/exec/server/DrillbitContext.java  |  22 +++-
 .../exec/server/QueryProfileStoreContext.java      |  79 ++++++++++++
 .../exec/server/rest/profile/ProfileResources.java |  14 +-
 .../exec/store/sys/PersistentStoreConfig.java      |  16 ++-
 .../drill/exec/store/sys/store/InMemoryStore.java  | 143 +++++++++++++++++++++
 .../sys/store/provider/InMemoryStoreProvider.java  |  51 ++++++++
 .../org/apache/drill/exec/work/WorkManager.java    |   5 +-
 .../drill/exec/work/foreman/QueryManager.java      |  32 ++---
 .../java-exec/src/main/resources/drill-module.conf |   4 +
 12 files changed, 357 insertions(+), 36 deletions(-)

commit d7bc213ba7cf9a49657cb0699540ca375014a828
Author: Paul Rogers <progers@maprtech.com>
Date:   Thu May 11 12:46:15 2017 -0700

    DRILL-5504: Add vector validator to diagnose offset vector issues
    
    Validates offset vectors in VarChar and repeated vectors. Validates the
    special case of repeated VarChar vectors (two layers of offsets.)
    
    Provides two new session variables to turn on validation. One enables
    the existing operator (iterator) validation, the other adds vector
    validation. This allows validation to occur in a production Drill
    (without restarting Drill with assertions, as previously required.)
    
    Unit tests validate the validator. Another test validates the
    integration, but requires manual steps, so is ignored by default.
    
    This version is first-cut: all work is done within a single class.
    Allows back-porting to an earlier version to solve a specific issues. A
    revision should move some of the work into generated code (or refactor
    vectors to allow outside access), since offset vectors appear for each
    subclass; not on a base class that would allow generic operations.
    
    * Added boot-time options to allow enabling vector validation in Maven
    unit tests.
    * Code cleanup per suggestions.
    * Additional (manual) tests for boot-time options and default options.
    
    closes #832

 .../java/org/apache/drill/exec/ExecConstants.java  |  31 +-
 .../drill/exec/physical/impl/ImplCreator.java      |  12 +-
 .../physical/impl/validate/BatchValidator.java     | 208 +++++++++++++
 .../validate/IteratorValidatorBatchIterator.java   |  20 +-
 .../impl/validate/IteratorValidatorCreator.java    |  12 +-
 .../exec/server/options/SystemOptionManager.java   |   4 +-
 .../text/compliant/CompliantTextRecordReader.java  |   1 +
 .../java-exec/src/main/resources/drill-module.conf |  10 +
 .../physical/impl/validate/TestBatchValidator.java | 323 +++++++++++++++++++++
 .../impl/validate/TestValidationOptions.java       | 135 +++++++++
 10 files changed, 749 insertions(+), 7 deletions(-)

commit 78739889164c8df84fee249310f6d72d1199ea04
Author: Paul Rogers <progers@maprtech.com>
Date:   Mon May 15 15:00:21 2017 -0700

    DRILL-5512: Standardize error handling in ScanBatch
    
    Standardizes error handling to throw a UserException. Prior code threw
    various exceptions, called the fail() method, or returned a variety of
    status codes.
    
    closes #838

 .../drill/common/exceptions/UserException.java     | 12 +++--
 .../apache/drill/exec/physical/impl/ScanBatch.java | 51 +++++++++++-----------
 .../org/apache/drill/common/types/TypeProtos.java  |  4 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 16 +++++--
 protocol/src/main/protobuf/Types.proto             |  7 +--
 protocol/src/main/protobuf/UserBitShared.proto     |  8 +++-
 6 files changed, 56 insertions(+), 42 deletions(-)

commit 155820a49563d631cbafd61a8538619ced21bd95
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon May 22 17:49:31 2017 +0300

    DRILL-5533: Fix flag assignment in FunctionInitializer.checkInit() method
    
    Changes:
    1. Fixed DCL in FunctionInitializer.checkInit() method (update flag parameter when function body is loaded).
    2. Fixed ImportGrabber.getImports() method to return the list with imports.
    3. Added unit tests for FunctionInitializer.
    4. Minor refactoring (renamed methods, added javadoc).
    
    closes #843

 .../drill/exec/expr/fn/FunctionInitializer.java    |  70 ++++++------
 .../apache/drill/exec/expr/fn/ImportGrabber.java   |  27 +++--
 .../exec/expr/fn/FunctionInitializerTest.java      | 124 +++++++++++++++++++++
 3 files changed, 178 insertions(+), 43 deletions(-)

commit 62326be3cfb8536315a5b053cad7397c2036f764
Author: Parth Chandra <parthc@apache.org>
Date:   Fri Jun 2 16:54:20 2017 -0700

    Updated README to include export control section

 README.md | 6 ++++++
 1 file changed, 6 insertions(+)

commit d11aba2e55323bb5a6a9deb5bb09fd87470dcedf
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Mon Mar 6 00:19:50 2017 -0800

    DRILL-4335: Apache Drill should support network encryption.
    
    NOTE: This pull request provides support for on-wire encryption using SASL framework. Communication channel covered is:
          1) C++ Drill Client and Drillbit channel.
    
    close apache/drill#809

 contrib/native/client/example/querySubmitter.cpp   |  25 +-
 contrib/native/client/readme.macos                 |   6 +-
 .../native/client/src/clientlib/drillClient.cpp    |   1 +
 .../client/src/clientlib/drillClientImpl.cpp       | 694 +++++++++++++++++----
 .../client/src/clientlib/drillClientImpl.hpp       |  41 +-
 contrib/native/client/src/clientlib/rpcMessage.cpp |   2 +-
 contrib/native/client/src/clientlib/rpcMessage.hpp |   1 -
 .../client/src/clientlib/saslAuthenticatorImpl.cpp | 119 +++-
 .../client/src/clientlib/saslAuthenticatorImpl.hpp |  12 +-
 contrib/native/client/src/clientlib/utils.cpp      |  49 ++
 contrib/native/client/src/clientlib/utils.hpp      |  32 +
 contrib/native/client/src/include/drill/common.hpp |   2 +
 contrib/native/client/src/protobuf/User.pb.cc      | 463 ++++++++------
 contrib/native/client/src/protobuf/User.pb.h       |  71 ++-
 14 files changed, 1194 insertions(+), 324 deletions(-)

commit ce8bbc01cfde7d714185919be2ca2923d19ea890
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Wed Feb 1 18:44:21 2017 -0800

    DRILL-4335: Apache Drill should support network encryption.
    
        NOTE: This pull request provides support for on-wire encryption using SASL framework. The communication channel that are covered are:
        1) Between Drill JDBC client and Drillbit.
        2) Between Drillbit to Drillbit i.e. control/data channels.
        3) It has UI change to view encryption is enabled on which network channel and number of encrypted/unencrypted connections for
           user/control/data connections.
    
    close apache/drill#773

 .../drill/common/config/DrillProperties.java       |  16 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   5 +
 .../drill/exec/rpc/AbstractClientConnection.java   |  42 +-
 .../drill/exec/rpc/AbstractConnectionConfig.java   |  11 +
 .../apache/drill/exec/rpc/AbstractRpcMetrics.java  |  52 ++
 .../drill/exec/rpc/AbstractServerConnection.java   |  55 ++-
 .../apache/drill/exec/rpc/BitConnectionConfig.java |  32 +-
 .../apache/drill/exec/rpc/ConnectionConfig.java    |   3 +
 .../drill/exec/rpc/control/ControlClient.java      |  15 +-
 .../drill/exec/rpc/control/ControlConnection.java  |  45 +-
 .../drill/exec/rpc/control/ControlRpcMetrics.java  |  84 ++++
 .../drill/exec/rpc/control/ControlServer.java      |   8 +-
 .../drill/exec/rpc/control/ControllerImpl.java     |   3 +
 .../org/apache/drill/exec/rpc/data/DataClient.java |  21 +-
 .../drill/exec/rpc/data/DataClientConnection.java  |  16 +-
 .../drill/exec/rpc/data/DataConnectionCreator.java |   5 +-
 .../apache/drill/exec/rpc/data/DataRpcMetrics.java |  85 ++++
 .../org/apache/drill/exec/rpc/data/DataServer.java |   8 +-
 .../drill/exec/rpc/data/DataServerConnection.java  |   9 +
 .../security/AuthenticationOutcomeListener.java    | 104 +++-
 .../rpc/security/AuthenticatorProviderImpl.java    |   1 -
 .../rpc/security/ClientAuthenticatorProvider.java  |   2 +-
 .../drill/exec/rpc/security/SaslProperties.java    |  70 +++
 .../rpc/security/ServerAuthenticationHandler.java  |  96 +++-
 .../rpc/security/kerberos/KerberosFactory.java     |  24 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |  80 ++-
 .../drill/exec/rpc/user/UserConnectionConfig.java  |  39 +-
 .../apache/drill/exec/rpc/user/UserRpcMetrics.java |  84 ++++
 .../org/apache/drill/exec/rpc/user/UserServer.java |  38 +-
 .../user/security/UserAuthenticatorFactory.java    |   6 +
 .../apache/drill/exec/server/rest/DrillRoot.java   |  21 +-
 .../apache/drill/exec/service/ServiceEngine.java   |  50 +-
 .../java-exec/src/main/resources/drill-module.conf |   8 +
 exec/java-exec/src/main/resources/rest/index.ftl   |  21 +
 .../drill/exec/rpc/data/TestBitBitKerberos.java    | 326 ++++++------
 .../org/apache/drill/exec/rpc/data/TestBitRpc.java |  18 +-
 .../drill/exec/rpc/security/KerberosHelper.java    | 150 ++++++
 .../rpc/user/security/TestUserBitKerberos.java     | 163 ++----
 .../security/TestUserBitKerberosEncryption.java    | 539 ++++++++++++++++++++
 .../drill/exec/rpc/AbstractRemoteConnection.java   | 108 +++-
 .../org/apache/drill/exec/rpc/BasicClient.java     |  15 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |  16 +-
 .../drill/exec/rpc/ChunkCreationHandler.java       |  99 ++++
 .../apache/drill/exec/rpc/ClientConnection.java    |   5 +-
 .../apache/drill/exec/rpc/EncryptionContext.java   |  37 ++
 .../drill/exec/rpc/EncryptionContextImpl.java      |  95 ++++
 .../apache/drill/exec/rpc/RemoteConnection.java    |   2 +
 .../org/apache/drill/exec/rpc/RpcConstants.java    |  27 +-
 .../java/org/apache/drill/exec/rpc/RpcEncoder.java |   2 +-
 .../java/org/apache/drill/exec/rpc/RpcMetrics.java |  29 ++
 .../java/org/apache/drill/exec/rpc/SaslCodec.java  |  34 ++
 .../drill/exec/rpc/SaslDecryptionHandler.java      | 160 ++++++
 .../drill/exec/rpc/SaslEncryptionHandler.java      | 177 +++++++
 .../apache/drill/exec/rpc/ServerConnection.java    |   4 +-
 pom.xml                                            |   2 +
 protocol/readme.txt                                |  16 +-
 .../apache/drill/exec/proto/SchemaUserProtos.java  |  14 +
 .../org/apache/drill/exec/proto/UserProtos.java    | 547 ++++++++++++++-------
 .../drill/exec/proto/beans/BitToUserHandshake.java |  44 ++
 .../apache/drill/exec/proto/beans/SaslSupport.java |   4 +-
 protocol/src/main/protobuf/User.proto              |   3 +
 61 files changed, 3122 insertions(+), 673 deletions(-)

commit 416ec70a616e8d12b5c7fca809763b977d2f7aad
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu May 18 10:55:48 2017 +0000

    DRILL-5523: Revert if condition in UnionAllRecordBatch changed in DRILL-5419
    
    close apache/drill#842

 .../physical/impl/union/UnionAllRecordBatch.java    | 12 +++++++++++-
 .../exec/vector/complex/writer/TestJsonReader.java  | 21 ++++++++++++++++++++-
 2 files changed, 31 insertions(+), 2 deletions(-)

commit f21edb057efd83989d7462910541e528a8779b79
Author: Paul Rogers <progers@maprtech.com>
Date:   Wed May 10 16:17:24 2017 -0700

    DRILL-5498: Better handling of CSV column headers
    
    See DRILL-5498 for details.
    
    Replaced the repeated varchar reader for reading columns with a purpose
    built column parser. Implemented rules to recover from invalid column
    headers.
    
    Added missing test method
    
    Changes re code review comments
    
    Back out testing-only change
    
    close apache/drill#830

 .../text/compliant/CompliantTextRecordReader.java  |   9 +-
 .../store/easy/text/compliant/HeaderBuilder.java   | 274 +++++++++++++++++++++
 .../exec/store/easy/text/compliant/TestCsv.java    | 150 +++++++++++
 .../easy/text/compliant/TestHeaderBuilder.java     | 223 +++++++++++++++++
 .../java/org/apache/drill/test/ClusterFixture.java |  13 +-
 5 files changed, 660 insertions(+), 9 deletions(-)

commit 7f98400f949b04eb06415aeb3a3265693629371c
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon May 15 15:51:02 2017 +0000

    DRILL-5516: Limit memory usage for Hbase reader
    
    close apache/drill#839

 .../drill/exec/store/hbase/HBaseRecordReader.java  | 41 +++++++++++++++++-----
 1 file changed, 33 insertions(+), 8 deletions(-)

commit aa39c66d92ec03c90f3715df7cc4fde49d76a334
Author: Paul Rogers <progers@maprtech.com>
Date:   Fri May 12 11:01:54 2017 -0700

    DRILL-5496: Fix for failed Hive connection
    
    If the Hive server restarts, Drill either hangs or continually reports
    errors when retrieving schemas. The problem is that the Hive plugin
    tries to handle connection failures, but does not do so correctly for
    the secure connection case. The problem is complex, see DRILL-5496 for
    details.
    
    This is a workaround: we discard the entire Hive schema cache when we
    encounter an unhandled connection exception, then we rebuild a new one.
    
    This is not a proper fix; for that we'd have to restructure the code.
    
    This will, however, solve the immediate problem until we do the needed
    restructuring.

 contrib/storage-hive/core/pom.xml                  |  6 ++
 .../exec/store/hive/DrillHiveMetaStoreClient.java  | 16 ++++-
 .../drill/exec/store/hive/HiveStoragePlugin.java   | 68 +++++++++++++++++++++-
 .../exec/store/hive/schema/HiveSchemaFactory.java  | 23 ++++++--
 contrib/storage-hive/hive-exec-shade/pom.xml       |  1 -
 .../org/apache/drill/exec/store/SchemaFactory.java |  4 +-
 6 files changed, 104 insertions(+), 14 deletions(-)

commit 9972669df1a78c3d4e60f93b4295ad35b43207f0
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Fri May 12 18:21:10 2017 +0000

    DRILL-5399: Fix race condition in DrillComplexWriterFuncHolder

 .../apache/drill/exec/expr/fn/HiveFuncHolder.java  | 17 +++-----
 .../drill/exec/expr/DrillFuncHolderExpr.java       | 10 +----
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  2 +-
 .../drill/exec/expr/fn/AbstractFuncHolder.java     | 25 +++++++++++-
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     | 22 ++++++-----
 .../exec/expr/fn/DrillComplexWriterFuncHolder.java | 45 ++++++++++------------
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java | 11 ------
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  | 17 ++++----
 .../physical/impl/flatten/FlattenRecordBatch.java  |  5 +--
 .../physical/impl/project/ProjectRecordBatch.java  | 19 +++++----
 .../expression/FunctionHolderExpression.java       | 20 +++++++++-
 11 files changed, 104 insertions(+), 89 deletions(-)

commit 2988f716f9a43d93dd3968b5c22a24a76bbd708e
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Tue May 16 09:53:08 2017 +0000

    DRILL-3250: Drill fails to compare multi-byte characters from hive table - A small refactoring of original fix of this issue (DRILL-4039); - Added test for the fix.

 .../exec/store/hive/schema/DrillHiveTable.java     | 13 ++++++-----
 .../apache/drill/exec/hive/TestHiveStorage.java    | 25 ++++++++++++++++++++++
 .../planner/sql/handlers/DescribeTableHandler.java | 10 ++++-----
 .../planner/sql/handlers/ShowTablesHandler.java    |  7 +++---
 4 files changed, 40 insertions(+), 15 deletions(-)

commit 0dc237e3161cf284212cc63f740b229d4fee8fdf
Author: Jinfeng Ni <jni@apache.org>
Date:   Fri Apr 21 17:34:15 2017 -0700

    DRILL-5459: Extend physical operator test framework to test mini plans consisting of multiple operators.
    
    This closes #823

 .../exec/store/hive/HiveTestDataGenerator.java     |   4 +-
 .../drill/exec/physical/base/AbstractBase.java     |   9 +-
 .../org/apache/drill/exec/util/TestUtilities.java  |  51 +++
 .../java/org/apache/drill/DrillTestWrapper.java    |  35 +-
 .../org/apache/drill/exec/TestRepeatedReaders.java |   2 +-
 .../apache/drill/exec/cache/TestWriteToDisk.java   |   2 +-
 .../writer/TestCorruptParquetDateCorrection.java   |   2 +-
 .../physical/impl/writer/TestParquetWriter.java    |   2 +-
 .../impl/writer/TestParquetWriterEmptyFiles.java   |   2 +-
 .../exec/physical/impl/writer/TestWriter.java      |   2 +-
 .../physical/unit/BasicPhysicalOpUnitTest.java     |   1 +
 .../exec/physical/unit/MiniPlanUnitTestBase.java   | 442 +++++++++++++++++++++
 .../exec/physical/unit/PhysicalOpUnitTestBase.java | 117 +++---
 .../drill/exec/physical/unit/TestMiniPlan.java     | 206 ++++++++++
 .../drill/exec/store/dfs/TestDrillFileSystem.java  |   2 +-
 .../store/parquet/TestParquetFilterPushDown.java   |   2 +-
 .../apache/drill/test/rowSet/SchemaBuilder.java    |  13 +-
 17 files changed, 821 insertions(+), 73 deletions(-)

commit cb9547a67ada2f848b145b4611c463cd25154295
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Apr 27 11:44:18 2017 +0000

    DRILL-5450: Fix initcap function to convert upper case characters correctly
    
    This closes #821

 .../exec/expr/fn/impl/StringFunctionHelpers.java   | 51 +++++-------
 .../drill/exec/expr/fn/impl/StringFunctions.java   | 16 +---
 .../exec/expr/fn/impl/TestStringFunctions.java     | 93 +++++++++++++++++++++-
 3 files changed, 112 insertions(+), 48 deletions(-)

commit 27c5f4583a3440d17f483affe6bf0a3e5c0b2c68
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Tue Apr 11 16:34:14 2017 -0700

    DRILL-5429: Improve query performance for MapR DB JSON Tables Cache and reuse table and tabletInfo per query instead of fetching them multiple times. Compute rowCount from tabletInfo instead of expensive tableStats call.
    
    This closes #817

 .../store/mapr/db/MapRDBPushFilterIntoScan.java    |  7 +-
 .../store/mapr/db/json/JsonTableGroupScan.java     | 74 ++++++++++++++++------
 2 files changed, 56 insertions(+), 25 deletions(-)

commit 6741e68a4724365aadf50d5fd5d6990c95f386e7
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Apr 6 13:44:26 2017 +0300

    DRILL-5419: Calculate return string length for literals & some string functions
    
    1. Revisited calculation logic for string literals and some string functions
    (cast, upper, lower, initcap, reverse, concat, concat operator, rpad, lpad, case statement,
     coalesce, first_value, last_value, lag, lead).
    Synchronized return type length calculation logic between limit 0 and regular queries.
    
    2. Deprecated width and changed it to precision for string types in MajorType.
    
    3. Revisited FunctionScope and splitted it into FunctionScope and ReturnType.
    FunctionScope will indicate only function usage in term of number of in / out rows, (n -> 1, 1 -> 1, 1->n).
    New annotation in UDFs ReturnType will indicate which return type strategy should be used.
    
    4. Changed MAX_VARCHAR_LENGTH from 65536 to 65535.
    
    5. Updated calculation of precision and display size for INTERVALYEAR & INTERVALDAY.
    
    6. Refactored part of function code-gen logic (ValueReference, WorkspaceReference, FunctionAttributes, DrillFuncHolder).
    
    This closes #819

 .../java/org/apache/drill/common/types/Types.java  | 206 +++++++-----
 contrib/native/client/src/clientlib/fieldmeta.cpp  |  10 +-
 .../drill/exec/store/hive/HiveUtilities.java       |  20 +-
 .../apache/drill/exec/hive/TestHiveStorage.java    |  41 ++-
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |   5 +-
 .../main/codegen/templates/CastDateVarChar.java    |   9 +-
 .../CastFunctionsSrcVarLenTargetVarLen.java        |   7 +-
 .../templates/CastFunctionsTargetVarLen.java       |  11 +-
 .../codegen/templates/CastIntervalVarChar.java     |  19 +-
 .../codegen/templates/ConvertToNullableHolder.java |  16 +-
 .../Decimal/CastDecimalDenseDecimalSparse.java     |   7 +-
 .../templates/Decimal/CastDecimalSimilar.java      |   7 +-
 .../Decimal/CastDecimalSparseDecimalDense.java     |   7 +-
 .../templates/Decimal/CastDecimalVarchar.java      |  12 +-
 .../templates/Decimal/CastDownwardDecimal.java     |  17 +-
 .../templates/Decimal/CastFloatDecimal.java        |   7 +-
 .../codegen/templates/Decimal/CastIntDecimal.java  |   7 +-
 .../templates/Decimal/CastSrcDecimalSimple.java    |  17 +-
 .../templates/Decimal/CastVarCharDecimal.java      |  22 +-
 .../Decimal/DecimalAggrTypeFunctions1.java         |   7 +-
 .../Decimal/DecimalAggrTypeFunctions2.java         |   6 +-
 .../templates/Decimal/DecimalFunctions.java        | 253 +++++++++-----
 .../org/apache/drill/exec/expr/ClassGenerator.java |   2 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   2 +-
 .../exec/expr/ExpressionTreeMaterializer.java      |  18 +-
 .../exec/expr/annotations/FunctionTemplate.java    |  99 ++++--
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |  73 ++--
 .../drill/exec/expr/fn/DrillBooleanOPHolder.java   |  27 --
 .../exec/expr/fn/DrillComplexWriterFuncHolder.java |  10 +-
 .../exec/expr/fn/DrillDecimalAddFuncHolder.java    |  76 -----
 .../exec/expr/fn/DrillDecimalAggFuncHolder.java    |  45 ---
 .../exec/expr/fn/DrillDecimalCastFuncHolder.java   |  62 ----
 .../expr/fn/DrillDecimalDivScaleFuncHolder.java    |  72 ----
 .../expr/fn/DrillDecimalMaxScaleFuncHolder.java    |  59 ----
 .../expr/fn/DrillDecimalModScaleFuncHolder.java    |  76 -----
 .../expr/fn/DrillDecimalSetScaleFuncHolder.java    |  63 ----
 .../exec/expr/fn/DrillDecimalSumAggFuncHolder.java |  45 ---
 .../expr/fn/DrillDecimalSumScaleFuncHolder.java    |  68 ----
 .../expr/fn/DrillDecimalZeroScaleFuncHolder.java   |  58 ----
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java | 222 +++----------
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |  18 +-
 .../drill/exec/expr/fn/FunctionAttributes.java     |  53 ++-
 .../drill/exec/expr/fn/FunctionConverter.java      |  58 +---
 .../apache/drill/exec/expr/fn/FunctionUtils.java   |  48 +++
 .../apache/drill/exec/expr/fn/ValueReference.java  |  81 +++++
 .../drill/exec/expr/fn/WorkspaceReference.java     |  64 ++++
 .../drill/exec/expr/fn/impl/BitFunctions.java      |   4 +-
 .../exec/expr/fn/impl/SimpleCastFunctions.java     |   7 +-
 .../drill/exec/expr/fn/impl/StringFunctions.java   |  66 +++-
 .../expr/fn/output/ConcatReturnTypeInference.java  |  63 ++++
 .../expr/fn/output/DecimalReturnTypeInference.java | 369 +++++++++++++++++++++
 .../expr/fn/output/DefaultReturnTypeInference.java |  65 ++++
 .../expr/fn/output/PadReturnTypeInference.java     |  57 ++++
 .../exec/expr/fn/output/ReturnTypeInference.java   |  33 ++
 .../output/SameInOutLengthReturnTypeInference.java |  53 +++
 .../fn/output/StringCastReturnTypeInference.java   |  57 ++++
 .../physical/impl/project/ProjectRecordBatch.java  |   9 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |  42 ++-
 .../drill/exec/planner/logical/DrillOptiq.java     |  47 ++-
 .../drill/exec/planner/sql/SqlConverter.java       |   3 +-
 .../drill/exec/planner/sql/TypeInferenceUtils.java | 169 +++++++---
 .../planner/sql/handlers/FindLimit0Visitor.java    |  37 +--
 .../apache/drill/exec/store/mock/ColumnDef.java    |   5 +-
 .../work/prepare/PreparedStatementProvider.java    |   5 +-
 .../impl/limit/TestEarlyLimit0Optimization.java    |  31 +-
 .../work/prepare/PreparedStatementTestBase.java    | 131 ++++++++
 .../TestLimit0VsRegularQueriesMetadata.java        | 315 ++++++++++++++++++
 .../prepare/TestPreparedStatementProvider.java     | 127 +------
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java |   6 +-
 .../apache/drill/jdbc/PreparedStatementTest.java   |   6 +-
 .../jdbc/test/TestInformationSchemaColumns.java    |   6 +-
 .../main/codegen/templates/BasicTypeHelper.java    |  14 +-
 .../drill/exec/record/MaterializedField.java       |  42 ++-
 .../drill/common/expression/parser/ExprParser.g    |   6 +-
 .../common/expression/ExpressionStringBuilder.java |   4 +-
 .../drill/common/expression/IfExpression.java      |  28 +-
 .../drill/common/expression/ValueExpressions.java  |  15 +-
 .../org/apache/drill/common/types/TypeProtos.java  |  48 +--
 protocol/src/main/protobuf/Types.proto             |   4 +-
 79 files changed, 2408 insertions(+), 1578 deletions(-)

commit 41ffed50fbb9319b4a796555396b88de010cb10b
Author: Paul Rogers <progers@maprtech.com>
Date:   Sat Apr 8 20:52:04 2017 -0700

    DRILL-5423: Refactor ScanBatch to allow unit testing record readers
    
    Refactors ScanBatch to allow unit testing of record reader
    implementations, especially the writer classes.
    
    See JIRA for details.
    
    closes #811

 .../exec/ops/AbstractOperatorExecContext.java      |  90 ++++++++++++++++++
 .../org/apache/drill/exec/ops/OperatorContext.java |  51 ++---------
 .../apache/drill/exec/ops/OperatorContextImpl.java | 102 ++++++---------------
 .../apache/drill/exec/ops/OperatorExecContext.java |  46 ++++++++++
 .../apache/drill/exec/ops/OperatorUtilities.java   |  48 ++++++++++
 .../drill/exec/physical/impl/BaseRootExec.java     |   5 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  62 +++++++++----
 .../apache/drill/exec/memory/TestAllocators.java   |   7 +-
 .../drill/exec/record/TestRecordIterator.java      |   5 +-
 9 files changed, 280 insertions(+), 136 deletions(-)

commit 0939485db40c09525ef3efc7db21cc72f4dd327d
Author: liyun Liu <llystar@hotmail.com>
Date:   Thu May 4 12:46:58 2017 +0800

    DRILL-4039: Query fails when non-ascii characters are used in string literals
    
    closes #825

 .../java/org/apache/drill/exec/store/hive/schema/DrillHiveTable.java | 5 +++--
 .../org/apache/drill/exec/planner/sql/parser/DrillParserUtil.java    | 3 ++-
 2 files changed, 5 insertions(+), 3 deletions(-)

commit f1baec3c6a876c274229d0b323a348a051f2f5b7
Author: Paul Rogers <progers@maprtech.com>
Date:   Fri Mar 10 15:56:18 2017 -0800

    DRILL-5344: External sort priority queue copier fails with an empty batch
    
    Unit tests showed that the priority queue copier does not handle an
    empty batch. This has not been an issue because code elsewhere in the
    sort specifically works around this issue. This fix resolves the issue
    at the source to avoid the need for future work-arounds.
    
    closes #778

 .../physical/impl/xsort/managed/PriorityQueueCopierTemplate.java | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 35bccd0e6dcfdde6f9b4ae92734c82a0bd4242ec
Author: Paul Rogers <progers@maprtech.com>
Date:   Sat Mar 25 19:51:43 2017 -0700

    DRILL-5385: Vector serializer fails to read saved SV2
    
    Unit testing revealed that the VectorAccessorSerializable class claims
    to serialize SV2s, but, in fact, does not. Actually, it writes them,
    but does not read them, resulting in corrupted data on read.
    
    Fortunately, no code appears to serialize sv2s at present. Still, it is
    a bug and needs to be fixed.
    
    First task is to add serialization code for the sv2.
    
    That revealed that the recently-added code to save DrillBufs using a
    shared buffer had a bug: it relied on the writer index to know how much
    data is in the buffer. Turns out sv2 buffers dont set this index. So,
    new versions of the write function takes a write length.
    
    Then, closer inspection of the read code revealed duplicated code. So,
    DrillBuf allocation moved into a version of the read function that now
    does reading and DrillBuf allocation.
    
    Turns out that value vectors, but not SV2s, can be built from a
    Drillbuf. Added a matching constructor to the SV2 class.
    
    Finally, cleaned up the code a bit to make it easier to follow. Also
    allowed test code to access the handy timer already present in the code.
    
    closes #800

 .../drill/exec/cache/CachedVectorContainer.java    |  3 -
 .../exec/cache/VectorAccessibleSerializable.java   | 97 +++++++++++-----------
 .../exec/record/selection/SelectionVector2.java    |  6 ++
 .../apache/drill/exec/memory/BaseAllocator.java    | 56 +++++++++----
 .../apache/drill/exec/memory/BufferAllocator.java  | 36 +++++++-
 5 files changed, 127 insertions(+), 71 deletions(-)

commit e1bc44c178dc1e05967834337033dd0430800630
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue Apr 11 14:42:57 2017 -0700

    DRILL-5428: submit_plan fails after Drill 1.8 script revisions
    
    When the other scripts were updated, submit_plan was not corrected.
    After Drill 1.8, drill-config.sh consumes all command line arguments,
    finds the config and site options, removes them, and places the rest
    in the new args array.
    
    This PR updates submit_plan to use the new args array.
    
    The fix was tested on a test cluster: we verified that a physical plan
    was submitted and ran.
    
    closes #816

 distribution/src/resources/submit_plan | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1e0a14cc945bb3f6d7a2e47100eabf049a3a6be8
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Apr 26 13:27:19 2017 +0000

    DRILL-5391: CTAS: make folder and file permission configurable
    
    close #820

 .../java/org/apache/drill/exec/ExecConstants.java  |  3 +
 .../planner/sql/handlers/CreateTableHandler.java   |  3 +-
 .../exec/server/options/SystemOptionManager.java   |  3 +-
 .../apache/drill/exec/store/AbstractSchema.java    |  2 +-
 .../apache/drill/exec/store/StorageStrategy.java   | 69 ++++++++++++-----
 .../exec/store/easy/json/JsonRecordWriter.java     |  2 +-
 .../exec/store/parquet/ParquetRecordWriter.java    |  2 +-
 .../exec/store/text/DrillTextRecordWriter.java     |  2 +-
 .../java/org/apache/drill/exec/sql/TestCTAS.java   | 28 ++++++-
 .../drill/exec/store/StorageStrategyTest.java      | 90 ++++++++++++----------
 10 files changed, 138 insertions(+), 66 deletions(-)

commit 3e8b01d5b0d3013e3811913f0fd6028b22c1ac3f
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue Mar 14 16:18:24 2017 -0700

    DRILL-5318: Sub-operator test fixture
    
    This commit depends on:
    
    * DRILL-5323
    
    This PR cannot be accepted (or built) until the above are pulled and
    this PR is rebased on top of them. The PR is issued now so that reviews
    can be done in parallel.
    
    Provides the following:
    
    * A new OperatorFixture to set up all the objects needed to test at the
    sub-operator level. This relies on the refactoring to create the
    required interfaces.
    * Pulls the config builder code out of the cluster fixture builder so
    that configs can be build for sub-operator tests.
    * Modifies the QueryBuilder test tool to run a query and get back one
    of the new row set objects to allow direct inspection of data returned
    from a query.
    * Modifies the cluster fixture to create a JDBC connection to the test
    cluster. (Use requires putting the Drill JDBC project on the test class
    path since exec does not depend on JDBC.)
    
    Created a common subclass for the cluster and operator fixtures to
    abstract out the allocator and config. Also provides temp directory
    support to the operator fixture.
    
    Merged with DRILL-5415 (Improve Fixture Builder to configure client
    properties)
    
    Moved row set tests here from DRILL-5323 so that DRILL-5323 is self
    contained. (The tests depend on the fixtures defined here.)
    
    Added comments where needed.
    
    Puts code back as it was prior to a code review comment. The code is
    redundant, but necessarily so due to code which is specific to several
    primitive types.
    
    closes #788

 .../drill/exec/memory/RootAllocatorFactory.java    |  11 +-
 .../org/apache/drill/exec/record/BatchSchema.java  |   2 +-
 .../drill/exec/record/RecordBatchLoader.java       |  15 +-
 .../exec/record/selection/SelectionVector2.java    |  21 +-
 .../java/org/apache/drill/test/BaseFixture.java    |  61 ++++
 .../java/org/apache/drill/test/ClientFixture.java  |  45 ++-
 .../java/org/apache/drill/test/ClusterFixture.java | 114 +++---
 .../java/org/apache/drill/test/ConfigBuilder.java  | 153 ++++++++
 .../java/org/apache/drill/test/FixtureBuilder.java |  31 +-
 .../org/apache/drill/test/OperatorFixture.java     | 331 +++++++++++++++++
 .../java/org/apache/drill/test/QueryBuilder.java   | 118 ++++++
 .../apache/drill/test/rowSet/HyperRowSetImpl.java  |   3 +
 .../apache/drill/test/rowSet/RowSetBuilder.java    |   1 +
 .../apache/drill/test/rowSet/test/RowSetTest.java  | 400 +++++++++++++++++++++
 .../drill/test/rowSet/test/package-info.java       |  21 ++
 15 files changed, 1205 insertions(+), 122 deletions(-)

commit 095a660b337e3fbdd09c13e220a545617aaf922c
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue Mar 14 16:18:24 2017 -0700

    DRILL-5323: Test tools for row sets
    
    Provide test tools to create, populate and compare row sets
    
    To simplify tests, we need a TestRowSet concept that wraps a
    VectorContainer and provides easy ways to:
    
    - Define a schema for the row set.
    - Create a set of vectors that implement the schema.
    - Populate the row set with test data via code.
    - Add an SV2 to the row set.
    - Pass the row set to operator components (such as generated code
    blocks.)
    - Examine the contents of a row set
    - Compare the results of the operation with an expected result set.
    - Dispose of the underling direct memory when work is done.
    
    This code builds on that in DRILL-5324 to provide a complete row set
    API. See DRILL-5318 for the spec.
    
    Note: this code can be reviewed as-is, but cannot be committed until
    after DRILL-5324 is committed: this code has compile-time dependencies
    on that code. This PR will be rebased once DRILL-5324 is pulled into
    master.
    
    Handles maps and intervals
    
    The row set schema is refined to provide two forms of schema. A
    physical schema shows the nested structure of the data with maps
    expanding into their contents.
    
    Updates the row set schema builder to easily build a schema with maps.
    
    An access schema shows the row flattened to include just scalar
    (non-map) columns, with all columns at a single level, with dotted
    names identifying nested fields. This form makes for very simple access.
    
    Then, provides tools for reading and writing batches with maps by
    presenting the flattened view to the row reader and writer.
    
    HyperVectors have a very complex structure for maps. The hyper row set
    implementation takes a first crack at mapping that structure into the
    standardized row set format.
    
    Also provides a handy way to set an INTERVAL column from an int. There
    is no good mapping from an int to an interval, so an arbitrary
    convention is used. This convention is not generally useful, but is
    very handy for quickly generating test data.
    
    As before, this is a partial PR. The code here still depends on
    DRILL-5324 to provide the column accessors needed by the row reader and
    writer.
    
    All this code is getting rather complex, so this commit includes a unit
    test of the schema and row set code.
    
    Revisions to support arrays
    
    Arrays require a somewhat different API. Refactored to allow arrays to
    appear as a field type.
    
    While refactoring, moved interfaces to more logical locations.
    
    Added more comments.
    
    Rejiggered the row set schema to provide both a physical and flattened
    (access) schema, both driven from the original batch schema.
    
    Pushed some accessor and writer classes into the accessor layer.
    
    Added tests for arrays.
    
    Also added more comments where needed.
    
    Moved tests to DRILL-5318
    
    The test classes previously here depend on the new operator fixture.
    To provide a non-cyclic checkin order, moved the tests to the PR with
    the fixtures so that this PR is clear of dependencies. The tests were
    reviewed in the context of DRILL-5318.
    
    Also pulls in batch sizer support for map fields which are required by
    the tests.
    
    closes #785

 .../exec/physical/impl/spill/RecordBatchSizer.java |  53 +++-
 .../org/apache/drill/exec/record/BatchSchema.java  |   5 +-
 .../exec/record/VectorAccessibleUtilities.java     |  51 ++++
 .../apache/drill/test/rowSet/AbstractRowSet.java   | 164 +++++++++++
 .../drill/test/rowSet/AbstractSingleRowSet.java    | 217 +++++++++++++++
 .../org/apache/drill/test/rowSet/DirectRowSet.java | 236 ++++++++++++++++
 .../apache/drill/test/rowSet/HyperRowSetImpl.java  | 292 ++++++++++++++++++++
 .../apache/drill/test/rowSet/IndirectRowSet.java   | 125 +++++++++
 .../java/org/apache/drill/test/rowSet/RowSet.java  | 198 ++++++++++++++
 .../apache/drill/test/rowSet/RowSetBuilder.java    |  85 ++++++
 .../apache/drill/test/rowSet/RowSetComparison.java | 244 +++++++++++++++++
 .../apache/drill/test/rowSet/RowSetPrinter.java    | 101 +++++++
 .../org/apache/drill/test/rowSet/RowSetSchema.java | 304 +++++++++++++++++++++
 .../apache/drill/test/rowSet/RowSetUtilities.java  | 106 +++++++
 .../apache/drill/test/rowSet/SchemaBuilder.java    | 142 ++++++++++
 .../org/apache/drill/test/rowSet/package-info.java |  76 ++++++
 16 files changed, 2385 insertions(+), 14 deletions(-)

commit 381eab668480062471f5bd3897a04a4b322f5d9a
Author: Paul Rogers <progers@maprtech.com>
Date:   Fri Mar 10 23:03:23 2017 -0800

    Test-specific column accessor implementation. Provides a simplified, unified set of access methods for value vectors specifically for wrting simple, compact unit test code.
    
    * Interfaces for column readers and writers
    * Interfaces for tuple (row and map) readers and writers
    * Generated implementations
    * Base implementation used by the generated code
    * Factory class to create the proper reader or writer given a major
    type (type and cardinality)
    * Utilities for generic access, type conversions, etc.
    
    Many vector types can be mapped to an int for get and set. One key
    exception are the decimal types: decimals, by definition, require a
    different representation. In Java, that is `BigDecimal`. Added get, set
    and setSafe accessors as required for each decimal type that uses
    `BigDecimal` to hold data.
    
    The generated code builds on the `valueVectorTypes.tdd` file, adding
    additional properties needed to generate the accessors.
    
    The PR also includes a number of code cleanups done while reviewing
    existing code. In particular `DecimalUtility` was very roughly
    formatted and thus hard to follow.
    
    Supports Drills interval types (INTERVAL, INTERVALDAY,
    INTERVALYEAR) in the form of the Joda interval class.
    
    Adds support for Map vectors. Maps are treated as nested tuples and are
    expanded out to create a flattened row in the schema. The accessors
    then access rows using the flattened column index or the combined name
    (a.b).
    
    Supports arrays via a writer interface that appends values as written,
    and an indexed, random-access reader interface.
    
    Removed HTTP log parser from JDBC jar to keep the JDBC jar from getting
    too big.
    
    close apache/drill#783

 exec/jdbc-all/pom.xml                              |   4 +
 .../src/main/codegen/data/ValueVectorTypes.tdd     |  61 +-
 exec/vector/src/main/codegen/includes/license.ftl  |   5 +-
 .../src/main/codegen/includes/vv_imports.ftl       |  24 +-
 .../codegen/templates/AbstractFieldReader.java     |  34 +-
 .../main/codegen/templates/ColumnAccessors.java    | 331 +++++++++
 .../main/codegen/templates/FixedValueVectors.java  | 301 ++++----
 .../codegen/templates/NullableValueVectors.java    |  40 +-
 .../codegen/templates/RepeatedValueVectors.java    |  40 +-
 .../codegen/templates/VariableLengthVectors.java   |   2 +-
 .../drill/exec/record/MaterializedField.java       |  59 +-
 .../org/apache/drill/exec/util/DecimalUtility.java | 803 +++++++++++----------
 .../apache/drill/exec/vector/BaseValueVector.java  |   2 -
 .../exec/vector/accessor/AccessorUtilities.java    | 125 ++++
 .../drill/exec/vector/accessor/ArrayReader.java    |  52 ++
 .../drill/exec/vector/accessor/ArrayWriter.java    |  42 ++
 .../drill/exec/vector/accessor/ColumnAccessor.java |  40 +
 .../drill/exec/vector/accessor/ColumnReader.java   |  63 ++
 .../drill/exec/vector/accessor/ColumnWriter.java   |  45 ++
 .../drill/exec/vector/accessor/ScalarWriter.java   |  37 +
 .../drill/exec/vector/accessor/TupleAccessor.java  |  59 ++
 .../drill/exec/vector/accessor/TupleReader.java    |  33 +
 .../drill/exec/vector/accessor/TupleWriter.java    |  34 +
 .../vector/accessor/impl/AbstractArrayReader.java  | 128 ++++
 .../vector/accessor/impl/AbstractArrayWriter.java  | 127 ++++
 .../accessor/impl/AbstractColumnAccessor.java      |  43 ++
 .../vector/accessor/impl/AbstractColumnReader.java |  98 +++
 .../vector/accessor/impl/AbstractColumnWriter.java |  87 +++
 .../accessor/impl/AbstractTupleAccessor.java       |  38 +
 .../accessor/impl/ColumnAccessorFactory.java       | 122 ++++
 .../exec/vector/accessor/impl/TupleReaderImpl.java | 108 +++
 .../exec/vector/accessor/impl/TupleWriterImpl.java | 162 +++++
 .../exec/vector/accessor/impl/package-info.java    |  27 +
 .../drill/exec/vector/accessor/package-info.java   | 127 ++++
 .../vector/complex/BaseRepeatedValueVector.java    |   4 +
 .../exec/vector/complex/RepeatedMapVector.java     |   1 -
 36 files changed, 2631 insertions(+), 677 deletions(-)

commit 72903d01424139057d4309ce6655e0aecee2573e
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   Mon Apr 10 13:16:52 2017 +0000

    DRILL-5424: Fix IOBE for reverse function
    
    close apache/drill#815

 .../drill/exec/expr/fn/impl/StringFunctions.java   | 20 ++++++------
 .../exec/expr/fn/impl/TestStringFunctions.java     | 37 +++++++++++++++++++++-
 2 files changed, 46 insertions(+), 11 deletions(-)

commit 3b71cbdbe74f1c5462f488524427888ceadb3392
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Wed Apr 5 11:04:58 2017 -0700

    DRILL-5415: Improve Fixture Builder to configure client properties and keep collection type properties for server
    
    Updated with review feedback
    
    close apache/drill#807

 .../java/org/apache/drill/test/ClientFixture.java  |  1 +
 .../java/org/apache/drill/test/ClusterFixture.java | 47 +++++++++++++++++++---
 .../java/org/apache/drill/test/FixtureBuilder.java | 19 ++++++++-
 3 files changed, 60 insertions(+), 7 deletions(-)

commit df81e5677e2d64b8bf977580e3539c0637431335
Author: Patrick Wong <pwong@maprtech.com>
Date:   Mon Apr 10 15:45:14 2017 -0700

    DRILL-5409 - update MapR version to 5.2.1
    
    close apache/drill#813

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dfb5f4bb5ac771ea64431b8482141ded02d8d859
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Apr 10 18:54:21 2017 +0000

    DRILL-5213: Prepared statement for actual query is missing the query text
    
    close apache/drill#812

 .../exec/server/rest/profile/ProfileResources.java |  4 +++-
 .../apache/drill/exec/work/foreman/Foreman.java    | 15 +++++++++++----
 .../drill/exec/work/foreman/QueryManager.java      | 22 +++++++++++++++-------
 3 files changed, 29 insertions(+), 12 deletions(-)

commit 9df3403a05856ec563af4f096a604ac2039f51ee
Author: Paul Rogers <progers@maprtech.com>
Date:   Sat Mar 18 19:52:52 2017 -0700

    DRILL-5319: Refactor "contexts" for unit testing closes #787
    
    This PR is purely a refactoring: no functionality is added or changed.
    The refactoring splits various context and related classes into a set
    of new interfaces with needed for operator-level unit tests. The other,
    Drillbit-related methods are left in the original interfaces. Most code
    need not change.
    
    The changes here allow operator-level unit tests to mock up the
    exec-time methods so we can use them without firing up a Drillbit (or
    using mocking libraries).
    
    A later PR will provide the sub-operator test framework that uses this
    refactoring.
    
    Changes include:
    
    * The OptionManager is split, with read-only methods moving to a new
    OptionSet interface.
    * The FragmentContext is split, with an exec-only FragmentExecContext
    proving low-level methods.
    * OperatorStats is split, with a new OperatorStatReceiver class
    providing write-only support to operators.
    * Several places that accepted an OperatorContext or FragmentContext,
    but needed only an allocator, are changed to accept the allocator
    directly.
    
    Includes fixes for code review comments
    
    Adds more comments. Postpones the suggested rename until all affected
    code is in master, else it will be difficult to synchronize the rename
    across multiple branches.

 .../apache/drill/exec/compile/ClassBuilder.java    |  11 +-
 .../drill/exec/compile/ClassCompilerSelector.java  |   6 +-
 .../drill/exec/compile/ClassTransformer.java       |   6 +-
 .../apache/drill/exec/compile/CodeCompiler.java    |   5 +-
 .../drill/exec/compile/QueryClassLoader.java       |   4 +-
 .../org/apache/drill/exec/expr/ClassGenerator.java |   6 +-
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  14 +-
 .../expr/fn/FunctionImplementationRegistry.java    |  12 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  16 ++-
 .../apache/drill/exec/ops/FragmentExecContext.java | 131 ++++++++++++++++++
 .../org/apache/drill/exec/ops/OperExecContext.java |  90 +++++++++++++
 .../apache/drill/exec/ops/OperExecContextImpl.java | 146 +++++++++++++++++++++
 .../drill/exec/ops/OperatorStatReceiver.java       |  70 ++++++++++
 .../org/apache/drill/exec/ops/OperatorStats.java   |  15 ++-
 .../physical/impl/flatten/FlattenTemplate.java     |   2 +-
 .../physical/impl/xsort/SingleBatchSorter.java     |   7 +-
 .../impl/xsort/SingleBatchSorterTemplate.java      |   6 +-
 .../drill/exec/record/AbstractRecordBatch.java     |   2 +-
 .../org/apache/drill/exec/record/SchemaUtil.java   |  21 +--
 .../apache/drill/exec/record/VectorContainer.java  |  53 +++++---
 .../exec/rpc/user/InboundImpersonationManager.java |   6 +-
 .../exec/server/options/BaseOptionManager.java     |   7 +-
 .../exec/server/options/FallbackOptionManager.java |   4 +-
 .../drill/exec/server/options/OptionManager.java   |  48 +------
 .../drill/exec/server/options/OptionSet.java       |  71 ++++++++++
 .../drill/exec/server/options/OptionValidator.java |   2 +-
 .../drill/exec/server/options/OptionValue.java     |   6 +-
 .../exec/server/options/SystemOptionManager.java   |   2 +-
 .../drill/exec/server/options/TypeValidators.java  |  24 ++--
 .../drill/exec/testing/ExecutionControls.java      |   5 +-
 30 files changed, 649 insertions(+), 149 deletions(-)

commit 1507f9cb640633313df4083c5649e131f6920a5a
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Fri Apr 7 08:59:50 2017 -0700

    DRILL-5387: Ignore TestBitBitKerberos and TestUserBitKerberos closes #810

 .../test/java/org/apache/drill/exec/rpc/data/TestBitBitKerberos.java    | 2 ++
 .../org/apache/drill/exec/rpc/user/security/TestUserBitKerberos.java    | 2 ++
 2 files changed, 4 insertions(+)

commit 99eba727fe2a38d3bf15dd5c3fc390adfdabd1bb
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Tue Mar 28 15:08:54 2017 -0700

    DRILL-5395: Query on MapR-DB table fails with NPE due to an issue with assignment logic closes #803

 .../main/java/org/apache/drill/exec/store/mapr/db/MapRDBGroupScan.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 25b213cd39ec192bebd043770a8131c410699421
Author: Paul Rogers <progers@maprtech.com>
Date:   Sat Mar 25 18:27:40 2017 -0700

    DRILL-5234: External sort's spilling functionality does not work when the spilled columns contains a map type column closes #799

 .../main/java/org/apache/drill/exec/vector/complex/MapVector.java    | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 163a0c4e83d1500c27eb5d59d320f91e07961a0f
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue Mar 14 15:07:41 2017 -0700

    DRILL-5355: Misc. code cleanup closes #784

 .../apache/drill/exec/physical/impl/ScanBatch.java |   6 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |   2 +
 .../physical/impl/project/ProjectorTemplate.java   |   3 +-
 .../physical/visitor/PrelVisualizerVisitor.java    | 228 +++++++++++++++++++++
 .../drill/exec/rpc/control/ControllerImpl.java     |   1 +
 .../apache/drill/exec/server/BootStrapContext.java |   9 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |   3 +-
 .../apache/drill/exec/store/dfs/MagicString.java   |   7 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   1 +
 .../exec/store/easy/json/JSONFormatPlugin.java     |   3 -
 .../exec/store/easy/json/JSONRecordReader.java     |   1 +
 .../text/compliant/CompliantTextRecordReader.java  |   2 +-
 .../easy/text/compliant/RepeatedVarCharOutput.java |   4 +
 .../exec/store/sys/store/LocalPersistentStore.java |   3 +
 .../org/apache/drill/exec/util/TestUtilities.java  |   2 +-
 .../drill/exec/vector/complex/fn/JsonReader.java   |   2 +
 .../vector/complex/impl/VectorContainerWriter.java |   1 +
 .../drill/exec/work/fragment/FragmentExecutor.java |   2 +
 .../test/java/org/apache/drill/PlanningBase.java   |   4 +-
 .../drill/exec/DrillSeparatePlanningTest.java      |   5 +
 .../physical/unit/BasicPhysicalOpUnitTest.java     |  15 +-
 .../drill/exec/rpc/data/TestBitBitKerberos.java    |   9 +
 .../drill/common/expression/FieldReference.java    |  13 +-
 .../drill/common/expression/LogicalExpression.java |   4 +-
 24 files changed, 299 insertions(+), 31 deletions(-)

commit 4c1017d9a20309a9ab4b6decbdbfa5cb33485ea0
Author: Rob Wu <robwu15@gmail.com>
Date:   Mon Mar 6 14:56:14 2017 -0800

    DRILL-5315: Address small typo in the comment in drillClient.hpp closes #771

 contrib/native/client/src/include/drill/drillClient.hpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8e19d61b07c2e2f5e197c2a255efe137398ed3bd
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Mar 22 15:07:23 2017 +0000

    DRILL-5375: Nested loop join: return correct result for left join closes #794

 .../org/apache/drill/exec/expr/BatchReference.java |  78 ++++++++
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  35 ++--
 .../exec/expr/ExpressionTreeMaterializer.java      |  88 +++++++--
 .../drill/exec/expr/ValueVectorReadExpression.java |  25 ++-
 .../exec/physical/config/NestedLoopJoinPOP.java    |  28 +--
 .../exec/physical/impl/join/NestedLoopJoin.java    |   7 +-
 .../physical/impl/join/NestedLoopJoinBatch.java    | 129 ++++++++++---
 .../physical/impl/join/NestedLoopJoinTemplate.java | 212 +++++++++++++--------
 .../apache/drill/exec/planner/PlannerPhase.java    |  14 +-
 .../exec/planner/logical/DrillConstExecutor.java   |   7 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |  56 +++++-
 .../drill/exec/planner/physical/JoinPruleBase.java |  33 +---
 .../exec/planner/physical/NestedLoopJoinPrel.java  |  49 ++---
 .../exec/planner/physical/NestedLoopJoinPrule.java |   8 +-
 .../exec/planner/physical/PlannerSettings.java     |  28 +++
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../physical/impl/join/TestNestedLoopJoin.java     |  91 +++++++--
 .../drill/exec/planner/logical/DrillOptiqTest.java |   5 +-
 18 files changed, 638 insertions(+), 256 deletions(-)

commit 06e1522b5ddf7e15d49921be1d9323f1e09273b0
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Wed Apr 5 17:59:32 2017 +0000

    DRILL-5413: DrillConnectionImpl.isReadOnly() throws NullPointerException
    
    change is in CALCITE-843.
    update drill's calcite version to 1.4.0-drill-r21
    
    close #806

 .../java/org/apache/drill/jdbc/impl/DrillConnectionImpl.java   |  5 +++--
 .../src/test/java/org/apache/drill/jdbc/ConnectionTest.java    | 10 ++++++++--
 pom.xml                                                        |  2 +-
 3 files changed, 12 insertions(+), 5 deletions(-)

commit d3718a62e2315a601615db8803cdfdcc3cedab82
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Thu Mar 16 13:45:36 2017 +0000

    DRILL-5373: Drill JDBC error in the process of connection via SQuirrel
    
     -  java.lang.NoClassDefFoundError: javax/validation/constraints/NotNull

 exec/jdbc-all/pom.xml | 9 +++++++--
 exec/jdbc/pom.xml     | 5 +++++
 2 files changed, 12 insertions(+), 2 deletions(-)

commit b17019e2c4c1d185e418c9b4ad2fec67817f7bc3
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Fri May 20 20:11:33 2016 +0000

    DRILL-3510: Add ANSI_QUOTES option so that Drill's SQL Parser will recognize ANSI_SQL identifiers
    
    - added supporing of quoting identifiers with DOUBLE_QUOTES or BRACKETS via setting new
      sys/sess EnumString option QUOTING_IDENTIFIERS;
    - added possibility of setting QUOTING_IDENTIFIERS by the jdbc connection URL string;
    - added relevant unit tests;
    
    close #520

 .../drill/common/config/DrillProperties.java       |  5 +-
 .../org/apache/drill/exec/client/DrillClient.java  |  2 +-
 .../exec/planner/physical/PlannerSettings.java     | 26 +++++++-
 .../drill/exec/planner/sql/DrillParserConfig.java  |  4 +-
 .../apache/drill/exec/rpc/user/UserSession.java    | 30 +++++++---
 .../drill/exec/server/options/OptionValidator.java | 12 +++-
 .../drill/exec/server/options/OptionValue.java     |  2 +-
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../drill/exec/server/options/TypeValidators.java  | 12 +++-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  6 +-
 .../impersonation/TestInboundImpersonation.java    | 15 +++--
 .../drill/exec/planner/sql/TestDrillSQLWorker.java | 45 +++++++++++++-
 .../apache/drill/jdbc/DrillDatabaseMetaData.java   | 16 +++--
 .../drill/jdbc/impl/DrillDatabaseMetaDataImpl.java |  6 +-
 .../org/apache/drill/jdbc/ConnectionFactory.java   |  3 +-
 .../org/apache/drill/jdbc/ConnectionInfoTest.java  | 70 ++++++++++++++++++++++
 .../apache/drill/jdbc/DatabaseMetaDataTest.java    | 11 ++--
 .../java/org/apache/drill/jdbc/JdbcTestBase.java   |  9 ++-
 .../drill/jdbc/MultiConnectionCachingFactory.java  |  4 +-
 .../drill/jdbc/SingleConnectionCachingFactory.java |  4 +-
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |  4 +-
 21 files changed, 230 insertions(+), 57 deletions(-)

commit e0121d5f953a9f4ecd71d74e97ddaa1a169a5102
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Fri Mar 17 11:41:46 2017 +0000

    DRILL-4971: Query encounters system error, when there aren't eval subexpressions of any function in boolean and/or expressions
    
    - New evaluated blocks for boolean operators should be with braces always, since they use labels.
    
    close #792

 .../org/apache/drill/exec/expr/ClassGenerator.java | 20 ++++++++++++++
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 11 +++++---
 .../test/java/org/apache/drill/TestBugFixes.java   | 31 ++++++++++++++++++++++
 3 files changed, 58 insertions(+), 4 deletions(-)

commit 4c7e3a194ca8055980420f201f8df4ea0f9e4cfc
Author: chunhui-shi <cshi@maprtech.com>
Date:   Fri Mar 24 18:40:15 2017 -0700

    DRILL-5297: when the generated plan mismatches, PlanTest print the generated plan along with expected pattern
    
    close #798

 exec/java-exec/src/test/java/org/apache/drill/PlanTestBase.java      | 4 ++--
 .../test/java/org/apache/drill/TestPlanVerificationUtilities.java    | 5 +++--
 2 files changed, 5 insertions(+), 4 deletions(-)

commit 152c87aa6cad84c8752b4a87967c7826cc90dbaa
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Fri Feb 10 17:40:25 2017 -0800

    DRILL-5351: Minimize bounds checking in var len vectors for Parquet reader
    
    close #781

 .../codegen/templates/NullableValueVectors.java    | 24 ++++++--
 .../codegen/templates/VariableLengthVectors.java   | 72 ++++++++++++++--------
 2 files changed, 65 insertions(+), 31 deletions(-)

commit 0ded1d08297cf56c8e38f98a8c1cf3708c3a584c
Author: Laurent Goujon <laurent@dremio.com>
Date:   Mon Mar 20 10:55:17 2017 -0700

    DRILL-5368: Fix memory leak issue in DrillClientImpl::processServerMetaResult
    
    Fix a small memory leak by doing local allocation instead since the
    object doesn't escape the function.
    
    close #790

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit b82177ed612edd0e33ac1d5500a7dd65953c8c1d
Author: Laurent Goujon <laurent@dremio.com>
Date:   Mon Mar 20 11:46:58 2017 -0700

    DRILL-5369: Add initializer for ServerMetaContext
    
    ServerMetaContext had no default constructor. The lack of it
    might cause m_done to be set to true, same for other variables.
    
    Add a default constructor to explicitly initialize its members.
    
    close #791

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 2 ++
 1 file changed, 2 insertions(+)

commit 70f85e57884fa129f05bec7d124d551f4938b2d9
Author: Jinfeng Ni <jni@apache.org>
Date:   Wed Mar 22 15:28:22 2017 -0700

    DRILL-5378: Put more information for schema change exception in hash join, hash agg, streaming agg and sort operator.
    
    close #801

 .../drill/exec/exception/SchemaChangeException.java     | 14 ++++++++++++++
 .../exec/physical/impl/aggregate/HashAggBatch.java      |  9 ++++++++-
 .../exec/physical/impl/aggregate/StreamingAggBatch.java |  5 ++++-
 .../drill/exec/physical/impl/join/HashJoinBatch.java    | 17 ++++++++++++++---
 .../exec/physical/impl/join/HashJoinProbeTemplate.java  |  4 +++-
 .../exec/physical/impl/xsort/ExternalSortBatch.java     |  4 +++-
 6 files changed, 46 insertions(+), 7 deletions(-)

commit e03d7f9b1ac510ccee909b42653ee9b9ca3d69b1
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Thu Mar 16 11:40:13 2017 -0700

    DRILL-5394: Optimize query planning for MapR-DB tables by caching row counts
    
    close #802

 .../exec/store/mapr/db/MapRDBPushFilterIntoScan.java |  4 +++-
 .../store/mapr/db/binary/BinaryTableGroupScan.java   | 20 ++++++++++++++++++--
 2 files changed, 21 insertions(+), 3 deletions(-)

commit 841ead40109ff8364bee640a77881a8fea94d152
Author: Serhii-Harnyk <serhii.harnyk@gmail.com>
Date:   Fri Mar 3 15:24:26 2017 +0000

    DRILL-4678: Tune metadata by generating a dispatcher at runtime
    
    main code changes are in Calcite library.
    update drill's calcite version to 1.4.0-drill-r20.
    
    close #793

 .../org/apache/drill/exec/store/jdbc/JdbcPrel.java |  5 ++-
 exec/java-exec/pom.xml                             | 10 -----
 .../exec/planner/common/DrillAggregateRelBase.java | 14 +++----
 .../exec/planner/common/DrillFilterRelBase.java    | 20 ++++-----
 .../exec/planner/common/DrillJoinRelBase.java      | 42 +++++++++----------
 .../exec/planner/common/DrillLimitRelBase.java     | 13 +++---
 .../exec/planner/common/DrillProjectRelBase.java   | 12 +++---
 .../exec/planner/common/DrillScreenRelBase.java    |  8 ++--
 .../cost/DrillDefaultRelMetadataProvider.java      |  6 +--
 .../planner/cost/DrillRelMdDistinctRowCount.java   |  9 ++--
 .../exec/planner/cost/DrillRelMdRowCount.java      | 48 +++++++++++++++++++---
 .../exec/planner/logical/DrillAggregateRel.java    | 11 +++--
 .../exec/planner/logical/DrillDirectScanRel.java   |  5 ++-
 .../drill/exec/planner/logical/DrillScanRel.java   |  7 ++--
 .../drill/exec/planner/logical/DrillUnionRel.java  |  9 ++--
 .../drill/exec/planner/logical/DrillValuesRel.java | 11 ++---
 .../planner/physical/BroadcastExchangePrel.java    | 10 ++---
 .../drill/exec/planner/physical/HashAggPrel.java   |  6 +--
 .../drill/exec/planner/physical/HashJoinPrel.java  | 13 +++---
 .../planner/physical/HashToMergeExchangePrel.java  | 14 +++----
 .../planner/physical/HashToRandomExchangePrel.java | 12 +++---
 .../drill/exec/planner/physical/JoinPruleBase.java |  4 +-
 .../drill/exec/planner/physical/MergeJoinPrel.java | 17 ++++----
 .../exec/planner/physical/NestedLoopJoinPrel.java  | 16 ++++----
 .../physical/OrderedPartitionExchangePrel.java     | 12 +++---
 .../drill/exec/planner/physical/ScanPrel.java      |  7 ++--
 .../planner/physical/SingleMergeExchangePrel.java  |  8 ++--
 .../drill/exec/planner/physical/SortPrel.java      |  8 ++--
 .../drill/exec/planner/physical/StreamAggPrel.java | 10 ++---
 .../drill/exec/planner/physical/TopNPrel.java      |  8 ++--
 .../drill/exec/planner/physical/UnionAllPrel.java  |  8 ++--
 .../exec/planner/physical/UnionDistinctPrel.java   |  8 ++--
 .../exec/planner/physical/UnionExchangePrel.java   |  8 ++--
 .../physical/explain/NumberingRelWriter.java       | 21 +++++-----
 .../physical/visitor/MemoryEstimationVisitor.java  | 13 +++---
 .../planner/sql/handlers/DefaultSqlHandler.java    | 15 +++----
 .../test/java/org/apache/drill/TestBugFixes.java   | 12 +++++-
 exec/jdbc-all/pom.xml                              | 12 ------
 exec/jdbc/pom.xml                                  |  5 ---
 pom.xml                                            |  8 +++-
 40 files changed, 255 insertions(+), 230 deletions(-)

commit adbf363d286d548b324b55aa167b333addad8441
Author: Jinfeng Ni <jni@apache.org>
Date:   Thu Mar 16 14:44:35 2017 -0700

    DRILL-5359: Fix ClassCastException when Drill pushes down filter on the output of flatten operator.
    
    - Move findItemOrFlatten as a static method in DrillRelOptUtil.
    - Exclude filter conditions if they contain item/flatten operator.
    
    close apache/drill#786

 .../drill/exec/planner/common/DrillRelOptUtil.java | 54 +++++++++++++++++++++
 .../logical/DrillPushFilterPastProjectRule.java    | 55 +++-------------------
 .../exec/store/parquet/ParquetPushDownFilter.java  | 24 +++++++++-
 .../store/parquet/TestParquetFilterPushDown.java   | 14 ++++++
 4 files changed, 98 insertions(+), 49 deletions(-)

commit a8046bee19a10e648e8633ec637f657b6fc164de
Author: Paul Rogers <progers@maprtech.com>
Date:   Mon Mar 13 20:43:25 2017 -0700

    DRILL-5352: Profile parser printing for multi fragments
    
    Enhances the recently added ProfileParser to display run times for
    queries that contain multiple fragments. (The original version handled
    just a single fragment.)
    
    Prints the query in classic mode if it is linear, or in the new
    semi-indented mode if the query forms a tree.
    
    Also cleans up formatting - removing spaces between parens.
    
    Fixes from review
    
    close apache/drill#782
    
    * Fixed process time percent.
    * Added support for getting operator profiles in a multi-fragment query.

 .../java/org/apache/drill/test/ProfileParser.java  | 478 ++++++++++++++-------
 1 file changed, 329 insertions(+), 149 deletions(-)

commit 1766ffc4960e8f7c1efc981a9302688a8c6cd427
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Fri Mar 10 14:38:30 2017 -0800

    DRILL-5349: Fix TestParquetWriter unit tests when synchronous parquet reader is used.
    
    close apache/drill#780

 .../org/apache/drill/exec/store/parquet/columnreaders/PageReader.java  | 3 +++
 1 file changed, 3 insertions(+)

commit 2f13c08f35152639e4619d2898b2ca8fe7115259
Author: Paul Rogers <progers@maprtech.com>
Date:   Fri Mar 10 11:55:13 2017 -0800

    DRILL-5330: NPE in FunctionImplementationRegistry
    
    Fixes:
    
    * DRILL-5330: NPE in
    FunctionImplementationRegistry.functionReplacement()
    * DRILL-5331:
    NPE in FunctionImplementationRegistry.findDrillFunction() if dynamic
    UDFs disabled
    
    When running in a unit test, the dynamic UDF (DUDF) mechanism is not
    available. When running in production, the DUDF mechanism is available,
    but may be disabled.
    
    One confusing aspect of this code is that the function registry
    is given the option manager, but the option manager is not yet valid
    (not yet initialized) in the function registry constructor. So, we
    cannot access the option manager in the function registry constructor.
    
    In any event, the existing system options cannot be used to disable DUDF
    support. For obscure reasons, DUDF support is always enabled, even when
    disabled by the user.
    
    Instead, for DRILL-5331, we added a config option to "really" disable DUDFS.
    The property is set only for tests, disables DUDF support.
    Note that, in the future, this option could be generalized to
    "off, read-only, on" to capture the full set of DUDF modes.
    But, for now, just turning this off is sufficient.
    
    For DRILL-5330, we use an existing option validator rather than
    accessing the raw option directly.
    
    Also includes a bit of code cleanup in the class in question.
    
    The result is that the code now works when used in a sub-operator unit
    test.
    
    close apache/drill#777

 .../java/org/apache/drill/exec/ExecConstants.java  |  3 +-
 .../exec/coord/store/TransientStoreListener.java   |  2 +-
 .../expr/fn/FunctionImplementationRegistry.java    | 82 ++++++++++++++--------
 .../java-exec/src/main/resources/drill-module.conf |  3 +
 .../test/java/org/apache/drill/exec/ExecTest.java  |  2 +-
 .../exec/physical/impl/TestSimpleFunctions.java    |  4 +-
 6 files changed, 60 insertions(+), 36 deletions(-)

commit 90bc80052f66874cf9eaf8b8bc93f28f703b5506
Author: Rob Wu <robwu15@gmail.com>
Date:   Mon Mar 6 18:17:25 2017 -0800

    DRILL-5316: Check drillbits size before we attempt to access the vector element
    
    close apache/drill#772

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 6 ++++++
 1 file changed, 6 insertions(+)

commit 97e2a1d1d79ae963e8e67067241398580fee7e14
Author: Laurent Goujon <laurent@dremio.com>
Date:   Thu Mar 2 20:38:05 2017 -0800

    DRILL-5311: Check handshake result in C++ connector
    
    In C++ client connector, DrillClientImpl::recvHandshake always
    return success, even in case of connection error (like a tcp
    timeout issue). Only on WIN32 platform would the error code be
    checked.
    
    Remove the restriction to only check on WIN32, plus add some logging.
    
    close apache/drill#770

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 8656c83b00f8ab09fb6817e4e9943b2211772541
Author: Paul Rogers <progers@maprtech.com>
Date:   Thu Mar 2 16:09:01 2017 -0800

    DRILL-5226: Managed external sort fixes
    
    * Memory leak in managed sort if OOM during sv2 allocation
    * "Record batch sizer" does not include overhead for variable-sized
    vectors
    * Paranoid double-checking of merge batch sizes to prevent OOM when the
    sizes differ from expectations
    * Revised logging
    
    Addresses review comments
    
    close apache/drill#767

 .../exec/physical/impl/spill/RecordBatchSizer.java | 32 +++++-----
 .../physical/impl/xsort/managed/BatchGroup.java    |  9 ++-
 .../physical/impl/xsort/managed/CopierHolder.java  | 17 +++++-
 .../impl/xsort/managed/ExternalSortBatch.java      | 71 +++++++++++++++++-----
 .../codegen/templates/VariableLengthVectors.java   |  7 ++-
 5 files changed, 104 insertions(+), 32 deletions(-)

commit 11caa85c33735c013ec58a4cda4f62223cba54ea
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Mar 14 14:54:30 2017 -0700

    Update version to 1.11.0-SNAPSHOT

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/format-maprdb/pom.xml                | 2 +-
 contrib/gis/pom.xml                          | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 2 +-
 contrib/storage-kudu/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/memory/base/pom.xml                     | 2 +-
 exec/memory/pom.xml                          | 2 +-
 exec/pom.xml                                 | 2 +-
 exec/rpc/pom.xml                             | 2 +-
 exec/vector/pom.xml                          | 2 +-
 logical/pom.xml                              | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 tools/fmpp/pom.xml                           | 2 +-
 tools/pom.xml                                | 2 +-
 28 files changed, 28 insertions(+), 28 deletions(-)

commit b657d44feb527c8e3d83c9996c9220ec4d50aaf3
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Tue Mar 7 20:53:03 2017 +0000

    DRILL-5326: Unit tests failures related to the SERVER_METADTA
    
            - adding of the sql type name for the "GENERIC_OBJECT";
            - changing "NullCollation" in the "ServerMetaProvider" to the correct default value;
            - changing RpcType to GET_SERVER_META in the appropriate ServerMethod
    
    close #775

 common/src/main/java/org/apache/drill/common/types/Types.java           | 2 ++
 .../src/main/java/org/apache/drill/exec/client/ServerMethod.java        | 2 +-
 .../java/org/apache/drill/exec/work/metadata/ServerMetaProvider.java    | 2 +-
 .../main/java/org/apache/drill/jdbc/impl/DrillDatabaseMetaDataImpl.java | 2 +-
 4 files changed, 5 insertions(+), 3 deletions(-)

commit 3dfb497293a177164a158b246000ee8291ef258c
Author: Boaz Ben-Zvi <boazben-zvi@BBenZvi-E754-MBP13.local>
Date:   Fri Feb 24 16:48:42 2017 -0800

    DRILL-5293: Change seed for distribution hash function to differ from that of the hash table
    
    close #765

 .../apache/drill/exec/planner/physical/HashPrelUtil.java   | 14 ++++++++++----
 .../physical/visitor/InsertLocalExchangeVisitor.java       |  6 +++---
 2 files changed, 13 insertions(+), 7 deletions(-)

commit f0057e7c5e88a32408cbbdd3b475a8d192077a69
Author: Laurent Goujon <laurent@dremio.com>
Date:   Thu Mar 2 20:03:42 2017 -0800

    DRILL-5313: Fix compilation issue in C++ connector
    
    DRILL-5301 and DRILL-5167 have conflicting changes, which causes
    the C++ connector to not compile: the static symbol for the search
    escape string has been removed as the server might use a different one.
    
    Fix the issue by using the current search escape string (injected from the
    meta to the internal drill client when querying metadata).
    
    close #769

 .../client/src/clientlib/drillClientImpl.cpp       | 29 +++++++++++++---------
 .../client/src/clientlib/drillClientImpl.hpp       |  8 +++---
 contrib/native/client/src/clientlib/metadata.cpp   |  8 +++---
 3 files changed, 25 insertions(+), 20 deletions(-)

commit d96914f161e241902b0d3c204164cedc97471d12
Author: Paul Rogers <progers@maprtech.com>
Date:   Fri Feb 24 14:53:23 2017 -0800

    DRILL-5208: Finding path to java executable should be deterministic
    
    See DRILL-5208 for background. Instead of using find to locate the
    java command, we use the any information available, resorting to find
    only if the usual suspects fails. The result is that we use the JDK
    java when available, instead of randomly choosing JDK or JRE java.
    
    close #763

 distribution/src/resources/drill-config.sh | 28 +++++++++++++++++++++-------
 1 file changed, 21 insertions(+), 7 deletions(-)

commit 7ebb985edc823692673a42276b4e2a80fd1f256c
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Tue Feb 21 13:20:57 2017 -0800

    DRILL-5287: Provide option to skip updates of ephemeral state changes in Zookeeper
    
    close #758

 .../java/org/apache/drill/exec/ExecConstants.java    |  4 ++++
 .../exec/server/options/SystemOptionManager.java     |  3 ++-
 .../apache/drill/exec/work/foreman/QueryManager.java | 20 +++++++++++++++-----
 3 files changed, 21 insertions(+), 6 deletions(-)

commit 2b5a6f0b523859297f86298ef384cd146e425f72
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Wed Feb 22 10:31:01 2017 -0800

    DRILL-5290: Provide an option to build operator table once for built-in static functions and reuse it across queries.
    
    close #757

 .../java/org/apache/drill/exec/ExecConstants.java  |  4 ++++
 .../org/apache/drill/exec/ops/QueryContext.java    |  9 ++++++++-
 .../apache/drill/exec/server/DrillbitContext.java  | 23 ++++++++++++++++++++++
 .../exec/server/options/SystemOptionManager.java   |  3 ++-
 4 files changed, 37 insertions(+), 2 deletions(-)

commit 4a0fd56c106550eee26ca68eaed6108f0dbad798
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Nov 14 21:13:28 2016 +0000

    DRILL-5034: Select timestamp from hive generated parquet always return in UTC
    
    - TIMESTAMP_IMPALA function is reverted to retaine local timezone
    - TIMESTAMP_IMPALA_LOCALTIMEZONE is deleted
    - Retain local timezone for the INT96 timestamp values in the parquet files while
      PARQUET_READER_INT96_AS_TIMESTAMP option is on
    
    Minor changes according to the review
    
    Fix for the test, which relies on particular timezone
    
    close #656

 .../ConvertHiveParquetScanToDrillParquetScan.java  |  2 +-
 .../fn/impl/conv/ConvertFromImpalaTimestamp.java   | 28 +++------------------
 .../exec/store/parquet/ParquetReaderUtility.java   | 25 ++++++++++++++-----
 .../NullableFixedByteAlignedReaders.java           | 19 ++++++--------
 .../store/parquet2/DrillParquetGroupConverter.java |  2 +-
 .../test/java/org/apache/drill/TestBuilder.java    | 15 +++++++++--
 .../physical/impl/writer/TestParquetWriter.java    | 29 ++++++++++++----------
 7 files changed, 61 insertions(+), 59 deletions(-)

commit 8cded5ae124db86f42e1274762305ca04b373a51
Author: Paul Rogers <progers@maprtech.com>
Date:   Wed Feb 15 20:51:17 2017 -0800

    DRILL-5266: Parquet returns low-density batches
    
    Fixes one glaring problem related to bit/byte confusion.
    
    Includes a few clean-up items found along the way.
    
    Additional fixes from code review comments
    
    More code clean up from code review
    
    close #749

 .../store/parquet/columnreaders/ColumnReader.java  | 42 +++++++---------
 .../columnreaders/FixedWidthRepeatedReader.java    |  1 +
 .../NullableVarLengthValuesColumn.java             |  6 +--
 .../parquet/columnreaders/ParquetRecordReader.java | 40 +++++++---------
 .../parquet/columnreaders/VarLenBinaryReader.java  | 56 ++++++++++++----------
 5 files changed, 66 insertions(+), 79 deletions(-)

commit 33fc25ca2a4cd93fa40025f167f78655777ab47b
Author: jc@lifove.net <jc@lifove.net>
Date:   Fri Feb 10 21:08:00 2017 -0500

    DRILL-5252: Fix a condition that always returns true
    
    close #745

 .../src/main/java/org/apache/drill/exec/expr/EqualityVisitor.java       | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dcbcb94fd2695edd4bbca63b2759292e99695d47
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Dec 20 16:57:15 2016 +0000

    DRILL-4963: Fix issues with dynamically loaded overloaded functions
    
    close #701

 .../store/hbase/config/HBasePersistentStore.java   |  16 +-
 .../apache/drill/hbase/TestHBaseTableProvider.java |   7 +-
 .../store/mongo/config/MongoPersistentStore.java   |  14 +-
 .../src/resources/drill-override-example.conf      |   3 +-
 .../drill/exec/coord/zk/ZookeeperClient.java       |  45 +++--
 .../exec/exception/FunctionNotFoundException.java  |  27 ---
 .../expr/fn/FunctionImplementationRegistry.java    | 219 +++++++++++++--------
 .../expr/fn/registry/FunctionRegistryHolder.java   |  27 +--
 .../expr/fn/registry/LocalFunctionRegistry.java    |  31 +--
 .../expr/fn/registry/RemoteFunctionRegistry.java   |  24 ++-
 .../org/apache/drill/exec/ops/QueryContext.java    |  11 +-
 .../drill/exec/planner/sql/DrillOperatorTable.java |  29 ++-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  70 ++++---
 .../drill/exec/planner/sql/SqlConverter.java       |   9 -
 .../sql/handlers/CreateFunctionHandler.java        |   3 +-
 .../planner/sql/handlers/DropFunctionHandler.java  |   3 +-
 .../drill/exec/store/sys/BasePersistentStore.java  |   8 +-
 .../drill/exec/store/sys/PersistentStore.java      |  20 +-
 .../exec/store/sys/store/LocalPersistentStore.java | 188 ++++++++++++------
 .../store/sys/store/ZookeeperPersistentStore.java  |  18 +-
 .../exec/testing/store/NoWriteLocalStore.java      |  33 +++-
 .../org/apache/drill/TestDynamicUDFSupport.java    | 101 +++++++---
 .../drill/exec/coord/zk/TestZookeeperClient.java   |  30 ++-
 .../fn/registry/FunctionRegistryHolderTest.java    |  45 ++---
 .../record/ExpressionTreeMaterializerTest.java     |   7 +-
 .../jars/DrillUDF-overloading-1.0-sources.jar      | Bin 0 -> 3473 bytes
 .../resources/jars/DrillUDF-overloading-1.0.jar    | Bin 0 -> 5779 bytes
 27 files changed, 639 insertions(+), 349 deletions(-)

commit 79811db5aa8c7f2cdbe6f74c0a40124bea9fb1fd
Author: Paul Rogers <progers@maprtech.com>
Date:   Fri Feb 24 10:31:25 2017 -0800

    DRILL-5284: Roll-up of final fixes for managed sort
    
    See subtasks for details.
    
    * Provide detailed, accurate estimate of size consumed by a record batch
    * Managed external sort spills too often with Parquet data
    * Managed External Sort fails with OOM
    * External sort refers to the deprecated HDFS fs.default.name param
    * Config param drill.exec.sort.external.batch.size is not used
    * NPE in managed external sort while spilling to disk
    * External Sort BatchGroup leaks memory if an OOM occurs during read
    * DRILL-5294: Under certain low-memory conditions, need to force the sort to merge
    two batches to make progress, even though this is a bit more than
    comfortably fits into memory.
    
    close #761

 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +-
 .../physical/impl/sort/SortRecordBatchBuilder.java |   7 +-
 .../exec/physical/impl/spill/RecordBatchSizer.java |  97 ++-----
 .../drill/exec/physical/impl/spill/SpillSet.java   |  52 +++-
 .../drill/exec/physical/impl/xsort/BatchGroup.java |   2 +-
 .../physical/impl/xsort/managed/BatchGroup.java    |  30 +--
 .../impl/xsort/managed/ExternalSortBatch.java      | 291 +++++++++++++--------
 .../drill/exec/record/SimpleVectorWrapper.java     |  10 +
 .../main/codegen/templates/FixedValueVectors.java  | 149 +++++------
 .../codegen/templates/NullableValueVectors.java    |  30 ++-
 .../src/main/codegen/templates/UnionVector.java    |  16 ++
 .../codegen/templates/VariableLengthVectors.java   |  19 ++
 .../drill/exec/vector/BaseDataValueVector.java     |   5 +
 .../org/apache/drill/exec/vector/BitVector.java    |   6 +
 .../org/apache/drill/exec/vector/ObjectVector.java |  12 +
 .../org/apache/drill/exec/vector/ValueVector.java  |  12 +
 .../drill/exec/vector/VariableWidthVector.java     |   4 +-
 .../org/apache/drill/exec/vector/ZeroVector.java   |  10 +
 .../exec/vector/complex/AbstractMapVector.java     |  22 +-
 .../vector/complex/BaseRepeatedValueVector.java    |  12 +-
 .../drill/exec/vector/complex/ListVector.java      |  10 +
 .../exec/vector/complex/RepeatedListVector.java    |  10 +
 .../exec/vector/complex/RepeatedMapVector.java     |   5 +
 23 files changed, 525 insertions(+), 289 deletions(-)

commit 69de3a1e409bb1fb9a25e679ce1750d9f9daf238
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Mon Feb 27 18:32:24 2017 -0800

    DRILL-5304: Queries fail intermittently when there is skew in data distribution
    
    close #766

 .../fragment/SoftAffinityFragmentParallelizer.java |  2 +-
 .../exec/store/schedule/AssignmentCreator.java     | 28 ++++++++++++++--------
 2 files changed, 19 insertions(+), 11 deletions(-)

commit 974c613402604b86f9d36568b4b62c22a7a291d9
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue Feb 14 10:02:13 2017 -0800

    DRILL-5258: Access mock data definition from SQL
    
    Extends the mock data source to allow using the full power of the mock
    data source from an SQL query by referencing the JSON definition
    file. See JIRA and package-info for details.
    
    Adds a boolean data generator and a varying-length string generator.
    
    Adds mock table stats for use in the planner.
    
    Revisions based on code review comments
    
    close #752

 .../apache/drill/exec/physical/impl/ScanBatch.java |   6 +-
 .../org/apache/drill/exec/record/SchemaUtil.java   |  23 +-
 .../org/apache/drill/exec/record/TypedFieldId.java |  13 ++
 .../apache/drill/exec/record/VectorContainer.java  |   9 +-
 .../drill/exec/store/AbstractStoragePlugin.java    |  14 +-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |   3 +-
 .../apache/drill/exec/store/mock/BooleanGen.java   |  42 ++++
 .../apache/drill/exec/store/mock/ColumnDef.java    |  19 +-
 .../org/apache/drill/exec/store/mock/DateGen.java  |   2 +-
 .../exec/store/mock/ExtendedMockRecordReader.java  |  24 ++-
 .../drill/exec/store/mock/MockGroupScanPOP.java    | 232 ++++++---------------
 .../drill/exec/store/mock/MockRecordReader.java    |   4 +-
 .../exec/store/mock/MockScanBatchCreator.java      |   7 +-
 .../drill/exec/store/mock/MockStorageEngine.java   |  92 +++++---
 .../drill/exec/store/mock/MockSubScanPOP.java      |  11 +-
 .../apache/drill/exec/store/mock/MockTableDef.java | 213 +++++++++++++++++++
 .../drill/exec/store/mock/VaryingStringGen.java    |  70 +++++++
 .../apache/drill/exec/store/mock/package-info.java |  41 ++--
 .../org/apache/drill/exec/util/TestUtilities.java  |   6 +-
 .../exec/fn/interp/ExpressionInterpreterTest.java  |  15 +-
 .../exec/physical/impl/TestConvertFunctions.java   |   5 +-
 .../impl/mergereceiver/TestMergingReceiver.java    |   4 +
 .../src/test/resources/test/example-mock.json      |  16 ++
 23 files changed, 597 insertions(+), 274 deletions(-)

commit 20a374c5bfabb49f4c8b3144a5a8529d17ee03fd
Author: Laurent Goujon <laurent@dremio.com>
Date:   Tue Jan 24 18:47:47 2017 -0800

    DRILL-5221: Send cancel message as soon as possible in C++ connector
    
    In C++ connector, try to send cancel request to the server as soon as
    possible, which means when receiving the queryId or when requested by the
    user if queryId has already been received.
    
    close #733

 .../client/src/clientlib/drillClientImpl.cpp       | 48 ++++++++++++----------
 .../client/src/clientlib/drillClientImpl.hpp       |  2 +-
 2 files changed, 27 insertions(+), 23 deletions(-)

commit c81f58884e2cef279a7d60ea611b6a422a2eb56e
Author: Laurent Goujon <laurent@dremio.com>
Date:   Wed Dec 28 17:03:37 2016 -0800

    DRILL-5167: Send escape character for metadata queries
    
    Escape character was not sent when doing metadata queries, which caused
    the server to return incorrect results as the pattern is interpreted
    differently form what the user asked for.
    
    close #712

 .../client/src/clientlib/drillClientImpl.cpp       | 27 +++++++++++++---------
 1 file changed, 16 insertions(+), 11 deletions(-)

commit d3238b1b2270533285025d69b35906506212f492
Author: Laurent Goujon <laurent@dremio.com>
Date:   Sun Feb 26 10:23:59 2017 -0800

    DRILL-5301: Add C++ client support for Server metadata API
    
    Add support to the Server metadata API to the C++ client if
    available. If the API is not supported to the server, fallback
    to the previous hard-coded values.
    
    Update the querySubmitter example program to query the information.
    
    close #764

 contrib/native/client/example/querySubmitter.cpp   |   88 +-
 contrib/native/client/readme.boost                 |    2 +-
 .../client/src/clientlib/drillClientImpl.cpp       |  119 +-
 .../client/src/clientlib/drillClientImpl.hpp       |   17 +-
 contrib/native/client/src/clientlib/metadata.cpp   | 1680 ++--
 contrib/native/client/src/clientlib/metadata.hpp   |  215 +-
 .../client/src/include/drill/drillClient.hpp       |   43 +-
 contrib/native/client/src/protobuf/User.pb.cc      | 3844 +++++++-
 contrib/native/client/src/protobuf/User.pb.h       | 9971 +++++++++++++-------
 9 files changed, 11565 insertions(+), 4414 deletions(-)

commit d2e0f415c9cbaf609805708586832b6771883f53
Author: Laurent Goujon <laurent@dremio.com>
Date:   Fri Feb 24 15:41:07 2017 -0800

    DRILL-5301: Server metadata API
    
    Add a Server metadata API to the User protocol, to query server support
    of various SQL features.
    
    Add support to the client (DrillClient) to query this information.
    
    Add support to the JDBC driver to query this information, if the server supports
    the new API, or fallback to the previous behaviour (rely on Avatica defaults) otherwise.
    
    close #764

 .../org/apache/drill/exec/client/DrillClient.java  |    15 +
 .../org/apache/drill/exec/client/ServerMethod.java |     9 +-
 .../drill/exec/planner/sql/DrillParserConfig.java  |    65 +
 .../drill/exec/planner/sql/SqlConverter.java       |    53 +-
 .../apache/drill/exec/resolver/TypeCastRules.java  |    67 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |     3 +
 .../apache/drill/exec/rpc/user/UserRpcConfig.java  |     5 +-
 .../apache/drill/exec/rpc/user/UserRpcUtils.java   |    28 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |    16 +-
 .../exec/rpc/user/UserServerRequestHandler.java    |    20 +-
 .../drill/exec/work/metadata/MetadataProvider.java |     2 +-
 .../exec/work/metadata/ServerMetaProvider.java     |   168 +
 .../apache/drill/exec/work/user/UserWorker.java    |     7 +
 .../exec/work/metadata/TestServerMetaProvider.java |    48 +
 .../apache/drill/jdbc/DrillConnectionConfig.java   |     5 +-
 .../drill/jdbc/impl/DrillDatabaseMetaDataImpl.java |   456 +-
 .../apache/drill/jdbc/impl/DrillJdbc41Factory.java |     4 +-
 .../org/apache/drill/jdbc/impl/DrillMetaImpl.java  |     8 +-
 .../drill/common/expression/fn/CastFunctions.java  |     3 +-
 .../apache/drill/exec/proto/SchemaUserProtos.java  |   800 +
 .../org/apache/drill/exec/proto/UserProtos.java    | 47067 ++++++++++++-------
 .../drill/exec/proto/beans/CollateSupport.java     |    49 +
 .../drill/exec/proto/beans/ConvertSupport.java     |   199 +
 .../exec/proto/beans/CorrelationNamesSupport.java  |    51 +
 .../exec/proto/beans/DateTimeLiteralsSupport.java  |    79 +
 .../drill/exec/proto/beans/GetServerMetaResp.java  |   211 +
 .../drill/exec/proto/beans/GroupBySupport.java     |    53 +
 .../drill/exec/proto/beans/IdentifierCasing.java   |    55 +
 .../drill/exec/proto/beans/NullCollation.java      |    55 +
 .../drill/exec/proto/beans/OrderBySupport.java     |    51 +
 .../drill/exec/proto/beans/OuterJoinSupport.java   |    61 +
 .../org/apache/drill/exec/proto/beans/RpcType.java |     8 +-
 .../apache/drill/exec/proto/beans/ServerMeta.java  |  1319 +
 .../drill/exec/proto/beans/SubQuerySupport.java    |    57 +
 .../drill/exec/proto/beans/UnionSupport.java       |    51 +
 protocol/src/main/protobuf/User.proto              |   219 +-
 36 files changed, 33484 insertions(+), 17883 deletions(-)

commit 17f888d9058be2be8953cb1ea5b37297b7d2fef3
Author: Laurent Goujon <laurent@dremio.com>
Date:   Fri Nov 4 13:32:44 2016 -0700

    DRILL-4730: Update JDBC DatabaseMetaData implementation to use new Metadata APIs
    
    Update JDBC driver to use Metadata APIs instead of executing SQL queries
    
    close #613

 .../org/apache/drill/exec/ops/QueryContext.java    |  10 +-
 .../drill/exec/ops/ViewExpansionContext.java       |  22 +-
 .../org/apache/drill/exec/store/SchemaConfig.java  |  10 +-
 .../drill/exec/store/SchemaTreeProvider.java       |  14 +-
 .../apache/drill/exec/store/ischema/Records.java   |  12 +
 .../drill/exec/work/metadata/MetadataProvider.java |  39 +-
 .../apache/drill/jdbc/DrillConnectionConfig.java   |   6 +-
 .../drill/jdbc/impl/DrillConnectionImpl.java       |   8 +
 .../drill/jdbc/impl/DrillDatabaseMetaDataImpl.java |  31 +-
 .../org/apache/drill/jdbc/impl/DrillMetaImpl.java  | 663 ++++++++++++++++++++-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |  24 +-
 .../apache/drill/jdbc/impl/WrappedAccessor.java    | 448 ++++++++++++++
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java |  30 +-
 .../apache/drill/jdbc/DatabaseMetaDataTest.java    |  28 +-
 .../jdbc/LegacyDatabaseMetaDataGetColumnsTest.java |  73 +++
 .../drill/jdbc/LegacyDatabaseMetaDataTest.java     |  39 ++
 .../drill/jdbc/LegacyPreparedStatementTest.java    |   4 +-
 .../apache/drill/jdbc/test/TestJdbcMetadata.java   |   7 +
 .../drill/jdbc/test/TestLegacyJdbcMetadata.java    |  36 ++
 19 files changed, 1424 insertions(+), 80 deletions(-)

commit 16aa0810c6b5ab7466b3b7eeaf8652b765da0f89
Author: Laurent Goujon <laurent@dremio.com>
Date:   Fri Nov 4 17:36:42 2016 -0700

    DRILL-4994: Add back JDBC prepared statement for older servers
    
    When the JDBC client is connected to an older Drill server, it always
    attempted to use server-side prepared statement with no fallback.
    
    With this change, client will check server version and will fallback to the
    previous client-side prepared statement (which is still limited to only execute
    queries and does not provide metadata).
    
    close #613

 .../main/java/org/apache/drill/common/Version.java | 157 +++++
 .../java/org/apache/drill/common/TestVersion.java  | 103 +++
 contrib/native/client/src/protobuf/User.pb.cc      | 415 ++++++++----
 contrib/native/client/src/protobuf/User.pb.h       | 159 ++++-
 .../native/client/src/protobuf/UserBitShared.pb.cc | 200 ++++--
 .../native/client/src/protobuf/UserBitShared.pb.h  |  66 +-
 .../main/codegen/templates/DrillVersionInfo.java   |  44 +-
 .../org/apache/drill/exec/client/DrillClient.java  |  50 +-
 .../org/apache/drill/exec/client/ServerMethod.java | 144 ++++
 .../org/apache/drill/exec/rpc/user/UserClient.java |  45 +-
 .../apache/drill/exec/rpc/user/UserRpcConfig.java  |  18 +-
 .../apache/drill/exec/rpc/user/UserRpcUtils.java   |  16 +
 .../org/apache/drill/exec/rpc/user/UserServer.java |   3 +-
 .../apache/drill/jdbc/DrillConnectionConfig.java   |   4 +
 .../org/apache/drill/jdbc/impl/DrillCursor.java    |  11 +-
 .../drill/jdbc/impl/DrillDatabaseMetaDataImpl.java |  35 +-
 .../apache/drill/jdbc/impl/DrillJdbc41Factory.java |  26 +-
 .../jdbc/impl/DrillPreparedStatementImpl.java      |   6 +-
 .../drill/jdbc/LegacyPreparedStatementTest.java    | 130 ++++
 .../apache/drill/exec/proto/SchemaUserProtos.java  |  21 +
 .../org/apache/drill/exec/proto/UserProtos.java    | 751 +++++++++++++++++----
 .../drill/exec/proto/beans/BitToUserHandshake.java |  30 +
 .../drill/exec/proto/beans/RpcEndpointInfos.java   |  44 ++
 protocol/src/main/protobuf/User.proto              |  15 +-
 24 files changed, 2108 insertions(+), 385 deletions(-)

commit ab60855bf390e8f01369760f019ee06eecf1959e
Author: Laurent Goujon <laurent@dremio.com>
Date:   Fri Nov 4 13:31:19 2016 -0700

    DRILL-4994: Refactor DrillCursor
    
    Refactor DrillCursor to be more self-contained.

 .../drill/jdbc/impl/AvaticaDrillSqlAccessor.java   |   4 +-
 .../org/apache/drill/jdbc/impl/DrillCursor.java    | 323 +++++++++++++++++++--
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java | 302 +------------------
 3 files changed, 317 insertions(+), 312 deletions(-)

commit e2b52713d7191a9b8ce37cfafc4ece8bcc1169ca
Author: Jinfeng Ni <jni@apache.org>
Date:   Wed Mar 1 18:01:13 2017 -0800

    Bump maxsize of jdbc-all jar to accommodate the increased size of jar file due to new code.

 exec/jdbc-all/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3c3b08c5abbd4e9e11dadb8e97367db0c13b3243
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Thu Feb 23 18:47:04 2017 -0800

    DRILL-4280: CORE (user to bit authentication, C++)
    
    closes #578

 contrib/native/client/CMakeLists.txt               |   4 +
 contrib/native/client/cmakeModules/FindSASL.cmake  |  49 +++++
 contrib/native/client/example/querySubmitter.cpp   |   9 +-
 contrib/native/client/src/clientlib/CMakeLists.txt |   7 +-
 .../native/client/src/clientlib/drillClient.cpp    |  16 +-
 .../client/src/clientlib/drillClientImpl.cpp       | 201 +++++++++++++++++---
 .../client/src/clientlib/drillClientImpl.hpp       |  27 ++-
 .../client/src/clientlib/saslAuthenticatorImpl.cpp | 207 +++++++++++++++++++++
 .../client/src/clientlib/saslAuthenticatorImpl.hpp |  65 +++++++
 contrib/native/client/src/include/drill/common.hpp |   3 +
 .../client/src/include/drill/drillClient.hpp       |   4 +
 11 files changed, 552 insertions(+), 40 deletions(-)

commit f9f99e08084c0016f5a3edc74b7b86b304436284
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Mon Jan 30 18:55:16 2017 -0800

    DRILL-4280: CORE (C++ protocol)

 .../native/client/src/protobuf/BitControl.pb.cc    | 201 +++++--
 contrib/native/client/src/protobuf/BitControl.pb.h | 155 ++++-
 contrib/native/client/src/protobuf/BitData.pb.cc   |  77 ++-
 contrib/native/client/src/protobuf/BitData.pb.h    |  68 ++-
 .../native/client/src/protobuf/Coordination.pb.cc  |  85 ++-
 .../native/client/src/protobuf/Coordination.pb.h   |  87 ++-
 contrib/native/client/src/protobuf/User.pb.cc      | 196 +++++--
 contrib/native/client/src/protobuf/User.pb.h       | 133 ++++-
 .../native/client/src/protobuf/UserBitShared.pb.cc | 626 ++++++++++++++++++---
 .../native/client/src/protobuf/UserBitShared.pb.h  | 480 +++++++++++++++-
 10 files changed, 1916 insertions(+), 192 deletions(-)

commit bb9926498547168a1bfdd156b568e766ad388d81
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Thu Feb 23 19:00:54 2017 -0800

    DRILL-4280: CORE (unit tests)
    
    + Modify existing tests to use new authentication configuration
    + Add TestUserBitKerberos and TestBitBitKerberos using Apache Kerby library

 exec/java-exec/pom.xml                             |  29 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  12 +-
 .../ConnectTriesPropertyTestClusterBits.java       |   1 -
 .../apache/drill/exec/client/DrillClientTest.java  |   1 -
 .../impersonation/TestInboundImpersonation.java    |  20 +-
 .../exec/physical/impl/TestStringFunctions.java    |   2 +-
 .../drill/exec/rpc/data/TestBitBitKerberos.java    | 325 +++++++++++++++++++++
 .../exec/{server => rpc/data}/TestBitRpc.java      |  15 +-
 .../user/security/TestCustomUserAuthenticator.java |  43 ++-
 .../rpc/user/security/TestUserBitKerberos.java     | 241 +++++++++++++++
 .../drill/exec/server/TestOptionsAuthEnabled.java  |  16 +-
 .../org/apache/hadoop/security/UgiTestUtil.java    |  42 +++
 .../test/JdbcConnectTriesTestEmbeddedBits.java     |   2 +-
 pom.xml                                            |  29 ++
 14 files changed, 740 insertions(+), 38 deletions(-)

commit 5fff49813b2298c02748dc1da501980e16cab43d
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Wed Jan 25 19:05:23 2017 -0800

    DRILL-4280: CORE (web client)
    
    + Disabled web server when authentication is enabled but PLAIN mechanism
      is not configured; log a warning

 .../apache/drill/exec/server/rest/WebServer.java   | 29 +++++++++++++++-------
 1 file changed, 20 insertions(+), 9 deletions(-)

commit e2582a10bfb6475e691be326c6d0498a697e6a0f
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Wed Jan 25 19:04:33 2017 -0800

    DRILL-4280: CORE (bit to bit authentication, data)
    
    + Support authentication in DataServer and DataClient
    + Add AuthenticationCommand as an initial command after handshake
      and before the command that initiates a connection
    + Add DataConnectionConfig to encapsulate configuration
    + Add DataServerRequestHandler to encapsulate all handling of
      requests to DataServer
    
    data

 .../org/apache/drill/exec/rpc/data/DataClient.java | 145 ++++++++++++++++++---
 .../drill/exec/rpc/data/DataClientConnection.java  |  20 +--
 ...erConnection.java => DataConnectionConfig.java} |  34 +++--
 .../drill/exec/rpc/data/DataConnectionCreator.java |  39 ++----
 .../drill/exec/rpc/data/DataConnectionManager.java |  18 ++-
 .../exec/rpc/data/DataDefaultInstanceHandler.java  |   6 +-
 .../apache/drill/exec/rpc/data/DataRpcConfig.java  |   2 +
 .../org/apache/drill/exec/rpc/data/DataServer.java | 130 ++++--------------
 .../drill/exec/rpc/data/DataServerConnection.java  |  42 ++++++
 .../exec/rpc/data/DataServerRequestHandler.java    | 115 ++++++++++++++++
 .../org/apache/drill/exec/rpc/data/DataTunnel.java |   1 -
 11 files changed, 365 insertions(+), 187 deletions(-)

commit 180dd5648ab604b6396d91ba69a2f777f19bf79c
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Wed Jan 25 19:03:52 2017 -0800

    DRILL-4280: CORE (bit to bit authentication, control)
    
    + Support authentication in ControlServer and ControlClient
    + Add AuthenticationCommand as an initial command after handshake
      and before the command that initiates a connection
    + Add ControlConnectionConfig to encapsulate configuration
    + ControlMessageHandler now implements RequestHandler
    
    control

 .../java/org/apache/drill/exec/ExecConstants.java  |   1 +
 .../drill/exec/rpc/AbstractServerConnection.java   |   2 +-
 .../apache/drill/exec/rpc/BitConnectionConfig.java |  98 ++++++++++++
 .../rpc/control/ConnectionManagerRegistry.java     |  38 ++---
 .../drill/exec/rpc/control/ControlClient.java      | 165 ++++++++++++++++-----
 .../drill/exec/rpc/control/ControlConnection.java  |  80 ++++++----
 .../exec/rpc/control/ControlConnectionConfig.java  |  48 ++++++
 .../exec/rpc/control/ControlConnectionManager.java |  43 ++----
 .../drill/exec/rpc/control/ControlRpcConfig.java   |   4 +-
 .../drill/exec/rpc/control/ControlServer.java      |  63 ++++----
 .../drill/exec/rpc/control/ControlTunnel.java      |   9 +-
 .../apache/drill/exec/rpc/control/Controller.java  |   3 +-
 .../drill/exec/rpc/control/ControllerImpl.java     |  29 ++--
 .../exec/rpc/control/DefaultInstanceHandler.java   |   3 +
 .../org/apache/drill/exec/work/WorkManager.java    |   3 +-
 .../exec/work/batch/ControlMessageHandler.java     |  37 +++--
 .../exec/work/fragment/NonRootFragmentManager.java |   2 +-
 .../java-exec/src/main/resources/drill-module.conf |   3 +-
 18 files changed, 448 insertions(+), 183 deletions(-)

commit b6e59ec350c7cc7f467896abba4476cfcfc9077e
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Wed Jan 25 19:02:45 2017 -0800

    DRILL-4280: CORE (user to bit authentication, Java)
    
    + Add logic for authentication in UserClient and UserServer with
      backward compatibility in both directions
    + Add abstract extension to ServerConnection and ClientConnection
    + Add concrete extensions to abstract connections:
      BitToUserConnection and UserToBitConnection
    + Add ConnectionConfig interface with abstract and concrete
      implementations to encapsulate configuration for server-side
      connections
    + Encapsulate all requests handled by UserServer in
      UserServerRequestHandler
    
    + Clear UserSession when connection is closed either by user or
      bit
    + Add DrillProperties to encapsulate all connection properties
      used during connection time

 .../drill/common/config/DrillProperties.java       | 186 +++++++++++++
 .../org/apache/drill/exec/client/DrillClient.java  |  94 ++-----
 .../client/InvalidConnectionInfoException.java     |  30 +++
 .../drill/exec/rpc/AbstractClientConnection.java   |  63 +++++
 .../drill/exec/rpc/AbstractConnectionConfig.java   |  49 ++++
 .../drill/exec/rpc/AbstractServerConnection.java   | 124 +++++++++
 .../apache/drill/exec/rpc/ConnectionConfig.java    |  34 +++
 .../drill/exec/rpc/user/QueryResultHandler.java    |  16 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java | 281 +++++++++++++++++---
 .../drill/exec/rpc/user/UserConnectionConfig.java  |  74 ++++++
 .../apache/drill/exec/rpc/user/UserRpcConfig.java  |  10 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java | 295 +++++++++------------
 .../exec/rpc/user/UserServerRequestHandler.java    | 143 ++++++++++
 .../apache/drill/exec/rpc/user/UserSession.java    |  42 +--
 .../apache/drill/exec/service/ServiceEngine.java   |  28 +-
 .../drill/jdbc/impl/DrillConnectionImpl.java       |   2 +-
 16 files changed, 1141 insertions(+), 330 deletions(-)

commit 8a732c0827cb0bb629718622de60ce8fcf70c571
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Wed Jan 25 18:57:35 2017 -0800

    DRILL-4280: CORE (security package)
    
    + Add AuthenticatorFactory interface
    + Kerberos implementation
      + includes SaslServer and SaslClient wrappers
    + Plain implementation
      + PlainServer implements SaslServer (unavailable in Java)
        for username/password based authentication
      + retrofit user authenticator
      + add logic for backward compatibility
    
    + Add AuthenticatorProvider interface to provide authenticator
      factories, and add two implementations:
      + DrillConfig and ScanResult based AuthenticatorProviderImpl
      + Default and system property based ClientAuthenticatorProvider
    
    + FastSaslServerFactory caches SaslServer factories
    + FastSaslClientFactory caches SaslClient factories
    
    + ServerAuthenticationHandler handles authentication on server-side
    + FailingRequestHandler to fail any message received
    + AuthenticationOutcomeListener handles authentication on client-side
    
    security

 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +
 .../drill/exec/rpc/FailingRequestHandler.java      |  39 +++
 .../drill/exec/rpc/security/AuthStringUtil.java    |  60 +++++
 .../security/AuthenticationOutcomeListener.java    | 246 ++++++++++++++++++
 .../exec/rpc/security/AuthenticatorFactory.java    |  80 ++++++
 .../exec/rpc/security/AuthenticatorProvider.java   |  33 +++
 .../rpc/security/AuthenticatorProviderImpl.java    | 141 +++++++++++
 .../rpc/security/ClientAuthenticatorProvider.java  | 104 ++++++++
 .../exec/rpc/security/FastSaslClientFactory.java   | 113 +++++++++
 .../exec/rpc/security/FastSaslServerFactory.java   | 111 ++++++++
 .../rpc/security/ServerAuthenticationHandler.java  | 280 +++++++++++++++++++++
 .../rpc/security/kerberos/KerberosFactory.java     | 216 ++++++++++++++++
 .../drill/exec/rpc/security/package-info.java      |  41 +++
 .../exec/rpc/security/plain/PlainFactory.java      | 117 +++++++++
 .../drill/exec/rpc/security/plain/PlainServer.java | 146 +++++++++++
 .../java-exec/src/main/resources/drill-module.conf |  11 +-
 16 files changed, 1737 insertions(+), 4 deletions(-)

commit f445b08149163df465bc851b79d194fcc38ff2b2
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Wed Jan 25 18:52:28 2017 -0800

    DRILL-4280: HYGIENE
    
    + Do not recreate DrillConfig object in PamUserAuthenticator
    + Add new factory method to CaseInsensitiveMap
    
    + Clean documentation

 .../org/apache/drill/common/map/CaseInsensitiveMap.java  | 14 +++++++++++++-
 .../exec/rpc/user/security/PamUserAuthenticator.java     |  4 ++--
 .../exec/rpc/user/security/UserAuthenticatorFactory.java | 16 +++++++++-------
 3 files changed, 24 insertions(+), 10 deletions(-)

commit d732aad2dc59d8db12f6dc64b3a4e60b470d00f6
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Wed Jan 25 18:51:32 2017 -0800

    DRILL-4280: CORE (service login)
    
    + Support Drillbit login to KDC using Hadoop's
      UserGroupInformation library
    
    + Set hostname in BootstrapContext
    + Use process user's short name in ImpersonationUtil
    + Add KerberosUtil class

 .../java/org/apache/drill/common/KerberosUtil.java | 93 ++++++++++++++++++++
 .../apache/drill/exec/server/BootStrapContext.java | 98 +++++++++++++++++++++-
 .../org/apache/drill/exec/server/Drillbit.java     |  5 +-
 .../apache/drill/exec/service/ServiceEngine.java   | 54 ++++--------
 .../apache/drill/exec/util/ImpersonationUtil.java  |  4 +-
 5 files changed, 210 insertions(+), 44 deletions(-)

commit 0501a673697f0a968bea96fc1d4de6e18b8c2ca4
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Fri Feb 24 17:18:27 2017 -0800

    DRILL-4280: CORE (revert DRILL-3242)
    
    + DRILL-3242 aims to provide offloading request handling to a secondary thread, but this feature is disabled by default due to concurrency issues
    
    + One of the implications of the feature was to ignore exceptions that were not of UserRpcException type. But exceptions must not be ignored, they should be handled properly, specially in the context of security

 .../java/org/apache/drill/exec/rpc/RpcBus.java     | 195 ++++++---------------
 1 file changed, 54 insertions(+), 141 deletions(-)

commit d068b3e3fe7a2d050e919cf3377f4bb526e3982a
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Wed Jan 25 18:45:37 2017 -0800

    DRILL-4280: REFACTOR
    
    + Extract RemoteConnection interface, and add AbstractRemoteConnection
    + Add ServerConnection and ClientConnection interfaces
    + Add RequestHandler interface to decouple connections from how requests are handled
    + Add NonTransientRpcException
    
    + Remove unused classes and methods
    + Code style changes

 .../drill/exec/work/fragment/FragmentManager.java  |   8 -
 .../exec/work/fragment/NonRootFragmentManager.java |  16 --
 .../exec/work/fragment/RootFragmentManager.java    |  16 --
 .../drill/exec/rpc/AbstractRemoteConnection.java   | 227 +++++++++++++++++++++
 .../org/apache/drill/exec/rpc/BasicClient.java     |  88 ++++----
 .../drill/exec/rpc/BasicClientWithConnection.java  |  76 -------
 .../org/apache/drill/exec/rpc/BasicServer.java     |  63 +++---
 ...ionInfoException.java => ClientConnection.java} |  23 ++-
 .../drill/exec/rpc/NonTransientRpcException.java   |  33 +++
 .../drill/exec/rpc/ReconnectingConnection.java     |  90 +++-----
 .../apache/drill/exec/rpc/RemoteConnection.java    | 225 +++-----------------
 .../org/apache/drill/exec/rpc/RequestHandler.java  |  50 +++++
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |  37 ++--
 .../drill/exec/rpc/RpcConnectionHandler.java       |   8 +-
 .../apache/drill/exec/rpc/ServerConnection.java    |  37 ++++
 15 files changed, 513 insertions(+), 484 deletions(-)

commit e17baa846c4efba5f4e448f98f94b624a43e3834
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Wed Jan 25 18:41:15 2017 -0800

    DRILL-4280: CORE (Java protocol)
    
    + Define SaslStatus and SaslMessage messages in protocol
    + Add "authenticationMechanisms" field to all handshakes
    + Add "saslSupport field to UserToBitHandshake

 .../org/apache/drill/exec/proto/BitControl.java    |  293 ++++-
 .../java/org/apache/drill/exec/proto/BitData.java  |  229 +++-
 .../apache/drill/exec/proto/SchemaBitControl.java  |    7 +
 .../org/apache/drill/exec/proto/SchemaBitData.java |    7 +
 .../drill/exec/proto/SchemaUserBitShared.java      |  126 +++
 .../apache/drill/exec/proto/SchemaUserProtos.java  |   14 +
 .../org/apache/drill/exec/proto/UserBitShared.java | 1159 ++++++++++++++++----
 .../org/apache/drill/exec/proto/UserProtos.java    |  503 ++++++++-
 .../exec/proto/beans/BitControlHandshake.java      |   32 +
 .../drill/exec/proto/beans/BitServerHandshake.java |   32 +
 .../drill/exec/proto/beans/BitToUserHandshake.java |   32 +
 .../drill/exec/proto/beans/HandshakeStatus.java    |    4 +-
 .../org/apache/drill/exec/proto/beans/RpcType.java |    4 +-
 .../apache/drill/exec/proto/beans/SaslMessage.java |  208 ++++
 .../apache/drill/exec/proto/beans/SaslStatus.java  |   55 +
 .../apache/drill/exec/proto/beans/SaslSupport.java |   49 +
 .../drill/exec/proto/beans/UserToBitHandshake.java |   22 +
 protocol/src/main/protobuf/BitControl.proto        |    4 +
 protocol/src/main/protobuf/BitData.proto           |    4 +
 protocol/src/main/protobuf/User.proto              |   14 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   13 +
 21 files changed, 2500 insertions(+), 311 deletions(-)

commit 3efc2eca67cf53643df35a8a3c0a7663d085da57
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Wed Jan 25 18:38:53 2017 -0800

    DRILL-4280: HYGIENE
    
    + Ignore files generated by IntelliJ in RAT plugin

 pom.xml | 2 ++
 1 file changed, 2 insertions(+)

commit 8614bae5e881dadeb556206c1e2129e9b816a50c
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Fri Feb 24 17:18:40 2017 -0800

    DRILL-5195: Publish Operator and MajorFragment Stats in Profile page
    
    Improved UI
    1. Introduction of Tooltips
    2. Share of each operator as a percentages of the major fragment and of the query
      - This would help identify the most CPU intensive operators within a fragment and across the query
    3. Rows emitted by each operator
    4. For a running query, changes to 'last update' and 'last progress' now shows the elapsed time since.
    
    closes #756

 .../exec/server/rest/profile/FragmentWrapper.java  | 208 +++++++++++++++++----
 .../exec/server/rest/profile/OperatorWrapper.java  | 141 ++++++++++----
 .../exec/server/rest/profile/ProfileWrapper.java   |  42 ++++-
 .../exec/server/rest/profile/TableBuilder.java     | 120 ++++++++++--
 .../src/main/resources/rest/profile/profile.ftl    |   8 +-
 5 files changed, 420 insertions(+), 99 deletions(-)

commit 68921645401f02ff2192bb0136397f7776fec30e
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Tue Feb 21 23:06:54 2017 -0800

    DRILL-5190: Display planning and queued time for a query's profile page
    
    Modified UserSharedBit protobuf for marking planning and wait-in-queue end times. This will allow for accurately reporting the planning, queued and actual execution times of a query.
    Planning Time:
    In the absence of the planning time's end, for older profiles, the root fragment's (i.e. SCREEN operator) start time is taken as the estimated end of planning time, and as the estimated start time of the execution phase.
    QueueWait Time:
    We do not estimate the queue time if the planning end time is not available.
    Execution Time:
    We calculate the execution time based on the availability of these 2 planning time. The computation is done the following way, and reflects a decreasing level of accuracy
    1. Execution time = [end(QueueWait) - endTime(Query)]
    2. Execution time = [end(Planning) - endTime(Query)]
    3. Execution time = [start(rootFragment) - endTime(Query)] - {Estimated}
    
    closes #738

 .../exec/server/rest/profile/ProfileWrapper.java   |  86 +++++++
 .../apache/drill/exec/work/foreman/Foreman.java    |   5 +
 .../drill/exec/work/foreman/QueryManager.java      |  12 +
 .../src/main/resources/rest/profile/profile.ftl    |   3 +
 .../drill/exec/proto/SchemaUserBitShared.java      |  14 ++
 .../org/apache/drill/exec/proto/UserBitShared.java | 271 +++++++++++++++++----
 .../drill/exec/proto/beans/QueryProfile.java       |  44 ++++
 protocol/src/main/protobuf/UserBitShared.proto     |   2 +
 8 files changed, 383 insertions(+), 54 deletions(-)

commit cd8af10f70a6bab4795e24b882d277ade06d402b
Author: chunhui-shi <cshi@maprtech.com>
Date:   Fri Jan 13 17:20:46 2017 -0800

    DRILL-5196: Init MongoDB cluster when run a single test case directly through command line or IDE
    
    Other fixes include:
    + Sync mongo-java-driver versions to newer 3.2.0
    + update flapdoodle package to latest accordingly
    
    closes #741

 contrib/storage-mongo/pom.xml                      |  2 +-
 .../drill/exec/store/mongo/MongoTestBase.java      |  2 +
 .../drill/exec/store/mongo/MongoTestConstants.java |  4 ++
 .../drill/exec/store/mongo/MongoTestSuit.java      | 59 ++++++++++++++--------
 .../drill/exec/store/mongo/TestTableGenerator.java | 13 +++--
 .../src/test/resources/datatype-oid.json           |  1 +
 exec/java-exec/pom.xml                             |  2 +-
 7 files changed, 58 insertions(+), 25 deletions(-)

commit b892b997dfa0259550942f076b0afd89b27c9fdf
Author: chunhui-shi <cshi@maprtech.com>
Date:   Sun Dec 18 00:27:50 2016 -0800

    DRILL-5088: Set client's codec for toJson
    
    closes #702

 .../java/org/apache/drill/exec/store/mongo/MongoGroupScan.java    | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 5db557c66b3d3b1a01ff6a8d1c0081205c8b6ef3
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Feb 22 18:13:14 2017 +0000

    DRILL-5255: Remove default temporary workspace check at drillbit start up
    
    closes #759

 .../drill/exec/planner/sql/SchemaUtilites.java     | 90 +++++++++++++++-------
 .../planner/sql/handlers/CreateTableHandler.java   | 27 +++----
 .../planner/sql/handlers/DropTableHandler.java     |  5 +-
 .../apache/drill/exec/rpc/user/UserSession.java    | 21 +++--
 .../org/apache/drill/exec/server/Drillbit.java     | 21 -----
 .../test/java/org/apache/drill/BaseTestQuery.java  |  1 -
 .../test/java/org/apache/drill/TestDropTable.java  |  2 +-
 .../rpc/user/TemporaryTablesAutomaticDropTest.java |  6 +-
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  | 11 ++-
 9 files changed, 102 insertions(+), 82 deletions(-)

commit 456e26cf0113088a4089226bf088f49cdccf6821
Author: Paul Rogers <progers@maprtech.com>
Date:   Sun Feb 12 19:50:35 2017 -0800

    DRILL-5257: Run-time control of query profiles
    
    Adds a run-time option to save (default) or not save query profiles.
    
    Adds a run-time option to save query profiles in "debug" mode:
    that is, after returning the last client response. (Normal mode is
    to return the response before writing the profile.)
    
    Tests for normal case are normal unit tests. Tests for debug mode
    case are unit tests using the new framework that parse profiles.
    The test framework is extended to save query profiles using this
    new option.
    
    Modifies the test framework to use the new options when a test
    asks to save query profiles.
    
    closes #747

 .../java/org/apache/drill/exec/ExecConstants.java  | 18 +++++++++++
 .../exec/server/options/SystemOptionManager.java   |  4 ++-
 .../apache/drill/exec/work/foreman/Foreman.java    | 36 ++++++++++++++++++++--
 .../java/org/apache/drill/test/FixtureBuilder.java | 35 +++++++++++----------
 4 files changed, 72 insertions(+), 21 deletions(-)

commit 93bd7d0a8465064ba75ffafd72d33995e4d5348c
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Tue Feb 21 11:07:01 2017 -0800

    DRILL-5259: Allow listing a user-defined number of profiles
    
    Allow changing default number of finished queries in web UI, when starting up Drillbits.
    Option provided in drill-override.conf (default=100 ; defined in drill-module.conf)
    Alternatively, the page can be loaded dynamically for the same.
    e.g.
    https://<hostname>:8047/profiles?max=100
    
    closes #751

 .../java/org/apache/drill/exec/ExecConstants.java  |  1 +
 .../exec/server/rest/profile/ProfileResources.java | 24 ++++++++++++++++------
 .../java-exec/src/main/resources/drill-module.conf |  3 ++-
 3 files changed, 21 insertions(+), 7 deletions(-)

commit 6be287dfb7ebce6a4233b37675756b4c57346ee9
Author: Paul Rogers <progers@maprtech.com>
Date:   Fri Feb 17 17:39:20 2017 -0800

    DRILL-5260: Extend "Cluster Fixture" test framework
    
    - Config option to suppress printing of CSV and other output. (Allows
    printing for single tests, not printing when running from Maven.)
    
    - Parsing of query profiles to extract plan and run time information.
    
    - Fix bug in log fixture when enabling logging for a package.
    
    - Improved ZK support.
    
    - Set up the new CTTAS default temporary workspace for tests.
    
    - Clean up persistent storage files on disk to avoid CTTAS startup
    failures.
    
    - Provides a set of examples for how to use the cluster fixture.
    
    closes #753

 common/pom.xml                                     |   7 +-
 .../test/java/org/apache/drill/test/DrillTest.java |  37 +-
 .../apache/drill/exec/server/RemoteServiceSet.java |   8 +-
 .../provider/ZookeeperPersistentStoreProvider.java |   6 +-
 .../org/apache/drill/exec/util/TestUtilities.java  |   2 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |   9 +-
 .../java/org/apache/drill/DrillTestWrapper.java    |   2 +-
 .../test/java/org/apache/drill/QueryTestUtil.java  |   3 +
 .../test/java/org/apache/drill/TestBuilder.java    |   2 +-
 .../org/apache/drill/exec/ZookeeperHelper.java     |  36 +-
 .../java/org/apache/drill/test/ClientFixture.java  |  45 +-
 .../java/org/apache/drill/test/ClusterFixture.java | 398 +++++++++++--
 .../java/org/apache/drill/test/ExampleTest.java    | 243 ++++++++
 .../java/org/apache/drill/test/FixtureBuilder.java |  94 +++-
 .../java/org/apache/drill/test/LogFixture.java     |   4 +-
 .../java/org/apache/drill/test/ProfileParser.java  | 616 +++++++++++++++++++--
 .../java/org/apache/drill/test/QueryBuilder.java   |  12 +-
 exec/jdbc-all/pom.xml                              |  11 +-
 pom.xml                                            |   6 +
 19 files changed, 1372 insertions(+), 169 deletions(-)

commit 24b4e7ffa48182876e1519e3c8dd89bd1088f0cd
Author: Paul Rogers <progers@maprtech.com>
Date:   Fri Feb 17 09:24:22 2017 -0800

    DRILL-5273: CompliantTextReader exhausts 4 GB memory when reading 5000 small files
    
    Please see JIRA for details of problem and fix.
    
    closes #750

 .../text/compliant/CompliantTextRecordReader.java  | 29 +++++++++++++++++++---
 1 file changed, 26 insertions(+), 3 deletions(-)

commit 470558e6620d0e23b0b3b8003678dd97749a08bb
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Feb 24 14:06:50 2017 +0200

    DRILL-5274: Exception thrown in Drillbit shutdown in UDF cleanup code
    
    closes #760

 .../apache/drill/exec/expr/fn/FunctionImplementationRegistry.java    | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 6bc398fc55bcbf73f1f882de67f146927d1d09d0
Author: Paul Rogers <progers@maprtech.com>
Date:   Sun Feb 19 17:53:31 2017 -0800

    DRILL-5275: Sort spill is slow due to repeated allocations
    
    Rather than create a heap buffer per vector when writing and reading,
    the revised code creates a single, shared buffer used for all I/O
    within a particular container. This improves performance by reducing GC
    and CPU costs during I/Os.
    
    Move I/O buffer, and methods to allocator
    
    Allows the buffer to be shared. Especially in the sort, this is
    important, as the sort may have many serializations open at once.
    
    closes #754

 .../exec/cache/VectorAccessibleSerializable.java   |  9 +++---
 .../apache/drill/exec/memory/BaseAllocator.java    | 37 ++++++++++++++++++++++
 .../apache/drill/exec/memory/BufferAllocator.java  | 29 +++++++++++++++++
 3 files changed, 71 insertions(+), 4 deletions(-)

commit 38f816a45924654efd085bf7f1da7d97a4a51e38
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue Dec 27 17:21:09 2016 -0800

    DRILL-5157: Multiple Snappy versions on class path
    
    Multiple Snappy versions on class path; causes unit test failures.
    
    This fix updates the Snappy library and adds dependency management to
    exclude older versions brought in by Avro and Parquet.

 exec/java-exec/pom.xml | 11 ++++++-----
 pom.xml                | 27 +++++++++++++++++++++++++++
 2 files changed, 33 insertions(+), 5 deletions(-)

commit 0b8ef9e71f71f41cdc2c6a07d01361ee45199516
Author: Kunal Khatua <kkhatua@users.noreply.github.com>
Date:   Fri Feb 3 17:29:47 2017 -0800

    DRILL-5242: The UI breaks when trying to render profiles having unknown metrics
    
    Skip any metrics whose metric ID is unknown, This prevents any ArrayIndexOutOfBoundsException from being thrown and breaking the UI rendering.

 .../drill/exec/server/rest/profile/OperatorWrapper.java | 17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit a05d7002fca19f11656740bd5d3782fe29f2b36d
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Sun Jan 29 23:08:12 2017 -0800

    DRILL-5230: Translation of millisecond duration into hours is incorrect
    
    Fixed invalid representation of readable elapsed time using `TimeUnit` class in JDK.
    e.g. 4545 sec is now correctly translated as `1h15m` instead of `17h15m`

 .../exec/server/rest/profile/FragmentWrapper.java  |  14 ++-
 .../exec/server/rest/profile/OperatorWrapper.java  |  14 ++-
 .../exec/server/rest/profile/ProfileResources.java |  38 ++-----
 .../exec/server/rest/profile/ProfileWrapper.java   |   2 +-
 .../server/rest/profile/SimpleDurationFormat.java  |  77 ++++++++++++++
 .../exec/server/rest/profile/TableBuilder.java     |  36 +------
 .../drill/exec/server/TestDurationFormat.java      | 115 +++++++++++++++++++++
 7 files changed, 217 insertions(+), 79 deletions(-)

commit 3ba24fb05aa5365baf8e44a9dd437dc57f46d9b9
Author: Serhii-Harnyk <serhii.harnyk@gmail.com>
Date:   Mon Feb 13 14:30:27 2017 +0000

    DRILL-5263: Prevent left NLJoin with non scalar subqueries

 .../drill/exec/physical/impl/join/JoinUtils.java   | 20 ++++++++++++-------
 .../exec/planner/common/DrillJoinRelBase.java      | 15 ++------------
 .../exec/planner/physical/NestedLoopJoinPrule.java |  6 +++---
 .../physical/impl/join/TestNestedLoopJoin.java     | 23 +++++++++++++++++++---
 4 files changed, 38 insertions(+), 26 deletions(-)

commit 300e9349a52df7f6ad866a78868602005eadb392
Author: Paul Rogers <progers@maprtech.com>
Date:   Thu Dec 15 19:54:05 2016 -0800

    DRILL-5080: Memory-managed version of external sort
    
    Please see JIRA entry for reasons for revision, design spec and list of
    changes.
    
    This PR covers the changes to the external sort itself. Tests for this
    operator require the test framework in DRILL-5126 and the mock data
    source in DRILL-5152. Tests for this operator will be issued as a
    separate PR once those two dependencies are committed.
    
    Until then, the new operator is disabled by default. It can be enabled
    using drill.sort.external.disable_managed: false.
    
    The operator now spills before receiving a new batch. Revised memory calcs and
    merge calcs to make them a bit clearer and provide more margin of error
    for the power-of-two allocations used when allocating vectors.
    
    We have two external sort implementations, but only one operator code
    for both. They can use only one Metrics enum between them. When adding
    new metrics to the new version, didnt add matching metrics to the old
    one. This fixes that issue. (The issue will go away once the old one is
    retired.)
    
    Revised memory calculations to reflect limit of 16 MB per vector.
    Current revision limits to 16 MB per output batch to be safe. Next
    revision will enforce per-vector limits to allow the overall batch to
    be larger when possible.
    
    Also simplified the merge-time calculations.
    
    Original code provided only crude methods to learn the size of a record
    batch. Adds a "RecordBatchSizer" to provide detailed analysis so the
    sort can know the amount of memory used to buffer a batch, the number
    of rows, and the expected row width once the rows are copied to a
    spill file or the output.
    
    Moved generic spill classes to a separate package.
    
    Created parameters for spill batch size and merge batch size. Separated
    these values in code. Deprecated the min, max spill parameters as they
    no longer add much value. Minor code rearranging.
    
    Bug fix
    
    Fixes a corner case of merging spilled files in a low-memory condition.
    
    Fixes from code review
    
    close apache/drill#717

 .../java/org/apache/drill/exec/ExecConstants.java  |   16 +
 .../drill/exec/physical/base/AbstractBase.java     |   20 +-
 .../drill/exec/physical/config/ExternalSort.java   |   34 +-
 .../exec/physical/impl/spill/RecordBatchSizer.java |  293 ++++
 .../drill/exec/physical/impl/spill/SpillSet.java   |  431 ++++++
 .../exec/physical/impl/spill/package-info.java     |   22 +
 .../physical/impl/xsort/ExternalSortBatch.java     |   16 +-
 .../impl/xsort/ExternalSortBatchCreator.java       |   26 +-
 .../physical/impl/xsort/managed/BatchGroup.java    |  367 +++++
 .../physical/impl/xsort/managed/CopierHolder.java  |  307 +++++
 .../impl/xsort/managed/ExternalSortBatch.java      | 1456 ++++++++++++++++++++
 .../physical/impl/xsort/managed/MSortTemplate.java |  237 ++++
 .../exec/physical/impl/xsort/managed/MSorter.java  |   40 +
 .../physical/impl/xsort/managed/MergeSort.java     |  167 +++
 .../impl/xsort/managed/OperatorCodeGenerator.java  |  259 ++++
 .../impl/xsort/managed/PriorityQueueCopier.java    |   40 +
 .../xsort/managed/PriorityQueueCopierTemplate.java |  170 +++
 .../exec/server/options/SystemOptionManager.java   |   16 +-
 .../drill/exec/util/MemoryAllocationUtilities.java |    8 +-
 .../java-exec/src/main/resources/drill-module.conf |   54 +-
 .../exec/physical/impl/xsort/TestExternalSort.java |  113 +-
 .../apache/drill/exec/memory/BaseAllocator.java    |   13 +-
 22 files changed, 4011 insertions(+), 94 deletions(-)

commit c9a6ac4fc8859693b7b0a71885afb700f81e345c
Author: Serhii-Harnyk <serhii.harnyk@gmail.com>
Date:   Thu Sep 1 17:48:02 2016 +0300

    DRILL-4864: Add ANSI format for date/time functions
    
    DRILL-4864: Add ANSI format for date/time functions(review changes)
    
    close apache/drill#581

 .../SqlToDateTypeFunctions.java                    |  84 +++++++
 .../exec/fn/impl/testing/TestDateConversions.java  | 223 ++++++++++++++++++
 .../common/expression/fn/JodaDateValidator.java    | 255 +++++++++++++++++++++
 .../expression/fn/JodaDateValidatorTest.java       | 203 ++++++++++++++++
 4 files changed, 765 insertions(+)

commit f80d77e6bb60afc562331192ac5d08545c1f1c02
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon Feb 6 13:11:02 2017 +0000

    DRILL-5040: Parquet writer unable to delete table folder on abort
    
    close apache/drill#744

 .../java/org/apache/drill/exec/store/parquet/ParquetRecordWriter.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2b5f5428af6951c71461c2bd2253e184ad0c4631
Author: Laurent Goujon <laurent@dremio.com>
Date:   Wed Jan 25 10:32:33 2017 -0800

    DRILL-5219: Relax user properties validation in C++ client
    
    Unlike Java client, C++ client only allows user properties present in a
    whitelist. Relax this restriction so that user can add extra properties.
    
    This closes #727

 contrib/native/client/src/clientlib/drillClient.cpp     | 6 +-----
 contrib/native/client/src/clientlib/drillClientImpl.cpp | 9 +++++++--
 2 files changed, 8 insertions(+), 7 deletions(-)

commit 478de241dd28b41bcb4487fe67937dca33522dc7
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon Feb 6 13:51:49 2017 +0000

    DRILL-5243: Fix TestContextFunctions.sessionIdUDFWithinSameSession unit test
    
    This closes #743

 .../test/java/org/apache/drill/exec/fn/impl/TestContextFunctions.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 07b418adb6241e58a6de1ab52468e71b2c1435f3
Author: David Haller <davidhaller@mailbox.org>
Date:   Fri Jan 20 21:22:52 2017 +0100

    DRILL-5241: JDBC proxy driver: Do not put null value in map
    
    This closes #724

 exec/jdbc/src/main/java/org/apache/drill/jdbc/proxy/ProxiesManager.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e386e5e145945f9644184c642b94f21438215762
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Fri Jan 20 17:57:10 2017 -0800

    DRILL-5223: Drill should ensure balanced workload assignment at node level in order to get better query performance
    
    This closes #730

 .../exec/store/schedule/AssignmentCreator.java     | 25 +++++++++-
 .../drill/exec/store/store/TestAssignment.java     | 58 +++++++++++++++++++++-
 2 files changed, 79 insertions(+), 4 deletions(-)

commit ddcf89548bd33c0cd3e062f1f6d5027eed822372
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Wed Feb 1 20:14:52 2017 -0800

    DRILL-5240: Parquet - fix unnecessary object creation while checking for null values in nullable var length columns
    
    This closes #740

 .../exec/store/parquet/columnreaders/NullableVarLengthValuesColumn.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1ec3edf01575f302b765b62317ca16c1547dbe10
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Feb 2 11:47:19 2017 +0000

    DRILL-5238: CTTAS: unable to resolve temporary table if workspace is indicated without schema
    
    This closes #736

 .../org/apache/drill/exec/ops/QueryContext.java    |  4 +-
 .../drill/exec/planner/sql/SqlConverter.java       | 46 +++++++++++++++++-----
 .../apache/drill/exec/rpc/user/UserSession.java    |  8 +---
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  | 14 +++++++
 4 files changed, 55 insertions(+), 17 deletions(-)

commit c8fbc386c93484b05307f77efe88333746cb8a5e
Author: Serhii-Harnyk <serhii.harnyk@gmail.com>
Date:   Fri Jan 27 15:36:10 2017 +0000

    DRILL-5237: FlattenRecordBatch loses nested fields from the schema when returns empty batches for the first time
    
    This closes #735

 .../physical/impl/flatten/FlattenRecordBatch.java  | 20 ++++++++++---
 .../exec/physical/impl/flatten/TestFlatten.java    | 35 ++++++++++++++++++++++
 2 files changed, 51 insertions(+), 4 deletions(-)

commit 7913d5d3346087397f8675021807d8b230ba67ca
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Jan 26 20:14:28 2017 +0200

    DRILL-5224: CTTAS: fix errors connected with system path delimiters (Windows)
    
    This closes #731

 .../src/main/java/org/apache/drill/exec/rpc/user/UserSession.java  | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 53ca55f91c40dcc488d6ecbd08b3e04907b62399
Author: Laurent Goujon <laurent@dremio.com>
Date:   Wed Jan 25 10:52:31 2017 -0800

    DRILL-5220: Provide API to set application/client names in C++ connector
    
    Add method to DrillClientConfig to set the client and the application names
    in the C++ connector.
    
    Allow the ODBC driver (or any user of the C++ connector) to provide more
    specific informations like the application using the client.
    
    This closes #728

 .../native/client/src/clientlib/drillClient.cpp    | 22 ++++++++++++
 .../client/src/clientlib/drillClientImpl.cpp       |  3 +-
 .../client/src/include/drill/drillClient.hpp       | 42 ++++++++++++++++++++++
 3 files changed, 66 insertions(+), 1 deletion(-)

commit 63ae6cffc23f1de8159217da9a8879b9ffb86423
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Jan 24 12:33:11 2017 +0000

    DRILL-5215: CTTAS: disallow temp tables in view expansion logic
    
    This closes #725

 .../src/resources/drill-override-example.conf      |  3 +--
 .../drill/exec/planner/sql/SqlConverter.java       |  1 +
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  | 26 ++++++++++++++++++++++
 3 files changed, 28 insertions(+), 2 deletions(-)

commit 052010108a47856f9b1a3c0c470b6572948dc749
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Dec 14 12:08:20 2016 -0800

    DRILL-5207: Improve Parquet Scan pipelining. Add a configurable AsyncPageReader Queue. Enforce total size of parquet row group. Do not initialize BufferedDirectBufInputStream buffer in init. Wait for first read. Change default size of BufferedDirectBufInputStream. Do not invoke getOptions too many times in Parquet reader. Add metrics for processing time, and decoding time for varlen and fixedlen columns.
    
    This closes #723

 .../java/org/apache/drill/exec/ExecConstants.java  |  11 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |   2 +-
 .../org/apache/drill/exec/ops/OperatorStats.java   |  12 +
 .../exec/server/options/SystemOptionManager.java   |   2 +
 .../exec/store/parquet/ParquetReaderStats.java     |   3 +
 .../parquet/columnreaders/AsyncPageReader.java     | 267 +++++++++++++++------
 .../store/parquet/columnreaders/ColumnReader.java  |   5 +-
 .../store/parquet/columnreaders/PageReader.java    |  59 +++--
 .../parquet/columnreaders/ParquetRecordReader.java | 102 +++++---
 .../parquet/columnreaders/VarLenBinaryReader.java  |  10 +-
 .../filereader/BufferedDirectBufInputStream.java   |  49 ++--
 .../exec/util/filereader/DirectBufInputStream.java |  21 +-
 12 files changed, 388 insertions(+), 155 deletions(-)

commit 31b52827767214b7bd92881b322567310be601dd
Author: Nagarajan Chinnasamy <nagarajanchinnasamy@gmail.com>
Date:   Thu Dec 15 19:48:39 2016 +0530

    DRILL-5043: Function that returns a unique id per session/connection similar to MySQL's CONNECTION_ID() #685

 .../ConvertHiveParquetScanToDrillParquetScan.java  |   4 +-
 .../exec/expr/annotations/FunctionTemplate.java    |  16 ++
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |   6 +
 .../drill/exec/expr/fn/FunctionAttributes.java     |   8 +-
 .../drill/exec/expr/fn/FunctionConverter.java      |   2 +-
 .../drill/exec/expr/fn/impl/ContextFunctions.java  |  35 ++-
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java |  39 +++-
 .../expr/fn/registry/LocalFunctionRegistry.java    |  10 +-
 .../apache/drill/exec/ops/ContextInformation.java  |   9 +
 .../org/apache/drill/exec/ops/QueryContext.java    |   2 +-
 .../planner/logical/DrillReduceAggregatesRule.java |   6 +-
 .../visitor/InsertLocalExchangeVisitor.java        |   2 +-
 .../planner/sql/DrillAvgVarianceConvertlet.java    |   2 +-
 .../drill/exec/planner/sql/DrillOperatorTable.java |   4 +-
 .../drill/exec/planner/sql/DrillSqlOperator.java   |  55 ++++-
 .../sql/DrillSqlOperatorWithoutInference.java      |   5 +-
 .../planner/sql/handlers/CreateTableHandler.java   |   4 +-
 .../java/org/apache/drill/exec/util/Utilities.java |   3 +-
 .../drill/exec/client/DrillClientSystemTest.java   |  23 ++
 .../drill/exec/fn/impl/TestContextFunctions.java   |  11 +
 .../exec/physical/impl/TestLocalExchange.java      |   2 +-
 .../impl/partitionsender/TestPartitionSender.java  |   2 +-
 .../apache/drill/exec/pop/TestFragmentChecker.java |   2 +-
 .../org/apache/drill/exec/proto/BitControl.java    | 242 +++++++++++++++++++--
 .../apache/drill/exec/proto/SchemaBitControl.java  |   7 +
 .../org/apache/drill/exec/proto/UserProtos.java    |  16 +-
 .../exec/proto/beans/QueryContextInformation.java  |  22 ++
 protocol/src/main/protobuf/BitControl.proto        |   1 +
 28 files changed, 473 insertions(+), 67 deletions(-)

commit 88655adfea8e7884e67559d9ff6053b01890ad7a
Author: Serhii-Harnyk <serhii.harnyk@gmail.com>
Date:   Tue Dec 20 16:55:41 2016 +0000

    DRILL-3562: Query fails when using flatten on JSON data where some documents have an empty array
    
    closes #713

 .../physical/impl/flatten/FlattenRecordBatch.java  | 24 +++++--
 .../drill/exec/vector/complex/fn/JsonReader.java   | 31 ++++++++-
 .../exec/vector/complex/writer/TestJsonReader.java | 73 +++++++++++++++++++++-
 3 files changed, 118 insertions(+), 10 deletions(-)

commit 60624af225f90992a15a707e1650e41ccecf5a53
Author: Serhii-Harnyk <serhii.harnyk@gmail.com>
Date:   Thu Nov 24 13:24:03 2016 +0000

    DRILL-4764: Parquet file with INT_16, etc. logical types not supported by simple SELECT
    
    closes #673

 .../parquet/columnreaders/ColumnReaderFactory.java |  11 ++++
 .../ParquetFixedWidthDictionaryReaders.java        |  72 +++++++++++++++++++++
 .../columnreaders/ParquetToDrillTypeConverter.java |   9 +++
 .../store/parquet2/TestDrillParquetReader.java     |  14 ++++
 .../src/test/resources/parquet/uint_types.parquet  | Bin 0 -> 1727 bytes
 5 files changed, 106 insertions(+)

commit 5c3924c9844f7d25c0798c649bc032a0022b3a3e
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue Dec 13 13:41:23 2016 -0800

    DRILL-5126: Provide simplified, unified "cluster fixture" for test
    
    Drill provides a robust selection of test frameworks that have evolved to satisfy the needs of a variety of test cases.
    However, some do some of what a given test needs, while others to other parts. Also, the various frameworks make
    assumptions (in the form of boot-time configuration) that differs from what some test may need, forcing the test
    to start, then stop, then restart a Drillbit - an expensive operation.
    
    Also, many ways exist to run queries, but they all do part of the job. Several ways exist to channge
    runtime options.
    
    This checkin shamelessly grabs the best parts from existing frameworks, adds a fluent builder facade
    and provides a complete, versitie test framework for new tests. Old tests are unaffected by this
    new code.
    
    An adjustment was made to allow use of the existing TestBuilder mechanism. TestBuilder used to
    depend on static members of BaseTestQuery. A "shim" allows the same code to work in the old
    way for old tests, but with the new ClusterFixture for new tests.
    
    Details are in the org.apache.drill.test.package-info.java file.
    
    This commit modifies a single test case, TestSimpleExternalSort, to use the new framework.
    More cases will follow once this framework itself is committed.
    
    Also, the framework will eventually allow use of the extended mock data source
    from SQL. However, that change must await checkin of the mock data source changes.
    
    Includes a LogFixture that allows setting logger options per test to simplify debugging via tests.
    
    Also includes a summary listener to run a query and return a summary of the
    run. Handy to simply verify that a query runs and to time it.
    
    Added an async query runner for tests that want to run multiple
    concurrent queries.
    
    closes #710

 exec/java-exec/pom.xml                             |   6 +
 .../org/apache/drill/exec/server/Drillbit.java     |   2 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  23 +-
 .../java/org/apache/drill/DrillTestWrapper.java    |  52 ++-
 .../test/java/org/apache/drill/TestBuilder.java    |  88 ++--
 .../test/java/org/apache/drill/exec/ExecTest.java  |   2 +-
 .../impl/xsort/TestSimpleExternalSort.java         | 256 +++++-------
 .../drill/test/BufferingQueryEventListener.java    | 112 +++++
 .../java/org/apache/drill/test/ClientFixture.java  | 195 +++++++++
 .../java/org/apache/drill/test/ClusterFixture.java | 432 +++++++++++++++++++
 .../java/org/apache/drill/test/ClusterTest.java    | 122 ++++++
 .../test/java/org/apache/drill/test/FieldDef.java  |  82 ++++
 .../java/org/apache/drill/test/FixtureBuilder.java | 260 ++++++++++++
 .../java/org/apache/drill/test/LogFixture.java     | 255 ++++++++++++
 .../java/org/apache/drill/test/ProfileParser.java  | 219 ++++++++++
 .../java/org/apache/drill/test/QueryBuilder.java   | 455 +++++++++++++++++++++
 .../java/org/apache/drill/test/package-info.java   |  90 ++++
 17 files changed, 2435 insertions(+), 216 deletions(-)

commit 837722c7433cf89447b71aa6139f22f03992875c
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Wed Jan 25 14:43:41 2017 -0800

    DRILL-5218: Support optionally disabling heartbeats from C++ client
    
    closes #726

 contrib/native/client/example/querySubmitter.cpp   |  5 +++
 .../native/client/src/clientlib/drillClient.cpp    |  2 +-
 .../client/src/clientlib/drillClientImpl.cpp       | 40 ++++++----------------
 .../client/src/clientlib/drillClientImpl.hpp       |  3 +-
 4 files changed, 17 insertions(+), 33 deletions(-)

commit 2af709f43d01f341b2a52c6473ea49d6761fdc61
Author: Serhii-Harnyk <serhii.harnyk@gmail.com>
Date:   Tue Dec 27 16:20:37 2016 +0000

    DRILL-5164: Equi-join query results in CompileException when inputs have large number of columns.
    
    close apache/drill#711

 .../exec/physical/impl/join/HashJoinBatch.java     |  4 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  2 +
 .../physical/impl/join/NestedLoopJoinBatch.java    |  4 +-
 .../exec/compile/TestLargeFileCompilation.java     | 94 +++++++++++++++++++---
 4 files changed, 87 insertions(+), 17 deletions(-)

commit 8217697647e7ed10c52cfa91b860730302a339e8
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue Dec 13 14:36:42 2016 -0800

    DRILL-5104: Foreman should not set external sort memory for a physical plan
    
    Physical plans include a plan for memory allocations. However, the code
    path in Foreman replans external sort memory, even for a physical plan.
    This makes it impossible to use a physical plan to test memory
    configuration.
    
    This change avoids changing memory settings in a physical plan; while
    preserving the adjustments for logical plans or SQL queries.
    
    Revised to put a property in the plan itself. Old plans, and those
    generated from SQL, will have memory allocations applied. Plans
    marked as already "resource management" planned will be used as-is.
    
    Includes a unit test that demonstrates the new behavior.
    
    close apache/drill#703

 .../org/apache/drill/exec/physical/PhysicalPlan.java   |  3 ---
 .../drill/exec/util/MemoryAllocationUtilities.java     |  9 ++++++++-
 .../org/apache/drill/exec/work/foreman/Foreman.java    |  1 +
 .../physical/impl/xsort/TestSimpleExternalSort.java    |  6 ++++--
 .../test/resources/xsort/one_key_sort_descending.json  |  3 ++-
 .../apache/drill/common/logical/PlanProperties.java    | 18 ++++++++++++++++--
 6 files changed, 31 insertions(+), 9 deletions(-)

commit 08ca5e0923436ebeb3e190c60892167d9beab0c2
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Wed Dec 14 16:24:08 2016 +0000

    DRILL-5097: Using store.parquet.reader.int96_as_timestamp gives IOOB whereas convert_from works
    
    close apache/drill#697

 .../NullableFixedByteAlignedReaders.java             |  10 +++++++++-
 .../exec/physical/impl/writer/TestParquetWriter.java |  19 +++++++++++++++++++
 .../src/test/resources/parquet/data.snappy.parquet   | Bin 0 -> 59200 bytes
 3 files changed, 28 insertions(+), 1 deletion(-)

commit bb29f19ff8807fd07cdaa9e7110c1a003b3da15b
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Nov 3 16:55:38 2016 +0000

    DRILL-4956: Temporary tables support
    
    close apache/drill#666

 .../src/resources/drill-override-example.conf      |   8 +-
 .../src/main/codegen/includes/parserImpls.ftl      |   9 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   7 +-
 .../drill/exec/physical/base/AbstractWriter.java   |  17 +-
 .../exec/physical/impl/WriterRecordBatch.java      |  22 +-
 .../logical/FileSystemCreateTableEntry.java        |  18 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   9 +-
 .../drill/exec/planner/sql/SchemaUtilites.java     |  42 +-
 .../drill/exec/planner/sql/SqlConverter.java       | 141 +++++--
 .../planner/sql/handlers/CreateTableHandler.java   | 111 +++++-
 .../planner/sql/handlers/DropTableHandler.java     |  65 ++--
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  |  49 ++-
 .../exec/planner/sql/handlers/ViewHandler.java     |  63 +--
 .../sql/parser/CompoundIdentifierConverter.java    |   4 +-
 .../exec/planner/sql/parser/SqlCreateTable.java    |  28 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |  13 +-
 .../apache/drill/exec/rpc/user/UserSession.java    | 170 ++++++++-
 .../org/apache/drill/exec/server/Drillbit.java     |  23 +-
 .../apache/drill/exec/store/AbstractSchema.java    |  21 +-
 .../drill/exec/store/SchemaTreeProvider.java       |  32 +-
 .../apache/drill/exec/store/StorageStrategy.java   | 194 ++++++++++
 .../apache/drill/exec/store/SubSchemaWrapper.java  |   6 +-
 .../apache/drill/exec/store/dfs/FileSelection.java |   5 +-
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  10 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  10 +-
 .../drill/exec/store/dfs/easy/EasyWriter.java      |  10 +-
 .../exec/store/easy/json/JSONFormatPlugin.java     |   4 +-
 .../exec/store/easy/json/JsonRecordWriter.java     |  24 +-
 .../exec/store/easy/text/TextFormatPlugin.java     |   4 +-
 .../exec/store/parquet/ParquetRecordWriter.java    |  64 +++-
 .../drill/exec/store/parquet/ParquetWriter.java    |  10 +-
 .../exec/store/text/DrillTextRecordWriter.java     |  31 +-
 .../java-exec/src/main/resources/drill-module.conf |   8 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |   3 +-
 .../test/java/org/apache/drill/TestDropTable.java  |  10 +-
 .../rpc/user/TemporaryTablesAutomaticDropTest.java |  95 +++++
 .../apache/drill/exec/sql/TestBaseViewSupport.java |   4 +-
 .../java/org/apache/drill/exec/sql/TestCTTAS.java  | 422 +++++++++++++++++++++
 .../drill/exec/store/StorageStrategyTest.java      | 222 +++++++++++
 .../test/resources/bootstrap-storage-plugins.json  |   2 +-
 .../apache/drill/exec/rpc/RemoteConnection.java    |   9 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |   8 +-
 42 files changed, 1797 insertions(+), 210 deletions(-)

commit 8a4d7a9940499a8c972362ab1133d75f211ec786
Author: Kunal Khatua <kkhatua@maprtech.com>
Date:   Wed Jan 11 16:45:15 2017 -0800

    DRILL-5172: Display elapsed time for queries in the UI
    
    Displays the elapsed time for running queries and the total duration of completed/failed/cancelled queries in the list of query profiles displayed, and within a query's profile page as well.
    The query runtime is  displayed in '[hr] [min] sec'.
    e.g. A duration of 25,254,321ms is displayed  7 hr 00 min 54.321 sec
    
    This closes #721

 .../exec/server/rest/profile/ProfileResources.java | 42 +++++++++++++++++++---
 .../exec/server/rest/profile/ProfileWrapper.java   |  4 +++
 .../src/main/resources/rest/profile/list.ftl       |  9 ++++-
 .../src/main/resources/rest/profile/profile.ftl    |  1 +
 4 files changed, 51 insertions(+), 5 deletions(-)

commit a09343333c87fb21eaf4dd480204fa4731741f1a
Author: chunhui-shi <cshi@maprtech.com>
Date:   Tue Dec 13 15:16:40 2016 -0800

    DRILL-4868: fix how hive function set DrillBuf.
    
    This closes #695

 .../codegen/templates/ObjectInspectorHelper.java   | 57 +++++++----------
 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    | 34 ++++++++++
 .../test/java/org/apache/drill/QueryTestUtil.java  | 53 ++++++++++++++++
 .../exec/physical/impl/TestConvertFunctions.java   | 74 ++++------------------
 4 files changed, 120 insertions(+), 98 deletions(-)

commit 1840e49ee1d993a91790cf6ee6ed9a8c570971b6
Author: chunhui-shi <cshi@maprtech.com>
Date:   Tue Dec 13 18:00:49 2016 -0800

    DRILL-4558: BSonReader should prepare buffer size as actual need
    
    This closes #696

 .../org/apache/drill/exec/store/bson/BsonRecordReader.java    | 11 +++++++----
 .../apache/drill/exec/store/bson/TestBsonRecordReader.java    | 11 +++++++++++
 2 files changed, 18 insertions(+), 4 deletions(-)

commit 34969583bfab410c80cb14a1c20249f097d5f7a7
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Dec 29 15:42:53 2016 +0000

    DRILL-4919: Fix select count(1) / count(*) on csv with header
    
    This closes #714

 .../text/compliant/CompliantTextRecordReader.java  | 18 +++++++++++++++++-
 .../drill/exec/store/text/TestCsvHeader.java       | 22 ++++++++++++++++++++--
 2 files changed, 37 insertions(+), 3 deletions(-)

commit 535623bb8fdf81220164134d366817f57e560710
Author: Paul Rogers <progers@maprtech.com>
Date:   Wed Dec 21 21:47:20 2016 -0800

    DRILL-5152: Enhance the mock data source: better data, SQL access
    
    Provides an enhanced version of the mock data source. See the JIRA
    entry for motivation, package-info.java for details of operation.
    
    Revisions suggested by code review
    
    Also includes additional comments and a few more compiler warning
    cleanups.
    
    This closes #708

 .../drill/exec/record/AbstractRecordBatch.java     |   2 +-
 .../drill/exec/store/AbstractRecordReader.java     |   2 +-
 .../org/apache/drill/exec/store/StoragePlugin.java |   5 +-
 .../drill/exec/store/StoragePluginRegistry.java    |   4 +-
 .../exec/store/StoragePluginRegistryImpl.java      |  29 ++-
 .../apache/drill/exec/store/mock/ColumnDef.java    | 178 ++++++++++++++++++
 .../org/apache/drill/exec/store/mock/DateGen.java  |  69 +++++++
 .../apache/drill/exec/store/mock/DoubleGen.java    |  48 +++++
 .../exec/store/mock/ExtendedMockRecordReader.java  | 156 ++++++++++++++++
 .../org/apache/drill/exec/store/mock/FieldGen.java |  37 ++++
 .../org/apache/drill/exec/store/mock/IntGen.java   |  47 +++++
 .../drill/exec/store/mock/MockGroupScanPOP.java    | 205 +++++++++++++++++----
 .../drill/exec/store/mock/MockRecordReader.java    |   8 +-
 .../exec/store/mock/MockScanBatchCreator.java      |   8 +-
 .../drill/exec/store/mock/MockStorageEngine.java   |  79 +++++++-
 .../exec/store/mock/MockStorageEngineConfig.java   |   9 +-
 .../apache/drill/exec/store/mock/MockStorePOP.java |   3 +-
 .../drill/exec/store/mock/MockSubScanPOP.java      |  44 +++--
 .../org/apache/drill/exec/store/mock/MoneyGen.java |  48 +++++
 .../apache/drill/exec/store/mock/StringGen.java    |  56 ++++++
 .../apache/drill/exec/store/mock/package-info.java | 130 +++++++++++++
 .../org/apache/drill/exec/TestOpSerialization.java |   4 +-
 .../exec/fn/interp/ExpressionInterpreterTest.java  |  18 +-
 23 files changed, 1108 insertions(+), 81 deletions(-)

commit 77e501005bbfe1d5736feab78d8d6e2f495eb8a3
Author: chunhui-shi <cshi@maprtech.com>
Date:   Tue Jan 3 17:39:49 2017 -0800

    DRILL-5105: comment out unecessary recursive buffer size check
    
    This closes #715

 .../main/java/org/apache/drill/exec/vector/complex/MapVector.java  | 7 +++----
 .../org/apache/drill/exec/vector/complex/RepeatedMapVector.java    | 7 +++----
 2 files changed, 6 insertions(+), 8 deletions(-)

commit eef3b3fb6f4e76e95510253d155d0659e387fc99
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Dec 12 04:41:49 2016 +0000

    DRILL-4996: Parquet Date auto-correction is not working in auto-partitioned parquet files generated by drill-1.6
    
    - Changed detection approach of corrupted date values for the case, when parquet files are generated by drill:
      the corruption status is determined by looking at the min/max values in the metadata;
    - Appropriate refactoring of TestCorruptParquetDateCorrection.
    
    This closes #687

 .../exec/store/parquet/ParquetReaderUtility.java   |  18 +-
 .../writer/TestCorruptParquetDateCorrection.java   | 284 ++++++++++-----------
 ...rect_dates_and_old_drill_parquet_writer.parquet | Bin 0 -> 4241 bytes
 3 files changed, 140 insertions(+), 162 deletions(-)

commit ee399317a1faa44e18aedcb11cfa5d4d5c0941aa
Author: Paul Rogers <progers@maprtech.com>
Date:   Mon Dec 12 17:30:56 2016 -0800

    DRILL-5116: Enable generated code debugging in each Drill operator
    
    DRILL-5052 added the ability to debug generated code. The reviewer suggested
    permitting the technique to be used for all Drill operators. This PR provides
    the required fixes. Most were small changes, others dealt with the rather
    clever way that the existing byte-code merge converted static nested classes
    to non-static inner classes, with the way that constructors were inserted
    at the byte-code level and so on. See the JIRA for the details.
    
    This code passed the unit tests twice: once with the traditional byte-code
    manipulations, a second time using "plain-old Java" code compilation.
    Plain-old Java is turned off by default, but can be turned on for all
    operators with a single config change: see the JIRA for info. Consider
    the plain-old Java option to be experimental: very handy for debugging,
    perhaps not quite tested enough for production use.
    
    close apache/drill#716

 .../apache/drill/exec/compile/ClassBuilder.java    |  80 ++++++-----
 .../drill/exec/compile/ClassCompilerSelector.java  |  33 +++--
 .../drill/exec/compile/ClassTransformer.java       |  10 +-
 .../apache/drill/exec/compile/CodeCompiler.java    | 150 ++++++++++++++++++---
 .../apache/drill/exec/compile/MergeAdapter.java    |  16 ++-
 .../drill/exec/compile/QueryClassLoader.java       |  17 ++-
 .../drill/exec/compile/sig/SignatureHolder.java    |  10 +-
 .../org/apache/drill/exec/expr/ClassGenerator.java | 142 ++++++++++++++++++-
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  91 ++++++++-----
 .../physical/config/OrderedPartitionSender.java    |   2 +-
 .../physical/impl/TopN/PriorityQueueTemplate.java  |  31 +++--
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  20 ++-
 .../exec/physical/impl/aggregate/HashAggBatch.java |  17 +--
 .../physical/impl/aggregate/HashAggTemplate.java   |  63 +++++----
 .../physical/impl/aggregate/StreamingAggBatch.java |  14 +-
 .../impl/aggregate/StreamingAggTemplate.java       |   5 +-
 .../physical/impl/common/ChainedHashTable.java     |   8 +-
 .../physical/impl/common/HashTableTemplate.java    |  31 +++--
 .../physical/impl/filter/FilterRecordBatch.java    |  14 +-
 .../exec/physical/impl/filter/FilterTemplate2.java |  20 ++-
 .../drill/exec/physical/impl/filter/Filterer.java  |   5 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |   8 +-
 .../physical/impl/flatten/FlattenTemplate.java     |  18 +--
 .../exec/physical/impl/join/HashJoinBatch.java     |   5 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |   5 +-
 .../physical/impl/join/NestedLoopJoinBatch.java    |   5 +-
 .../MergingReceiverGeneratorBase.java              |   6 +-
 .../mergereceiver/MergingReceiverTemplate.java     |  12 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |  26 +++-
 .../OrderedPartitionProjectorTemplate.java         |  38 +++---
 .../OrderedPartitionRecordBatch.java               |  26 +++-
 .../OrderedPartitionSenderCreator.java             |   1 +
 .../partitionsender/PartitionSenderRootExec.java   |   5 +-
 .../impl/partitionsender/PartitionerTemplate.java  |  55 ++++++--
 .../physical/impl/project/ProjectRecordBatch.java  |  11 +-
 .../physical/impl/project/ProjectorTemplate.java   |  24 +++-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   8 +-
 .../drill/exec/physical/impl/svremover/Copier.java |   8 +-
 .../physical/impl/svremover/CopierTemplate2.java   |  12 +-
 .../physical/impl/svremover/CopierTemplate4.java   |  16 ++-
 .../impl/svremover/RemovingRecordBatch.java        |  33 +++--
 .../physical/impl/union/UnionAllRecordBatch.java   |   9 +-
 .../physical/impl/union/UnionAllerTemplate.java    |  26 ++--
 .../impl/window/NoFrameSupportTemplate.java        |  97 +++++++++----
 .../impl/window/WindowFrameRecordBatch.java        |  25 +++-
 .../exec/physical/impl/window/WindowFramer.java    |  16 ++-
 .../physical/impl/xsort/ExternalSortBatch.java     |  22 ++-
 .../exec/physical/impl/xsort/MSortTemplate.java    |  17 ++-
 .../physical/impl/xsort/SingleBatchSorter.java     |   4 +-
 .../impl/xsort/SingleBatchSorterTemplate.java      |  12 +-
 .../apache/drill/exec/server/DrillbitContext.java  |   3 +-
 .../java-exec/src/main/resources/drill-module.conf |   6 +-
 .../test/java/org/apache/drill/TestUnionAll.java   |   4 +-
 .../java/org/apache/drill/TestUnionDistinct.java   |   4 +-
 .../apache/drill/exec/compile/ExampleInner.java    |   8 +-
 .../exec/compile/ExampleTemplateWithInner.java     |  80 +++++++++--
 .../exec/compile/TestClassTransformation.java      |  27 ++--
 .../exec/physical/impl/TestConvertFunctions.java   |  35 ++++-
 .../drill/exec/physical/impl/agg/TestHashAggr.java |   2 +-
 .../exec/physical/impl/flatten/TestFlatten.java    |   8 +-
 .../impl/partitionsender/TestPartitionSender.java  |  10 +-
 .../exec/physical/impl/union/TestSimpleUnion.java  |   4 +-
 .../exec/physical/unit/PhysicalOpUnitTestBase.java |  30 +++--
 63 files changed, 1135 insertions(+), 415 deletions(-)

commit 4d4e0c2b23caead69dd4c6c02c07a9800b3c7611
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Dec 23 17:51:38 2016 +0000

    DRILL-5039: NPE - CTAS PARTITION BY (<char-type-column>)
    
    close apache/drill#706

 .../main/codegen/templates/NewValueFunctions.java  |  73 ++++++-
 .../apache/drill/exec/store/NewValueFunction.java  | 209 ---------------------
 .../drill/exec/fn/impl/TestAggregateFunctions.java |  72 ++++---
 .../java/org/apache/drill/exec/sql/TestCTAS.java   |  42 ++++-
 .../resources/parquet/alltypes_optional.parquet    | Bin 0 -> 1585 bytes
 .../resources/parquet/alltypes_required.parquet    | Bin 1197 -> 1585 bytes
 6 files changed, 146 insertions(+), 250 deletions(-)

commit 15b021f1f4c73c08c0443fd9cae0221ae43877ba
Author: karthik <kmanivannan@maprtech.com>
Date:   Mon Nov 14 10:36:53 2016 -0800

    DRILL-5121 Fix for memory leak. Changes fieldVectorMap in ScanBatch to a CaseInsensitiveMap
    
    close apache/drill#690

 .../src/main/java/org/apache/drill/exec/physical/impl/ScanBatch.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 167f0ce339426ffaca5591412ea87a0bef48ad86
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Tue Jan 3 14:01:00 2017 -0800

    DRILL-5127: Revert the fix for DRILL-4831
    
    close apache/drill#718

 .../apache/drill/exec/store/parquet/Metadata.java  | 67 +++-------------------
 1 file changed, 8 insertions(+), 59 deletions(-)

commit d375eeb458d21cec246d486b88ddd26ab4b28ada
Author: Jinfeng Ni <jni@apache.org>
Date:   Wed Dec 21 18:00:46 2016 -0800

    DRILL-5159: Drill's ProjectMergeRule should operate on RelNodes with same convention trait.
    
    close apache/drill#705

 .../apache/drill/exec/planner/logical/DrillMergeProjectRule.java  | 8 ++++++++
 1 file changed, 8 insertions(+)

commit bbcf4b765e6946a8b6c7110372c4e1cadbfefa44
Author: Paul Rogers <progers@maprtech.com>
Date:   Sat Nov 19 18:29:24 2016 -0800

    DRILL-5052: Option to debug generated Java code using an IDE
    
    Provides a second compilation path for generated code: plan old Java
    in which generated code inherit from their templates. Such code can be
    compiled directly, allowing easy debugging of generated code.
    
    Also show to generate two classes in the External Sort Batch as plain
    old Java to enable IDE debugging of that generated code. Required
    minor clean-up of the templates.
    
    Fixes some broken toString( ) methods in code generation classes
    Fixes a variety of small compilation warnings
    Adds Java doc to a few classes
    
    Includes clean-up from code review comments.
    
    close apache/drill#660

 .../java/org/apache/drill/exec/ExecConstants.java  |   1 -
 .../drill/exec/compile/AbstractClassCompiler.java  |   7 +-
 .../drill/exec/compile/CachedClassLoader.java      |  69 ++++++++
 .../apache/drill/exec/compile/ClassBuilder.java    | 189 +++++++++++++++++++++
 .../drill/exec/compile/ClassCompilerSelector.java  | 146 ++++++++++++++++
 .../drill/exec/compile/ClassTransformer.java       |  27 ++-
 .../apache/drill/exec/compile/CodeCompiler.java    |  80 +++++++--
 .../drill/exec/compile/DrillJavaFileObject.java    |  21 +++
 .../drill/exec/compile/JDKClassCompiler.java       |  18 +-
 .../drill/exec/compile/JaninoClassCompiler.java    |  34 +++-
 .../apache/drill/exec/compile/MergeAdapter.java    |  12 +-
 .../drill/exec/compile/QueryClassLoader.java       |  91 +---------
 .../exec/compile/TemplateClassDefinition.java      |  29 +++-
 .../exec/compile/sig/CodeGeneratorMethod.java      |   2 +-
 .../drill/exec/compile/sig/GeneratorMapping.java   |  19 +++
 .../drill/exec/compile/sig/SignatureHolder.java    |  27 ++-
 .../org/apache/drill/exec/expr/ClassGenerator.java |  68 ++++++--
 .../org/apache/drill/exec/expr/CodeGenerator.java  | 104 ++++++++++--
 .../apache/drill/exec/expr/DebugStringBuilder.java |  62 +++++++
 .../apache/drill/exec/expr/DirectExpression.java   |  14 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |   4 +-
 .../org/apache/drill/exec/ops/OperatorContext.java |  10 +-
 .../apache/drill/exec/ops/OperatorContextImpl.java |  10 ++
 .../physical/impl/xsort/ExternalSortBatch.java     |  12 +-
 .../physical/impl/xsort/SingleBatchSorter.java     |   2 +-
 .../impl/xsort/SingleBatchSorterTemplate.java      |  11 +-
 .../exec/server/options/SystemOptionManager.java   |   8 +-
 .../java-exec/src/main/resources/drill-module.conf |   6 +-
 .../exec/compile/TestClassTransformation.java      |  16 +-
 .../exec/compile/TestLargeFileCompilation.java     |  14 +-
 .../exec/physical/unit/PhysicalOpUnitTestBase.java |   4 +-
 .../apache/drill/exec/vector/BaseValueVector.java  |   3 +-
 .../vector/complex/AbstractContainerVector.java    |   2 +
 .../exec/vector/complex/RepeatedListVector.java    |   1 +
 34 files changed, 927 insertions(+), 196 deletions(-)

commit 03928af0b5cafd52e5b153aa852e5642b505f2c6
Author: Serhii-Harnyk <serhii.harnyk@gmail.com>
Date:   Thu Oct 27 19:20:27 2016 +0000

    DRILL-5032: Drill query on hive parquet table failed with OutOfMemoryError: Java heap space
    
    close apache/drill#654

 .../main/codegen/templates/HiveRecordReaders.java  |   4 +-
 .../exec/planner/sql/HivePartitionDescriptor.java  |  12 +-
 .../ConvertHiveParquetScanToDrillParquetScan.java  |  14 +-
 .../drill/exec/store/hive/ColumnListsCache.java    |  95 ++++++++++
 .../exec/store/hive/DrillHiveMetaStoreClient.java  |  40 +++--
 .../drill/exec/store/hive/HiveAbstractReader.java  |  15 +-
 .../store/hive/HiveDrillNativeParquetScan.java     |   4 +-
 .../hive/HiveDrillNativeScanBatchCreator.java      |   6 +-
 .../exec/store/hive/HiveMetadataProvider.java      |  11 +-
 .../drill/exec/store/hive/HivePartition.java       |  61 +++++++
 .../drill/exec/store/hive/HiveReadEntry.java       |  31 ++--
 .../org/apache/drill/exec/store/hive/HiveScan.java |  17 +-
 .../exec/store/hive/HiveScanBatchCreator.java      |   8 +-
 .../apache/drill/exec/store/hive/HiveSubScan.java  |  15 +-
 .../exec/store/hive/HiveTableWithColumnCache.java  |  76 ++++++++
 .../hive/{HiveTable.java => HiveTableWrapper.java} | 196 +++++++++++++++------
 .../drill/exec/store/hive/HiveUtilities.java       |  41 ++++-
 .../exec/store/hive/schema/DrillHiveTable.java     |   7 +-
 .../drill/exec/TestHivePartitionPruning.java       |  29 ++-
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |   2 +
 .../exec/store/hive/HiveTestDataGenerator.java     |   9 +
 .../store/hive/schema/TestColumnListCache.java     | 111 ++++++++++++
 22 files changed, 654 insertions(+), 150 deletions(-)

commit d8cc7105054953dc94afda0785f4d031a4ebbde1
Author: hongze.zhz <hongze.zhz@alibaba-inc.com>
Date:   Fri Nov 18 20:11:38 2016 +0800

    DRILL-5051: Fix incorrect computation of 'fetch' in LimitRecordBatch when 'offset' is specified
    
    close apache/drill#662

 .../exec/physical/impl/limit/LimitRecordBatch.java | 35 +++++-----------------
 .../test/java/org/apache/drill/TestBugFixes.java   | 10 +++++++
 2 files changed, 17 insertions(+), 28 deletions(-)

commit 1c7309fc99ebf3f18cd4658ed3606e97765f286c
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Thu Dec 1 14:58:00 2016 -0800

    DRILL-5098: Improving fault tolerance for connection between client and foreman node.
    
    Adding tries config option in connection string. Improving fault tolerance in Drill client when trying to make first connection with foreman. The client will try to connect to min(tries, num_drillbits) unique drillbits unless a successfull connection is established.
    
    HYGIENE: Refactoring BasicClient::close to call RemoteConnection::close
    
    close apache/drill#679

 .../org/apache/drill/exec/client/DrillClient.java  |  54 ++++-
 .../org/apache/drill/exec/rpc/user/UserClient.java |   3 +-
 .../ConnectTriesPropertyTestClusterBits.java       | 243 +++++++++++++++++++++
 .../test/JdbcConnectTriesTestEmbeddedBits.java     | 163 ++++++++++++++
 .../org/apache/drill/exec/rpc/BasicClient.java     |  15 +-
 .../apache/drill/exec/rpc/RemoteConnection.java    |  20 +-
 6 files changed, 477 insertions(+), 21 deletions(-)

commit 810198b18bfbe38712256c58b102bca079d934c1
Author: Serhii-Harnyk <serhii.harnyk@gmail.com>
Date:   Thu Dec 8 20:08:34 2016 +0000

    DRILL-5117: Compile error when query a json file with 1000+columns
    
    close apache/drill#686

 .../src/main/java/org/apache/drill/exec/expr/SizedJBlock.java        | 5 ++++-
 .../java/org/apache/drill/exec/compile/TestLargeFileCompilation.java | 4 ----
 2 files changed, 4 insertions(+), 5 deletions(-)

commit 417ae930a3839bb0ef8758346fe855611051d037
Author: Paul Rogers <progers@maprtech.com>
Date:   Mon Dec 12 09:18:38 2016 -0800

    DRILL-5123: Write query profile after sending final response to client to improve latency
    
    In testing a particular query, I used a test setup that does not write
    to the "persistent store", causing query profiles to not be saved. I
    then changed the config to save them (to local disk). This produced
    about a 200ms difference in query run time as perceived by the client.
    
    I then moved writing the query profile after sending the client the
    final message. This resulted in an approximately 100ms savings, as
    perceived by the client, in query run time on short (~3 sec.) queries.
    
    close apache/drill#692

 .../apache/drill/exec/work/foreman/Foreman.java    | 22 ++++++++++++++--------
 1 file changed, 14 insertions(+), 8 deletions(-)

commit cf2b7c70ea47e604364ccb5e8076bbd7eae310c3
Author: Serhii-Harnyk <serhii.harnyk@gmail.com>
Date:   Fri Nov 18 16:02:04 2016 +0000

    DRILL-4938: Report UserException when constant expression reduction fails
    
    closes #689

 .../exec/planner/logical/DrillConstExecutor.java   |  13 +-
 .../jdbc/test/TestExecutionExceptionsToClient.java | 177 +++++++++++----------
 2 files changed, 100 insertions(+), 90 deletions(-)

commit 97da01995ecfd9a7d157ad183f0656cd15993f26
Author: Smidth Panchamia <spanchamia@mapr.com>
Date:   Mon Nov 28 13:59:34 2016 -0800

    DRILL-5065: Optimize count(*) queries on MapR-DB JSON Tables
    
    In MapR-DB v5.2.0, we enabled '_id' only projection for JSON
    tables. Hence, we can now optimize the following queries:
    
    a. count(*) by projecting only the '_id' column.
    
    b. '_id' only projections, including count(_id)
    
    Change the format plugin config parameter name.
    
    Fix setter of config parameter `disableCountOptimization` for drill-maprdb plugin
    
    closes #678

 .../store/mapr/db/MapRDBFormatPluginConfig.java    | 12 ++++
 .../store/mapr/db/json/MaprDBJsonRecordReader.java | 64 +++++++++++++---------
 2 files changed, 51 insertions(+), 25 deletions(-)

commit 94f3ba0f1398c75d1188683716155c4444836260
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Tue Nov 29 13:07:36 2016 -0800

    DRILL-5081: Lower logging level for corrupt dates message
    
    * introduced in DRILL-4203
    
    closes #691

 .../apache/drill/exec/store/hive/HiveDrillNativeScanBatchCreator.java | 4 +++-
 .../src/main/java/org/apache/drill/exec/store/parquet/Metadata.java   | 4 +++-
 .../org/apache/drill/exec/store/parquet/ParquetScanBatchCreator.java  | 4 +++-
 3 files changed, 9 insertions(+), 3 deletions(-)

commit a33a1858949cbac3a9c2f636a02c0b7c5bc25906
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue Nov 1 13:42:52 2016 -0700

    DRILL-4987: Use ImpersonationUtil to get process users groups in RemoteFunctionRegistry
    
    closes #642

 .../expr/fn/registry/RemoteFunctionRegistry.java    | 21 +++++++++++++--------
 .../apache/drill/exec/util/ImpersonationUtil.java   |  9 +++++++++
 2 files changed, 22 insertions(+), 8 deletions(-)

commit b6561289998da6023efa864212033fbf5ac84cbd
Author: Mike Lavender <Mike Lavender>
Date:   Fri Oct 21 14:05:43 2016 -0700

    DRILL-4812: Fix FileSelection#handleWildCard to use normalized path separator
    
    closes #627

 .../src/main/java/org/apache/drill/exec/store/dfs/FileSelection.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8915611e5a67745f89d4d06f0effbfe808035b75
Author: Patrick Wong <pwong@maprtech.com>
Date:   Fri Dec 9 14:26:31 2016 -0800

    DRILL-5119: Update MapR version to 5.2.0.40963-mapr
    
    closes #688

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 641d35de03e84361ffe038fe30b717012c1571b8
Author: Paul Rogers <progers@maprtech.com>
Date:   Mon Nov 21 10:19:15 2016 -0800

    DRILL-5056: Fix UserException to write full message to log
    
    A case occurred in which the External Sort failed during spilling.
    All that was written to the log was:
    
    2016-11-18 ... INFO  o.a.d.e.p.i.xsort.ExternalSortBatch - User Error Occurred
    
    Modified the logging code to provide more information to aid tracking down problems that occur in the field.
    
    closes #665

 .../org/apache/drill/common/exceptions/UserException.java     | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 963955b94ab75ce52894582791f6669d578af562
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue Dec 6 21:11:56 2016 -0800

    DRILL-5112: Fix config in PopUnitTestBase
    
    Tests rely on command-line settings in the pom.xml file. Those
    settings are not available when tests are run in Eclipse.
    Replicated required settings into the base test class (as in
    BaseTestQuery).
    
    closes #681

 .../main/java/org/apache/drill/exec/server/Drillbit.java |  2 +-
 .../physical/impl/mergereceiver/TestMergingReceiver.java |  3 +--
 .../java/org/apache/drill/exec/pop/PopUnitTestBase.java  | 16 +++++++++++++++-
 3 files changed, 17 insertions(+), 4 deletions(-)

commit fb32bfe209b03ff269313aed70bf066b29314327
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Nov 25 16:44:08 2016 +0000

    DRILL-5044: Fix retry logic to handle VersionMismatchException by not deleting jars in remote UDFs area
    
    closes #669

 .../sql/handlers/CreateFunctionHandler.java        | 54 ++++++------
 .../planner/sql/handlers/DropFunctionHandler.java  | 47 ++++++-----
 .../org/apache/drill/TestDynamicUDFSupport.java    | 96 +++++++++++++++++++++-
 3 files changed, 146 insertions(+), 51 deletions(-)

commit 85a9651844c3e5f33db14c57b8f43f01100a729e
Author: Serhii-Harnyk <serhii.harnyk@gmail.com>
Date:   Thu Nov 17 14:23:58 2016 +0000

    DRILL-5048: Fix type mismatch error in case statement with null timestamp
    
    closes #657

 .../drill/exec/planner/logical/DrillConstExecutor.java    |  3 ++-
 .../drill/exec/planner/logical/TestCaseNullableTypes.java | 15 +++++++++++++++
 2 files changed, 17 insertions(+), 1 deletion(-)

commit 3cd2f4453216436d3f742773c4a4c78a5984c363
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Nov 30 15:30:35 2016 +0000

    DRILL-5085: Update description for dynamic UDFs directories in drill-env.sh and drill-module.conf
    
    closes #672

 distribution/src/resources/drill-env.sh            |  7 +++++-
 .../src/resources/drill-override-example.conf      | 16 ++++++++++++-
 .../java/org/apache/drill/exec/ExecConstants.java  |  2 +-
 .../expr/fn/FunctionImplementationRegistry.java    | 15 ++++++------
 .../expr/fn/registry/RemoteFunctionRegistry.java   | 13 +++++-----
 .../java-exec/src/main/resources/drill-module.conf | 28 +++++++++++-----------
 .../org/apache/drill/TestDynamicUDFSupport.java    |  1 +
 7 files changed, 52 insertions(+), 30 deletions(-)

commit a6a0f2f070ff48d622916beb97d6da6f0b5faad1
Author: Paul Rogers <progers@maprtech.com>
Date:   Fri Dec 2 14:02:03 2016 -0800

    DRILL-5091: Handle new Java 8 JDBC functions and add missing test config parameter
    
    * JDBC unit test fails to set up test storage plugin config on Java 8
    * Cleans up compiler warnings seen in Eclipse.
    * Added TODO's based on code reviews
    
    closes #676

 .../org/apache/drill/exec/server/Drillbit.java     |  2 +-
 .../exec/store/StoragePluginRegistryImpl.java      |  8 +++
 .../exec/store/sys/PersistentStoreConfig.java      |  2 +-
 .../exec/store/sys/store/LocalPersistentStore.java | 17 +++---
 .../provider/CachingPersistentStoreProvider.java   |  3 +-
 .../provider/LocalPersistentStoreProvider.java     |  8 +--
 .../java/org/apache/drill/jdbc/JdbcTestBase.java   |  7 ++-
 ...rill2489CallsAfterCloseThrowExceptionsTest.java | 71 ++++++++++++++--------
 ...l2769UnsupportedReportsUseSqlExceptionTest.java | 66 ++++++++++++--------
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |  8 ++-
 10 files changed, 119 insertions(+), 73 deletions(-)

commit d9077a02d36c1d32c5310fb1728170b0f6f6995c
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue Dec 6 21:26:58 2016 -0800

    DRILL-5113: Upgrade Maven RAT plugin to avoid annoying XML errors
    
    Upgrade to eliminate XML compiler warnings that appear for each
    sub-project in the Drill build.
    
    Also fixes a Maven warning about a duplicated version error for
    the dependency plugin (version is inherited from root pom.xml).
    
    closes #682

 exec/java-exec/pom.xml | 45 ++++++++++++++++++++++-----------------------
 pom.xml                |  1 +
 2 files changed, 23 insertions(+), 23 deletions(-)

commit 11645dc8c5439e40a864cef085e102da5e25401d
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue Dec 6 19:38:38 2016 -0800

    DRILL-5108: Reduce output from Maven git-commit-id-plugin
    
    The git-commit-id-plugin grabs information from Git to display
    during a build. It prints many e-mail addresses and other generic
    project information. As part of the effort to trim down unit test
    output, we propose to turn off the verbose output from this plugin
    by default.
    
    closes #680

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 351dea61b7afc267fdac471372dff7b0c6f67eea
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue Nov 8 11:27:57 2016 -0800

    DRILL-5015: Randomly select the drillbit from the list provided by user in connection string
                Note: Improved the connection string validation and error handling during parsing.
                      Added unit test for the new parsing mechanism.
    
    close apache/drill#648

 .../org/apache/drill/exec/client/DrillClient.java  | 109 +++++++--
 .../apache/drill/exec/client/DrillClientTest.java  | 258 +++++++++++++++++++++
 .../drill/jdbc/impl/DrillConnectionImpl.java       |   3 +
 .../exec/rpc/InvalidConnectionInfoException.java   |  29 +++
 4 files changed, 386 insertions(+), 13 deletions(-)

commit 68bd27a128c2f244bd504369dce510727ea28da7
Author: chunhui-shi <cshi@maprtech.com>
Date:   Sun Oct 30 01:29:06 2016 -0700

    DRILL-4982: Separate Hive reader classes for different data formats to improve performance.
    
    1, Separating Hive reader classes allows optimization to apply on different classes in optimized ways. This  separation effectively avoid the performance degradation of scan.
    
    2, Do not apply Skip footer/header mechanism on most Hive formats. This skip mechanism introduces extra checks on each incoming records.
    
    close apache/drill#638

 .../storage-hive/core/src/main/codegen/config.fmpp |   1 +
 .../core/src/main/codegen/data/HiveFormats.tdd     |  50 ++++
 .../main/codegen/templates/HiveRecordReaders.java  | 300 +++++++++++++++++++++
 ...veRecordReader.java => HiveAbstractReader.java} | 236 +++-------------
 .../hive/HiveDrillNativeScanBatchCreator.java      |   2 +-
 .../exec/store/hive/HiveScanBatchCreator.java      |  58 ++--
 6 files changed, 432 insertions(+), 215 deletions(-)

commit 42006ad3324c778b3f3867079c9e75121c743c73
Author: Parth Chandra <parthc@apache.org>
Date:   Mon Nov 14 14:01:29 2016 -0800

    DRILL-5050: C++ client library has symbol resolution issues when loaded by a process that already uses boost::asio
    
    Build with Boost static libs and drill_boost namespace on mac. Added
    readme with instructions
    
    DRILL-5050: Addressed review comments
    
    DRILL-5050: address more review comments
    
    close apache/drill#659

 contrib/native/client/CMakeLists.txt |  14 +++--
 contrib/native/client/readme.boost   |  56 ++++++++++++++++++
 contrib/native/client/readme.macos   | 108 +++++++++++++++++++++++++++++++++++
 3 files changed, 173 insertions(+), 5 deletions(-)

commit 9062901fd1656ffacbd55a2b5cc7de6a03982590
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Nov 30 15:19:36 2016 -0800

    DRILL-5086: Fix conversion of min and max values to appropriate data type.
    
    close apache/drill#674

 .../exec/store/parquet/stat/ParquetMetaStatCollector.java    | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit db9d1b1e85e06197ef197c773394dfa724c1259c
Author: chunhui-shi <cshi@maprtech.com>
Date:   Thu Dec 1 17:55:12 2016 -0800

    DRILL-5094: Comparator should guarantee transitive attribute.
    
    close apache/drill#675

 .../java/org/apache/drill/exec/store/schedule/AssignmentCreator.java   | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 63ffeff889e59bfc9ef8d352f200c1e76a92e17a
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Apr 14 16:47:15 2016 +0000

    DRILL-4604: Generate warning on Web UI if drillbits version mismatch is detected
    
    close apache/drill#482

 .../drill/exec/coord/zk/ZKClusterCoordinator.java  |  14 +-
 .../apache/drill/exec/server/rest/DrillRoot.java   | 148 +++++++++++++----
 .../apache/drill/exec/service/ServiceEngine.java   |   2 +
 .../drill/exec/store/sys/DrillbitIterator.java     |   2 +
 exec/java-exec/src/main/resources/rest/index.ftl   |  63 +++++--
 .../exec/work/metadata/TestMetadataProvider.java   |   2 +-
 .../drill/exec/proto/CoordinationProtos.java       | 183 +++++++++++++++++++--
 .../drill/exec/proto/SchemaCoordinationProtos.java |   7 +
 .../drill/exec/proto/beans/DrillbitEndpoint.java   |  22 +++
 protocol/src/main/protobuf/Coordination.proto      |   1 +
 10 files changed, 376 insertions(+), 68 deletions(-)

commit bcb301c3eb2795b109dda4980a6647ce5e2803d2
Author: Sudheesh Katkam <sudheesh@apache.org>
Date:   Tue Nov 29 13:30:13 2016 -0800

    Update version to 1.10.0-SNAPSHOT

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/format-maprdb/pom.xml                | 2 +-
 contrib/gis/pom.xml                          | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 2 +-
 contrib/storage-kudu/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/memory/base/pom.xml                     | 2 +-
 exec/memory/pom.xml                          | 2 +-
 exec/pom.xml                                 | 2 +-
 exec/rpc/pom.xml                             | 2 +-
 exec/vector/pom.xml                          | 2 +-
 logical/pom.xml                              | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 tools/fmpp/pom.xml                           | 2 +-
 tools/pom.xml                                | 2 +-
 28 files changed, 28 insertions(+), 28 deletions(-)

commit 04fb0be191ef09409c00ca7173cb903dfbe2abb0
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Nov 3 16:20:04 2016 +0000

    DRILL-4995: Allow lazy init when dynamic UDF support is disabled
    
    This closes #645

 .../expr/fn/FunctionImplementationRegistry.java    | 79 +++++++++++-----------
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 15 ++--
 .../org/apache/drill/TestDynamicUDFSupport.java    | 25 +++++++
 .../record/ExpressionTreeMaterializerTest.java     | 10 +++
 4 files changed, 79 insertions(+), 50 deletions(-)

commit 3f3811818ecc3bbf6f307a408c30f0406fadc703
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Thu Oct 20 05:03:13 2016 -0700

    DRILL-4831: Running refresh table metadata concurrently randomly fails with JsonParseException
    
    This closes #653

 .../apache/drill/exec/store/parquet/Metadata.java  | 68 +++++++++++++++++++---
 1 file changed, 60 insertions(+), 8 deletions(-)

commit cf29b917af4002a1ba0ef750ff3f5a553e910f8e
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Wed Oct 26 12:22:06 2016 +0000

    DRILL-4980: Upgrading of the approach of parquet date correctness status detection - Parquet writer version is added; - Updated the detection method of parquet date correctness.
    
    This closes #644

 .../apache/drill/exec/store/parquet/Metadata.java  |  61 +++++++++------------
 .../exec/store/parquet/ParquetReaderUtility.java   |  48 +++++++++++-----
 .../exec/store/parquet/ParquetRecordWriter.java    |   4 +-
 .../drill/exec/store/parquet/ParquetWriter.java    |  12 ++++
 .../writer/TestCorruptParquetDateCorrection.java   |   6 +-
 .../1_9_0_partitioned_no_corruption/0_0_1.parquet  | Bin 290 -> 292 bytes
 .../1_9_0_partitioned_no_corruption/0_0_2.parquet  | Bin 290 -> 292 bytes
 .../1_9_0_partitioned_no_corruption/0_0_3.parquet  | Bin 290 -> 292 bytes
 .../1_9_0_partitioned_no_corruption/0_0_4.parquet  | Bin 290 -> 292 bytes
 .../1_9_0_partitioned_no_corruption/0_0_5.parquet  | Bin 290 -> 292 bytes
 .../1_9_0_partitioned_no_corruption/0_0_6.parquet  | Bin 290 -> 292 bytes
 .../4203_corrected_dates.parquet                   | Bin 311 -> 313 bytes
 ...rsion_partitioned_metadata.requires_replace.txt |   2 +-
 13 files changed, 76 insertions(+), 57 deletions(-)

commit 2de3a27c3440429d9bf852b6595542ce2bd0fd1b
Author: Korn, Uwe <Uwe.Korn@blue-yonder.com>
Date:   Wed Nov 9 13:02:20 2016 +0100

    DRILL-4979: Make port of the DataConnection configurable
    
    This closes #649

 .../src/main/java/org/apache/drill/exec/ExecConstants.java         | 1 +
 .../java/org/apache/drill/exec/rpc/data/DataConnectionCreator.java | 7 ++++++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 1c23173549ee53481316c85a65028f6ff9fb1b93
Author: Harrison Mebane <harrison@svds.com>
Date:   Fri Oct 7 13:10:36 2016 -0700

    DRILL-4935: Allow drillbits to advertise a configurable host address to
    Zookeeper
    
    This closes #647

 distribution/src/resources/drill-env.sh                       |  4 ++++
 .../java/org/apache/drill/exec/service/ServiceEngine.java     | 11 ++++++++++-
 2 files changed, 14 insertions(+), 1 deletion(-)

commit 35275536c4a000b5e995769b893505928361d17c
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Nov 17 12:44:34 2016 +0000

    DRILL-5047: When session option is string, query profile is displayed incorrectly on Web UI
    
    closes #655

 .../exec/server/rest/profile/ProfileWrapper.java     | 20 ++++++++++++++++++--
 .../src/main/resources/rest/profile/profile.ftl      |  9 +++++----
 2 files changed, 23 insertions(+), 6 deletions(-)

commit 4b1902c042d3e8f426f54ec04b78813ac64aa120
Author: Parth Chandra <parthc@apache.org>
Date:   Mon Nov 7 20:29:23 2016 -0800

    DRILL-5009: Skip reading of empty row groups while reading Parquet metadata
    
    + We will no longer attempt to scan such row groups.
    
    closes #651

 .../hive/HiveDrillNativeScanBatchCreator.java      |  4 ++++
 .../apache/drill/exec/store/parquet/Metadata.java  | 22 ++++++++++++++++++++++
 2 files changed, 26 insertions(+)

commit e03507a48765f83464917319476cdbe3a9adec45
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Nov 9 13:08:18 2016 +0200

    DRILL-5007: Dynamic UDF lazy-init does not work correctly in multi-node cluster
    
    closes #650

 .../org/apache/drill/exec/expr/fn/FunctionImplementationRegistry.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5a439424594eb10d113163eaa1fdf8034f387235
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Sat Nov 5 12:37:10 2016 -0700

    Add Sudheesh's PGP Key

 KEYS | 57 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 57 insertions(+)

commit 010aa6aac62ece002889a94aaec122e2adf5759f
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Aug 3 11:56:43 2016 +0000

    DRILL-4823: Fix OOM while trying to prune partitions with reasonable data size
    
    closes #560

 .../expr/fn/interpreter/InterpreterEvaluator.java  | 42 ++++++++++++++++------
 .../org/apache/drill/exec/ops/FragmentContext.java | 21 +++++++++++
 .../org/apache/drill/exec/ops/QueryContext.java    | 23 ++++++++++++
 .../org/apache/drill/exec/ops/UdfUtilities.java    | 11 ++++++
 4 files changed, 87 insertions(+), 10 deletions(-)

commit 0672d49b6d731566d3ad8b1594336e6842e65e98
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Oct 11 19:30:14 2016 +0300

    DRILL-4674: Allow casting to boolean the same literals as in Postgres
    
    closes #610

 .../org/apache/drill/exec/expr/BooleanType.java    |  79 ++++++++++++
 .../exec/expr/fn/impl/SimpleCastFunctions.java     |  19 +--
 .../drill/exec/sql/TestSimpleCastFunctions.java    | 135 ++++++++++++++++++++-
 3 files changed, 214 insertions(+), 19 deletions(-)

commit 3fd69387591ebd56286b39749adc1dd721b3f14d
Author: Laurent Goujon <laurent@dremio.com>
Date:   Wed Oct 26 17:17:08 2016 -0700

    DRILL-4969: Basic implementation of display size for column metadata
    
    Add a simple implementation of display size, based on the ODBC table
    available at: https://msdn.microsoft.com/en-us/library/ms713974(v=vs.85).aspx
    
    closes #632

 .../java/org/apache/drill/common/types/Types.java  | 78 ++++++++++++++++++++++
 .../work/prepare/PreparedStatementProvider.java    | 27 ++++----
 .../prepare/TestPreparedStatementProvider.java     | 64 ++++++++++--------
 .../drill/jdbc/impl/DrillColumnMetaDataList.java   |  7 +-
 .../apache/drill/jdbc/PreparedStatementTest.java   | 66 ++++++++++--------
 .../apache/drill/jdbc/ResultSetMetaDataTest.java   |  3 +-
 6 files changed, 173 insertions(+), 72 deletions(-)

commit 2365ac05524e21b2d084e5138e70a24092fe1bd8
Author: Laurent Goujon <laurent@dremio.com>
Date:   Fri Oct 14 11:27:28 2016 -0700

    DRILL-4945: Report INTERVAL exact type as column type name
    
    closes #618

 .../java/org/apache/drill/common/types/Types.java  |  6 ++++--
 .../apache/drill/jdbc/ResultSetMetaDataTest.java   | 23 +++++++++++-----------
 2 files changed, 15 insertions(+), 14 deletions(-)

commit 9411b26ece34ed8b2f498deea5e41f1901eb1013
Author: Jinfeng Ni <jni@apache.org>
Date:   Fri Nov 4 14:56:52 2016 -0700

    DRILL-1950: Parquet rowgroup level filter pushdown in query planning time.
    
    Implement Parquet rowgroup level filter pushdown. The filter pushdown is performed in
    in Drill physical planning phase.
    
    Only a local filter, which refers to columns in a single table, is qualified for filter pushdown.
    
    A filter may be qualified if it is a simple comparison filter, or a compound "and/or" filter consists of
    simple comparison filter. Data types allowed in comparison filter are int, bigint, float, double, date,
    timestamp, time. Comparison operators are =, !=, <, <=, >, >=. Operands have to be a column of the above
    data types, or an explicit cast or implicit cast function, or a constant expressions.
    
    This closes #637

 .../java/org/apache/drill/common/types/Types.java  |   1 +
 .../exec/expr/ExpressionTreeMaterializer.java      |  78 +++-
 .../exec/expr/fn/FunctionGenerationHelper.java     |   7 +
 .../expr/fn/interpreter/InterpreterEvaluator.java  |  83 ++--
 .../exec/expr/stat/ParquetFilterPredicate.java     |  23 +
 .../drill/exec/expr/stat/ParquetPredicates.java    | 352 +++++++++++++++
 .../drill/exec/expr/stat/RangeExprEvaluator.java   | 275 ++++++++++++
 .../drill/exec/expr/stat/TypedFieldExpr.java       |  63 +++
 .../apache/drill/exec/planner/PlannerPhase.java    |  39 +-
 .../exec/planner/physical/PlannerSettings.java     |  15 +
 .../planner/sql/handlers/DefaultSqlHandler.java    |   6 +
 .../exec/server/options/SystemOptionManager.java   |   2 +
 .../drill/exec/store/ImplicitColumnExplorer.java   |  25 +-
 .../parquet/ParquetCompareFunctionProcessor.java   | 280 ------------
 .../exec/store/parquet/ParquetFilterBuilder.java   | 481 +++++++++++----------
 .../drill/exec/store/parquet/ParquetGroupScan.java | 168 ++++++-
 .../exec/store/parquet/ParquetPushDownFilter.java  | 189 ++++----
 .../store/parquet/ParquetRGFilterEvaluator.java    | 115 +++++
 .../exec/store/parquet/ParquetRowGroupScan.java    |  17 +-
 .../store/parquet/ParquetScanBatchCreator.java     |   3 +-
 .../columnreaders/ParquetToDrillTypeConverter.java |  25 +-
 .../store/parquet/stat/ColumnStatCollector.java    |  32 ++
 .../exec/store/parquet/stat/ColumnStatistics.java  |  40 ++
 .../parquet/stat/ParquetFooterStatCollector.java   | 199 +++++++++
 .../parquet/stat/ParquetMetaStatCollector.java     | 170 ++++++++
 .../java/org/apache/drill/TestPartitionFilter.java |  12 +-
 .../test/java/org/apache/drill/TestUnionAll.java   |   2 +-
 .../test/java/org/apache/drill/exec/ExecTest.java  |  14 +
 .../org/apache/drill/exec/expr/ExpressionTest.java |   8 -
 .../exec/fn/interp/ExpressionInterpreterTest.java  |   8 -
 .../physical/impl/join/TestNestedLoopJoin.java     |   2 +-
 .../exec/store/parquet/TestFileGenerator.java      |   2 +-
 .../store/parquet/TestParquetFilterPushDown.java   | 413 ++++++++++++++++++
 .../parquetFilterPush/dateTbl1_9/t1/0_0_0.parquet  | Bin 0 -> 337 bytes
 .../dateTblCorrupted/t1/0_0_0.parquet              | Bin 0 -> 304 bytes
 .../dateTblCorrupted/t2/0_0_0.parquet              | Bin 0 -> 307 bytes
 .../dateTblCorrupted/t3/0_0_0.parquet              | Bin 0 -> 292 bytes
 .../parquetFilterPush/intTbl/intAllNull.parquet    | Bin 0 -> 232 bytes
 .../parquetFilterPush/intTbl/intTbl.parquet        | Bin 0 -> 341 bytes
 .../parquetFilterPush/tsTbl/t1/0_0_0.parquet       | Bin 0 -> 339 bytes
 .../parquetFilterPush/tsTbl/t2/0_0_0.parquet       | Bin 0 -> 353 bytes
 .../parquetFilterPush/tsTbl/t3/0_0_0.parquet       | Bin 0 -> 337 bytes
 .../drill/common/expression/ValueExpressions.java  |  15 +
 .../drill/common/expression/fn/CastFunctions.java  |   9 +
 44 files changed, 2447 insertions(+), 726 deletions(-)

commit 0d4319b25274ba4661a40766302bab318d20709b
Author: Jinfeng Ni <jni@apache.org>
Date:   Sun Oct 30 21:30:12 2016 -0700

    DRILL-1950: Update parquet metadata cache format to include both min/max and additional column type information.
    
        Parquet meta cache format change:
        1. include both min/max in ColumnMetaData if column statistics is available,
        2. include precision/scale/repetitionLevel/definitionLevel in ColumnTypeMetaData (precision/scale/definitionLevel is for future use).

 .../apache/drill/exec/store/parquet/Metadata.java  | 567 +++++++++++++++++++--
 1 file changed, 519 insertions(+), 48 deletions(-)

commit 8ce1f03331970172dfd9d967504c60fd9752716a
Author: AdamPD <adam@pharmadata.net.au>
Date:   Thu Jun 30 14:09:53 2016 -0700

    DRILL-1950: Initial prototype patch for parquet filter pushdown.
    
    Use three new classes from Adam's patch.

 .../parquet/ParquetCompareFunctionProcessor.java   | 280 ++++++++++++++++++++
 .../exec/store/parquet/ParquetFilterBuilder.java   | 284 +++++++++++++++++++++
 .../exec/store/parquet/ParquetPushDownFilter.java  | 142 +++++++++++
 3 files changed, 706 insertions(+)

commit a459e4dbbc242fe0d06b221afe5f830780fc682e
Author: Parth Chandra <parthc@apache.org>
Date:   Fri Nov 4 11:05:40 2016 -0700

    DRILL-5400: Fix NPE in corrupt date detection
    
    This closes #646

 .../java/org/apache/drill/exec/store/parquet/ParquetReaderUtility.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ee3489ce3b6e5ad53e5c3a59b6e2e4e50773c630
Author: Parth Chandra <parthc@apache.org>
Date:   Tue Sep 13 21:47:49 2016 -0700

    DRILL-4800: Various fixes. Fix buffer underflow exception in BufferedDirectBufInputStream. Fix writer index for in64 dictionary encoded types. Added logging to help debug. Fix memory leaks. Work around issues with of InputStream.available() ( Do not use hasRemainder; Remove check for EOF in BufferedDirectBufInputStream.read() ). Finalize defaults. Remove commented code.
    Addressed review comments
    
    This closes #611

 .../test/java/org/apache/drill/test/DrillTest.java |  2 +-
 .../apache/drill/exec/ops/OperatorContextImpl.java |  3 +
 .../apache/drill/exec/server/BootStrapContext.java |  7 +-
 .../parquet/columnreaders/AsyncPageReader.java     | 71 ++++++++--------
 .../store/parquet/columnreaders/ColumnReader.java  | 61 ++++----------
 .../NullableFixedByteAlignedReaders.java           |  3 +
 .../store/parquet/columnreaders/PageReader.java    | 16 ++--
 .../parquet/columnreaders/ParquetRecordReader.java | 20 +++--
 .../parquet/columnreaders/VarLenBinaryReader.java  | 86 +++----------------
 .../filereader/BufferedDirectBufInputStream.java   | 97 +++++++++++-----------
 .../exec/util/filereader/DirectBufInputStream.java | 21 ++++-
 .../physical/impl/writer/TestParquetWriter.java    |  3 +-
 12 files changed, 165 insertions(+), 225 deletions(-)

commit 7f5acf8f06f4ab2a2efc9801d322b81436794004
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Aug 24 10:46:37 2016 -0700

    DRILL-4800: Parallelize column reading. Read/Decode fixed width fields in parallel Decoding var length columns in parallel Use simplified decompress method for Gzip and Snappy decompression. Avoids concurrency issue with Parquet decompression. (It's also faster). Stress test Parquet read write Parallel column reader is disabled by default (may perform less well under higher concurrency)

 .../test/java/org/apache/drill/test/DrillTest.java |   2 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../parquet/columnreaders/AsyncPageReader.java     |  88 ++++++++++++-
 .../store/parquet/columnreaders/ColumnReader.java  | 113 ++++++++++++++++-
 .../columnreaders/FixedByteAlignedReader.java      |   2 +-
 .../store/parquet/columnreaders/PageReader.java    |   1 +
 .../parquet/columnreaders/ParquetRecordReader.java |  34 ++++-
 .../parquet/columnreaders/VarLenBinaryReader.java  | 140 +++++++++++++++++++--
 .../physical/impl/writer/TestParquetWriter.java    | 109 +++++++++++-----
 .../src/test/resources/supplier_snappy.parquet     | Bin 0 -> 10467 bytes
 11 files changed, 436 insertions(+), 57 deletions(-)

commit f9a443d8a3d8e81b7e76f161b611003d16a53a4d
Author: Parth Chandra <parthc@apache.org>
Date:   Tue Sep 27 14:03:35 2016 -0700

    DRILL-4800: Add AsyncPageReader to pipeline PageRead Use non tracking input stream for Parquet scans. Make choice between async and sync reader configurable. Make various options user configurable - choose between sync and async page reader, enable/disable fadvise Add Parquet Scan metrics to track time spent in various operations

 .../src/resources/drill-override-example.conf      |   4 +
 .../java/org/apache/drill/exec/ExecConstants.java  |  15 +
 .../org/apache/drill/exec/ops/OperatorContext.java |   6 +
 .../apache/drill/exec/ops/OperatorContextImpl.java |  21 +-
 .../drill/exec/ops/OperatorMetricRegistry.java     |   2 +
 .../org/apache/drill/exec/ops/OperatorStats.java   |  16 +-
 .../apache/drill/exec/server/BootStrapContext.java |  33 +-
 .../apache/drill/exec/server/DrillbitContext.java  |   6 +
 .../exec/server/options/SystemOptionManager.java   |   5 +-
 .../exec/store/parquet/ParquetReaderStats.java     |  42 +--
 .../store/parquet/ParquetScanBatchCreator.java     |  14 +-
 .../parquet/columnreaders/AsyncPageReader.java     | 332 +++++++++++++++++++++
 .../store/parquet/columnreaders/ColumnReader.java  |  36 ++-
 .../store/parquet/columnreaders/PageReader.java    | 160 +++++-----
 .../parquet/columnreaders/ParquetRecordReader.java | 102 +++++--
 .../parquet/columnreaders/VarLenBinaryReader.java  |   6 +-
 .../filereader/BufferedDirectBufInputStream.java   |  51 ++--
 .../java-exec/src/main/resources/drill-module.conf |   4 +
 .../src/main/resources/rest/profile/profile.ftl    |   2 +-
 19 files changed, 684 insertions(+), 173 deletions(-)

commit fe2334ee0234aa37637f17d7833e734333b73892
Author: Parth Chandra <parthc@apache.org>
Date:   Fri Jun 10 14:56:41 2016 -0700

    DRILL-4800: Use a buffering input stream in the Parquet reader

 .../java/org/apache/drill/exec/ExecConstants.java  |   4 +
 .../org/apache/drill/exec/ops/OperatorContext.java |   6 +-
 .../apache/drill/exec/ops/OperatorContextImpl.java |   5 +
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../store/parquet/columnreaders/PageReader.java    | 122 ++++--
 .../parquet/columnreaders/ParquetRecordReader.java |  16 +-
 .../filereader/BufferedDirectBufInputStream.java   | 460 +++++++++++++++++++++
 .../exec/util/filereader/DirectBufInputStream.java | 166 ++++++++
 8 files changed, 727 insertions(+), 53 deletions(-)

commit 190d5d46d8ec21efa31ee6dcb3d0d031efde4280
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Wed Nov 2 15:51:56 2016 +0000

    DRILL-4989: Fix TestParquetWriter.testImpalaParquetBinaryAsTimeStamp_DictChange
    
    closes #643

 .../org/apache/drill/exec/physical/impl/writer/TestParquetWriter.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e044f5a9d007266b9094fb8899d0a05df0b0dd0d
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue Nov 1 11:26:03 2016 -0700

    DRILL-4986: Allow users to customize the Drill log file name
    
    Adds a new user-settable environment variable to choose the log file
    base name.
    
    closes #641

 distribution/src/resources/drill-config.sh | 3 ++-
 distribution/src/resources/drill-env.sh    | 4 ++++
 2 files changed, 6 insertions(+), 1 deletion(-)

commit e146aebe52038a17b43a1bb67852380d11f40cbe
Author: chunhui-shi <cshi@maprtech.com>
Date:   Tue Oct 18 13:28:00 2016 -0700

    DRILL-4951: Do Guava.patch earlier so we can run single Hbase's unit test through command line or IDE
    
    closes #636

 .../src/test/java/com/mapr/drill/maprdb/tests/json/BaseJsonTest.java | 5 ++---
 .../src/test/java/org/apache/drill/hbase/BaseHBaseTest.java          | 5 -----
 exec/java-exec/src/test/java/org/apache/drill/exec/ExecTest.java     | 5 +++++
 3 files changed, 7 insertions(+), 8 deletions(-)

commit 6782f0ade3344842c34c24bfc80aebeda6ef3df5
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Jul 19 16:54:18 2016 +0000

    DRILL-4792: Include session options used for a query as part of the profile
    
    closes #551

 .../drill/exec/server/options/OptionValue.java     |   4 +
 .../exec/server/rest/profile/ProfileWrapper.java   |  19 +-
 .../drill/exec/work/foreman/QueryManager.java      |  16 +-
 .../src/main/resources/rest/profile/profile.ftl    |  36 ++
 .../drill/exec/proto/SchemaUserBitShared.java      |  14 +
 .../org/apache/drill/exec/proto/UserBitShared.java | 447 ++++++++++++++++++---
 .../apache/drill/exec/proto/beans/QueryInfo.java   |  22 +
 .../drill/exec/proto/beans/QueryProfile.java       |  22 +
 protocol/src/main/protobuf/UserBitShared.proto     |   2 +
 9 files changed, 513 insertions(+), 69 deletions(-)

commit 5f34c960e80a0938a4ce2666654a60df17fe402b
Author: Roman Kulyk <rom.kulyk@gmail.com>
Date:   Fri Oct 28 13:26:53 2016 +0000

    DRILL-4927 (part 2): Add support for Null Equality Joins (mixed comparators)
    
    This changes are a subset of the original pull request from DRILL-4539 (PR-462).
    - Added changes to support mixed comparators;
    - Added tests for it.
    
    closes #635

 .../exec/physical/impl/aggregate/HashAggBatch.java |  13 ++-
 .../physical/impl/aggregate/HashAggTemplate.java   |   3 +-
 .../physical/impl/common/ChainedHashTable.java     |  22 ++--
 .../exec/physical/impl/common/Comparator.java      |  27 +++++
 .../exec/physical/impl/common/HashTableConfig.java |  11 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |  23 +++--
 .../drill/exec/physical/impl/join/JoinUtils.java   |  40 +++-----
 .../exec/physical/impl/join/MergeJoinBatch.java    |  14 ++-
 .../drill/exec/planner/physical/JoinPrel.java      |  29 ++----
 .../java/org/apache/drill/TestJoinNullable.java    | 112 ++++++++++++++++++++-
 .../test/resources/jsoninput/nullEqualJoin1.json   |  32 ++++++
 .../test/resources/jsoninput/nullEqualJoin2.json   |  32 ++++++
 12 files changed, 277 insertions(+), 81 deletions(-)

commit 83513daf0903e0d94fcaad7b1ae4e8ad6272b494
Author: Laurent Goujon <laurent@dremio.com>
Date:   Tue Oct 11 16:35:18 2016 -0700

    DRILL-1996: Add cancel method to Drill C++ connector
    
    This closes #602

 contrib/native/client/example/querySubmitter.cpp   |   9 +-
 .../native/client/src/clientlib/drillClient.cpp    |   8 +
 .../client/src/clientlib/drillClientImpl.cpp       | 174 ++++++++++++---------
 .../client/src/clientlib/drillClientImpl.hpp       |   1 +
 .../client/src/include/drill/drillClient.hpp       |   7 +
 5 files changed, 124 insertions(+), 75 deletions(-)

commit 166c4ce7600b5571249a6748dd57383479313e2e
Author: Laurent Goujon <laurent@dremio.com>
Date:   Mon Aug 15 14:17:35 2016 -0700

    DRILL-4420: C++ API for metadata access and prepared statements
    
    Add support to the C++ client for metadata querying and prepared
    statement requests.
    
    Part of the metadata API, add methods to query for server capabilities.
    As of now, this interface is not backed up by any RPC exchange so
    the information is pretty much static, and match Drill 1.8.0
    current capabilities.

 contrib/native/client/CMakeLists.txt               |    9 +-
 contrib/native/client/example/querySubmitter.cpp   |   24 +-
 contrib/native/client/src/clientlib/CMakeLists.txt |    8 +-
 .../client/src/clientlib/collectionsImpl.hpp       |  123 ++
 .../native/client/src/clientlib/drillClient.cpp    |  237 ++--
 .../client/src/clientlib/drillClientImpl.cpp       | 1315 ++++++++++++--------
 .../client/src/clientlib/drillClientImpl.hpp       |  392 +++---
 contrib/native/client/src/clientlib/env.h.in       |    9 +
 contrib/native/client/src/clientlib/errmsgs.cpp    |    2 +-
 contrib/native/client/src/clientlib/fieldmeta.cpp  |  406 ++++++
 contrib/native/client/src/clientlib/metadata.cpp   |  748 +++++++++++
 contrib/native/client/src/clientlib/metadata.hpp   |  288 +++++
 .../native/client/src/clientlib/recordBatch.cpp    |   12 +-
 contrib/native/client/src/clientlib/rpcDecoder.cpp |  153 ---
 contrib/native/client/src/clientlib/rpcEncoder.cpp |  109 --
 contrib/native/client/src/clientlib/rpcEncoder.hpp |   55 -
 contrib/native/client/src/clientlib/rpcMessage.cpp |  241 ++++
 contrib/native/client/src/clientlib/rpcMessage.hpp |   15 +-
 contrib/native/client/src/clientlib/utils.cpp      |    7 +
 contrib/native/client/src/clientlib/utils.hpp      |    1 -
 contrib/native/client/src/clientlib/y2038/time64.c |   18 +-
 .../client/src/clientlib/zookeeperClient.cpp       |  168 +++
 .../client/src/clientlib/zookeeperClient.hpp       |   71 ++
 .../client/src/include/drill/collections.hpp       |  179 +++
 contrib/native/client/src/include/drill/common.hpp |   18 +
 .../client/src/include/drill/drillClient.hpp       |  998 ++++++++++++++-
 contrib/native/client/src/include/drill/drillc.hpp |    2 +
 .../native/client/src/include/drill/fieldmeta.hpp  |  122 ++
 .../drill/preparedStatement.hpp}                   |   26 +-
 .../client/src/include/drill/recordBatch.hpp       |   35 +-
 contrib/native/client/src/test/CMakeLists.txt      |    1 +
 contrib/native/client/src/test/CollectionsTest.cpp |  215 ++++
 protocol/src/main/protobuf/User.proto              |    2 +-
 33 files changed, 4794 insertions(+), 1215 deletions(-)

commit 3a35a4200e748ed557c55d6d13ac995cce28ab09
Author: Laurent Goujon <laurent@dremio.com>
Date:   Mon Aug 22 14:54:19 2016 -0700

    DRILL-1268: Add unit test to C++ native client
    
    Add CppUnit unit test to the C++ native client

 contrib/native/client/CMakeLists.txt               | 44 +++++++++++++-
 .../native/client/cmakeModules/FindCppUnit.cmake   | 67 ++++++++++++++++++++++
 .../native/client/cmakeModules/FindZookeeper.cmake |  4 +-
 contrib/native/client/readme.win.txt               | 21 +++++--
 contrib/native/client/src/clientlib/utils.hpp      |  2 +-
 contrib/native/client/src/test/CMakeLists.txt      | 40 +++++++++++++
 contrib/native/client/src/test/UtilsTest.cpp       | 51 ++++++++++++++++
 contrib/native/client/src/test/main.cpp            | 39 +++++++++++++
 8 files changed, 259 insertions(+), 9 deletions(-)

commit 2558803ecdfc961bb630e9e2372255c44f986d06
Author: Laurent Goujon <laurent@dremio.com>
Date:   Thu Aug 18 09:55:59 2016 -0700

    DRILL-4853: Update C++ protobuf source files
    
    Add support for prepared statements and metadata querying

 contrib/native/client/readme.linux                 |    10 +
 contrib/native/client/scripts/fixProtodefs.sh      |    20 +-
 contrib/native/client/src/protobuf/CMakeLists.txt  |     2 +-
 .../client/src/protobuf/ExecutionProtos.pb.cc      |   310 +-
 .../client/src/protobuf/ExecutionProtos.pb.h       |   214 +-
 contrib/native/client/src/protobuf/User.pb.cc      | 10122 +++++++++++++++++--
 contrib/native/client/src/protobuf/User.pb.h       |  8099 ++++++++++++++-
 .../native/client/src/protobuf/UserBitShared.pb.cc |   583 +-
 .../native/client/src/protobuf/UserBitShared.pb.h  |   344 +-
 9 files changed, 18543 insertions(+), 1161 deletions(-)

commit 7e7214b40784668d1599f265067f789aedb6cf86
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Fri Sep 2 21:43:50 2016 +0000

    DRILL-4373: Drill and Hive have incompatible timestamp representations in parquet - added sys/sess option "store.parquet.int96_as_timestamp"; - added int96 to timestamp converter for both readers; - added unit tests;
    
    This closes #600

 .../ConvertHiveParquetScanToDrillParquetScan.java  |   3 +-
 .../drill/exec/store/hive/HiveStoragePlugin.java   |   2 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +
 .../fn/impl/conv/ConvertFromImpalaTimestamp.java   |  35 +++++++---
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../exec/store/parquet/ParquetReaderUtility.java   |  39 +++++++++--
 .../parquet/columnreaders/ColumnReaderFactory.java |  15 +++-
 .../NullableFixedByteAlignedReaders.java           |  28 ++++++++
 .../parquet/columnreaders/ParquetRecordReader.java |   4 ++
 .../columnreaders/ParquetToDrillTypeConverter.java |   7 +-
 .../store/parquet2/DrillParquetGroupConverter.java |  32 ++++++++-
 .../test/java/org/apache/drill/TestBuilder.java    |  11 +++
 .../physical/impl/writer/TestParquetWriter.java    |  76 +++++++++++++++++++--
 .../resources/parquet/int96_dict_change/000000_0   | Bin 0 -> 270 bytes
 .../resources/parquet/int96_dict_change/000000_1   | Bin 0 -> 312 bytes
 .../testParquetReader/testInt96DictChange/q1.tsv   |  12 ++++
 16 files changed, 240 insertions(+), 27 deletions(-)

commit 4a82bc137865393f6f88b31805ad7c62cc9ca20b
Author: cgivre <cgivre@gmail.com>
Date:   Wed Oct 5 23:29:26 2016 -0400

    DRILL-3243: Added CSG mods. Fixed field names.
    Removed old test files
    Added Parse_url and parse_query() functions
    Fix unit test
    
    This closes #607

 .../exec/expr/fn/impl/ParseQueryFunction.java      |  87 ++++
 .../drill/exec/expr/fn/impl/ParseUrlFunction.java  | 153 +++++++
 .../drill/exec/store/httpd/HttpdFormatPlugin.java  | 487 ---------------------
 .../exec/store/httpd/HttpdLogFormatPlugin.java     |   3 +-
 .../drill/exec/store/httpd/HttpdLogRecord.java     |   2 +-
 .../apache/drill/exec/store/httpd/HttpdParser.java | 123 +++++-
 .../drill/exec/store/httpd/HttpdParserTest.java    |   2 +-
 .../store/dfs/TestFormatPluginOptionExtractor.java |   3 +
 .../exec/store/httpd/TestHttpdLogFormatPlugin.java |  97 ----
 .../drill/exec/store/httpd/TestHttpdPlugin.java    |  31 --
 10 files changed, 364 insertions(+), 624 deletions(-)

commit 46c0f2a4135450417dfebf52f11538f8926fd467
Author: Jim Scott <jim@13ways.com>
Date:   Tue Nov 3 15:43:54 2015 -0600

    DRILL-3423: Adding HTTPd Log Parsing functionality including full pushdown, type remapping and wildcard support.
     Pushed through the requested columns for push down to the parser. Added more tests to cover a few more use cases. Ensured that user query fields are now completely consistent with returned values.

 exec/java-exec/pom.xml                             |   3 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   1 +
 .../exec/store/httpd/HttpdLogFormatPlugin.java     | 246 +++++++++++++++++
 .../drill/exec/store/httpd/HttpdLogRecord.java     | 299 +++++++++++++++++++++
 .../apache/drill/exec/store/httpd/HttpdParser.java | 171 ++++++++++++
 .../main/resources/bootstrap-storage-plugins.json  |   5 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  76 +++++-
 .../drill/exec/store/httpd/HttpdParserTest.java    |  48 ++++
 .../exec/store/httpd/TestHttpdLogFormatPlugin.java |  97 +++++++
 .../drill/exec/store/text/TestTextColumn.java      | 103 ++-----
 .../test/resources/bootstrap-storage-plugins.json  |   4 +-
 .../test/resources/store/httpd/dfs-bootstrap.httpd |   2 +
 .../store/httpd/dfs-test-bootstrap-test.httpd      |   5 +
 pom.xml                                            |   1 +
 14 files changed, 976 insertions(+), 85 deletions(-)

commit 818f94507b9d1792282a4bb8abd2d22d2fc2eb57
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jul 28 15:29:32 2015 -0700

    DRILL-3423: Initial HTTPD log plugin. Needs tests. Would be good to improve the timestamp and cookies behaviors since we can make those more type specific.

 exec/java-exec/pom.xml                             |   6 +
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  15 +-
 .../drill/exec/store/httpd/HttpdFormatPlugin.java  | 487 +++++++++++++++++++++
 .../main/resources/bootstrap-storage-plugins.json  |   4 +
 .../drill/exec/store/httpd/TestHttpdPlugin.java    |  31 ++
 .../test/resources/bootstrap-storage-plugins.json  |   4 +
 .../src/test/resources/store/httpd/example1.httpd  |   1 +
 7 files changed, 542 insertions(+), 6 deletions(-)

commit 1e6fa00cd4b0b1db41614749f6d12c03f0ca7990
Author: hongze.zhz <hongze.zhz@alibaba-inc.com>
Date:   Fri Sep 9 16:19:16 2016 +0800

    DRILL-4884: Fix IOB exception in limit n query when n is beyond 65535.
    
    close apache/drill#584

 .../exec/physical/impl/limit/LimitRecordBatch.java |   4 ++--
 .../test/java/org/apache/drill/TestBugFixes.java   |  21 +++++++++++++++++++++
 .../limit_test_parquet/test0_0_0.parquet           | Bin 0 -> 428815 bytes
 3 files changed, 23 insertions(+), 2 deletions(-)

commit 2081d76c9cfa33a796dba8a2676747edeccd9dfe
Author: Jinfeng Ni <jni@apache.org>
Date:   Thu Sep 8 15:50:43 2016 -0700

    DRILL-4967: Adding template_name to source code generated using freemarker template.
    
    close apache/drill#629

 .../src/main/codegen/templates/AbstractRecordWriter.java     |  3 +++
 .../codegen/templates/AggrBitwiseLogicalTypeFunctions.java   |  2 +-
 .../src/main/codegen/templates/AggrTypeFunctions1.java       |  4 +++-
 .../src/main/codegen/templates/AggrTypeFunctions2.java       |  4 +++-
 .../src/main/codegen/templates/AggrTypeFunctions3.java       |  4 +++-
 exec/java-exec/src/main/codegen/templates/CastDateDate.java  |  3 +++
 .../src/main/codegen/templates/CastDateVarChar.java          |  4 ++++
 exec/java-exec/src/main/codegen/templates/CastFunctions.java |  4 ++++
 .../src/main/codegen/templates/CastFunctionsSrcVarLen.java   |  3 +++
 .../templates/CastFunctionsSrcVarLenTargetVarLen.java        |  4 ++++
 .../main/codegen/templates/CastFunctionsTargetVarLen.java    |  3 +++
 exec/java-exec/src/main/codegen/templates/CastHigh.java      |  3 +++
 .../src/main/codegen/templates/CastIntervalInterval.java     |  3 +++
 .../src/main/codegen/templates/CastIntervalVarChar.java      |  3 +++
 .../src/main/codegen/templates/CastVarCharDate.java          |  3 +++
 .../src/main/codegen/templates/CastVarCharInterval.java      |  3 +++
 .../src/main/codegen/templates/ComparisonFunctions.java      |  4 ++++
 .../src/main/codegen/templates/ConvertToNullableHolder.java  |  4 ++++
 .../src/main/codegen/templates/CorrelationTypeFunctions.java |  4 ++++
 .../src/main/codegen/templates/CountAggregateFunctions.java  |  5 ++++-
 .../src/main/codegen/templates/CovarTypeFunctions.java       |  7 ++++---
 .../main/codegen/templates/DateIntervalAggrFunctions1.java   |  5 ++++-
 .../DateDateArithmeticFunctions.java                         |  4 ++++
 .../DateIntervalArithmeticFunctions.java                     |  7 +++++++
 .../DateIntervalFunctionTemplates/DateToCharFunctions.java   |  4 ++++
 .../DateIntervalFunctionTemplates/DateTruncFunctions.java    |  4 ++++
 .../templates/DateIntervalFunctionTemplates/Extract.java     |  4 ++++
 .../IntervalIntervalArithmetic.java                          |  3 +++
 .../IntervalNumericArithmetic.java                           |  3 +++
 .../DateIntervalFunctionTemplates/ToDateTypeFunctions.java   |  4 ++++
 .../DateIntervalFunctionTemplates/ToTimeStampFunction.java   |  4 +++-
 .../templates/Decimal/CastDecimalDenseDecimalSparse.java     |  3 +++
 .../src/main/codegen/templates/Decimal/CastDecimalFloat.java |  8 ++++++++
 .../src/main/codegen/templates/Decimal/CastDecimalInt.java   |  7 +++++++
 .../main/codegen/templates/Decimal/CastDecimalSimilar.java   |  4 ++++
 .../templates/Decimal/CastDecimalSparseDecimalDense.java     |  4 ++++
 .../main/codegen/templates/Decimal/CastDecimalVarchar.java   |  8 ++++++++
 .../main/codegen/templates/Decimal/CastDownwardDecimal.java  | 12 ++++++++++++
 .../src/main/codegen/templates/Decimal/CastFloatDecimal.java |  4 ++++
 .../src/main/codegen/templates/Decimal/CastIntDecimal.java   |  4 ++++
 .../main/codegen/templates/Decimal/CastSrcDecimalSimple.java | 12 ++++++++++++
 .../main/codegen/templates/Decimal/CastVarCharDecimal.java   |  8 ++++++++
 .../codegen/templates/Decimal/DecimalAggrTypeFunctions1.java |  4 ++++
 .../codegen/templates/Decimal/DecimalAggrTypeFunctions2.java |  4 ++++
 .../src/main/codegen/templates/Decimal/DecimalFunctions.java |  7 +++++++
 .../src/main/codegen/templates/DirectoryExplorers.java       |  4 ++--
 .../src/main/codegen/templates/EventBasedRecordWriter.java   |  3 +++
 .../src/main/codegen/templates/IntervalAggrFunctions2.java   |  4 ++++
 .../src/main/codegen/templates/MathFunctionTemplates.java    |  3 +++
 exec/java-exec/src/main/codegen/templates/MathFunctions.java |  3 +++
 .../src/main/codegen/templates/NewValueFunctions.java        |  3 +++
 exec/java-exec/src/main/codegen/templates/NullOperator.java  |  3 +++
 .../main/codegen/templates/NumericFunctionsTemplates.java    |  3 +++
 .../src/main/codegen/templates/NumericToCharFunctions.java   |  3 +++
 .../src/main/codegen/templates/ParquetTypeHelper.java        |  4 ++++
 .../src/main/codegen/templates/RecordValueAccessor.java      |  4 ++++
 exec/java-exec/src/main/codegen/templates/RecordWriter.java  |  4 ++++
 exec/java-exec/src/main/codegen/templates/SqlAccessors.java  |  3 +++
 exec/java-exec/src/main/codegen/templates/SumZeroAggr.java   |  4 ++--
 exec/java-exec/src/main/codegen/templates/TypeHelper.java    |  3 +++
 .../src/main/codegen/templates/VarCharAggrFunctions1.java    |  4 +++-
 .../src/main/codegen/templates/AbstractFieldReader.java      |  3 +++
 exec/vector/src/main/codegen/templates/BaseReader.java       |  4 +++-
 exec/vector/src/main/codegen/templates/BasicTypeHelper.java  |  4 +++-
 exec/vector/src/main/codegen/templates/ComplexReaders.java   |  4 +++-
 exec/vector/src/main/codegen/templates/NullReader.java       |  4 +++-
 exec/vector/src/main/codegen/templates/UnionReader.java      |  3 +++
 exec/vector/src/main/codegen/templates/ValueHolders.java     |  3 +++
 68 files changed, 269 insertions(+), 19 deletions(-)

commit 00ee1236e54a30268358de2810208509efbea9f0
Author: karthik <kmanivannan@maprtech.com>
Date:   Thu Oct 20 13:43:17 2016 -0700

    DRILL-4974: Add missing null check in FindPartitionConditions.analyzeCall()
    
    close apache/drill#634

 .../planner/logical/partition/FindPartitionConditions.java | 14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit c17b7556a7a319c4d8c25bf542e94f937f59b976
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Fri Oct 28 09:08:23 2016 -0700

    DRILL-4972: Remove setDaemon(true) call in WorkManager.StatusThread
    
    closes #633

 .../java-exec/src/main/java/org/apache/drill/exec/work/WorkManager.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ca3733e38197f77c6bd7f8b7e03cdd9f5dd87f18
Author: Sorabh Hamirwasia <shamirwasia@maprtech.com>
Date:   Tue Oct 25 18:52:01 2016 -0700

    DRILL-4964: Make Drill reconnect to hive metastore after hive metastore is restarted.
    
    Drill fails to connect to hive metastore after hive metastore is restarted unless drillbits are restarted.
    
    Changes: For methods DrillHiveMetaStoreClient.getAllDatabases() and DrillHiveMetaStoreClient.getAllTables(),
    the HiveMetaStoreClient wraps MetaException and TException both into MetaException. In case of connection
    failure which is thrown as TException it is difficult to categorize at DrillClient level. The fix is to
    close older connection and reconnect in case of these 2 api's. In all other cases proper set of exceptions
    are thrown where we can handle each one individually.
    
    close apache/drill#628

 .../exec/store/hive/DrillHiveMetaStoreClient.java      | 18 +++++++++++++-----
 1 file changed, 13 insertions(+), 5 deletions(-)

commit 03e8f9f3e01c56a9411bb4333e4851c92db6e410
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Aug 3 23:02:01 2016 -0700

    DRILL-4826: Query against INFORMATION_SCHEMA.TABLES degrades as the number of views
    increases
    
    This closes #592

 .../exec/store/hive/DrillHiveMetaStoreClient.java  | 26 ++++++++++++
 .../exec/store/hive/schema/HiveDatabaseSchema.java | 32 +++++++--------
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     | 34 ++++++++++++++++
 .../java/org/apache/drill/exec/ExecConstants.java  |  8 ++++
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../apache/drill/exec/store/AbstractSchema.java    | 21 +++++++++-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 47 ++++++++++++++++++++++
 .../store/ischema/InfoSchemaRecordGenerator.java   | 31 +++++++-------
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |  2 +-
 9 files changed, 168 insertions(+), 34 deletions(-)

commit c6dbe6a2f7033114d6239a4850a9b5092e684589
Author: Laurent Goujon <laurent@dremio.com>
Date:   Wed Oct 26 15:17:33 2016 -0700

    DRILL-4968: Add column size to ColumnMetadata
    
    Add a column size to ColumnMetadata so that JDBC and ODBC clients share
    the implementation and don't have to recompute it client side.
    
    this closes #631

 .../apache/drill/exec/store/ischema/Records.java   | 117 ++++++++++++-
 .../drill/exec/work/metadata/MetadataProvider.java |   4 +
 .../apache/drill/exec/proto/SchemaUserProtos.java  |   7 +
 .../org/apache/drill/exec/proto/UserProtos.java    | 194 +++++++++++++++------
 .../drill/exec/proto/beans/ColumnMetadata.java     |  22 +++
 protocol/src/main/protobuf/User.proto              |   1 +
 6 files changed, 282 insertions(+), 63 deletions(-)

commit 4ee1d4c7723250714e4b1f0cfbb2cf702a71a24c
Author: Paul Rogers <progers@maprtech.com>
Date:   Wed Oct 19 12:15:12 2016 -0700

    DRILL-4560: When new bits register, invoke listeners in ZKClusterCoordinator
    
    close apache/drill#626
    
    Original JIRA title: ZKClusterCoordinator does not call
    DrillbitStatusListener.drillbitRegistered for new bits

 .../apache/drill/exec/coord/zk/ZKClusterCoordinator.java | 16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

commit 2c43535adc59c5995e2ebe80df570fad9ba1aab3
Author: Padma Penumarthy <ppenumar97@yahoo.com>
Date:   Mon Oct 17 16:46:51 2016 -0700

    DRILL-4905: Push down the LIMIT to the parquet reader scan to limit the numbers of records read
    
    close apache/drill#597

 .../drill/exec/store/parquet/ParquetGroupScan.java | 69 +++++++++++++++++-----
 .../store/parquet/ParquetScanBatchCreator.java     |  2 +-
 .../exec/store/parquet/RowGroupReadEntry.java      | 10 +++-
 .../parquet/columnreaders/ParquetRecordReader.java | 38 +++++++++++-
 .../store/parquet/ParquetRecordReaderTest.java     | 65 +++++++++++++++++++-
 5 files changed, 163 insertions(+), 21 deletions(-)

commit 4efc9f248ef7ef4b86660a1a73a9f44662c082ba
Author: Smidth Panchamia <spanchamia@mapr.com>
Date:   Wed Oct 19 17:29:31 2016 -0700

    DRILL-4954: Fix printing Strings when `allTextMode` is ON for MapR-DB JSON tables.
    
    close apache/drill#624

 .../store/mapr/db/json/MaprDBJsonRecordReader.java     | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit de557862d036d12b2dcedf48c30c294482b9a65d
Author: Boaz Ben-Zvi <boaz@mapr.com>
Date:   Tue Oct 18 16:01:11 2016 -0700

    DRILL-4921: Added -P to "cd" in scripts to allow for symbolic links
    
    close apache/drill#623

 distribution/src/resources/drill-conf      | 2 +-
 distribution/src/resources/drill-config.sh | 2 +-
 distribution/src/resources/drill-embedded  | 2 +-
 distribution/src/resources/drill-localhost | 2 +-
 distribution/src/resources/drillbit.sh     | 2 +-
 distribution/src/resources/dumpcat         | 2 +-
 distribution/src/resources/submit_plan     | 2 +-
 7 files changed, 7 insertions(+), 7 deletions(-)

commit 6d2b948120e799bc27c1593baf8df81f6f30f94b
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue Oct 18 14:22:53 2016 -0700

    DRILL-4950: Remove incorrect false condition; consume all empty batches
    
    closes #621

 .../main/java/org/apache/drill/jdbc/impl/DrillCursor.java   | 13 -------------
 1 file changed, 13 deletions(-)

commit 13f21e14b4f0832abba8e5632d8fa4e7a6a27635
Author: Laurent Goujon <laurent@dremio.com>
Date:   Tue Oct 18 15:01:38 2016 -0700

    DRILL-4369: Exchange name and version infos during handshake
    
    There's no name and version exchanged between client and server over the User RPC
    channel.
    
    On client side, having access to the server name and version is useful to expose it
    to the user (through JDBC or ODBC api like DatabaseMetadata#getDatabaseProductVersion()),
    or to implement fallback strategy when some recent API are not available (like
    metadata API).
    
    On the server side, having access to the client version might be useful for audit
    purposes and eventually to implement fallback strategy if it doesn't require a RPC
    version change.
    
    this closes #622

 .../java/org/apache/drill/version/Generator.java   |   90 -
 .../main/codegen/templates/DrillVersionInfo.java   |   79 +
 .../org/apache/drill/exec/client/DrillClient.java  |   37 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |   25 +-
 .../apache/drill/exec/rpc/user/UserRpcUtils.java   |   59 +
 .../org/apache/drill/exec/rpc/user/UserServer.java |   20 +-
 .../org/apache/drill/jdbc/ITTestShadedJar.java     |   30 +
 exec/jdbc/pom.xml                                  |    6 +
 .../drill/jdbc/impl/DrillConnectionImpl.java       |    9 +-
 .../drill/jdbc/impl/DrillDatabaseMetaDataImpl.java |   29 +-
 .../org/apache/drill/jdbc/impl/DriverImpl.java     |    3 +-
 .../main/resources/apache-drill-jdbc.properties    |   21 +
 .../java/org/apache/drill/jdbc/DriverTest.java     |   34 +-
 exec/vector/pom.xml                                |   22 -
 .../apache/drill/exec/proto/SchemaUserProtos.java  |  164 ++
 .../org/apache/drill/exec/proto/UserProtos.java    | 1959 ++++++++++++++++++--
 .../drill/exec/proto/beans/BitToUserHandshake.java |   24 +
 .../drill/exec/proto/beans/RpcEndpointInfos.java   |  273 +++
 .../drill/exec/proto/beans/UserToBitHandshake.java |   24 +
 protocol/src/main/protobuf/User.proto              |   11 +
 .../java/org/apache/drill/fmpp/mojo/FMPPMojo.java  |   19 +-
 .../apache/drill/fmpp/mojo/MavenDataLoader.java    |   55 +
 22 files changed, 2695 insertions(+), 298 deletions(-)

commit db48298920575cb1c2283e03bdfc7b50e83ae217
Author: Subbu Srinivasan <ssrinivasan@zscaler.com>
Date:   Fri Jun 10 15:58:49 2016 -0700

    DRILL-4653: Malformed JSON should not stop the entire query from progressing
    
    This closes #518

 .../java/org/apache/drill/exec/ExecConstants.java  |   5 +-
 .../exec/server/options/SystemOptionManager.java   |   4 +
 .../exec/store/easy/json/JSONRecordReader.java     |  68 ++--
 .../drill/exec/store/easy/json/JsonProcessor.java  |   5 +
 .../store/easy/json/reader/BaseJsonProcessor.java  |  69 +++-
 .../store/easy/json/reader/CountingJsonReader.java |  44 ++-
 .../drill/exec/vector/complex/fn/JsonReader.java   | 356 ++++++++++++---------
 .../exec/store/json/TestJsonRecordReader.java      | 179 ++++++++---
 .../test/resources/jsoninput/drill4653/file.json   |  10 +
 9 files changed, 476 insertions(+), 264 deletions(-)

commit 42948feb4a45f98f3d116d2e2a765cc3fadb5937
Author: Francois Methot <fmethot78@gmail.com>
Date:   Tue Sep 20 20:16:15 2016 -0400

    DRILL-3178: csv reader should allow newlines inside quotes
    
    This closes #593

 .../exec/store/easy/text/compliant/TextInput.java  | 60 +++++++++++++---------
 .../exec/store/easy/text/compliant/TextReader.java |  4 +-
 .../drill/exec/store/text/TestNewTextReader.java   | 19 +++++++
 .../test/resources/store/text/WithQuotedCrLf.tbl   |  6 +++
 4 files changed, 62 insertions(+), 27 deletions(-)

commit 89f2633f612a645666de8f51dcb19c6f8044a95e
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon Aug 22 13:29:30 2016 +0000

    DRILL-4726: Dynamic UDF Support
    
    1) Configuration / parsing / options / protos
    2) Zookeeper integration
    3) Registration / unregistration / lazy-init
    4) Unit tests
    
    This closes #574

 .../apache/drill/common/config/DrillConfig.java    |    9 +
 .../apache/drill/common/scanner/RunTimeScan.java   |   21 +
 distribution/src/resources/drill-config.sh         |   18 +
 distribution/src/resources/sqlline.bat             |    5 +
 exec/java-exec/src/main/codegen/data/Parser.tdd    |    7 +-
 .../src/main/codegen/includes/parserImpls.ftl      |   40 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   27 +-
 .../drill/exec/coord/zk/ZkEphemeralStore.java      |   17 +-
 .../drill/exec/coord/zk/ZookeeperClient.java       |  101 +-
 .../exec/exception/FunctionNotFoundException.java  |   27 +
 .../exception/FunctionValidationException.java     |   28 +
 .../exec/exception/JarValidationException.java     |   28 +
 .../exec/exception/VersionMismatchException.java   |   33 +
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |   28 +
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |    6 +-
 .../drill/exec/expr/fn/FunctionConverter.java      |    4 +-
 .../expr/fn/FunctionImplementationRegistry.java    |  342 ++++-
 .../drill/exec/expr/fn/FunctionInitializer.java    |   21 +-
 .../exec/expr/fn/registry/FunctionHolder.java      |   54 +
 .../expr/fn/registry/FunctionRegistryHolder.java   |  377 +++++
 .../drill/exec/expr/fn/registry/JarScan.java       |   53 +
 .../LocalFunctionRegistry.java}                    |  200 ++-
 .../expr/fn/registry/RemoteFunctionRegistry.java   |  269 ++++
 .../org/apache/drill/exec/ops/QueryContext.java    |    5 +
 .../drill/exec/planner/sql/DrillOperatorTable.java |   24 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   27 +-
 .../drill/exec/planner/sql/SqlConverter.java       |    9 +
 .../sql/handlers/CreateFunctionHandler.java        |  328 +++++
 .../planner/sql/handlers/DropFunctionHandler.java  |  167 +++
 .../sql/parser/CompoundIdentifierConverter.java    |    2 +
 .../exec/planner/sql/parser/SqlCreateFunction.java |   79 ++
 .../exec/planner/sql/parser/SqlDropFunction.java   |   79 ++
 .../exec/rpc/user/InboundImpersonationManager.java |    6 +-
 .../org/apache/drill/exec/server/Drillbit.java     |    1 +
 .../apache/drill/exec/server/DrillbitContext.java  |    5 +
 .../drill/exec/server/options/OptionValidator.java |   14 +
 .../exec/server/options/SystemOptionManager.java   |    3 +-
 .../drill/exec/server/options/TypeValidators.java  |   51 +-
 .../drill/exec/store/sys/BasePersistentStore.java  |   18 +-
 .../drill/exec/store/sys/PersistentStore.java      |   21 +
 .../exec/store/sys/store/DataChangeVersion.java    |   32 +
 .../store/sys/store/ZookeeperPersistentStore.java  |   36 +-
 .../exec/testing/store/NoWriteLocalStore.java      |   61 +-
 .../java/org/apache/drill/exec/util/JarUtil.java   |   33 +
 .../java-exec/src/main/resources/drill-module.conf |   29 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |   14 -
 .../org/apache/drill/TestDynamicUDFSupport.java    |  801 +++++++++++
 .../test/java/org/apache/drill/exec/ExecTest.java  |   22 +-
 .../drill/exec/coord/zk/TestZookeeperClient.java   |   49 +-
 .../fn/registry/FunctionRegistryHolderTest.java    |  279 ++++
 .../exec/physical/impl/TestSimpleFunctions.java    |   20 +-
 .../test/resources/jars/DrillUDF-1.0-sources.jar   |  Bin 0 -> 1892 bytes
 .../src/test/resources/jars/DrillUDF-1.0.jar       |  Bin 0 -> 3146 bytes
 .../test/resources/jars/DrillUDF-2.0-sources.jar   |  Bin 0 -> 1891 bytes
 .../src/test/resources/jars/DrillUDF-2.0.jar       |  Bin 0 -> 3142 bytes
 .../resources/jars/DrillUDF_Copy-1.0-sources.jar   |  Bin 0 -> 1892 bytes
 .../src/test/resources/jars/DrillUDF_Copy-1.0.jar  |  Bin 0 -> 3185 bytes
 .../jars/DrillUDF_DupFunc-1.0-sources.jar          |  Bin 0 -> 1888 bytes
 .../test/resources/jars/DrillUDF_DupFunc-1.0.jar   |  Bin 0 -> 3201 bytes
 .../resources/jars/DrillUDF_Empty-1.0-sources.jar  |  Bin 0 -> 536 bytes
 .../src/test/resources/jars/DrillUDF_Empty-1.0.jar |  Bin 0 -> 1863 bytes
 .../jars/DrillUDF_NoMarkerFile-1.0-sources.jar     |  Bin 0 -> 1715 bytes
 .../resources/jars/DrillUDF_NoMarkerFile-1.0.jar   |  Bin 0 -> 3084 bytes
 .../resources/jars/v2/DrillUDF-1.0-sources.jar     |  Bin 0 -> 1899 bytes
 .../src/test/resources/jars/v2/DrillUDF-1.0.jar    |  Bin 0 -> 3215 bytes
 .../org/apache/drill/jdbc/ITTestShadedJar.java     |   19 +
 .../drill/exec/proto/SchemaUserBitShared.java      |  231 ++++
 .../org/apache/drill/exec/proto/UserBitShared.java | 1439 +++++++++++++++++++-
 .../org/apache/drill/exec/proto/beans/Jar.java     |  195 +++
 .../apache/drill/exec/proto/beans/Registry.java    |  175 +++
 protocol/src/main/protobuf/UserBitShared.proto     |   20 +
 71 files changed, 5811 insertions(+), 198 deletions(-)

commit 8461d10b4fd6ce56361d1d826bb3a38b6dc8473c
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Sep 19 12:59:27 2016 +0000

    DRILL-4203: Parquet File. Date is stored wrongly - Added new extra field in the parquet meta info "is.date.correct = true"; - Removed unnecessary double conversion of value with Julian day; - Added ability to correct corrupted dates for parquet files with the second version old metadata cache file as well.
    
    This closes #595

 .../hive/HiveDrillNativeScanBatchCreator.java      |   1 +
 .../templates/ParquetOutputRecordWriter.java       |   8 +-
 .../apache/drill/exec/store/parquet/Metadata.java  |  34 +++-
 .../exec/store/parquet/ParquetFormatConfig.java    |   5 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  19 +-
 .../exec/store/parquet/ParquetReaderUtility.java   | 167 ++++++++--------
 .../exec/store/parquet/ParquetRecordWriter.java    |   2 +
 .../store/parquet/ParquetScanBatchCreator.java     |   1 +
 .../columnreaders/FixedByteAlignedReader.java      |  10 +-
 .../NullableFixedByteAlignedReaders.java           |  10 +-
 .../parquet/columnreaders/ParquetRecordReader.java |   8 -
 .../store/parquet2/DrillParquetGroupConverter.java |  10 +-
 .../writer/TestCorruptParquetDateCorrection.java   | 210 +++++++++++----------
 .../1_9_0_partitioned_no_corruption/0_0_1.parquet  | Bin 257 -> 290 bytes
 .../1_9_0_partitioned_no_corruption/0_0_2.parquet  | Bin 257 -> 290 bytes
 .../1_9_0_partitioned_no_corruption/0_0_3.parquet  | Bin 257 -> 290 bytes
 .../1_9_0_partitioned_no_corruption/0_0_4.parquet  | Bin 257 -> 290 bytes
 .../1_9_0_partitioned_no_corruption/0_0_5.parquet  | Bin 257 -> 290 bytes
 .../1_9_0_partitioned_no_corruption/0_0_6.parquet  | Bin 257 -> 290 bytes
 .../hive1dot2_fewtypes_null/000000_0               | Bin 0 -> 2569 bytes
 .../4203_corrected_dates.parquet                   | Bin 278 -> 311 bytes
 ...rsion_partitioned_metadata.requires_replace.txt |   2 +-
 22 files changed, 261 insertions(+), 226 deletions(-)

commit ae34d5c30582de777db19360abf013bc50c8640b
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Dec 31 10:22:04 2015 -0600

    DRILL-4203: Fix date values written in parquet files created by Drill
    
    Drill was writing non-standard dates into parquet files for all releases
    before 1.9.0. The values have been read by Drill correctly by Drill, but
    external tools like Spark reading the files will see corrupted values for
    all dates that have been written by Drill.
    
    This change corrects the behavior of the Drill parquet writer to correctly
    store dates in the format given in the parquet specification.
    
    To maintain compatibility with old files, the parquet reader code has
    been updated to check for the old format and automatically shift the
    corrupted values into corrected ones automatically.
    
    The test cases included here should ensure that all files produced by
    historical versions of Drill will continue to return the same values they
    had in previous releases. For compatibility with external tools, any old
    files with corrupted dates can be re-written using the CREATE TABLE AS
    command (as the writer will now only produce the specification-compliant
    values, even if after reading out of older corrupt files).
    
    While the old behavior was a consistent shift into an unlikely range
    to be used in a modern database (over 10,000 years in the future), these are still
    valid date values. In the case where these may have been written into
    files intentionally, and we cannot be certain from the metadata if Drill
    produced the files, an option is included to turn off the auto-correction.
    Use of this option is assumed to be extremely unlikely, but it is included
    for completeness.
    
    This patch was originally written against version 1.5.0, when rebasing
    the corruption threshold was updated to 1.9.0.
    
    Added regenerated binary files, updated metadata cache files accordingly.
    
    One small fix in the ParquetGroupScan to accommodate changes in master that changed
    when metadata is read.
    
    Tests for bugs revealed by the regression suite.
    
    Fix drill version number in metadata file generation

 .../hive/HiveDrillNativeScanBatchCreator.java      |   8 +-
 .../templates/ParquetOutputRecordWriter.java       |   4 +-
 .../sql/handlers/RefreshMetadataHandler.java       |   5 +-
 .../apache/drill/exec/store/parquet/Metadata.java  |  77 ++-
 .../exec/store/parquet/ParquetFormatConfig.java    |  22 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |   9 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  34 +-
 .../exec/store/parquet/ParquetReaderUtility.java   | 232 +++++++++
 .../store/parquet/ParquetScanBatchCreator.java     |   8 +-
 .../parquet/columnreaders/ColumnReaderFactory.java |  28 +-
 .../columnreaders/FixedByteAlignedReader.java      |  65 ++-
 .../NullableFixedByteAlignedReaders.java           |  63 ++-
 .../parquet/columnreaders/ParquetRecordReader.java |  85 +++-
 .../store/parquet2/DrillParquetGroupConverter.java |  71 ++-
 .../exec/store/parquet2/DrillParquetReader.java    |   8 +-
 .../parquet2/DrillParquetRecordMaterializer.java   |   6 +-
 .../java/org/apache/drill/DrillTestWrapper.java    |   4 +-
 .../writer/TestCorruptParquetDateCorrection.java   | 539 +++++++++++++++++++++
 .../store/dfs/TestFormatPluginOptionExtractor.java |   4 +-
 .../store/parquet/ParquetRecordReaderTest.java     |   2 +-
 .../1_9_0_partitioned_no_corruption/0_0_1.parquet  | Bin 0 -> 257 bytes
 .../1_9_0_partitioned_no_corruption/0_0_2.parquet  | Bin 0 -> 257 bytes
 .../1_9_0_partitioned_no_corruption/0_0_3.parquet  | Bin 0 -> 257 bytes
 .../1_9_0_partitioned_no_corruption/0_0_4.parquet  | Bin 0 -> 257 bytes
 .../1_9_0_partitioned_no_corruption/0_0_5.parquet  | Bin 0 -> 257 bytes
 .../1_9_0_partitioned_no_corruption/0_0_6.parquet  | Bin 0 -> 257 bytes
 ...drill.parquet.metadata_1_2.requires_replace.txt | 119 +++++
 .../fewtypes_datepartition/0_0_1.parquet           | Bin 0 -> 1226 bytes
 .../fewtypes_datepartition/0_0_10.parquet          | Bin 0 -> 1258 bytes
 .../fewtypes_datepartition/0_0_11.parquet          | Bin 0 -> 1238 bytes
 .../fewtypes_datepartition/0_0_12.parquet          | Bin 0 -> 1258 bytes
 .../fewtypes_datepartition/0_0_13.parquet          | Bin 0 -> 1226 bytes
 .../fewtypes_datepartition/0_0_14.parquet          | Bin 0 -> 1201 bytes
 .../fewtypes_datepartition/0_0_15.parquet          | Bin 0 -> 1216 bytes
 .../fewtypes_datepartition/0_0_16.parquet          | Bin 0 -> 1253 bytes
 .../fewtypes_datepartition/0_0_17.parquet          | Bin 0 -> 1231 bytes
 .../fewtypes_datepartition/0_0_18.parquet          | Bin 0 -> 1216 bytes
 .../fewtypes_datepartition/0_0_19.parquet          | Bin 0 -> 1186 bytes
 .../fewtypes_datepartition/0_0_2.parquet           | Bin 0 -> 1268 bytes
 .../fewtypes_datepartition/0_0_20.parquet          | Bin 0 -> 1228 bytes
 .../fewtypes_datepartition/0_0_21.parquet          | Bin 0 -> 1231 bytes
 .../fewtypes_datepartition/0_0_3.parquet           | Bin 0 -> 1278 bytes
 .../fewtypes_datepartition/0_0_4.parquet           | Bin 0 -> 1242 bytes
 .../fewtypes_datepartition/0_0_5.parquet           | Bin 0 -> 1335 bytes
 .../fewtypes_datepartition/0_0_6.parquet           | Bin 0 -> 1222 bytes
 .../fewtypes_datepartition/0_0_7.parquet           | Bin 0 -> 1273 bytes
 .../fewtypes_datepartition/0_0_8.parquet           | Bin 0 -> 1263 bytes
 .../fewtypes_datepartition/0_0_9.parquet           | Bin 0 -> 1268 bytes
 .../fewtypes_varcharpartition/0_0_1.parquet        | Bin 0 -> 2128 bytes
 .../fewtypes_varcharpartition/0_0_10.parquet       | Bin 0 -> 2086 bytes
 .../fewtypes_varcharpartition/0_0_11.parquet       | Bin 0 -> 2121 bytes
 .../fewtypes_varcharpartition/0_0_12.parquet       | Bin 0 -> 2114 bytes
 .../fewtypes_varcharpartition/0_0_13.parquet       | Bin 0 -> 2128 bytes
 .../fewtypes_varcharpartition/0_0_14.parquet       | Bin 0 -> 2068 bytes
 .../fewtypes_varcharpartition/0_0_15.parquet       | Bin 0 -> 2054 bytes
 .../fewtypes_varcharpartition/0_0_16.parquet       | Bin 0 -> 2114 bytes
 .../fewtypes_varcharpartition/0_0_17.parquet       | Bin 0 -> 2135 bytes
 .../fewtypes_varcharpartition/0_0_18.parquet       | Bin 0 -> 2223 bytes
 .../fewtypes_varcharpartition/0_0_19.parquet       | Bin 0 -> 2072 bytes
 .../fewtypes_varcharpartition/0_0_2.parquet        | Bin 0 -> 2107 bytes
 .../fewtypes_varcharpartition/0_0_20.parquet       | Bin 0 -> 2012 bytes
 .../fewtypes_varcharpartition/0_0_21.parquet       | Bin 0 -> 2033 bytes
 .../fewtypes_varcharpartition/0_0_3.parquet        | Bin 0 -> 2068 bytes
 .../fewtypes_varcharpartition/0_0_4.parquet        | Bin 0 -> 2075 bytes
 .../fewtypes_varcharpartition/0_0_5.parquet        | Bin 0 -> 2075 bytes
 .../fewtypes_varcharpartition/0_0_6.parquet        | Bin 0 -> 2091 bytes
 .../fewtypes_varcharpartition/0_0_7.parquet        | Bin 0 -> 2063 bytes
 .../fewtypes_varcharpartition/0_0_8.parquet        | Bin 0 -> 2142 bytes
 .../fewtypes_varcharpartition/0_0_9.parquet        | Bin 0 -> 2054 bytes
 .../4203_corrected_dates.parquet                   | Bin 0 -> 278 bytes
 .../4203_corrupt_dates.parquet                     | Bin 0 -> 181 bytes
 .../4203_corrupted_dates_1.4.parquet               | Bin 0 -> 278 bytes
 .../drill_0_6_currupt_dates_no_stats.parquet       | Bin 0 -> 181 bytes
 ...rsion_partitioned_metadata.requires_replace.txt | 301 ++++++++++++
 .../null_date_cols_with_corruption_4203.parquet    | Bin 0 -> 364 bytes
 .../partitioned_with_corruption_4203/0_0_1.parquet | Bin 0 -> 257 bytes
 .../partitioned_with_corruption_4203/0_0_2.parquet | Bin 0 -> 257 bytes
 .../partitioned_with_corruption_4203/0_0_3.parquet | Bin 0 -> 257 bytes
 .../partitioned_with_corruption_4203/0_0_4.parquet | Bin 0 -> 257 bytes
 .../partitioned_with_corruption_4203/0_0_5.parquet | Bin 0 -> 257 bytes
 .../partitioned_with_corruption_4203/0_0_6.parquet | Bin 0 -> 257 bytes
 .../0_0_1.parquet                                  | Bin 0 -> 160 bytes
 .../0_0_2.parquet                                  | Bin 0 -> 160 bytes
 .../0_0_3.parquet                                  | Bin 0 -> 160 bytes
 .../0_0_4.parquet                                  | Bin 0 -> 160 bytes
 .../0_0_5.parquet                                  | Bin 0 -> 160 bytes
 .../0_0_6.parquet                                  | Bin 0 -> 160 bytes
 87 files changed, 1607 insertions(+), 87 deletions(-)

commit 2f4b5ef717ed78a1ebb65687af9688a902e02041
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Wed Jan 27 10:20:01 2016 -0800

    DRILL-4203: Fix DrillVersionInfo to make it provide a valid version number even during the unit tests.
    
    This is now a build-time generated class, rather than one that looks on the
    classpath for META-INF files.
    
    This pattern for file generation with parameters passed from the POM files
    was borrowed from parquet-mr.

 .../apache/drill/common/util/DrillVersionInfo.java | 58 --------------
 .../java/org/apache/drill/version/Generator.java   | 90 ++++++++++++++++++++++
 exec/vector/pom.xml                                | 22 ++++++
 3 files changed, 112 insertions(+), 58 deletions(-)

commit 17b96484998691687a00aa74cd69eef2fff6bae1
Author: Paul Rogers <progers@maprtech.com>
Date:   Fri Oct 7 13:53:38 2016 -0700

    DRILL-4870 drill-config.sh sets JAVA_HOME incorrectly for the Mac
    
    This closes #605

 distribution/src/resources/drill-config.sh | 4 +++-
 distribution/src/resources/drillbit.sh     | 2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit d0464ab9eed8ab118d85af3a36ab1024de5e6af3
Author: Laurent Goujon <laurent@dremio.com>
Date:   Tue Sep 27 13:37:31 2016 -0700

    DRILL-4925: Add tableType filter to GetTables metadata query
    
    - Adding tableType filter to GetTablesReq query (needed for JDBC and ODBC
    drivers).
    - Fix table type returned by sys and INFORMATION_SCHEMA tables
    - Also fixes some protobuf typos to related classes.
    
    this closes #612
    
    Change-Id: If95246a312f6c6d64a88872936f516308874c2d2

 .../org/apache/drill/exec/client/DrillClient.java  |  22 +-
 .../drill/exec/planner/logical/DrillTable.java     |  24 +-
 .../exec/store/ischema/InfoSchemaDrillTable.java   |  10 +-
 .../drill/exec/store/ischema/InfoSchemaFilter.java |  28 +-
 .../store/ischema/InfoSchemaRecordGenerator.java   |  27 +-
 .../drill/exec/store/ischema/InfoSchemaTable.java  |  65 +-
 .../exec/store/ischema/InfoSchemaTableType.java    |  15 +-
 .../drill/exec/store/sys/StaticDrillTable.java     |   6 +-
 .../drill/exec/store/sys/SystemTablePlugin.java    |  13 +-
 .../drill/exec/work/metadata/MetadataProvider.java |  65 +-
 .../exec/work/metadata/TestMetadataProvider.java   |  71 +-
 .../apache/drill/jdbc/test/TestJdbcMetadata.java   |   2 +-
 .../apache/drill/exec/proto/SchemaUserProtos.java  |  47 +-
 .../org/apache/drill/exec/proto/UserProtos.java    | 980 ++++++++++++---------
 .../drill/exec/proto/beans/GetColumnsReq.java      |  22 +-
 .../drill/exec/proto/beans/GetSchemasReq.java      |  22 +-
 .../drill/exec/proto/beans/GetTablesReq.java       |  54 +-
 .../apache/drill/exec/proto/beans/LikeFilter.java  |  22 +-
 protocol/src/main/protobuf/User.proto              |   9 +-
 19 files changed, 935 insertions(+), 569 deletions(-)

commit 4304817a834323f3f9525722af3b95b988d2e474
Author: Laurent Goujon <laurent@dremio.com>
Date:   Tue Oct 4 16:35:50 2016 -0700

    DRILL-4930: Fix Metadata results ordering
    
    Change MetadataProvider to return metadata results ordered (following
    convention used by ODBC and JDBC specs).
    
    this closes #614
    
    Change-Id: Iff59b7fada7040602f1735bccc13bc6bf5c9a252

 .../drill/exec/work/metadata/MetadataProvider.java | 73 ++++++++++++++++++++--
 1 file changed, 68 insertions(+), 5 deletions(-)

commit 09abcc32cc9d6e3de23d3daf633d34fb6183d0f3
Author: Laurent Goujon <laurent@dremio.com>
Date:   Mon Sep 26 17:14:59 2016 -0700

    DRILL-4880: Support JDBC driver registration using ServiceLoader
    
    Support loading Drill driver using ServiceLoader. From the user perspective,
    it means being able to use the driver without registering it first, like by using
    Class.forName("org.apache.drill.jdbc.Driver") for example.
    
    this closes #596
    
    Change-Id: Id26922ee42bef5fbce46ac2bcbb83f1859e9bb48

 exec/jdbc-all/pom.xml                              | 11 ++++++++++-
 exec/jdbc/pom.xml                                  |  1 +
 .../resources/META-INF/services/java.sql.Driver    |  1 +
 .../org/apache/drill/jdbc/test/JdbcDataTest.java   | 22 +++++++++++++++++++++-
 4 files changed, 33 insertions(+), 2 deletions(-)

commit a888ce6ec289a5ecfe056d4db5da417dd4cc95f5
Author: Laurent Goujon <laurent@dremio.com>
Date:   Mon Aug 15 16:57:23 2016 -0700

    DRILL-4452: Uses Apache Calcite Avatica driver vs Optiq driver for Drill JDBC
    
    Drill JDBC driver uses Optiq Avatica as its basis, but this dependency has
    been moved over to Calcite, for quite some time without Drill code being
    updated for it.
    
    This patch updates Avatica version to the version from Calcite
    (1.4.0-drill-r19). It also refactors Drill JDBC driver to comply with the
    packages and API changes in Avatica. Finally it fixes the the SQL types for
    lists and structs, since Drill doesn't support java.sql.Array and
    java.sql.Struct interfaces.
    
    this closes #395
    
    Change-Id: Ia608adf900e8708d9e6f6f58ed41e104321a9914

 .../java/org/apache/drill/common/types/Types.java  |   6 +-
 exec/jdbc-all/pom.xml                              |   3 +-
 exec/jdbc/pom.xml                                  |  11 +-
 .../apache/drill/jdbc/DrillConnectionConfig.java   |   2 +-
 .../drill/jdbc/impl/AvaticaDrillSqlAccessor.java   |   3 +-
 .../apache/drill/jdbc/impl/DrillAccessorList.java  |   4 +-
 .../drill/jdbc/impl/DrillColumnMetaDataList.java   |  11 +-
 .../drill/jdbc/impl/DrillConnectionImpl.java       |  90 +++------
 .../org/apache/drill/jdbc/impl/DrillCursor.java    |  18 +-
 .../drill/jdbc/impl/DrillDatabaseMetaDataImpl.java |   5 +-
 .../org/apache/drill/jdbc/impl/DrillFactory.java   |   6 +-
 .../org/apache/drill/jdbc/impl/DrillHandler.java   |   6 +-
 .../apache/drill/jdbc/impl/DrillJdbc41Factory.java | 134 +++++++++----
 .../impl/{MetaImpl.java => DrillMetaImpl.java}     | 209 +++++----------------
 .../apache/drill/jdbc/impl/DrillPrepareResult.java |  66 -------
 .../jdbc/impl/DrillPreparedStatementImpl.java      |  45 +++--
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |  46 +++--
 .../jdbc/impl/DrillResultSetMetaDataImpl.java      |  12 +-
 .../apache/drill/jdbc/impl/DrillStatementImpl.java |  22 +--
 .../org/apache/drill/jdbc/impl/DriverImpl.java     |  13 +-
 .../drill/jdbc/DrillColumnMetaDataListTest.java    |  30 ++-
 pom.xml                                            |   3 +-
 22 files changed, 304 insertions(+), 441 deletions(-)

commit a29f1e292fc8068ce13d336ba93abcc64f31da26
Author: Roman Kulyk <rom.kulyk@gmail.com>
Date:   Tue Oct 4 13:58:13 2016 +0000

    DRILL-4927: Add support for Null Equality Joins
    
    These changes are a subset of the original pull request from DRILL-4539 (PR-462).
    - Added changes to support Null Equality Joins;
    - Created tests for it.
    
    close apache/drill#603

 .../drill/exec/physical/impl/join/JoinUtils.java   | 37 +++++-----
 .../exec/planner/common/DrillJoinRelBase.java      |  9 ++-
 .../exec/planner/logical/DrillFilterJoinRules.java |  3 +-
 .../drill/exec/planner/logical/DrillJoinRel.java   |  2 +-
 .../drill/exec/planner/logical/DrillJoinRule.java  | 53 ++++++++-------
 .../drill/exec/planner/physical/HashJoinPrel.java  |  2 +-
 .../drill/exec/planner/physical/JoinPruleBase.java |  5 +-
 .../drill/exec/planner/physical/MergeJoinPrel.java |  2 +-
 .../exec/planner/physical/NestedLoopJoinPrel.java  |  2 +-
 .../exec/planner/physical/NestedLoopJoinPrule.java |  5 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  6 +-
 .../java/org/apache/drill/TestJoinNullable.java    | 79 ++++++++++++++++++++++
 pom.xml                                            |  2 +-
 13 files changed, 149 insertions(+), 58 deletions(-)

commit 46b424cbd7747685052ad512f24e38a94ac61202
Author: chunhui-shi <cshi@maprtech.com>
Date:   Thu Aug 25 10:23:53 2016 -0700

    DRILL-4862: Fix binary_string to use an injected buffer as out buffer
    
    + Previously, binary_string used the input buffer as output buffer. So after calling binary_string, the original content was destroyed. Other expressions/ functions that need to access the original input buffer get wrong results.
    + This fix also sets readerIndex and writerIndex correctly for the output buffer, otherwise the consumer of the output buffer will hit issues.
    
    closes #604

 .../apache/drill/common/util/DrillStringUtils.java | 13 +++++-----
 .../drill/exec/expr/fn/impl/StringFunctions.java   |  7 ++---
 .../exec/physical/impl/TestConvertFunctions.java   | 30 ++++++++++++++++++++++
 .../src/test/resources/functions/conv/conv.json    |  4 +++
 4 files changed, 44 insertions(+), 10 deletions(-)

commit 50dea8984bf145337dd34bf08c99ea3dff70e791
Author: chunhui-shi <cshi@maprtech.com>
Date:   Wed May 25 23:22:01 2016 -0700

    DRILL-4618: Correct the usage of random flag in Hive function registry
    
    + Function visitor should not use previous function holder if this function is non-deterministic
    
    closes #509

 .../drill/exec/expr/fn/HiveFunctionRegistry.java   | 22 +++++++++++++++++++++-
 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    | 10 ++++++++++
 .../apache/drill/exec/expr/EqualityVisitor.java    |  3 +++
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  2 +-
 .../java/org/apache/drill/TestFunctionsQuery.java  | 11 +++++++++++
 5 files changed, 46 insertions(+), 2 deletions(-)

commit 4edabe7a392f38b0f7a9c8af51a74bf6932a821d
Author: Jinfeng Ni <jni@apache.org>
Date:   Wed Sep 21 16:03:49 2016 -0700

    DRILL-4911:  Avoid plan serialization in SimpleParallelizer when debug logging is not enabled.

 .../apache/drill/exec/planner/fragment/SimpleParallelizer.java    | 8 ++++++--
 .../exec/planner/fragment/contrib/SplittingParallelizer.java      | 8 ++++++--
 2 files changed, 12 insertions(+), 4 deletions(-)

commit 1375a0065f1acae4ff5edf3c6370b7ad25f188c4
Author: Serhii-Harnyk <serhii.harnyk@gmail.com>
Date:   Thu Sep 22 15:06:10 2016 +0300

    DRILL-4906: CASE Expression with constant generates class exception
    
    Tests for different data types
    
    close apache/drill#598

 .../exec/expr/fn/impl/StringFunctionHelpers.java   |   8 +
 .../exec/planner/logical/DrillConstExecutor.java   | 297 +++++++++++++--------
 .../planner/logical/TestCaseNullableTypes.java     | 127 +++++++++
 3 files changed, 320 insertions(+), 112 deletions(-)

commit 229571533bce1e37395d9675ea804ee97b1a2362
Author: Gautam Parai <gparai@maprtech.com>
Date:   Mon Sep 12 20:21:46 2016 -0700

    DRILL-4771: Drill should avoid doing the same join twice if count(distinct) exists
    
    close apache/drill#588

 .../test/java/org/apache/drill/TestBugFixes.java   | 33 ++++++++++++++++++++++
 pom.xml                                            |  2 +-
 2 files changed, 34 insertions(+), 1 deletion(-)

commit 140304d47daf8b18c72a0ab8f39c67d9d8a3031d
Author: Boaz Ben-Zvi <boaz@mapr.com>
Date:   Fri Sep 9 16:36:03 2016 -0700

    DRILL-3898 :  Sort spill was modified to catch all errors, ignore repeated errors while closing the new group and issue a more detailed error message.
    
    close apache/drill#591

 .../apache/drill/exec/physical/impl/xsort/ExternalSortBatch.java   | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit f3c26e34e3a72ef338c4dbca1a0204f342176972
Author: Aditya Kishore <adi@apache.org>
Date:   Fri Sep 16 12:14:35 2016 -0700

    DRILL-4894: Fix unit test failure in 'storage-hive/core' module
    
    Exclude 'hadoop-mapreduce-client-core' and 'hadoop-auth' as transitive dependencies from 'hbase-server'

 contrib/storage-hive/core/pom.xml | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 5a4ad2a88331dfe7561ee76fc87e882afe170681
Author: Aditya Kishore <adi@apache.org>
Date:   Sun Sep 11 13:23:23 2016 -0700

    DRILL-4886: Modifying projects POMs to align with Drill's build and distribution.
    
    The default build/test/packaging behavior for mapr-format-plugin module are
    
    1. BUILD of mapr-format-plugin is ENABLED.
    2. Unit tests of mapr-format-plugin module are DISABLED (use `-Pmapr` to enable).
    3. Packaging of mapr-format-plugin is DISABLED (use `-Pmapr` to enable).
    
    Please see LEGAL-251 for discussion/conclusion regarding inclusion of source code with non-open-source dependency.

 contrib/format-maprdb/pom.xml     | 246 ++++++++++++++++++---------------
 contrib/pom.xml                   |   1 +
 distribution/pom.xml              |  18 +--
 distribution/src/assemble/bin.xml |   1 +
 pom.xml                           | 280 ++++++++++++++++++++++++++------------
 5 files changed, 332 insertions(+), 214 deletions(-)

commit 373272c5e1c8e50c102c397e6326708fec4d3a41
Author: Aditya Kishore <adi@apache.org>
Date:   Sun Sep 11 00:19:25 2016 -0700

    Exclude 'drill-memory-base' and 'tpch-sample-data' jars from jars/3rdparty folder.

 distribution/src/assemble/bin.xml | 2 ++
 1 file changed, 2 insertions(+)

commit ac462c510261217a9f7674c279bc7b7b2c995a7f
Author: Aditya Kishore <adi@apache.org>
Date:   Fri Sep 9 15:53:06 2016 -0700

    Explicitly specify `hbase-server` dependency in Hive storage plugin.
    
    Hive's HBaseStorageHandler uses HBase's TableInputFormat which is in hbase-server module.

 contrib/storage-hive/core/pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit e42fb30b6c235adc7a73d86a225995f86efbaa54
Author: Aditya <aditya@mapr.com>
Date:   Thu Sep 8 15:30:40 2016 -0700

    Updated plugin version to 1.9.0-SNAPSHOT

 contrib/format-maprdb/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1882d938f0ed94679f1a2766181eca2a02eb555a
Author: Aditya <aditya@mapr.com>
Date:   Wed Mar 30 17:55:59 2016 -0700

    DRILL-4199: Add Support for HBase 1.X

 contrib/format-maprdb/pom.xml                      |  2 +-
 .../exec/store/mapr/db/MapRDBFormatPlugin.java     | 20 ++++++++++-
 .../drill/exec/store/mapr/db/MapRDBGroupScan.java  |  4 +--
 .../exec/store/mapr/db/MapRDBScanBatchCreator.java |  6 ++--
 .../drill/exec/store/mapr/db/MapRDBSubScan.java    | 39 ++++++++++++----------
 .../store/mapr/db/binary/BinaryTableGroupScan.java | 30 ++++++++---------
 .../mapr/db/binary/CompareFunctionsProcessor.java  | 12 +++----
 .../mapr/drill/maprdb/tests/json/BaseJsonTest.java |  2 +-
 8 files changed, 67 insertions(+), 48 deletions(-)

commit 5fa9ba3f2a9b5c6db25fd468ad9e2d5fa354ee87
Author: Patrick Wong <Patrick Wong>
Date:   Thu Mar 24 16:36:38 2016 -0700

    Update MapR v5.1.0 artifacts version

 contrib/format-maprdb/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 12cbd27ef8cf23db15645453d815a631926bd8cd
Author: Aditya <aditya@mapr.com>
Date:   Wed Mar 16 01:58:56 2016 -0700

    MD-813: Improve count(*) queries against MapR-DB Json tables.
    
    + Fail query on schema change.
    + Added a configuration option 'ignoreSchemaChange', which when enabled, drops the rows from the result

 .../store/mapr/db/MapRDBFormatPluginConfig.java    | 14 +++-
 .../store/mapr/db/json/MaprDBJsonRecordReader.java | 90 ++++++++++++++--------
 .../store/mapr/streams/StreamsFormatPlugin.java    |  3 +-
 3 files changed, 73 insertions(+), 34 deletions(-)

commit 391027a7f30934f6f0f77065908381f555df7aa6
Author: Aditya <aditya@mapr.com>
Date:   Fri Mar 11 02:23:35 2016 -0800

    MD-789: Query with condition involving addition of DATE and INTERVAL types returns no results [MapR-DB JSON Tables]
    
    + Added `enablePushdown` option to enable/disable all filter pushdown, enabled by default.

 .../drill/exec/store/mapr/db/json/CompareFunctionsProcessor.java  | 8 +++++---
 .../test/java/com/mapr/drill/maprdb/tests/MaprDBTestsSuite.java   | 3 ++-
 .../java/com/mapr/drill/maprdb/tests/json/TestSimpleJson.java     | 4 ++--
 3 files changed, 9 insertions(+), 6 deletions(-)

commit e5bef16f09986ec46a71176f2e54298f18245e42
Author: Patrick Wong <Patrick Wong>
Date:   Thu Mar 10 17:37:34 2016 -0800

    Updated plugin version to 1.7.0-SNAPSHOT

 contrib/format-maprdb/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 156819d0470b95a2822c03a498ed5c5b872d2022
Author: Aditya <aditya@mapr.com>
Date:   Tue Mar 8 16:57:52 2016 -0800

    MD-572: Column names in MapR-DB JSON tables are case-sensitive
    
    Disable pushdown of both filter and projects (by default set to false).
    
    This will allow Drill to handle both of these operators in a case-insensitive way.

 .../store/mapr/db/MapRDBFormatPluginConfig.java    |  16 +-
 .../store/mapr/db/MapRDBPushFilterIntoScan.java    |   4 +-
 .../store/mapr/db/json/JsonTableGroupScan.java     |  11 +-
 .../store/mapr/db/json/MaprDBJsonRecordReader.java | 382 ++++++++-------------
 .../drill/maprdb/tests/json/TestSimpleJson.java    |  32 +-
 5 files changed, 200 insertions(+), 245 deletions(-)

commit c74d75ce4aebc2fe188793d77dc5bb22542c9c4a
Author: Aditya <aditya@mapr.com>
Date:   Fri Mar 4 15:17:36 2016 -0800

    Refactoring code for better organization.
    
    + Adding skeleton streams plugin.

 .../TableFormatMatcher.java}                       | 22 ++++--
 .../TableFormatPlugin.java}                        | 69 +++++-------------
 .../exec/store/mapr/TableFormatPluginConfig.java   | 38 ++++++++++
 .../exec/store/mapr/db/MapRDBFormatMatcher.java    | 42 +++++++++++
 .../exec/store/mapr/db/MapRDBFormatPlugin.java     | 82 ++++++++++++++++++++++
 .../db}/MapRDBFormatPluginConfig.java              | 26 ++-----
 .../store/{maprdb => mapr/db}/MapRDBGroupScan.java |  2 +-
 .../db}/MapRDBPushFilterIntoScan.java              | 14 ++--
 .../db}/MapRDBScanBatchCreator.java                |  6 +-
 .../store/{maprdb => mapr/db}/MapRDBSubScan.java   |  7 +-
 .../{maprdb => mapr/db}/MapRDBSubScanSpec.java     |  2 +-
 .../{maprdb => mapr/db}/MapRDBTableStats.java      |  2 +-
 .../{maprdb => mapr/db}/TabletFragmentInfo.java    |  2 +-
 .../db}/binary/BinaryTableGroupScan.java           | 22 +++---
 .../db}/binary/CompareFunctionsProcessor.java      |  2 +-
 .../db}/binary/MapRDBFilterBuilder.java            |  2 +-
 .../db}/json/CompareFunctionsProcessor.java        |  2 +-
 .../db}/json/JsonConditionBuilder.java             |  2 +-
 .../{maprdb => mapr/db}/json/JsonScanSpec.java     |  2 +-
 .../{maprdb => mapr/db}/json/JsonSubScanSpec.java  |  4 +-
 .../db}/json/JsonTableGroupScan.java               | 21 +++---
 .../db}/json/MaprDBJsonRecordReader.java           |  6 +-
 .../store/{maprdb => mapr/db}/util/CommonFns.java  |  2 +-
 .../store/mapr/streams/StreamsFormatMatcher.java   | 42 +++++++++++
 .../store/mapr/streams/StreamsFormatPlugin.java    | 79 +++++++++++++++++++++
 .../mapr/streams/StreamsFormatPluginConfig.java    | 39 ++++++++++
 .../mapr/drill/maprdb/tests/MaprDBTestsSuite.java  |  9 ++-
 .../maprdb/tests/binary/TestMapRDBSimple.java      |  2 +-
 28 files changed, 417 insertions(+), 133 deletions(-)

commit 58e95ca27a570accb115882bf2f1b9d74caf3223
Author: Aditya <aditya@mapr.com>
Date:   Tue Mar 8 01:40:39 2016 -0800

    MD-771: Query with nested functions within a sub-query on MapR-DB JSON Tables fail with ClassCastException
    
    Fix for failing test cases.

 .../apache/drill/exec/store/maprdb/MapRDBPushFilterIntoScan.java | 9 ++++++++-
 .../java/com/mapr/drill/maprdb/tests/json/TestSimpleJson.java    | 9 +++++++++
 contrib/format-maprdb/src/test/resources/json/business.json      | 4 ++--
 3 files changed, 19 insertions(+), 3 deletions(-)

commit c327f113b7c32bbe210b3047591f4f3a2339edd1
Author: Smidth Panchamia <spanchamia@mapr.com>
Date:   Wed Mar 2 22:32:37 2016 -0800

    MD-726: Add support for `read_numbers_as_double` and `all_text_mode` options
    
    + MD-773: Add support to push-down filters on Date, Time and Timestamp
    + Fix the offsets in Date and Time data types in returned values
    + Updated support for DATE, TIME, and TIMESTAMP types
    + Modified unit-tests to check for operation push-down

 .../store/maprdb/MapRDBFormatPluginConfig.java     |  52 +++++-
 .../drill/exec/store/maprdb/MapRDBGroupScan.java   |   4 +
 .../store/maprdb/MapRDBPushFilterIntoScan.java     |  11 +-
 .../exec/store/maprdb/MapRDBScanBatchCreator.java  |   2 +-
 .../drill/exec/store/maprdb/MapRDBSubScan.java     |  11 +-
 .../store/maprdb/binary/BinaryTableGroupScan.java  |   2 +-
 .../store/maprdb/binary/MapRDBFilterBuilder.java   |   1 -
 .../maprdb/json/CompareFunctionsProcessor.java     |  21 ++-
 .../store/maprdb/json/JsonConditionBuilder.java    |   6 +-
 .../exec/store/maprdb/json/JsonSubScanSpec.java    |  21 +--
 .../exec/store/maprdb/json/JsonTableGroupScan.java |   2 +-
 .../store/maprdb/json/MaprDBJsonRecordReader.java  | 197 ++++++++++++++++++---
 .../drill/maprdb/tests/json/TestSimpleJson.java    |  26 ++-
 .../src/test/resources/json/business.json          |  18 +-
 14 files changed, 297 insertions(+), 77 deletions(-)

commit b1218f318806c96a8e4e28f6298d17e180fd09eb
Author: Smidth Panchamia <spanchamia@mapr.com>
Date:   Thu Feb 25 16:46:38 2016 +0000

    MD-711: Enable support for UNION types in Drill-MapRDB plugin

 .../apache/drill/exec/store/maprdb/json/MaprDBJsonRecordReader.java  | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 8844a73eff13115dc0a6b7a01720ace99e06797c
Author: Aditya <aditya@mapr.com>
Date:   Thu Feb 25 02:34:30 2016 -0800

    MD-741: Cannot select array elements by index in MapR-DB JSON Tables

 .../store/maprdb/json/MaprDBJsonRecordReader.java  | 34 +++++++++++--
 .../mapr/drill/maprdb/tests/json/BaseJsonTest.java | 23 +++++++++
 .../drill/maprdb/tests/json/TestSimpleJson.java    | 58 ++++++++++++++--------
 .../src/test/resources/json/business.json          | 20 ++++----
 4 files changed, 99 insertions(+), 36 deletions(-)

commit 6988254f08dd4e2519eb17b5863b827a7803264b
Author: Aditya <aditya@mapr.com>
Date:   Tue Feb 23 23:15:36 2016 -0800

    MD-548: Remove reference to mapr-release pom.
    
    * Bumped the Drill+plugin version to 1.6.0-SNAPSHOT.
    * Updated MapR client artifacts to 5.1.0.
    * Added missing Apache license headers to few files.
    * Added a base test class BaseJsonTest for all OJAI Unit tests.
    * Invoke GuavaPatcher from BaseJsonTest.

 contrib/format-maprdb/pom.xml                      | 145 +++++++++++----------
 .../maprdb/json/CompareFunctionsProcessor.java     |  21 ++-
 .../store/maprdb/json/JsonConditionBuilder.java    |  25 +++-
 .../drill/exec/store/maprdb/json/JsonScanSpec.java |  19 ++-
 .../exec/store/maprdb/json/JsonSubScanSpec.java    |  17 +++
 .../exec/store/maprdb/json/JsonTableGroupScan.java |   7 -
 .../mapr/drill/maprdb/tests/json/BaseJsonTest.java |  47 +++++++
 .../drill/maprdb/tests/json/TestSimpleJson.java    |  17 +--
 8 files changed, 194 insertions(+), 104 deletions(-)

commit c62361e870fbd4b99d649d58cc740ca09bb0e366
Author: Smidth Panchamia <spanchamia@mapr.com>
Date:   Mon Feb 22 17:09:53 2016 -0800

    MD-735: Handle CastExpression in filter push-down.

 .../drill/exec/store/maprdb/json/CompareFunctionsProcessor.java     | 6 ++++++
 1 file changed, 6 insertions(+)

commit 891380f0e61daa865ae030521d8ef684cb62edca
Author: Smidth Panchamia <spanchamia@mapr.com>
Date:   Fri Feb 19 18:41:56 2016 +0000

    Support for `_id` only projection.

 .../store/maprdb/json/MaprDBJsonRecordReader.java  | 41 +++++++++++++++++++---
 1 file changed, 37 insertions(+), 4 deletions(-)

commit d41bfb3e111b3eeec503fdf921d8a3360614c3c5
Author: Smidth Panchamia <spanchamia@mapr.com>
Date:   Wed Feb 17 23:51:26 2016 +0000

    MD-719: Fix creating QueryConditions for JsonSubScanSpec

 .../java/org/apache/drill/exec/store/maprdb/json/JsonSubScanSpec.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5d36f8013829406f698610bc4a4f7185698365e6
Author: Aditya <aditya@mapr.com>
Date:   Thu Feb 4 16:43:27 2016 -0800

    MD-703: Cannot select `_id` field from MapR-DB JSON Table
    
    + Included Smidth's fix for column shuffling.
    + Fix the private-drill-mapr-plugin build.

 contrib/format-maprdb/pom.xml                      |  6 ++++++
 .../drill/exec/store/maprdb/MapRDBGroupScan.java   |  2 +-
 .../store/maprdb/MapRDBPushFilterIntoScan.java     |  4 ++--
 .../store/maprdb/json/MaprDBJsonRecordReader.java  | 24 ++++++++++++++--------
 .../drill/maprdb/tests/json/TestSimpleJson.java    |  4 ++--
 5 files changed, 26 insertions(+), 14 deletions(-)

commit 16d4ab896df5cb368988220bc90f2834d9651d02
Author: Aditya <aditya@mapr.com>
Date:   Wed Feb 3 17:46:44 2016 -0800

    Enhance exception handling.

 .../store/maprdb/json/MaprDBJsonRecordReader.java  | 163 ++++++++++++---------
 1 file changed, 91 insertions(+), 72 deletions(-)

commit 48d195c3d27fba6c6efef6b624e684bcdecdcca5
Author: Aditya <aditya@mapr.com>
Date:   Tue Feb 2 02:04:22 2016 -0800

    MAPR-22405: DocumentStream interface in OJAI API need not be parametrized

 .../apache/drill/exec/store/maprdb/json/MaprDBJsonRecordReader.java    | 3 +--
 .../src/test/java/com/mapr/drill/maprdb/tests/MaprDBTestsSuite.java    | 2 +-
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 869cfbdf0599c708db62fb7a4d308e22ccbe2fb7
Author: Aditya <aditya@mapr.com>
Date:   Mon Feb 1 17:43:42 2016 -0800

    MD-670: Querying MapR-DB JSON Tables returns no results
    
    * Use DocumentReader API to emit "_id" field instead of handling it as a special case.
    * Update the DrillBuf reference field when reallocation happen.
    * Catch the correct exception when schema change happens and include the field name in the warning message.
    + Get rid of unused code.

 .../store/maprdb/json/MaprDBJsonRecordReader.java  | 94 +++++++---------------
 .../mapr/drill/maprdb/tests/MaprDBTestsSuite.java  |  5 ++
 .../drill/maprdb/tests/json/TestSimpleJson.java    | 62 +++++++-------
 3 files changed, 66 insertions(+), 95 deletions(-)

commit 004aad9db375972556980cb608f439d13382a7dd
Author: Aditya <aditya@mapr.com>
Date:   Sun Jan 3 21:23:06 2016 -0800

    Updated with the OJAI APIs changes in Date/Time/Document classes.

 .../maprdb/json/CompareFunctionsProcessor.java     | 19 ++++++-------------
 .../store/maprdb/json/MaprDBJsonRecordReader.java  | 22 +++++++++++-----------
 2 files changed, 17 insertions(+), 24 deletions(-)

commit 1887de29990dc1144544b285e262970c1d2ae99a
Author: Smidth Panchamia <spanchamia@mapr.com>
Date:   Fri Jan 8 10:00:57 2016 -0800

    MD-578: Query with three-way join fails with IllegalStateException

 .../drill/exec/store/maprdb/json/MaprDBJsonRecordReader.java       | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 1f853f6a5117a90831ad592d250a1e25a781f9fd
Author: Smidth Panchamia <spanchamia@mapr.com>
Date:   Mon Jan 4 16:30:43 2016 -0800

    Update the json-support branch version in pom.xml
    
    + Fix for column name mangling in drill output.
    + Comment out Date, Time, Timestamp types since we are still deciding these on OJAI front.

 .../store/maprdb/json/CompareFunctionsProcessor.java   |  4 ++--
 .../exec/store/maprdb/json/MaprDBJsonRecordReader.java | 18 +++++++++---------
 2 files changed, 11 insertions(+), 11 deletions(-)

commit 8d72fcc1dde66266ce08dc40e9c10e26b2d7231e
Author: Aditya <aditya@mapr.com>
Date:   Mon Dec 21 00:50:19 2015 -0800

    Updating with the new DocumentReader APIs.

 .../drill/exec/store/maprdb/json/MaprDBJsonRecordReader.java   | 10 +++-------
 1 file changed, 3 insertions(+), 7 deletions(-)

commit d1adebd836e9c7c08bfd9abce11e638b582864aa
Author: Smidth Panchamia <spanchamia@mapr.com>
Date:   Sat Oct 24 15:48:35 2015 -0700

    Filter push-down support for JSON tables.

 .../exec/store/maprdb/MapRDBFormatPlugin.java      |   4 +-
 .../{binary => }/MapRDBPushFilterIntoScan.java     | 114 ++++++--
 .../store/maprdb/binary/MapRDBFilterBuilder.java   |   2 +-
 .../maprdb/json/CompareFunctionsProcessor.java     | 201 ++++++++++++++
 .../store/maprdb/json/JsonConditionBuilder.java    | 231 +++++++++++++++
 .../drill/exec/store/maprdb/json/JsonScanSpec.java |  94 +++++++
 .../exec/store/maprdb/json/JsonSubScanSpec.java    |  94 +++++++
 .../exec/store/maprdb/json/JsonTableGroupScan.java |  57 ++--
 .../store/maprdb/json/MaprDBJsonRecordReader.java  |  21 +-
 .../tests/binary/TestMapRDBCFAsJSONString.java     |  47 ++++
 .../tests/binary/TestMapRDBProjectPushDown.java    |  47 ++++
 .../maprdb/tests/binary/TestMapRDBQueries.java     |  47 ++++
 .../drill/maprdb/tests/json/TestSimpleJson.java    | 309 +++++++++++++++++++++
 .../src/test/resources/json/business.json          |  20 +-
 14 files changed, 1206 insertions(+), 82 deletions(-)

commit aa6312171f8a325d5fccdd7d91ba91d0eb2b366c
Author: Aditya Kishore <adi@apache.org>
Date:   Fri Aug 26 13:12:41 2016 -0700

    Use DBDocumentReaderBase instead of DBDocumentReader.

 .../drill/exec/store/maprdb/MapRDBSubScanSpec.java       |  3 ++-
 .../exec/store/maprdb/json/MaprDBJsonRecordReader.java   | 16 ++++++++--------
 .../com/mapr/drill/maprdb/tests/MaprDBTestsSuite.java    |  2 +-
 3 files changed, 11 insertions(+), 10 deletions(-)

commit f97a33321887458996cf7e311252fc9e8719feb3
Author: Aditya <aditya@mapr.com>
Date:   Wed Oct 14 23:49:09 2015 -0700

    Adding support for Json tables.
    
    + Re-factored code to separate binary table specific code from the common code.
    + Added test cases

 contrib/format-maprdb/pom.xml                      | 221 +++++++++---
 .../exec/store/maprdb/MapRDBFormatPlugin.java      |  51 ++-
 .../drill/exec/store/maprdb/MapRDBGroupScan.java   | 270 +++-----------
 .../exec/store/maprdb/MapRDBScanBatchCreator.java  |  21 +-
 .../drill/exec/store/maprdb/MapRDBSubScan.java     | 177 ++--------
 .../drill/exec/store/maprdb/MapRDBSubScanSpec.java | 113 ++++++
 .../drill/exec/store/maprdb/MapRDBTableStats.java  |  11 +-
 .../exec/store/maprdb/TabletFragmentInfo.java      | 108 ++++++
 .../store/maprdb/binary/BinaryTableGroupScan.java  | 216 ++++++++++++
 .../{ => binary}/CompareFunctionsProcessor.java    |   2 +-
 .../maprdb/{ => binary}/MapRDBFilterBuilder.java   |   8 +-
 .../{ => binary}/MapRDBPushFilterIntoScan.java     |  17 +-
 .../exec/store/maprdb/json/JsonTableGroupScan.java | 186 ++++++++++
 .../store/maprdb/json/MaprDBJsonRecordReader.java  | 386 +++++++++++++++++++++
 .../drill/exec/store/maprdb/util/CommonFns.java    |  26 ++
 .../mapr/drill/maprdb/tests/MaprDBTestsSuite.java  | 162 +++++++++
 .../tests/binary/TestMapRDBFilterPushDown.java     |  47 +++
 .../maprdb/tests/binary/TestMapRDBSimple.java      |  53 +++
 .../drill/maprdb/tests/json/TestSimpleJson.java    |  75 ++++
 .../src/test/resources/hbase-site.xml              |  25 ++
 .../src/test/resources/json/business.json          |  10 +
 .../format-maprdb/src/test/resources/logback.xml   |  12 +-
 22 files changed, 1739 insertions(+), 458 deletions(-)

commit e19c048c4b3a78df6582531eaa80c188631657f7
Author: Aditya <aditya@mapr.com>
Date:   Thu Jul 16 17:59:52 2015 -0700

    Cleaning up code.
    
    Removed some unnecessary files from the module.

 .../main/resources/bootstrap-storage-plugins.json  |  12 --
 .../src/main/resources/drill-module.conf           |  16 +--
 .../src/test/resources/hbase-site.xml              | 143 ---------------------
 .../hbase/hbase_scan_screen_physical.json          |  29 -----
 .../hbase_scan_screen_physical_column_select.json  |  32 -----
 .../hbase_scan_screen_physical_family_select.json  |  32 -----
 6 files changed, 1 insertion(+), 263 deletions(-)

commit 115a85e7611f39394b046a713578c8da6a52932e
Author: Smidth Panchamia <spanchamia@mapr.com>
Date:   Wed Feb 10 17:57:37 2016 +0000

    Fix the private-drill-mapr-plugin build.

 .../main/java/org/apache/drill/exec/store/maprdb/MapRDBGroupScan.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fb8872bd49fe615ce3d9ee4310e91621d0474568
Author: Patrick Wong <pwong@maprtech.com>
Date:   Tue Dec 8 11:25:16 2015 -0800

    Updated plugin version to 1.5.0-SNAPSHOT

 contrib/format-maprdb/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3a3c956d95e0636d07dc08f4cfb46e0324f378d6
Author: Aditya <aditya@mapr.com>
Date:   Thu Dec 3 11:54:17 2015 -0800

    Updating the plugin version to 1.4.0-SNAPSHOT and fixing for interface change.

 contrib/format-maprdb/pom.xml                                           | 2 +-
 .../java/org/apache/drill/exec/store/maprdb/MapRDBFormatPlugin.java     | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 9bd65246e58271ad787ba6deb94de7c071ec4839
Author: Aditya <aditya@mapr.com>
Date:   Fri Nov 6 15:56:36 2015 -0800

    Applying DRILL-4020 (The not-equal operator returns incorrect results when used on the HBase row key)

 .../java/org/apache/drill/exec/store/maprdb/MapRDBFilterBuilder.java     | 1 +
 1 file changed, 1 insertion(+)

commit 75aa0511f174288c612f105fc8aebdc6bb40d7e1
Author: Aditya <aditya@mapr.com>
Date:   Fri Nov 6 15:45:21 2015 -0800

    Applying DRILL-3621 (Wrong results when Drill on HBase query contains rowkey "or" or "IN") to MapRDB plugin
    
    Already in json_support branch, exclude while merging.

 .../org/apache/drill/exec/store/maprdb/MapRDBFilterBuilder.java     | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 2a45749ad59a807474e006ba9d03b31c290c28aa
Author: Aditya <aditya@mapr.com>
Date:   Thu Nov 5 17:09:51 2015 -0800

    MD-524: Drill API change broke the MapRDB Plugin

 .../drill/exec/store/maprdb/MapRDBFormatMatcher.java   | 18 ++++++++++++------
 .../apache/drill/exec/store/maprdb/MapRDBSubScan.java  |  2 +-
 2 files changed, 13 insertions(+), 7 deletions(-)

commit a0f9658e446d22ddaf12f8f4512832e997ad9253
Author: Patrick Wong <pwong@maprtech.com>
Date:   Mon Oct 19 13:03:14 2015 -0700

    Updated plugin version to 1.3.0-SNAPSHOT

 contrib/format-maprdb/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit df19a019117db3448a01f34daf804df747ca94b8
Author: Smidth Panchamia <spanchamia@mapr.com>
Date:   Thu Aug 6 15:50:44 2015 -0700

    Port DRILL-3492 and DRILL-3364 to maprdb plugin
    
    + Fix build issues due to API changes in DRILL-3535

 .../store/maprdb/CompareFunctionsProcessor.java    | 421 ++++++++++++++++++---
 .../exec/store/maprdb/MapRDBFilterBuilder.java     |  79 +++-
 .../exec/store/maprdb/MapRDBFormatMatcher.java     |  14 +-
 .../exec/store/maprdb/MapRDBFormatPlugin.java      |   2 +-
 .../store/maprdb/MapRDBPushFilterIntoScan.java     | 130 +++++--
 5 files changed, 529 insertions(+), 117 deletions(-)

commit ba8a785c9c932f7e9e90a28f1b67042e50126597
Author: Patrick Wong <pwong@maprtech.com>
Date:   Sun Jul 5 20:30:03 2015 -0700

    Updated version to 1.2.0-SNAPSHOT

 contrib/format-maprdb/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c5c24792b83f71826aea61ec9870146de48cfe98
Author: Aditya Kishore <adi@apache.org>
Date:   Fri Aug 26 11:37:00 2016 -0700

    MD-290: Fix build failure due to upstream changes.
    
    + Includes MD-292

 .../exec/store/maprdb/MapRDBFormatPlugin.java      | 177 +++++++++++----------
 1 file changed, 93 insertions(+), 84 deletions(-)

commit a19d0164a17952d44ece1e98b0f6192ecfb5b2e8
Author: Patrick Wong <pwong@maprtech.com>
Date:   Wed May 20 14:52:48 2015 -0700

    Updated plugin version to 1.1.0-SNAPSHOT
    
    +Using MapR v4.1.0 dependencies

 contrib/format-maprdb/pom.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d7fe7825ce833c37a320ab7b94b07f5440a5c69f
Author: Aditya Kishore <aditya@mapr.com>
Date:   Mon May 11 15:40:33 2015 -0700

    MD-272: Incorporate DRILL-2848 (option to disable decimal data type)

 .../org/apache/drill/exec/store/maprdb/MapRDBPushFilterIntoScan.java   | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1c43e3d2f23cf96027d0b2940c7a6362880a5781
Author: Aditya Kishore <aditya@mapr.com>
Date:   Tue May 5 17:28:37 2015 -0700

    DRILL-2826: Simplify and centralize Operator cleanup

 .../apache/drill/exec/store/maprdb/MapRDBScanBatchCreator.java   | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit ec901a5f1412e9e119f243745b816532365d54fb
Author: Patrick Wong <pwong@maprtech.com>
Date:   Mon May 4 12:08:12 2015 -0700

    Updated version to 1.0.0-SNAPSHOT

 contrib/format-maprdb/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c71ec6760ace959146174489e9551666880deb69
Author: Aditya Kishore <aditya@mapr.com>
Date:   Wed Apr 22 11:02:15 2015 -0700

    MD-245: Optiq is now Calcite.

 .../apache/drill/exec/store/maprdb/MapRDBPushFilterIntoScan.java    | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 419e7f38f78428605000fd12873f4aa6eb7211c7
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Apr 21 17:51:37 2015 -0700

    MD-244: Update MapRDB plugin after DRILL-2514 and DRILL-2413

 .../exec/store/maprdb/MapRDBFormatMatcher.java     |  8 ++---
 .../exec/store/maprdb/MapRDBFormatPlugin.java      | 37 ++++++++++------------
 .../drill/exec/store/maprdb/MapRDBGroupScan.java   | 15 ++++++---
 .../store/maprdb/MapRDBPushFilterIntoScan.java     |  4 +--
 .../drill/exec/store/maprdb/MapRDBSubScan.java     |  7 ++--
 5 files changed, 36 insertions(+), 35 deletions(-)

commit 1c3013af5053136b167dd948f87f88092d2aa9d9
Author: Patrick Wong <pwong@maprtech.com>
Date:   Wed Apr 15 13:01:32 2015 -0700

    Updated plugin version to 0.9.0-SNAPSHOT

 contrib/format-maprdb/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b64ee82837d4ccb5d33d509787507bf9704e0820
Author: Aditya Kishore <aditya@mapr.com>
Date:   Wed Mar 25 14:57:28 2015 -0700

    MD-192: CONVERT_FROM in where clause
    
    * Set the writeIndex of ByteBuf returned by Unpooled.wrappedBuffer() to 0.

 .../exec/store/maprdb/CompareFunctionsProcessor.java | 20 +++++++++++++-------
 1 file changed, 13 insertions(+), 7 deletions(-)

commit d5dcccce0b5566370e84abbc9c8bbadb64b7e153
Author: Aditya Kishore <aditya@mapr.com>
Date:   Tue Feb 24 17:12:08 2015 -0800

    MD-131: Queries fail when using maprdb plugin

 .../org/apache/drill/exec/store/maprdb/MapRDBTableStats.java | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit bed705556be5bd0ed55366620f116d93aaf2237e
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Feb 6 07:18:06 2015 -0800

    MD-143: Update DrillFileSystem package location after DRILL-2080.

 .../java/org/apache/drill/exec/store/maprdb/MapRDBFormatMatcher.java    | 2 +-
 .../java/org/apache/drill/exec/store/maprdb/MapRDBFormatPlugin.java     | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit cb0a676dd542eaadba49776d22bdaf7b5b335720
Author: Aditya Kishore <aditya@mapr.com>
Date:   Wed Jan 28 02:21:26 2015 -0800

    MD-125: Update HBase storage plugin to support HBase 0.98

 contrib/format-maprdb/pom.xml                      | 108 ++++++---------------
 .../exec/store/maprdb/MapRDBFilterBuilder.java     |   4 +-
 2 files changed, 29 insertions(+), 83 deletions(-)

commit 7e59a1ee16bbff98f636dc290eda6bb8785c0ab2
Author: Aditya Kishore <aditya@mapr.com>
Date:   Wed Dec 31 11:28:59 2014 -0800

    DRILL-1900: Fix numeric overflow problem in HBase stats calculation.

 .../drill/exec/store/maprdb/MapRDBGroupScan.java   | 58 +++++++++++-----------
 .../drill/exec/store/maprdb/MapRDBTableStats.java  | 29 ++++-------
 2 files changed, 38 insertions(+), 49 deletions(-)

commit 0e5b67e964946380fc33f278f0a20340ec338109
Author: Patrick Wong <pwong@maprtech.com>
Date:   Wed Dec 3 12:03:29 2014 -0800

    Updated plugin version to 0.8.0-SNAPSHOT

 contrib/format-maprdb/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 846451926a9f9c43b874ed0cdfb565186419bef9
Author: Anbang Xu <axu@maprtech.com>
Date:   Tue Oct 21 15:49:30 2014 -0700

    MD-12: Filters are not being pushed down through maprdb plugin
    
    + Reverted mapr-hbase back to MapR 4.0.1 release
    + Apply DRILL-1508 and DRILL-1567 to MapRDB plugin
    
    1. https://github.com/apache/drill/commit/67df8cfa27041c9696255ee96e2d066e034f6f58
    2. https://github.com/apache/drill/commit/71f5ad447823cba96cf73fb6709f8ed6cc0b63e9

 contrib/format-maprdb/pom.xml                      |   2 +-
 .../store/maprdb/CompareFunctionsProcessor.java    | 234 ++++++++++++++++
 .../exec/store/maprdb/MapRDBFilterBuilder.java     | 302 +++++++++++++++++++++
 .../exec/store/maprdb/MapRDBFormatPlugin.java      |  12 +-
 .../drill/exec/store/maprdb/MapRDBGroupScan.java   |   5 +
 .../store/maprdb/MapRDBPushFilterIntoScan.java     |  93 +++++++
 6 files changed, 643 insertions(+), 5 deletions(-)

commit bfd27ec82851446a918b65f06805c63f4f0690ae
Author: Patrick Wong <pwong@maprtech.com>
Date:   Wed Oct 8 08:20:11 2014 -0700

    Updated plugin version to 0.7.0-SNAPSHOT

 contrib/format-maprdb/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 95face3575817719a389fe049d3d8c1d65bb12dd
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Sep 23 11:45:27 2014 -0700

    First version of maprdb plugin
    
    + Moved files under contrib/format-maprdb

 contrib/format-maprdb/pom.xml                      | 170 ++++++++
 .../exec/store/maprdb/MapRDBFormatMatcher.java     |  60 +++
 .../exec/store/maprdb/MapRDBFormatPlugin.java      | 134 ++++++
 .../store/maprdb/MapRDBFormatPluginConfig.java     |  36 ++
 .../drill/exec/store/maprdb/MapRDBGroupScan.java   | 455 +++++++++++++++++++++
 .../exec/store/maprdb/MapRDBScanBatchCreator.java  |  53 +++
 .../drill/exec/store/maprdb/MapRDBSubScan.java     | 225 ++++++++++
 .../drill/exec/store/maprdb/MapRDBTableStats.java  |  50 +++
 .../main/resources/bootstrap-storage-plugins.json  |  12 +
 .../src/main/resources/checkstyle-config.xml       |  31 ++
 .../src/main/resources/checkstyle-suppressions.xml |  19 +
 .../src/main/resources/drill-module.conf           |  34 ++
 .../src/test/resources/hbase-site.xml              | 143 +++++++
 .../hbase/hbase_scan_screen_physical.json          |  29 ++
 .../hbase_scan_screen_physical_column_select.json  |  32 ++
 .../hbase_scan_screen_physical_family_select.json  |  32 ++
 .../format-maprdb/src/test/resources/logback.xml   |  64 +++
 17 files changed, 1579 insertions(+)

commit cb6cc78b9991e9d6e384a2cc28b70332a9d92a22
Author: Patrick Wong <pwong@maprtech.com>
Date:   Tue Sep 9 13:35:54 2014 -0700

    Initial commit

 contrib/format-maprdb/README.md | 2 ++
 1 file changed, 2 insertions(+)

commit 18866d5b0652ad540bc0cc3889c3360441870670
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Sep 7 22:56:14 2016 -0700

    DRILL-4877: If pruning was not applicable only keep the selectionRoot in the entries field.

 .../drill/exec/store/dfs/MetadataContext.java      |  8 ++-----
 .../drill/exec/store/parquet/ParquetGroupScan.java | 11 +++++-----
 .../store/parquet/TestParquetMetadataCache.java    | 25 ++++++++++++++++++++++
 3 files changed, 33 insertions(+), 11 deletions(-)

commit f11f321293b144f20f3cd9d80b62a355f931823c
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Sat Sep 3 00:09:37 2016 +0000

    DRILL-4874: "No UserGroupInformation while generating ORC splits" - hive known issue in 1.2.0-mapr-1607 release - drill is updated to 1.2.0-mapr-1608 hive version.

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 28d315bbb1b9145488a886179aa3e6683b338556
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Aug 30 10:56:03 2016 -0700

    Update version to 1.9.0-SNAPSHOT.

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/gis/pom.xml                          | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 2 +-
 contrib/storage-kudu/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/memory/base/pom.xml                     | 2 +-
 exec/memory/pom.xml                          | 2 +-
 exec/pom.xml                                 | 2 +-
 exec/rpc/pom.xml                             | 2 +-
 exec/vector/pom.xml                          | 2 +-
 logical/pom.xml                              | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 tools/fmpp/pom.xml                           | 2 +-
 tools/pom.xml                                | 2 +-
 27 files changed, 27 insertions(+), 27 deletions(-)

commit 5b15d0efd99b8c632efabf249f8f4cc30eabb48e
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Aug 24 12:27:42 2016 +0000

    DRILL-4852: Fix performance regression for COUNT(*) query over large JSON table
    
    close apache/drill#576

 .../drill/exec/store/ImplicitColumnExplorer.java   | 14 ++++++------
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  9 ++------
 .../store/parquet/ParquetScanBatchCreator.java     |  2 +-
 .../drill/exec/store/TestImplicitFileColumns.java  | 26 +++++++++++++++++++---
 4 files changed, 33 insertions(+), 18 deletions(-)

commit 0ccc81aee22d74743c801f2a483f1aefdb96c87d
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Aug 10 08:38:25 2016 -0700

    DRILL-4833: Insert exchanges on the inputs of union-all such that the parent and children can be independently parallelized.
    
    Add planner option to enable/disable distribution for union-all.
    
    close apache/drill#566

 .../exec/planner/physical/PlannerSettings.java     |  6 ++
 .../drill/exec/planner/physical/UnionAllPrule.java | 53 +++++++++++++----
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../test/java/org/apache/drill/TestUnionAll.java   | 69 ++++++++++++++++++++++
 4 files changed, 119 insertions(+), 10 deletions(-)

commit d5e74b61b6b9037ab701d9266ee2c05951f8f283
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon Aug 22 19:03:13 2016 -0700

    DRILL-4857: Maintain pruning status and populate ParquetGroupScan's entries field with only the selection root if no partition pruning was done.
    
    close apache/drill#575

 .../planner/logical/partition/PruneScanRule.java   | 25 +++++++++++++++++-----
 .../drill/exec/store/dfs/MetadataContext.java      | 20 +++++++++++++++++
 .../drill/exec/store/parquet/ParquetGroupScan.java | 15 +++++++++++--
 3 files changed, 53 insertions(+), 7 deletions(-)

commit 0a62a4621f8b43f9eb4c7f58738e5198fefde26b
Author: Paul Rogers <progers@maprtech.com>
Date:   Thu Aug 18 12:39:45 2016 -0700

    DRILL-4854: Fix logic error in drill-config.sh
    
    The check of the log directory should use an OR instead of AND.
    
    closes #572

 distribution/src/resources/drill-config.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 57dc9f43b6c578c1f90fb7f9e2495b184ab17b21
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Aug 3 09:00:51 2016 -0700

    DRILL-4846: Fix a few performance issues for metadata access:
    
     - Create a MetadataContext that can be shared among multiple invocations of the Metadata APIs.
     - Check directory modification time only if not previously checked.
     - Remove a redundant call for metadata read.
     - Added more logging.
     - Consolidate couple of metadata methods.
    
    close apache/drill#569

 .../exec/planner/AbstractPartitionDescriptor.java  |   3 +-
 .../planner/FileSystemPartitionDescriptor.java     |  11 +-
 .../exec/planner/ParquetPartitionDescriptor.java   |  10 +-
 .../drill/exec/planner/PartitionDescriptor.java    |   4 +-
 .../planner/logical/partition/PruneScanRule.java   |  24 ++--
 .../apache/drill/exec/store/dfs/FileSelection.java |  21 +++-
 .../drill/exec/store/dfs/MetadataContext.java      |  60 ++++++++++
 .../apache/drill/exec/store/parquet/Metadata.java  | 127 ++++++++++++---------
 .../exec/store/parquet/ParquetFormatPlugin.java    |   8 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  18 +--
 10 files changed, 202 insertions(+), 84 deletions(-)

commit 0a4c21cc15329c063f256f6fbf2c4c69a90d9fa1
Author: Paul Rogers <progers@maprtech.com>
Date:   Mon Aug 8 20:16:59 2016 -0700

    DRILL-4836: Handle NodeExistsException in ZookeeperClient#put (race condition)
    
    ZK Issue during Drillbit startup, possibly due to race condition.
    A change made in February created a race condition if two Drillbits
    attempt to create the same storage plugin node at the same time.
    Revised the code to eliminate the race condition by relying on an
    exception to detect that the node already exists.
    
    closes #564

 .../apache/drill/exec/coord/zk/ZookeeperClient.java    | 18 ++++++++++++++----
 1 file changed, 14 insertions(+), 4 deletions(-)

commit 0d1158f86c18825d0e26ed63887c49e3f38f6344
Author: adeneche <adeneche@gmail.com>
Date:   Fri Jul 8 08:08:38 2016 -0700

    DRILL-4766: FragmentExecutor should use EventProcessor and avoid blocking rpc threads
    
    closes #561

 .../drill/exec/work/fragment/FragmentExecutor.java | 136 +++++++++++----------
 1 file changed, 74 insertions(+), 62 deletions(-)

commit 0bac42dec63a46ca787f6c5fe5a51b9a97e0d6cc
Author: Gautam Parai <gparai@maprtech.com>
Date:   Fri Aug 5 18:06:34 2016 -0700

    DRILL-4795: Nested aggregate windowed query fails - IllegalStateException
    
    close apache/drill#563

 .../org/apache/drill/exec/TestWindowFunctions.java | 59 ++++++++++++++++++++--
 pom.xml                                            |  2 +-
 2 files changed, 57 insertions(+), 4 deletions(-)

commit aaf220ffdddaa329e38237d69b438f4e09d16a87
Author: Dave Oshinsky <daveoshinsky@yahoo.com>
Date:   Thu Jun 9 18:08:01 2016 -0400

    DRILL-4704: Fix incorrect query result when decimal is compared with int value
    
    Make sure implicit cast function is provided with the correct precision value
    for int/bigint input.
    
    This version of the fix passes the unit test, but may increase the chance of
    an overflow error, since the precision is not minimized, and thus it is more
    likely to exceed that of the destination decimal. see DRILL-4834.
    
    Close apache/drill#517

 .../exec/expr/ExpressionTreeMaterializer.java      |  16 +++-
 .../exec/store/parquet/TestFixedlenDecimal.java    |  82 +++++++++++++++++++++
 .../test/resources/parquet/fixedlenDecimal.parquet | Bin 0 -> 11297 bytes
 .../org/apache/drill/exec/util/DecimalUtility.java |   2 +
 4 files changed, 98 insertions(+), 2 deletions(-)

commit e02aa596fa64f38bce773fd108f15032f8086601
Author: vkorukanti <venki@dremio.com>
Date:   Mon Jun 20 14:40:05 2016 -0700

    DRILL-4732: Update JDBC driver to use the new prepared statement APIs on DrillClient
    
    this closes #532

 .../java/org/apache/drill/common/types/Types.java  | 112 ++++------
 .../drill/jdbc/impl/DrillColumnMetaDataList.java   |  58 +++++-
 .../drill/jdbc/impl/DrillConnectionImpl.java       |  42 +++-
 .../apache/drill/jdbc/impl/DrillPrepareResult.java |  16 +-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |  12 +-
 .../jdbc/impl/DrillResultSetMetaDataImpl.java      |   3 +-
 .../apache/drill/jdbc/PreparedStatementTest.java   | 226 +++++++++++++++------
 ...l2769UnsupportedReportsUseSqlExceptionTest.java |   2 +-
 8 files changed, 327 insertions(+), 144 deletions(-)

commit 14f6ec7dd9b010de6c884431e443eb788ce54339
Author: vkorukanti <venki@dremio.com>
Date:   Mon Jun 13 11:20:25 2016 -0700

    DRILL-4729: Add support for prepared statement implementation on server side
    
    + Add following APIs for Drill Java client
      - DrillRpcFuture<CreatePreparedStatementResp> createPreparedStatement(final String query)
      - void executePreparedStatement(final PreparedStatement preparedStatement, UserResultsListener resultsListener)
      - List<QueryDataBatch> executePreparedStatement(final PreparedStatement preparedStatement) (for testing purpose)
    
    + Separated out the interface from UserClientConnection. It makes it easy to have wrappers which need to
      tap the messages and data going to the actual client.
    
    + Implement CREATE_PREPARED_STATEMENT and handle RunQuery with PreparedStatement
    
    + Test changes to support prepared statement as query type
    
    + Add tests in TestPreparedStatementProvider
    
    this closes #530

 .../java/org/apache/drill/common/types/Types.java  |    41 +
 .../java/org/apache/drill/exec/ExecConstants.java  |     7 +
 .../org/apache/drill/exec/client/DrillClient.java  |    77 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |     3 +
 .../apache/drill/exec/rpc/user/UserRpcConfig.java  |     4 +
 .../org/apache/drill/exec/rpc/user/UserServer.java |    99 +-
 .../exec/server/options/SystemOptionManager.java   |     3 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |    46 +-
 .../work/prepare/PreparedStatementProvider.java    |   400 +
 .../apache/drill/exec/work/user/UserWorker.java    |     7 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |    18 +-
 .../java/org/apache/drill/DrillTestWrapper.java    |     8 +-
 .../test/java/org/apache/drill/TestBuilder.java    |    37 +-
 .../prepare/TestPreparedStatementProvider.java     |   222 +
 .../org/apache/drill/exec/proto/ExecProtos.java    |   502 +-
 .../apache/drill/exec/proto/SchemaExecProtos.java  |   111 +
 .../apache/drill/exec/proto/SchemaUserProtos.java  |   988 +-
 .../org/apache/drill/exec/proto/UserBitShared.java |    67 +-
 .../org/apache/drill/exec/proto/UserProtos.java    | 25966 ++++++++++++-------
 .../exec/proto/beans/ColumnSearchability.java      |    55 +
 .../drill/exec/proto/beans/ColumnUpdatability.java |    51 +
 .../proto/beans/CreatePreparedStatementReq.java    |   163 +
 .../proto/beans/CreatePreparedStatementResp.java   |   211 +
 .../drill/exec/proto/beans/GetCatalogsResp.java    |     2 +-
 .../drill/exec/proto/beans/GetColumnsResp.java     |     2 +-
 .../drill/exec/proto/beans/GetSchemasResp.java     |     2 +-
 .../drill/exec/proto/beans/GetTablesResp.java      |     2 +-
 .../drill/exec/proto/beans/PreparedStatement.java  |   199 +
 .../exec/proto/beans/PreparedStatementHandle.java  |   164 +
 .../apache/drill/exec/proto/beans/QueryType.java   |     4 +-
 .../drill/exec/proto/beans/RequestStatus.java      |     8 +-
 .../exec/proto/beans/ResultColumnMetadata.java     |   559 +
 .../org/apache/drill/exec/proto/beans/RpcType.java |     4 +
 .../apache/drill/exec/proto/beans/RunQuery.java    |    24 +
 .../proto/beans/ServerPreparedStatementState.java  |   163 +
 protocol/src/main/protobuf/ExecutionProtos.proto   |     9 +
 protocol/src/main/protobuf/User.proto              |   208 +-
 protocol/src/main/protobuf/UserBitShared.proto     |     3 +
 38 files changed, 20685 insertions(+), 9754 deletions(-)

commit ef6e522c9cba816110aa43ff6bccedf29a901236
Author: vkorukanti <venki@dremio.com>
Date:   Thu Jun 9 16:03:06 2016 -0700

    DRILL-4728: Add support for new metadata fetch APIs
    
    + Protobuf messages
       - GetCatalogsReq -> GetCatalogsResp
       - GetSchemasReq -> GetSchemasResp
       - GetTablesReq -> GetTablesResp
       - GetColumnsReq -> GetColumnsResp
    
    + Java Drill client changes
    
    + Server side changes to handle the metadata API calls
      - Provide a self contained `Runnable` implementation for each metadata API
        that process the requests and sends the response to client
      - In `UserWorker` override the `handle` method that takes the `ResponseSender` and
        send the response from the `handle` method instead of returning it.
      - Add a method for each new API to UserWorker to submit the metadata work.
      - Add a method `addNewWork(Runnable runnable)` to `WorkerBee` to submit a generic
        `Runnable` to `ExecutorService`.
      - Move out couple of methods from `QueryContext` into a separate interface
        `SchemaConfigInfoProvider` to enable instantiating Schema trees without the
        full `QueryContext`
    
    + New protobuf messages increased the `jdbc-all.jar` size. Up the limit to 21MB.
    
    this closes #527

 .../drill/common/exceptions/ErrorHelper.java       |     4 +-
 .../org/apache/drill/exec/client/DrillClient.java  |   101 +
 .../org/apache/drill/exec/ops/QueryContext.java    |    57 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |    16 +-
 .../apache/drill/exec/rpc/user/UserRpcConfig.java  |    12 +
 .../org/apache/drill/exec/rpc/user/UserServer.java |    54 +-
 .../org/apache/drill/exec/store/SchemaConfig.java  |    50 +-
 .../drill/exec/store/SchemaTreeProvider.java       |   106 +
 .../drill/exec/store/pojo/PojoRecordReader.java    |    28 +-
 .../org/apache/drill/exec/work/WorkManager.java    |     8 +
 .../drill/exec/work/metadata/MetadataProvider.java |   486 +
 .../apache/drill/exec/work/user/UserWorker.java    |    25 +-
 .../exec/work/metadata/TestMetadataProvider.java   |   308 +
 exec/jdbc-all/pom.xml                              |     2 +-
 .../apache/drill/exec/proto/SchemaUserProtos.java  |  1752 +++
 .../org/apache/drill/exec/proto/UserProtos.java    | 13537 ++++++++++++++++++-
 .../drill/exec/proto/beans/CatalogMetadata.java    |   207 +
 .../drill/exec/proto/beans/ColumnMetadata.java     |   493 +
 .../drill/exec/proto/beans/GetCatalogsReq.java     |   165 +
 .../drill/exec/proto/beans/GetCatalogsResp.java    |   221 +
 .../drill/exec/proto/beans/GetColumnsReq.java      |   237 +
 .../drill/exec/proto/beans/GetColumnsResp.java     |   221 +
 .../drill/exec/proto/beans/GetSchemasReq.java      |   189 +
 .../drill/exec/proto/beans/GetSchemasResp.java     |   221 +
 .../drill/exec/proto/beans/GetTablesReq.java       |   213 +
 .../drill/exec/proto/beans/GetTablesResp.java      |   221 +
 .../apache/drill/exec/proto/beans/LikeFilter.java  |   185 +
 .../drill/exec/proto/beans/RequestStatus.java      |    51 +
 .../org/apache/drill/exec/proto/beans/RpcType.java |    16 +
 .../drill/exec/proto/beans/SchemaMetadata.java     |   251 +
 .../drill/exec/proto/beans/TableMetadata.java      |   229 +
 protocol/src/main/protobuf/User.proto              |   149 +-
 32 files changed, 19635 insertions(+), 180 deletions(-)

commit 4bd67a66073a429fb19c4f21f4113fef8a24db21
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue Aug 2 15:16:03 2016 -0700

    DRILL-4822: Add site directory to distrib-env.sh search path
    
    closes #558

 distribution/src/resources/drill-config.sh | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 8bbf6589ad746b8949c962875f0ea2de59a13f79
Author: Patrick Wong <Patrick Wong>
Date:   Mon Aug 1 18:03:06 2016 -0700

    DRILL-4819: Update MapR version to 5.2.0
    
    closes #556

 pom.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 48b3fd2ee040f30be3ff3172bf03111ca58d4b48
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Thu Apr 21 10:28:29 2016 -0700

    DRILL-4623: Disable epoll transport by default
    
    closes #486

 distribution/src/resources/drill-config.sh                           | 2 +-
 exec/rpc/src/main/java/org/apache/drill/exec/rpc/TransportCheck.java | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 18e16610ab446e1f435db35dd6dce60c0be0d07a
Author: Jinfeng Ni <jni@apache.org>
Date:   Thu Aug 4 17:54:30 2016 -0700

    DRILL-4825: Fix incorrect result issue caused by partition pruning when same table is queried multiple times with different filters in query.
    
    1) Introduce DirPrunedEnumerableTableScan which will take file selection as part of digest.
    2) When directory-based pruning happens, create instance of DirPrunedEnumerableTableScan.

 .../planner/FileSystemPartitionDescriptor.java     |  4 +-
 .../logical/DirPrunedEnumerableTableScan.java      | 82 ++++++++++++++++++++++
 .../apache/drill/exec/store/dfs/FileSelection.java | 21 ++++++
 .../java/org/apache/drill/TestPartitionFilter.java | 45 ++++++++++++
 4 files changed, 151 insertions(+), 1 deletion(-)

commit f476eb59f687061958348f4ea22c171149d50f70
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Aug 2 16:52:03 2016 -0700

    Add Jinfeng's GPG key.

 KEYS | 58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 58 insertions(+)

commit 6f5864cfbdcdccd67ba8f031126568d8edbf0c42
Author: Parth Chandra <parthc@apache.org>
Date:   Tue Aug 2 14:04:41 2016 -0700

    DRILL-4816: Fix sqlline command line parsing (sqlline -f failed to read the query file)
    
    This closes #557

 distribution/src/resources/sqlline | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0700c6b100367feef514a833e1aeb914e4fe64c4
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Dec 1 16:46:51 2015 -0800

    DRILL-4147: Change union-all's output distribution trait to ANY.
    
    Additional unit tests.
    
    Address review comments.
    
    close apache/drill#555

 .../drill/exec/planner/physical/UnionAllPrule.java |  6 +-
 .../test/java/org/apache/drill/TestUnionAll.java   | 98 ++++++++++++++++++++++
 .../java/org/apache/drill/TestUnionDistinct.java   | 36 +++++++-
 3 files changed, 138 insertions(+), 2 deletions(-)

commit 4e1bdac08d12ee8b0375d4437fa0d52f9ead124d
Author: Gautam Parai <gparai@maprtech.com>
Date:   Tue Jul 19 15:21:59 2016 -0700

    DRILL-3710: New option for the IN LIST size to convert into join
    
    Cosmetic changes
    
    close apache/drill#552

 .../exec/planner/physical/PlannerSettings.java     |  6 +++
 .../drill/exec/planner/sql/SqlConverter.java       | 51 ++++++++++++++++++++--
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../java/org/apache/drill/TestPartitionFilter.java | 10 +++++
 pom.xml                                            |  2 +-
 5 files changed, 65 insertions(+), 5 deletions(-)

commit 69a44ed79e4a9ea242df2d5ce7a9b3f042120676
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Jul 22 16:42:09 2016 -0700

    DRILL-4786: Read the metadata cache file from the least common ancestor directory when multiple partitions are selected.
    
    close apache/drill#553

 .../exec/planner/AbstractPartitionDescriptor.java  |  2 +-
 .../planner/FileSystemPartitionDescriptor.java     |  9 ++-
 .../drill/exec/planner/PartitionDescriptor.java    |  2 +-
 .../planner/logical/partition/PruneScanRule.java   | 91 +++++++++++++---------
 .../apache/drill/exec/store/dfs/FileSelection.java | 11 ++-
 .../exec/store/parquet/ParquetFormatPlugin.java    |  3 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  7 +-
 .../store/parquet/TestParquetMetadataCache.java    | 60 ++++++++++++--
 8 files changed, 134 insertions(+), 51 deletions(-)

commit 4b362f089637d8a6b27adc7a1b5e6c7cdb516001
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Jul 26 11:00:42 2016 +0000

    DRILL-4801: Fix TextFormatPlugin#hashcode and #equals to use extractHeader attribute
    
    closes #554

 .../java/org/apache/drill/exec/store/easy/text/TextFormatPlugin.java  | 4 ++++
 1 file changed, 4 insertions(+)

commit 5a7d4c3983747a778e6a29d3450dd18871e98f2c
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Thu Jul 21 17:13:59 2016 -0700

    DRILL-4499: Remove 16 unused classes
    
    This closes #426

 .../org/apache/drill/common/DrillCloseables.java   | 55 ---------------------
 .../drill/exec/expr/annotations/MethodMap.java     | 35 --------------
 .../apache/drill/exec/expr/fn/FunctionBody.java    | 29 -----------
 .../java/org/apache/drill/exec/ops/Multitimer.java | 42 ----------------
 .../java/org/apache/drill/exec/ops/QuerySetup.java | 26 ----------
 .../exec/rpc/control/AvailabilityListener.java     | 22 ---------
 .../drill/exec/rpc/control/ControlCommand.java     | 28 -----------
 .../drill/exec/rpc/control/SendProgress.java       | 22 ---------
 .../apache/drill/exec/rpc/data/SendProgress.java   | 22 ---------
 .../org/apache/drill/exec/rpc/user/DrillUser.java  | 36 --------------
 .../apache/drill/exec/store/RecordRecorder.java    | 36 --------------
 .../drill/exec/store/schedule/PartialWork.java     | 43 -----------------
 .../org/apache/drill/exec/util/AtomicState.java    | 56 ----------------------
 .../apache/drill/exec/work/RecordOutputStream.java | 22 ---------
 .../apache/drill/exec/work/ResourceRequest.java    | 30 ------------
 .../org/apache/drill/exec/work/RootNodeDriver.java | 25 ----------
 16 files changed, 529 deletions(-)

commit 81772d3b89457e83ef76f7fb3beb44773646644b
Author: Parth Chandra <parthc@apache.org>
Date:   Fri Jul 22 16:47:48 2016 -0700

    DRILL-4690: remove dependency introduced in DRILL-4690 for jdbc-all

 exec/jdbc-all/pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit 855873ef30bae0af402d32ee4cf44a65f97fb1db
Author: Wojciech Nowak <mail@pythonic.ninja>
Date:   Sat May 21 18:00:37 2016 +0200

    DRILL-4690: initial support for CORS
    
    Added CrossOriginFilter to WebServer based on option HTTP_ENABLE_CORS
    Fixed issues related to style
    Restricted headers, added run of filterChain
    Filter from org.eclipse.jetty.servlets
    Enabled configuration, jetty version 9.1.5, restrict filtered paths
    CORS by default disabled, reduced size of dependencies (reset maxsize)
    
    This closes #507

 .../src/resources/drill-override-example.conf      |  9 +++++-
 exec/java-exec/pom.xml                             | 35 ++++++++++++++++++++++
 .../java/org/apache/drill/exec/ExecConstants.java  |  5 ++++
 .../apache/drill/exec/server/rest/WebServer.java   | 21 +++++++++++++
 .../java-exec/src/main/resources/drill-module.conf |  9 +++++-
 5 files changed, 77 insertions(+), 2 deletions(-)

commit 4d9413415afcd254bdca2674cfb0eaa59d47e806
Author: chunhui-shi <cshi@maprtech.com>
Date:   Wed Jun 29 10:37:45 2016 -0700

    DRILL-4695: Log error thrown out of drillbit.run before close.
    
    This closes #537

 exec/java-exec/src/main/java/org/apache/drill/exec/server/Drillbit.java | 1 +
 1 file changed, 1 insertion(+)

commit f36fec9750fedd00a063f26b9998f9a994d025ad
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Fri May 13 19:24:31 2016 +0000

    DRILL-4673: Implement "DROP TABLE IF EXISTS" for drill to prevent FAILED status on command return - implement DROP TABLE IF EXISTS and DROP VIEW IF EXISTS; - added unit test for DROP TABLE IF EXISTS; - added unit test for DROP VIEW IF EXISTS; - added unit test for "IF" hive UDF.
    
    This closes #541

 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    | 12 ++++-
 exec/java-exec/src/main/codegen/data/Parser.tdd    |  3 +-
 .../src/main/codegen/includes/parserImpls.ftl      | 16 ++++---
 .../planner/sql/handlers/DropTableHandler.java     | 22 +++++++---
 .../exec/planner/sql/handlers/ViewHandler.java     | 33 ++++++++------
 .../sql/parser/CompoundIdentifierConverter.java    |  4 +-
 .../exec/planner/sql/parser/SqlDropTable.java      | 27 ++++++++++--
 .../drill/exec/planner/sql/parser/SqlDropView.java | 30 +++++++++----
 .../test/java/org/apache/drill/TestDropTable.java  | 51 ++++++++++++++++++++++
 .../apache/drill/exec/sql/TestBaseViewSupport.java | 44 +++++++++++++++++++
 .../org/apache/drill/exec/sql/TestViewSupport.java | 31 +++++++++++++
 11 files changed, 233 insertions(+), 40 deletions(-)

commit 5ca2340a0a83412aa8fc8b077b72eca5f55e4226
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Jul 13 13:44:27 2016 +0300

    DRILL-4746: Verification Failures (Decimal values) in drill's regression tests.
    
    This closes #545

 .../exec/store/easy/text/compliant/TextInput.java  | 50 ++++++----------------
 1 file changed, 14 insertions(+), 36 deletions(-)

commit 1f3c74dad8681243f657025e2e911da13d2497ed
Author: Paul Rogers <progers@maprtech.com>
Date:   Tue Jul 12 16:19:28 2016 -0700

    Drill-4581: Extensive revisions to the Drill launch scripts.
    
    See DRILL-4581 and DRILL-4591 for an overview.
    See DRILL-4581 for a detailed list of bugs fixed.
    See DRILL-4591 for the motivation for the new "site" directory support.
    Changes support DRILL-1170 (Drill-on-YARN).
    
    Broad overview of changes:
    
    * Extended the existing "config" directory concept to create a
    "site" directory that holds all site-specific files, leaving the
    Drill directory ($DRILL_HOME) to contain only Drill-provided files.
    The site directory is handy for all Drill users because it eases
    upgrades, but is necessary to simplify Drill-on-YARN deployments.
    Use the --config (for backward compatibility) or --site (more
    descriptive) option to point to the site directory.
    
    * Moved distribution-specific settings, and Drill defaults, out of
    drill-env.sh. Now, drill-env.sh contains only user settings, avoiding
    the need to do multi-way merges on upgrades. Distribution-specific
    files now reside in a new $DRILL_HOME/conf/distrib-env.sh file.
    
    * Refactored the launch scripts to allow the bulk of setup to be shared
    between the "classic" Drill daemon script (drillbit.sh) and the new
    Drill-on-YARN scripts.
    
    * Added a new "run" option to drillbit.sh to allow Drill to run as a
    child process as needed by tools such as Apache Mesos.
    
    * Changes ensure backward compatibility. Users of earlier releases can
    upgrade to the release with this fix without doing anything special.
    Drill will "just work." However, users can optionally clean up the
    drill-env.sh script, optionally use the site directory, and so on.
    However these upgrades are not required.
    
    closes #547

 distribution/src/assemble/bin.xml                  |  12 +-
 .../{core-site.xml => core-site-example.xml}       |   0
 distribution/src/resources/distrib-env.sh          |  20 ++
 distribution/src/resources/drill-config.sh         | 316 ++++++++++++++----
 distribution/src/resources/drill-embedded          |   1 +
 distribution/src/resources/drill-env.sh            | 125 +++++++-
 distribution/src/resources/drillbit.sh             | 357 ++++++++++-----------
 distribution/src/resources/runbit                  |  94 +++++-
 distribution/src/resources/sqlline                 |  70 ++--
 9 files changed, 707 insertions(+), 288 deletions(-)

commit 4dac1034739fb3ae563a76e7298344282650052e
Author: Gautam Parai <gparai@maprtech.com>
Date:   Tue Jun 21 12:30:02 2016 -0700

    DRILL-4743: Allow new options to control filter selectivity (min/max bounds)
    
    Addressed review comments 2
    
    Addressed review comments 3
    
    close apache/drill#534

 .../drill/exec/compile/QueryClassLoader.java       |  4 +-
 .../exec/planner/common/DrillFilterRelBase.java    | 25 +++++++
 .../exec/planner/cost/DrillRelMdRowCount.java      |  6 ++
 .../exec/planner/physical/PlannerSettings.java     | 19 ++++++
 .../exec/rpc/user/InboundImpersonationManager.java |  5 +-
 .../exec/server/options/FallbackOptionManager.java |  2 +-
 .../drill/exec/server/options/OptionValidator.java |  4 +-
 .../exec/server/options/SystemOptionManager.java   |  4 +-
 .../drill/exec/server/options/TypeValidators.java  | 77 ++++++++++++++++++----
 .../drill/exec/testing/ExecutionControls.java      |  2 +-
 .../test/java/org/apache/drill/PlanTestBase.java   | 39 +++++++++++
 .../java/org/apache/drill/TestSelectivity.java     | 70 ++++++++++++++++++++
 .../TestInboundImpersonationPrivileges.java        |  2 +-
 .../drill/exec/testing/ControlsInjectionUtil.java  |  2 +-
 14 files changed, 237 insertions(+), 24 deletions(-)

commit 04964bbf816746ffaefbe58bf9ddedbff54e0f69
Author: chunhui-shi <cshi@maprtech.com>
Date:   Sat Jul 16 00:18:33 2016 -0700

    DRILL-4783: flatten operator handle empty resultset(and schema unknown due to this)
    
    close apache/drill#546

 .../physical/impl/flatten/FlattenRecordBatch.java  | 34 ++++++++++++++++------
 .../drill/exec/nested/TestFastComplexSchema.java   | 29 ++++++++++++++++++
 2 files changed, 54 insertions(+), 9 deletions(-)

commit 43776706b161c9ff715fc7f5a9f8af76f5b2354c
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Jul 20 22:36:02 2016 -0700

    DRILL-4794: Fix a premature exit of the outer loop during pruning.
    
    close apache/drill#550

 .../planner/logical/partition/PruneScanRule.java     |  1 -
 .../exec/store/parquet/TestParquetMetadataCache.java | 20 ++++++++++++++++++++
 2 files changed, 20 insertions(+), 1 deletion(-)

commit 34ca63ba188e593c961e0b665ac44cd3de2b6b22
Author: vkorukanti <venki@dremio.com>
Date:   Mon Jul 18 16:56:25 2016 -0700

    DRILL-4785: Avoid checking for hard affinity scans in limit 0 shortcut cases

 .../planner/sql/handlers/DefaultSqlHandler.java    | 10 ++-
 .../sql/handlers/FindHardDistributionScans.java    | 71 ++++++++++++++++++++++
 .../planner/sql/handlers/FindLimit0Visitor.java    | 45 +-------------
 3 files changed, 80 insertions(+), 46 deletions(-)

commit e371e18b9bd720a862b55f9e2682b39e1f68ce97
Author: Padma Penumarthy <ppenumarthy@PPENUMARTHY-E653-MPR13.local>
Date:   Tue Jul 5 11:28:11 2016 -0700

    Fix for DRILL-4759: Drill throwing array index out of bound exception when reading a parquet file written by map reduce program
    
    Added unit test case.
    
    Updated fix

 .../ParquetFixedWidthDictionaryReaders.java           |  18 +++++++++++++-----
 .../columnreaders/TestColumnReaderFactory.java        |  15 +++++++++++++++
 .../test/resources/parquet/bigIntDictionary.parquet   | Bin 0 -> 1918423 bytes
 3 files changed, 28 insertions(+), 5 deletions(-)

commit 4f818d074373f3572cb3c2e99d1c9c43df2090aa
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Mar 25 12:55:59 2016 -0700

    DRILL-4530: Optimize partition pruning with metadata caching for the single partition case.
    
     - Enhance PruneScanRule to detect single partitions based on referenced dirs in the filter.
     - Keep a new status of EXPANDED_PARTIAL for FileSelection.
     - Create separate .directories metadata file to prune directories first before files.
     - Introduce cacheFileRoot attribute to keep track of the parent directory of the cache file after partition pruning.
    
    Check if prefix components are non-null the very first time single partition info is initialized.
    
    Add separate interface method to create scan using a cacheFileRoot.
    
    Create filenames list with unique names using fileSet if available.  Add several unit tests.
    
    Populate only fileSet when expanding using the metadata cache.
    
    Remove cacheFileRoot parameter from FileGroupScan's clone() method and instead leverage it from FileSelection.
    
    Keep track of whether all partitions were previously pruned and process this state where needed.
    
    close apache/drill#519

 .../exec/planner/sql/HivePartitionDescriptor.java  |   3 +-
 .../drill/exec/physical/base/FileGroupScan.java    |   1 +
 .../exec/planner/AbstractPartitionDescriptor.java  |  14 +++
 .../exec/planner/DFSDirPartitionLocation.java      |  12 ++
 .../exec/planner/DFSFilePartitionLocation.java     |   7 +-
 .../planner/FileSystemPartitionDescriptor.java     |  57 ++++++---
 .../exec/planner/ParquetPartitionDescriptor.java   |  21 +++-
 .../drill/exec/planner/PartitionDescriptor.java    |  20 ++-
 .../drill/exec/planner/PartitionLocation.java      |   6 +
 .../exec/planner/SimplePartitionLocation.java      |   5 +
 .../logical/partition/FindPartitionConditions.java |  12 ++
 .../planner/logical/partition/PruneScanRule.java   | 114 +++++++++++++++--
 .../drill/exec/store/dfs/DrillFileSystem.java      |   1 -
 .../apache/drill/exec/store/dfs/FileSelection.java | 120 +++++++++++++++---
 .../apache/drill/exec/store/parquet/Metadata.java  |  94 +++++++++++++-
 .../exec/store/parquet/ParquetFormatPlugin.java    |  21 +++-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  85 ++++++++-----
 .../store/parquet/TestParquetMetadataCache.java    | 139 ++++++++++++++++++---
 .../multilevel/parquet2/1994/Q1/1.parquet          | Bin 0 -> 2015 bytes
 .../multilevel/parquet2/1994/Q1/2.parquet          | Bin 0 -> 2015 bytes
 .../multilevel/parquet2/1994/Q2/1.parquet          | Bin 0 -> 2130 bytes
 .../multilevel/parquet2/1994/Q2/2.parquet          | Bin 0 -> 2130 bytes
 .../multilevel/parquet2/1994/Q3/1.parquet          | Bin 0 -> 2054 bytes
 .../multilevel/parquet2/1994/Q3/2.parquet          | Bin 0 -> 2054 bytes
 .../multilevel/parquet2/1994/Q4/1.parquet          | Bin 0 -> 2056 bytes
 .../multilevel/parquet2/1994/Q4/2.parquet          | Bin 0 -> 2056 bytes
 .../multilevel/parquet2/1995/Q1/1.parquet          | Bin 0 -> 2180 bytes
 .../multilevel/parquet2/1995/Q1/2.parquet          | Bin 0 -> 2180 bytes
 .../multilevel/parquet2/1995/Q2/1.parquet          | Bin 0 -> 2110 bytes
 .../multilevel/parquet2/1995/Q2/2.parquet          | Bin 0 -> 2110 bytes
 .../multilevel/parquet2/1995/Q3/1.parquet          | Bin 0 -> 1902 bytes
 .../multilevel/parquet2/1995/Q3/2.parquet          | Bin 0 -> 1902 bytes
 .../multilevel/parquet2/1995/Q4/1.parquet          | Bin 0 -> 2013 bytes
 .../multilevel/parquet2/1995/Q4/2.parquet          | Bin 0 -> 2013 bytes
 34 files changed, 627 insertions(+), 105 deletions(-)

commit 70aba772a9434e0703078bddb47008f35cffb8bf
Author: Jinfeng Ni <jni@apache.org>
Date:   Mon Jul 18 12:01:31 2016 -0700

    DRILL-4715: Fix IOBE for concurrent query planning by applying fix of CALCITE-1009.
    
    Fix is done in CALCITE-1009, thanks to huntersjm(huntersjm@163.com)'s analysis.

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ba2280612a600bc76a549f061433304bba908bb1
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Wed Jun 8 13:32:42 2016 +0000

    DRILL-4664: ScanBatch.isNewSchema() returns wrong result for map datatype
    
    - creating a separate SchemaChangeCallBack for new MapVecor in MapTransferPair,
      RepeatedMapTransferPair and SingleMapTransferPair .
    
    This closes #516

 .../java/org/apache/drill/exec/fn/impl/TestAggregateFunctions.java   | 5 ++---
 .../main/java/org/apache/drill/exec/vector/complex/MapVector.java    | 3 ++-
 .../java/org/apache/drill/exec/vector/complex/RepeatedMapVector.java | 5 +++--
 3 files changed, 7 insertions(+), 6 deletions(-)

commit 6c67f458b9bb1a6a84f901561bb7686315b0207f
Author: Parth Chandra <parthc@apache.org>
Date:   Fri Apr 29 17:38:44 2016 -0700

    DRILL-4647: C++ client fails to propagate a dead connection error to the application.
    This closes #493

 .../native/client/src/clientlib/drillClient.cpp    |  4 ++
 .../client/src/clientlib/drillClientImpl.cpp       | 46 +++++++++++++++-------
 2 files changed, 36 insertions(+), 14 deletions(-)

commit 9878170d082a58af08b0b7b75494a76546d73580
Author: Gautam Parai <gparai@maprtech.com>
Date:   Thu Jun 16 19:36:07 2016 -0700

    DRILL-4665: Fix partition pruning for filters containing LIKE (or other similar) predicate on non-partition column.
    
    close apache/drill#526

 .../logical/partition/FindPartitionConditions.java       |  4 ++--
 .../test/java/org/apache/drill/TestPartitionFilter.java  | 16 +++++++++++++++-
 2 files changed, 17 insertions(+), 3 deletions(-)

commit c040185dd2dd5626c1221a04982fb06060531c0a
Author: Gautam Parai <gparai@maprtech.com>
Date:   Fri Jun 17 18:13:15 2016 -0700

    DRILL-2330: Support for nested aggregates within window functions (merge CALCITE-750), add unit tests.
    
    close apache/drill#529

 .../org/apache/drill/exec/TestWindowFunctions.java | 30 ++++++++++++++++++++++
 pom.xml                                            |  2 +-
 2 files changed, 31 insertions(+), 1 deletion(-)

commit b2e79aac8f88bc4a1d2b9da2179d70540c6e49d4
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Mar 16 16:33:41 2016 +0000

    DRILL-4514: Add describe schema <schema_name> command
    
    close apache/drill#436.

 exec/java-exec/src/main/codegen/data/Parser.tdd    |   4 +-
 .../src/main/codegen/includes/parserImpls.ftl      |  16 +++
 .../sql/handlers/DescribeSchemaHandler.java        | 128 +++++++++++++++++++++
 .../sql/parser/CompoundIdentifierConverter.java    |   1 +
 .../exec/planner/sql/parser/SqlDescribeSchema.java |  81 +++++++++++++
 .../org/apache/drill/exec/sql/TestInfoSchema.java  |  67 +++++++++++
 6 files changed, 296 insertions(+), 1 deletion(-)

commit 7e564996f71330dd5acdae6d403841176eeb5c64
Author: Jinfeng Ni <jni@apache.org>
Date:   Thu Jul 7 21:48:53 2016 -0700

    DRILL-4768: Fix leaking hive meta store connection in Drill's hive metastore client call.
    
    - do not call reconnect if the connection is still alive and the error is caused by either UnknownTableException or access error.
    - call  close() explicitly before reconnect() and check if client.close() will hit exception.
    - make DrillHiveMetaStoreClient closable.
    
    close apache/drill#543

 .../exec/store/hive/DrillHiveMetaStoreClient.java  | 76 ++++++++++++++++++----
 .../exec/store/hive/schema/HiveDatabaseSchema.java | 27 +++-----
 .../exec/store/hive/schema/HiveSchemaFactory.java  |  2 +-
 3 files changed, 74 insertions(+), 31 deletions(-)

commit 05c42eae79ce3e309028b3824f9449b98e329f29
Author: Jinfeng Ni <jni@apache.org>
Date:   Sun Jun 5 17:37:22 2016 -0700

    DRILL-4707: Fix memory leak or incorrect query result in case two column names are case-insensitive identical.
    
    Fix is mainly in CALCITE-528
    
    Close apache/drill#515

 .../drill/exec/planner/sql/SqlConverter.java       |  5 ++
 .../planner/sql/handlers/DefaultSqlHandler.java    |  5 +-
 .../java/org/apache/drill/TestCaseSensitivity.java | 55 ++++++++++++++++++++++
 pom.xml                                            |  2 +-
 4 files changed, 65 insertions(+), 2 deletions(-)

commit b49ea3ebd99b7f36eeb7f17b325e99af74300068
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Jun 28 14:04:53 2016 -0700

    Update version to 1.8.0-SNAPSHOT.

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/gis/pom.xml                          | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 2 +-
 contrib/storage-kudu/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/memory/base/pom.xml                     | 2 +-
 exec/memory/pom.xml                          | 2 +-
 exec/pom.xml                                 | 2 +-
 exec/rpc/pom.xml                             | 2 +-
 exec/vector/pom.xml                          | 2 +-
 logical/pom.xml                              | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 tools/fmpp/pom.xml                           | 2 +-
 tools/pom.xml                                | 2 +-
 27 files changed, 27 insertions(+), 27 deletions(-)

commit 1c9e92b0cec18b4ee5a005fd6006ad329e3fa568
Author: baunz <johannes.schulte@gmail.com>
Date:   Sun Apr 3 09:43:40 2016 +0200

    DRILL-4574: Avro Plugin: Flatten does not work correctly on record items
    
    * When applied to arrays of record, the flatten function always returned the last item only in the array when querying avro records
    * The problem was that the RepeatedMapWriter's start() and end() methods wer only called once and not for every array item
    * This commit adds tests that show the expected behaviour for both non-primitive and primitive arrays
    
    close apache/drill#459

 .../drill/exec/store/avro/AvroRecordReader.java    |  5 +-
 .../drill/exec/store/avro/AvroFormatTest.java      | 65 ++++++++++++++++++++++
 .../apache/drill/exec/store/avro/AvroTestUtil.java | 40 +++++++++++++
 3 files changed, 108 insertions(+), 2 deletions(-)

commit 11602456b3e7b334c6cd060e633f5668d32d80e9
Author: Jinfeng Ni <jni@apache.org>
Date:   Thu Jun 9 17:08:45 2016 -0700

    DRILL-4715: Fix java compilation error in run-time generated code when query has large number of expressions.
    
    Refactor unit test in drillbit context initialization and pass in option manager.
    
    close apache/drill#521

 .../java/org/apache/drill/exec/ExecConstants.java  |   4 +
 .../org/apache/drill/exec/expr/ClassGenerator.java |  72 ++++++++----
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  28 +++--
 .../org/apache/drill/exec/expr/SizedJBlock.java    |  50 ++++++++
 .../expr/fn/FunctionImplementationRegistry.java    |   2 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |   8 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java |   4 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |  19 +--
 .../physical/impl/common/ChainedHashTable.java     |  18 +--
 .../physical/impl/filter/FilterRecordBatch.java    |  10 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |   2 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |   2 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |   8 +-
 .../physical/impl/join/NestedLoopJoinBatch.java    |   2 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |   8 +-
 .../OrderedPartitionRecordBatch.java               |  11 +-
 .../partitionsender/PartitionSenderRootExec.java   |   2 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   8 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   8 +-
 .../impl/svremover/RemovingRecordBatch.java        |   4 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |   2 +-
 .../impl/window/WindowFrameRecordBatch.java        |   8 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |  18 +--
 .../exec/server/options/SystemOptionManager.java   |   3 +-
 .../test/java/org/apache/drill/exec/ExecTest.java  |  36 ++++++
 .../org/apache/drill/exec/client/DumpCatTest.java  |  14 +--
 .../exec/compile/TestClassTransformation.java      |   2 +-
 .../drill/exec/compile/TestEvaluationVisitor.java  |   2 +-
 .../exec/compile/TestLargeFileCompilation.java     |  17 +++
 .../org/apache/drill/exec/expr/ExpressionTest.java |   3 +-
 .../drill/exec/fn/impl/TestCastFunctions.java      |   1 -
 .../drill/exec/fn/impl/TestMathFunctions.java      |  14 +--
 .../drill/exec/fn/impl/TestNewMathFunctions.java   |  17 +--
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |  14 +--
 .../exec/physical/impl/TestCastFunctions.java      | 127 +++++----------------
 .../physical/impl/TestComparisonFunctions.java     |  13 +--
 .../physical/impl/TestImplicitCastFunctions.java   |  13 +--
 .../drill/exec/physical/impl/TestOptiqPlans.java   |  11 +-
 .../exec/physical/impl/TestSimpleFunctions.java    |  29 +----
 .../exec/physical/impl/TestStringFunctions.java    |  14 +--
 .../drill/exec/physical/impl/agg/TestAgg.java      |  15 +--
 .../exec/physical/impl/common/TestHashTable.java   |  66 -----------
 .../physical/impl/filter/TestSimpleFilter.java     |  22 +---
 .../exec/physical/impl/join/TestHashJoin.java      |  24 +---
 .../exec/physical/impl/join/TestMergeJoin.java     |  46 +-------
 .../exec/physical/impl/limit/TestSimpleLimit.java  |  31 +----
 .../impl/project/TestSimpleProjection.java         |  14 +--
 .../exec/physical/impl/sort/TestSimpleSort.java    |  22 +---
 .../impl/trace/TestTraceMultiRecordBatch.java      |  14 +--
 .../physical/impl/trace/TestTraceOutputDump.java   |  14 +--
 .../exec/physical/impl/union/TestSimpleUnion.java  |  14 +--
 .../exec/physical/unit/PhysicalOpUnitTestBase.java |  27 ++---
 .../org/apache/drill/exec/pop/PopUnitTestBase.java |   2 +-
 .../drill/exec/record/TestRecordIterator.java      |  23 +---
 54 files changed, 324 insertions(+), 638 deletions(-)

commit e047e1089f84a79eeab07bd13b8a5ca46e84b7d3
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Jun 21 12:33:32 2016 +0000

    DRILL-4733: max(dir0) reading more columns than necessary

 .../drill/exec/store/ImplicitColumnExplorer.java       |   6 ------
 .../drill/exec/store/dfs/easy/EasyFormatPlugin.java    |   7 ++++++-
 .../drill/exec/store/TestImplicitFileColumns.java      |  17 +++++++++++++++++
 .../parquetWithSchemaChange/voter5/voter5.parquet      | Bin 0 -> 1250 bytes
 .../parquetWithSchemaChange/voter50/voter50.parquet    | Bin 0 -> 2960 bytes
 5 files changed, 23 insertions(+), 7 deletions(-)

commit fbdd20e54351879200184b478c2a32f238bf2176
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon Jun 20 14:39:04 2016 -0700

    Added Aman's GPG key.

 KEYS | 58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 58 insertions(+)

commit 2862beaf5c72ccaafc6c52b9956f2d0414948b67
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Sun Jun 12 13:48:54 2016 +0000

    DRILL-2593: 500 error when crc for a query profile is out of sync

 .../exec/server/rest/profile/ProfileResources.java | 55 +++++++++++++++-------
 .../src/main/resources/rest/profile/list.ftl       |  9 ++++
 2 files changed, 46 insertions(+), 18 deletions(-)

commit 1c451a341e80c2372be47d999741240fb5495eea
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Sun Jun 12 16:10:52 2016 +0000

    DRILL-4716: status.json doesn't work in drill ui

 .../org/apache/drill/exec/server/rest/StatusResources.java    | 11 ++++++++++-
 exec/java-exec/src/main/resources/rest/status.ftl             |  3 +--
 2 files changed, 11 insertions(+), 3 deletions(-)

commit 4123ed2a539cd3f9812f22f96d56aa4709828acd
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Wed Jun 1 11:16:31 2016 +0000

    DRILL-4701: Fix log name and missing lines in logs on Web UI

 .../org/apache/drill/exec/server/rest/LogsResources.java  | 15 ++++++++-------
 exec/java-exec/src/main/resources/rest/logs/log.ftl       |  6 +++---
 2 files changed, 11 insertions(+), 10 deletions(-)

commit 223507b76ff6c2227e667ae4a53f743c92edd295
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon Apr 25 19:15:02 2016 +0300

    DRILL-3149: TextReader should support multibyte line delimiters

 .../store/dfs/FormatPluginOptionsDescriptor.java   |   5 +
 .../exec/store/easy/text/compliant/TextInput.java  | 105 +++++++++------------
 .../easy/text/compliant/TextParsingSettings.java   |   3 -
 .../org/apache/drill/TestSelectWithOption.java     |  74 ++++++++++++---
 4 files changed, 115 insertions(+), 72 deletions(-)

commit f86c4fa8eccf5585a9fc358b024ca1cbb194fe2b
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Thu Jun 16 16:45:20 2016 +0000

    DRILL-2385: Count on complex objects failed with missing function implementation - added MapHolder, ListHolder; - added testCountComplexObjects() unit test.

 .../src/main/codegen/data/CountAggrTypes.tdd       | 21 ++++++++++++
 .../exec/resolver/ResolverTypePrecedence.java      |  2 ++
 .../apache/drill/exec/resolver/TypeCastRules.java  |  2 ++
 .../drill/exec/fn/impl/TestAggregateFunctions.java | 34 ++++++++++++++++++++
 .../src/test/resources/complex/json/complex.json   | 30 ++++++++++++++++++
 .../test/resources/complex/json/repeated_list.json |  2 +-
 .../resources/complex/json/repeated_list_map.json  |  2 +-
 .../apache/drill/exec/expr/holders/ListHolder.java | 37 ++++++++++++++++++++++
 .../apache/drill/exec/expr/holders/MapHolder.java  | 32 +++++++++++++++++++
 .../exec/expr/holders/RepeatedListHolder.java      | 20 ++++++++++--
 .../drill/exec/expr/holders/RepeatedMapHolder.java | 25 +++++++++++++--
 11 files changed, 201 insertions(+), 6 deletions(-)

commit 3209886a8548eea4a2f74c059542672f8665b8d2
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon Apr 18 19:36:52 2016 +0300

    DRILL-3474: Add implicit file columns support

 .../hive/HiveDrillNativeScanBatchCreator.java      |  34 +++-
 .../java/org/apache/drill/exec/ExecConstants.java  |  12 ++
 .../apache/drill/exec/physical/impl/ScanBatch.java |  88 ++++-----
 .../physical/impl/project/ProjectRecordBatch.java  |  15 +-
 .../exec/server/options/SystemOptionManager.java   |   6 +-
 .../drill/exec/store/ImplicitColumnExplorer.java   | 206 +++++++++++++++++++++
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  81 +++-----
 .../store/parquet/ParquetScanBatchCreator.java     |  81 +++-----
 .../drill/exec/store/TestImplicitFileColumns.java  | 113 +++++++++++
 9 files changed, 461 insertions(+), 175 deletions(-)

commit bd1d9c24f574af14541e7d4abcd386624de92dcc
Author: Aditya Kishore <adi@apache.org>
Date:   Fri Jun 17 15:13:48 2016 -0700

    DRILL-4727: [Addendum] Exclude netty from HBase Client's transitive dependencies
    
    Excluded `netty-all` from the list of transitive dependencies pulled by `mapr-hbase` in `mapr` profile.

 pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit f70df990f8d28f836f23e2a45145fc07c75f31bb
Author: vkorukanti <venki@dremio.com>
Date:   Thu Jun 9 00:00:31 2016 -0700

    DRILL-4725: Improvements to InfoSchema RecordGenerator needed for DRILL-4714
    
    1. Add support for pushing the filter on following fields into InfoSchemaRecordGenerator:
       - CATALOG_NAME
       - COLUMN_NAME
    
    2. Pushdown LIKE with ESCAPE. Add test TestInfoSchemaFilterPushDown#testFilterPushdown_LikeWithEscape
    
    3. Add a method visitCatalog() to InfoSchemaRecordGenerator to decide whether to explore the catalog or not
    
    4. Refactor CATALOG_DESCRIPTION and CATALOG_CONNECT as constant strings in InfoSchemaConstants.java
    
    5. Update TestInfoSchemaFilterPushDown#testPartialFilterPushDownWithProject as
       we are now pushing the filter on COLUMN_NAME field
    
    6. Cleanup:
       Rename RecordGenerator -> InfoSchemaRecordGenerator
       Add comments in RecordGenerator
       Rename SelectedTable -> InfoSchemaTableType
    
    this closes #524
    
    Change-Id: I0b2e16d04cb72fe3ce5961f5f357a00655f1cb05

 .../exec/store/ischema/InfoSchemaConstants.java    |   6 +
 .../exec/store/ischema/InfoSchemaDrillTable.java   |   4 +-
 .../drill/exec/store/ischema/InfoSchemaFilter.java |  19 ++-
 .../store/ischema/InfoSchemaFilterBuilder.java     |  38 +++--
 .../exec/store/ischema/InfoSchemaGroupScan.java    |  10 +-
 ...nerator.java => InfoSchemaRecordGenerator.java} | 160 ++++++++++++++++-----
 .../store/ischema/InfoSchemaStoragePlugin.java     |   4 +-
 .../exec/store/ischema/InfoSchemaSubScan.java      |   6 +-
 .../drill/exec/store/ischema/InfoSchemaTable.java  |  22 +--
 ...SelectedTable.java => InfoSchemaTableType.java} |   9 +-
 .../org/apache/drill/exec/sql/TestInfoSchema.java  |  14 ++
 .../ischema/TestInfoSchemaFilterPushDown.java      |  16 ++-
 12 files changed, 223 insertions(+), 85 deletions(-)

commit 7c7e9d1713300ed358285eaff6c44d6376b00c21
Author: Aditya Kishore <adi@apache.org>
Date:   Thu Jun 16 13:39:21 2016 -0700

    DRILL-4727: Exclude netty from HBase Client's transitive dependencies
    
    Excluded `netty-all` from the list of transitive dependencies pulled by `hbase-client`
    
    Closes #525.

 pom.xml | 18 +++++++++++++-----
 1 file changed, 13 insertions(+), 5 deletions(-)

commit 2e2b54af5379f7046e84390e70f3862cddd93195
Author: jean-claude cote <jccote@gmail.com>
Date:   Sat May 14 18:02:57 2016 -0400

    DRILL-4573: Fixed issue with string functions when input contains non-ASCII characters.
    
    Close apache/drill#512

 .../exec/expr/fn/impl/CharSequenceWrapper.java     | 204 +++++++++++++++++++--
 .../drill/exec/expr/fn/impl/StringFunctions.java   |  28 ++-
 .../exec/expr/fn/impl/TestStringFunctions.java     |  26 +++
 3 files changed, 234 insertions(+), 24 deletions(-)

commit c2d9959e07f47a09a4a11c250f84f4874b7e1db4
Author: Aditya Kishore <adi@apache.org>
Date:   Sun Jun 12 16:28:52 2016 -0700

    DRILL-4199: Add Support for HBase 1.X
    
    Highlights of the changes:
    
    * Replaced the old HBase APIs (HBaseAdmin/HTable) with the new HBase 1.1 APIs (Connection/Admin/Table).
    * Added HBaseConnectionManager class which which manages the life-cycle of HBase connections inside a Drillbit process.
    * Updated HBase dependencies version to 1.1.3 and 1.1.1-mapr-1602-m7-5.1.0 for default and "mapr" profiles respectively.
    * Added `commons-logging` dependency in the `provided` scope to allow HBase test cluster to come up for Unit tests.
    * Relaxed banned dependency rule for `commons-logging` library for `storage-hbase` module alone, in provided scope only.
    * Removed the use of many deprecated APIs throughout the modules code.
    * Added some missing test to HBase storage plugin's test suit.
    * Move the GuavaPatcher code to main code execution path.
    * Log a message if GuavaPatcher fails instead of exiting.
    
    All unit tests are green.
    
    Closes #443

 contrib/storage-hbase/pom.xml                      |  30 ++
 .../impl/conv/OrderedBytesBigIntConvertFrom.java   |   2 +-
 .../fn/impl/conv/OrderedBytesBigIntConvertTo.java  |   2 +-
 .../impl/conv/OrderedBytesBigIntDescConvertTo.java |   2 +-
 .../impl/conv/OrderedBytesDoubleConvertFrom.java   |   2 +-
 .../fn/impl/conv/OrderedBytesDoubleConvertTo.java  |   2 +-
 .../impl/conv/OrderedBytesDoubleDescConvertTo.java |   2 +-
 .../fn/impl/conv/OrderedBytesFloatConvertFrom.java |   2 +-
 .../fn/impl/conv/OrderedBytesFloatConvertTo.java   |   2 +-
 .../impl/conv/OrderedBytesFloatDescConvertTo.java  |   2 +-
 .../fn/impl/conv/OrderedBytesIntConvertFrom.java   |   2 +-
 .../fn/impl/conv/OrderedBytesIntConvertTo.java     |   2 +-
 .../fn/impl/conv/OrderedBytesIntDescConvertTo.java |   2 +-
 .../store/hbase/CompareFunctionsProcessor.java     |  10 +-
 .../drill/exec/store/hbase/DrillHBaseTable.java    |  17 +-
 .../exec/store/hbase/HBaseConnectionManager.java   | 109 ++++++
 .../drill/exec/store/hbase/HBaseFilterBuilder.java |  10 +-
 .../drill/exec/store/hbase/HBaseGroupScan.java     |  29 +-
 .../exec/store/hbase/HBasePushFilterIntoScan.java  |   9 +-
 .../drill/exec/store/hbase/HBaseRecordReader.java  |  26 +-
 .../exec/store/hbase/HBaseScanBatchCreator.java    |   2 +-
 .../drill/exec/store/hbase/HBaseSchemaFactory.java |   8 +-
 .../drill/exec/store/hbase/HBaseStoragePlugin.java |  93 +++++-
 .../drill/exec/store/hbase/HBaseSubScan.java       |   4 +-
 .../exec/store/hbase/TableStatsCalculator.java     |  32 +-
 .../store/hbase/config/HBasePersistentStore.java   |  59 ++--
 .../hbase/config/HBasePersistentStoreProvider.java |  46 +--
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |  15 +-
 .../apache/drill/hbase/HBaseRecordReaderTest.java  |   6 +-
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |  92 ++---
 .../drill/hbase/TestHBaseConnectionManager.java    |  58 ++++
 .../drill/hbase/TestHBaseFilterPushDown.java       |   1 -
 .../org/apache/drill/hbase/TestHBaseQueries.java   |  52 ++-
 .../hbase/TestOrderedBytesConvertFunctions.java    |  22 --
 .../org/apache/drill/hbase/TestTableGenerator.java | 372 ++++++++++-----------
 ...l2130StorageHBaseHamcrestConfigurationTest.java |   8 +-
 .../storage-hbase/src/test/resources/logback.xml   |  10 +-
 .../org/apache/drill/exec/server/Drillbit.java     |   7 +
 .../org/apache/drill/exec/util}/GuavaPatcher.java  |  13 +-
 pom.xml                                            |  10 +-
 40 files changed, 723 insertions(+), 451 deletions(-)

commit 6286c0a4b8e39524fe00d623152d1d38db15774f
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Jun 1 17:19:03 2016 -0700

    DRILL-4694: CTAS in JSON format produces extraneous NULL fields Changed behavior of JSON CTAS to skip fields if the value is null. Added an option "store.json.writer.skip_null_fields" to enable old behavior.

 .../codegen/templates/JsonOutputRecordWriter.java  |  13 ++
 .../java/org/apache/drill/exec/ExecConstants.java  |   1 +
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../exec/store/easy/json/JSONFormatPlugin.java     |   1 +
 .../exec/store/easy/json/JsonRecordWriter.java     |   1 +
 .../test/java/org/apache/drill/TestCTASJson.java   | 150 +++++++++++++++++++++
 .../src/test/resources/json/ctas_alltypes_map.json |  28 ++++
 .../test/resources/json/ctas_alltypes_map_out.json |  41 ++++++
 .../resources/json/ctas_alltypes_repeated_map.json |  28 ++++
 .../json/ctas_alltypes_repeated_map_out.json       |  41 ++++++
 10 files changed, 305 insertions(+)

commit d1ac6fbae025723d54eeeb7d15b89a0df5912a3c
Author: Parth Chandra <parthc@apache.org>
Date:   Thu Jun 2 17:23:13 2016 -0700

    DRILL-4607: - Fix unittest failure. Janino cannot compile a function that uses generics; so replaced the implementation of StringFunctions.Split to not use any.

 .../drill/exec/expr/fn/impl/StringFunctions.java       | 18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit 3186217e5abe3c6c2c7e504cdb695567ff577e4c
Author: Alicia Alvarez <aliciaalvarezs@gmai.com>
Date:   Fri Apr 15 11:07:47 2016 -0700

    DRILL-4607: Add a split function that allows to separate string by a delimiter
    
    This closes #506

 .../drill/exec/expr/fn/impl/StringFunctions.java   | 38 ++++++++++++++++++++++
 .../exec/expr/fn/impl/TestStringFunctions.java     | 17 +++++++++-
 2 files changed, 54 insertions(+), 1 deletion(-)

commit 6ddd5fa730934946165a27f91faece7e60e3c98c
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed May 25 15:33:56 2016 -0700

    DRILL-4693:  Ensure final column re-ordering is done if any select list expression is convert_fromjson.
    
    close apache/drill#508

 .../apache/drill/exec/planner/physical/ProjectPrel.java | 17 +++++++++++++++++
 .../drill/exec/physical/impl/TestConvertFunctions.java  | 17 +++++++++++++++++
 2 files changed, 34 insertions(+)

commit 3d92d2829db2929e53c36df27f9979d6ff7a079a
Author: chunhui-shi <cshi@maprtech.com>
Date:   Thu Apr 7 00:05:22 2016 -0700

    DRILL-4143: parquet metadata is only opened in drillbituser (process user)'s security context. Adding unit test for impersonated metadata update.

 .../apache/drill/exec/store/parquet/Metadata.java  |  4 +++-
 .../impersonation/TestImpersonationMetadata.java   | 24 ++++++++++++++++++++++
 2 files changed, 27 insertions(+), 1 deletion(-)

commit bd6079cb42f68d03922004abdb5f9182b8cb8caf
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue May 17 14:35:06 2016 -0700

    DRILL-4679: When convert() functions are present, ensure that ProjectRecordBatch produces a schema even for empty result set.
    
    Add unit tests
    
    Modify doAlloc() to accept record count parameter (addresses review comment)

 .../exec/expr/fn/DrillComplexWriterFuncHolder.java |  4 ++
 .../physical/impl/project/ProjectRecordBatch.java  | 40 +++++++++++--
 .../exec/physical/impl/TestConvertFunctions.java   | 69 ++++++++++++++++++++++
 3 files changed, 109 insertions(+), 4 deletions(-)

commit 1a8430eac99ccaae2ef67db6904efdc7478c9f6c
Author: adeneche <adeneche@gmail.com>
Date:   Mon May 16 13:19:18 2016 -0700

    DRILL-4676: Foreman no longer uses a CountDownLatch and relies on the EventProcessor instead
    
    as part of this change Foreman.ResponseSendListener no longer calls Foreman.moveToState() as it doesn't make any difference
    at this point.
    
    this closes #503

 .../org/apache/drill/common/EventProcessor.java    |  81 ++++---
 .../apache/drill/exec/work/foreman/Foreman.java    | 240 ++++++++++-----------
 .../drill/exec/work/foreman/QueryManager.java      |  12 +-
 3 files changed, 167 insertions(+), 166 deletions(-)

commit b075bf6102e1561ee3755b483e1d1e6018d7e505
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Fri May 13 18:16:15 2016 -0700

    DRILL-4654: Add new metrics to the MetricRegistry
    
    + New metrics:
      - drill.queries.enqueued
        number of queries that have been submitted to the drillbit but have
        not started
      - drill.queries.running
        number of running queries for which this drillbit is the foreman
      - drill.queries.completed
        number of completed queries (or cancelled or failed) for which this
        drillbit was the foreman
      - drill.fragments.running
        number of query fragments that are running in the drillbit
      - drill.allocator.root.used
        amount of memory used in bytes by the internal memory allocator
      - drill.allocator.root.peak
        peak amount of memory used in bytes by the internal memory allocator
      - fd.usage
        ratio of used to total file descriptors (on *nix systems)
    + Rename "current" to "used" for RPC allocator current memory usage to
      follow convention
    + Borrow SystemPropertyUtil class from Netty
    + Configure DrillMetrics through system properties
    + Remove unused methods and imports
    
    closes #495

 .../apache/drill/exec/metrics/DrillMetrics.java    |  88 +++++-----
 .../apache/drill/exec/util/SystemPropertyUtil.java | 189 +++++++++++++++++++++
 common/src/main/resources/drill-module.conf        |  14 +-
 .../exec/cache/VectorAccessibleSerializable.java   |   2 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |   2 +-
 .../org/apache/drill/exec/ops/FragmentStats.java   |   3 +-
 .../apache/drill/exec/server/BootStrapContext.java |   6 +-
 .../apache/drill/exec/service/ServiceEngine.java   |   9 +-
 .../drill/exec/store/schedule/BlockMapBuilder.java |   2 +-
 .../org/apache/drill/exec/work/WorkManager.java    |  30 ++--
 .../apache/drill/exec/work/foreman/Foreman.java    |  11 ++
 .../drill/exec/memory/AllocationManager.java       |   2 +-
 .../apache/drill/exec/memory/RootAllocator.java    |  14 ++
 .../org/apache/drill/exec/rpc/TransportCheck.java  |   2 +-
 14 files changed, 284 insertions(+), 90 deletions(-)

commit 09b262776e965ea17a6a863801f7e1ee3e5b3d5a
Author: adeneche <adeneche@gmail.com>
Date:   Wed May 4 12:08:36 2016 -0700

    DRILL-4657: Rank() will return wrong results if a frame of data is too big (more than 2 batches)
    
    this closes #499

 .../exec/physical/impl/window/WindowFunction.java  | 12 ++++-
 .../exec/physical/impl/window/TestWindowFrame.java | 12 +++++
 exec/java-exec/src/test/resources/window/4657.tsv  | 60 ++++++++++++++++++++++
 3 files changed, 82 insertions(+), 2 deletions(-)

commit 6bba69d485b5fafee93a5fd121a0ebc65dd3b5c1
Author: Yuliya Feldman <yfeldman@maprtech.com>
Date:   Thu Feb 4 14:09:21 2016 -0800

    DRILL-4132 Ability to submit simple type of physical plan directly to EndPoint DrillBit for execution. There are multiple changes to achieve this: 1. During physical planning split single plan into multiple based on the number of minor fragments of the Leaf Major fragment. a. Removing exchange operators during planning b. Producing just root fragments (that will be also leaf fragments) 2. Each fragment can be executed against Drillbit it is assigned to, so to keep locality Design document can be found in the JIRA: DRILL-4132

 .../org/apache/drill/exec/client/DrillClient.java  |   55 +
 .../exec/planner/fragment/SimpleParallelizer.java  |   43 +-
 .../contrib/ExchangeRemoverMaterializer.java       |   96 +
 .../fragment/contrib/OperatorIdVisitor.java        |   55 +
 .../fragment/contrib/SplittingParallelizer.java    |  228 ++
 .../org/apache/drill/exec/rpc/user/UserClient.java |   15 +
 .../apache/drill/exec/rpc/user/UserRpcConfig.java  |    4 +
 .../org/apache/drill/exec/rpc/user/UserServer.java |    9 +-
 .../drill/exec/util/MemoryAllocationUtilities.java |   69 +
 .../java/org/apache/drill/exec/util/Utilities.java |    2 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  105 +-
 .../apache/drill/exec/work/user/PlanSplitter.java  |  133 ++
 .../apache/drill/exec/work/user/UserWorker.java    |   27 +-
 .../drill/exec/DrillSeparatePlanningTest.java      |  344 +++
 .../org/apache/drill/exec/proto/ExecProtos.java    |  205 +-
 .../apache/drill/exec/proto/SchemaExecProtos.java  |    9 +
 .../apache/drill/exec/proto/SchemaUserProtos.java  |  272 +++
 .../org/apache/drill/exec/proto/UserBitShared.java |   60 +-
 .../org/apache/drill/exec/proto/UserProtos.java    | 2414 +++++++++++++++++++-
 .../drill/exec/proto/beans/FragmentHandle.java     |   24 +
 .../exec/proto/beans/GetQueryPlanFragments.java    |  218 ++
 .../drill/exec/proto/beans/QueryPlanFragments.java |  255 +++
 .../apache/drill/exec/proto/beans/QueryType.java   |    4 +-
 .../org/apache/drill/exec/proto/beans/RpcType.java |    4 +
 .../apache/drill/exec/proto/beans/RunQuery.java    |   34 +
 protocol/src/main/protobuf/ExecutionProtos.proto   |    1 +
 protocol/src/main/protobuf/User.proto              |   20 +
 protocol/src/main/protobuf/UserBitShared.proto     |    1 +
 28 files changed, 4543 insertions(+), 163 deletions(-)

commit f07f328562f4f30d691650f0a17d29cae227d138
Author: Patrick Wong <pwong@maprtech.com>
Date:   Tue May 3 15:19:26 2016 -0700

    DRILL-4652: Drill native client - fix compile issue when the latest git commit description has a period or quotation mark in it
    
    This closes #494

 contrib/native/client/CMakeLists.txt | 3 +++
 1 file changed, 3 insertions(+)

commit 2d9f9abb4c47d08f8462599c8d6076a61a1708fe
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Fri Apr 8 11:01:37 2016 +0300

    DRILL-4584: JDBC/ODBC Client IP in Drill audit logs - the format of added field in log files is "remoteAddress":"192.168.121.1:58984"
    
    This closes #475

 .../main/java/org/apache/drill/exec/work/foreman/Foreman.java  |  3 ++-
 .../java/org/apache/drill/exec/work/foreman/LoggedQuery.java   | 10 +++++++++-
 2 files changed, 11 insertions(+), 2 deletions(-)

commit a6a85ab66360cac81ab4777cec20292470ac483d
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Tue Apr 5 15:07:29 2016 +0000

    DRILL-3894: Upgrade functions MaxDir, MinDir... Optional filename parameter - added implementations of functions MAXDIR, IMAXDIR, MINDIR, IMINDIR with one (schema) without filename argument; - added UTest for results comparison of using Query Directory Functions with one and two arguments.
    
    This closes #467

 .../main/codegen/templates/DirectoryExplorers.java | 23 ++++++++++++++++++++
 .../exec/planner/TestDirectoryExplorerUDFs.java    | 25 ++++++++++++++++++++++
 2 files changed, 48 insertions(+)

commit 38e1016c49786acaacb153ee37784b3ce3023eb5
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Mon Mar 28 18:05:22 2016 +0000

    DRILL-2100: Added deleting temporary spill directories when query is finished.
    
    This closes #454

 .../physical/impl/xsort/ExternalSortBatch.java     | 31 +++++++++++++++++++---
 1 file changed, 28 insertions(+), 3 deletions(-)

commit 1a89a7fe56533ecea8f7a7c9be6a3699925f3c96
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Mar 31 18:43:25 2016 +0300

    DRILL-4571: Add link to local Drill logs from the web UI
    
    This closes #472

 distribution/src/resources/logback.xml             |   2 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   5 +
 .../exec/server/options/SystemOptionManager.java   |   3 +-
 .../drill/exec/server/rest/DrillRestServer.java    |   1 +
 .../drill/exec/server/rest/LogsResources.java      | 211 +++++++++++++++++++++
 .../exec/server/rest/ViewableWithPermissions.java  |   1 +
 exec/java-exec/src/main/resources/rest/generic.ftl |   3 +
 .../src/main/resources/rest/logs/list.ftl          |  55 ++++++
 .../java-exec/src/main/resources/rest/logs/log.ftl |  37 ++++
 9 files changed, 316 insertions(+), 2 deletions(-)

commit 94b8aec6414b006780a967ace4a29b36ac8b867b
Author: Patrick Wong <pwong@maprtech.com>
Date:   Mon May 2 18:30:34 2016 -0700

    Updated instructions for Linux build of the Drill Native Client
    
    1. CMake 3.0 is required, rather than CMake 2.8
    2. Added some info that is helpful for the case where you build Boost the hard way.
    
    This closes #492

 contrib/native/client/readme.linux | 17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit b8f6ebc651445ccecd3e393250f6cd2781fc07e3
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Apr 4 16:05:04 2016 -0700

    DRILL-4577: Construct a specific path for querying all the tables from a hive database

 .../exec/store/hive/schema/HiveDatabaseSchema.java |  71 +++++++++++-
 .../hive/BaseTestHiveImpersonation.java            |  21 ++++
 .../hive/TestStorageBasedHiveAuthorization.java    | 125 +++++++++++++++++++++
 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +
 .../exec/server/options/SystemOptionManager.java   |   3 +-
 .../apache/drill/exec/store/AbstractSchema.java    |  39 ++++++-
 .../exec/store/ischema/InfoSchemaBatchCreator.java |   2 +-
 .../drill/exec/store/ischema/InfoSchemaTable.java  |  23 ++--
 .../drill/exec/store/ischema/RecordGenerator.java  |  85 +++++++++++---
 .../drill/exec/store/ischema/SelectedTable.java    |   5 +-
 10 files changed, 344 insertions(+), 33 deletions(-)

commit 5705d45095bd89fb9d1e7b3b3e12c34e74930c4c
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Sun Mar 27 16:18:21 2016 -0700

    DRILL-4529: Force $SUM0 to be used when Window Sum is supposed to returned non-nullable type

 .../apache/drill/exec/planner/PlannerPhase.java    |  3 +-
 .../planner/logical/DrillReduceAggregatesRule.java | 93 +++++++++++++++++++---
 .../drill/TestFunctionsWithTypeExpoQueries.java    | 12 ++-
 .../org/apache/drill/exec/TestWindowFunctions.java |  6 +-
 4 files changed, 98 insertions(+), 16 deletions(-)

commit 8176fbca6435ea2417a77b99e954ae10ca4bbdc4
Author: jean-claude cote <jccote@gmail.com>
Date:   Fri Apr 1 23:37:00 2016 -0400

    DRILL-4573: Zero copy LIKE, REGEXP_MATCHES, SUBSTR

 .../exec/expr/fn/impl/CharSequenceWrapper.java     | 49 ++++++++++++
 .../exec/expr/fn/impl/SimpleRepeatedFunctions.java | 11 ++-
 .../drill/exec/expr/fn/impl/StringFunctions.java   | 91 +++++++++++++++++-----
 3 files changed, 128 insertions(+), 23 deletions(-)

commit a07f4de7e8725f7971ace308e81a241b7b07b5b6
Author: Adam <adam@tipihq.com>
Date:   Tue Jul 21 12:44:21 2015 +1000

    DRILL-3522: Fix for sporadic Mongo errors

 .../apache/drill/exec/store/mongo/schema/MongoSchemaFactory.java    | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit d93a3633815ed1c7efd6660eae62b7351a2c9739
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Fri Feb 26 14:55:30 2016 -0800

    DRILL-4437: Operator unit test framework
    
    Closes #394

 .../java/org/apache/drill/exec/ExecConstants.java  |   6 +-
 .../drill/exec/compile/ClassTransformer.java       |   4 +-
 .../drill/exec/physical/impl/ImplCreator.java      |   4 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |   2 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |   4 +
 .../exec/store/easy/json/JSONRecordReader.java     |   4 +-
 .../java/org/apache/drill/DrillTestWrapper.java    | 215 +++++++++----
 .../test/java/org/apache/drill/TestBuilder.java    |   4 -
 .../physical/unit/BasicPhysicalOpUnitTest.java     | 322 +++++++++++++++++++
 .../exec/physical/unit/PhysicalOpUnitTestBase.java | 341 +++++++++++++++++++++
 .../org/apache/drill/jdbc/test/JdbcDataTest.java   |   6 +-
 11 files changed, 834 insertions(+), 78 deletions(-)

commit 01e04cddd6ad57f9ae146fe479e30bebcd7cc432
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Fri Feb 26 14:11:47 2016 -0800

    DRILL-4442: Move getSV2 and getSV4 methods to VectorAccessible
    
    Up one level from previous location RecordBatch, most implementations
    already implement the method as they implement RecordBatch rather than
    VectorAccessible itself. Add unsupported operation exception to others.

 .../physical/impl/partitionsender/PartitionerTemplate.java  | 10 ++++++++++
 .../drill/exec/physical/impl/window/WindowDataBatch.java    | 12 ++++++++++++
 .../apache/drill/exec/physical/impl/xsort/BatchGroup.java   | 11 +++++++++++
 .../main/java/org/apache/drill/exec/record/RecordBatch.java |  5 -----
 .../org/apache/drill/exec/record/RecordBatchLoader.java     | 13 ++++++++++++-
 .../java/org/apache/drill/exec/record/RecordIterator.java   | 12 ++++++++++++
 .../java/org/apache/drill/exec/record/VectorAccessible.java |  8 ++++++++
 .../java/org/apache/drill/exec/record/VectorContainer.java  | 12 ++++++++++++
 8 files changed, 77 insertions(+), 6 deletions(-)

commit 1d1acc09ec30167f0653d99cee6f30c7b1413859
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Wed Feb 24 19:37:21 2016 -0800

    DRILL-4448: Clean up deserialization of oderings in sorts
    
    Fix sort operator deserialization and validation to respect existing
    contract specified in the tests.

 .../apache/drill/common/logical/data/Order.java    | 107 +++++++++++++++------
 .../drill/common/logical/data/OrderTest.java       |  14 ++-
 2 files changed, 85 insertions(+), 36 deletions(-)

commit d24205d4e795a1aab54b64708dde1e7deeca668b
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Wed Feb 10 17:36:47 2016 -0800

    DRILL-4445: Standardize the Physical and Logical plan nodes to use Lists instead of arrays for their inputs
    
    Remove some extra translation logic used to move between the
    two representations.
    
    TODO - look back the the Join logical node, has two JsonCreator annotations,
    but only one will be used. Not sure if the behavior of which is chosen
    is considered documented behavior, should just fix it on our end.

 .../org/apache/drill/exec/opt/BasicOptimizer.java   | 18 +++++++-----------
 .../drill/exec/physical/base/AbstractMultiple.java  |  9 +++++----
 .../drill/exec/physical/config/HashAggregate.java   | 15 ++++++++++-----
 .../exec/physical/config/StreamingAggregate.java    | 12 +++++++-----
 .../apache/drill/exec/physical/config/UnionAll.java |  4 ++--
 .../drill/exec/physical/config/WindowPOP.java       | 20 +++++++++++---------
 .../exec/physical/impl/aggregate/HashAggBatch.java  | 11 ++++++-----
 .../physical/impl/aggregate/HashAggTemplate.java    |  2 +-
 .../physical/impl/aggregate/StreamingAggBatch.java  | 14 +++++++-------
 .../exec/physical/impl/common/ChainedHashTable.java | 10 +++++-----
 .../exec/physical/impl/common/HashTableConfig.java  | 14 ++++++++------
 .../physical/impl/common/HashTableTemplate.java     |  2 +-
 .../exec/physical/impl/join/HashJoinBatch.java      |  9 +++++----
 .../impl/window/WindowFrameRecordBatch.java         |  2 +-
 .../exec/physical/impl/window/WindowFunction.java   |  4 ++--
 .../drill/exec/planner/physical/HashAggPrel.java    |  5 +----
 .../drill/exec/planner/physical/StreamAggPrel.java  |  3 +--
 .../drill/exec/planner/physical/UnionAllPrel.java   |  2 +-
 .../exec/planner/physical/UnionDistinctPrel.java    |  2 +-
 .../drill/exec/planner/physical/WindowPrel.java     |  6 +++---
 .../drill/common/logical/data/AbstractBuilder.java  | 17 -----------------
 .../common/logical/data/GroupingAggregate.java      | 12 ++++++------
 .../org/apache/drill/common/logical/data/Join.java  | 13 ++++++++-----
 .../org/apache/drill/common/logical/data/Order.java |  8 ++++----
 .../apache/drill/common/logical/data/Project.java   | 21 +++++----------------
 .../drill/common/logical/data/RunningAggregate.java |  8 +++++---
 .../apache/drill/common/logical/data/Sequence.java  |  9 +++++++--
 .../apache/drill/common/logical/data/Transform.java |  7 ++++---
 .../org/apache/drill/common/logical/data/Union.java | 15 +++++----------
 .../apache/drill/common/logical/data/Window.java    | 20 ++++++++++----------
 30 files changed, 139 insertions(+), 155 deletions(-)

commit c6a03eb1708f3cea6cea2f9530057ad707c374c0
Author: chunhui-shi <cshi@maprtech.com>
Date:   Tue Mar 15 10:36:54 2016 -0700

    DRILL-4237, DRILL-4478: Implement hash to use murmur3 and add correspondent unit tests
    
    + Avoid object or extra buffer creation
    + Clean up tests
    
    closes #485

 .../apache/drill/common/util/DrillStringUtils.java |   4 +-
 .../apache/drill/exec/expr/fn/impl/DrillHash.java  |  50 ++++
 .../drill/exec/expr/fn/impl/Hash32AsDouble.java    |  33 +--
 .../drill/exec/expr/fn/impl/Hash32Functions.java   |  60 ++---
 .../exec/expr/fn/impl/Hash32FunctionsWithSeed.java |  63 ++---
 .../exec/expr/fn/impl/Hash32WithSeedAsDouble.java  |  32 +--
 .../drill/exec/expr/fn/impl/Hash64AsDouble.java    |  32 +--
 .../drill/exec/expr/fn/impl/Hash64Functions.java   |  60 ++---
 .../exec/expr/fn/impl/Hash64FunctionsWithSeed.java |  60 ++---
 .../exec/expr/fn/impl/Hash64WithSeedAsDouble.java  |  32 +--
 .../apache/drill/exec/expr/fn/impl/HashHelper.java |  45 +++-
 .../drill/exec/expr/fn/impl/MurmurHash3.java       | 280 +++++++++++++++++++++
 .../org/apache/drill/exec/expr/fn/impl/XXHash.java |  80 ++----
 .../java/org/apache/drill/TestFunctionsQuery.java  |  69 +++--
 14 files changed, 638 insertions(+), 262 deletions(-)

commit 3b056db0f504d50fe11a6028b1a633ec74d478d2
Author: Vitalii Diravka <vitalii.diravka@gmail.com>
Date:   Thu Mar 10 14:52:28 2016 +0000

    DRILL-4459: Resolve SchemaChangeException while querying hive json table
    
    - Replace drill var16char to varchar datatype for hive string datatype
    - Change testGenericUDF() and testUDF() to use VarChar instead of Var16Char
    - Add unit test for hive GET_JSON_OBJECT UDF
    
    closes #431

 .../core/src/main/codegen/data/HiveTypes.tdd       |  4 +-
 .../codegen/templates/ObjectInspectorHelper.java   | 26 +++++++----
 .../main/codegen/templates/ObjectInspectors.java   | 20 ++++-----
 .../apache/drill/exec/expr/fn/HiveFuncHolder.java  |  5 ++-
 .../drill/exec/expr/fn/HiveFunctionRegistry.java   | 12 +++--
 .../apache/drill/exec/fn/hive/TestHiveUDFs.java    | 51 +++++++++++-----------
 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    | 14 ++++++
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |  1 +
 .../exec/store/hive/HiveTestDataGenerator.java     |  6 +++
 .../test/resources/functions/hive/GenericUDF.json  |  8 ++--
 .../src/test/resources/functions/hive/UDF.json     |  2 +-
 .../core/src/test/resources/simple.json            | 19 ++++++++
 12 files changed, 110 insertions(+), 58 deletions(-)

commit 852b01aa63d03aa2fd4c0b73d5a3f267883b8d83
Author: Laurent Goujon <laurent@dremio.com>
Date:   Tue Feb 16 16:47:17 2016 -0800

    DRILL-4390: Uses Resource where Drill favicon is located for static assets
    
    Drill Webserver uses the first jar containing a rest/static directory to
    find its static assets. In case of another jar containing this directory, it
    might cause the webserver to return 404 errors.
    
    This configures the server to use the resource containing the Drill favicon
    as the place to look for all static resources.
    
    this closes #378

 .../main/java/org/apache/drill/exec/server/rest/WebServer.java | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit e4725ea53dce58499974be93b3da87388e7df51c
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Apr 5 16:36:25 2016 -0700

    DRILL-3714: Avoid cascading disconnection when a single connection is broken.
    
    - Move the coordination id management to be connection level instead of RpcBus level
    - Rename CoordinationQueue to a more appropriate name: RequestIdMap
    - Simplify locking and memory overhead of RequestIdMap. It used to be that this would accessed by a large number of threads concurrently. We modified the behavior so that it is only accessed by two threads at most. Rather than have memory overhead of ConcurrentHashMap, switch to simple locking approach since contention should be low.
    - Update all methods associated with coordination to improve names as well as add javadocs. Move these methods to the RemoteConnection.
    - Consolidate the two different close handlers into a single, ordered close handler managed inside the connection.
    - Add better javadoc around the close method of RemoteConnection
    - Add some preconditions checks.
    - Update the HPPC version in the base memory module since it conflicts with the one in the java-exec module.
    
    This closes #463.

 exec/memory/base/pom.xml                           |   2 +-
 .../org/apache/drill/exec/rpc/BasicClient.java     |  18 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |   5 -
 .../apache/drill/exec/rpc/CoordinationQueue.java   | 160 -----------------
 .../drill/exec/rpc/PositiveAtomicInteger.java      |  39 -----
 .../apache/drill/exec/rpc/RemoteConnection.java    | 111 ++++++++----
 .../org/apache/drill/exec/rpc/RequestIdMap.java    | 192 +++++++++++++++++++++
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |  35 ++--
 8 files changed, 296 insertions(+), 266 deletions(-)

commit e9b6e8f3ddadbd308b85ed6d88bcf878147ee77e
Author: vkorukanti <venki@dremio.com>
Date:   Thu Apr 7 14:23:07 2016 -0700

    DRILL-4593: Remove OldAssignmentCreator in FileSystemPlugin
    
    + Remove dead code in ParquetGroupScan
    
    this closes #473

 .../drill/exec/store/kudu/KuduGroupScan.java       |   2 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   3 -
 .../exec/server/options/SystemOptionManager.java   |   1 -
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |   2 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  39 +-----
 .../exec/store/schedule/AssignmentCreator.java     |  13 +-
 .../exec/store/schedule/OldAssignmentCreator.java  | 141 ---------------------
 .../drill/exec/store/store/TestAssignment.java     |   2 +-
 8 files changed, 7 insertions(+), 196 deletions(-)

commit 10afc708600ea9f4cb0e7c2cd981b5b1001fea0d
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Mar 2 13:08:36 2016 -0800

    DRILL-4446: Support mandatory work assignment to endpoint requirements of operators

 .../drill/exec/physical/EndpointAffinity.java      |  54 ++++-
 .../exec/physical/base/AbstractGroupScan.java      |   5 +
 .../drill/exec/physical/base/AbstractStore.java    |   6 +-
 .../drill/exec/physical/base/HasAffinity.java      |   9 +-
 .../apache/drill/exec/physical/config/Screen.java  |   7 +-
 .../planner/fragment/DistributionAffinity.java     |  63 ++++++
 .../planner/fragment/FragmentParallelizer.java     |  39 ++++
 .../fragment/HardAffinityFragmentParallelizer.java | 150 +++++++++++++
 .../exec/planner/fragment/ParallelizationInfo.java |   9 +-
 .../fragment/ParallelizationParameters.java        |  44 ++++
 .../exec/planner/fragment/SimpleParallelizer.java  | 154 +++-----------
 .../fragment/SoftAffinityFragmentParallelizer.java | 167 +++++++++++++++
 .../apache/drill/exec/planner/fragment/Stats.java  |  12 +-
 .../exec/planner/fragment/StatsCollector.java      |   4 +-
 .../drill/exec/planner/physical/DrillScanPrel.java |   2 +-
 .../planner/physical/HasDistributionAffinity.java  |  28 +++
 .../drill/exec/planner/physical/ScanPrel.java      |   6 +
 .../drill/exec/planner/physical/ScanPrule.java     |   5 +-
 .../drill/exec/planner/physical/ScreenPrel.java    |   7 +-
 .../visitor/ExcessiveExchangeIdentifier.java       |  17 +-
 .../planner/sql/handlers/FindLimit0Visitor.java    |  46 +++-
 .../drill/exec/store/sys/SystemTableScan.java      |  15 +-
 .../TestHardAffinityFragmentParallelizer.java      | 232 +++++++++++++++++++++
 .../drill/exec/store/sys/TestSystemTable.java      |   6 +
 24 files changed, 937 insertions(+), 150 deletions(-)

commit 9f4fff800d128878094ae70b454201f79976135d
Author: Jinfeng Ni <jni@apache.org>
Date:   Thu Apr 7 11:24:04 2016 -0700

    DRILL-4592: Explain plan statement should show plan in WebUI

 .../main/java/org/apache/drill/exec/planner/sql/DrillSqlWorker.java  | 2 +-
 .../org/apache/drill/exec/planner/sql/handlers/ExplainHandler.java   | 5 +++--
 2 files changed, 4 insertions(+), 3 deletions(-)

commit dbf4b15eda14f55462ff0872266bf61c13bdb1bc
Author: Jinfeng Ni <jni@apache.org>
Date:   Thu Feb 25 10:13:43 2016 -0800

    DRILL-4589: Reduce planning time for file system partition pruning by reducing filter evaluation overhead

 .../exec/planner/sql/HivePartitionDescriptor.java  |  8 +--
 .../exec/planner/sql/HivePartitionLocation.java    |  3 +-
 .../exec/planner/DFSDirPartitionLocation.java      | 70 +++++++++++++++++++++
 ...Location.java => DFSFilePartitionLocation.java} |  8 ++-
 .../planner/FileSystemPartitionDescriptor.java     | 72 ++++++++++++++++------
 .../exec/planner/ParquetPartitionDescriptor.java   |  7 ++-
 .../exec/planner/ParquetPartitionLocation.java     |  2 +-
 .../drill/exec/planner/PartitionDescriptor.java    |  2 +-
 .../drill/exec/planner/PartitionLocation.java      | 36 ++++++++---
 .../exec/planner/SimplePartitionLocation.java      | 41 ++++++++++++
 .../planner/logical/partition/PruneScanRule.java   | 32 +++++-----
 11 files changed, 229 insertions(+), 52 deletions(-)

commit 9514cbe7574a5bfce40bf8fe982faf2aef48bc0e
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Mar 24 16:46:06 2016 +0000

    DRILL-4523: Disallow using loopback address in distributed mode
    
    closes #445

 .../main/java/org/apache/drill/exec/server/Drillbit.java    |  9 ++++++---
 .../java/org/apache/drill/exec/service/ServiceEngine.java   | 13 ++++++++++++-
 2 files changed, 18 insertions(+), 4 deletions(-)

commit a7595525419935e40cef75251b43b946e0cf79ec
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Mon Mar 28 10:55:56 2016 +0000

    DRILL-4544: Improve error messages for REFRESH TABLE METADATA command
    1. Added error message when storage plugin or workspace does not exist
    2. Updated error message when refresh metadata is not supported
    3. Unit tests
    
    closes #448

 .../sql/handlers/RefreshMetadataHandler.java       |  8 ++++++-
 .../store/parquet/TestParquetMetadataCache.java    | 28 ++++++++++++++++++++++
 2 files changed, 35 insertions(+), 1 deletion(-)

commit 68269af37b4f7b7de44b32e23f63633983b63921
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Wed Apr 6 16:41:52 2016 -0700

    DRILL-4588: Enable JMX reporting
    
    closes #469

 common/src/main/java/org/apache/drill/exec/metrics/DrillMetrics.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 55d54eda392961d858c171b737c6ce76cf9a9fb1
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue Apr 5 16:04:44 2016 -0700

    DRILL-3743: Fail active result listeners if server connection is closed
    
    + Remove dead code
    + Improve error and logging messages
    
    closes #460

 .../drill/exec/rpc/user/QueryResultHandler.java    | 126 ++++++++++++---------
 .../org/apache/drill/exec/rpc/user/UserClient.java |   7 +-
 2 files changed, 78 insertions(+), 55 deletions(-)

commit e7e9b73c1c31ddca93fb24a71c14faa968f27479
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Mar 28 11:55:11 2016 -0700

    DRILL-4551: Implement new functions (cot, regex_matches, split_part, isdate)

 exec/java-exec/src/main/codegen/data/MathFunc.tdd  | 13 +++
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java | 54 ++++++++++++
 .../exec/expr/fn/impl/StringFunctionHelpers.java   | 31 ++++++-
 .../drill/exec/expr/fn/impl/StringFunctions.java   | 95 +++++++++++++++++++++-
 .../exec/expr/fn/impl/TestStringFunctions.java     | 91 +++++++++++++++++++++
 .../drill/exec/fn/impl/TestNewDateFunctions.java   | 33 ++++++++
 .../drill/exec/fn/impl/TestTrigFunctions.java      | 35 ++++++++
 7 files changed, 346 insertions(+), 6 deletions(-)

commit 4442e162a0c9d92281e52f66319abf6eba1dde97
Author: vkorukanti <venki@dremio.com>
Date:   Mon Mar 28 11:09:34 2016 -0700

    DRILL-4549: Add support for more truncation units in date_trunc function

 .../src/main/codegen/data/DateIntervalFunc.tdd     |   4 +-
 .../DateTruncFunctions.java                        | 271 ++++++++++++++--
 .../drill/exec/planner/logical/DrillOptiq.java     |  31 ++
 .../java/org/apache/drill/TestFunctionsQuery.java  |  34 +--
 .../drill/exec/fn/impl/TestDateTruncFunctions.java | 340 +++++++++++++++++++++
 5 files changed, 621 insertions(+), 59 deletions(-)

commit 7e6de2bbceffdb2566c57590da04113221f0a166
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Mar 22 17:57:02 2016 -0700

    DRILL-4531: Add a Drill customized rule for pushing filter past aggregate

 .../apache/drill/exec/planner/PlannerPhase.java    |  3 +-
 .../logical/DrillFilterAggregateTransposeRule.java | 48 ++++++++++++++++++++++
 .../drill/exec/fn/impl/TestAggregateFunctions.java | 34 +++++++++++++++
 3 files changed, 84 insertions(+), 1 deletion(-)

commit 79a3c164c1df7a5d7a0b82574316b4a0b1c7593e
Author: adeneche <adeneche@gmail.com>
Date:   Wed Mar 16 14:47:18 2016 +0100

    DRILL-4317: Exceptions on SELECT and CTAS with large CSV files
    
    this closes #432

 .../java/org/apache/drill/exec/store/easy/text/compliant/TextInput.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5dbaafbe6651b0a284fef69d5c952d82ce506e20
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue Mar 22 15:21:51 2016 -0700

    DRILL-3623: For limit 0 queries, optionally use a shorter execution path when result column types are known
    
    + "planner.enable_limit0_optimization" option is disabled by default
    
    + Print plan in PlanTestBase if TEST_QUERY_PRINTING_SILENT is set
    + Fix DrillTestWrapper to verify expected and actual schema
    + Correct the schema of results in TestInbuiltHiveUDFs#testXpath_Double
    
    This closes #405

 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    |   2 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +
 .../apache/drill/exec/physical/base/ScanStats.java |   6 +-
 .../apache/drill/exec/planner/PlannerPhase.java    |   2 +
 .../exec/planner/logical/DrillDirectScanRel.java   |  70 +++
 .../exec/planner/physical/DirectScanPrule.java     |  49 ++
 .../planner/sql/handlers/DefaultSqlHandler.java    |  12 +
 .../planner/sql/handlers/FindLimit0Visitor.java    | 124 +++-
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../drill/exec/store/direct/DirectGroupScan.java   |  27 +-
 .../java/org/apache/drill/DrillTestWrapper.java    |  25 +-
 .../test/java/org/apache/drill/PlanTestBase.java   |   9 +-
 .../impl/limit/TestEarlyLimit0Optimization.java    | 663 +++++++++++++++++++++
 13 files changed, 963 insertions(+), 30 deletions(-)

commit 600ba9ee1d7f321036a6390c0ff9d9872b1d80f0
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu Mar 17 21:54:05 2016 -0700

    Bump calcite version to 1.4.0-drill-r11

 .../test/java/org/apache/drill/TestFunctionsWithTypeExpoQueries.java | 5 -----
 pom.xml                                                              | 2 +-
 2 files changed, 1 insertion(+), 6 deletions(-)

commit 488ba1aeca7c4bf83ef048a6b3515539c12fdaa9
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Mar 14 16:11:10 2016 -0700

    DRILL-4372: (continued) Support for Window functions:
    - CUME_DIST
    - DENSE_RANK
    - PERCENT_RANK
    - RANK
    - ROW_NUMBER
    - NTILE
    - LEAD
    - LAG
    - FIRST_VALUE
    - LAST_VALUE

 .../drill/exec/expr/fn/HiveFunctionRegistry.java   |  19 +--
 .../drill/exec/planner/sql/HiveUDFOperator.java    |   2 +-
 ...r.java => HiveUDFOperatorWithoutInference.java} |   4 +-
 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    |  37 +++--
 .../drill/exec/expr/fn/DrillFunctionRegistry.java  |  76 ++++------
 .../exec/expr/fn/PluggableFunctionRegistry.java    |   6 +-
 .../planner/logical/DrillReduceAggregatesRule.java |  26 +---
 .../exec/planner/logical/PreProcessLogicalRel.java |   9 +-
 .../exec/planner/physical/PlannerSettings.java     |   4 +-
 .../sql/DrillCalciteSqlOperatorWrapper.java        |   2 -
 .../exec/planner/sql/DrillConvertletTable.java     |   3 +-
 .../exec/planner/sql/DrillExtractConvertlet.java   |  21 ++-
 .../drill/exec/planner/sql/DrillOperatorTable.java |  72 ++++-----
 .../exec/planner/sql/DrillSqlAggOperator.java      |   6 +-
 ...va => DrillSqlAggOperatorWithoutInference.java} |   4 +-
 .../drill/exec/planner/sql/DrillSqlOperator.java   |  12 ++
 ....java => DrillSqlOperatorWithoutInference.java} |   4 +-
 .../drill/exec/planner/sql/SqlConverter.java       |  50 +-----
 .../drill/exec/planner/sql/TypeInferenceUtils.java |  96 +++++++++++-
 .../sql/parser/DrillCalciteWrapperUtility.java     |  76 ++++++++++
 .../sql/parser/UnsupportedOperatorsVisitor.java    |  14 +-
 .../test/java/org/apache/drill/PlanningBase.java   |   2 +-
 .../drill/TestFunctionsWithTypeExpoQueries.java    | 168 ++++++++++++++++++++-
 23 files changed, 493 insertions(+), 220 deletions(-)

commit c9f8621d228cca803f967ae91c277f74c6e8e748
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Tue Mar 8 17:57:36 2016 -0800

    DRILL-4372: (continued) Add option to disable/enable function output type inference

 .../drill/exec/expr/fn/HiveFunctionRegistry.java   |   4 +-
 .../exec/planner/sql/HiveUDFOperatorNotInfer.java  |  44 +++++
 .../drill/exec/expr/fn/DrillFunctionRegistry.java  |  89 ++++++++-
 .../org/apache/drill/exec/ops/QueryContext.java    |   2 +-
 .../planner/logical/DrillReduceAggregatesRule.java | 211 ++++++++++-----------
 .../exec/planner/physical/PlannerSettings.java     |   7 +
 .../planner/sql/DrillAvgVarianceConvertlet.java    |  14 +-
 .../drill/exec/planner/sql/DrillOperatorTable.java |  86 +++++++--
 .../exec/planner/sql/DrillSqlAggOperator.java      |  56 +++++-
 .../planner/sql/DrillSqlAggOperatorNotInfer.java   |  43 +++++
 .../drill/exec/planner/sql/DrillSqlOperator.java   |  99 +++++++++-
 .../exec/planner/sql/DrillSqlOperatorNotInfer.java |  76 ++++++++
 .../drill/exec/planner/sql/SqlConverter.java       |  70 ++++++-
 .../drill/exec/planner/sql/TypeInferenceUtils.java |  13 +-
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../drill/TestFunctionsWithTypeExpoQueries.java    | 188 +++++++++++++++++-
 16 files changed, 837 insertions(+), 166 deletions(-)

commit 9ecf4a484e2cc03f73aacd1b4f3801bb1909b71f
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu Mar 3 20:14:59 2016 -0800

    DRILL-4372: (continued) Type inference for HiveUDFs

 .../drill/exec/expr/fn/HiveFunctionRegistry.java   | 58 +++++++++++++++++++++-
 .../drill/exec/planner/sql/HiveUDFOperator.java    | 28 ++---------
 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    | 28 +++++++++++
 3 files changed, 89 insertions(+), 25 deletions(-)

commit c0293354ec79b42ff27ce4ad2113a2ff52a934bd
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu Mar 3 22:38:04 2016 -0800

    DRILL-4372: Expose the functions return type to Drill
    
    - Drill-Calite version update:
    This commit needs to have Calcite's patch (CALCITE-1062) to plugin customized SqlOperator.
    
    - FunctionTemplate
    Add FunctionArgumentNumber annotation. This annotation element tells if the number of argument(s) is fixed or arbitrary (e.g., String concatenation function).
    
    Due to this modification, there are some minor changes in DrillFuncHolder, DrillFunctionRegistry and FunctionAttributes.
    
    - Checker
    Add a new Checker (which Calcite uses to validate the legitimacy of the number of argument(s) for a function) to allow functions with arbitrary arguments to pass Caclite's validation
    
    - Type conversion between Drill and Calcite
    DrillConstExector is given a static method getDrillTypeFromCalcite() to convert Calcite types to Drill's.
    
    - Extract function's return type inference
    Unlike other functions, Extract function's return type can be determined solely based on the first argument. A logic is added in to allow this inference to happen
    
    - DrillCalcite wrapper:
    From the aspects of return type inference and argument type checks, Calcite's mechanism is very different from Drill's. In addition, currently, there is no straightforward way for Drill to plug-in customized mechanisms to Calcite. Thus, wrappers are provided to serve the objective.
    
    Except for the mechanisms of type inference and argument type checks, these wrappers just forward any method calls to the wrapped SqlOpertor, SqlFuncion or SqlAggFunction to respond.
    
    A interface DrillCalciteSqlWrapper is also added for the callers of the three wrappers to get the wrapped objects easier.
    
    Due to these wrappers, UnsupportedOperatorsVisitor is modified in a minor manner.
    
    - Calcite's SqlOpertor, SqlFuncion or SqlAggFunction are wrapped in DrillOperatorTable
    Instead of returning Caclite's native SqlOpertor, SqlFuncion or SqlAggFunction, return the wrapped ones to ensure customized behaviors can be adopted.
    
    - Type inference mechanism
    This mechanism is used across all SqlOpertor, SqlFuncion or SqlAggFunction. Thus, it is factored out as its own method in TypeInferenceUtils
    
    - Upgrade Drill-Calcite
    
    Bump version number to 1.4.0-drill-test-r16
    
    - Implement two argument version of lpad, rpad
    
    - Implement one argument version of ltrim, rtrim, btrim

 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  26 +-
 .../drill/exec/expr/fn/DrillFunctionRegistry.java  | 107 ++--
 .../expr/fn/FunctionImplementationRegistry.java    |   6 +
 .../drill/exec/expr/fn/impl/StringFunctions.java   | 225 +++++++
 .../apache/drill/exec/planner/PlannerPhase.java    |  10 +
 .../exec/planner/logical/DrillConstExecutor.java   |  81 +--
 .../drill/exec/planner/logical/DrillOptiq.java     |  12 -
 .../planner/logical/DrillReduceAggregatesRule.java | 250 ++++++--
 .../exec/planner/logical/PreProcessLogicalRel.java |  75 ++-
 .../visitor/InsertLocalExchangeVisitor.java        |   2 +-
 .../org/apache/drill/exec/planner/sql/Checker.java |  35 +-
 .../sql/DrillCalciteSqlAggFunctionWrapper.java     | 162 +++++
 .../sql/DrillCalciteSqlFunctionWrapper.java        | 147 +++++
 .../sql/DrillCalciteSqlOperatorWrapper.java        | 140 +++++
 .../exec/planner/sql/DrillCalciteSqlWrapper.java   |  33 ++
 .../exec/planner/sql/DrillConvertletTable.java     |  14 +-
 .../exec/planner/sql/DrillExtractConvertlet.java   |   8 +-
 .../drill/exec/planner/sql/DrillOperatorTable.java |  92 ++-
 .../exec/planner/sql/DrillSqlAggOperator.java      |  55 +-
 .../drill/exec/planner/sql/DrillSqlOperator.java   |  81 +--
 .../drill/exec/planner/sql/TypeInferenceUtils.java | 649 +++++++++++++++++++++
 .../planner/sql/handlers/CreateTableHandler.java   |   2 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  10 +-
 .../sql/parser/UnsupportedOperatorsVisitor.java    |  21 +-
 .../exec/resolver/DefaultFunctionResolver.java     |  13 +-
 .../drill/exec/resolver/ExactFunctionResolver.java |  10 +-
 .../drill/exec/resolver/FunctionResolver.java      |  17 +-
 .../exec/resolver/FunctionResolverFactory.java     |   3 -
 .../apache/drill/exec/resolver/TypeCastRules.java  |  18 +-
 .../apache/drill/TestDisabledFunctionality.java    |  10 -
 .../drill/TestFunctionsWithTypeExpoQueries.java    | 281 ++++++++-
 .../exec/expr/fn/impl/TestStringFunctions.java     |  85 +++
 .../testConcatWithMoreThanTwoArgs.tsv              |   5 +
 .../typeExposure/metadata_caching/a.parquet        | Bin 0 -> 439 bytes
 .../typeExposure/metadata_caching/b.parquet        | Bin 0 -> 474 bytes
 .../common/expression/FunctionCallFactory.java     |   2 +-
 .../expression/MajorTypeInLogicalExpression.java   |  63 ++
 pom.xml                                            |   2 +-
 38 files changed, 2424 insertions(+), 328 deletions(-)

commit 245da9790813569c5da9404e0fc5e45cc88e22bb
Author: Aditya Kishore <adi@apache.org>
Date:   Sat Mar 12 11:12:34 2016 -0800

    DRILL-4501: Complete MapOrListWriter for all supported data types
    
    Closes #427

 .../src/main/codegen/templates/BaseWriter.java     |  25 +++++
 .../vector/complex/impl/MapOrListWriterImpl.java   | 125 ++++++++++++++++++++-
 2 files changed, 149 insertions(+), 1 deletion(-)

commit 71608ca9fb53ff0af4f1d09f32d61e7280377e7a
Author: adeneche <adeneche@gmail.com>
Date:   Thu Mar 10 10:40:06 2016 +0100

    DRILL-4484: NPE when querying  empty directory

 .../apache/drill/exec/store/dfs/FileSelection.java |   6 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  12 ++-
 .../exec/store/parquet/TestParquetGroupScan.java   | 120 +++++++++++++++++++++
 .../store/parquet/TestParquetMetadataCache.java    |  19 ----
 4 files changed, 135 insertions(+), 22 deletions(-)

commit 11fe8d7cdb1df4100cd48bcce1de0b2c3c5f983a
Author: adeneche <adeneche@gmail.com>
Date:   Wed Mar 9 13:44:02 2016 +0100

    DRILL-4376: Wrong results when doing a count(*) on part of directories with metadata cache

 .../apache/drill/exec/store/dfs/FileSelection.java |  22 +++--
 .../drill/exec/store/parquet/ParquetGroupScan.java | 101 +++++++++++++++------
 .../store/parquet/TestParquetMetadataCache.java    |  19 ++++
 3 files changed, 103 insertions(+), 39 deletions(-)

commit 050ff9679d99b5cdacc86f5501802c3d2a6dd3e3
Author: Aditya Kishore <adi@apache.org>
Date:   Mon Mar 14 15:15:38 2016 -0700

    DRILL-4050: Add zip archives to the list of artifacts in verify_release.sh
    
    This enhanced version of the script allows integrated download and verification of a Drill release. It can be used to verify both the main release artifacts and maven repository artifacts.
    
    For example, to verify the 1.6 rc0 release artifacts, I ran
    
    ./verify_release.sh https://repository.apache.org/content/repositories/orgapachedrill-1030/ /tmp/drill-1.6/maven/
    ./verify_release.sh http://home.apache.org/~parthc/drill/releases/1.6.0/rc0/ /tmp/drill-1.6/main/
    
    If I had pre-downloaded the files in the respective folders, I'd run
    
    ./verify_release.sh /tmp/drill-1.6/maven/
    ./verify_release.sh /tmp/drill-1.6/main/
    
    Finally, run with `-nv` option to reduce the verbosity of the output.
    
    Closes #249.

 tools/verify_release.sh | 176 ++++++++++++++++++++++++++++++++++--------------
 1 file changed, 125 insertions(+), 51 deletions(-)

commit dd4f03be93c7c804954b2f027f6a9071d5291b38
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Fri Feb 19 17:03:52 2016 +0000

    DRILL-3745: Hive CHAR not supported

 .../core/src/main/codegen/data/HiveTypes.tdd       | 48 +++++++++++++++-------
 .../codegen/templates/ObjectInspectorHelper.java   | 17 +++++++-
 .../main/codegen/templates/ObjectInspectors.java   |  3 +-
 .../ConvertHiveParquetScanToDrillParquetScan.java  |  5 +++
 .../drill/exec/store/hive/HiveFieldConverter.java  | 16 ++++++--
 .../drill/exec/store/hive/HiveUtilities.java       |  7 ++--
 .../exec/store/hive/schema/DrillHiveTable.java     | 11 ++++-
 .../drill/exec/fn/hive/HiveTestUDFImpls.java       | 18 +++++++-
 .../drill/exec/fn/hive/TestSampleHiveUDFs.java     | 11 +++++
 .../apache/drill/exec/hive/TestHiveStorage.java    | 26 ++++++++----
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |  3 +-
 .../exec/store/hive/HiveTestDataGenerator.java     | 36 ++++++++++------
 12 files changed, 156 insertions(+), 45 deletions(-)

commit f7197596d61bf2f3652df8318113636ef1eb5c18
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Mar 8 09:27:32 2016 -0800

    DRILL-4479: For empty fields under all_text_mode enabled (a) use varchar for the default columns and (b) ensure we create fields corresponding to all columns.
    
    close apache/drill#420

 .../exec/store/easy/json/JSONRecordReader.java     |  4 +-
 .../drill/exec/vector/complex/fn/JsonReader.java   | 55 ++++++++++++++++++----
 .../exec/store/json/TestJsonRecordReader.java      |  3 +-
 .../exec/vector/complex/writer/TestJsonReader.java | 55 ++++++++++++++++++++++
 4 files changed, 105 insertions(+), 12 deletions(-)

commit 46e3de790da8f9c6d2d18e7e40fd37c01b3b1681
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Wed Mar 9 17:25:11 2016 -0800

    DRILL-4490: Ensure the count generated by ConvertCountToDirectScan is non-nullable

 .../planner/physical/ConvertCountToDirectScan.java |  2 +-
 .../drill/exec/fn/impl/TestAggregateFunctions.java | 31 ++++++++++++++++++++++
 2 files changed, 32 insertions(+), 1 deletion(-)

commit 3cf0514e50a46f0e491e9cd5860ed42890c18fa1
Author: Parth Chandra <parthc@apache.org>
Date:   Sun Mar 13 09:50:54 2016 -0700

    Added Parth's GPG Key

 KEYS | 59 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 59 insertions(+)

commit b979bebe83d7017880b0763adcbf8eb80acfcee8
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Fri Mar 4 13:50:02 2016 -0800

    DRILL-4476: Allow UnionAllRecordBatch to manager situations where left input side or both sides come(s) from empty source(s).
    
    close apache/drill#407

 .../physical/impl/union/UnionAllRecordBatch.java   | 174 ++++++++++++++++++---
 .../test/java/org/apache/drill/TestUnionAll.java   | 126 ++++++++++++++-
 .../java/org/apache/drill/TestUnionDistinct.java   | 116 ++++++++++++++
 3 files changed, 389 insertions(+), 27 deletions(-)

commit 1f23b89623c72808f2ee866cec9b4b8a48929d68
Author: Parth Chandra <parthc@apache.org>
Date:   Thu Mar 10 17:02:16 2016 -0800

    Update version to 1.7.0-SNAPSHOT

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/gis/pom.xml                          | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 2 +-
 contrib/storage-kudu/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/memory/base/pom.xml                     | 2 +-
 exec/memory/pom.xml                          | 2 +-
 exec/pom.xml                                 | 2 +-
 exec/rpc/pom.xml                             | 2 +-
 exec/vector/pom.xml                          | 2 +-
 logical/pom.xml                              | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 tools/fmpp/pom.xml                           | 2 +-
 tools/pom.xml                                | 2 +-
 27 files changed, 27 insertions(+), 27 deletions(-)

commit 64ab0a8ec9d98bf96f4d69274dddc180b8efe263
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Mar 8 14:16:03 2016 -0800

    DRILL-4482: Fix Avro nested field selection regression
    
    Update some of the Avro tests to properly verify their results,
    others still need to be fixed. These will be addressed in DRILL-4110.
    
    Closes #419

 .../drill/exec/store/avro/AvroRecordReader.java    |   2 +-
 .../drill/exec/store/avro/AvroFormatTest.java      | 164 ++++++++++------
 .../apache/drill/exec/store/avro/AvroTestUtil.java | 218 ++++++++++-----------
 3 files changed, 218 insertions(+), 166 deletions(-)

commit 2bf48113a2b666075ec27184a5c1f70b8979b1e6
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Fri Feb 26 09:55:05 2016 -0800

    DRILL-4441: Fix varchar data read out of Avro filtering incorrectly due to metadata bug
    
    The precision of the Varchar datatype was not being set causing inconsistent
    truncation of values to the default length of 1. Fixed the same issue with varbinary.
    
    The test framework was previously taking a string as the baseline for a binary value,
    which cannot express all possible values. Fixed the test to intstead use a byte array.
    Thie required updating the hive tests that were using the old method of specifying
    baselines with a String.
    
    Fix cast to varbinary when reading from a data source with schema needed for writing
    a test.
    
    Updated patch to remove varchar lengths from table creation.
    This issue was fixed more generally by DRILL-4465, which provides a default
    type length for varchar and varbinary during the setup of calcite. This update now
    just provides tests to verify the fix in this case.
    
    Closes #393

 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    |  2 +-
 .../apache/drill/exec/hive/TestHiveStorage.java    |  4 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |  1 +
 .../java/org/apache/drill/DrillTestWrapper.java    |  3 -
 .../drill/exec/store/avro/AvroFormatTest.java      | 66 ++++++++++++++++++++++
 .../apache/drill/exec/store/avro/AvroTestUtil.java |  5 +-
 6 files changed, 73 insertions(+), 8 deletions(-)

commit c047f04b507faecc6bc65f15e2618162a23de09d
Author: Aditya Kishore <adi@apache.org>
Date:   Wed Mar 9 00:38:33 2016 -0800

    DRILL-4493 - Fixed issues in various POMs with MapR profile
    This closes #421

 distribution/pom.xml   | 12 --------
 exec/java-exec/pom.xml | 14 ---------
 exec/jdbc/pom.xml      |  1 +
 pom.xml                | 81 ++++++++++++++++++++++++++++++++++++++++++++------
 4 files changed, 73 insertions(+), 35 deletions(-)

commit 9c00027ddab6b3c10c72e69be335ba3656fa7c1b
Author: adeneche <adeneche@gmail.com>
Date:   Tue Mar 8 16:54:31 2016 +0100

    DRILL-4487: add unit test for DRILL-4449

 .../exec/store/parquet/TestParquetMetadataCache.java     | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 49ae6d363efe78df4e89f7913d1d560e9627b325
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Mar 8 14:15:27 2016 -0800

    DRILL-4474: Ensure that ConvertCountToDirectScan does not push through project when nullable input of count is not RexInputRef
    This closes #416

 .../planner/physical/ConvertCountToDirectScan.java | 23 +++++++---
 .../logical/TestConvertCountToDirectScan.java      | 52 ++++++++++++++++++++++
 2 files changed, 70 insertions(+), 5 deletions(-)

commit 39f6fa3db774855947c5bf8228662f10a014f2ef
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Mar 4 13:27:26 2016 -0800

    DRILL-4474: Ensure that ConvertCountToDirectScan only pushes through project when project is trivial.
    This closes #406

 .../planner/physical/ConvertCountToDirectScan.java |   5 ++++
 .../logical/TestConvertCountToDirectScan.java      |  33 +++++++++++++++++++++
 .../src/test/resources/directcount.parquet         | Bin 0 -> 617 bytes
 3 files changed, 38 insertions(+)

commit 8a411b504105174414cbff990182e0841815c7f9
Author: Patrick Wong <Patrick Wong>
Date:   Mon Mar 7 18:22:08 2016 -0800

    DRILL-4485 - MapR profile - switch to MapR 5.1.0, and improve compatibility with maprfs storage format and MapR DB storage plugin.
     This closes #417

 distribution/pom.xml | 36 ++++++++++++++++++++++++++++++++----
 pom.xml              | 49 ++++++++++++++++++++++++++++++++++++++++---------
 2 files changed, 72 insertions(+), 13 deletions(-)

commit c8a78409d9472b84eaa7fba719842c08302c81c3
Author: adeneche <adeneche@gmail.com>
Date:   Fri Feb 26 13:41:36 2016 -0800

    DRILL-4443: MIN/MAX on VARCHAR throw a NullPointerException

 exec/java-exec/src/main/codegen/templates/VarCharAggrFunctions1.java | 1 +
 .../java/org/apache/drill/exec/fn/impl/TestAggregateFunctions.java   | 5 ++++-
 exec/java-exec/src/test/resources/agg/4443.csv                       | 2 ++
 3 files changed, 7 insertions(+), 1 deletion(-)

commit 447b093cd2b05bfeae001844a7e3573935e84389
Author: Laurent Goujon <laurent@dremio.com>
Date:   Tue Feb 23 14:14:37 2016 -0800

    DRILL-4332: Makes vector comparison order stable in test framework
    
    In the test framework, a vector is a map of <String, Object>. When comparing
    actual values with baseline, the comparison is made column by column, but
    a HashMap key ordering is not guaranteed, and the ordering actually changed
    between Java7 and Java8 in Oracle/OpenJDK.
    
    Replacing HashMap with TreeMap which has a guaranteed ordering by design.
    
    Small update by jason during merge, fixed test failure on JDK 7 due to map key ordering,
    just replaced two more uses of HashMap with TreeMap.
    
    Closes #389

 .../java/org/apache/drill/DrillTestWrapper.java    | 59 +++++++++++-----------
 .../java/org/apache/drill/TestFrameworkTest.java   |  2 +-
 2 files changed, 30 insertions(+), 31 deletions(-)

commit 80316f3f8bef866720f99e609fe758ec8e0c4612
Author: Steven Phillips <steven@dremio.com>
Date:   Fri Mar 4 20:29:26 2016 -0800

    DRILL-4486: Fix expression serialization escaping
    
    Closes #412

 .../drill/common/expression/ExpressionStringBuilder.java    | 13 ++++++++++---
 .../org/apache/drill/common/expression/parser/TreeTest.java | 12 ++++++++++++
 2 files changed, 22 insertions(+), 3 deletions(-)

commit 79b5e3b562705db01672c20831dd6792995e4967
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Sun Jan 31 18:35:42 2016 -0800

    Adding Jason's GPG key

 KEYS | 58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 58 insertions(+)

commit 1f29914fc5c7d1e36651ac28167804c4012501fe
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Feb 1 23:17:37 2016 -0800

    DRILL-4375: Fix the maven release profile
    
    This generated pom file was being discovered and maven was trying to
    run the target directory in jdbc-all as a submodule.
    
    This change reverts to the default output location (the module root)
    and adds corresponding .gitignore and RAT exclude entries. NOTE:
    this is considered bad practice as generated files should appear in
    the target directory and be removed upon a maven clean. This default
    location is considered to be a known shortcoming of the shade plugin.
    
    Also updated integration test for the jdbc-all jar with small
    path change, as changing the location of the dependency-reduced-pom.xml
    actually changed the directory the test was being executed from.
    
    Closes #402

 .gitignore                                                        | 2 ++
 exec/jdbc-all/pom.xml                                             | 8 +++++++-
 .../src/test/java/org/apache/drill/jdbc/ITTestShadedJar.java      | 2 +-
 pom.xml                                                           | 2 ++
 4 files changed, 12 insertions(+), 2 deletions(-)

commit 2850a9fa89c0a3a5a3c761f894418dee9c3fb8d2
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Mar 7 15:08:58 2016 -0800

    DRILL-4483: Fix text plan regression in query profiles

 .../planner/sql/handlers/CreateTableHandler.java   |  1 +
 .../planner/sql/handlers/DefaultSqlHandler.java    | 33 +++++++++-------------
 .../exec/planner/sql/handlers/ExplainHandler.java  |  1 +
 3 files changed, 15 insertions(+), 20 deletions(-)

commit df0f0af3d963c1b65eb01c3141fe84532c53f5a5
Author: Parth Chandra <parthc@apache.org>
Date:   Fri Feb 12 15:42:53 2016 -0800

    DRILL-4313: C++ Client - Thread safe Logging.  Improved Drill bit selection.
     - Update random drill bit selection. Shuffle the list initially, then round robin. Add Utility methods to get random numbers and to shuffle and add vectors. Whitespace cleanup
     - Add Git properties to build and print to log.
     - Add interface to get error based on query handle.
     - Add support for Pooled connections. Allows switching between pooled and unpooled connections based on environment variables

 contrib/native/client/CMakeLists.txt               |  24 +-
 .../native/client/cmakeModules/FindZookeeper.cmake |   2 +-
 contrib/native/client/example/querySubmitter.cpp   |  25 +-
 .../native/client/src/clientlib/drillClient.cpp    |  33 +-
 .../client/src/clientlib/drillClientImpl.cpp       | 600 +++++++++++++++------
 .../client/src/clientlib/drillClientImpl.hpp       | 169 +++++-
 contrib/native/client/src/clientlib/env.h.in       |  26 +
 contrib/native/client/src/clientlib/errmsgs.cpp    |   2 +
 contrib/native/client/src/clientlib/errmsgs.hpp    |   4 +-
 contrib/native/client/src/clientlib/logger.cpp     | 126 +++--
 contrib/native/client/src/clientlib/logger.hpp     |  85 +--
 contrib/native/client/src/clientlib/utils.cpp      | 109 ++--
 contrib/native/client/src/clientlib/utils.hpp      | 100 +++-
 contrib/native/client/src/include/drill/common.hpp |   9 +-
 .../client/src/include/drill/drillClient.hpp       |   7 +-
 15 files changed, 1001 insertions(+), 320 deletions(-)

commit a2fec78695df979e240231cb9d32c7f18274a333
Author: adeneche <adeneche@gmail.com>
Date:   Mon Mar 7 15:08:08 2016 +0100

    DRILL-4457: Difference in results returned by window function over BIGINT data
    
    this closes #410

 .../exec/physical/impl/window/FrameSupportTemplate.java  |  6 +++---
 .../drill/exec/physical/impl/window/TestWindowFrame.java | 16 ++++++++++++++++
 exec/java-exec/src/test/resources/window/4457.csv        |  3 +++
 3 files changed, 22 insertions(+), 3 deletions(-)

commit b67c553833b0d49af4489655128d6e80e1e7be46
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Sat Mar 5 15:18:28 2016 -0800

    DRILL-4281: Support authorized proxy users to impersonate other users
    
    closes #400

 .../native/client/src/clientlib/drillClient.cpp    |   1 +
 contrib/native/client/src/include/drill/common.hpp |   1 +
 .../java/org/apache/drill/exec/ExecConstants.java  |  18 ++
 .../exec/rpc/user/InboundImpersonationManager.java | 191 +++++++++++++++++++++
 .../org/apache/drill/exec/rpc/user/UserServer.java |  10 ++
 .../apache/drill/exec/rpc/user/UserSession.java    |  43 +++--
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../apache/drill/exec/util/ImpersonationUtil.java  |   7 +-
 .../exec/impersonation/BaseTestImpersonation.java  |   3 +
 .../impersonation/TestInboundImpersonation.java    | 165 ++++++++++++++++++
 .../TestInboundImpersonationPrivileges.java        | 144 ++++++++++++++++
 .../testing/UserAuthenticatorTestImpl.java         |  29 +++-
 .../resources/inbound_impersonation_policies.json  |  14 ++
 13 files changed, 609 insertions(+), 18 deletions(-)

commit de2d062a6a5f4077bfaa254e170ecdbb7fa0dc8d
Author: adeneche <adeneche@gmail.com>
Date:   Wed Feb 24 19:19:09 2016 -0800

    DRILL-4449: Wrong results when metadata cache is used with specific set of queries
    
    close apache/drill#392

 .../org/apache/drill/exec/store/parquet/Metadata.java | 19 +++++++++++++++++--
 .../drill/exec/store/parquet/ParquetGroupScan.java    |  6 ++++--
 2 files changed, 21 insertions(+), 4 deletions(-)

commit edea8b1cf4e5476d803e8b87c79e08e8c3263e04
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Mar 4 03:04:40 2016 -0800

    DRILL-4467: Fix field ordering issue in PrelUtil

 .../drill/exec/planner/physical/PrelUtil.java      |  2 +-
 .../test/java/org/apache/drill/TestUnionAll.java   |  2 +
 .../drill/exec/fn/impl/TestAggregateFunctions.java | 93 +++++++++++++---------
 3 files changed, 59 insertions(+), 38 deletions(-)

commit 84b3a8a87f7d3dec928a871fa5d5e6bfed7c340e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Feb 25 10:45:40 2016 -0800

    DRILL-4465: Simplify Calcite parsing & planning integration
    
    - Canonicalize Planning phases with PlannerPhase enumeration
    - Canonicalize PlannerType transforms
    - Remove dependency on Calcite's Frameworks.Planner since Drill need stop heavily customize interactions
    - Update AbstractStoragePlugin to implement a phase-aware planning rule injection behavior.
    - Avoid (or at least reduce) duplicated registerSchemas() invocations
    
    This closes #401.

 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +-
 .../DrillRuleSets.java => PlannerPhase.java}       | 178 +++++++---
 .../org/apache/drill/exec/planner/PlannerType.java |  22 ++
 .../exec/planner/sql/DrillConvertletTable.java     |   5 +
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 161 +--------
 .../drill/exec/planner/sql/SqlConverter.java       | 367 +++++++++++++++++++++
 .../planner/sql/handlers/CreateTableHandler.java   |  17 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    | 352 +++++++++++---------
 .../planner/sql/handlers/DescribeTableHandler.java |  28 +-
 .../planner/sql/handlers/DropTableHandler.java     |   6 +-
 .../exec/planner/sql/handlers/ExplainHandler.java  |  17 +-
 .../sql/handlers/RefreshMetadataHandler.java       |  17 +-
 .../exec/planner/sql/handlers/ShowFileHandler.java |   9 +-
 .../planner/sql/handlers/ShowTablesHandler.java    |  22 +-
 .../planner/sql/handlers/SqlHandlerConfig.java     |  37 ++-
 .../drill/exec/store/AbstractStoragePlugin.java    |  43 ++-
 .../org/apache/drill/exec/store/StoragePlugin.java |   1 +
 .../drill/exec/store/StoragePluginRegistry.java    |  10 -
 .../exec/store/StoragePluginRegistryImpl.java      |  40 ---
 .../apache/drill/exec/work/foreman/Foreman.java    |   3 +-
 .../test/java/org/apache/drill/PlanningBase.java   |   3 +-
 .../drill/exec/planner/sql/TestDrillSQLWorker.java |   2 +-
 .../drill/exec/sql/TestSqlBracketlessSyntax.java   |   2 +-
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java |  32 +-
 .../jdbc/test/TestInformationSchemaColumns.java    |  29 +-
 .../resources/null_ordering_and_grouping_data.json |   2 +-
 26 files changed, 896 insertions(+), 512 deletions(-)

commit c98edbafb9bdf8ed83e9b2df7b9bf09d7e07987b
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Feb 2 06:48:18 2016 -0800

    DRILL-4354: Remove sessions in anonymous (auth disabled) WebUI access

 .../drill/exec/server/rest/DrillRestServer.java    | 44 +++++++++++-
 .../apache/drill/exec/server/rest/DrillRoot.java   |  4 +-
 .../drill/exec/server/rest/MetricsResources.java   |  4 +-
 .../drill/exec/server/rest/QueryResources.java     | 20 ++++--
 .../drill/exec/server/rest/StatusResources.java    |  6 +-
 .../drill/exec/server/rest/StorageResources.java   |  6 +-
 .../drill/exec/server/rest/ThreadsResources.java   |  4 +-
 .../exec/server/rest/ViewableWithPermissions.java  | 34 ++++-----
 .../apache/drill/exec/server/rest/WebServer.java   | 25 ++-----
 .../server/rest/auth/AnonymousAuthenticator.java   | 84 ----------------------
 .../server/rest/auth/AnonymousLoginService.java    | 62 ----------------
 .../exec/server/rest/auth/DrillUserPrincipal.java  | 49 ++++++++++++-
 .../exec/server/rest/profile/ProfileResources.java |  6 +-
 13 files changed, 148 insertions(+), 200 deletions(-)

commit ae46d268b318b43f178250e34fc58028c016fc70
Author: Minji Kim <minji@dremio.com>
Date:   Wed Feb 17 22:29:11 2016 -0800

    DRILL-4410: ListVector should initialize bits in allocateNew
    
    Remove large arrays.json files and generate it in /tmp, Check test results
    Add another unit test for ListVector in TestValueVector, and use tempDir in TestComplexTypeReader
    
    Closes #380

 .../drill/exec/record/vector/TestValueVector.java  | 23 ++++++++-
 .../complex/writer/TestComplexTypeReader.java      | 58 ++++++++++++++++++++++
 .../drill/exec/vector/complex/ListVector.java      |  1 +
 3 files changed, 81 insertions(+), 1 deletion(-)

commit c95b5432301fe487d64a1fc06e765228469fc3a2
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Feb 21 10:29:09 2016 -0800

    DRILL-4384: Fix Profile regressions

 .../apache/drill/exec/ops/BufferManagerImpl.java   | 13 +++---
 .../org/apache/drill/exec/ops/OperatorStats.java   | 45 +++++++++++++++----
 .../drill/exec/work/foreman/QueryManager.java      | 51 +++++++++++++++-------
 3 files changed, 79 insertions(+), 30 deletions(-)

commit 0842851c854595f140779e9ed09331dbb63f6623
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Feb 11 16:52:38 2016 -0800

    DRILL-4383: Allow custom configurations to be specified for a FileSystem plugin
    
    add an example s3 plugin, disabled by default
    
    Closes #375

 .../drill/exec/store/dfs/FileSystemConfig.java     | 10 ++++
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  5 ++
 .../main/resources/bootstrap-storage-plugins.json  | 56 ++++++++++++++++++++++
 3 files changed, 71 insertions(+)

commit 2ffe311739cda1942f2a74a27702cdd38e07ed3b
Author: Laurent Goujon <laurent@dremio.com>
Date:   Wed Jan 27 19:01:13 2016 -0800

    DRILL-4327: Fix rawtypes warnings in drill codebase
    
    Fixing most rawtypes warning issues in drill modules.
    
    Closes #347

 .../ConvertHiveParquetScanToDrillParquetScan.java  |  8 +-
 .../exec/store/hive/DrillHiveMetaStoreClient.java  |  2 +-
 .../exec/store/hive/HiveAuthorizationHelper.java   |  6 +-
 .../exec/store/hive/HiveMetadataProvider.java      |  2 +-
 .../drill/exec/store/hive/HiveRecordReader.java    | 14 ++--
 .../apache/drill/exec/store/hive/HiveTable.java    |  2 +-
 .../drill/exec/store/hive/HiveUtilities.java       |  6 +-
 .../hive/TestStorageBasedHiveAuthorization.java    |  6 +-
 .../drill/exec/store/kudu/KuduRecordReader.java    |  1 -
 .../drill/exec/store/kudu/KuduSchemaFactory.java   |  2 +-
 .../apache/drill/exec/cache/DistributedCache.java  |  2 +-
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  2 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  7 +-
 .../expr/fn/interpreter/InterpreterEvaluator.java  | 14 ++--
 .../org/apache/drill/exec/ops/UdfUtilities.java    |  8 +-
 .../drill/exec/physical/base/AbstractExchange.java |  9 +-
 .../drill/exec/physical/impl/ImplCreator.java      |  2 +-
 .../impl/mergereceiver/MergingRecordBatch.java     | 11 +--
 .../impl/partitionsender/PartitionerDecorator.java | 10 +--
 .../impl/producer/ProducerConsumerBatch.java       |  3 +-
 .../partition/RewriteAsBinaryOperators.java        | 11 +--
 .../drill/exec/planner/physical/PrelUtil.java      |  2 +-
 .../physical/visitor/RewriteProjectToFlatten.java  | 24 +++---
 .../visitor/RexVisitorComplexExprSplitter.java     | 19 +++--
 .../visitor/SplitUpComplexExpressions.java         | 33 ++++----
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 28 +++----
 .../planner/types/DrillFixedRelDataTypeImpl.java   |  2 +-
 .../exec/planner/types/RelDataTypeDrillImpl.java   |  2 +-
 .../exec/record/ExpandableHyperContainer.java      | 18 ++--
 .../drill/exec/record/HyperVectorWrapper.java      |  9 +-
 .../drill/exec/record/SimpleVectorWrapper.java     | 16 +---
 .../org/apache/drill/exec/schema/DataRecord.java   |  2 +-
 .../drill/exec/server/rest/StatusResources.java    |  4 +-
 .../drill/exec/store/avro/AvroRecordReader.java    | 17 ++--
 .../drill/exec/store/mock/MockRecordReader.java    |  2 +-
 .../apache/drill/exec/store/parquet/Metadata.java  |  3 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java | 27 +++---
 .../store/parquet/columnreaders/BitReader.java     |  8 +-
 .../parquet/columnreaders/ColumnReaderFactory.java | 37 +++++----
 .../columnreaders/FixedByteAlignedReader.java      | 57 +++++--------
 .../columnreaders/FixedWidthRepeatedReader.java    | 27 ++----
 .../parquet/columnreaders/NullableBitReader.java   |  8 +-
 .../NullableFixedByteAlignedReaders.java           | 66 ++++++---------
 .../store/parquet/columnreaders/PageReader.java    | 13 +--
 .../ParquetFixedWidthDictionaryReaders.java        | 79 +++++-------------
 .../parquet/columnreaders/ParquetRecordReader.java | 10 +--
 .../parquet/columnreaders/VarLenBinaryReader.java  | 16 ++--
 .../parquet/columnreaders/VarLengthColumn.java     |  3 +-
 .../exec/store/schedule/AssignmentCreator.java     | 18 ++--
 .../apache/drill/exec/store/sys/SystemTable.java   |  2 +-
 .../org/apache/drill/exec/vector/CopyUtil.java     |  2 +-
 .../parquet/hadoop/ColumnChunkIncReadStore.java    | 12 ++-
 .../java/org/apache/drill/DrillTestWrapper.java    | 77 +++++++++---------
 .../test/java/org/apache/drill/TestBuilder.java    | 34 ++++----
 .../java/org/apache/drill/TestFrameworkTest.java   |  7 +-
 .../drill/exec/HyperVectorValueIterator.java       | 10 +--
 .../exec/physical/impl/flatten/TestFlatten.java    | 11 +--
 .../exec/physical/impl/join/TestMergeJoin.java     |  8 +-
 .../drill/exec/physical/impl/sort/TestSort.java    |  4 +-
 .../exec/planner/TestDirectoryExplorerUDFs.java    |  2 +-
 .../drill/exec/record/vector/TestValueVector.java  |  9 +-
 .../drill/exec/store/TestAffinityCalculator.java   |  4 +-
 .../apache/drill/exec/store/avro/AvroTestUtil.java | 95 +++++++++++-----------
 .../exec/store/parquet/TestFileGenerator.java      | 22 +++--
 .../org/apache/drill/exec/testing/Controls.java    | 15 ++--
 .../drill/exec/testing/ControlsInjectionUtil.java  | 18 ++--
 .../org/apache/drill/jdbc/ITTestShadedJar.java     |  4 +-
 .../org/apache/drill/exec/rpc/BasicClient.java     |  2 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |  4 +-
 .../main/codegen/templates/BasicTypeHelper.java    |  2 +-
 .../src/main/codegen/templates/UnionVector.java    |  2 +-
 .../drill/exec/util/JsonStringArrayList.java       |  2 +-
 .../apache/drill/exec/util/JsonStringHashMap.java  |  2 +-
 .../org/apache/drill/exec/vector/ZeroVector.java   |  2 +-
 .../exec/vector/complex/impl/PromotableWriter.java |  8 +-
 .../apache/drill/common/logical/data/Limit.java    |  2 +-
 .../drill/common/logical/data/LogicalOperator.java |  2 +-
 .../common/logical/data/LogicalOperatorBase.java   |  2 +-
 78 files changed, 471 insertions(+), 573 deletions(-)

commit 5118d0cf59bc34b6ebfa4c0d809436526c2a4083
Author: adeneche <adeneche@gmail.com>
Date:   Tue Feb 23 09:02:38 2016 -0800

    DRILL-3488: Allow Java 1.8

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 84ce21c9147f646bce55071573b1b6f72fd2a45e
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Thu Feb 11 17:16:30 2016 +0000

    DRILL-3688: Drill should honor "skip.header.line.count" and "skip.footer.line.count" attribute of Hive table
    
    1. Functionality to skip header and footer lines while reading Hive data.
    2. Unit tests.

 .../drill/exec/store/hive/HiveRecordReader.java    | 178 +++++++++++++++++++--
 .../apache/drill/exec/hive/TestHiveStorage.java    |  91 +++++++++++
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |  14 ++
 .../exec/store/hive/HiveTestDataGenerator.java     |  51 +++++-
 4 files changed, 319 insertions(+), 15 deletions(-)

commit b9960f89e72810d109e712ef7e740919502e72d9
Author: vataga <vitalii.diravka@mail.ru>
Date:   Tue Feb 2 13:18:49 2016 +0200

    DRILL-4346: Handle NumberFormatException when casting empty string to int in hbase/maprdb
    
    - Made replacing of functions casting for nullable input varbinary and var16char types are working (in CastFunctions.java setting 'drill.exec.functions.cast_empty_string_to_null = true' didn't work);
    - Added new generated classes for casting varbinary and var16char to int (CastEmptyStringVarTypesToNullableNumeric template and Casts.tdd data);
    - Created a test (in TestHBaseQueries.java) for checking an empty string to integer casting in maprdb/hbase table;
    - Small design changes according to comments in review (import statements, prefixes ...).
    
    This closes #384

 .../org/apache/drill/hbase/HBaseTestsSuite.java    |   7 +-
 .../org/apache/drill/hbase/TestHBaseQueries.java   |  16 +++
 .../org/apache/drill/hbase/TestTableGenerator.java |  27 +++++
 exec/java-exec/src/main/codegen/data/Casts.tdd     |  59 +++++----
 .../CastEmptyStringVarTypesToNullableNumeric.java  |  92 ++++++++++++++
 .../codegen/templates/CastFunctionsSrcVarLen.java  |   4 +-
 .../templates/CastVarCharToNullableNumeric.java    |  85 -------------
 .../templates/Decimal/CastVarCharDecimal.java      |  16 +--
 .../expr/fn/FunctionImplementationRegistry.java    |  21 ++--
 .../exec/expr/fn/impl/StringFunctionHelpers.java   |   4 +-
 .../drill/common/expression/fn/CastFunctions.java  | 132 +++++++++++++++------
 11 files changed, 299 insertions(+), 164 deletions(-)

commit cca17cb8f9891bb0b49560acad7f129a6cb7edc0
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   Tue Feb 2 18:48:29 2016 +0200

    DRILL-3944: Drill MAXDIR Unknown variable or type FILE_SEPARATOR. This
    closes #391

 .../main/codegen/templates/DirectoryExplorers.java |  3 +-
 .../sql/parser/UnsupportedOperatorsVisitor.java    | 73 +++++++++++++++++-
 .../exec/planner/TestDirectoryExplorerUDFs.java    | 89 ++++++++++++++++++----
 3 files changed, 147 insertions(+), 18 deletions(-)

commit 3e55fe1db23e51e39043e3f366b6d1c6bfb73a9c
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Feb 24 14:13:21 2016 -0800

    DRILL-4434: Deprecate GroupScan.enforceWidth API

 .../org/apache/drill/exec/physical/base/AbstractGroupScan.java    | 3 ++-
 .../main/java/org/apache/drill/exec/physical/base/GroupScan.java  | 4 ++++
 .../planner/physical/visitor/ExcessiveExchangeIdentifier.java     | 8 ++++----
 .../java/org/apache/drill/exec/store/sys/SystemTableScan.java     | 6 ------
 4 files changed, 10 insertions(+), 11 deletions(-)

commit 6d5f4983003b8f5d351adcb0bc9881d2dc4c2d3f
Author: adeneche <adeneche@gmail.com>
Date:   Mon Feb 22 12:48:11 2016 -0800

    DRILL-4423: TestCsvHeader#testEmptyFinalColumn is causing the unit test framework to print 10K rows in Stdout
    
    this closes #387

 .../src/test/java/org/apache/drill/DrillTestWrapper.java         | 9 ---------
 1 file changed, 9 deletions(-)

commit c67d070bf68e9492b7fbe6d9e54d70d587b28a6e
Author: Jinfeng Ni <jni@apache.org>
Date:   Fri Feb 12 14:18:59 2016 -0800

    DRILL-4387: GroupScan or ScanBatchCreator should not use star column in case of skipAll query.
    
    The skipAll query should be handled in RecordReader.

 .../java/org/apache/drill/exec/store/hbase/HBaseGroupScan.java     | 6 +++---
 .../main/java/org/apache/drill/exec/physical/base/GroupScan.java   | 6 ++++++
 .../java/org/apache/drill/exec/store/AbstractRecordReader.java     | 7 +++++++
 .../java/org/apache/drill/exec/store/dfs/easy/EasyGroupScan.java   | 2 +-
 .../org/apache/drill/exec/store/parquet/ParquetRowGroupScan.java   | 2 +-
 .../apache/drill/exec/store/parquet/ParquetScanBatchCreator.java   | 3 ---
 6 files changed, 18 insertions(+), 8 deletions(-)

commit a45f7fd1126cd5110ac959961256ce75923fa2fd
Author: adeneche <adeneche@gmail.com>
Date:   Tue Jan 19 13:33:22 2016 -0800

    DRILL-4260: Adding support for some custom window frames
    
    this includes the following JIRAs:
    DRILL-4261: Add support for RANGE BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING
    DRILL-4262: add support for ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW
    DRILL-4263: add support for RANGE BETWEEN CURRENT ROW AND CURRENT ROW
    
    this closes #340

 .../org/apache/drill/exec/opt/BasicOptimizer.java  |   2 +-
 .../drill/exec/physical/config/WindowPOP.java      |  51 ++++++++--
 .../physical/impl/window/FrameSupportTemplate.java | 113 ++++++++++++++-------
 .../impl/window/NoFrameSupportTemplate.java        |   3 +-
 .../drill/exec/physical/impl/window/Partition.java |   3 +
 .../impl/window/WindowFrameRecordBatch.java        |   8 +-
 .../exec/physical/impl/window/WindowFramer.java    |   3 +-
 .../exec/physical/impl/window/WindowFunction.java  |  43 ++++----
 .../drill/exec/planner/physical/WindowPrel.java    |   5 +-
 .../sql/parser/UnsupportedOperatorsVisitor.java    |  19 +++-
 .../test/java/org/apache/drill/TestBuilder.java    |   4 +
 .../org/apache/drill/exec/TestWindowFunctions.java |  29 ------
 .../exec/physical/impl/window/TestWindowFrame.java |  58 ++++++++++-
 .../window/aggregate_range_current_current.sql     |   7 ++
 .../aggregate_range_current_current_baseline.sql   |   7 ++
 .../window/aggregate_rows_unbounded_current.sql    |   4 +
 .../aggregate_rows_unbounded_current_baseline.sql  |   3 +
 .../window/first_value_range_current_current.sql   |   7 ++
 .../first_value_range_current_current_baseline.sql |   7 ++
 .../window/last_value_rows_unbounded_current.sql   |   5 +
 .../last_value_rows_unbounded_current_baseline.sql |   5 +
 exec/java-exec/src/test/resources/window/q3.sql    |   9 ++
 exec/java-exec/src/test/resources/window/q4.sql    |   9 ++
 23 files changed, 299 insertions(+), 105 deletions(-)

commit 1d890ff94c198e7322c569e880f45a8b6eb94a97
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon Jan 18 10:26:59 2016 -0800

    DRILL-4287: During initial DrillTable creation don't read the metadata cache file; instead do it during ParquetGroupScan.
    
    Maintain state in FileSelection to keep track of whether certain operations have been done on that selection.
    
    Remove ParquetFileSelection since its only purpose was to carry the metadata cache information which is not needed anymore.
    
    Conflicts:
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/FileSystemPartitionDescriptor.java
            exec/java-exec/src/main/java/org/apache/drill/exec/store/parquet/ParquetFileSelection.java
    
    Resolve issues after rebasing:
    
    1) JsonIgnore fileSelection in ParquetGroupScan
    2) FileSysemPartitionDescriptor change.
    
    Conflicts:
            exec/java-exec/src/main/java/org/apache/drill/exec/planner/FileSystemPartitionDescriptor.java
    
    DRILL-4287: Address code review comments and follow-up changes after rebasing:
    
    - In FileSelection: updated call to the Stopwatch, set all flags appropriately in minusDirectories(), modify supportDirPruning()
    - In ParquetGroupScan: Simplify directory checking in constructor,  set the parquetTableMetadata field after reading metadata cache.
    - Fix unit tests to use an alias for the reserved dir<N> columns as partition-by columns.
    
    More follow-up changes:
    
     - Get rid of fileSelection attribute in ParquetGroupScan
     - Initialize entries after expanding the selection when metadata cache is used
     - For non-metadata cache, don't do any expansion in the constructor; let init() handle it
     - In FileSystemPartitionDescriptor, the createPartitionSublists is modified to check for parquet scan
    
    When reading from metadata cache , ensure selection root does not contain the scheme and authority prefix.  Minor refactoring.
    
    Address code review comments and fix a bug. Simplify FileSelection state management based on review comment.
    
    close apache/drill#376

 .../exec/physical/base/AbstractGroupScan.java      | 12 ++++
 .../apache/drill/exec/physical/base/GroupScan.java | 16 +++++-
 .../planner/FileSystemPartitionDescriptor.java     | 21 +++++--
 .../planner/logical/partition/PruneScanRule.java   | 15 +----
 .../apache/drill/exec/store/dfs/FileSelection.java | 42 ++++++++++++--
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  6 ++
 .../exec/store/parquet/ParquetFileSelection.java   | 66 ----------------------
 .../exec/store/parquet/ParquetFormatPlugin.java    | 29 +---------
 .../drill/exec/store/parquet/ParquetGroupScan.java | 66 +++++++++++++++++++---
 .../org/apache/drill/TestCTASPartitionFilter.java  |  8 +--
 10 files changed, 152 insertions(+), 129 deletions(-)

commit 462f7af6fc00b5d31a436fd52c9d450c3a20a7de
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Fri Feb 19 13:56:09 2016 -0800

    Update version to 1.6.0-SNAPSHOT

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 5 ++---
 contrib/gis/pom.xml                          | 5 ++---
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 5 ++---
 contrib/storage-hive/core/pom.xml            | 6 ++----
 contrib/storage-hive/hive-exec-shade/pom.xml | 6 ++----
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 5 ++---
 contrib/storage-kudu/pom.xml                 | 6 ++----
 contrib/storage-mongo/pom.xml                | 5 ++---
 distribution/pom.xml                         | 5 ++---
 exec/java-exec/pom.xml                       | 5 ++---
 exec/jdbc-all/pom.xml                        | 8 +++-----
 exec/jdbc/pom.xml                            | 5 ++---
 exec/memory/base/pom.xml                     | 5 ++---
 exec/memory/pom.xml                          | 2 +-
 exec/pom.xml                                 | 2 +-
 exec/rpc/pom.xml                             | 5 ++---
 exec/vector/pom.xml                          | 5 ++---
 logical/pom.xml                              | 2 +-
 pom.xml                                      | 5 ++---
 protocol/pom.xml                             | 6 ++----
 tools/fmpp/pom.xml                           | 5 ++---
 tools/pom.xml                                | 2 +-
 27 files changed, 46 insertions(+), 69 deletions(-)

commit 7d5a0a86e36932726abee49aa4c29ea9cbd576e9
Author: Jinfeng Ni <jni@apache.org>
Date:   Thu Feb 18 15:38:42 2016 -0800

    DRILL-4392: Fix CTAS partition to remove one unnecessary internal field in generated parquet files.

 .../codegen/templates/EventBasedRecordWriter.java  |  2 +-
 .../exec/store/parquet/ParquetRecordWriter.java    |  2 +-
 .../java/org/apache/drill/exec/sql/TestCTAS.java   | 25 ++++++++++++++++++++++
 3 files changed, 27 insertions(+), 2 deletions(-)

commit 8126927fd6f538000a28fb77e704a37e20abbe6c
Author: Hanifi Gunes <hanifigunes@gmail.com>
Date:   Mon Feb 15 15:16:47 2016 -0800

    DRILL-4275: create TransientStore for short-lived objects; refactor PersistentStore to introduce pagination mechanism

 .../drill/common/collections/ImmutableEntry.java   |  62 +++++
 .../store/hbase/config/HBasePStoreProvider.java    | 157 +----------
 ...{HBasePStore.java => HBasePersistentStore.java} |  44 ++--
 .../hbase/config/HBasePersistentStoreProvider.java | 135 ++++++++++
 .../apache/drill/hbase/TestHBaseTableProvider.java |  23 +-
 ...{MongoPStore.java => MongoPersistentStore.java} |  44 ++--
 ...ider.java => MongoPersistentStoreProvider.java} |  28 +-
 .../src/resources/drill-override-example.conf      |   2 +-
 exec/java-exec/pom.xml                             |   6 +
 .../org/apache/drill/exec/client/DrillClient.java  |   2 +-
 .../apache/drill/exec/compile/CodeCompiler.java    |   3 -
 .../drill/exec/coord/ClusterCoordinator.java       |  18 +-
 .../exec/coord/local/LocalClusterCoordinator.java  |  22 +-
 .../drill/exec/coord/local/MapBackedStore.java     |  85 ++++++
 .../drill/exec/coord/store/BaseTransientStore.java |  83 ++++++
 .../coord/store/CachingTransientStoreFactory.java  |  63 +++++
 .../drill/exec/coord/store/TransientStore.java     | 106 ++++++++
 .../exec/coord/store/TransientStoreConfig.java     |  74 ++++++
 .../store/TransientStoreConfigBuilder.java}        |  43 +--
 .../exec/coord/store/TransientStoreEvent.java      |  71 +++++
 .../store/TransientStoreEventType.java}            |  18 +-
 .../store/TransientStoreFactory.java}              |  29 +-
 .../exec/coord/store/TransientStoreListener.java   |  32 +++
 .../drill/exec/coord/zk/EventDispatcher.java       |  60 +++++
 .../org/apache/drill/exec/coord/zk/PathUtils.java  |  73 ++++++
 .../drill/exec/coord/zk/ZKClusterCoordinator.java  |  57 ++--
 .../drill/exec/coord/zk/ZkEphemeralStore.java      | 145 ++++++++++
 .../zk/ZkTransientStoreFactory.java}               |  40 +--
 .../drill/exec/coord/zk/ZookeeperClient.java       | 238 +++++++++++++++++
 .../drill/exec/exception/StoreException.java       |  42 +++
 .../InstanceSerializer.java}                       |  12 +-
 .../exec/serialization/JacksonSerializer.java      |  59 +++++
 .../drill/exec/serialization/ProtoSerializer.java  |  65 +++++
 .../org/apache/drill/exec/server/Drillbit.java     |  14 +-
 .../apache/drill/exec/server/DrillbitContext.java  |  14 +-
 .../apache/drill/exec/server/RemoteServiceSet.java |   7 +-
 .../drill/exec/server/options/OptionValue.java     |   3 +-
 .../exec/server/options/SystemOptionManager.java   |  34 ++-
 .../drill/exec/server/rest/DrillRestServer.java    |   4 +-
 .../drill/exec/server/rest/StorageResources.java   |   2 +-
 .../exec/server/rest/profile/ProfileResources.java |  97 ++++---
 .../drill/exec/store/StoragePluginRegistry.java    |   4 +-
 .../exec/store/StoragePluginRegistryImpl.java      |  22 +-
 .../sys/{EStore.java => BasePersistentStore.java}  |  22 +-
 .../drill/exec/store/sys/CachingStoreProvider.java |  70 -----
 .../drill/exec/store/sys/OptionIterator.java       |   5 +-
 .../apache/drill/exec/store/sys/PStoreConfig.java  | 166 ------------
 .../drill/exec/store/sys/PersistentStore.java      |  77 ++++++
 .../exec/store/sys/PersistentStoreConfig.java      | 115 ++++++++
 ...StoreProvider.java => PersistentStoreMode.java} |  13 +-
 .../exec/store/sys/PersistentStoreProvider.java    |  42 +++
 ...eRegistry.java => PersistentStoreRegistry.java} |  31 +--
 .../drill/exec/store/sys/StaticDrillTable.java     |   5 +-
 .../drill/exec/store/sys/SystemTablePlugin.java    |   2 +-
 .../drill/exec/store/sys/SystemTableScan.java      |   9 +-
 .../drill/exec/store/sys/ThreadsIterator.java      |   6 +-
 .../drill/exec/store/sys/VersionIterator.java      |   2 -
 .../exec/store/sys/local/LocalPStoreProvider.java  |  83 +-----
 .../exec/store/sys/local/NoWriteLocalPStore.java   |  69 -----
 .../store/sys/serialize/JacksonSerializer.java     |  86 ------
 .../exec/store/sys/serialize/ProtoSerializer.java  |  93 -------
 .../LocalPersistentStore.java}                     | 102 +++-----
 .../store/sys/store/ZookeeperPersistentStore.java  | 135 ++++++++++
 .../provider/BasePersistentStoreProvider.java      |  28 ++
 .../provider/CachingPersistentStoreProvider.java   |  76 ++++++
 .../provider/LocalPersistentStoreProvider.java     |  80 ++++++
 .../provider/ZookeeperPersistentStoreProvider.java |  89 +++++++
 .../drill/exec/store/sys/zk/ZkAbstractStore.java   | 291 ---------------------
 .../apache/drill/exec/store/sys/zk/ZkEStore.java   |  41 ---
 .../apache/drill/exec/store/sys/zk/ZkPStore.java   |  41 ---
 .../drill/exec/store/sys/zk/ZkPStoreProvider.java  |  92 +------
 .../store/NoWriteLocalStore.java}                  |  54 ++--
 .../org/apache/drill/exec/work/WorkManager.java    |   6 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  10 +-
 .../drill/exec/work/foreman/QueryManager.java      |  52 ++--
 .../java-exec/src/main/resources/drill-module.conf |   2 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |   2 +-
 .../test/java/org/apache/drill/PlanningBase.java   |   6 +-
 .../exec/compile/CodeCompilerTestFactory.java      |   8 +-
 .../exec/compile/bytecode/ReplaceMethodInvoke.java |   5 +-
 .../drill/exec/coord/zk/TestEphemeralStore.java    | 144 ++++++++++
 .../drill/exec/coord/zk/TestEventDispatcher.java   |  94 +++++++
 .../apache/drill/exec/coord/zk/TestPathUtils.java  |  92 +++++++
 .../drill/exec/coord/zk/TestZookeeperClient.java   | 201 ++++++++++++++
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   4 +-
 .../exec/physical/impl/join/TestHashJoin.java      |   5 +-
 .../drill/exec/store/sys/PStoreTestUtil.java       |  14 +-
 .../drill/exec/store/sys/TestPStoreProviders.java  |  10 +-
 88 files changed, 3112 insertions(+), 1610 deletions(-)

commit 9a3a5c4ff670a50a49f61f97dd838da59a12f976
Author: Steven Phillips <steven@dremio.com>
Date:   Thu Feb 4 17:43:17 2016 -0800

    DRILL-4382: Remove dependency on drill-logical from vector package

 .../drill/exec/store/hbase/HBaseRecordReader.java  |   4 +-
 .../drill/exec/store/hive/HiveRecordReader.java    |   4 +-
 .../java/org/apache/drill/exec/client/DumpCat.java |   2 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |   8 +-
 .../physical/impl/TopN/PriorityQueueTemplate.java  |   3 +-
 .../exec/physical/impl/WriterRecordBatch.java      |   4 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java |   4 +-
 .../physical/impl/aggregate/HashAggTemplate.java   |   2 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |   4 +-
 .../physical/impl/common/ChainedHashTable.java     |   2 +-
 .../physical/impl/common/HashTableTemplate.java    |   2 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |   9 +-
 .../OrderedPartitionRecordBatch.java               |   4 +-
 .../impl/producer/ProducerConsumerBatch.java       |   5 +-
 .../physical/impl/project/ProjectRecordBatch.java  |  26 +--
 .../physical/impl/union/UnionAllRecordBatch.java   |  14 +-
 .../exec/physical/impl/window/WindowFunction.java  |  14 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |   3 +-
 .../planner/logical/partition/PruneScanRule.java   |   2 +-
 .../drill/exec/record/RecordBatchLoader.java       |   6 +-
 .../org/apache/drill/exec/record/SchemaUtil.java   |   8 +-
 .../org/apache/drill/exec/record/TypedFieldId.java |   0
 .../apache/drill/exec/record/VectorContainer.java  |   4 +-
 .../java/org/apache/drill/exec/schema/Field.java   |  10 --
 .../drill/exec/server/rest/QueryWrapper.java       |   2 +-
 .../drill/exec/store/AbstractRecordReader.java     |   4 +-
 .../org/apache/drill/exec/store/RecordReader.java  |   4 +-
 .../drill/exec/store/avro/AvroRecordReader.java    |  24 ++-
 .../sequencefile/SequenceFileRecordReader.java     |   8 +-
 .../text/compliant/CompliantTextRecordReader.java  |   6 +-
 .../easy/text/compliant/RepeatedVarCharOutput.java |   3 +-
 .../drill/exec/store/mock/MockRecordReader.java    |   5 +-
 .../parquet/columnreaders/ParquetRecordReader.java |  14 +-
 .../exec/store/parquet2/DrillParquetReader.java    |   5 +-
 .../drill/exec/store/pojo/PojoRecordReader.java    |   4 +-
 .../exec/store/text/DrillTextRecordReader.java     |   2 +-
 .../org/apache/drill/exec/util/BatchPrinter.java   |   6 +-
 .../org/apache/drill/exec/util/VectorUtil.java     |   8 +-
 .../drill/exec/vector/complex/FieldIdUtil.java     |  50 +++++-
 .../exec/vector/complex/fn/FieldSelection.java     |   2 +-
 .../java/org/apache/drill/DrillTestWrapper.java    |  20 +--
 .../test/java/org/apache/drill/PlanTestBase.java   |   2 +-
 .../apache/drill/exec/cache/TestWriteToDisk.java   |   8 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |  10 +-
 .../exec/physical/impl/TestSimpleFragmentRun.java  |   4 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |   8 +-
 .../physical/impl/join/TestMergeJoinAdvanced.java  |   1 +
 .../impl/mergereceiver/TestMergingReceiver.java    |   2 +-
 .../record/ExpressionTreeMaterializerTest.java     |   2 +-
 .../drill/exec/record/TestMaterializedField.java   |   2 +-
 .../apache/drill/exec/record/vector/TestLoad.java  |  10 +-
 .../drill/exec/record/vector/TestValueVector.java  |   2 +-
 .../org/apache/drill/exec/server/TestBitRpc.java   |   2 +-
 .../exec/store/parquet/ParquetResultListener.java  |  16 +-
 .../store/parquet/TestParquetPhysicalPlan.java     |   2 +-
 .../drill/jdbc/impl/DrillColumnMetaDataList.java   |   2 +-
 .../drill/jdbc/DrillColumnMetaDataListTest.java    |   4 +-
 exec/vector/pom.xml                                |   5 -
 .../src/main/codegen/includes/vv_imports.ftl       |   1 -
 .../main/codegen/templates/BasicTypeHelper.java    |   6 +-
 .../main/codegen/templates/FixedValueVectors.java  |   4 +-
 .../codegen/templates/NullableValueVectors.java    |   2 +-
 .../codegen/templates/RepeatedValueVectors.java    |   2 +-
 .../src/main/codegen/templates/UnionVector.java    |  23 +--
 .../codegen/templates/VariableLengthVectors.java   |   2 +-
 .../drill/exec/record/MaterializedField.java       | 199 +++++++--------------
 .../apache/drill/exec/vector/BaseValueVector.java  |   5 +-
 .../org/apache/drill/exec/vector/BitVector.java    |   5 +-
 .../org/apache/drill/exec/vector/ObjectVector.java |   3 +-
 .../org/apache/drill/exec/vector/ValueVector.java  |   3 +-
 .../apache/drill/exec/vector/VectorDescriptor.java |   3 +-
 .../org/apache/drill/exec/vector/ZeroVector.java   |   3 +-
 .../vector/complex/AbstractContainerVector.java    |   8 +-
 .../exec/vector/complex/AbstractMapVector.java     |   2 +-
 .../drill/exec/vector/complex/ListVector.java      |  10 +-
 .../drill/exec/vector/complex/MapVector.java       |   8 +-
 .../exec/vector/complex/RepeatedListVector.java    |  13 +-
 .../exec/vector/complex/RepeatedMapVector.java     |  32 +---
 .../exec/vector/complex/impl/PromotableWriter.java |   3 +-
 79 files changed, 297 insertions(+), 433 deletions(-)

commit 0a2518d7cf01a92a27a82e29edac5424bedf31d5
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Feb 2 15:31:47 2016 -0800

    DRILL-4363: Row count based pruning for parquet table used in Limit n query.
    
    Modify two existint unit testcase:
    1) TestPartitionFilter.testMainQueryFalseCondition(): rowCount pruning applied after false condition is transformed into LIMIT 0
    2) TestLimitWithExchanges.testPushLimitPastUnionExchange(): modify the testcase to use Json source, so that it does not mix with PushLimitIntoScanRule.

 .../exec/physical/base/AbstractGroupScan.java      |  21 ++++
 .../apache/drill/exec/physical/base/GroupScan.java |  12 +++
 .../planner/logical/DrillPushLimitToScanRule.java  | 108 +++++++++++++++++++++
 .../drill/exec/planner/logical/DrillRuleSets.java  |   4 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  55 ++++++++++-
 .../java/org/apache/drill/TestPartitionFilter.java |   3 +-
 .../impl/limit/TestLimitWithExchanges.java         |  43 ++++++--
 .../drill/exec/store/TestAffinityCalculator.java   |   4 +-
 8 files changed, 236 insertions(+), 14 deletions(-)

commit 7bfcb40a0ffa49a1ed27e1ff1f57378aa1136bbd
Author: Parth Chandra <parthc@apache.org>
Date:   Thu Dec 17 16:30:42 2015 -0800

    DRILL-4380: Fix performance regression: in creation of FileSelection in ParquetFormatPlugin to not set files if metadata cache is available. This closes #369

 .../apache/drill/exec/store/dfs/FileSelection.java  | 21 ++++++++++++++++++---
 .../exec/store/parquet/ParquetFormatPlugin.java     |  2 +-
 2 files changed, 19 insertions(+), 4 deletions(-)

commit ed2f1ca8ed3c0ebac7e33494db6749851fc2c970
Author: Kamesh <kam.iitkgp@gmail.com>
Date:   Fri Jan 1 14:39:29 2016 +0530

    DRILL-4230: Fixing query failures when mongo collection is empty

 .../org/apache/drill/exec/store/mongo/MongoGroupScan.java  | 14 ++++++++------
 .../apache/drill/exec/store/mongo/MongoTestConstants.java  |  1 +
 .../org/apache/drill/exec/store/mongo/MongoTestSuit.java   |  2 ++
 .../apache/drill/exec/store/mongo/TestMongoQueries.java    |  6 ++++++
 4 files changed, 17 insertions(+), 6 deletions(-)

commit 32da4675e8bf1358b863532daadd2769f380600f
Author: Laurent Goujon <laurent@dremio.com>
Date:   Mon Feb 1 11:06:01 2016 -0800

    DRILL-4331: Fix TestFlattenPlanning.testFlattenPlanningAvoidUnnecessaryProject test for Java8
    
    Test TestFlattenPlanning.testFlattenPlanningAvoidUnnecessaryProject fails with Java8
    because of Map order differences between Java7 and Java8. Test now checks for both
    options.
    
    Closes #351

 .../drill/exec/physical/impl/flatten/TestFlattenPlanning.java      | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit fbb0165def5e23b6b2f6a690d47dc5fbeb2bdbcb
Author: Laurent Goujon <laurent@dremio.com>
Date:   Thu Jan 21 10:16:29 2016 -0800

    DRILL-4295: Removes obsolete protobuf-generated files
    
    These files are obsolete protobuf-generated files, whose definition has been
    removed.
    
    Cleaning src/main/java files before calling protobuf compiler so that obsolete
    files are removed from the directory.
    
    Closes #333

 protocol/pom.xml                                   |  23 +++
 .../apache/drill/exec/proto/beans/RpcFailure.java  | 229 ---------------------
 .../apache/drill/exec/proto/beans/ViewPointer.java | 185 -----------------
 3 files changed, 23 insertions(+), 414 deletions(-)

commit 282dfd762f1bd6628b293c68b20cdff321bd70a3
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Feb 4 13:06:54 2016 -0800

    DRILL-4353: Add HttpSessionListener to release resources of expired/invalidated sessions
    
    Closes #359

 .../apache/drill/exec/server/rest/WebServer.java   | 30 ++++++++++++++++++++--
 .../exec/server/rest/auth/DrillUserPrincipal.java  |  4 +--
 2 files changed, 30 insertions(+), 4 deletions(-)

commit bd14e1ad83034cca447cf29c7ed3125334f03ee3
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Tue Jan 26 16:33:39 2016 -0800

    DRILL-4314: Unit Test Framework can support schema check
    
    Closes #339

 .../java/org/apache/drill/DrillTestWrapper.java    |  51 ++++++++-
 .../test/java/org/apache/drill/TestBuilder.java    |  57 ++++++++++
 .../java/org/apache/drill/TestFrameworkTest.java   |  61 +++++++++++
 .../drill/TestFunctionsWithTypeExpoQueries.java    | 118 +++++++++++++++++++++
 4 files changed, 283 insertions(+), 4 deletions(-)

commit 4e9b82562cf0fc46e759b89857ffb85e129a178b
Author: Akihiko Kusanagi <akusanagi@mapr.com>
Date:   Sun Dec 27 02:02:03 2015 +0900

    DRILL-4225 TestDateFunctions#testToChar fails when the locale is non-English - Changed to use LocalDate, LocalTime and LocalDateTime to build expectedResults instead of string literals
    
    Closes #311

 .../java/org/apache/drill/exec/fn/impl/TestDateFunctions.java    | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 5e57b0e3b44f46aa93bf82f366eb3a3f61990da3
Author: Laurent Goujon <laurent@dremio.com>
Date:   Fri Feb 5 14:38:10 2016 -0800

    DRILL-4361: Let FileSystemPlugin FormatCreator class be overridable by subclasses
    
    Allow for FileSystemPlugin subclasses to customize FormatPlugin by injecting
    their own version of FormatCreator.
    
    This closes #365.

 .../apache/drill/exec/store/dfs/FileSystemPlugin.java    | 16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit 6b1b4d257b89e5579140e75388cd37db5563a6a8
Author: Laurent Goujon <laurent@dremio.com>
Date:   Fri Feb 5 14:06:00 2016 -0800

    DRILL-4359: Adds equals/hashCode methods to EndpointAffinity
    
    Adds equals/hashCode methods to EndpointAffinity to allow for comparison in
    tests.
    
    This closes #363.

 .../drill/exec/physical/EndpointAffinity.java      | 38 +++++++++++++++++++++-
 1 file changed, 37 insertions(+), 1 deletion(-)

commit 83d460cfebbed8d70f4363dd21c95f1636f7472e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Feb 5 10:45:32 2016 -0800

    DRILL-4358: Fix NPE in UserServer.close()
    
    - Also remove untested CustomSerDe's from CustomTunnel.
    - Fix GuavaPatcher copy-paste comment mistake.
    
    closes #362

 .../java/org/apache/drill/hbase/GuavaPatcher.java  |  8 +----
 .../drill/exec/rpc/control/ControlTunnel.java      | 42 ----------------------
 .../org/apache/drill/exec/rpc/user/UserServer.java |  4 ++-
 3 files changed, 4 insertions(+), 50 deletions(-)

commit 2311843ba32cca7cdb401fbf1243a972586ba3f8
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Fri Feb 5 15:36:52 2016 -0800

    DRILL-4362: Exclude log4j for hbase dependency under mapr profile
    
    This closes #366

 contrib/storage-hbase/pom.xml | 6 ++++++
 distribution/pom.xml          | 6 ++++++
 2 files changed, 12 insertions(+)

commit e57c6542c20d2db37837c7a3e72700a8412ae822
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Feb 4 18:09:54 2016 -0800

    DRILL-4297: Enable custom serializers and deserializers when using CustomTunnel
    
    - Adds support for customer serializers and deserializers
    - Adds pre-built serializers and deserializers for Protobuf, Jackson, Protostuff (protobuf) and Protostuff (json)

 .../drill/exec/rpc/control/ControlTunnel.java      | 166 +++++++++++++++++---
 .../apache/drill/exec/rpc/control/Controller.java  |  42 +++++-
 .../drill/exec/rpc/control/ControllerImpl.java     |  17 ++-
 .../exec/rpc/control/CustomHandlerRegistry.java    |  50 +++---
 .../drill/exec/rpc/control/TestCustomTunnel.java   | 167 ++++++++++++++++++++-
 5 files changed, 393 insertions(+), 49 deletions(-)

commit 422c5a83b8e69e4169d3ebc946401248073c8bf8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Sep 14 13:01:57 2015 -0700

    DRILL-3581: Upgrade to Guava 18.0
    
    - Replace Stopwatch constructors with .createStarted() or .createUnstarted()
    - Stop using InputSupplier and Closeables.closeQuietly
    - Clean up quiet closes to log or (preferably) propagate.
    - Add log4j to enforcer exclusions.
    - Update HBaseTestSuite to add patching of Closeables.closeQuietly() and Stopwatch legacy methods. Only needed when running HBaseMiniCluster.
    - Remove log4j from HBase's pom to provide exception logging.
    - Remove log4j from Hive's shaded pom.
    - Update Catastrophic failures to use the same pattern to ensure reporting.
    - Update test framework to avoid trying IPv6 resolution. (This removes 90s pause from HBase startup in my tests)
    
    This closes #361.
    This closes #157.

 .../apache/drill/common/CatastrophicFailure.java   | 51 ++++++++++++
 .../apache/drill/common/config/DrillConfig.java    |  2 +-
 .../drill/common/scanner/ClassPathScanner.java     |  2 +-
 .../common/scanner/persistence/ScanResult.java     |  2 +-
 contrib/storage-hbase/pom.xml                      | 20 +++++
 .../drill/exec/store/hbase/HBaseGroupScan.java     |  2 +-
 .../drill/exec/store/hbase/HBaseRecordReader.java  |  3 +-
 .../java/org/apache/drill/hbase/BaseHBaseTest.java | 10 ++-
 .../java/org/apache/drill/hbase/GuavaPatcher.java  | 96 ++++++++++++++++++++++
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |  2 +
 .../storage-hbase/src/test/resources/logback.xml   |  4 +-
 .../exec/store/hive/HiveMetadataProvider.java      |  6 +-
 contrib/storage-hive/hive-exec-shade/pom.xml       |  6 ++
 .../drill/exec/store/mongo/MongoGroupScan.java     |  2 +-
 .../drill/exec/store/mongo/MongoRecordReader.java  |  3 +-
 exec/java-exec/pom.xml                             |  1 +
 .../drill/exec/client/PrintingResultsListener.java |  2 +-
 .../apache/drill/exec/client/QuerySubmitter.java   |  2 +-
 .../expr/fn/FunctionImplementationRegistry.java    |  2 +-
 .../drill/exec/expr/fn/FunctionInitializer.java    |  4 +-
 .../drill/exec/physical/impl/ImplCreator.java      |  3 +-
 .../physical/impl/TopN/PriorityQueueTemplate.java  |  6 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  9 +-
 .../exec/physical/impl/sort/SortTemplate.java      |  3 +-
 .../drill/exec/physical/impl/xsort/BatchGroup.java |  6 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |  3 +-
 .../exec/physical/impl/xsort/MSortTemplate.java    |  3 +-
 .../impl/xsort/SingleBatchSorterTemplate.java      |  3 +-
 .../planner/logical/partition/PruneScanRule.java   |  6 +-
 .../drill/exec/rpc/control/ControlConnection.java  |  7 --
 .../apache/drill/exec/rpc/control/Controller.java  |  4 +-
 .../drill/exec/rpc/control/ControllerImpl.java     | 15 +++-
 .../drill/exec/rpc/data/DataClientConnection.java  |  4 -
 .../drill/exec/rpc/data/DataConnectionCreator.java | 10 +--
 .../org/apache/drill/exec/rpc/user/UserServer.java |  7 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  6 +-
 .../apache/drill/exec/service/ServiceEngine.java   | 12 +--
 .../exec/store/StoragePluginRegistryImpl.java      |  3 +-
 .../org/apache/drill/exec/store/TimedRunnable.java |  2 +-
 .../drill/exec/store/avro/AvroRecordReader.java    |  2 +-
 .../sequencefile/SequenceFileRecordReader.java     |  3 +-
 .../apache/drill/exec/store/parquet/Metadata.java  |  6 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  2 +-
 .../store/parquet/ParquetScanBatchCreator.java     |  2 +-
 .../store/parquet/columnreaders/PageReader.java    |  6 +-
 .../drill/exec/store/schedule/AffinityCreator.java |  2 +-
 .../exec/store/schedule/AssignmentCreator.java     |  9 +-
 .../drill/exec/store/schedule/BlockMapBuilder.java |  6 +-
 .../exec/store/schedule/OldAssignmentCreator.java  |  2 +-
 .../drill/exec/store/sys/VersionIterator.java      |  2 +-
 .../exec/work/batch/SpoolingRawBatchBuffer.java    |  6 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  6 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |  7 +-
 .../java/org/apache/drill/exec/RunRootExec.java    |  2 +-
 .../org/apache/drill/exec/server/TestBitRpc.java   |  2 +-
 .../store/parquet/ParquetRecordReaderTest.java     |  5 +-
 .../store/parquet/TestParquetPhysicalPlan.java     |  3 +-
 .../org/apache/drill/exec/work/batch/FileTest.java |  3 +-
 exec/jdbc-all/pom.xml                              |  4 +
 .../apache/drill/jdbc/test/JdbcTestActionBase.java |  2 +-
 .../apache/drill/jdbc/test/JdbcTestQueryBase.java  |  2 +-
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  |  4 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |  2 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |  2 +-
 pom.xml                                            |  7 +-
 .../java/org/apache/drill/fmpp/mojo/FMPPMojo.java  |  3 +-
 66 files changed, 295 insertions(+), 141 deletions(-)

commit dea0d8bcdaaa148e9ead0e01cb4520d75471866d
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Feb 2 19:30:47 2016 -0800

    DRILL-3581: Upgrade Jackson to version 2.7.1

 common/pom.xml                                     |  4 +-
 exec/java-exec/pom.xml                             |  4 +-
 .../apache/drill/exec/store/parquet/Metadata.java  | 70 ++++++++++++----------
 exec/jdbc/pom.xml                                  |  4 +-
 logical/pom.xml                                    |  4 +-
 pom.xml                                            |  1 +
 6 files changed, 47 insertions(+), 40 deletions(-)

commit d27127c94d5c08306697a5627a1bac5f144abb22
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Feb 2 19:30:31 2016 -0800

    DRILL-3581: Upgrade HPPC to 0.7.1

 exec/java-exec/pom.xml                             |  2 +-
 .../exec/compile/bytecode/InstructionModifier.java | 10 +++----
 .../exec/compile/bytecode/ValueHolderIden.java     |  6 ++--
 .../apache/drill/exec/ops/BufferManagerImpl.java   | 11 +++----
 .../org/apache/drill/exec/ops/OperatorStats.java   | 20 ++++++-------
 .../drill/exec/ops/ViewExpansionContext.java       | 13 ++++----
 .../physical/impl/flatten/FlattenRecordBatch.java  |  7 ++---
 .../physical/impl/project/ProjectRecordBatch.java  |  7 ++---
 .../drill/exec/planner/physical/PrelUtil.java      | 35 ++++++++++------------
 .../exec/rpc/control/CustomHandlerRegistry.java    |  4 +--
 .../drill/exec/store/schedule/AffinityCreator.java |  4 +--
 .../exec/store/schedule/EndpointByteMapImpl.java   |  4 +--
 .../drill/exec/work/foreman/QueryManager.java      | 22 +++++++-------
 exec/vector/pom.xml                                |  2 +-
 .../drill/exec/expr/fn/impl/DateUtility.java       |  4 +--
 15 files changed, 72 insertions(+), 79 deletions(-)

commit af98e93f09f13e82881637a68f40bbb0bc92586c
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Fri Jan 29 13:20:12 2016 -0800

    DRILL-4323: Handle skipAll query when use HiveDrillNativeParquetScan
    
    Do not add Project when no column is needed to be read out from Scan (e.g., select count(*) from hive.table)

 .../ConvertHiveParquetScanToDrillParquetScan.java        |  9 ++++++---
 .../java/org/apache/drill/exec/hive/TestHiveStorage.java |  9 ++++++++-
 .../drill/exec/hive/TestInfoSchemaOnHiveStorage.java     |  1 +
 .../drill/exec/store/hive/HiveTestDataGenerator.java     | 16 ++++++++++++++++
 4 files changed, 31 insertions(+), 4 deletions(-)

commit ca53c2440fb33e31220d11aee297fee67fc6bd6a
Author: adeneche <adeneche@gmail.com>
Date:   Wed Feb 3 15:42:22 2016 -0800

    DRILL-4349: parquet reader returns wrong results when reading a nullable column that starts with a large number of nulls (>30k)

 .../store/parquet/columnreaders/NullableColumnReader.java |   2 +-
 .../drill/exec/store/parquet2/TestDrillParquetReader.java |  13 +++++++++++++
 exec/java-exec/src/test/resources/parquet2/4349.csv.gz    | Bin 0 -> 202 bytes
 3 files changed, 14 insertions(+), 1 deletion(-)

commit cb1a0236fa10c031a7b3ead0906c0e135a5f1f3f
Author: Hanifi Gunes <hanifigunes@gmail.com>
Date:   Thu Feb 4 12:07:36 2016 -0800

    DRILL-4235: record new state STARTING when state transitions to STARTING from ENQUEUED

 .../src/main/java/org/apache/drill/exec/work/foreman/Foreman.java       | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6a36a704bc139aa05deb3919e792f21b3fcd7794
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Feb 2 13:13:39 2016 -0800

    DRILL-4339:  Reverse the function signature change made to AbstractRecordReader.setColumns() in DRILL-4279.

 .../main/java/org/apache/drill/exec/store/AbstractRecordReader.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1b96174b1e5bafb13a873dd79f03467802d7c929
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Feb 1 13:03:23 2016 -0800

    DRILL-4128: Fix NPE when calling getString on a JDBC ResultSet when the type is not varchar

 .../exec/vector/accessor/AbstractSqlAccessor.java  |  3 +-
 .../jdbc/ResultSetGetMethodConversionsTest.java    | 36 ++++++++++++++++++++++
 2 files changed, 38 insertions(+), 1 deletion(-)

commit 9ff947288f3214fe8e525e001d89a4f91b8b0728
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Jan 19 16:47:08 2016 -0800

    DRILL-4279: Improve performance for skipAll query against Text/JSON/Parquet table.

 .../org/apache/drill/exec/store/hive/HiveScan.java |   3 +-
 .../apache/drill/exec/TestHiveProjectPushDown.java |   8 +
 .../drill/exec/planner/logical/ColumnList.java     | 200 ---------------------
 .../drill/exec/planner/logical/DrillScanRel.java   |   9 +-
 .../drill/exec/store/AbstractRecordReader.java     |  38 +++-
 .../exec/store/easy/json/JSONRecordReader.java     |   6 +
 .../text/compliant/CompliantTextRecordReader.java  |   6 +-
 .../parquet/columnreaders/ParquetRecordReader.java |  11 ++
 .../exec/store/text/DrillTextRecordReader.java     |   5 +
 .../java/org/apache/drill/TestProjectPushDown.java |  55 ++++++
 .../drill/exec/store/avro/AvroFormatTest.java      |   9 +
 11 files changed, 132 insertions(+), 218 deletions(-)

commit 9b4008dc384bc5e0b9af9a048bfc93c5bcb902b2
Author: Jinfeng Ni <jni@apache.org>
Date:   Fri Jan 8 10:28:53 2016 -0800

    DRILL-2517: Move directory-based partition pruning to Calcite logical planning phase.
    
    1) Make directory-based pruning rule both work in calcite logical and drill logical planning phase.
    
    2) Only apply directory-based pruning in logical phase when there is no metadata cache.
    
    3) Make FileSelection constructor public, since FileSelection.create() would modify selectionRoot.

 .../exec/planner/sql/HivePartitionDescriptor.java  |  56 ++--
 .../logical/HivePushPartitionFilterIntoScan.java   |  15 +-
 .../planner/FileSystemPartitionDescriptor.java     |  81 ++++-
 .../exec/planner/ParquetPartitionDescriptor.java   |  17 +-
 .../drill/exec/planner/PartitionDescriptor.java    |  12 +-
 .../planner/logical/DrillPushProjIntoScan.java     |   8 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |  21 +-
 .../logical/partition/ParquetPruneScanRule.java    |  19 +-
 .../planner/logical/partition/PruneScanRule.java   | 346 +++++----------------
 .../planner/sql/handlers/DefaultSqlHandler.java    |   9 +
 .../apache/drill/exec/store/dfs/FileSelection.java |   6 +-
 .../drill/exec/store/dfs/FormatSelection.java      |   4 +
 .../exec/store/parquet/ParquetFileSelection.java   |   4 +
 .../java/org/apache/drill/TestExampleQueries.java  |   4 -
 .../java/org/apache/drill/TestPartitionFilter.java |  16 +
 .../1995/Q1/orders_95_q1.parquet                   | Bin 0 -> 2180 bytes
 .../parquetWithBadFormat/1996/Q1/badFormat.parquet |   1 +
 17 files changed, 281 insertions(+), 338 deletions(-)

commit c7dfba2e62fc6b063e953bd9cb1fc5b2903edc79
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Nov 10 22:26:26 2015 -0800

    DRILL-2517: (Prototype from Mehant) Move directory based partition pruning to logical phase.

 .../logical/HivePushPartitionFilterIntoScan.java   |   9 +-
 .../planner/FileSystemPartitionDescriptor.java     |  27 ++-
 .../drill/exec/planner/logical/DrillTable.java     |   8 +-
 .../logical/partition/ParquetPruneScanRule.java    |   9 +-
 .../planner/logical/partition/PruneScanRule.java   | 268 ++++++++++++++++++---
 .../apache/drill/exec/store/dfs/FileSelection.java |   4 +
 .../java/org/apache/drill/TestExampleQueries.java  |   7 +-
 7 files changed, 285 insertions(+), 47 deletions(-)

commit 09de31edfa74e09a9a79b9a0fc995b33d70f3935
Author: AdamPD <adam@pharmadata.net.au>
Date:   Mon Jan 18 10:40:54 2016 -0800

    DRILL-2517: (Prototype from Adam) Apply directory-based pruning before reading file.

 .../drill/exec/planner/logical/DrillRuleSets.java      |  2 +-
 .../apache/drill/exec/planner/logical/DrillTable.java  |  4 ++++
 .../exec/planner/logical/partition/PruneScanRule.java  | 18 ++++++++++++------
 3 files changed, 17 insertions(+), 7 deletions(-)

commit 03197d0f2c665b7671b366332e1b4ebc2f271bd9
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Jan 28 14:54:05 2016 -0800

    DRILL-4328: Fix backward compatibility regression caused by DRILL-4198

 .../drill/exec/store/AbstractStoragePlugin.java    | 25 ++++++++++++++++++++--
 .../org/apache/drill/exec/store/StoragePlugin.java |  8 +------
 .../exec/store/StoragePluginRegistryImpl.java      | 22 +++++++++++++------
 3 files changed, 39 insertions(+), 16 deletions(-)

commit 576271d5268fdf88373a702818368c527cfbf7cb
Author: Parth Chandra <parthc@apache.org>
Date:   Tue Jan 26 11:55:59 2016 -0800

    DRILL-4313: CPP client - Improve method to pick random drillbit from a cluster. Update build for protobuf changes. This closes #346

 .../native/client/src/clientlib/drillClient.cpp    |   1 +
 .../client/src/clientlib/drillClientImpl.cpp       |  18 +-
 .../client/src/clientlib/drillClientImpl.hpp       |   4 +-
 .../client/src/include/drill/protobuf/Types.pb.h   |  45 ++-
 .../native/client/src/protobuf/BitControl.pb.cc    | 365 ++++++++++++++++++---
 contrib/native/client/src/protobuf/BitControl.pb.h | 200 ++++++++++-
 contrib/native/client/src/protobuf/BitData.pb.cc   |  52 +--
 contrib/native/client/src/protobuf/BitData.pb.h    |  34 +-
 contrib/native/client/src/protobuf/Types.pb.cc     |  96 ++++--
 .../native/client/src/protobuf/UserBitShared.pb.cc | 144 ++++----
 .../native/client/src/protobuf/UserBitShared.pb.h  |  12 +-
 11 files changed, 744 insertions(+), 227 deletions(-)

commit 1b51850f31c02f0a7fa77f0258a83081a9d9e826
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Jan 28 11:18:43 2016 -0800

    DRILL-4322: Add underlying exception message when IOException causes DROP TABLE failure
    
    This closes #344

 .../org/apache/drill/exec/store/dfs/WorkspaceSchemaFactory.java   | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 9fa7b28c299b9d2dc4fda49271fe929db62f5e49
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Jan 28 10:01:30 2016 -0800

    DRILL-2653: Improve web UI experience when there is an error in a storage plugin configuration
    
    Fixed success message, made the error messages red
    
    This closes #343

 .../src/main/resources/rest/storage/update.ftl      | 21 +++++++++++++++++++--
 1 file changed, 19 insertions(+), 2 deletions(-)

commit a5157190b7f634923046d91e7afbaa7e293dc4ac
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Jan 24 09:59:12 2016 -0800

    DRILL-4291: Fix Missing classes when trying to query varchar[] using JDBC
    
    - Create a new simplified version of the Hadoop Text class that doesn't include massive dependencies.
    - Update Vectors to use new Text class.
    - Update the jdbc-all module to have a test which also includes complex types.
    - Clean up exclusions in Jdbc jar file to reduce file size.
    - Add an enforcer rule that ensures the adbc-all jar exclusions are maintained in the future.
    
    This closes #336.

 .../src/main/codegen/includes/vv_imports.ftl       |   2 +-
 .../Decimal/DecimalAggrTypeFunctions1.java         |  10 +-
 .../java/org/apache/drill/DrillTestWrapper.java    |  29 +-
 .../test/java/org/apache/drill/TestBuilder.java    |  20 +-
 .../drill/exec/fn/interp/TestConstantFolding.java  |  16 +-
 .../exec/planner/TestDirectoryExplorerUDFs.java    |   9 +-
 .../store/parquet/ParquetRecordReaderTest.java     |  15 +-
 exec/jdbc-all/pom.xml                              | 128 ++---
 .../org/apache/drill/jdbc/ITTestShadedJar.java     |  24 +-
 exec/jdbc-all/src/test/resources/types.json        |  25 +
 .../src/main/codegen/includes/vv_imports.ftl       |   2 +-
 .../main/codegen/templates/HolderReaderImpl.java   |   1 -
 .../drill/exec/util/JsonStringArrayList.java       |   6 -
 .../apache/drill/exec/util/JsonStringHashMap.java  |   6 -
 .../main/java/org/apache/drill/exec/util/Text.java | 621 +++++++++++++++++++++
 .../org/apache/drill/exec/util/TextSerializer.java |  39 --
 16 files changed, 768 insertions(+), 185 deletions(-)

commit d70cf36ea3e108a2fe96bf6f1e2b71eace8b4adf
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Tue Jan 26 16:52:25 2016 -0800

    DRILL-4196 Fix to stop returning no more data when output batch is full during merge.

 .../drill/exec/physical/impl/join/JoinStatus.java  | 12 ++++++++
 .../exec/physical/impl/join/JoinTemplate.java      |  5 +++-
 .../physical/impl/join/TestMergeJoinAdvanced.java  | 34 ++++++++++++++++++++++
 3 files changed, 50 insertions(+), 1 deletion(-)

commit 3d0b4b02521f12e3871d6060c8f9bfce73b218a0
Author: adeneche <adeneche@gmail.com>
Date:   Mon Jan 11 14:47:32 2016 -0800

    DRILL-4270: Create a separate WindowFramer that supports the FRAME clause
    
    separate DefaultFrameTemplate into 2 implementations: one that supports custom frames (aggregations, first_value, last_value) and one that doesn't
    
    this closes #322

 .../physical/impl/window/FrameSupportTemplate.java | 316 +++++++++++++++++++++
 ...meTemplate.java => NoFrameSupportTemplate.java} | 116 ++------
 .../impl/window/WindowFrameRecordBatch.java        | 153 ++++++----
 .../exec/physical/impl/window/WindowFramer.java    |   3 +-
 .../exec/physical/impl/window/WindowFunction.java  |  53 +++-
 .../exec/physical/impl/window/TestWindowFrame.java |   8 +
 6 files changed, 479 insertions(+), 170 deletions(-)

commit 2f0e3f27e630d5ac15cdaef808564e01708c3c55
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Sun Jan 3 22:08:21 2016 -0800

    DRILL-4190 Don't hold on to batches from left side of merge join.

 .../exec/physical/impl/join/MergeJoinBatch.java    |   2 +-
 .../apache/drill/exec/record/RecordIterator.java   |  90 ++++--
 .../drill/exec/record/TestRecordIterator.java      | 346 +++++++++++++++++++++
 .../test/resources/record/test_recorditerator.json |  71 +++++
 4 files changed, 477 insertions(+), 32 deletions(-)

commit 717adcbb8bd076224efb564feb3ac932a6b79fd9
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Thu Dec 17 14:58:30 2015 -0800

    DRILL-4182 Set type to LATE when values are nulls.

 .../src/main/java/org/apache/drill/exec/record/SchemaUtil.java          | 2 ++
 .../org/apache/drill/exec/physical/impl/TopN/TestTopNSchemaChanges.java | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 34bf45f13c1fd23628ef39fb510df2b4f5750b3b
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Wed Dec 16 17:19:13 2015 -0800

    DRILL-4182 Take care of null comparisions.

 .../java/org/apache/drill/exec/record/SchemaUtil.java    |  6 ++++--
 .../exec/physical/impl/TopN/TestTopNSchemaChanges.java   | 16 +++++++++-------
 exec/vector/src/main/codegen/templates/UnionVector.java  |  6 ++++--
 3 files changed, 17 insertions(+), 11 deletions(-)

commit 88ea7a25a3ed6d04f1a12ce98d5211082dc18211
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Jan 11 15:01:02 2016 -0800

    DRILL-4256: Create HiveConf per HiveStoragePlugin and reuse it wherever needed.
    
    Creating new instances of HiveConf() are very costly, we should avoid creating new ones as much as possible.
    Also get rid of hiveConfigOverride and use HiveConf in HiveStoregPlugin wherever we need the HiveConf.

 .../exec/planner/sql/HivePartitionDescriptor.java  |  2 +-
 .../ConvertHiveParquetScanToDrillParquetScan.java  | 21 ++++++---
 .../exec/store/hive/DrillHiveMetaStoreClient.java  | 54 +++++++++-------------
 .../store/hive/HiveDrillNativeParquetSubScan.java  | 20 +++++---
 .../hive/HiveDrillNativeScanBatchCreator.java      | 15 +-----
 .../exec/store/hive/HiveMetadataProvider.java      |  9 ++--
 .../drill/exec/store/hive/HiveReadEntry.java       | 10 +---
 .../drill/exec/store/hive/HiveRecordReader.java    | 14 +++---
 .../org/apache/drill/exec/store/hive/HiveScan.java | 11 +++--
 .../exec/store/hive/HiveScanBatchCreator.java      | 10 ++--
 .../drill/exec/store/hive/HiveStoragePlugin.java   | 25 +++++++++-
 .../apache/drill/exec/store/hive/HiveSubScan.java  | 37 +++++++++++++--
 .../drill/exec/store/hive/HiveUtilities.java       | 24 ++--------
 .../exec/store/hive/schema/HiveSchemaFactory.java  | 22 ++-------
 14 files changed, 146 insertions(+), 128 deletions(-)

commit 9cc7e116fe6e315eeb8c7bc4ca2cfcb2b8ad7556
Author: Laurent Goujon <laurent@dremio.com>
Date:   Tue Jan 19 17:03:27 2016 -0800

    DRILL-4288: Removes obsolete protobuf-generated files
    
    This closes #332.

 .../drill/exec/proto/BitControlHandshake.java      | 206 ---------
 .../org/apache/drill/exec/proto/BitStatus.java     | 174 --------
 .../apache/drill/exec/proto/FragmentStatus.java    | 187 ---------
 .../org/apache/drill/exec/proto/PlanFragment.java  | 466 ---------------------
 protocol/org/apache/drill/exec/proto/RpcType.java  |  65 ---
 .../apache/drill/exec/proto/WorkQueueStatus.java   | 206 ---------
 6 files changed, 1304 deletions(-)

commit 06e93e61d05e0499d980d2dd514e105ba53fa790
Author: Laurent Goujon <laurent@dremio.com>
Date:   Mon Jan 18 17:28:39 2016 -0800

    DRILL-4285: Bumps FMPP version to 0.9.15/FreeMarker to 2.3.21
    
    FMPP 0.9.14 pom.xml specifies a version range for FreeMarker dependency,
    which should be okay except that latest SNAPSHOT version doesn't resolve
    anymore.
    FMPP 0.9.15 now uses a fixed stable version (2.3.21).
    
    This closes #330.

 contrib/storage-hive/core/pom.xml | 7 -------
 contrib/storage-kudu/pom.xml      | 7 -------
 exec/java-exec/pom.xml            | 9 +--------
 exec/vector/pom.xml               | 7 -------
 pom.xml                           | 3 ++-
 tools/fmpp/pom.xml                | 5 +++++
 6 files changed, 8 insertions(+), 30 deletions(-)

commit a0ae83c2f6c35f536bf16819fc2f2c6b0469cc6c
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Jan 10 20:08:03 2016 -0800

    DRILL-4246: Fix Allocator concurrency bug and improve error detection
    
    - Rename the internal DrillBuf field to udle to better express its purpose.
    - Rename AllocatorManager to AllocationManager to better express its purpose.
    - Address situation where dangling ledger could be transferred into while it was being released released by protecting association and release inside the AllocationManager.
    - Add allocator assertions to ensure allocator operations are done while the allocator is open.
    - Simplify AllocationManager locking model.
    - Exclude HDFS reference to netty-all
    - Improve debugging messages for allocators (and fix debug message bugs)
    
    This closes #323.

 exec/java-exec/pom.xml                             |   6 +
 .../src/main/java/io/netty/buffer/DrillBuf.java    | 135 ++++++--------
 .../io/netty/buffer/UnsafeDirectLittleEndian.java  |   8 +
 ...llocatorManager.java => AllocationManager.java} | 206 ++++++++++++++-------
 .../apache/drill/exec/memory/BaseAllocator.java    |  78 ++++++--
 .../apache/drill/exec/memory/BufferAllocator.java  |   5 +
 .../java/org/apache/drill/exec/memory/README.md    |  22 +--
 7 files changed, 294 insertions(+), 166 deletions(-)

commit 664d34e3c64c3b52e1ed6347cab9ea27a4722a28
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Jan 15 11:45:29 2016 -0800

    DRILL-4277: Fix for JdbcPrel serialization issue.
    
    This closes #326.

 .../src/main/java/org/apache/drill/exec/store/jdbc/JdbcPrel.java | 3 ++-
 .../apache/drill/exec/store/jdbc/TestJdbcPluginWithDerbyIT.java  | 9 +++++++++
 contrib/storage-jdbc/src/test/resources/jdbcmulti/file1.json     | 1 +
 contrib/storage-jdbc/src/test/resources/jdbcmulti/file2.json     | 1 +
 4 files changed, 13 insertions(+), 1 deletion(-)

commit 43414e1e2731c85a52febaaedebfa2f392dd6d2f
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Jan 18 17:42:33 2016 -0800

    DRILL-4278: Heap memory leak issues
    
    - Fix issue where WorkspaceConfig was not returning consistent hashCode()s for equal objects.
    - Fix issue where we were misusing recycler causing object reference leaks
    
    This closes #331.

 .../exec/store/dfs/NamedFormatPluginConfig.java    |  31 ++++++
 .../drill/exec/store/dfs/WorkspaceConfig.java      |  43 ++++++--
 .../exec/store/easy/json/JSONFormatPlugin.java     |  26 +++--
 .../apache/drill/common/SerializedExecutor.java    |  23 +---
 .../java/org/apache/drill/exec/rpc/RpcBus.java     | 118 +++++++--------------
 .../common/logical/FormatPluginConfigBase.java     |   3 +
 6 files changed, 128 insertions(+), 116 deletions(-)

commit 412d08f9ffd28b877eab2130f2b3f907c5cd43ca
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Jan 15 15:53:13 2016 -0800

    DRILL-4131: Move RPC allocators under Drill's root allocator & accounting
    
    - Allow settings to be set to ensure RPC reservation and maximums (currently unset by default). Defaults set in drill-module.conf
    - Add new metrics to report RPC layer memory consumption.
    - Check for memory leaks from RPC layer at shutdown.
    - Add a multi-Drillbit single JVM safe DrillMetrics.register()
    - Remove invalid verifyAllocator checks while RPC connection (and PING/PONG) are maintained
    
    This closes #327.

 .../apache/drill/exec/metrics/DrillMetrics.java    |  8 +++
 .../rpc/control/ConnectionManagerRegistry.java     |  7 +-
 .../drill/exec/rpc/control/ControlClient.java      |  5 +-
 .../exec/rpc/control/ControlConnectionManager.java |  8 ++-
 .../drill/exec/rpc/control/ControllerImpl.java     |  6 +-
 .../drill/exec/rpc/data/DataConnectionCreator.java | 10 ++-
 .../apache/drill/exec/service/ServiceEngine.java   | 80 ++++++++++++++++++++--
 .../java-exec/src/main/resources/drill-module.conf | 16 ++++-
 .../test/java/org/apache/drill/BaseTestQuery.java  | 20 ------
 .../test/java/org/apache/drill/TestTpchLimit0.java |  6 --
 .../io/netty/buffer/PooledByteBufAllocatorL.java   |  6 +-
 .../apache/drill/exec/memory/BaseAllocator.java    |  8 +--
 12 files changed, 128 insertions(+), 52 deletions(-)

commit 8a28131e5bc3c51d1044f964968a319faf78dd8f
Author: adeneche <adeneche@gmail.com>
Date:   Wed Jan 6 14:50:38 2016 -0800

    DRILL-3845: UnorderedReceiver shouldn't terminate until it receives a final batch
    
    MergingRecordBatch doesn't wait for last batch when it's an early termination
    
    this closes #319

 .../drill/exec/physical/impl/mergereceiver/MergingRecordBatch.java | 7 ++++---
 .../exec/physical/impl/partitionsender/PartitionerTemplate.java    | 6 +++---
 2 files changed, 7 insertions(+), 6 deletions(-)

commit 9dad9da6d012c1ad913ebf99755dc6cb8ae1e3bb
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Sun Sep 13 00:44:56 2015 -0700

    DRILL-3201: Support security for access through Web UI

 .../src/resources/drill-override-example.conf      |   1 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   1 +
 .../drill/exec/server/rest/DrillRestServer.java    |  29 ++++++
 .../apache/drill/exec/server/rest/DrillRoot.java   |   9 +-
 .../exec/server/rest/LogInLogOutResources.java     |  91 ++++++++++++++++++
 .../drill/exec/server/rest/MetricsResources.java   |   9 +-
 .../drill/exec/server/rest/QueryResources.java     |  28 +++---
 .../drill/exec/server/rest/QueryWrapper.java       |  33 +++----
 .../drill/exec/server/rest/StatusResources.java    |  19 +++-
 .../drill/exec/server/rest/StorageResources.java   |  20 ++--
 .../drill/exec/server/rest/ThreadsResources.java   |   9 +-
 .../exec/server/rest/ViewableWithPermissions.java  |  91 ++++++++++++++++++
 .../apache/drill/exec/server/rest/WebServer.java   |  67 +++++++++++++-
 .../rest/auth/AbstractDrillLoginService.java       |  95 +++++++++++++++++++
 .../server/rest/auth/AnonymousAuthenticator.java   |  84 +++++++++++++++++
 .../server/rest/auth/AnonymousLoginService.java    |  62 +++++++++++++
 .../exec/server/rest/auth/AuthDynamicFeature.java  | 102 +++++++++++++++++++++
 .../server/rest/auth/DrillRestLoginService.java    |  88 ++++++++++++++++++
 .../exec/server/rest/auth/DrillUserPrincipal.java  |  93 +++++++++++++++++++
 .../exec/server/rest/profile/ProfileResources.java |  77 +++++++++++-----
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 exec/java-exec/src/main/resources/rest/generic.ftl |  14 +++
 exec/java-exec/src/main/resources/rest/login.ftl   |  37 ++++++++
 .../rest/static/img/apache-drill-logo.png          | Bin 0 -> 29802 bytes
 24 files changed, 979 insertions(+), 81 deletions(-)

commit 392d1f7e9398fb1bee8f67b0d49a82436c3145fb
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Nov 19 18:20:03 2015 -0800

    DRILL-4241: Add Single Tablet Writer
    
    - Also move to a test bootstrap
    - Update to the latest kudu and Drill
    - Add plugin to Drill distribution
    - Checkstyle and directory cleanup
    
    This closes #314.

 contrib/pom.xml                                    |   1 +
 contrib/storage-kudu/pom.xml                       | 114 +++++++++++---
 contrib/storage-kudu/src/main/codegen/config.fmpp  |  23 +++
 .../main/codegen/templates/KuduRecordWriter.java   | 175 +++++++++++++++++++++
 .../drill/exec/store/kudu/KuduRecordReader.java    | 119 +++++++-------
 .../exec/store/kudu/KuduRecordWriterImpl.java      | 174 ++++++++++++++++++++
 .../drill/exec/store/kudu/KuduSchemaFactory.java   |  21 +++
 .../drill/exec/store/kudu/KuduStoragePlugin.java   |  13 +-
 .../apache/drill/exec/store/kudu/KuduWriter.java   |  79 ++++++++++
 .../exec/store/kudu/KuduWriterBatchCreator.java    |  43 +++++
 .../main/resources/bootstrap-storage-plugins.json  |   4 +-
 .../src/main/resources/checkstyle-config.xml       |  42 -----
 .../src/main/resources/checkstyle-suppressions.xml |  19 ---
 .../apache/drill/store/kudu/TestKuduConnect.java   |   9 +-
 .../apache/drill/store/kudu/TestKuduPlugin.java    |  10 ++
 .../test/resources/bootstrap-storage-plugins.json  |   9 ++
 distribution/pom.xml                               |   5 +
 distribution/src/assemble/bin.xml                  |   1 +
 18 files changed, 706 insertions(+), 155 deletions(-)

commit 3694909662d62772ea146c073bdb2d6f10e4150e
Author: Todd Lipcon <todd@cloudera.com>
Date:   Thu Nov 19 16:19:45 2015 -0800

    DRILL-4241: Timestamps should divide by 1000 in reader

 .../main/java/org/apache/drill/exec/store/kudu/KuduRecordReader.java  | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 54cf72724ab365831f4023b9ef14cd683f7f3561
Author: Steven Phillips <smp@apache.org>
Date:   Thu Nov 19 16:54:41 2015 -0800

    DRILL-4241: Add wait stats and estimated row count in RecordReader

 .../drill/exec/store/kudu/KuduGroupScan.java       |  4 +++-
 .../drill/exec/store/kudu/KuduRecordReader.java    | 23 +++++++++++++++++-----
 2 files changed, 21 insertions(+), 6 deletions(-)

commit 4ba515539e1715e08c953d56d5648578d4a8ba29
Author: Todd Lipcon <todd@cloudera.com>
Date:   Thu Nov 19 16:15:36 2015 -0800

    DRILL-4241: Rewrite RecordReader to support NULLs and be less Java-like

 .../drill/exec/store/kudu/KuduRecordReader.java    | 353 +++++++++------------
 1 file changed, 152 insertions(+), 201 deletions(-)

commit 6a406aa18481560b47716496307d9a6f59a7586b
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Thu Nov 19 16:16:17 2015 -0800

    DRILL-4241: Create table with multiple tablets in kudu test.

 .../apache/drill/store/kudu/TestKuduConnect.java   | 39 +++++++++++++++++-----
 1 file changed, 30 insertions(+), 9 deletions(-)

commit 4f3f401e4c299b007218e5231ad43f9977f01dd2
Author: Steven Phillips <smp@apache.org>
Date:   Thu Nov 19 16:00:40 2015 -0800

    DRILL-4241: Add parallelization and assignment

 .../drill/exec/store/kudu/KuduGroupScan.java       | 99 ++++++++++++++++++++--
 .../drill/exec/store/kudu/KuduRecordReader.java    |  6 +-
 .../apache/drill/exec/store/kudu/KuduSubScan.java  | 16 +++-
 3 files changed, 114 insertions(+), 7 deletions(-)

commit b1d9d791c5fac028ab4cb54870dc0f7e2d6f5177
Author: Todd Lipcon <todd@cloudera.com>
Date:   Thu Nov 19 15:00:00 2015 -0800

    DRILL-4241: Improve record reader and type mappings

 .../drill/exec/store/kudu/KuduRecordReader.java    | 319 ++++++++++++++++-----
 1 file changed, 250 insertions(+), 69 deletions(-)

commit 697579baca1755e3c7185d0ed11dd0d3073ca253
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Nov 19 14:21:14 2015 -0800

    DRILL-4241: Add table metadata and DROP table support

 .../drill/exec/store/kudu/DrillKuduTable.java      | 48 +++++++++++++++++++++-
 .../drill/exec/store/kudu/KuduSchemaFactory.java   | 30 +++++++++++++-
 .../apache/drill/store/kudu/TestKuduConnect.java   |  8 ++--
 .../apache/drill/store/kudu/TestKuduPlugin.java    |  7 ++++
 .../drill/store/kudu/TestKuduTableProvider.java    | 23 -----------
 5 files changed, 86 insertions(+), 30 deletions(-)

commit 2c0e53a85c72c735f88ffb1272f86ed957c4774b
Author: Todd Lipcon <todd@cloudera.com>
Date:   Thu Nov 19 14:15:58 2015 -0800

    DRILL-4241: Add pushdown of column projections

 .../org/apache/drill/exec/store/kudu/KuduRecordReader.java   | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 8aac12b41dac299b91f3ada2e3742bc36f3454a6
Author: Todd Lipcon <todd@cloudera.com>
Date:   Sun Jan 10 22:50:30 2016 -0800

    DRILL-4241: Various Type Fixes

 .../drill/exec/store/kudu/KuduRecordReader.java    | 112 +++++++++++----------
 1 file changed, 57 insertions(+), 55 deletions(-)

commit 805e0416106139e6686672aed2d2cd600bc4e36d
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Sun Jan 10 22:50:05 2016 -0800

    DRILL-4241: Fixing the build, make RAT and checkstyle happy.

 .../src/main/resources/checkstyle-config.xml       | 42 +++++++++++++
 .../src/main/resources/checkstyle-suppressions.xml | 19 ++++++
 .../apache/drill/store/kudu/TestKuduConnect.java   | 17 +++++
 .../apache/drill/store/kudu/TestKuduPlugin.java    | 17 +++++
 .../drill/store/kudu/TestKuduTableProvider.java    | 72 +---------------------
 5 files changed, 97 insertions(+), 70 deletions(-)

commit 5dfb451222b4259e274304bb360e2b000bcd26af
Author: Jacques Nadeau <jacques.drill@gmail.com>
Date:   Wed Nov 18 18:45:56 2015 -0800

    DRILL-4241: initial commit

 contrib/storage-kudu/.gitignore                    |  15 ++
 contrib/storage-kudu/README.md                     |   1 +
 contrib/storage-kudu/pom.xml                       |  87 +++++++++
 .../drill/exec/store/kudu/DrillKuduTable.java      |  36 ++++
 .../drill/exec/store/kudu/KuduGroupScan.java       | 203 +++++++++++++++++++++
 .../drill/exec/store/kudu/KuduRecordReader.java    | 178 ++++++++++++++++++
 .../exec/store/kudu/KuduScanBatchCreator.java      |  57 ++++++
 .../apache/drill/exec/store/kudu/KuduScanSpec.java |  38 ++++
 .../drill/exec/store/kudu/KuduSchemaFactory.java   |  95 ++++++++++
 .../drill/exec/store/kudu/KuduStoragePlugin.java   |  99 ++++++++++
 .../exec/store/kudu/KuduStoragePluginConfig.java   |  75 ++++++++
 .../apache/drill/exec/store/kudu/KuduSubScan.java  | 135 ++++++++++++++
 .../main/resources/bootstrap-storage-plugins.json  |   9 +
 .../src/main/resources/drill-module.conf           |  24 +++
 .../apache/drill/store/kudu/TestKuduConnect.java   |  76 ++++++++
 .../apache/drill/store/kudu/TestKuduPlugin.java    |  12 ++
 .../drill/store/kudu/TestKuduTableProvider.java    |  91 +++++++++
 .../storage-kudu/src/test/resources/logback.xml    |  64 +++++++
 18 files changed, 1295 insertions(+)

commit f964908ae371b8321ce550a95add26d1c2c080a7
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jan 9 17:48:26 2016 -0800

    DRILL-4257: Fix StoragePluginRegistry clean-up behavior and misc clean up.
    
    - Create the storage plugin registry using a Drill configuration parameter to be able to replace the registry implementation.
    - Change StoragePluginRegistry into an interface and move the implementation to an impl class.
    - Write documentation for StoragePluginRegistry.
    - Make StoragePluginRegistry and StoragePluginMap AutoCloseable and ensure that Drillbit closes registry.
    - Misc Drillbit code reorganization so that fields are at top of class (and static methods at bottom).
    - Update DrillConfig to support reflection-based creation of storage plugin objects
    - Remove final from DrillConfig so that application developers can extend config object.
    
    This closes #321.

 .../apache/drill/common/config/DrillConfig.java    |  36 +-
 .../org/apache/drill/exec/server/Drillbit.java     | 217 ++++-----
 .../apache/drill/exec/server/DrillbitContext.java  |  10 +-
 .../apache/drill/exec/store/StoragePluginMap.java  |  20 +-
 .../drill/exec/store/StoragePluginRegistry.java    | 500 ++++-----------------
 .../exec/store/StoragePluginRegistryImpl.java      | 497 ++++++++++++++++++++
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 .../test/java/org/apache/drill/PlanningBase.java   |   3 +-
 .../apache/drill/exec/memory/TestAllocators.java   |   3 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   3 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |  17 +-
 11 files changed, 762 insertions(+), 545 deletions(-)

commit 67d5cc6df0ca394dd26ff5c0a2b0510779bad949
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jan 2 14:55:21 2016 -0800

    DRILL-4238: Add a custom RPC interface on the Control channel for extensible communication between bits.
    
    This closes #313.

 .../drill/exec/rpc/control/ControlRpcConfig.java   |   2 +
 .../drill/exec/rpc/control/ControlTunnel.java      | 174 +++++-
 .../apache/drill/exec/rpc/control/Controller.java  |  63 +++
 .../drill/exec/rpc/control/ControllerImpl.java     |  13 +
 .../exec/rpc/control/CustomHandlerRegistry.java    | 124 +++++
 .../exec/rpc/control/DefaultInstanceHandler.java   |   4 +-
 .../exec/work/batch/ControlMessageHandler.java     |  14 +
 .../drill/exec/rpc/control/TestCustomTunnel.java   | 138 +++++
 .../org/apache/drill/exec/proto/BitControl.java    | 599 +++++++++++++++++++--
 .../apache/drill/exec/proto/SchemaBitControl.java  | 119 ++++
 .../drill/exec/proto/beans/CustomMessage.java      | 186 +++++++
 protocol/src/main/protobuf/BitControl.proto        |   7 +
 12 files changed, 1397 insertions(+), 46 deletions(-)

commit 467c405cf48017f668f779d24978b4ffaa4ea8f0
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jan 2 16:32:36 2016 -0800

    Fix issue where FutureBitComment didn't return buffer as part of future.

 .../main/java/org/apache/drill/exec/rpc/FutureBitCommand.java    | 1 +
 .../main/java/org/apache/drill/exec/rpc/RpcCheckedFuture.java    | 9 ++++++---
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 5cb8eb95ea98eacf1c262e50ab1ff2714d37fc2c
Author: adeneche <adeneche@gmail.com>
Date:   Fri Jan 8 11:58:48 2016 -0800

    DRILL-4174: fix for DRILL-4081 mistakenly regresses the fix for DRILL-3786

 .../org/apache/drill/exec/physical/impl/xsort/ExternalSortBatch.java     | 1 +
 1 file changed, 1 insertion(+)

commit b9bc35a89208d2dd03f1ed751f71a0cd23651c9a
Author: Jinfeng Ni <jni@apache.org>
Date:   Wed Jan 6 16:40:50 2016 -0800

    DRILL-4250: Fix directory-based partition pruning when directory has both subdirectory and file.

 .../planner/FileSystemPartitionDescriptor.java     |   3 +-
 .../java/org/apache/drill/TestPartitionFilter.java |  18 ++++
 .../jsonFileMixDir/1995/Q1/orders_95_q1.json       | 101 +++++++++++++++++++++
 .../jsonFileMixDir/1995/Q2/orders_95_q2.json       | 101 +++++++++++++++++++++
 .../jsonFileMixDir/1995/Q3/orders_95_q3.json       | 101 +++++++++++++++++++++
 .../jsonFileMixDir/1995/Q4/orders_95_q4.json       | 101 +++++++++++++++++++++
 .../jsonFileMixDir/1995/orders_95_additional.json  |  51 +++++++++++
 7 files changed, 475 insertions(+), 1 deletion(-)

commit 884c5b09554d7d74e0709b61c37ade319665a850
Author: adeneche <adeneche@gmail.com>
Date:   Wed Dec 30 14:41:20 2015 -0800

    DRILL-4236: ExternalSort should use the new allocator functionality to better manage it's memory usage
    
    this closes #317

 .../drill/common/exceptions/UserException.java     | 13 +++-
 .../physical/impl/xsort/ExternalSortBatch.java     | 77 +++++++---------------
 2 files changed, 36 insertions(+), 54 deletions(-)

commit e4372f224a4b474494388356355a53808092a67a
Author: Ross Lawley <ross.lawley@gmail.com>
Date:   Thu Dec 17 13:46:40 2015 +0000

    DRILL-4242: Updates to storage-mongo
    
    + Depends on the latest Mongo Java Driver (3.2.0)
    + Uses MongoDatabase rather than the deprecated DB class
    + Uses Document and Bson types rather than the legacy DBObject type
    
    This closes #304.

 contrib/storage-mongo/pom.xml                      |  6 +--
 .../drill/exec/store/mongo/MongoFilterBuilder.java | 12 ++---
 .../drill/exec/store/mongo/MongoRecordReader.java  | 30 ++++++------
 .../drill/exec/store/mongo/MongoScanSpec.java      |  9 ++--
 .../drill/exec/store/mongo/MongoSubScan.java       | 10 ++--
 .../apache/drill/exec/store/mongo/MongoUtils.java  | 30 ++++++------
 .../drill/exec/store/mongo/config/MongoPStore.java | 56 +++++++++++-----------
 .../store/mongo/config/MongoPStoreProvider.java    | 23 ++++-----
 .../drill/exec/store/mongo/MongoTestSuit.java      |  4 +-
 9 files changed, 90 insertions(+), 90 deletions(-)

commit 5c7a992d2a271ab38c2cdb79f145b5f9d59592b7
Author: akumarb2010 <akumarb2010@gmail.com>
Date:   Sun Dec 13 20:24:05 2015 +0530

    DRILL-3478: Implement BSON reader and use that for MongoDB by default

 .../drill/exec/store/mongo/MongoRecordReader.java  |  70 ++--
 .../drill/exec/store/mongo/MongoTestBase.java      |  18 +-
 exec/java-exec/pom.xml                             |   5 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../drill/exec/store/avro/AvroRecordReader.java    |  18 +-
 .../drill/exec/store/bson/BsonRecordReader.java    | 378 +++++++++++++++++++++
 .../exec/store/bson/TestBsonRecordReader.java      | 266 +++++++++++++++
 .../src/main/codegen/templates/BaseWriter.java     |  17 +
 .../vector/complex/impl/MapOrListWriterImpl.java}  |  52 ++-
 10 files changed, 757 insertions(+), 70 deletions(-)

commit 76f41e18207e3e3e987fef56ee7f1695dd6ddd7a
Author: vkorukanti <venki@stealthsec.com>
Date:   Tue Dec 29 01:29:05 2015 -0800

    DRILL-3739: (part 2) Fix issues in reading Hive tables with StorageHandler configuration (eg. Hive-HBase tables)

 .../ConvertHiveParquetScanToDrillParquetScan.java  | 23 ++++++++++++++++------
 .../exec/store/hive/HiveMetadataProvider.java      |  2 +-
 .../drill/exec/store/hive/HiveRecordReader.java    | 19 +++++++++---------
 .../drill/exec/store/hive/HiveUtilities.java       | 18 +++++++++--------
 .../apache/drill/exec/hive/TestHiveStorage.java    | 16 +++++++++++++++
 5 files changed, 54 insertions(+), 24 deletions(-)

commit 6dea429949a3d6a68aefbdb3d78de41e0955239b
Author: Steven Phillips <smp@apache.org>
Date:   Tue Dec 1 00:34:41 2015 -0800

    DRILL-4215: Transfer buffer ownership in TransferPair

 .../drill/exec/physical/impl/ScreenCreator.java      |  2 +-
 .../exec/physical/impl/SingleSenderCreator.java      |  2 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java     |  4 ++--
 .../exec/physical/impl/aggregate/InternalBatch.java  |  9 +++++----
 .../physical/impl/aggregate/StreamingAggBatch.java   |  2 +-
 .../impl/aggregate/StreamingAggTemplate.java         |  7 ++++---
 .../physical/impl/aggregate/StreamingAggregator.java |  3 ++-
 .../broadcastsender/BroadcastSenderRootExec.java     |  2 +-
 .../exec/physical/impl/filter/FilterRecordBatch.java |  2 +-
 .../physical/impl/flatten/FlattenRecordBatch.java    |  4 ++--
 .../drill/exec/physical/impl/join/HashJoinBatch.java |  2 +-
 .../exec/physical/impl/join/NestedLoopJoinBatch.java |  2 +-
 .../impl/materialize/VectorRecordMaterializer.java   |  8 ++++++--
 .../OrderedPartitionRecordBatch.java                 |  2 +-
 .../impl/producer/ProducerConsumerBatch.java         |  2 +-
 .../exec/physical/impl/sort/RecordBatchData.java     |  5 +++--
 .../physical/impl/sort/SortRecordBatchBuilder.java   |  2 +-
 .../exec/physical/impl/trace/TraceRecordBatch.java   |  2 +-
 .../exec/physical/impl/window/WindowDataBatch.java   |  2 +-
 .../exec/physical/impl/xsort/ExternalSortBatch.java  |  6 +++---
 .../apache/drill/exec/record/HyperVectorWrapper.java |  3 ++-
 .../org/apache/drill/exec/record/RecordIterator.java |  4 +++-
 .../org/apache/drill/exec/record/SchemaUtil.java     |  2 +-
 .../drill/exec/record/SimpleVectorWrapper.java       |  5 +++--
 .../apache/drill/exec/record/VectorContainer.java    | 11 ++++++-----
 .../org/apache/drill/exec/record/VectorWrapper.java  |  3 ++-
 .../org/apache/drill/exec/record/WritableBatch.java  | 12 ++++++++++++
 .../apache/drill/TestTpchDistributedConcurrent.java  |  2 +-
 .../drill/exec/vector/TestSplitAndTransfer.java      |  2 +-
 .../main/codegen/templates/FixedValueVectors.java    | 16 +++++++---------
 .../main/codegen/templates/NullableValueVectors.java | 10 +++++-----
 .../main/codegen/templates/RepeatedValueVectors.java | 10 +++++-----
 .../src/main/codegen/templates/UnionVector.java      | 14 +++++++++-----
 .../codegen/templates/VariableLengthVectors.java     | 17 ++++++++---------
 .../apache/drill/exec/vector/BaseValueVector.java    |  9 +++++++--
 .../java/org/apache/drill/exec/vector/BitVector.java | 10 +++++-----
 .../org/apache/drill/exec/vector/ObjectVector.java   |  4 ++--
 .../org/apache/drill/exec/vector/ValueVector.java    |  7 +++++--
 .../org/apache/drill/exec/vector/ZeroVector.java     |  9 +++++++--
 .../exec/vector/complex/AbstractContainerVector.java |  4 ++++
 .../apache/drill/exec/vector/complex/ListVector.java |  6 +++---
 .../apache/drill/exec/vector/complex/MapVector.java  | 12 ++++++------
 .../exec/vector/complex/RepeatedListVector.java      | 10 +++++-----
 .../drill/exec/vector/complex/RepeatedMapVector.java | 20 ++++++++++----------
 .../exec/vector/complex/impl/PromotableWriter.java   |  2 +-
 45 files changed, 159 insertions(+), 115 deletions(-)

commit de008810c815e46e6f6e5d13ad0b9a23e705b13a
Author: Hanifi Gunes <hanifigunes@gmail.com>
Date:   Tue Dec 15 17:24:27 2015 -0800

    DRILL-4187: introduce a new query state ENQUEUED and rename the state PENDING to STARTING

 .../drill/exec/rpc/user/QueryResultHandler.java    |   2 +-
 .../apache/drill/exec/work/foreman/Foreman.java    | 102 ++++++-----
 .../drill/exec/work/foreman/QueryManager.java      |   3 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 199 ++++++++++++---------
 .../apache/drill/exec/proto/beans/QueryInfo.java   |   2 +-
 .../drill/exec/proto/beans/QueryProfile.java       |   2 +-
 .../apache/drill/exec/proto/beans/QueryResult.java |  10 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   3 +-
 8 files changed, 184 insertions(+), 139 deletions(-)

commit ed0369b0ac4f4576d9cc9639184232618982e36b
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Dec 15 17:39:03 2015 -0800

    DRILL-4192: Fix selection root when there is only a single top level partition
    closes #307

 .../apache/drill/exec/store/dfs/FileSelection.java | 20 +++++++++++++------
 .../test/java/org/apache/drill/TestBugFixes.java   | 23 ++++++++++++++++++++++
 .../nested_partition_1/simpledata.json             |  1 +
 .../nested_partition_2/simpledata.json             |  1 +
 4 files changed, 39 insertions(+), 6 deletions(-)

commit 1ea3d6c3f144614caf460648c1c27c6d0f5b06b8
Author: Jinfeng Ni <jni@apache.org>
Date:   Fri Dec 11 16:00:13 2015 -0800

    DRILL-4201 : Allow partial filter to be pushed down project for better performance.
    
    Partial filter pushdown has performance benefits because:
    1) enable partition pruning, if the pushed down involves partitioning columns,
    2) allow the filter to be applied in upper stream.

 .../logical/DrillPushFilterPastProjectRule.java    |  44 +++++++--
 .../java/org/apache/drill/TestPartitionFilter.java |  17 ++++
 .../physical/impl/flatten/TestFlattenPlanning.java |  30 ++++++
 .../jsoncomplex/1995/Q1/orders_95_q1.json          | 104 ++++++++++++++++++++
 .../jsoncomplex/1995/Q2/orders_95_q2.json          | 105 +++++++++++++++++++++
 .../jsoncomplex/1996/Q1/orders_96_q1.json          | 104 ++++++++++++++++++++
 .../jsoncomplex/1996/Q2/orders_96_q2.json          | 104 ++++++++++++++++++++
 7 files changed, 501 insertions(+), 7 deletions(-)

commit 809f4620d7d82c72240212de13b993049550959d
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Nov 15 17:26:02 2015 -0800

    DRILL-4134: Allocator Improvements
    
    - make Allocator mostly lockless
    - change BaseAllocator maps to direct references
    - add documentation around memory management model
    - move transfer and ownership methods to DrillBuf
    - Improve debug messaging.
    - Fix/revert sort changes
    - Remove unused fragment limit flag
    - Add time to HistoricalLog events
    - Remove reservation amount from RootAllocator constructor (since not allowed)
    - Fix concurrency issue where allocator is closing at same moment as incoming batch transfer, causing leaked memory and/or query failure.
    - Add new AutoCloseables.close(Iterable<AutoCloseable>)
    - Remove extraneous DataResponseHandler and Impl (and update TestBitRpc to use smarter mock of FragmentManager)
    - Remove the concept of poison pill record batches, using instead FragmentContext.isOverMemoryLimit()
    - Update incoming data batches so that they are transferred under protection of a close lock
    - Improve field names in IncomingBuffers and move synchronization to collectors as opposed to IncomingBuffers (also change decrementing to decrementToZero rather than two part check).
    
    This closes #238.

 .../org/apache/drill/common/AutoCloseables.java    |    2 +-
 .../org/apache/drill/common/HistoricalLog.java     |   68 +-
 .../java/org/apache/drill/common/StackTrace.java   |    9 +-
 .../drill/common/concurrent/AutoCloseableLock.java |   29 +-
 .../hive/HiveDrillNativeScanBatchCreator.java      |    8 +-
 distribution/pom.xml                               |    5 -
 distribution/src/assemble/bin.xml                  |    1 -
 exec/java-exec/pom.xml                             |    2 +-
 .../exec/expr/fn/impl/StringFunctionHelpers.java   |    4 +-
 .../org/apache/drill/exec/expr/fn/impl/XXHash.java |    4 +-
 .../drill/exec/memory/RootAllocatorFactory.java    |   17 +-
 .../apache/drill/exec/ops/BufferManagerImpl.java   |    3 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |   63 +-
 .../apache/drill/exec/ops/OperatorContextImpl.java |   17 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |   14 +-
 .../drill/exec/physical/impl/BaseRootExec.java     |    2 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |    2 +-
 .../exec/physical/impl/SingleSenderCreator.java    |    3 +-
 .../broadcastsender/BroadcastSenderRootExec.java   |    3 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |    5 +-
 .../partitionsender/PartitionSenderRootExec.java   |    3 +-
 .../physical/impl/sort/SortRecordBatchBuilder.java |   49 +-
 .../exec/physical/impl/trace/TraceRecordBatch.java |    7 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |   15 +-
 .../unorderedreceiver/UnorderedReceiverBatch.java  |    7 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |   51 +-
 .../physical/impl/xsort/PriorityQueueCopier.java   |    3 +-
 .../impl/xsort/PriorityQueueCopierTemplate.java    |    8 +-
 .../drill/exec/record/AbstractRecordBatch.java     |    4 +-
 .../drill/exec/record/RecordBatchLoader.java       |    6 +-
 .../apache/drill/exec/record/WritableBatch.java    |    5 +-
 .../drill/exec/rpc/control/ControlClient.java      |    2 +-
 .../drill/exec/rpc/control/ControlServer.java      |    2 +-
 .../org/apache/drill/exec/rpc/data/DataClient.java |    2 +-
 .../drill/exec/rpc/data/DataConnectionCreator.java |   14 +-
 .../exec/rpc/data/DataResponseHandlerImpl.java     |   58 -
 .../org/apache/drill/exec/rpc/data/DataServer.java |  109 +-
 .../drill/exec/rpc/data/IncomingDataBatch.java     |   73 +
 .../org/apache/drill/exec/rpc/user/UserServer.java |    4 +-
 .../org/apache/drill/exec/server/Drillbit.java     |    2 +-
 .../apache/drill/exec/service/ServiceEngine.java   |    6 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   10 +-
 .../exec/store/parquet/ParquetRecordWriter.java    |    2 +-
 .../store/parquet/ParquetScanBatchCreator.java     |    6 +-
 .../drill/exec/store/sys/MemoryIterator.java       |    4 +-
 .../org/apache/drill/exec/work/WorkManager.java    |    8 -
 .../exec/work/batch/AbstractDataCollector.java     |   15 +-
 .../drill/exec/work/batch/BaseRawBatchBuffer.java  |   28 +-
 .../drill/exec/work/batch/IncomingBuffers.java     |   82 +-
 .../exec/work/batch/SpoolingRawBatchBuffer.java    |   12 +-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |    2 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |    7 +-
 .../drill/exec/work/fragment/FragmentManager.java  |    4 +-
 .../exec/work/fragment/NonRootFragmentManager.java |    4 +-
 .../exec/work/fragment/RootFragmentManager.java    |    4 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |   13 +-
 .../org/apache/drill/TestAllocationException.java  |   71 -
 .../apache/drill/exec/memory/TestAllocators.java   |  273 ++--
 .../drill/exec/physical/impl/TestOptiqPlans.java   |    3 +-
 .../drill/exec/record/vector/TestValueVector.java  |   23 +-
 .../org/apache/drill/exec/server/TestBitRpc.java   |   84 +-
 .../exec/testing/TestCountDownLatchInjection.java  |   13 +-
 .../drill/exec/testing/TestExceptionInjection.java |   21 +-
 .../drill/exec/testing/TestPauseInjection.java     |   17 +-
 .../drill/exec/testing/TestResourceLeak.java       |   18 +-
 .../complex/writer/TestPromotableWriter.java       |    2 -
 exec/memory/base/pom.xml                           |   10 +
 .../src/main/java/io/netty/buffer/DrillBuf.java    |  714 +++------
 .../java/io/netty/buffer/ExpandableByteBuf.java    |   55 +
 .../main/java/io/netty/buffer/FakeAllocator.java   |  167 --
 .../src/main/java/io/netty/buffer/LargeBuffer.java |  297 +---
 .../io/netty/buffer/MutableWrappedByteBuf.java     |  336 ++++
 .../io/netty/buffer/PooledByteBufAllocatorL.java   |  312 ++--
 .../io/netty/buffer/UnsafeDirectLittleEndian.java  |  316 ++--
 .../org/apache/drill/exec/memory/Accountant.java   |  274 ++++
 .../org/apache/drill/exec/memory/Accountor.java    |   43 -
 .../drill/exec/memory/AllocationReservation.java   |   94 +-
 .../exec/memory/AllocatorClosedException.java      |    0
 .../apache/drill/exec/memory/AllocatorManager.java |  356 +++++
 .../apache/drill/exec/memory/BaseAllocator.java    |  739 +++++++++
 .../apache/drill/exec/memory/BoundsChecking.java   |    1 +
 .../apache/drill/exec/memory/BufferAllocator.java  |  155 +-
 .../apache/drill/exec/memory/ChildAllocator.java   |   12 +-
 .../drill/exec/memory/DrillByteBufAllocator.java   |  141 ++
 .../java/org/apache/drill/exec/memory/README.md    |  121 ++
 .../apache/drill/exec/memory/RootAllocator.java}   |   25 +-
 .../{LimitConsumer.java => package-info.java}      |   16 +-
 .../src/main/resources/drill-module.conf           |    0
 .../apache/drill/exec/memory/TestAccountant.java   |  163 ++
 .../drill/exec/memory/TestBaseAllocator.java       |  302 ++--
 .../apache/drill/exec/memory/TestEndianess.java    |    8 +-
 exec/memory/impl/pom.xml                           |   68 -
 .../apache/drill/exec/memory/AccountorImpl.java    |  437 ------
 .../apache/drill/exec/memory/AllocationPolicy.java |   38 -
 .../drill/exec/memory/AllocationPolicyAgent.java   |   69 -
 .../apache/drill/exec/memory/AllocatorOwner.java   |   40 -
 .../apache/drill/exec/memory/AtomicRemainder.java  |  215 ---
 .../apache/drill/exec/memory/BaseAllocator.java    | 1654 --------------------
 .../org/apache/drill/exec/memory/BufferLedger.java |   94 --
 .../drill/exec/memory/ChainedAllocatorOwner.java   |   60 -
 .../apache/drill/exec/memory/RootAllocator.java    |  125 --
 .../drill/exec/memory/TopLevelAllocator.java       |  408 -----
 exec/memory/pom.xml                                |    1 -
 .../drill/exec/rpc/BasicClientWithConnection.java  |    2 +-
 .../exec/expr/fn/impl/ByteFunctionHelpers.java     |    8 +-
 .../org/apache/drill/exec/util/DecimalUtility.java |   23 +-
 .../java/org/apache/drill/exec/proto/BitData.java  |   94 +-
 .../org/apache/drill/exec/proto/SchemaBitData.java |    7 -
 .../exec/proto/beans/FragmentRecordBatch.java      |   23 -
 protocol/src/main/protobuf/BitData.proto           |    1 -
 110 files changed, 3587 insertions(+), 5854 deletions(-)

commit 53dcabeb83f53c8e29aff9c9282eaaa20a8b27ee
Author: Chris Westin <cwestin@yahoo.com>
Date:   Wed Nov 11 14:57:47 2015 -0800

    DRILL-4134: Add new allocator

 .../apache/drill/common/AutoCloseablePointer.java  |  112 ++
 .../org/apache/drill/common/DrillCloseables.java   |   55 +
 .../org/apache/drill/common/HistoricalLog.java     |  179 +++
 .../org/apache/drill/exec/ops/QueryContext.java    |    8 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |    5 +-
 .../physical/impl/sort/SortRecordBatchBuilder.java |   53 +-
 .../org/apache/drill/exec/rpc/data/DataServer.java |   21 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |   29 +
 .../test/java/org/apache/drill/TestTpchLimit0.java |    6 +
 .../apache/drill/exec/memory/TestAllocators.java   |   26 +-
 .../drill/exec/memory/TestBaseAllocator.java       |  651 ++++++++
 .../drill/exec/testing/TestResourceLeak.java       |   19 +-
 .../src/main/java/io/netty/buffer/DrillBuf.java    |  671 ++++++--
 .../main/java/io/netty/buffer/FakeAllocator.java   |   68 +-
 .../io/netty/buffer/UnsafeDirectLittleEndian.java  |   60 +-
 .../apache/drill/exec/memory/BufferAllocator.java  |  166 +-
 .../apache/drill/exec/memory/AllocationPolicy.java |   38 +
 .../drill/exec/memory/AllocationPolicyAgent.java   |   69 +
 .../drill/exec/memory/AllocationReservation.java   |  152 ++
 .../exec/memory/AllocatorClosedException.java      |   31 +
 .../apache/drill/exec/memory/AllocatorOwner.java   |   40 +
 .../drill/exec/memory/AllocatorsStatsMXBean.java   |   34 +
 .../apache/drill/exec/memory/BaseAllocator.java    | 1654 ++++++++++++++++++++
 .../org/apache/drill/exec/memory/BufferLedger.java |   94 ++
 .../drill/exec/memory/ChainedAllocatorOwner.java   |   60 +
 .../apache/drill/exec/memory/ChildAllocator.java   |   47 +
 .../apache/drill/exec/memory/RootAllocator.java    |  125 ++
 .../drill/exec/memory/RootAllocatorFactory.java    |   32 +-
 .../drill/exec/memory/TopLevelAllocator.java       |  160 +-
 29 files changed, 4317 insertions(+), 348 deletions(-)

commit a466e4bd4d31520d69a490bbfd2eff1936e217f4
Author: Chris Westin <cwestin@yahoo.com>
Date:   Wed Nov 11 14:57:16 2015 -0800

    DRILL-4134: Clean up close behaviors.

 .../exec/physical/impl/union/UnionAllRecordBatch.java   | 14 ++++++++++++--
 .../drill/exec/record/RawFragmentBatchProvider.java     |  3 +++
 .../org/apache/drill/exec/record/WritableBatch.java     | 17 +++++++++--------
 .../drill/exec/work/batch/AbstractDataCollector.java    | 16 +++++-----------
 4 files changed, 29 insertions(+), 21 deletions(-)

commit abdfc6a969ca9801480dfed614abb8c6e056eb0a
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Dec 16 15:25:26 2015 -0800

    DRILL-4205: Reset readStart every time a new page is read. This closes #306

 .../drill/exec/store/parquet/columnreaders/NullableColumnReader.java     | 1 +
 1 file changed, 1 insertion(+)

commit 2329c0569bdd8059ff05a78bbb66eb9bbc976a7b
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Aug 25 17:51:19 2015 -0700

    DRILL-4169: Upgrade Hive storage plugin to work with Hive 1.2.1
    
    + HadoopShims.setTokenStr is moved to Utils.setTokenStr. There is no change
      in functionality.
    + Disable binary partitions columns in Hive test suites. Binary
      partition column feature is regressed in Hive 1.2.1 (HIVE-12680). This
      should affect only the Hive execution which is used to generate the test
      data. If Drill is talking to Hive v1.0.0 (which has binary partition
      columns working), Drill should be able to get the data from Hive
      without any issues (tested).
    + Move to tinyint_part from boolean_part as there is an issue with boolean
      type partition columns too (HIVE-6590).
    + Update StorageHandler based test as there is an issue with test data
      generation in Hive 1.2.1. Need a separate test with custom test StorageHandler.
    
    this closes #302

 .../exec/store/hive/DrillHiveMetaStoreClient.java  |  4 +-
 .../drill/exec/TestHivePartitionPruning.java       |  4 +-
 .../apache/drill/exec/TestHiveProjectPushDown.java |  2 +-
 .../apache/drill/exec/hive/TestHiveStorage.java    | 25 +++++++-----
 .../exec/store/hive/HiveTestDataGenerator.java     | 45 ++++++++++++----------
 pom.xml                                            |  8 ++--
 6 files changed, 50 insertions(+), 38 deletions(-)

commit bc74629a546afe109252dcf4e3ef00ffc22e7a7a
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Dec 11 11:36:11 2015 -0800

    DRILL-4194: Improve performance of the HiveScan metadata fetch operation
    
    + Use the stats (numRows) stored in Hive metastore whenever available to
      calculate the costs for planning purpose
    + Delay the costly operation of loading of InputSplits until needed. When
      InputSplits are loaded, cache them at query level to speedup subsequent
      access.
    
    this closes #301

 .../ConvertHiveParquetScanToDrillParquetScan.java  |   3 +-
 .../store/hive/HiveDrillNativeParquetScan.java     |  16 +-
 .../exec/store/hive/HiveMetadataProvider.java      | 320 +++++++++++++++++++++
 .../org/apache/drill/exec/store/hive/HiveScan.java | 187 +++---------
 .../drill/exec/store/hive/HiveStoragePlugin.java   |   2 +-
 5 files changed, 377 insertions(+), 151 deletions(-)

commit 2953fe587b73f0f6677b70e2ccfceff1910ed2aa
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Dec 14 16:02:55 2015 -0800

    DRILL-4198: Enhance StoragePlugin interface to expose logical space rules for planning purpose
    
    Also move Hive partition pruning rules to logical storage plugin rulesets.
    
    this closes #300

 .../drill/exec/store/hbase/HBaseStoragePlugin.java |  2 +-
 .../drill/exec/store/hive/HiveStoragePlugin.java   | 16 ++++++++++------
 .../drill/exec/store/jdbc/JdbcStoragePlugin.java   |  2 +-
 .../drill/exec/store/mongo/MongoStoragePlugin.java |  2 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 14 ++++++++------
 .../drill/exec/store/AbstractStoragePlugin.java    |  7 ++++++-
 .../org/apache/drill/exec/store/StoragePlugin.java | 12 +++++++++---
 .../drill/exec/store/StoragePluginRegistry.java    | 22 +++++++++++++++++-----
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  2 +-
 .../store/ischema/InfoSchemaStoragePlugin.java     |  2 +-
 10 files changed, 55 insertions(+), 26 deletions(-)

commit 1e45f9fa19363a9a337401b7fa64e198480b694a
Author: Parth Chandra <parthc@apache.org>
Date:   Thu Dec 3 14:32:30 2015 -0800

    DRILL-4152: Add trace logging to  Parquet reader for performance tuning. This closes #298

 .../exec/store/parquet/ParquetReaderStats.java     | 48 +++++++++++
 .../store/parquet/ParquetScanBatchCreator.java     | 10 ++-
 .../store/parquet/columnreaders/PageReader.java    | 94 ++++++++++++++++++----
 .../parquet/columnreaders/ParquetRecordReader.java | 30 ++++++-
 4 files changed, 163 insertions(+), 19 deletions(-)

commit e529df46054b685d72ff424c58e38a5dcdbc381a
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Thu Dec 10 00:21:52 2015 -0800

    DRILL-4182 TopN schema changes support.

 .../physical/impl/TopN/PriorityQueueTemplate.java  |  16 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  75 +++++++-
 .../impl/svremover/RemovingRecordBatch.java        |   2 +-
 .../drill/exec/record/HyperVectorWrapper.java      |   3 +-
 .../org/apache/drill/exec/record/SchemaUtil.java   | 104 ++++++----
 .../apache/drill/exec/record/VectorContainer.java  |   6 +-
 .../org/apache/drill/exec/util/BatchPrinter.java   |  20 +-
 .../physical/impl/TopN/TestTopNSchemaChanges.java  | 211 +++++++++++++++++++++
 8 files changed, 384 insertions(+), 53 deletions(-)

commit cc9175c13270660ffd9ec2ddcbc70780dd72dada
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Fri Dec 4 16:38:36 2015 -0800

    DRILL-4163 Schema changes support in MergeJoin Operator.

 .../exec/physical/impl/join/JoinTemplate.java      |   2 +-
 .../drill/exec/physical/impl/join/JoinUtils.java   |   3 +
 .../exec/physical/impl/join/MergeJoinBatch.java    |  11 +-
 .../apache/drill/exec/record/VectorContainer.java  |   5 +-
 .../impl/join/TestMergeJoinWithSchemaChanges.java  | 348 +++++++++++++++++++++
 5 files changed, 360 insertions(+), 9 deletions(-)

commit bb3fc15216d9cab804fc9a6f0e5bd34597dd4394
Author: Jinfeng Ni <jni@apache.org>
Date:   Mon Dec 7 14:17:04 2015 -0800

    DRILL-4161: Make Hive Metastore client caching policy user configurable.
    
    Remove common code.

 .../exec/store/hive/DrillHiveMetaStoreClient.java  | 45 ++++++++++++++++------
 1 file changed, 33 insertions(+), 12 deletions(-)

commit 02ce44bcab37bce0176e472b194d16acb6d167b7
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Nov 24 13:38:12 2015 -0800

    DRILL-4126: Enable caching for HiveMetaStore access when impersonation is enabled. Change table cache in metastore client.
    
    1) HiveSchemaFactory maintain one metastoreClientWithAuth per user.
    2) Put the hive metastore object caches in DrillHiveMetaStoreClient.
    3) Use LoadingCache to store the set of clients for impersonation.
    4) Use flat level cache for tables in DrillHiveMetastoreClient.

 .../exec/store/hive/DrillHiveMetaStoreClient.java  | 201 +++++++++++++--------
 .../exec/store/hive/schema/HiveSchemaFactory.java  |  41 ++++-
 2 files changed, 160 insertions(+), 82 deletions(-)

commit b8b18ebf4b9dbf2027d1f5e9666504dbe11901cb
Author: Jinfeng Ni <jni@apache.org>
Date:   Wed Nov 18 20:18:51 2015 -0800

    DRILL-4127: Reduce Hive metastore client API call in HiveSchema.
    
    1) Use lazy loading of tableNames in HiveSchema, in stead of pre-loading all table names under each HiveSchema.
    2) Do not call get_all_databases for subSchema to check existence if the name comes from getSubSchemaNames() directly.
    
    review comments.

 .../exec/store/hive/schema/HiveDatabaseSchema.java | 24 +++++++++++++++++-----
 .../exec/store/hive/schema/HiveSchemaFactory.java  | 22 ++++++++------------
 2 files changed, 28 insertions(+), 18 deletions(-)

commit 539cbba564db8542f72eb353f139c4d3d134b7cc
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Tue Dec 8 15:57:39 2015 -0800

    DRILL-4180: When clear() is called on BitVector, ensure valueCount is set to zero

 .../apache/drill/exec/memory/TestAllocators.java   | 24 ++++++++++++++++++++++
 .../org/apache/drill/exec/vector/BitVector.java    |  5 +++++
 2 files changed, 29 insertions(+)

commit e822f9f5911f3fce6641dd3e7bed78a9b6ba950c
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Dec 8 10:39:43 2015 -0800

    Roll forward to 1.5.0-SNAPSHOT

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/gis/pom.xml                          | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/memory/base/pom.xml                     | 2 +-
 exec/memory/impl/pom.xml                     | 2 +-
 exec/memory/pom.xml                          | 2 +-
 exec/pom.xml                                 | 2 +-
 exec/rpc/pom.xml                             | 2 +-
 exec/vector/pom.xml                          | 2 +-
 logical/pom.xml                              | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 tools/fmpp/pom.xml                           | 2 +-
 tools/pom.xml                                | 2 +-
 27 files changed, 27 insertions(+), 27 deletions(-)

commit b9068117177c3b47025f52c00f67938e0c3e4732
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Mon Dec 7 17:25:34 2015 -0800

    DRILL-4165 Add a precondition for size of merge join record batch.

 .../java/org/apache/drill/exec/physical/impl/join/JoinStatus.java     | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit fe3da5ce96e06758618d5dd4d6255fdfffc9c00a
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Mon Dec 7 14:41:34 2015 -0800

    DRILL-4165 remove redundant call to setting hash join session option.

 .../org/apache/drill/exec/physical/impl/join/TestMergeJoinAdvanced.java  | 1 -
 1 file changed, 1 deletion(-)

commit 0ced1986f281f830c695ede94138a461431ed8f4
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Mon Dec 7 14:13:55 2015 -0800

    DRILL-4165 Fix a bug in counting records in outgoing batch.

 .../org/apache/drill/exec/physical/impl/join/JoinStatus.java |  4 ++--
 .../apache/drill/exec/physical/impl/join/JoinTemplate.java   |  8 ++++++--
 .../drill/exec/physical/impl/join/TestMergeJoinAdvanced.java | 12 ++++++++++++
 3 files changed, 20 insertions(+), 4 deletions(-)

commit d855906b95d4182a93af936c4e16888a770039b5
Author: Steven Phillips <smp@apache.org>
Date:   Thu Dec 3 14:01:44 2015 -0800

    DRILL-4159: Remove trailing space

 .../src/test/java/org/apache/drill/exec/store/text/TestCsvHeader.java    | 1 -
 1 file changed, 1 deletion(-)

commit f4e34ccac6add649df469f85e38f064962eae90a
Author: Steven Phillips <smp@apache.org>
Date:   Thu Dec 3 13:39:03 2015 -0800

    DRILL-4159: Use test framework in TestCsvHeader

 .../drill/exec/store/text/TestCsvHeader.java       | 142 ++++++++++-----------
 1 file changed, 66 insertions(+), 76 deletions(-)

commit 3ae3bf5e127b4384c7b91d797d36ea4d51a058ae
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Wed Dec 2 14:16:39 2015 -0800

    DRILL-4109 Increase timeout on merge join tests.

 .../apache/drill/exec/physical/impl/join/TestMergeJoinAdvanced.java   | 4 ++++
 1 file changed, 4 insertions(+)

commit 33e3f1aa91b03ff751c9973e0e0b29e78bf43b5b
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Wed Dec 2 13:36:34 2015 -0800

    Accidently reverted last change.

 .../src/main/java/org/apache/drill/exec/record/RecordIterator.java      | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 42bf845d282e0b86aef0d5bf8e6af693977c06c4
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Tue Dec 1 15:39:42 2015 -0800

    DRILL-4125 Fix for invalid inner cursor.

 .../apache/drill/exec/record/RecordIterator.java    | 21 ++++++++++++++++++---
 1 file changed, 18 insertions(+), 3 deletions(-)

commit d44b889ffebbb58939110776795489c052aac786
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Tue Nov 24 16:00:16 2015 -0800

    DRILL-4109 Fix NPE in RecordIterator.

 .../org/apache/drill/exec/record/RecordIterator.java     | 16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit 46c47a24f67e53146521d50062180c4aa902f687
Author: Julien Le Dem <julien@dremio.com>
Date:   Mon Nov 23 16:25:52 2015 -0800

    DRILL-4124: Make all uses of AutoCloseables use addSuppressed exceptions to avoid noise in logs
    
    This closes #281

 .../org/apache/drill/common/AutoCloseables.java    | 63 +++++++++++++++-------
 .../hive/HiveDrillNativeScanBatchCreator.java      | 11 +---
 .../drill/exec/store/jdbc/JdbcRecordReader.java    |  6 +--
 .../drill/exec/physical/impl/ImplCreator.java      |  6 +--
 .../physical/impl/xsort/ExternalSortBatch.java     | 35 ++----------
 .../org/apache/drill/exec/server/Drillbit.java     | 18 ++++---
 .../drill/exec/server/TestDrillbitResilience.java  |  7 ++-
 7 files changed, 69 insertions(+), 77 deletions(-)

commit 8f56250aeb29d5d21bcdc6c727cec89607150224
Author: Steven Phillips <smp@apache.org>
Date:   Wed Dec 2 02:09:20 2015 -0800

    DRILL-4145: Handle empty final field in Text reader correctly

 .../exec/store/easy/text/compliant/TextReader.java |  1 +
 .../drill/exec/store/text/TestCsvHeader.java       | 27 ++++++++++++++++++++++
 2 files changed, 28 insertions(+)

commit 36bd6378614e174d6302f70da47a075d1acbb59d
Author: Abhi P <abhijit@dremio.com>
Date:   Tue Nov 17 18:14:18 2015 -0800

    DRILL-4108: Handle non existing cols for query w extractHeader
    
    Closes #269

 .../text/compliant/CompliantTextRecordReader.java  |  3 ++
 .../easy/text/compliant/FieldVarCharOutput.java    | 27 ++++++++++----
 .../drill/exec/store/text/TestCsvHeader.java       | 43 ++++++++++++++++++++++
 .../test/resources/bootstrap-storage-plugins.json  |  7 ++++
 .../test/resources/store/text/data/cars.csvh-test  |  6 +++
 .../test/resources/store/text/data/d2/cars1.csvh   |  6 +++
 .../test/resources/store/text/data/d2/cars2.csvh   |  5 +++
 pom.xml                                            |  1 +
 8 files changed, 91 insertions(+), 7 deletions(-)

commit e3f331a2896b546ba976a1f599e0d16a1641c5d1
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Dec 1 23:50:33 2015 -0800

    Add Venki's key to KEYS

 KEYS | 58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 58 insertions(+)

commit 65d96859e3ab896735843224c95527b388690887
Author: Julien Le Dem <julien@dremio.com>
Date:   Sun Nov 22 21:53:36 2015 -0800

    DRILL-4111: turn tests off in travis as they don't work there
    
    this closes #267

 .travis.yml | 3 +++
 1 file changed, 3 insertions(+)

commit 0a3613e7ef523905e82ffbc113d28aaa535552fa
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Oct 28 18:24:16 2015 -0700

    DRILL-4053: Reduce metadata cache file size. Save a merged schema instead of
    repeating for every row group. Save maxValue in a row group iff minVal
    equals maxVal and null otherwise. Maintain backward compatibility
    with older version. This closes #254

 exec/java-exec/pom.xml                             |   5 +
 .../apache/drill/exec/store/parquet/Metadata.java  | 680 ++++++++++++++++++---
 .../exec/store/parquet/ParquetFileSelection.java   |  12 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |   8 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java | 431 ++++++-------
 5 files changed, 831 insertions(+), 305 deletions(-)

commit 9cb553dfe90f367d99eb064abeda85d6bcbea1fe
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Oct 21 11:01:23 2015 -0700

    DRILL-3739: Fix issues in reading Hive tables with StorageHandler configuration (eg. Hive-HBase tables)

 .../drill/exec/store/hive/HiveRecordReader.java    |  4 ++--
 .../org/apache/drill/exec/store/hive/HiveScan.java | 19 +++++-----------
 .../drill/exec/store/hive/HiveUtilities.java       | 26 +++++++++++++++++-----
 .../apache/drill/exec/hive/TestHiveStorage.java    | 11 +++++++++
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |  1 +
 .../exec/store/hive/HiveTestDataGenerator.java     |  8 +++++++
 6 files changed, 48 insertions(+), 21 deletions(-)

commit 7de34293d44cb9ef40d7771f82de588fd7c33bc2
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Oct 20 16:21:09 2015 -0700

    DRILL-3893: Change Hive metadata cache invalidation policy to "1 min after last write".

 .../org/apache/drill/exec/store/hive/DrillHiveMetaStoreClient.java  | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit bca72ab26e94c1baca4b1d02e2531ce02182eb7b
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Oct 19 11:35:09 2015 -0700

    DRILL-3938: Support reading from Hive tables that have schema altered after the creation
    
    Also:
    + Remove "redoRecord" logic which is not needed after "automatic reallocation" (DRILL-1960) changes.
    + Remove HiveTestRecordReader. This is incomplete in implementation and not used anywhere. It is currently just
      a burden to maintain with changes in its superclass HiveRecordReader

 .../ConvertHiveParquetScanToDrillParquetScan.java  |  15 +-
 .../drill/exec/store/hive/HiveRecordReader.java    | 177 ++++++++++----------
 .../exec/store/hive/HiveTextRecordReader.java      | 181 ---------------------
 .../drill/exec/store/hive/HiveUtilities.java       |  63 +++++++
 .../apache/drill/exec/hive/TestHiveStorage.java    |  26 +++
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |   1 +
 .../exec/store/hive/HiveTestDataGenerator.java     |   6 +
 7 files changed, 198 insertions(+), 271 deletions(-)

commit 53e7a696f1e4bb9f879730deb82d3b705f990d43
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon Nov 30 17:48:46 2015 -0800

    DRILL-4146: Concurrent queries hang in planner.  Fix is in Calcite (CALCITE-874).
    
    close apache/drill#285

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ff76078b61a54001da1de3dbd95d01004da4b791
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sat Nov 21 10:23:52 2015 -0800

    DRILL-4119: Modify hash32 functions to combine the msb and lsb bytes of a 64-bit hash value (previously, we were casting to integer).
    
     - Use this new set of functions (for all data types) for creating the hash values needed for hash distribution, hash joins etc.
    
     - Rename HashFunctions to Hash32Functions to be consistent with the Hash64 counterpart.
    
     - Many data types did not have a hash32AsDouble equivalent...added these.
    
     - Add hash32 functions with seed.
    
     - Fix unit tests, add "hash" as a synonym for "hash32".
    
     - Rename HashBigInt to BigIntHash everywhere to be consistent with other names.
    
    close apache/drill#279

 .../drill/exec/expr/fn/impl/Hash32AsDouble.java    | 336 ++++++++++++
 .../{HashFunctions.java => Hash32Functions.java}   |  65 ++-
 .../exec/expr/fn/impl/Hash32FunctionsWithSeed.java | 584 +++++++++++++++++++++
 .../exec/expr/fn/impl/Hash32WithSeedAsDouble.java  | 340 ++++++++++++
 .../drill/exec/expr/fn/impl/Hash64AsDouble.java    |   2 +-
 .../drill/exec/expr/fn/impl/Hash64Functions.java   |   2 +-
 .../exec/expr/fn/impl/Hash64FunctionsWithSeed.java |   2 +-
 .../exec/expr/fn/impl/Hash64WithSeedAsDouble.java  |   2 +-
 .../org/apache/drill/exec/expr/fn/impl/XXHash.java |  23 +-
 .../drill/exec/planner/physical/HashPrelUtil.java  |  13 +-
 .../java/org/apache/drill/TestFunctionsQuery.java  |  25 +-
 .../exec/physical/impl/TestLocalExchange.java      |   4 +-
 12 files changed, 1347 insertions(+), 51 deletions(-)

commit 5cc3448bc7b911325377a966160f1a21ce614468
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Fri Nov 13 15:46:58 2015 -0800

    DRILL-4056: Fix corruption bug reading string data out of Avro
    
    - Fix issue where we are reading a byte array without considering length
    - Removed use of unnecessary Holder objects.
    - Added restriction on batch size produced by a single call to next.
    - Add some basic result verification to avro tests.
    
    This closes #266

 .../drill/exec/store/avro/AvroRecordReader.java    |  78 ++++------------
 .../impersonation/TestImpersonationQueries.java    |   2 +-
 .../drill/exec/store/avro/AvroFormatTest.java      |  39 +++++++-
 .../apache/drill/exec/store/avro/AvroTestUtil.java | 103 +++++++++++++++++++--
 4 files changed, 147 insertions(+), 75 deletions(-)

commit 18a0effb38947d06e93a261e97b0ca39d2fc80d3
Author: Abhi P <abhijit@dremio.com>
Date:   Tue Nov 17 19:04:23 2015 -0800

    DRILL-4063: Add s3a dependency jars and example core-site.xml
    
    This closes #265

 distribution/pom.xml                     |  5 +++++
 distribution/src/assemble/bin.xml        |  4 ++++
 distribution/src/resources/core-site.xml | 31 +++++++++++++++++++++++++++++++
 pom.xml                                  | 12 ++++++++++++
 4 files changed, 52 insertions(+)

commit 56d5f79453475bb144d3b7118ec6751c34d26f80
Author: Julien Le Dem <julien@ledem.net>
Date:   Tue Nov 17 17:19:35 2015 -0800

    DRILL-4103: add drill.version to parquet metadata
    
    This closes #264

 .../drill/exec/store/parquet/ParquetRecordWriter.java |  4 ++++
 .../exec/physical/impl/writer/TestParquetWriter.java  | 19 +++++++++++++++++++
 2 files changed, 23 insertions(+)

commit f7786cc7c5eb3c7febde90ac588b52b473a2b1ea
Author: Julien Le Dem <julien@ledem.net>
Date:   Fri Nov 13 11:26:05 2015 -0800

    DRILL-4047: Support querying a table with options
    
    - simplify DrillOperatorTable; separate TranslatableTable from DrillTable
    - fix table name in error message; improve tests debugability
    - FormatCreator refactor
    
    Update calcite fork version to r9
    
    This closes #246

 .../drill/exec/planner/sql/HiveUDFOperator.java    |   5 +
 exec/java-exec/pom.xml                             |   5 +
 .../exec/planner/common/DrillScanRelBase.java      |   7 +-
 .../drill/exec/planner/logical/DrillTable.java     |   1 -
 .../planner/logical/DrillTranslatableTable.java    |  81 ++++++
 .../org/apache/drill/exec/planner/sql/Checker.java |   5 +
 .../drill/exec/planner/sql/DrillOperatorTable.java |  15 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  20 +-
 .../apache/drill/exec/store/dfs/FormatCreator.java | 112 ++++++--
 .../store/dfs/FormatPluginOptionExtractor.java     | 115 ++++++++
 .../store/dfs/FormatPluginOptionsDescriptor.java   | 195 +++++++++++++
 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 310 +++++++++++++++++++--
 .../exec/store/easy/json/JSONFormatPlugin.java     |   2 +-
 .../sequencefile/SequenceFileFormatConfig.java     |   4 +-
 .../exec/store/easy/text/TextFormatPlugin.java     |   3 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  15 +-
 .../java/org/apache/drill/DrillTestWrapper.java    |   4 +-
 .../java/org/apache/drill/TestFrameworkTest.java   |  17 +-
 .../org/apache/drill/TestSelectWithOption.java     | 225 +++++++++++++++
 .../store/dfs/TestFormatPluginOptionExtractor.java |  67 +++++
 pom.xml                                            |   2 +-
 21 files changed, 1116 insertions(+), 94 deletions(-)

commit 367d74a65ce2871a1452361cbd13bbd5f4a6cc95
Author: Hanifi Gunes <hanifigunes@gmail.com>
Date:   Mon Nov 16 18:33:13 2015 -0800

    DRILL-2618: handle queries over empty folders consistently so that they report table not found rather than failing.
    Refactor FileSelection to eliminate redundancy, make it more managable
    Fix WorkspaceSchemaFactory to handle empty folders.
    Introduce ParquetFileSelection, a sub-class of FileSelection that carries along metadata cache
    Fix MagicStringMatcher so that it operate on files only.
    Unit test file selection

 .../org/apache/drill/common/util/TestTools.java    |  23 ++
 .../planner/FileSystemPartitionDescriptor.java     |   4 +-
 .../exec/planner/ParquetPartitionDescriptor.java   |   5 +-
 .../drill/exec/store/dfs/BasicFormatMatcher.java   |  12 +-
 .../apache/drill/exec/store/dfs/FileSelection.java | 279 +++++++++++----------
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |   1 -
 .../drill/exec/store/dfs/FormatSelection.java      |   4 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  24 +-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |   6 +-
 .../sequencefile/SequenceFileFormatPlugin.java     |   1 -
 .../exec/store/parquet/ParquetFileSelection.java   |  62 +++++
 .../exec/store/parquet/ParquetFormatPlugin.java    |   6 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  10 +-
 .../drill/exec/store/dfs/TestFileSelection.java    |  66 +++++
 14 files changed, 342 insertions(+), 161 deletions(-)

commit bd39d30024431cf7eb2939f5b336b82c3b1dbe93
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Tue Nov 17 11:38:34 2015 -0800

    DRILL:3854: Ensure the readIndex of DrillBuf[] returned by ValueVector.getBuffers points at 0

 .../apache/drill/exec/memory/TestAllocators.java   | 63 ++++++++++++++++++++++
 .../exec/physical/impl/TestConvertFunctions.java   | 35 ++++++++++++
 .../drill/exec/vector/BaseDataValueVector.java     |  2 +-
 3 files changed, 99 insertions(+), 1 deletion(-)

commit 758cd917b4bf6024c95c7b477c91112f997973bd
Author: aleph-zero <andrew@primer.org>
Date:   Mon Nov 16 13:51:31 2015 -0800

    DRILL-4094: Respect skipTests in JDBC plugin tests.
    
    Modifies the pom.xml for the JDBC plugin to respect the maven
    -DskipTests flag.
    
    This closes #261

 contrib/storage-jdbc/pom.xml | 3 +++
 1 file changed, 3 insertions(+)

commit 653388772550936bc132caf4175c3a7eb0b592f2
Author: Hakim <hakim@ADENECHE.local>
Date:   Mon Nov 23 12:36:30 2015 -0800

    DRILL-3543: Add stats for external sort to a query profile
    
    this closes #280

 .../drill/exec/ops/OperatorMetricRegistry.java     |  2 ++
 .../physical/impl/xsort/ExternalSortBatch.java     | 26 +++++++++++++++++++++-
 2 files changed, 27 insertions(+), 1 deletion(-)

commit f7a0d38eac0024e745c035eb0f606acbf573418f
Author: Hanifi Gunes <hanifigunes@gmail.com>
Date:   Tue Nov 3 16:24:48 2015 -0800

    DRILL-3171: handle concurrent Zookeeper node creation gracefully

 .../drill/exec/store/StoragePluginRegistry.java    |  52 ++++----
 .../drill/exec/store/sys/zk/ZkAbstractStore.java   | 133 ++++++++++++++++-----
 .../apache/drill/exec/store/sys/zk/ZkEStore.java   |  27 +----
 .../drill/exec/store/sys/zk/ZkEStoreProvider.java  |   7 +-
 .../apache/drill/exec/store/sys/zk/ZkPStore.java   |  17 +--
 .../drill/exec/store/sys/zk/ZkPStoreProvider.java  |   3 +-
 6 files changed, 141 insertions(+), 98 deletions(-)

commit a6a0fc37779399c936237143572ec57142e0039c
Author: Hanifi Gunes <hanifigunes@gmail.com>
Date:   Fri Nov 13 15:51:31 2015 -0800

    DRILL-4089: make JSON pretty printing configurable
    Use system dependent line-feed to seperate records when pretty printing is turned off
    refactor ExecConstants to eliminate unneeded modifier & accessor declarations

 .../java/org/apache/drill/exec/ExecConstants.java  | 280 +++++++++++----------
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../exec/store/easy/json/JSONFormatPlugin.java     |   1 +
 .../exec/store/easy/json/JsonRecordWriter.java     |   6 +
 4 files changed, 149 insertions(+), 139 deletions(-)

commit e0c9b841d4001c2574cf015a91974c536528d345
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Nov 3 15:51:10 2015 -0800

    DRILL-3765: Move partitioning pruning to HepPlanner to avoid the performance overhead for redundant rule execution.
    
    Add fall back option in planner.
    
    close apache/drill#255

 .../logical/HivePushPartitionFilterIntoScan.java   | 13 +++-
 .../exec/planner/common/DrillJoinRelBase.java      |  2 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  | 27 ++++++-
 .../drill/exec/planner/logical/DrillScanRel.java   | 32 +++++++-
 .../logical/partition/ParquetPruneScanRule.java    | 13 +++-
 .../planner/logical/partition/PruneScanRule.java   | 15 +++-
 .../exec/planner/physical/PlannerSettings.java     |  7 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 27 +++++--
 .../planner/sql/handlers/DefaultSqlHandler.java    | 88 +++++++++++-----------
 .../exec/server/options/SystemOptionManager.java   |  3 +-
 10 files changed, 159 insertions(+), 68 deletions(-)

commit ea8e17d7bb8b82479138d17245f4c7333de430a3
Author: Steven Phillips <smp@apache.org>
Date:   Fri Nov 13 11:27:16 2015 -0800

    DRILL-4081: Handle schema changes in ExternalSort
    
    closes #257

 .../exec/expr/fn/FunctionGenerationHelper.java     |  74 ++++++----
 .../drill/exec/expr/fn/impl/UnionFunctions.java    |  92 ++++++++++++
 .../physical/impl/sort/SortRecordBatchBuilder.java |   9 ++
 .../drill/exec/physical/impl/xsort/BatchGroup.java |  24 ++-
 .../physical/impl/xsort/ExternalSortBatch.java     |  49 ++++---
 .../exec/physical/impl/xsort/MSortTemplate.java    |   2 +-
 .../physical/impl/xsort/SingleBatchSorter.java     |   3 +-
 .../impl/xsort/SingleBatchSorterTemplate.java      |   5 +-
 .../org/apache/drill/exec/record/BatchSchema.java  |  37 +++++
 .../drill/exec/record/HyperVectorWrapper.java      |  23 +--
 .../org/apache/drill/exec/record/SchemaUtil.java   | 163 +++++++++++++++++++++
 .../drill/exec/record/SimpleVectorWrapper.java     |  58 +-------
 .../org/apache/drill/exec/util/BatchPrinter.java   |  37 +++++
 .../exec/physical/impl/xsort/TestExternalSort.java | 139 ++++++++++++++++++
 .../src/main/codegen/templates/ComplexCopier.java  |   4 +-
 .../src/main/codegen/templates/UnionVector.java    |  16 +-
 .../exec/vector/complex/AbstractMapVector.java     |   2 +-
 .../drill/exec/vector/complex/FieldIdUtil.java     |  63 ++++++++
 18 files changed, 666 insertions(+), 134 deletions(-)

commit cd01107217c751e59be7525b725035f5deecd75a
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu Nov 12 15:01:10 2015 -0800

    DRILL-4083: ScanPrel's CPU cost should not be zero even if column count is zero
    
    close apache/drill#253

 .../java/org/apache/drill/exec/hive/TestHiveStorage.java  | 15 +++++++++++++++
 .../org/apache/drill/exec/planner/physical/ScanPrel.java  |  5 +++--
 2 files changed, 18 insertions(+), 2 deletions(-)

commit e22b8ff2771b6e3b7b8274bd44e29f27151fc80c
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Nov 13 00:28:52 2015 -0800

    DRILL-2601: log the query text and query id right at the beginning of foreman's runSQL().

 .../src/main/java/org/apache/drill/exec/work/foreman/Foreman.java     | 4 ++++
 1 file changed, 4 insertions(+)

commit 447f8ba536ff6d17116211141c67eeecd1704fb8
Author: Julien Le Dem <julien@ledem.net>
Date:   Thu Nov 12 14:27:26 2015 -0800

    DRILL-4082: Better error message when multiple versions of the same function are found by the classpath scanner
    
    This closes #252

 .../org/apache/drill/common/scanner/ClassPathScanner.java  | 14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit f38a96ba9477b7b4bfdcef659fd59a0c3cc53e26
Author: aleph-zero <andrew@primer.org>
Date:   Mon Nov 9 11:42:54 2015 -0800

    DRILL-3791: MySQL tests for JDBC plugin
    
    This commit adds integration tests for the JDBC plugin with MySQL. It
    also refactors the existing Derby tests to have the same general pattern
    as the MySQL tests: data is defined in an external .sql file and maven
    is used to start/stop external resources for testing.
    
    Add tests for ENUM and YEAR types.
    
    Tests for the CLOB type with Derby.
    
    This closes #251

 contrib/storage-jdbc/pom.xml                       | 211 ++++++++++++++++++++-
 .../drill/exec/store/jdbc/TestJdbcPlugin.java      | 181 ------------------
 .../exec/store/jdbc/TestJdbcPluginWithDerbyIT.java | 129 +++++++++++++
 .../exec/store/jdbc/TestJdbcPluginWithMySQLIT.java | 128 +++++++++++++
 .../test/resources/bootstrap-storage-plugins.json  |  21 +-
 .../src/test/resources/derby-test-data.sql         |  57 ++++++
 .../src/test/resources/mysql-test-data.sql         |  97 ++++++++++
 .../java/org/apache/drill/DrillTestWrapper.java    |   5 -
 8 files changed, 632 insertions(+), 197 deletions(-)

commit a639c51c7b893e16bd714ef659395a4207a4c5be
Author: adeneche <adeneche@gmail.com>
Date:   Mon Sep 21 14:32:25 2015 -0700

    DRILL-3786: Query with window function fails with IllegalFormatConversionException
    
    this closes #239

 .../apache/drill/exec/physical/impl/sort/SortRecordBatchBuilder.java  | 2 +-
 .../org/apache/drill/exec/physical/impl/xsort/ExternalSortBatch.java  | 4 ++++
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 7a151d691979acb12f1d9b5fac54f1179a4b095b
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Nov 12 17:32:06 2015 -0800

    Roll forward to 1.4.0-SNAPSHOT

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/gis/pom.xml                          | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/memory/base/pom.xml                     | 2 +-
 exec/memory/impl/pom.xml                     | 2 +-
 exec/memory/pom.xml                          | 2 +-
 exec/pom.xml                                 | 2 +-
 exec/rpc/pom.xml                             | 2 +-
 exec/vector/pom.xml                          | 2 +-
 logical/pom.xml                              | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 tools/fmpp/pom.xml                           | 2 +-
 tools/pom.xml                                | 2 +-
 27 files changed, 27 insertions(+), 27 deletions(-)

commit 2359294cfc936773ebcc3f187b79222ec88cc1e5
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Nov 6 14:25:05 2015 -0800

    DRILL-4085: Disable RPC thread offload until concurrency bug is found.

 .../src/main/java/org/apache/drill/exec/rpc/RpcBus.java    | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit bdd2386e284b21727b3498624a01fd1fbf429dea
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Nov 10 16:04:09 2015 -0800

    DRILL-4065: Maintain a cache of created UserGroupInformation objects so that we don't accidentally generate thousands of FileSystem objects & threads.

 .../apache/drill/exec/util/ImpersonationUtil.java  | 80 +++++++++++++++++++---
 1 file changed, 72 insertions(+), 8 deletions(-)

commit 494492f189ff68480e12c6b40194e7a073d544e4
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Nov 8 10:37:05 2015 -0800

    DRILL-3987: (CLEANUP) Final cleanups to get complete working build/distribution
    
    - small cleanups
    - move Hook to drill-adbc
    - update distribution assembly to include new modules
    
    This closes #250

 common/pom.xml                                     | 22 --------
 .../apache/drill/common/scanner/BuildTimeScan.java |  9 ++++
 .../apache/drill/exec/metrics/DrillMetrics.java    |  6 +--
 common/src/main/resources/drill-module.conf        | 14 ++++-
 .../drill/common/exceptions/TestUserException.java |  3 +-
 .../drill/exec/store/hive/HiveFieldConverter.java  |  4 +-
 .../drill/exec/store/hive/HiveUtilities.java       |  4 +-
 distribution/pom.xml                               | 25 +++++++++
 distribution/src/assemble/bin.xml                  |  5 ++
 .../exec/expr/fn/DrillComplexWriterFuncHolder.java |  4 +-
 .../exec/record/VectorAccessibleComplexWriter.java | 48 ++++++++++++++++++
 .../java-exec/src/main/resources/drill-module.conf | 12 -----
 .../org/apache/drill/TestAllocationException.java  |  9 ++--
 .../org/apache/drill/TestOutOfMemoryOutcome.java   |  3 +-
 .../drill/exec/compile/TestEvaluationVisitor.java  |  2 +-
 ...Drill2130JavaExecHamcrestConfigurationTest.java | 12 +++--
 .../work/fragment/TestFragmentExecutorCancel.java  |  6 ++-
 .../src/test/resources/drill-oom-xsort.conf        |  2 -
 exec/jdbc/pom.xml                                  |  5 ++
 .../drill/jdbc/impl/DrillConnectionImpl.java       |  2 +-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java | 10 ++--
 .../org/apache/drill/jdbc/DrillResultSetTest.java  | 13 +++--
 .../test/java/org/apache/drill/jdbc/test/Hook.java | 59 ++++++++++++++++++++++
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |  2 -
 .../apache/drill/exec/memory/BoundsChecking.java   | 17 +++++++
 .../drill/exec/memory/TopLevelAllocator.java       |  8 +--
 .../impl/src/main/resources/drill-module.conf      | 25 +++++++++
 logical/pom.xml                                    | 22 ++++++--
 .../common/logical/FormatPluginConfigBase.java     | 13 ++++-
 logical/src/main/resources/drill-module.conf       | 19 +++++++
 .../drill/common/expression/parser/TreeTest.java   |  5 +-
 pom.xml                                            |  1 +
 32 files changed, 305 insertions(+), 86 deletions(-)

commit 44dea433395f00126021e72eb581e0f07e481d0a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Nov 8 09:35:45 2015 -0800

    DRILL-3987: (MOVE) Move logical expressions and operators out of common. Move to new drill-logical model.

 .../java/org/apache/drill/common/util/Hook.java    |  79 ----------
 exec/java-exec/pom.xml                             |   5 +
 .../apache/drill/common/SerializedExecutor.java    |   0
 exec/vector/pom.xml                                |  24 ++-
 logical/pom.xml                                    | 163 +++++++++++++++++++++
 .../drill/common/expression/parser/ExprLexer.g     |   0
 .../drill/common/expression/parser/ExprParser.g    |   0
 .../java/org/apache/drill/common/JSONOptions.java  |   0
 .../common/config/LogicalPlanPersistence.java      |   0
 .../common/exceptions/ExecutionSetupException.java |   0
 .../exceptions/ExpressionParsingException.java     |   0
 .../LogicalOperatorValidationException.java        |   0
 .../exceptions/LogicalPlanParsingException.java    |   0
 .../drill/common/expression/BooleanOperator.java   |   0
 .../drill/common/expression/CastExpression.java    |   0
 .../drill/common/expression/ConvertExpression.java |   0
 .../drill/common/expression/ErrorCollector.java    |   0
 .../common/expression/ErrorCollectorImpl.java      |   0
 .../common/expression/ExpressionFunction.java      |   0
 .../common/expression/ExpressionPosition.java      |   0
 .../common/expression/ExpressionStringBuilder.java |   0
 .../drill/common/expression/FieldReference.java    |   0
 .../drill/common/expression/FunctionCall.java      |   0
 .../common/expression/FunctionCallFactory.java     |   0
 .../expression/FunctionHolderExpression.java       |   0
 .../drill/common/expression/FunctionName.java      |   0
 .../drill/common/expression/IfExpression.java      |   0
 .../drill/common/expression/LogicalExpression.java |   0
 .../common/expression/LogicalExpressionBase.java   |   0
 .../drill/common/expression/NullExpression.java    |   0
 .../common/expression/OutputTypeDeterminer.java    |   0
 .../drill/common/expression/PathSegment.java       |   0
 .../apache/drill/common/expression/SchemaPath.java |   0
 .../drill/common/expression/TypedNullConstant.java |   0
 .../drill/common/expression/ValidationError.java   |   0
 .../drill/common/expression/ValueExpressions.java  |   0
 .../drill/common/expression/fn/CastFunctions.java  |   0
 .../drill/common/expression/fn/FuncHolder.java     |   0
 .../drill/common/expression/fn/package-info.java   |   0
 .../drill/common/expression/package-info.java      |   0
 .../drill/common/expression/types/AtomType.java    |   0
 .../drill/common/expression/types/DataType.java    |   0
 .../common/expression/types/DataTypeFactory.java   |   0
 .../common/expression/types/LateBindType.java      |   0
 .../common/expression/types/package-info.java      |   0
 .../expression/visitors/AbstractExprVisitor.java   |   0
 .../expression/visitors/AggregateChecker.java      |   0
 .../visitors/ConditionalExprOptimizer.java         |   0
 .../expression/visitors/ConstantChecker.java       |   0
 .../common/expression/visitors/ExprVisitor.java    |   0
 .../visitors/ExpressionValidationError.java        |   0
 .../visitors/ExpressionValidationException.java    |   0
 .../expression/visitors/ExpressionValidator.java   |   0
 .../common/expression/visitors/OpVisitor.java      |   0
 .../expression/visitors/SimpleExprVisitor.java     |   0
 .../common/expression/visitors/package-info.java   |   0
 .../apache/drill/common/graph/AdjacencyList.java   |   0
 .../drill/common/graph/AdjacencyListBuilder.java   |   0
 .../java/org/apache/drill/common/graph/Edge.java   |   0
 .../java/org/apache/drill/common/graph/Graph.java  |   0
 .../org/apache/drill/common/graph/GraphAlgos.java  |   0
 .../org/apache/drill/common/graph/GraphValue.java  |   0
 .../apache/drill/common/graph/GraphVisitor.java    |   0
 .../org/apache/drill/common/graph/Visitable.java   |   0
 .../apache/drill/common/graph/package-info.java    |   0
 .../drill/common/logical/FormatPluginConfig.java   |   0
 .../common/logical/FormatPluginConfigBase.java     |   0
 .../apache/drill/common/logical/LogicalPlan.java   |   0
 .../drill/common/logical/LogicalPlanBuilder.java   |   0
 .../drill/common/logical/PlanProperties.java       |   0
 .../drill/common/logical/StoragePluginConfig.java  |   0
 .../common/logical/StoragePluginConfigBase.java    |   0
 .../common/logical/UnexpectedOperatorType.java     |   0
 .../drill/common/logical/ValidationError.java      |   0
 .../drill/common/logical/data/AbstractBuilder.java |   0
 .../common/logical/data/AbstractSingleBuilder.java |   0
 .../apache/drill/common/logical/data/Filter.java   |   0
 .../apache/drill/common/logical/data/Flatten.java  |   0
 .../common/logical/data/GroupingAggregate.java     |   0
 .../org/apache/drill/common/logical/data/Join.java |   0
 .../drill/common/logical/data/JoinCondition.java   |   0
 .../apache/drill/common/logical/data/Limit.java    |   0
 .../drill/common/logical/data/LogicalOperator.java |   0
 .../common/logical/data/LogicalOperatorBase.java   |   0
 .../drill/common/logical/data/NamedExpression.java |   0
 .../apache/drill/common/logical/data/Order.java    |   0
 .../apache/drill/common/logical/data/Project.java  |   0
 .../common/logical/data/RunningAggregate.java      |   0
 .../org/apache/drill/common/logical/data/Scan.java |   0
 .../apache/drill/common/logical/data/Sequence.java |   0
 .../common/logical/data/SingleInputOperator.java   |   0
 .../drill/common/logical/data/SinkOperator.java    |   0
 .../drill/common/logical/data/SourceOperator.java  |   0
 .../apache/drill/common/logical/data/Store.java    |   0
 .../drill/common/logical/data/Transform.java       |   0
 .../apache/drill/common/logical/data/Union.java    |   0
 .../apache/drill/common/logical/data/Values.java   |   0
 .../apache/drill/common/logical/data/Window.java   |   0
 .../apache/drill/common/logical/data/Writer.java   |   0
 .../drill/common/logical/data/package-info.java    |   0
 .../data/visitors/AbstractLogicalVisitor.java      |   0
 .../logical/data/visitors/LogicalVisitor.java      |   0
 .../common/logical/data/visitors/package-info.java |   0
 .../apache/drill/common/logical/package-info.java  |   0
 .../drill/common/util/AbstractDynamicBean.java     |   0
 .../drill/common/expression/PathSegmentTests.java  |   0
 .../drill/common/expression/parser/TreeTest.java   |   0
 .../drill/common/logical/data/OrderTest.java       |   0
 .../apache/drill/storage/CheckStorageConfig.java   |   0
 109 files changed, 186 insertions(+), 85 deletions(-)

commit a289fd941a33833524516dea1a3f75ea853aa055
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Nov 8 09:09:05 2015 -0800

    DRILL-3987: (REFACTOR) Remove any parent Drill dependencies for drill-memory-base.

 exec/memory/base/pom.xml                           | 23 ----------------------
 .../io/netty/buffer/PooledByteBufAllocatorL.java   | 15 +++++++++-----
 .../io/netty/buffer/UnsafeDirectLittleEndian.java  | 11 ++++++++---
 .../drill/exec/exception/OutOfMemoryException.java |  3 +--
 4 files changed, 19 insertions(+), 33 deletions(-)

commit 363bf33d1323157818582ad66a3d3b37eadeaa77
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Nov 8 08:20:19 2015 -0800

    DRILL-3987: (CLEANUP) Delete unused files

 .../drill/common/storage/proto/ProtoLexer.g.bk     | 287 ----------
 .../drill/common/storage/proto/ProtoParser.g.bk    | 605 ---------------------
 2 files changed, 892 deletions(-)

commit 62353a6fd301e4ff5ddce522b28b47a76c284af4
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Nov 7 19:44:58 2015 -0800

    DRILL-3987: (REFACTOR) Extract BoundsChecking check from AssertionUtil. Remove unused file.

 .../java/com/google/protobuf/WireFormatProxy.java  | 27 ----------------------
 .../org/apache/drill/exec/util/AssertionUtil.java  |  6 ++---
 .../exec/expr/fn/impl/StringFunctionHelpers.java   |  4 ++--
 .../org/apache/drill/exec/expr/fn/impl/XXHash.java |  6 ++---
 .../exec/store/easy/text/compliant/TextInput.java  |  6 ++---
 .../src/main/java/io/netty/buffer/DrillBuf.java    |  4 ++--
 .../apache/drill/exec/memory/BoundsChecking.java   | 17 ++++++++++++++
 .../exec/expr/fn/impl/ByteFunctionHelpers.java     |  4 ++--
 8 files changed, 30 insertions(+), 44 deletions(-)

commit 1fde9bb1505f04e0b0a1afb542a1aa5dfd20ed1b
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Nov 7 19:28:54 2015 -0800

    DRILL-3987: (MOVE) Extract RPC, memory-base and memory-impl as separate modules.

 common/pom.xml                                     | 20 +++----
 .../exceptions/LogicalPlanParsingException.java    | 27 ---------
 .../apache/drill/exec/metrics/DrillMetrics.java    | 12 ++--
 .../org/apache/drill/exec/util/AssertionUtil.java  |  0
 exec/java-exec/pom.xml                             | 26 ++++----
 .../java/org/apache/drill/exec/ExecConstants.java  | 12 +---
 .../org/apache/drill/exec/client/DrillClient.java  |  2 +-
 .../drill/exec/client/PrintingResultsListener.java |  2 +-
 .../exec/metrics/SingleThreadNestedCounter.java    | 54 -----------------
 .../rpc/user/AwaitableUserResultsListener.java     |  1 +
 .../drill/exec/rpc/user/QueryResultHandler.java    |  1 +
 .../org/apache/drill/exec/rpc/user/UserClient.java |  1 +
 .../drill/exec/rpc/user/UserResultsListener.java   |  1 +
 .../drill/exec/server/rest/QueryWrapper.java       |  3 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  3 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  2 +-
 .../java/org/apache/drill/SingleRowListener.java   |  2 +-
 .../apache/drill/exec/memory/TestAllocators.java   | 14 ++---
 .../drill/exec/server/TestDrillbitResilience.java  |  2 +-
 .../exec/store/parquet/ParquetResultListener.java  |  2 +-
 .../store/parquet/TestParquetPhysicalPlan.java     |  2 +-
 exec/memory/base/pom.xml                           | 63 +++++++++++++++++++
 .../src/main/java/io/netty/buffer/DrillBuf.java    |  0
 .../main/java/io/netty/buffer/FakeAllocator.java   |  0
 .../src/main/java/io/netty/buffer/LargeBuffer.java |  0
 .../io/netty/buffer/PooledByteBufAllocatorL.java   |  0
 .../io/netty/buffer/UnsafeDirectLittleEndian.java  |  2 +-
 .../drill/exec/exception/OutOfMemoryException.java |  0
 .../org/apache/drill/exec/memory/Accountor.java    |  0
 .../apache/drill/exec/memory/BufferAllocator.java  |  0
 .../apache/drill/exec/memory/LimitConsumer.java    |  0
 .../org/apache/drill/exec/ops/BufferManager.java   |  0
 .../java/org/apache/drill/exec/util/Pointer.java   |  0
 exec/memory/impl/pom.xml                           | 68 +++++++++++++++++++++
 .../apache/drill/exec/memory/AccountorImpl.java    |  9 ++-
 .../apache/drill/exec/memory/AtomicRemainder.java  |  0
 .../drill/exec/memory/RootAllocatorFactory.java    |  0
 .../drill/exec/memory/TopLevelAllocator.java       | 11 ++--
 .../apache/drill/exec/memory/TestEndianess.java    |  4 +-
 exec/memory/pom.xml                                | 35 +++++++++++
 exec/pom.xml                                       |  2 +
 exec/rpc/pom.xml                                   | 70 ++++++++++++++++++++++
 .../drill/exec/rpc/AbstractHandshakeHandler.java   |  0
 .../main/java/org/apache/drill/exec/rpc/Acks.java  |  0
 .../drill/exec/rpc/BaseRpcOutcomeListener.java     |  0
 .../org/apache/drill/exec/rpc/BasicClient.java     |  0
 .../drill/exec/rpc/BasicClientWithConnection.java  |  1 -
 .../org/apache/drill/exec/rpc/BasicServer.java     | 12 +---
 .../drill/exec/rpc/ChannelClosedException.java     |  0
 .../rpc/ChannelListenerWithCoordinationId.java     |  0
 .../apache/drill/exec/rpc}/ConnectionThrottle.java |  2 +-
 .../apache/drill/exec/rpc/CoordinationQueue.java   |  0
 .../org/apache/drill/exec/rpc/DrillRpcFuture.java  |  0
 .../apache/drill/exec/rpc/DrillRpcFutureImpl.java  |  0
 .../apache/drill/exec/rpc/FutureBitCommand.java    |  0
 .../apache/drill/exec/rpc/InboundRpcMessage.java   |  0
 .../apache/drill/exec/rpc/ListeningCommand.java    |  0
 .../apache/drill/exec/rpc/NamedThreadFactory.java  |  0
 .../apache/drill/exec/rpc/OutOfMemoryHandler.java  |  0
 .../apache/drill/exec/rpc/OutboundRpcMessage.java  |  0
 .../drill/exec/rpc/PositiveAtomicInteger.java      |  0
 .../drill/exec/rpc/ProtobufLengthDecoder.java      |  0
 .../drill/exec/rpc/ReconnectingConnection.java     |  0
 .../apache/drill/exec/rpc/RemoteConnection.java    |  1 -
 .../apache/drill/exec/rpc/ResettableBarrier.java   |  0
 .../java/org/apache/drill/exec/rpc/Response.java   |  0
 .../org/apache/drill/exec/rpc/ResponseSender.java  |  0
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |  0
 .../apache/drill/exec/rpc/RpcCheckedFuture.java    |  0
 .../java/org/apache/drill/exec/rpc/RpcCommand.java |  0
 .../java/org/apache/drill/exec/rpc/RpcConfig.java  |  0
 .../drill/exec/rpc/RpcConnectionHandler.java       |  0
 .../org/apache/drill/exec/rpc/RpcConstants.java    |  0
 .../java/org/apache/drill/exec/rpc/RpcDecoder.java |  0
 .../java/org/apache/drill/exec/rpc/RpcEncoder.java |  0
 .../org/apache/drill/exec/rpc/RpcException.java    |  0
 .../apache/drill/exec/rpc/RpcExceptionHandler.java |  1 -
 .../java/org/apache/drill/exec/rpc/RpcMessage.java |  0
 .../java/org/apache/drill/exec/rpc/RpcOutcome.java |  0
 .../apache/drill/exec/rpc/RpcOutcomeListener.java  |  0
 .../org/apache/drill/exec/rpc/TransportCheck.java  |  5 +-
 .../apache/drill/exec/rpc/UserRpcException.java    |  0
 exec/vector/pom.xml                                | 10 ++--
 .../vector/complex/AbstractContainerVector.java    | 15 ++---
 84 files changed, 322 insertions(+), 178 deletions(-)

commit a8297dfe975b3437cf6af2996b6527e1dfe9692e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Nov 7 18:41:03 2015 -0800

    DRILL-3987: (REFACTOR) Working TPCH unit tests
    
    - Rename DecimalUtility.integerSize to INTEGER_SIZE as is constant
    - Refactor BufferManager from BufferManagerImpl

 exec/java-exec/pom.xml                             | 32 +++++++++++++++++++---
 .../Decimal/CastDecimalDenseDecimalSparse.java     |  8 +++---
 .../templates/Decimal/CastDecimalSimilar.java      |  2 +-
 .../Decimal/CastDecimalSparseDecimalDense.java     | 12 ++++----
 .../templates/Decimal/CastDownwardDecimal.java     |  2 +-
 .../templates/Decimal/CastFloatDecimal.java        |  2 +-
 .../codegen/templates/Decimal/CastIntDecimal.java  |  2 +-
 .../templates/Decimal/CastSrcDecimalSimple.java    |  6 ++--
 .../templates/Decimal/CastVarCharDecimal.java      |  2 +-
 .../templates/Decimal/DecimalFunctions.java        | 10 +++----
 .../src/main/codegen/templates/TypeHelper.java     |  2 +-
 .../apache/drill/exec/memory/AccountorImpl.java    | 11 ++++++--
 .../drill/exec/memory/TopLevelAllocator.java       |  4 ++-
 .../apache/drill/exec/ops/BufferManagerImpl.java   | 17 ++++++++++++
 .../apache/drill/exec/memory/TestAllocators.java   |  4 +--
 exec/vector/pom.xml                                | 10 +++++++
 .../main/codegen/templates/BasicTypeHelper.java    |  4 +--
 17 files changed, 95 insertions(+), 35 deletions(-)

commit 4524fdbe938324af9eebeea2f8863ecb62c66a25
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Nov 7 18:16:05 2015 -0800

    DRILL-3987: (REFACTOR) Common and Vector modules building.
    
    - Extract Accountor interface from Implementation
    - Separate FMPP modules to separate out Vector Needs versus external needs
    - Separate out Vector classes from those that are VectorAccessible.
    - Cleanup Memory Exception hiearchy

 .../src/main/codegen/includes/vv_imports.ftl       |   2 +-
 .../src/main/codegen/templates/TypeHelper.java     |  95 +++++++++++++++++
 .../org/apache/drill/exec/client/DrillClient.java  |   2 +-
 .../memory/{Accountor.java => AccountorImpl.java}  | 115 +++++++--------------
 .../drill/exec/memory/TopLevelAllocator.java       |  70 ++++++-------
 .../apache/drill/exec/ops/BufferManagerImpl.java   |  46 +++++++++
 .../org/apache/drill/exec/ops/FragmentContext.java |  45 ++++++--
 .../apache/drill/exec/ops/OperatorContextImpl.java |  52 ++++------
 .../org/apache/drill/exec/ops/QueryContext.java    |  15 +--
 .../drill/exec/physical/impl/BaseRootExec.java     |   2 +-
 .../exec/physical/impl/MergingReceiverCreator.java |   2 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |   7 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |   7 +-
 .../exec/physical/impl/SingleSenderCreator.java    |   6 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |   2 +-
 .../exec/physical/impl/WriterRecordBatch.java      |   2 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |   2 +-
 .../broadcastsender/BroadcastSenderRootExec.java   |   6 +-
 .../physical/impl/filter/FilterRecordBatch.java    |   2 +-
 .../exec/physical/impl/filter/FilterTemplate2.java |   4 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |   2 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |   2 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |   2 +-
 .../physical/impl/join/NestedLoopJoinBatch.java    |   3 +-
 .../exec/physical/impl/limit/LimitRecordBatch.java |   2 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |   3 +-
 .../OrderedPartitionRecordBatch.java               |   2 +-
 .../partitionsender/PartitionSenderRootExec.java   |   6 +-
 .../impl/producer/ProducerConsumerBatch.java       |   8 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   2 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   2 +-
 .../impl/svremover/RemovingRecordBatch.java        |   2 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |   6 +-
 .../unorderedreceiver/UnorderedReceiverBatch.java  |   2 +-
 .../impl/window/WindowFrameRecordBatch.java        |   3 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |  11 +-
 .../drill/exec/record/AbstractRecordBatch.java     |   2 +-
 .../exec/record/AbstractSingleRecordBatch.java     |   2 +-
 .../exec/record/selection/SelectionVector2.java    |   4 +-
 .../drill/exec/rpc/ProtobufLengthDecoder.java      |   4 +-
 .../drill/exec/store/AbstractRecordReader.java     |   2 +-
 .../org/apache/drill/exec/store/RecordReader.java  |   2 +-
 .../exec/store/easy/json/JSONRecordReader.java     |   2 +-
 .../drill/exec/store/mock/MockRecordReader.java    |   2 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |   3 +-
 .../exec/store/parquet/ParquetRecordWriter.java    |   3 +-
 .../parquet/columnreaders/ParquetRecordReader.java |   3 +-
 .../exec/store/parquet2/DrillParquetReader.java    |   3 +-
 .../drill/exec/store/pojo/PojoRecordReader.java    |   2 +-
 .../exec/work/batch/AbstractDataCollector.java     |   2 +-
 .../exec/work/batch/SpoolingRawBatchBuffer.java    |   2 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |   7 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |   4 +-
 .../parquet/hadoop/ColumnChunkIncReadStore.java    |   4 +-
 .../test/java/org/apache/drill/QueryTestUtil.java  |   2 +-
 .../org/apache/drill/TestAllocationException.java  |   4 +-
 .../apache/drill/exec/memory/TestAllocators.java   |   4 +-
 .../impl/partitionsender/TestPartitionSender.java  |   2 +-
 .../drill/exec/server/DrillClientFactory.java      |   2 +-
 exec/vector/pom.xml                                |   6 ++
 .../src/main/codegen/includes/vv_imports.ftl       |   2 +-
 .../{TypeHelper.java => BasicTypeHelper.java}      |  70 ++-----------
 .../main/codegen/templates/FixedValueVectors.java  |   6 +-
 .../codegen/templates/NullableValueVectors.java    |   4 +-
 .../codegen/templates/RepeatedValueVectors.java    |   6 +-
 .../src/main/codegen/templates/UnionVector.java    |   2 +-
 .../codegen/templates/VariableLengthVectors.java   |   6 +-
 .../src/main/java/io/netty/buffer/DrillBuf.java    |  18 +---
 .../main/java/io/netty/buffer/FakeAllocator.java   |  45 ++++++--
 .../io/netty/buffer/PooledByteBufAllocatorL.java   |   9 +-
 .../exec/exception}/OutOfMemoryException.java      |  10 +-
 .../exception/OversizedAllocationException.java    |   1 -
 .../exec/expr/fn/impl/ByteFunctionHelpers.java     |   4 +-
 .../drill/exec/expr/fn/impl/DateUtility.java       |   0
 .../org/apache/drill/exec/memory/Accountor.java    |  43 ++++++++
 .../apache/drill/exec/memory/BufferAllocator.java  |  30 +++---
 ...oryRuntimeException.java => LimitConsumer.java} |  31 +-----
 .../org/apache/drill/exec/ops/BufferManager.java   |  67 +++++-------
 .../drill/exec/record/MaterializedField.java       |   4 +-
 .../org/apache/drill/exec/record/TypedFieldId.java |   5 +-
 .../org/apache/drill/exec/util/AssertionUtil.java  |   0
 .../org/apache/drill/exec/util/DecimalUtility.java |  16 +--
 .../apache/drill/exec/vector/AllocationHelper.java |   2 +-
 .../org/apache/drill/exec/vector/BitVector.java    |   6 +-
 .../org/apache/drill/exec/vector/ObjectVector.java |   6 +-
 .../drill/exec/vector/ValueHolderHelper.java       |  10 +-
 .../org/apache/drill/exec/vector/ValueVector.java  |   6 +-
 .../org/apache/drill/exec/vector/ZeroVector.java   |   4 +-
 .../vector/complex/AbstractContainerVector.java    |   6 +-
 .../exec/vector/complex/AbstractMapVector.java     |  18 ++--
 .../vector/complex/BaseRepeatedValueVector.java    |  12 ++-
 .../drill/exec/vector/complex/ListVector.java      |   4 +-
 .../drill/exec/vector/complex/MapVector.java       |   9 +-
 .../exec/vector/complex/RepeatedListVector.java    |   8 +-
 .../exec/vector/complex/RepeatedMapVector.java     |   8 +-
 .../vector/complex/impl/ComplexWriterImpl.java     |  25 -----
 .../exec/vector/complex/impl/PromotableWriter.java |  12 ++-
 97 files changed, 599 insertions(+), 531 deletions(-)

commit 9969d8bd12b090409f1a9badb904e81aeabc2aa7
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Nov 7 15:54:35 2015 -0800

    DRILL-3987: (MOVE) Extract key vector, field reader, complex/field writer classes.

 exec/java-exec/pom.xml                             |   5 +
 exec/pom.xml                                       |   1 +
 exec/vector/pom.xml                                | 146 +++++++++++++++++++++
 exec/vector/src/main/codegen/config.fmpp           |  24 ++++
 .../src/main/codegen/data/ValueVectorTypes.tdd     |   0
 exec/vector/src/main/codegen/includes/license.ftl  |  18 +++
 .../src/main/codegen/includes/vv_imports.ftl       |  74 +++++++++++
 .../codegen/templates/AbstractFieldReader.java     |   0
 .../codegen/templates/AbstractFieldWriter.java     |   0
 .../templates/AbstractPromotableFieldWriter.java   |   0
 .../src/main/codegen/templates/BaseReader.java     |   0
 .../src/main/codegen/templates/BaseWriter.java     |   0
 .../src/main/codegen/templates/ComplexCopier.java  |   0
 .../src/main/codegen/templates/ComplexReaders.java |   0
 .../src/main/codegen/templates/ComplexWriters.java |   0
 .../main/codegen/templates/FixedValueVectors.java  |   0
 .../main/codegen/templates/HolderReaderImpl.java   |   0
 .../src/main/codegen/templates/ListWriters.java    |   0
 .../src/main/codegen/templates/MapWriters.java     |   0
 .../src/main/codegen/templates/NullReader.java     |   0
 .../codegen/templates/NullableValueVectors.java    |   0
 .../codegen/templates/RepeatedValueVectors.java    |   0
 .../src/main/codegen/templates/TypeHelper.java     |   0
 .../main/codegen/templates/UnionListWriter.java    |   0
 .../src/main/codegen/templates/UnionReader.java    |   0
 .../src/main/codegen/templates/UnionVector.java    |   0
 .../src/main/codegen/templates/UnionWriter.java    |   0
 .../src/main/codegen/templates/ValueHolders.java   |   0
 .../codegen/templates/VariableLengthVectors.java   |   0
 .../src/main/java/io/netty/buffer/DrillBuf.java    |   0
 .../main/java/io/netty/buffer/FakeAllocator.java   |   0
 .../src/main/java/io/netty/buffer/LargeBuffer.java |   0
 .../io/netty/buffer/PooledByteBufAllocatorL.java   |   0
 .../io/netty/buffer/UnsafeDirectLittleEndian.java  |   0
 .../exception/OversizedAllocationException.java    |   0
 .../exception/SchemaChangeRuntimeException.java    |   0
 .../drill/exec/expr/holders/ComplexHolder.java     |   0
 .../drill/exec/expr/holders/ObjectHolder.java      |   0
 .../exec/expr/holders/RepeatedListHolder.java      |   0
 .../drill/exec/expr/holders/RepeatedMapHolder.java |   0
 .../drill/exec/expr/holders/UnionHolder.java       |   0
 .../drill/exec/expr/holders/ValueHolder.java       |   0
 .../apache/drill/exec/memory/BufferAllocator.java  |   0
 .../exec/memory/OutOfMemoryRuntimeException.java   |   0
 .../drill/exec/record/MaterializedField.java       |   0
 .../org/apache/drill/exec/record/TransferPair.java |   0
 .../org/apache/drill/exec/record/TypedFieldId.java |   0
 .../java/org/apache/drill/exec/util/CallBack.java  |   0
 .../drill/exec/util/JsonStringArrayList.java       |   0
 .../apache/drill/exec/util/JsonStringHashMap.java  |   0
 .../java/org/apache/drill/exec/util/Pointer.java   |   0
 .../org/apache/drill/exec/util/TextSerializer.java |   0
 .../apache/drill/exec/vector/AddOrGetResult.java   |   0
 .../apache/drill/exec/vector/AllocationHelper.java |   0
 .../drill/exec/vector/BaseDataValueVector.java     |   0
 .../apache/drill/exec/vector/BaseValueVector.java  |   0
 .../org/apache/drill/exec/vector/BitVector.java    |   0
 .../apache/drill/exec/vector/FixedWidthVector.java |   0
 .../apache/drill/exec/vector/NullableVector.java   |   0
 .../vector/NullableVectorDefinitionSetter.java     |   0
 .../org/apache/drill/exec/vector/ObjectVector.java |   0
 .../drill/exec/vector/SchemaChangeCallBack.java    |   0
 .../drill/exec/vector/ValueHolderHelper.java       |   0
 .../org/apache/drill/exec/vector/ValueVector.java  |   0
 .../drill/exec/vector/VariableWidthVector.java     |   0
 .../apache/drill/exec/vector/VectorDescriptor.java |   0
 .../apache/drill/exec/vector/VectorTrimmer.java    |   0
 .../org/apache/drill/exec/vector/ZeroVector.java   |   0
 .../vector/complex/AbstractContainerVector.java    |   0
 .../exec/vector/complex/AbstractMapVector.java     |   0
 .../vector/complex/BaseRepeatedValueVector.java    |   0
 .../exec/vector/complex/ContainerVectorLike.java   |   0
 .../exec/vector/complex/EmptyValuePopulator.java   |   0
 .../drill/exec/vector/complex/FieldIdUtil.java     |   0
 .../drill/exec/vector/complex/ListVector.java      |   0
 .../drill/exec/vector/complex/MapVector.java       |   0
 .../drill/exec/vector/complex/Positionable.java    |   0
 .../complex/RepeatedFixedWidthVectorLike.java      |   0
 .../exec/vector/complex/RepeatedListVector.java    |   0
 .../exec/vector/complex/RepeatedMapVector.java     |   0
 .../exec/vector/complex/RepeatedValueVector.java   |   0
 .../complex/RepeatedVariableWidthVectorLike.java   |   0
 .../drill/exec/vector/complex/StateTool.java       |   0
 .../exec/vector/complex/VectorWithOrdinal.java     |   0
 .../vector/complex/impl/AbstractBaseReader.java    |   0
 .../vector/complex/impl/AbstractBaseWriter.java    |   0
 .../vector/complex/impl/ComplexWriterImpl.java     |   0
 .../exec/vector/complex/impl/PromotableWriter.java |   0
 .../complex/impl/RepeatedListReaderImpl.java       |   0
 .../vector/complex/impl/RepeatedMapReaderImpl.java |   0
 .../impl/SingleLikeRepeatedMapReaderImpl.java      |   0
 .../vector/complex/impl/SingleListReaderImpl.java  |   0
 .../vector/complex/impl/SingleMapReaderImpl.java   |   0
 .../exec/vector/complex/impl/UnionListReader.java  |   0
 .../exec/vector/complex/reader/FieldReader.java    |   0
 .../exec/vector/complex/writer/FieldWriter.java    |   0
 96 files changed, 268 insertions(+)

commit 9b88d591450110b4a238d228138097c0f664a73e
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Nov 10 23:31:16 2015 -0800

    DRILL-4071: Detect nested holistic expressions while traversing filter tree for partition pruning

 .../planner/logical/partition/FindPartitionConditions.java |  7 +++++++
 .../test/java/org/apache/drill/TestPartitionFilter.java    | 14 ++++++++++++++
 2 files changed, 21 insertions(+)

commit a0be3ae0a5a69634be98cc517bcc31c11ffec91d
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Oct 27 19:25:25 2015 -0700

    DRILL-2288: Fix ScanBatch violation of IterOutcome protocol and downstream chain of bugs.
    
    Increments:
    
    2288:  Pt. 1 Core:  Added unit test.  [Drill2288GetColumnsMetadataWhenNoRowsTest, empty.json]
    
    2288:  Pt. 1 Core:  Changed HBase test table #1's # of regions from 1 to 2.  [HBaseTestsSuite]
    
    Also added TODO(DRILL-3954) comment about # of regions.
    
    2288:  Pt. 2 Core:  Documented IterOutcome much more clearly.  [RecordBatch]
    
    Also edited some related Javadoc.
    
    2288:  Pt. 2 Hyg.:  Edited doc., added @Override, etc.  [AbstractRecordBatch, RecordBatch]
    
    Purged unused SetupOutcome.
    Added @Override.
    Edited comments.
    Fix some comments to doc. comments.
    
    2288:  Pt. 3 Core&Hyg.:  Added validation of IterOutcome sequence.  [IteratorValidatorBatchIterator]
    
    Also:
    Renamed internal members for clarity.
    Added comments.
    
    2288:  Pt. 4 Core:  Fixed a NONE -> OK_NEW_SCHEMA in ScanBatch.next().  [ScanBatch]
    
    (With nearby comments.)
    
    2288:  Pt. 4 Hyg.:  Edited comments, reordered, whitespace.  [ScanBatch]
    
    Reordered
    Added comments.
    Aligned.
    
    2288:  Pt. 4 Core+:  Fixed UnionAllRecordBatch to receive IterOutcome sequence right.  (3659)  [UnionAllRecordBatch]
    
    2288:  Pt. 5 Core:  Fixed ScanBatch.Mutator.isNewSchema() to stop spurious "new schema" reports (fix short-circuit OR, to call resetting method right).  [ScanBatch]
    
    2288:  Pt. 5 Hyg.:  Renamed, edited comments, reordered.  [ScanBatch, SchemaChangeCallBack, AbstractSingleRecordBatch]
    
    Renamed getSchemaChange -> getSchemaChangedAndReset.
    Renamed schemaChange -> schemaChanged.
    Added doc. comments.
    Aligned.
    
    2288:  Pt. 6 Core:  Avoided dummy Null.IntVec. column in JsonReader when not needed (MapWriter.isEmptyMap()).  [JsonReader, 3 vector files]
    
    2288:  Pt. 6 Hyg.:  Edited comments, message.  Fixed message formatting.  [RecordReader, JSONFormatPlugin, JSONRecordReader, AbstractMapVector, JsonReader]
    
    Fixed message formatting.
    Edited comments.
    Edited message.
    Fixed spurious line break.
    
    2288:  Pt. 7 Core:  Added column families in HBaseRecordReader* to avoid dummy Null.IntVec. clash.  [HBaseRecordReader]
    
    2288:  Pt. 8 Core.1:  Cleared recordCount in OrderedPartitionRecordBatch.innerNext().  [OrderedPartitionRecordBatch]
    
    2288:  Pt. 8 Core.2:  Cleared recordCount in ProjectRecordBatch.innerNext.  [ProjectRecordBatch]
    
    2288:  Pt. 8 Core.3:  Cleared recordCount in TopNBatch.innerNext.  [TopNBatch]
    
    2288:  Pt. 9 Core:  Had UnorderedReceiverBatch reset RecordBatchLoader's record count.  [UnorderedReceiverBatch, RecordBatchLoader]
    
    2288:  Pt. 9 Hyg.:  Added comments.  [RecordBatchLoader]
    
    2288:  Pt. 10 Core:  Worked around mismatched map child vectors in MapVector.getObject().  [MapVector]
    
    2288:  Pt. 11 Core:  Added OK_NEW_SCHEMA schema comparison for HashAgg.  [HashAggTemplate]
    
    2288:  Pt. 12 Core:  Fixed memory leak in BaseTestQuery's printing.
    
    Fixed bad skipping of RecordBatchLoader.clear(...) and
    QueryDataBatch.load(...) for zero-row batches in printResult(...).
    
    Also, dropped suppression of call to
    VectorUtil.showVectorAccessibleContent(...) (so zero-row batches are
    as visible as others).
    
    2288:  Pt. 13 Core:  Fixed test that used unhandled periods in column alias identifiers.
    
    2288:  Misc.:  Added # of rows to showVectorAccessibleContent's output.  [VectorUtil]
    
    2288:  Misc.:  Added simple/partial toString() [VectorContainer, AbstractRecordReader, JSONRecordReader, BaseValueVector, FieldSelection, AbstractBaseWriter]
    
    2288:  Misc. Hyg.:  Added doc. comments to VectorContainer.  [VectorContainer]
    
    2288:  Misc. Hyg.:  Edited comment.  [DrillStringUtils]
    
    2288:  Misc. Hyg.:  Clarified message for unhandled identifier containing period.
    
    2288:  Pt. 3 Core&Hyg. Upd.:  Added schema comparison result to logging.  [IteratorValidatorBatchIterator]
    
    2288:  Pt. 7 Core Upd.:  Handled HBase columns too re NullableIntVectors.  [HBaseRecordReader, TestTableGenerator, TestHBaseFilterPushDown]
    
    Created map-child vectors for requested columns.
    Added unit test method testDummyColumnsAreAvoided, adding new row to test table,
    updated some row counts.
    
    2288:  Pt. 7 Hyg. Upd.:  Edited comment.  [HBaseRecordReader]
    
    2288:  Pt. 11 Core Upd.:  REVERTED all of bad OK_NEW_SCHEMA schema comparison for HashAgg.  [HashAggTemplate]
    
    This reverts commit 0939660f4620c03da97f4e1bf25a27514e6d0b81.
    
    2288:  Pt. 6 Core Upd.:  Added isEmptyMap override in new (just-rebased-in) PromotableWriter.  [PromotableWriter]
    
    Adjusted definition and default implementation of isEmptyMap (to handle MongoDB
    storage plugin's use of JsonReader).
    
    2288:  Pt. 6 Hyg. Upd.:  Purged old atLeastOneWrite flag.  [JsonReader]
    
    2288:  Pt. 14:  Disabled newly dying test testNestedFlatten().

 .../drill/common/expression/FieldReference.java    |   6 +-
 .../apache/drill/common/util/DrillStringUtils.java |   8 +-
 .../drill/exec/store/hbase/HBaseRecordReader.java  |  34 ++-
 .../apache/drill/hbase/HBaseRecordReaderTest.java  |   2 +-
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |   4 +-
 .../drill/hbase/TestHBaseFilterPushDown.java       |  28 ++-
 .../drill/hbase/TestHBaseProjectPushDown.java      |  12 +-
 .../org/apache/drill/hbase/TestTableGenerator.java |   6 +
 .../codegen/templates/AbstractFieldWriter.java     |  11 +
 .../src/main/codegen/templates/BaseWriter.java     |  11 +
 .../src/main/codegen/templates/MapWriters.java     |   5 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |  80 +++++--
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |   1 +
 .../OrderedPartitionRecordBatch.java               |   1 +
 .../physical/impl/project/ProjectRecordBatch.java  |   1 +
 .../physical/impl/union/UnionAllRecordBatch.java   |  43 ++--
 .../unorderedreceiver/UnorderedReceiverBatch.java  |   1 +
 .../validate/IteratorValidatorBatchIterator.java   | 262 ++++++++++++++++++---
 .../drill/exec/record/AbstractRecordBatch.java     |  18 +-
 .../exec/record/AbstractSingleRecordBatch.java     |   2 +-
 .../org/apache/drill/exec/record/RecordBatch.java  | 244 ++++++++++++++++---
 .../drill/exec/record/RecordBatchLoader.java       |  28 +++
 .../apache/drill/exec/record/VectorContainer.java  |  16 ++
 .../drill/exec/store/AbstractRecordReader.java     |   8 +
 .../org/apache/drill/exec/store/RecordReader.java  |   3 +-
 .../exec/store/easy/json/JSONFormatPlugin.java     |   3 +-
 .../exec/store/easy/json/JSONRecordReader.java     |  12 +-
 .../org/apache/drill/exec/util/VectorUtil.java     |   2 +
 .../apache/drill/exec/vector/BaseValueVector.java  |   5 +
 .../drill/exec/vector/SchemaChangeCallBack.java    |  26 +-
 .../exec/vector/complex/AbstractMapVector.java     |   4 +-
 .../drill/exec/vector/complex/MapVector.java       |   9 +-
 .../exec/vector/complex/fn/FieldSelection.java     |   9 +
 .../drill/exec/vector/complex/fn/JsonReader.java   |  37 +--
 .../vector/complex/impl/AbstractBaseWriter.java    |   5 +
 .../exec/vector/complex/impl/PromotableWriter.java |   5 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |   3 -
 .../complex/writer/TestComplexTypeReader.java      |   2 +
 .../Drill2288GetColumnsMetadataWhenNoRowsTest.java | 201 ++++++++++++++++
 exec/jdbc/src/test/resources/empty.json            |   0
 40 files changed, 977 insertions(+), 181 deletions(-)

commit 194680c564758b6c4fb0d7ce9f9d5432db270f55
Author: dbarclay <dbarclay@maprtech.com>
Date:   Wed Sep 23 18:13:56 2015 -0700

    DRILL-3766:  Fix ResultSet.getRow() (make 1-based; return 0 at end).
    
    Corrected for Avatica's non-JDBC-compliant behavior.
    
    Also purged unused imports.

 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |  4 +-
 .../org/apache/drill/jdbc/DrillResultSetTest.java  | 61 +++++++++++++---------
 2 files changed, 39 insertions(+), 26 deletions(-)

commit e4f257b1f0200d3f1e977d37b61bdc53fa60533a
Author: dbarclay <dbarclay@maprtech.com>
Date:   Thu Aug 27 14:05:26 2015 -0700

    DRILL-2769: Fix most non-SQLException not-supported-yet exceptions.
    
    Core:
    
    Added (auto-scanning) unit test. [Drill2769UnsupportedReportsUseSqlExceptionTest]
    
    Added translation of lots of UnsupportedOperationExceptions (and some
    RuntimeExceptions) from Avatica code to SQLFeatureNotSupportedExceptions (tons
    of method overrides).
    
    Also:
    
    Added explicit bounds checks in ResultSetMetaData methods and checking of
    last-accessed column in DrillAccessorList.wasNull() (to fix other
    RuntimeExceptions to SQLExceptions).
    
    Added resetting of last-accessed column to fix latent bug in DrillAccessorList.
    
    Hygiene:
    - Renamed some zero-based index/ordinal-position parameters to "...Offset".
    - Renamed some one-based index/ordinal-position parameters to "...Number".
    - Renamed DrillAccessorList lastColumn to rowLastColumnOffset; declared
      explicit logical null value for rowLastColumnOffset.

 .../apache/drill/jdbc/impl/DrillAccessorList.java  |  50 +-
 .../drill/jdbc/impl/DrillConnectionImpl.java       | 157 ++++-
 .../org/apache/drill/jdbc/impl/DrillCursor.java    |   1 +
 .../drill/jdbc/impl/DrillDatabaseMetaDataImpl.java | 132 +++-
 .../jdbc/impl/DrillPreparedStatementImpl.java      | 189 +++++-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java | 701 ++++++++++++++++++---
 .../jdbc/impl/DrillResultSetMetaDataImpl.java      | 132 ++--
 .../apache/drill/jdbc/impl/DrillStatementImpl.java | 140 +++-
 ...l2769UnsupportedReportsUseSqlExceptionTest.java | 459 ++++++++++++++
 9 files changed, 1712 insertions(+), 249 deletions(-)

commit daf816cbce11e7384b78216eda96783097c37520
Author: dbarclay <dbarclay@maprtech.com>
Date:   Wed Aug 19 16:55:40 2015 -0700

    DRILL-2489: Throw exception from remaining methods for closed JDBC objects.
    
    Refactored unit test to check all methods per interface.  (Replaced individual,
    static test methods with bulk reflection-based checking.)
    [Drill2489CallsAfterCloseThrowExceptionsTest]
    
    Added DrillResultSetMetaDataImpl.
    
    Added method overrides to check state for remaining methods from Connection,
    Statement, PreparedStatement, ResultSet, ResultSetMetaData and DatabaseMetaData.
    
    Also:
    - renamed checkNotClosed to throwIfClosed.

 .../org/apache/drill/jdbc/DrillConnection.java     |    1 -
 .../drill/jdbc/impl/DrillConnectionImpl.java       |  339 ++-
 .../drill/jdbc/impl/DrillDatabaseMetaDataImpl.java | 1090 +++++++++-
 .../apache/drill/jdbc/impl/DrillJdbc41Factory.java |   42 +-
 .../jdbc/impl/DrillPreparedStatementImpl.java      |  410 ++++
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |  538 ++---
 .../jdbc/impl/DrillResultSetMetaDataImpl.java      |  198 ++
 .../apache/drill/jdbc/impl/DrillStatementImpl.java |  252 ++-
 .../java/org/apache/drill/jdbc/ConnectionTest.java |    6 +-
 .../jdbc/ConnectionTransactionMethodsTest.java     |    6 +-
 .../java/org/apache/drill/jdbc/StatementTest.java  |    6 +-
 ...rill2489CallsAfterCloseThrowExceptionsTest.java | 2162 ++++++--------------
 12 files changed, 3169 insertions(+), 1881 deletions(-)

commit e78e28661e921c6bd07ba7bb95d91f9adeb5a247
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Nov 6 19:09:19 2015 -0800

    Add synchronization to DrillBuf.retain() to avoid contention issues.

 exec/java-exec/src/main/java/io/netty/buffer/DrillBuf.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 982621561fec3029bffb7a27bd71d4cc3340000e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Nov 6 19:08:30 2015 -0800

    Add assertion around QueryDataBatch release to ensure that we're not releasing the buffers twice.

 .../main/java/org/apache/drill/exec/rpc/user/QueryDataBatch.java   | 7 +++++++
 1 file changed, 7 insertions(+)

commit a5a1aa6b487d0642641ce70f2c2500465956f9ec
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Fri Nov 6 19:24:28 2015 -0800

    DRILL-4048: Fix reading required dictionary encoded varbinary data in parquet files after recent update
    
    Fix was small, this update is a little larger than necessary because I was hoping to create
    a unit test by modifying the one I had added in the earlier patch with the version upgrade.
    Unfortunately we don't have a good way to generate Parquet files with required columns from
    unit tests right now. So I just added a smaller subset of the binary file that was posted on
    the JIRA issue. The refactoring of the earlier test was still useful for readability,
    so I kept it in.

 .../columnreaders/VarLengthColumnReaders.java      |   3 +-
 .../physical/impl/writer/TestParquetWriter.java    |  71 +++++++++++++++------
 .../resources/parquet/required_dictionary.parquet  | Bin 0 -> 8020 bytes
 3 files changed, 54 insertions(+), 20 deletions(-)

commit ffe024038f6db9eaab3e107de80ea305af9f7df8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Nov 6 18:58:01 2015 -0800

    DRILL-4049: Terminate StatusThread when Workmanager is closed.
    
    Avoid excessive growth in threads with long-lived test JVMs.

 exec/java-exec/src/main/java/org/apache/drill/exec/work/WorkManager.java | 1 +
 1 file changed, 1 insertion(+)

commit dde18676c991df2f7694c0fe653978020b8356d9
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Nov 6 18:57:00 2015 -0800

    DRILL-4046: Upgrade Joda to later version (avoid contention issues)

 exec/java-exec/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 04c01bded6a3979c4d92906ff2952200f90281a4
Author: Patrick Wong <Patrick Wong>
Date:   Fri Nov 6 13:05:09 2015 -0800

    DRILL-4042: Unable to run sqlline in embedded mode on Windows
    
    Use newer version of hadoop-winutils

 distribution/pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1a24233475ca46aaf2a49a5624b4042f088382f4
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Nov 2 14:26:43 2015 -0800

    DRILL-4025: Create FileSelection object with the appropriate file statuses

 .../main/java/org/apache/drill/exec/store/dfs/FileSelection.java  | 8 ++++++++
 .../org/apache/drill/exec/store/parquet/ParquetFormatPlugin.java  | 3 ++-
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 511e54050b9a6d5b8d9e6844bd6edc2f719fb93d
Author: Aditya Kishore <adi@apache.org>
Date:   Thu Nov 5 13:03:45 2015 -0800

    DRILL-4040: Build failure on master
    
    This closes #244

 pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit 3dedc158f3af8ec8320a9cd336b2798b09cc9a8d
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Sat Oct 31 17:14:34 2015 -0700

    DRILL-4006: Reallocate offset vector in repeated vectors when index is beyond the current capacity
    
    Author:     Steven Phillips <smp@apache.org>
    
    This closes #243, #242

 .../vector/complex/BaseRepeatedValueVector.java    |    3 +
 .../exec/vector/complex/writer/TestJsonReader.java |   14 +
 .../test/resources/store/json/emptyLists/a.json    |    7 +
 .../test/resources/store/json/emptyLists/b.json    |    4 +
 .../test/resources/store/json/emptyLists/c.json    | 1113 ++++++++++++++++++++
 5 files changed, 1141 insertions(+)

commit 8d56962bb8084724df9c89f007f0b1f1b99f8f95
Author: Julien Le Dem <julien@ledem.net>
Date:   Fri Oct 30 16:51:09 2015 -0700

    DRILL-3994: make classpath scanning work on windows

 .../src/main/java/org/apache/drill/common/scanner/BuildTimeScan.java   | 3 +++
 tools/fmpp/src/main/java/org/apache/drill/fmpp/mojo/FMPPMojo.java      | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 2bc16a90b4883b2b2e3213f5e7a46ff1ea78bd98
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Wed Oct 7 18:23:21 2015 -0700

    DRILL-3793: New MergeJoin and add RecordIterator interface
    
    This closes #190

 .../drill/exec/physical/impl/join/JoinStatus.java  | 279 ++++-------------
 .../exec/physical/impl/join/JoinTemplate.java      | 229 ++++----------
 .../drill/exec/physical/impl/join/JoinUtils.java   |   5 +-
 .../drill/exec/physical/impl/join/JoinWorker.java  |   3 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    | 329 ++++++++-------------
 .../physical/impl/join/MergeJoinBatchBuilder.java  | 157 ----------
 .../drill/exec/record/HyperVectorWrapper.java      |  15 +
 .../apache/drill/exec/record/RecordIterator.java   | 302 +++++++++++++++++++
 .../drill/exec/record/SimpleVectorWrapper.java     |  50 ++--
 .../apache/drill/exec/record/VectorContainer.java  |  21 ++
 .../apache/drill/exec/record/VectorWrapper.java    |   1 +
 .../org/apache/drill/exec/util/BatchPrinter.java   |  25 +-
 .../java/org/apache/drill/TestExampleQueries.java  |   8 +-
 .../physical/impl/join/TestMergeJoinAdvanced.java  | 102 +++++++
 14 files changed, 730 insertions(+), 796 deletions(-)

commit 39582bd60c9eaaaa9b16aba4f099d434e927e7e5
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Fri Sep 4 11:09:23 2015 -0700

    DRILL-4028: Update Drill to leverage latest version of Parquet library.
    
    - Remove references to the shaded version of a Jackson @JsonCreator annotation from parquet, replace with proper fasterxml version.
    - Fixing imports using the wrong parquet packages after rebase.
    - Fixing issues with Drill parquet read a write path after merging the Drill parquet fork back into mainline.
    - Fixed the issue with the writer, needed to flush the RecordConsumer in the ParquetRecordWriter.
    - Consolidate page reading code
    - Added some test to print out some additional context when an ordered comparison of two datasets fails in a test.
    - Fix up parquet API usage in Hive Module.
    - Adding unit test to read a write all types in parquet, the decimal types and interval year have some issues.
    - Use direct codec factory from new package in the parquet library now that it has been moved.
    - Moving the test for Direct Codec Factory out of the Drill source as the class itself has been moved.
    - Small fix after consolidating two different ByteBuffer based implementations of BytesInput.
    - Small fixes to accommodate interface changes.
    - Small changes to remove direct references to DirectCodecFactory, this class is not accessible outside of parquet, but an instance with the same contract is now accessible with a new factory method on CodecFactory.
    - Fixed failing test using miniDFS when reading a larger parquet file.
    
    This closes #236

 .../drill/exec/store/hbase/HBaseGroupScan.java     |   3 +-
 .../drill/exec/store/hbase/HBaseSubScan.java       |   2 +-
 .../hive/HiveDrillNativeScanBatchCreator.java      |  12 +-
 .../drill/exec/store/mongo/MongoGroupScan.java     |  11 +-
 .../drill/exec/store/mongo/MongoSubScan.java       |   2 +-
 exec/java-exec/pom.xml                             |  16 +-
 .../codegen/templates/JsonOutputRecordWriter.java  |  23 --
 .../templates/ParquetOutputRecordWriter.java       |   8 +-
 .../main/codegen/templates/ParquetTypeHelper.java  |  16 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |   2 +-
 .../drill/exec/server/rest/QueryWrapper.java       |   2 +-
 .../drill/exec/store/parquet/ColumnDataReader.java |  17 +-
 .../exec/store/parquet/DirectCodecFactory.java     | 378 ---------------------
 .../drill/exec/store/parquet/DirectCodecPool.java  | 187 ----------
 .../drill/exec/store/parquet/FooterGatherer.java   |  10 +-
 .../apache/drill/exec/store/parquet/Metadata.java  |  23 +-
 .../parquet/ParquetDirectByteBufferAllocator.java  |   7 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |   4 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  10 +-
 .../exec/store/parquet/ParquetRecordWriter.java    |  62 ++--
 .../store/parquet/ParquetScanBatchCreator.java     |  15 +-
 .../exec/store/parquet/RowGroupReadEntry.java      |   3 +-
 .../store/parquet/columnreaders/BitReader.java     |   6 +-
 .../store/parquet/columnreaders/ColumnReader.java  |  10 +-
 .../parquet/columnreaders/ColumnReaderFactory.java |  12 +-
 .../columnreaders/FixedByteAlignedReader.java      |   8 +-
 .../columnreaders/FixedWidthRepeatedReader.java    |   6 +-
 .../parquet/columnreaders/NullableBitReader.java   |   6 +-
 .../columnreaders/NullableColumnReader.java        |   6 +-
 .../NullableFixedByteAlignedReaders.java           |  12 +-
 .../NullableVarLengthValuesColumn.java             |   6 +-
 .../store/parquet/columnreaders/PageReader.java    | 146 ++++----
 .../ParquetFixedWidthDictionaryReaders.java        |  10 +-
 .../parquet/columnreaders/ParquetRecordReader.java |  30 +-
 .../columnreaders/ParquetToDrillTypeConverter.java |  14 +-
 .../parquet/columnreaders/VarLengthColumn.java     |  10 +-
 .../columnreaders/VarLengthColumnReaders.java      |  17 +-
 .../columnreaders/VarLengthValuesColumn.java       |  10 +-
 .../store/parquet2/DrillParquetGroupConverter.java |  22 +-
 .../exec/store/parquet2/DrillParquetReader.java    |  31 +-
 .../parquet2/DrillParquetRecordMaterializer.java   |   6 +-
 .../drill/exec/store/sys/SystemTableScan.java      |   3 +-
 .../parquet/hadoop/ColumnChunkIncReadStore.java    |  52 +--
 .../hadoop/ColumnChunkPageWriteStoreExposer.java   |  21 +-
 .../java/org/apache/drill/DrillTestWrapper.java    |  34 +-
 .../java/org/apache/drill/ParquetSchemaMerge.java  |  10 +-
 .../java/org/apache/drill/TestFrameworkTest.java   |  14 +-
 .../TestImpersonationDisabledWithMiniDFS.java      |  39 +++
 .../physical/impl/writer/TestParquetWriter.java    |  71 +++-
 .../drill/exec/store/TestDirectCodecFactory.java   | 156 ---------
 .../store/parquet/ParquetRecordReaderTest.java     |  20 +-
 .../exec/store/parquet/TestFileGenerator.java      |  38 ++-
 .../test/resources/store/json/donuts_short.json    |   0
 .../apache/drill/jdbc/NonClosableConnection.java   |   4 +-
 pom.xml                                            |   2 +-
 55 files changed, 519 insertions(+), 1126 deletions(-)

commit 18a1ae4d31cd502d2f792b331fefeb0ed2106c53
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Nov 4 10:46:36 2015 -0800

    DRILL-4031: Log warning and ignore columns returned from JDBC source that are unsupported.
    
    This closes #240

 .../drill/exec/store/jdbc/JdbcRecordReader.java    | 33 +++++++++++++++++++---
 .../drill/exec/store/jdbc/JdbcStoragePlugin.java   | 24 ++++++++++++----
 2 files changed, 47 insertions(+), 10 deletions(-)

commit 745bcd1f378397d921860eeba382530483644cd3
Author: Abhi P <abhijit@dremio.com>
Date:   Mon Nov 2 19:03:04 2015 -0800

    DRILL-951: Add support for csv header row parsing
    
    This closes #232

 .../exec/store/easy/text/TextFormatPlugin.java     |   7 +-
 .../text/compliant/CompliantTextRecordReader.java  | 132 ++++++++++++-
 .../easy/text/compliant/FieldVarCharOutput.java    | 212 +++++++++++++++++++++
 .../easy/text/compliant/RepeatedVarCharOutput.java |  25 +++
 .../easy/text/compliant/TextParsingSettings.java   |   6 +-
 .../main/resources/bootstrap-storage-plugins.json  |  14 +-
 .../drill/exec/store/text/TestCsvHeader.java       | 129 +++++++++++++
 .../test/resources/bootstrap-storage-plugins.json  |   6 +
 .../src/test/resources/store/text/data/cars.csvh   |   6 +
 pom.xml                                            |   1 +
 10 files changed, 524 insertions(+), 14 deletions(-)

commit 9edce154238548da92963e34a041272fa1e2c745
Author: Amit Hadke <amit.hadke@gmail.com>
Date:   Wed Oct 21 13:55:40 2015 -0700

    DRILL-3963: Add Sequence file support.
    
    - File Support
    - Add test for sequencefile reader in Impersonation test suite.
    - Create hadoop based record reader under user proxy.
    - Fix impersonation test for sequence file and add one for Avro.
    
    This closes #214

 .../drill/exec/store/avro/AvroFormatPlugin.java    |   5 +-
 .../drill/exec/store/avro/AvroRecordReader.java    |  35 ++++-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   4 +-
 .../exec/store/easy/json/JSONFormatPlugin.java     |   2 +-
 .../sequencefile/SequenceFileFormatConfig.java     |  52 +++++++
 .../sequencefile/SequenceFileFormatPlugin.java     |  92 ++++++++++++
 .../sequencefile/SequenceFileRecordReader.java     | 167 +++++++++++++++++++++
 .../exec/store/easy/text/TextFormatPlugin.java     |   2 +-
 .../main/resources/bootstrap-storage-plugins.json  |   8 +
 .../exec/impersonation/BaseTestImpersonation.java  |  39 ++++-
 .../impersonation/TestImpersonationQueries.java    | 106 ++++++++-----
 .../store/sequencefile/TestSequenceFileReader.java |  51 +++++++
 .../test/resources/bootstrap-storage-plugins.json  |   4 +
 .../src/test/resources/sequencefiles/simple.seq    | Bin 0 -> 207 bytes
 14 files changed, 515 insertions(+), 52 deletions(-)

commit ef1cb728853603414665280a389d8861c22a940b
Author: adeneche <adeneche@gmail.com>
Date:   Thu Oct 22 14:08:10 2015 -0700

    DRILL-3952: Improve Window Functions performance when not all batches are required to process the current batch
    
    this closes #222

 .../physical/impl/window/DefaultFrameTemplate.java | 143 +++++++++------------
 .../drill/exec/physical/impl/window/Partition.java |  33 ++---
 .../impl/window/WindowFrameRecordBatch.java        |  68 +++++++++-
 .../exec/physical/impl/window/WindowFramer.java    |  40 ++++--
 .../exec/physical/impl/window/WindowFunction.java  |  89 +++++++++++++
 .../exec/physical/impl/window/TestWindowFrame.java |   3 +-
 6 files changed, 258 insertions(+), 118 deletions(-)

commit 4be8369cf892daffc42f2304007d4b053812e529
Author: Steven Phillips <smp@apache.org>
Date:   Wed Nov 4 14:17:39 2015 -0800

    DRILL-4032: Check if a new vector was created to determine if allocation is necessary in MapWriter
    closes #241

 .../src/main/codegen/templates/MapWriters.java       |  4 ++--
 .../exec/vector/complex/writer/TestJsonReader.java   | 20 ++++++++++++++++++--
 2 files changed, 20 insertions(+), 4 deletions(-)

commit 5db7f33b43cc7b06f32e956dba50376e3ddf9241
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Oct 29 15:10:12 2015 -0700

    DRILL-3634: Add number of partitions information in the plan for hive scans
    
    closes #231

 .../drill/exec/store/hive/HiveDrillNativeParquetScan.java   |  4 +++-
 .../java/org/apache/drill/exec/store/hive/HiveScan.java     | 13 ++++++++++++-
 2 files changed, 15 insertions(+), 2 deletions(-)

commit ea23efcd2ef946a8371d93050dc6a0a5db3835d5
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Oct 23 14:01:09 2015 -0700

    DRILL-3941: Add timing instrumentation in different phases of partition pruning
    Add basic timing instrumentation while initializing FileSelection and reading the metadata cache file
    
    closes #230

 .../planner/logical/partition/PruneScanRule.java   | 45 +++++++++++++++++++++-
 .../apache/drill/exec/store/dfs/FileSelection.java | 10 +++++
 .../apache/drill/exec/store/parquet/Metadata.java  | 10 ++++-
 3 files changed, 62 insertions(+), 3 deletions(-)

commit b33326ba625b4cc7dac4adf82745a7a84a462f23
Author: Steven Phillips <smp@apache.org>
Date:   Wed Oct 7 03:44:10 2015 -0700

    DRILL-3912: Common subexpression elimination
    
    Closes #189

 .../common/expression/ExpressionStringBuilder.java |   1 -
 .../drill/common/expression/ValueExpressions.java  |   4 +
 .../org/apache/drill/exec/expr/ClassGenerator.java |   3 +
 .../apache/drill/exec/expr/EqualityVisitor.java    | 324 +++++++++++++++++++++
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 319 +++++++++++++++++++-
 .../org/apache/drill/exec/expr/HashVisitor.java    | 186 ++++++++++++
 .../drill/exec/expr/ValueVectorReadExpression.java |   5 +
 .../exec/physical/impl/aggregate/HashAggBatch.java |   2 +-
 .../physical/impl/common/ChainedHashTable.java     |   2 +-
 .../physical/impl/filter/FilterRecordBatch.java    |   4 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   7 +-
 .../java/org/apache/drill/TestExampleQueries.java  |   7 +-
 .../java/org/apache/drill/TestFunctionsQuery.java  |   1 +
 13 files changed, 852 insertions(+), 13 deletions(-)

commit bb69f2202ed6115b39bd8681e59c6ff6091e9b9e
Author: Steven Phillips <smp@apache.org>
Date:   Wed Oct 21 17:00:44 2015 -0700

    DRILL-3229: Miscellaneous Union-type fixes
    
    closes #207
    closes #180

 .../drill/common/expression/IfExpression.java      |  18 ++-
 .../java/org/apache/drill/common/types/Types.java  |   9 +-
 .../codegen/templates/AbstractFieldReader.java     |   8 +-
 .../src/main/codegen/templates/ComplexCopier.java  |  23 ++-
 .../codegen/templates/EventBasedRecordWriter.java  |  10 +-
 .../main/codegen/templates/HolderReaderImpl.java   |   1 +
 .../src/main/codegen/templates/MapWriters.java     |  18 +--
 .../src/main/codegen/templates/NullReader.java     |   2 +-
 .../src/main/codegen/templates/UnionFunctions.java |  34 ++---
 .../main/codegen/templates/UnionListWriter.java    |  36 ++---
 .../src/main/codegen/templates/UnionReader.java    |  13 +-
 .../src/main/codegen/templates/UnionVector.java    | 107 +++++++-------
 .../src/main/codegen/templates/UnionWriter.java    |  60 ++++----
 .../org/apache/drill/exec/expr/CloneVisitor.java   |   3 +
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   8 +-
 .../exec/expr/ExpressionTreeMaterializer.java      | 154 ++++++++++++++++-----
 .../drill/exec/expr/fn/ExceptionFunction.java      |  53 +++++++
 .../drill/exec/expr/fn/impl/UnionFunctions.java    | 145 +++++++++++++------
 .../drill/exec/physical/impl/ImplCreator.java      |   1 +
 .../exec/physical/impl/aggregate/HashAggBatch.java |   2 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |   2 +-
 .../physical/impl/filter/FilterRecordBatch.java    |   1 +
 .../physical/impl/flatten/FlattenRecordBatch.java  |   4 +-
 .../validate/IteratorValidatorBatchIterator.java   |   1 -
 .../drill/exec/record/SimpleVectorWrapper.java     |  10 +-
 .../exec/vector/accessor/UnionSqlAccessor.java     |   2 +-
 .../vector/complex/AbstractContainerVector.java    |  78 +----------
 .../exec/vector/complex/AbstractMapVector.java     |   2 +-
 .../drill/exec/vector/complex/FieldIdUtil.java     | 124 +++++++++++++++++
 .../drill/exec/vector/complex/ListVector.java      |  91 +++---------
 .../drill/exec/vector/complex/fn/JsonWriter.java   |   2 +
 .../vector/complex/impl/AbstractBaseReader.java    |   3 +-
 .../vector/complex/impl/ComplexWriterImpl.java     |   4 +-
 .../exec/vector/complex/impl/PromotableWriter.java |   5 +-
 .../exec/vector/complex/impl/UnionListReader.java  |   3 +-
 .../vector/complex/impl/VectorContainerWriter.java |   2 +-
 .../java/org/apache/drill/TestExampleQueries.java  |   9 --
 .../physical/impl/writer/TestParquetWriter.java    |   1 +
 .../exec/vector/complex/writer/TestJsonReader.java |  77 ++++++++++-
 39 files changed, 696 insertions(+), 430 deletions(-)

commit 31263e1d986ce43797e97d91b96c88e5ebf24873
Author: Steven Phillips <smp@apache.org>
Date:   Fri Oct 9 12:59:37 2015 -0700

    DRILL-3232: Promotable writer

 .../drill/common/expression/IfExpression.java      |  17 ++
 .../codegen/templates/AbstractFieldReader.java     |  10 +-
 .../templates/AbstractPromotableFieldWriter.java   | 142 ++++++++++++++++
 .../src/main/codegen/templates/BaseReader.java     |   1 +
 .../src/main/codegen/templates/MapWriters.java     |  10 +-
 .../src/main/codegen/templates/TypeHelper.java     |   4 +-
 .../main/codegen/templates/UnionListWriter.java    |  18 +-
 .../src/main/codegen/templates/UnionReader.java    |   6 +
 .../src/main/codegen/templates/UnionVector.java    |   7 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   4 +-
 .../exec/expr/ExpressionTreeMaterializer.java      |  21 +--
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |  11 +-
 .../drill/exec/expr/fn/impl/UnionFunctions.java    |  19 +++
 .../validate/IteratorValidatorBatchIterator.java   |   2 +
 .../drill/exec/record/SimpleVectorWrapper.java     |   7 +
 .../org/apache/drill/exec/record/TypedFieldId.java |  18 +-
 .../org/apache/drill/exec/util/BatchPrinter.java   |  11 +-
 .../vector/complex/AbstractContainerVector.java    |   4 +
 .../exec/vector/complex/AbstractMapVector.java     |   2 +-
 .../vector/complex/BaseRepeatedValueVector.java    |   5 +
 .../drill/exec/vector/complex/ListVector.java      | 112 ++++++++++--
 .../vector/complex/impl/AbstractBaseReader.java    |   8 +
 .../exec/vector/complex/impl/PromotableWriter.java | 188 +++++++++++++++++++++
 .../exec/vector/complex/impl/UnionListReader.java  |  29 +++-
 .../java/org/apache/drill/TestExampleQueries.java  |  17 +-
 .../apache/drill/exec/store/TestOutputMutator.java |  16 ++
 .../complex/writer/TestComplexTypeReader.java      |   6 +
 .../exec/vector/complex/writer/TestJsonReader.java |  18 ++
 .../complex/writer/TestPromotableWriter.java       |  66 ++++++++
 .../src/test/resources/jsoninput/union/b.json      |   3 +
 31 files changed, 716 insertions(+), 68 deletions(-)

commit eeb05fb62ad2a342db41b49e6b430b8f98828bf2
Author: Steven Phillips <smp@apache.org>
Date:   Sun Oct 4 21:32:34 2015 -0700

    DRILL-3233: Expression handling for Union types

 .../common/expression/ExpressionStringBuilder.java |   6 +
 .../common/expression/LogicalExpressionBase.java   |   7 +
 .../java/org/apache/drill/common/types/Types.java  |   7 +
 .../drill/exec/store/mongo/MongoRecordReader.java  |   4 +-
 .../src/main/codegen/templates/UnionFunctions.java |  16 +-
 .../src/main/codegen/templates/UnionVector.java    |  38 ++-
 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +-
 .../org/apache/drill/exec/expr/CloneVisitor.java   | 194 +++++++++++++++
 .../exec/expr/ExpressionTreeMaterializer.java      | 119 ++++++++-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  16 ++
 .../exec/expr/fn/FunctionGenerationHelper.java     |  10 +-
 .../drill/exec/expr/fn/impl/UnionFunctions.java    |   4 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java |   5 +
 .../physical/impl/aggregate/StreamingAggBatch.java |   4 +
 .../physical/impl/project/ProjectRecordBatch.java  |   1 +
 .../drill/exec/record/SimpleVectorWrapper.java     |  18 +-
 .../java/org/apache/drill/TestExampleQueries.java  |  10 +
 .../org/apache/drill/common/types/MajorType.java   |  32 +++
 .../drill/common/types/SchemaTypeProtos.java       |   7 +
 .../org/apache/drill/common/types/TypeProtos.java  | 265 +++++++++++++++++++--
 protocol/src/main/protobuf/Types.proto             |   1 +
 21 files changed, 726 insertions(+), 40 deletions(-)

commit eb6325dc9b59291582cd7d3c3e5d02efd5d15906
Author: Steven Phillips <smp@apache.org>
Date:   Thu Oct 1 03:26:34 2015 -0700

    DRILL-3229: Implement Union type vector

 .../drill/common/expression/fn/CastFunctions.java  |   1 +
 .../java/org/apache/drill/common/types/Types.java  |   5 +
 .../codegen/templates/AbstractFieldReader.java     |   4 +
 .../codegen/templates/AbstractFieldWriter.java     |  10 +
 .../codegen/templates/AbstractRecordWriter.java    |   5 +
 .../src/main/codegen/templates/BaseReader.java     |   3 +
 .../src/main/codegen/templates/BaseWriter.java     |   4 +-
 .../src/main/codegen/templates/ComplexCopier.java  | 134 +++++++
 .../src/main/codegen/templates/ComplexReaders.java |   9 +-
 .../codegen/templates/EventBasedRecordWriter.java  |   4 +
 .../main/codegen/templates/HolderReaderImpl.java   |  22 ++
 .../src/main/codegen/templates/ListWriters.java    |   8 +-
 .../src/main/codegen/templates/MapWriters.java     |  46 ++-
 .../src/main/codegen/templates/NullReader.java     |  10 +-
 .../src/main/codegen/templates/RecordWriter.java   |   1 +
 .../src/main/codegen/templates/TypeHelper.java     |  25 +-
 .../src/main/codegen/templates/UnionFunctions.java |  88 +++++
 .../main/codegen/templates/UnionListWriter.java    | 187 +++++++++
 .../src/main/codegen/templates/UnionReader.java    | 183 +++++++++
 .../src/main/codegen/templates/UnionVector.java    | 433 +++++++++++++++++++++
 .../src/main/codegen/templates/UnionWriter.java    | 228 +++++++++++
 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +
 .../exec/expr/ExpressionTreeMaterializer.java      |  83 ++--
 .../apache/drill/exec/expr/GetSetVectorHelper.java |   4 +
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |   2 +-
 .../drill/exec/expr/fn/impl/MappifyUtility.java    |   4 +-
 .../drill/exec/expr/fn/impl/UnionFunctions.java    | 115 ++++++
 .../drill/exec/expr/holders/UnionHolder.java       |  37 ++
 .../physical/impl/filter/FilterRecordBatch.java    |   4 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |   4 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   5 +-
 .../drill/exec/record/AbstractRecordBatch.java     |   9 +
 .../drill/exec/record/SimpleVectorWrapper.java     |  11 +
 .../exec/resolver/ResolverTypePrecedence.java      |   1 +
 .../apache/drill/exec/resolver/TypeCastRules.java  |  10 +
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../drill/exec/store/avro/MapOrListWriter.java     |   4 +-
 .../exec/store/easy/json/JSONRecordReader.java     |   4 +-
 .../exec/store/easy/json/JsonRecordWriter.java     |  24 ++
 .../exec/vector/accessor/UnionSqlAccessor.java     | 129 ++++++
 .../drill/exec/vector/complex/ListVector.java      | 292 ++++++++++++++
 .../drill/exec/vector/complex/fn/JsonReader.java   | 147 +++----
 .../drill/exec/vector/complex/fn/JsonWriter.java   |  11 +-
 .../vector/complex/impl/AbstractBaseReader.java    |  17 +
 .../vector/complex/impl/ComplexWriterImpl.java     |  12 +-
 .../exec/vector/complex/impl/UnionListReader.java  |  90 +++++
 .../vector/complex/impl/VectorContainerWriter.java |   8 +-
 .../apache/drill/exec/store/TestOutputMutator.java |   4 +
 .../exec/vector/complex/writer/TestJsonReader.java | 104 +++++
 .../exec/vector/complex/writer/TestRepeated.java   |  24 +-
 .../src/test/resources/jsoninput/union/a.json      |  52 +++
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  |   1 -
 .../org/apache/drill/common/types/MinorType.java   |   4 +-
 .../org/apache/drill/common/types/TypeProtos.java  |  18 +-
 protocol/src/main/protobuf/Types.proto             |   1 +
 55 files changed, 2492 insertions(+), 156 deletions(-)

commit ca5a8476fb67d1c6b51472ddd48d7d51bbb3703b
Author: Parth Chandra <parthc@apache.org>
Date:   Mon Oct 5 10:25:56 2015 -0700

    DRILL-3871: Off by one error while reading binary fields with one terminal null in parquet.

 .../columnreaders/NullableColumnReader.java        | 203 ++++++++++++---------
 .../physical/impl/writer/TestParquetWriter.java    |  88 +++++++--
 .../src/test/resources/parquet/all_nulls.parquet   | Bin 0 -> 1258 bytes
 .../resources/parquet/first_page_all_nulls.parquet | Bin 0 -> 2585 bytes
 .../resources/parquet/first_page_one_null.parquet  | Bin 0 -> 3899 bytes
 .../resources/parquet/last_page_all_nulls.parquet  | Bin 0 -> 3796 bytes
 .../resources/parquet/last_page_one_null.parquet   | Bin 0 -> 3899 bytes
 .../src/test/resources/parquet/no_nulls.parquet    | Bin 0 -> 4706 bytes
 8 files changed, 194 insertions(+), 97 deletions(-)

commit e7db9dcacbc39c4797de1aa29b119a7428451dea
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun May 24 22:01:49 2015 -0700

    DRILL-3242: Update RPC layer so that requests and response are managed on a secondary thread.
    - Create a separate serialized executor for fragment receiverFinished events.
    - Update serialized executor to pool object creation.
    - Ensure that FragmentExecutor acceptExternalEvents countdown occurs when only execution is cancellation.

 .../apache/drill/common/SerializedExecutor.java    | 112 ++++++---
 .../org/apache/drill/exec/client/DrillClient.java  |  23 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |   9 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     | 273 +++++++++++++++++----
 .../java/org/apache/drill/exec/rpc/RpcConfig.java  |  19 +-
 .../drill/exec/rpc/control/ControlClient.java      |  13 +-
 .../drill/exec/rpc/control/ControlRpcConfig.java   |   5 +-
 .../drill/exec/rpc/control/ControlServer.java      |   6 +-
 .../org/apache/drill/exec/rpc/data/DataClient.java |  11 +-
 .../drill/exec/rpc/data/DataConnectionCreator.java |   1 -
 .../drill/exec/rpc/data/DataConnectionManager.java |   1 -
 .../drill/exec/rpc/data/DataResponseHandler.java   |   7 +-
 .../apache/drill/exec/rpc/data/DataRpcConfig.java  |   5 +-
 .../org/apache/drill/exec/rpc/data/DataServer.java |   6 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |   6 +-
 .../apache/drill/exec/rpc/user/UserRpcConfig.java  |   5 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |   5 +-
 .../apache/drill/exec/server/BootStrapContext.java |  45 +++-
 .../apache/drill/exec/server/DrillbitContext.java  |  14 +-
 .../apache/drill/exec/service/ServiceEngine.java   |  16 +-
 .../org/apache/drill/exec/work/WorkManager.java    |  54 +---
 .../drill/exec/work/fragment/FragmentExecutor.java |  62 ++++-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |  11 +-
 23 files changed, 507 insertions(+), 202 deletions(-)

commit 839f8dac2e2d0479a1552701a5274ebe8416fea6
Author: Chris Westin <cwestin@yahoo.com>
Date:   Fri May 22 14:17:41 2015 -0700

    SerializedExecutor sketch for consideration.
    
    Based on the EventProcessor, but recast as an Executor that accepts Runnables.
    The idea would be to use this on RPC reception points to immediately hand off
    work. Each Fragment would have a SerializedExecutor associated with it, serving
    as a queue to deliver events to when the RPC thread receives them.

 .../apache/drill/common/SerializedExecutor.java    | 110 +++++++++++++++++++++
 1 file changed, 110 insertions(+)

commit ce593eb4c1dc5388787f0896f8845c9b0bc5d2e8
Author: Kamesh <kam.iitkgp@gmail.com>
Date:   Sun Nov 1 17:15:01 2015 -0800

    DRILL-3810: Add Avro schema support
    
    Also updates the FileFormatPlugin to support providing schema.

 .../drill/exec/store/avro/AvroDrillTable.java      | 136 +++++++++++++++++++++
 .../drill/exec/store/avro/AvroFormatPlugin.java    |  46 ++++++-
 .../drill/exec/store/dfs/BasicFormatMatcher.java   |  10 +-
 .../apache/drill/exec/store/dfs/FormatMatcher.java |   5 +-
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |   1 +
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  13 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   2 +-
 .../exec/store/easy/json/JSONFormatPlugin.java     |   7 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |  12 +-
 .../drill/exec/store/avro/AvroFormatTest.java      |  50 +++++++-
 .../apache/drill/exec/store/avro/AvroTestUtil.java |  36 ++++++
 11 files changed, 293 insertions(+), 25 deletions(-)

commit 454b499de90fa4c72b7563f7ca812ded77b01f32
Author: Kamesh <kam.iitkgp@gmail.com>
Date:   Tue Oct 20 11:26:04 2015 +0530

    DRILL-1752: Fixing query failures of unsharded db/collection in sharded cluster
    
    - Add logback.xml in test/resources
    - Add testcases and upgrading pom version of mongo and mongo test dependency

 contrib/storage-mongo/pom.xml                      |  4 +-
 .../exec/store/mongo/DrillMongoConstants.java      |  6 ++
 .../drill/exec/store/mongo/MongoGroupScan.java     | 75 ++++++++++++++++------
 .../drill/exec/store/mongo/MongoTestConstants.java |  8 +--
 .../drill/exec/store/mongo/MongoTestSuit.java      |  6 +-
 .../exec/store/mongo/TestMongoFilterPushDown.java  |  4 --
 .../drill/exec/store/mongo/TestMongoQueries.java   | 20 ++++++
 .../storage-mongo/src/test/resources/logback.xml   | 59 +++++++++++++++++
 8 files changed, 149 insertions(+), 33 deletions(-)

commit fafde4811ed39542131ee52542b97a1c6d256e57
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon Oct 26 13:18:35 2015 -0700

    DRILL-3921: Initialize the underlying record reader lazily in HiveRecordReader
    
    This closes #197
    
    + OperatorContextImpl has a lazily initialized executor service that is
      a decorator around the worker pool. This service is used through
      #runCallableAs to run a callable task as the given proxy user.
    + Unit tests use partition student table with chained impersonation to
      exercise running multiple delegate callables (creates multiple readers,
      a reader per partition).
    
    + Remove unused WorkManager#shutdownAndAwaitTermination method

 .../hive/HiveDrillNativeScanBatchCreator.java      |  4 +-
 .../drill/exec/store/hive/HiveRecordReader.java    | 31 +++++++-
 .../exec/store/hive/HiveScanBatchCreator.java      |  8 ++-
 .../exec/store/hive/HiveTextRecordReader.java      |  2 +-
 .../hive/BaseTestHiveImpersonation.java            |  5 +-
 .../hive/TestStorageBasedHiveAuthorization.java    | 83 +++++++++++++++++++++-
 .../org/apache/drill/exec/ops/OperatorContext.java | 14 ++++
 .../apache/drill/exec/ops/OperatorContextImpl.java | 48 +++++++++++++
 .../org/apache/drill/exec/work/WorkManager.java    |  4 --
 9 files changed, 183 insertions(+), 16 deletions(-)

commit 77e7de406be40176e4cdec35cce0afde0c5e5e63
Author: Julien Le Dem <julien@ledem.net>
Date:   Mon Oct 26 14:13:58 2015 -0700

    DRILL-3983: Small test improvements improve error message when SQL parsing error add a simple test to Parquet writer make errors verbose by default in tests
    
    This closes #221
    
    Also includes:
     - make the checkstyle conf not tied to the execution to allow running mvn checkstyle:check from the command line
     - fix verbose output in tests

 .../drill/exec/client/PrintingResultsListener.java | 38 +++-------
 .../apache/drill/exec/client/QuerySubmitter.java   |  6 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 30 +++++++-
 .../rpc/user/AwaitableUserResultsListener.java     | 81 ++++++++++++++++++++++
 .../test/java/org/apache/drill/BaseTestQuery.java  | 38 ++++------
 .../test/java/org/apache/drill/QueryTestUtil.java  | 14 +++-
 .../physical/impl/writer/TestParquetWriter.java    | 21 ++++++
 .../drill/exec/planner/sql/TestDrillSQLWorker.java | 51 ++++++++++++++
 .../java-exec/src/test/resources/drill-module.conf |  1 +
 pom.xml                                            | 25 +++----
 .../java/org/apache/drill/fmpp/mojo/FMPPMojo.java  |  3 +
 11 files changed, 236 insertions(+), 72 deletions(-)

commit 2f894afc86a899d15974171c597de5ff415df3be
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Nov 1 16:14:21 2015 -0800

    DRILL-3956: Add support for MySQL text type

 .../org/apache/drill/exec/store/jdbc/JdbcRecordReader.java |  2 ++
 pom.xml                                                    | 14 +++++++++++++-
 2 files changed, 15 insertions(+), 1 deletion(-)

commit 22e5316317cf5b8caed7a869e40a012f18652254
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Oct 28 17:20:51 2015 -0700

    DRILL-3992: Add/fix support for JDBC schemas (tested against oracle and derby)
    
    This closes #225

 .../drill/exec/store/jdbc/JdbcStoragePlugin.java   | 82 +++++++++++++++++++---
 .../drill/exec/store/jdbc/TestJdbcPlugin.java      | 14 ++--
 .../drill/exec/store/ischema/RecordGenerator.java  | 27 ++++---
 3 files changed, 96 insertions(+), 27 deletions(-)

commit 7f55051a3144f0d2dfc317d426788f95606972d1
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Oct 31 15:16:32 2015 -0700

    DRILL-4000: Ensure storage plugins are not needlessly created. Add start and close capability to storage plugins.
    
    This closes #227
    
    Add a new configuration based map so any configurations that are passed to a node can leverage existing storage plugins.
    Update FileSystemConfig to correctly implement hashcode()
    Update StoragePlugin interface to extends Autocloseable and add start() method.
    Update Mongo plugin to close clients when closing plugin.

 .../drill/common/logical/StoragePluginConfig.java  |   3 +
 .../drill/exec/store/mongo/MongoStoragePlugin.java |   6 +
 .../drill/exec/store/AbstractStoragePlugin.java    |   9 ++
 .../drill/exec/store/NamedStoragePluginConfig.java |   5 +
 .../org/apache/drill/exec/store/StoragePlugin.java |   7 +-
 .../apache/drill/exec/store/StoragePluginMap.java  | 120 ++++++++++++++++++++
 .../drill/exec/store/StoragePluginRegistry.java    | 122 ++++++++++++++++-----
 .../drill/exec/store/dfs/FileSystemConfig.java     |  47 +++++++-
 .../exec/store/dfs/FileSystemFormatConfig.java     |  35 ------
 .../exec/store/sys/SystemTablePluginConfig.java    |   5 +
 10 files changed, 290 insertions(+), 69 deletions(-)

commit e4b94a78487f844be4fe71c4b9bf88b16c7f42f7
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon Oct 26 00:02:11 2015 -0700

    DRILL-3937: Handle the case where min/max columns in metadata cache file are string or binary values.
    
    Simplify serialization and check for nulls. Remove byte array comparison for min/max since it is not needed anymore.
    
    close apache/drill#220

 .../apache/drill/exec/store/parquet/Metadata.java  | 46 ++++++++++++++++++++--
 .../drill/exec/store/parquet/ParquetGroupScan.java | 41 ++++++++++++++++---
 .../store/parquet/TestParquetMetadataCache.java    | 46 ++++++++++++++++++++--
 3 files changed, 121 insertions(+), 12 deletions(-)

commit 1d067d26b1ba510f4a51489d62d2a6d0480a473c
Author: adeneche <adeneche@gmail.com>
Date:   Mon Oct 19 15:40:05 2015 -0700

    DRILL-2967: Incompatible types error reported in a "not in" query with compatible data types

 .../exec/physical/impl/join/MergeJoinBatch.java    |   7 ++++++-
 .../physical/impl/join/TestMergeJoinAdvanced.java  |  23 +++++++++++++++++++++
 .../src/test/resources/join/j1/0_0_0.parquet       | Bin 0 -> 9849 bytes
 .../src/test/resources/join/j1/0_0_1.parquet       | Bin 0 -> 1028 bytes
 .../src/test/resources/join/j2/0_0_0.parquet       | Bin 0 -> 2399 bytes
 5 files changed, 29 insertions(+), 1 deletion(-)

commit f30c70fd6f41f2125e5d5997dd4697fe6ff41c4d
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Oct 23 00:06:16 2015 -0700

    DRILL-3980: Upgrade hadoop dependency version to 2.7.x in mapr profile

 pom.xml | 14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit 9f061a30f5deac57ed89bbb023be1b96e51398e9
Author: aleph-zero <andrew@primer.org>
Date:   Wed Oct 14 14:31:57 2015 -0700

    DRILL-3749: Upgrade Hadoop to 2.7.1
    
    Upgrades Hadoop dependency from 2.4.1 to 2.7.1. This allows us to take
    advantage of the latest S3 filesystem support. Includes update to Hadoop
    methods and updated curator library (2.7.1)
    
    Also includes adding @Ignore to TestDrillbitResilience.cancelAfterEverythingIsCompleted() as it appears to be subject to a timing error.
    
    See: DRILL-3967
    
    This closes #203

 exec/java-exec/pom.xml                             |  2 +-
 .../exec/store/dfs/DrillFSDataInputStream.java     |  5 ++
 .../drill/exec/store/dfs/DrillFileSystem.java      | 58 ++++++++++++++++++++++
 .../impersonation/TestImpersonationMetadata.java   |  5 +-
 .../drill/exec/server/TestDrillbitResilience.java  |  1 +
 pom.xml                                            | 10 +++-
 6 files changed, 76 insertions(+), 5 deletions(-)

commit dbcab0fee8ff416724b770ca08018cf0f17d0035
Author: Julien Le Dem <julien@ledem.net>
Date:   Thu Oct 15 10:59:18 2015 -0700

    DRILL-3742: Classpath scanning and build improvement
    
    Makes the classpath scanning a build time class discovery
    Makes the fmpp generation incremental
    Removes some slowness in DrillBit closing
    Reduces the build time by 30%
    
    This closes #148

 common/pom.xml                                     |  19 +
 .../java/org/apache/drill/common/JSONOptions.java  |   7 +-
 .../drill/common/config/CommonConstants.java       |  16 -
 .../apache/drill/common/config/DrillConfig.java    |  64 +--
 .../common/config/LogicalPlanPersistence.java      |  65 +++
 .../common/logical/FormatPluginConfigBase.java     |  25 +-
 .../apache/drill/common/logical/LogicalPlan.java   |   9 +-
 .../common/logical/StoragePluginConfigBase.java    |  24 +-
 .../common/logical/data/LogicalOperatorBase.java   |  18 +-
 .../apache/drill/common/scanner/BuildTimeScan.java | 143 +++++++
 .../drill/common/scanner/ClassPathScanner.java     | 446 +++++++++++++++++++++
 .../apache/drill/common/scanner/RunTimeScan.java   |  78 ++++
 .../persistence/AnnotatedClassDescriptor.java      |  93 +++++
 .../scanner/persistence/AnnotationDescriptor.java  | 156 +++++++
 .../scanner/persistence/AttributeDescriptor.java   |  55 +++
 .../scanner/persistence/ChildClassDescriptor.java  |  58 +++
 .../scanner/persistence/FieldDescriptor.java       | 112 ++++++
 .../scanner/persistence/ParentClassDescriptor.java |  61 +++
 .../common/scanner/persistence/ScanResult.java     | 213 ++++++++++
 .../common/scanner/persistence/TypeDescriptor.java | 115 ++++++
 .../org/apache/drill/common/util/PathScanner.java  | 176 --------
 common/src/main/resources/drill-module.conf        |  15 +-
 .../apache/drill/storage/CheckStorageConfig.java   |  14 +-
 common/src/test/resources/drill-module.conf        |   2 +-
 .../src/main/resources/drill-module.conf           |   9 +-
 .../apache/drill/hbase/TestHBaseTableProvider.java |   7 +-
 contrib/storage-hive/core/pom.xml                  |  33 +-
 .../drill/exec/expr/fn/HiveFunctionRegistry.java   |   9 +-
 .../core/src/main/resources/drill-module.conf      |  14 +-
 .../core/src/test/resources/drill-module.conf      |   2 +-
 .../src/main/resources/drill-module.conf           |   2 +-
 .../src/main/resources/drill-module.conf           |   3 +
 .../src/main/resources/drill-module.conf           |   6 +-
 .../drill/exec/store/mongo/MongoTestConstants.java |   1 +
 exec/java-exec/pom.xml                             | 154 +++----
 .../java/org/apache/drill/exec/ExecConstants.java  |   3 -
 .../drill/exec/client/PrintingResultsListener.java |   2 +
 .../apache/drill/exec/compile/CodeCompiler.java    |   5 +-
 .../apache/drill/exec/dotdrill/DotDrillFile.java   |   5 +-
 .../drill/exec/expr/DrillFuncHolderExpr.java       |   2 +-
 .../exec/expr/annotations/FunctionTemplate.java    |   2 +-
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |  60 ++-
 .../drill/exec/expr/fn/DrillBooleanOPHolder.java   |  15 +-
 .../exec/expr/fn/DrillComplexWriterFuncHolder.java |  12 +-
 .../exec/expr/fn/DrillDecimalAddFuncHolder.java    |   7 +-
 .../exec/expr/fn/DrillDecimalAggFuncHolder.java    |   7 +-
 .../exec/expr/fn/DrillDecimalCastFuncHolder.java   |  13 +-
 .../expr/fn/DrillDecimalDivScaleFuncHolder.java    |  11 +-
 .../expr/fn/DrillDecimalMaxScaleFuncHolder.java    |  12 +-
 .../expr/fn/DrillDecimalModScaleFuncHolder.java    |   7 +-
 .../expr/fn/DrillDecimalSetScaleFuncHolder.java    |  11 +-
 .../exec/expr/fn/DrillDecimalSumAggFuncHolder.java |   7 +-
 .../expr/fn/DrillDecimalSumScaleFuncHolder.java    |  12 +-
 .../expr/fn/DrillDecimalZeroScaleFuncHolder.java   |   7 +-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  78 ++--
 .../drill/exec/expr/fn/DrillFunctionRegistry.java  |  33 +-
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |  55 ++-
 .../drill/exec/expr/fn/FunctionAttributes.java     |  98 +++++
 .../drill/exec/expr/fn/FunctionConverter.java      | 320 +++++----------
 .../expr/fn/FunctionImplementationRegistry.java    |  22 +-
 .../drill/exec/expr/fn/FunctionInitializer.java    | 152 +++++++
 .../org/apache/drill/exec/ops/FragmentContext.java |   2 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |   5 +
 .../exec/physical/base/PhysicalOperatorUtil.java   |  23 +-
 .../physical/impl/OperatorCreatorRegistry.java     |  16 +-
 .../drill/exec/planner/PhysicalPlanReader.java     |  24 +-
 .../drill/exec/planner/logical/StoragePlugins.java |  13 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |   8 +-
 .../exec/planner/sql/handlers/ExplainHandler.java  |   4 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |  16 +-
 .../drill/exec/rpc/data/DataConnectionCreator.java |   1 +
 .../org/apache/drill/exec/rpc/user/UserServer.java |   6 +-
 .../user/security/UserAuthenticatorFactory.java    |  17 +-
 .../apache/drill/exec/server/BootStrapContext.java |  17 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  22 +-
 .../apache/drill/exec/server/DrillbitContext.java  |  50 ++-
 .../exec/server/options/SystemOptionManager.java   |   6 +-
 .../drill/exec/server/rest/DrillRestServer.java    |   4 +-
 .../apache/drill/exec/service/ServiceEngine.java   |  38 +-
 .../drill/exec/store/StoragePluginRegistry.java    |  31 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  21 +-
 .../apache/drill/exec/store/dfs/FormatCreator.java |  19 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  31 +-
 .../store/ischema/InfoSchemaStoragePlugin.java     |   2 +-
 .../drill/exec/store/sys/SystemTablePlugin.java    |   2 +-
 .../org/apache/drill/exec/work/WorkManager.java    |   9 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |   8 +-
 .../java-exec/src/main/resources/drill-module.conf |  31 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |   7 +-
 .../test/java/org/apache/drill/PlanningBase.java   |  18 +-
 .../drill/common/scanner/TestClassPathScanner.java | 175 ++++++++
 .../java/org/apache/drill/exec/RunRootExec.java    |   3 +-
 .../org/apache/drill/exec/TestOpSerialization.java |  10 +-
 .../apache/drill/exec/cache/TestWriteToDisk.java   |   1 +
 .../org/apache/drill/exec/client/DumpCatTest.java  |  19 +-
 .../exec/compile/CodeCompilerTestFactory.java      |  38 ++
 .../exec/compile/bytecode/ReplaceMethodInvoke.java |   4 +-
 .../drill/exec/fn/impl/TestMathFunctions.java      |  16 +-
 .../drill/exec/fn/impl/TestNewMathFunctions.java   |  17 +-
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |  16 +-
 .../fn/impl/{ => testing}/GeneratorFunctions.java  |  10 +-
 .../apache/drill/exec/memory/TestAllocators.java   |   8 +-
 .../apache/drill/exec/opt/BasicOptimizerTest.java  |   8 +-
 .../physical/config/TestParsePhysicalPlan.java     |  16 +-
 .../exec/physical/impl/TestCastFunctions.java      |  59 +--
 .../physical/impl/TestComparisonFunctions.java     |  16 +-
 .../physical/impl/TestImplicitCastFunctions.java   |  16 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   4 +-
 .../exec/physical/impl/TestSimpleFunctions.java    |  29 +-
 .../exec/physical/impl/TestStringFunctions.java    |  16 +-
 .../drill/exec/physical/impl/agg/TestAgg.java      |  16 +-
 .../exec/physical/impl/common/TestHashTable.java   |  23 +-
 .../physical/impl/filter/TestSimpleFilter.java     |  22 +-
 .../exec/physical/impl/join/TestHashJoin.java      |  22 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |  41 +-
 .../exec/physical/impl/limit/TestSimpleLimit.java  |  26 +-
 .../TestOrderedPartitionExchange.java              |   4 +-
 .../impl/project/TestSimpleProjection.java         |  16 +-
 .../exec/physical/impl/sort/TestSimpleSort.java    |  22 +-
 .../impl/trace/TestTraceMultiRecordBatch.java      |  16 +-
 .../physical/impl/trace/TestTraceOutputDump.java   |  16 +-
 .../exec/physical/impl/union/TestSimpleUnion.java  |  16 +-
 .../planner/PhysicalPlanReaderTestFactory.java     |  63 +++
 .../apache/drill/exec/pop/TestFragmentChecker.java |   3 +-
 .../org/apache/drill/exec/pop/TestFragmenter.java  |   6 +-
 .../apache/drill/exec/pop/TestInjectionValue.java  |   3 +-
 .../user/security/TestCustomUserAuthenticator.java |   9 +-
 .../{ => testing}/UserAuthenticatorTestImpl.java   |   5 +-
 .../org/apache/drill/exec/server/TestBitRpc.java   |  20 +-
 .../drill/exec/server/TestOptionsAuthEnabled.java  |  22 +-
 .../src/test/resources/drill-external-sort.conf    |   9 +-
 .../java-exec/src/test/resources/drill-module.conf |  15 +-
 .../src/test/resources/drill-oom-xsort.conf        |  11 +-
 .../test/resources/drill-spool-test-module.conf    |  17 +-
 exec/jdbc-all/example-conf/drill-module.conf       |  17 +-
 exec/jdbc-all/pom.xml                              |  11 -
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |   5 +-
 pom.xml                                            |  12 +-
 src/main/resources/checkstyle-config.xml           |   1 +
 tools/fmpp/pom.xml                                 |  82 ++++
 .../java/org/apache/drill/fmpp/mojo/FMPPMojo.java  | 227 +++++++++++
 tools/pom.xml                                      |  34 ++
 142 files changed, 3608 insertions(+), 1318 deletions(-)

commit 6576123d5351219fc2c5bd3af1676ccb77a51e34
Author: potocki <k255@gmx.com>
Date:   Thu Oct 8 08:10:33 2015 +0200

    DRILL-3914: Gis contrib module with basic spatial queries functionality
    
    This closes #191

 contrib/gis/pom.xml                                |  134 +
 contrib/gis/sample-data/CA-cities.csv              | 5727 ++++++++++++++++++++
 .../drill/exec/expr/fn/impl/gis/STAsText.java      |   58 +
 .../drill/exec/expr/fn/impl/gis/STDWithin.java     |   68 +
 .../exec/expr/fn/impl/gis/STGeomFromText.java      |   62 +
 .../exec/expr/fn/impl/gis/STGeomFromTextSrid.java  |   68 +
 .../drill/exec/expr/fn/impl/gis/STPointFunc.java   |   63 +
 .../drill/exec/expr/fn/impl/gis/STWithin.java      |   62 +
 contrib/gis/src/main/resources/drill-module.conf   |    0
 .../drill/exec/expr/fn/impl/gis/GISTestSuite.java  |   30 +
 .../expr/fn/impl/gis/TestGeometryFunctions.java    |   75 +
 contrib/pom.xml                                    |    1 +
 distribution/pom.xml                               |    5 +
 distribution/src/assemble/bin.xml                  |    1 +
 14 files changed, 6354 insertions(+)

commit 52bfd3b52cf150b798b2abb260a547b0be239a5d
Author: Tugdual Grall <tugdual@gmail.com>
Date:   Tue Oct 20 11:32:37 2015 +0200

    DRILL-3505: Add the _id when using a * projection in Mongo
    
    This closes #210

 .../main/java/org/apache/drill/exec/store/mongo/MongoRecordReader.java  | 2 ++
 1 file changed, 2 insertions(+)

commit 73fa6117434995294590bb61af9d008893fa30b8
Author: Tugdual Grall <tugdual@gmail.com>
Date:   Tue Oct 13 05:45:57 2015 -0700

    DRILL-2726: Add Drill version, from Manifest, same as SqlLine in the
    sys.version.
    
    This closes #198

 .../apache/drill/common/util/DrillVersionInfo.java | 58 ++++++++++++++++++++++
 .../drill/exec/store/sys/VersionIterator.java      |  7 ++-
 2 files changed, 64 insertions(+), 1 deletion(-)

commit 4d629fd3767aad810b6a31528b2fe01645924a90
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Oct 25 08:59:39 2015 -0700

    DRILL-3975: Make sure to strip scheme and authority from partition location.
    
    This closes #217

 .../java/org/apache/drill/exec/planner/DFSPartitionLocation.java    | 6 ++++++
 1 file changed, 6 insertions(+)

commit fab061e600f25736fe2738850ae30e697b072268
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Sun Oct 25 20:24:46 2015 -0700

    DRILL-3340: Part 2: Reverting 1a589ab and committing latest patch
    
    Add operator metrics registry for metric definitions
    + Display metrics as a table within an operator profile panel
    + Rename FragmentStats#getOperatorStats to newOperatorStats

 .../org/apache/drill/exec/ops/FragmentStats.java   |   1 +
 ...icsMapping.java => OperatorMetricRegistry.java} |  42 +--
 .../drill/exec/physical/impl/ScreenCreator.java    |   2 +-
 .../exec/server/rest/profile/OperatorWrapper.java  |  56 ++-
 .../exec/server/rest/profile/ProfileWrapper.java   |   2 +-
 .../exec/server/rest/profile/TableBuilder.java     |   1 -
 .../drill/exec/work/foreman/FragmentData.java      |  32 +-
 .../drill/exec/work/foreman/QueryManager.java      |   8 +-
 .../src/main/resources/rest/profile/profile.ftl    |  14 +
 .../drill/exec/proto/SchemaUserBitShared.java      |  14 -
 .../org/apache/drill/exec/proto/UserBitShared.java | 379 ++-------------------
 .../apache/drill/exec/proto/beans/MetricValue.java |  22 --
 .../drill/exec/proto/beans/OperatorProfile.java    |  22 --
 protocol/src/main/protobuf/UserBitShared.proto     |   2 -
 14 files changed, 134 insertions(+), 463 deletions(-)

commit 1a589ab9103858b99e9058fa034449a1cebaa799
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon Jul 13 14:19:57 2015 -0700

    DRILL-3340: Added operator names and metric names to query profile before writing it to store
    
    + Rename: FragmentStats#getOperatorStats => newOperatorStats
    + Documentation
    
    this closes #216

 .../org/apache/drill/exec/ops/FragmentStats.java   |  17 +-
 .../java/org/apache/drill/exec/ops/MetricDef.java  |   3 +
 .../apache/drill/exec/ops/OperatorContextImpl.java |   2 +-
 .../drill/exec/ops/OperatorMetricsMapping.java     |  71 ++++
 .../drill/exec/physical/impl/ScreenCreator.java    |   4 +-
 .../drill/exec/work/foreman/FragmentData.java      |  32 +-
 .../drill/exec/work/foreman/QueryManager.java      |   8 +-
 .../apache/drill/exec/memory/TestAllocators.java   |   6 +-
 .../drill/exec/proto/SchemaUserBitShared.java      |  14 +
 .../org/apache/drill/exec/proto/UserBitShared.java | 379 +++++++++++++++++++--
 .../apache/drill/exec/proto/beans/MetricValue.java |  22 ++
 .../drill/exec/proto/beans/OperatorProfile.java    |  22 ++
 protocol/src/main/protobuf/UserBitShared.proto     |   2 +
 13 files changed, 531 insertions(+), 51 deletions(-)

commit a98da39dd5a8fa368afd8765f4e981826bbfcc0f
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Oct 19 23:49:45 2015 -0700

    DRILL-3965: Fix IOOB while trying to perform partition pruning

 .../exec/planner/ParquetPartitionDescriptor.java   |  2 +-
 .../exec/planner/ParquetPartitionLocation.java     | 54 ++++++++++++++++++++++
 .../org/apache/drill/TestCTASPartitionFilter.java  |  7 +++
 3 files changed, 62 insertions(+), 1 deletion(-)

commit 17abf36adf54ef73e151c21497b0fdba9e7864fa
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Oct 12 22:52:05 2015 -0700

    DRILL-3769: Allow to_date() to use castDate()'s implementations

 exec/java-exec/src/main/codegen/data/Casts.tdd      |  2 +-
 .../src/main/codegen/templates/CastDateDate.java    |  8 +++++++-
 .../drill/exec/fn/impl/TestCastFunctions.java       | 21 +++++++++++++++++----
 3 files changed, 25 insertions(+), 6 deletions(-)

commit ef078da35bdf55eb7971cea2876db3254149e405
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Oct 8 13:47:59 2015 -0700

    DRILL-3429: Cast input of statistical window functions to double before rewriting the expression.

 .../exec/planner/sql/DrillAvgVarianceConvertlet.java  |  9 ++++++---
 .../org/apache/drill/exec/TestWindowFunctions.java    | 19 ++++++++++++++++++-
 2 files changed, 24 insertions(+), 4 deletions(-)

commit 19b4b798b6756c6a140a05c2ca8e6e79778b1df1
Author: Jinfeng Ni <jni@apache.org>
Date:   Mon Oct 19 10:19:03 2015 -0700

    DRILL-3802: Throw unsupported error for ROLLUP, CUBE, GROUPING SETS, GROUPING, GROUPING_ID, GROUP_ID
    
    close apache/drill#209

 .../sql/parser/UnsupportedOperatorsVisitor.java    | 106 +++++++++++++++++++++
 .../apache/drill/TestDisabledFunctionality.java    |  78 +++++++++++++++
 2 files changed, 184 insertions(+)

commit e293952bc2bed3f56edfaa92a36cdcf23b5a0c13
Author: adeneche <adeneche@gmail.com>
Date:   Sun Oct 11 19:56:00 2015 -0700

    move version to 1.3.0-SNAPSHOT

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-jdbc/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/pom.xml                                 | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 18 files changed, 18 insertions(+), 18 deletions(-)

commit f1100a79b4e4fbb1b58b35b0230edff137588777
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sun Oct 18 09:59:19 2015 -0700

    DRILL-3947: Use setSafe() for date, time, timestamp types while populating pruning vector (other types were already using setSafe).
    
    close apache/drill#208

 .../java/org/apache/drill/exec/store/parquet/ParquetGroupScan.java  | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 826144d89391dbadfc7fec84e633359c602bcd5a
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Wed Oct 14 20:55:34 2015 -0700

    DRILL-3943: In constant folding, when the the data type of the return value is TimeStamp, generate TimeStamp Literal
    
    This closes #206

 .../drill/exec/planner/logical/DrillConstExecutor.java     |  6 ++----
 .../org/apache/drill/exec/fn/impl/TestCastFunctions.java   | 14 ++++++++++++++
 2 files changed, 16 insertions(+), 4 deletions(-)

commit 12fb9ac11e25a2bbd9fff5d9cdb6a355b96ffadb
Author: Chris Westin <cwestin@yahoo.com>
Date:   Tue Oct 13 13:49:57 2015 -0700

    DRILL-3930: Remove direct references to TopLevelAllocator from unit tests
    Ensure RootAllocatorFactory is used throughout the code so
    that we can change allocators via configuration or software. Use
    DrillAutoCloseables to handle exceptions that could happen from some
    allocator close() calls when the allocator is in an improper state.
    
    this closes #200

 .../drill/exec/physical/impl/TestOptiqPlans.java   |  4 +-
 .../drill/exec/physical/impl/agg/TestAgg.java      |  3 -
 .../exec/physical/impl/common/TestHashTable.java   |  1 -
 .../impl/mergereceiver/TestMergingReceiver.java    | 84 +++++++---------------
 .../impl/project/TestSimpleProjection.java         |  1 -
 .../impl/trace/TestTraceMultiRecordBatch.java      |  1 -
 .../drill/exec/server/TestDrillbitResilience.java  |  5 +-
 .../drill/exec/store/TestDirectCodecFactory.java   |  2 +-
 .../drill/exec/vector/TestSplitAndTransfer.java    | 26 ++++---
 .../exec/vector/complex/writer/TestRepeated.java   | 18 ++---
 10 files changed, 53 insertions(+), 92 deletions(-)

commit 8c098355f2cb9c0139a039d17835a9c253962504
Author: Chris Westin <cwestin@yahoo.com>
Date:   Fri Oct 9 14:08:09 2015 -0700

    DRILL-3927: use OutOfMemoryException in more places
    Some code cleanup required for the upcoming introduction of the rewritten
    direct memory allocator. Chiefly the introduction of OutOfMemoryException
    handling in a few spots, the use of DrillAutoCloseables for some allocator
    close() calls, and some other minor cleanup.
    - removed the exclusion of exec/work from the jdbc-all jar, because it now
      depends on OutOfMemoryException, and that is derived from
      FragmentSetupException and Foreman Exception
    
    this closes #199

 .../org/apache/drill/common/DeferredException.java | 40 ++++++++++++++++-
 .../apache/drill/common/DrillAutoCloseables.java   | 50 ++++++++++++++++++++++
 .../apache/drill/common/config/DrillConfig.java    | 46 ++++++--------------
 .../org/apache/drill/exec/client/DrillClient.java  | 45 +++++++++++++------
 .../drill/exec/client/PrintingResultsListener.java | 24 +++++------
 .../drill/exec/physical/impl/BaseRootExec.java     | 43 ++++++++++++++++---
 .../apache/drill/exec/server/BootStrapContext.java | 16 +++----
 .../drill/exec/work/foreman/ForemanException.java  | 24 +++--------
 .../test/java/org/apache/drill/QueryTestUtil.java  |  3 +-
 .../drill/TestTpchDistributedConcurrent.java       | 10 +++++
 .../exec/fn/impl/TestByteComparisonFunctions.java  |  3 +-
 .../apache/drill/exec/memory/TestEndianess.java    |  3 +-
 .../drill/exec/server/DrillClientFactory.java      | 15 ++++---
 exec/jdbc-all/pom.xml                              |  9 ++--
 .../drill/jdbc/impl/DrillConnectionImpl.java       | 34 +++++++++------
 15 files changed, 246 insertions(+), 119 deletions(-)

commit 202a8e1544bebcfcab138ac8c85c1690389c3a73
Author: Jinfeng Ni <jni@apache.org>
Date:   Mon Oct 12 17:23:48 2015 -0700

    DRILL-3876: Skip SplitUpComplexExpression logic only when there is one complex expression at tope level of expression tree.

 .../visitor/SplitUpComplexExpressions.java         | 24 +++++++++++++++++++++-
 .../exec/physical/impl/flatten/TestFlatten.java    | 18 ++++++++++++++++
 2 files changed, 41 insertions(+), 1 deletion(-)

commit 6bc9111ac9ca1f87ee32a279e9c52ac06091b0a5
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Oct 6 09:23:18 2015 -0700

    DRILL-3876: Avoid an extra copy of the original list when flattening
    
    This only fixes a basic case, a more complete refactoring of the rewrite rule could avoid copies in cases with multiple flattens, this will be addressed in DRILL-3899.
    
    close apache/drill#187

 .../visitor/SplitUpComplexExpressions.java         |  4 +++
 .../physical/impl/flatten/TestFlattenPlanning.java | 30 ++++++++++++++++++++++
 2 files changed, 34 insertions(+)

commit 27364122ca0a82c6dd5552f292b2711bb2b28cf5
Author: Chris Westin <cwestin@yahoo.com>
Date:   Thu Oct 8 18:15:57 2015 -0700

    DRILL-3920: Additional tests added to TestValueVectors for serialization and loading.
    Some light cleanup of a few vector implementations.
    
    closes #194

 .../apache/drill/exec/vector/BaseValueVector.java  |  16 +-
 .../org/apache/drill/exec/vector/ValueVector.java  |  12 +-
 .../exec/vector/complex/AbstractMapVector.java     |  55 ++--
 .../drill/exec/vector/complex/MapVector.java       |  24 +-
 .../drill/exec/record/vector/TestValueVector.java  | 352 ++++++++++++++++-----
 5 files changed, 329 insertions(+), 130 deletions(-)

commit b4d47c56b6484eedbf3f44516338da4cdbfbb7b4
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sun Oct 11 08:02:30 2015 -0700

    DRILL-3918: During expansion save the metadata for future use.
    
    close apache/drill#196

 .../apache/drill/exec/store/dfs/FileSelection.java | 22 +++++++++++++++++++++
 .../exec/store/parquet/ParquetFormatPlugin.java    |  2 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java | 23 ++++++++++++++++++----
 3 files changed, 42 insertions(+), 5 deletions(-)

commit 8197ba8f97799c39c5d31466524ae5f694e6b0a7
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sat Oct 10 02:18:40 2015 -0700

    DRILL-3917: During file selection expansion, get the metadata for the directory by reading the metadata file.
    Ensure the selection root format is the same as the format of the files.
    Add unit test.
    
    close apache/drill#195

 .../drill/exec/store/parquet/ParquetFormatPlugin.java | 13 +++++++++++--
 .../exec/store/parquet/TestParquetMetadataCache.java  | 19 ++++++++++++++++++-
 2 files changed, 29 insertions(+), 3 deletions(-)

commit ca2c4f29b4bac21c949dd340fb6214cc5b2afbe4
Author: aleph-zero <andrew@primer.org>
Date:   Thu Oct 8 12:25:11 2015 -0700

    DRILL-3916: Add JDBC plugin to assembly
    
    This commits adds the JDBC plugin jar to the assembly so that it can be
    loaded by Drill as a storage plugin.

 distribution/src/assemble/bin.xml | 1 +
 1 file changed, 1 insertion(+)

commit 5d4167c6e1b9b64edd617caea96ee80dbae0e18f
Author: aleph-zero <andrew@primer.org>
Date:   Thu Oct 1 13:23:41 2015 -0700

    DRILL-3791: Fix bugs in JDBC storage plugin
    
    Fixes issues with bit, date, time and timestamp types in MySQL.

 .../apache/drill/exec/store/jdbc/JdbcRecordReader.java  | 17 ++++++++++++++---
 .../src/main/resources/bootstrap-storage-plugins.json   | 10 ----------
 .../apache/drill/exec/server/rest/StorageResources.java |  6 +++---
 3 files changed, 17 insertions(+), 16 deletions(-)

commit aa63e1f48ccada7386b2c2fea08dbd97ba77383c
Author: Aditya Kishore <adi@apache.org>
Date:   Fri Oct 2 11:36:45 2015 -0700

    DRILL-3888: Build test jars for all Drill Modules
    
    Move the test jar configuration to the root pom and remove it from individual module's pom.
    
    This closes #188

 common/pom.xml                    | 11 -----------
 contrib/storage-hive/core/pom.xml | 11 -----------
 exec/java-exec/pom.xml            | 12 ------------
 pom.xml                           | 10 ++++++++++
 4 files changed, 10 insertions(+), 34 deletions(-)

commit 6cd399de82d18c1f8c2e4992b0a2c3f2d4fbbbcf
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Oct 6 19:38:04 2015 -0700

    DRILL-3901:  Don't do early expansion of directory in the non-metadata-cache case because it already happens during ParquetGroupScan's metadata gathering operation.
    
    Update unit test that was changed by a previous fix for DRILL-3788

 .../java/org/apache/drill/exec/store/parquet/ParquetFormatPlugin.java | 4 +++-
 .../src/test/java/org/apache/drill/TestCTASPartitionFilter.java       | 2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 64bf5c8e687c8ce6684870c831634e2441787117
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sun Oct 4 16:48:58 2015 -0700

    DRILL-3892: Once usedMetadataFile is set to true, don't change it.
    Modify unit test to test partition pruning with metadata cache.
    Fix indentation for a comment.

 .../java/org/apache/drill/exec/store/parquet/ParquetGroupScan.java  | 6 ++----
 .../apache/drill/exec/store/parquet/TestParquetMetadataCache.java   | 3 ++-
 2 files changed, 4 insertions(+), 5 deletions(-)

commit b418397790e7e00505846d48bc6458d710c00095
Author: adeneche <adeneche@gmail.com>
Date:   Sun Oct 4 18:04:59 2015 -0700

    upgading maven-release plugin to fix release issues

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 92638dc273ee85b3a0f70be7a7cd588cdb7ebbb1
Author: adeneche <adeneche@gmail.com>
Date:   Fri Oct 2 20:23:51 2015 -0700

    adding gpg signing key for adeneche

 KEYS | 58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 58 insertions(+)

commit 87531ae3e0e9c02a2e99111c3914722868077e77
Author: Kamesh <kam.iitkgp@gmail.com>
Date:   Wed Jul 15 16:34:41 2015 +0530

    DRILL-2879: Part 2 - Enhancing extended json support for date in millies and binary with type info
    
    Addressing review comments
    
    Updated unit test to remove timezone that was being pulled from the local system
    (and thus failed to match the baseline if run from a different timezone)

 .../org/apache/drill/exec/util/VectorUtil.java     |  6 ++++
 .../drill/exec/vector/complex/fn/VectorOutput.java | 40 +++++++++++++++++++---
 .../vector/complex/writer/TestExtendedTypes.java   |  7 ++++
 .../resources/vector/complex/mongo_extended.json   |  3 ++
 4 files changed, 52 insertions(+), 4 deletions(-)

commit 1cfd4c20d30dd042290e769472e60d06ae66020c
Author: Steven Phillips <smp@apache.org>
Date:   Thu Oct 1 16:54:18 2015 -0700

    DRILL-3887: Fix bug where metadata file not being used

 .../exec/store/parquet/ParquetFormatPlugin.java    | 27 ++++++++++++++++++++--
 .../drill/exec/store/parquet/ParquetGroupScan.java | 19 +++++++++++----
 .../store/parquet/TestParquetMetadataCache.java    |  9 +++++---
 3 files changed, 46 insertions(+), 9 deletions(-)

commit a3b27c83a3aa0bb9b6a9444155aa415576c7a105
Author: Chris Westin <cwestin@yahoo.com>
Date:   Tue Sep 29 16:05:00 2015 -0700

    DRILL-3874: flattening large JSON objects uses too much direct memory - add getBufferSizeFor() to ValueVector interface - add implememtations of getBufferSizeFor() for all ValueVector derivatives - add adaptive algorithm for adjusting batch size to flatten operator

 .../main/codegen/templates/FixedValueVectors.java  |   8 +
 .../codegen/templates/NullableValueVectors.java    |  10 ++
 .../codegen/templates/VariableLengthVectors.java   |  11 ++
 .../drill/exec/memory/TopLevelAllocator.java       |  12 --
 .../physical/impl/flatten/FlattenRecordBatch.java  |  38 +++--
 .../physical/impl/flatten/FlattenTemplate.java     | 165 +++++++++++++++++++--
 .../exec/physical/impl/flatten/Flattener.java      |  21 ++-
 .../apache/drill/exec/record/VectorContainer.java  |  15 +-
 .../org/apache/drill/exec/vector/BitVector.java    |   5 +
 .../org/apache/drill/exec/vector/ObjectVector.java |  13 +-
 .../org/apache/drill/exec/vector/ValueVector.java  |  15 +-
 .../org/apache/drill/exec/vector/ZeroVector.java   |   5 +
 .../vector/complex/BaseRepeatedValueVector.java    |   9 ++
 .../drill/exec/vector/complex/MapVector.java       |  20 ++-
 .../exec/vector/complex/RepeatedListVector.java    |   5 +
 .../exec/vector/complex/RepeatedMapVector.java     |  25 +++-
 16 files changed, 311 insertions(+), 66 deletions(-)

commit af0aff8f4b3786112ef5650a56a760654389d1fb
Author: AdamPD <adam@pharmadata.net.au>
Date:   Thu Oct 1 17:54:04 2015 -0700

    DRILL-2361: Allow column aliases to include dots.

 .../drill/common/expression/FieldReference.java    |  2 +-
 .../drill/exec/planner/physical/AggPrelBase.java   |  6 ++--
 .../drill/exec/planner/physical/JoinPrel.java      |  4 +--
 .../drill/exec/planner/physical/PrelUtil.java      |  2 +-
 .../test/java/org/apache/drill/TestBugFixes.java   | 33 ++++++++++++++++++++++
 5 files changed, 40 insertions(+), 7 deletions(-)

commit 30ba97c17b533b8ed980f80deadbf9a52a87a659
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Oct 1 15:15:12 2015 -0700

    DRILL-3884: Fix lower parallelization issues with Hive's native scan.
    
    This closes #185

 .../store/hive/HiveDrillNativeParquetScan.java     |  9 ++++----
 .../org/apache/drill/exec/store/hive/HiveScan.java | 27 ++++++++++++++--------
 .../drill/exec/planner/physical/ScanPrel.java      |  7 ++++++
 3 files changed, 30 insertions(+), 13 deletions(-)

commit 401119f3bf55c6c67deec1d64f94d84d1d6d1180
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue Sep 15 16:13:23 2015 -0700

    DRILL-1065: Support for ALTER ... RESET statement
    
    + Support for "SET option = value" statement (assumes scope as SESSION)
    + Bump Calcite version to include CALCITE-823 (Parser support for "ALTER
      ... RESET" statement). This commit includes a breaking change:
      SqlSetOption#getName now returns a SqlIdentifier rather than a String
      => option names are multi-part identifiers, and do not
      require escaping
    
    + Add rule in CompoundIdentifierConverter (+ Override annotations)
    + Improve error messages in SetOptionHandler
    + Add documentation (CompoundIdentifierConverter, OptionValue,
      SessionOptionManager, SystemOptionManager)
    - Does not include support for deleting short lived options
    
    + Default ExecutionControls option value should be at SYSTEM level
    + Change asserts to preconditions in SystemOptionManager
    + Add a precondition to TypeValidator's ctor to ensure default value are
      set at SYSTEM level
    
    this closes #159

 .../planner/sql/handlers/SetOptionHandler.java     |  92 ++++----
 .../sql/parser/CompoundIdentifierConverter.java    |  13 +-
 .../exec/server/options/FallbackOptionManager.java |  55 ++++-
 .../exec/server/options/FragmentOptionManager.java |   3 +-
 .../exec/server/options/InMemoryOptionManager.java |  32 ++-
 .../drill/exec/server/options/OptionManager.java   |  34 ++-
 .../drill/exec/server/options/OptionValue.java     |  10 +-
 .../exec/server/options/QueryOptionManager.java    |   4 +-
 .../exec/server/options/SessionOptionManager.java  |  15 +-
 .../exec/server/options/SystemOptionManager.java   |  45 ++--
 .../drill/exec/server/options/TypeValidators.java  |   3 +
 .../drill/exec/testing/ExecutionControls.java      |   2 +-
 .../org/apache/drill/exec/server/TestOptions.java  | 234 ++++++++++++++++++++-
 pom.xml                                            |   2 +-
 14 files changed, 465 insertions(+), 79 deletions(-)

commit 9c74c7f78efedca798a9cd9991bf214d770d8b30
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Sep 30 01:43:02 2015 -0700

    DRILL-3788: part 2: When building the metadata file path for the single entry case, check if the entry is a directory.
    
    Close apache/drill#179

 .../main/java/org/apache/drill/exec/store/dfs/FileSelection.java | 4 ++--
 .../org/apache/drill/exec/store/parquet/ParquetGroupScan.java    | 9 +++++++--
 2 files changed, 9 insertions(+), 4 deletions(-)

commit e8d27e141c0d5a4ec51309ac06c7d5762c204966
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Sep 24 16:35:47 2015 -0700

    DRILL-3788: Expand the file selection to contain all files within the directory while creating DynamicDrillTable

 .../planner/FileSystemPartitionDescriptor.java     |  3 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |  2 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  2 +-
 .../org/apache/drill/TestCTASPartitionFilter.java  |  2 +-
 .../store/parquet/TestParquetMetadataCache.java    | 40 ++++++++++++++++++++--
 5 files changed, 43 insertions(+), 6 deletions(-)

commit edd10df4026ebe3e4b0f4ec314760453cecfe756
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Sep 22 13:13:22 2015 -0700

    DRILL-3819: Remove redundant check to ignore files beginning with '.'

 .../src/main/java/org/apache/drill/exec/store/dfs/DrillPathFilter.java | 3 ---
 1 file changed, 3 deletions(-)

commit f9cefd5e7b2de52812ac6a0813237479d9a6a167
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Sep 22 13:09:51 2015 -0700

    DRILL-3817: Disable rewriting compound identifier for refresh metadata query

 .../exec/planner/sql/parser/CompoundIdentifierConverter.java   |  1 +
 .../drill/exec/store/parquet/TestParquetMetadataCache.java     | 10 ++++++++++
 2 files changed, 11 insertions(+)

commit f01da3eeb763f501aa924bbdbe4f91fe7ee454d2
Author: aleph-zero <andrew@primer.org>
Date:   Thu Oct 1 11:54:09 2015 -0700

    DRILL-3869: Allow queries submitted through the web UI to end with a semi-colon
    
    This closes #178

 .../main/java/org/apache/drill/exec/server/rest/QueryResources.java  | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 83ebc7886f1a78e8ccca1a50725a000d3ca928c9
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Sep 30 13:06:16 2015 -0700

    DRILL-3479: Fix sqlline version for all profiles

 pom.xml | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit e7e018a3d4634614591d8e2069d816f687c62634
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Aug 31 13:13:05 2015 -0700

    DRILL-3725: Add HTTPS support for Drill web interface

 .../src/resources/drill-override-example.conf      |  10 +
 exec/java-exec/pom.xml                             |   4 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   5 +
 .../org/apache/drill/exec/server/Drillbit.java     |  66 +-----
 .../apache/drill/exec/server/rest/WebServer.java   | 244 +++++++++++++++++++++
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 pom.xml                                            |   6 +
 7 files changed, 276 insertions(+), 60 deletions(-)

commit cf4f74598d426354ad73db9b5534d95dd80bd60c
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Sat Sep 26 17:16:20 2015 -0700

    DRILL-3257: Disable FilterSetOpTransposeRule, DrillProjectSetOpTransposeRule and add test cases
    
    Close apache/drill#176

 .../drill/exec/planner/logical/DrillRuleSets.java  |   6 +-
 .../test/java/org/apache/drill/TestUnionAll.java   | 219 +++++++++++++++------
 2 files changed, 168 insertions(+), 57 deletions(-)

commit f78ab84183e73216b76732f66f87ccf48e2340d3
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Sep 25 10:52:08 2015 -0700

    DRILL-3209: Add support for reading Hive parquet tables using Drill native parquet reader

 .../exec/planner/sql/HivePartitionDescriptor.java  |   4 +-
 .../ConvertHiveParquetScanToDrillParquetScan.java  | 292 +++++++++++++++++++
 .../store/hive/HiveDrillNativeParquetScan.java     | 109 +++++++
 .../store/hive/HiveDrillNativeParquetSubScan.java  |  49 ++++
 .../hive/HiveDrillNativeScanBatchCreator.java      | 192 +++++++++++++
 .../org/apache/drill/exec/store/hive/HiveScan.java |  24 +-
 .../drill/exec/store/hive/HiveStoragePlugin.java   |  16 +-
 .../apache/drill/exec/store/hive/HiveSubScan.java  |  24 +-
 .../exec/store/hive/schema/DrillHiveTable.java     |   2 +-
 .../drill/exec/TestHivePartitionPruning.java       |  20 ++
 .../apache/drill/exec/TestHiveProjectPushDown.java |  30 +-
 .../apache/drill/exec/hive/TestHiveStorage.java    | 317 ++++++++++++++-------
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |   1 +
 .../exec/store/hive/HiveTestDataGenerator.java     | 108 ++++++-
 .../java/org/apache/drill/exec/ExecConstants.java  |   6 +
 .../exec/server/options/SystemOptionManager.java   |   1 +
 16 files changed, 1065 insertions(+), 130 deletions(-)

commit 32631bb979ab2a6c29ac65486b7ce0d83165d445
Author: Parth Chandra <parthc@apache.org>
Date:   Wed Sep 23 16:47:44 2015 -0700

    DRILL-3479: Sqlline shows incorrect version of Drill

 .../src/main/java/org/apache/drill/exec/util/Utilities.java    | 10 ++++++++++
 pom.xml                                                        |  2 +-
 2 files changed, 11 insertions(+), 1 deletion(-)

commit d7eebec41a1636055be1b2c79b693d76c52d8932
Author: adeneche <adeneche@gmail.com>
Date:   Mon Sep 21 11:59:56 2015 -0700

    DRILL-2274: Unable to allocate sv2 buffer after repeated attempts : JOIN, Order by used in query
    
    - when ExternalSortBatch.newSV2() couldn't allocate a new SV2 it spills the spilledBatchGroups instead of batchGroups, otherwise no memory will be released for the sort's allocator
    - copierAllocator is closed as soon as possible to free more memory for the sort
    
    this closes #172

 .../physical/impl/xsort/ExternalSortBatch.java     | 59 ++++++++--------------
 1 file changed, 20 insertions(+), 39 deletions(-)

commit c30a2687a653b6da9d590a8bc786cc52d518fd99
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Thu Sep 17 16:48:31 2015 -0700

    DRILL-2583, DRILL-3428: Catch exceptions, and throw UserException#dataReadError with more context. This closes #161
    
    + Added convenient method to UserException for String.format(...)

 .../java/org/apache/drill/common/exceptions/UserException.java | 10 ++++++++++
 .../org/apache/drill/exec/store/hbase/DrillHBaseTable.java     |  8 ++++++--
 .../store/easy/text/compliant/CompliantTextRecordReader.java   |  8 ++++++--
 3 files changed, 22 insertions(+), 4 deletions(-)

commit 51179b92fa93a156decb910dcd7a32c762365f86
Author: Parth Chandra <parthc@apache.org>
Date:   Tue Sep 15 15:27:17 2015 -0700

    DRILL-2908: Fix Parquet for var length vectors where encoding changes across pages. Add unit tests. Add option to make parquet page size and disctionary page size configurable at session level. This closes #162

 .../java/org/apache/drill/exec/ExecConstants.java  |   4 ++
 .../fn/impl/conv/ConvertFromImpalaTimestamp.java   |  18 +++++--
 .../exec/server/options/SystemOptionManager.java   |   2 +
 .../exec/store/parquet/ParquetFormatPlugin.java    |   4 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |   1 +
 .../exec/store/parquet/ParquetRecordWriter.java    |   6 ++-
 .../parquet/columnreaders/ColumnReaderFactory.java |   6 ++-
 .../NullableFixedByteAlignedReaders.java           |   8 ++-
 .../ParquetFixedWidthDictionaryReaders.java        |  11 +++-
 .../java/org/apache/drill/DrillTestWrapper.java    |   5 +-
 .../physical/impl/writer/TestParquetWriter.java    |  58 +++++++++++++++++++++
 .../resources/parquet/int96_dict_change.parquet    | Bin 0 -> 16567 bytes
 .../test/resources/parquet/int96_impala_1.parquet  | Bin 0 -> 691 bytes
 .../resources/parquet/part1/hive_all_types.parquet | Bin 0 -> 2134 bytes
 14 files changed, 110 insertions(+), 13 deletions(-)

commit 657fe5bbd642a4483eec73d1da3f25b3d3656e34
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Apr 14 16:27:59 2015 -0700

    DRILL-2908:Enable reading the Int 96 type from parquet files.
    
    column chunk metadata can be out of order from the column ordering in the schema, even though it exposes both as a list, making them seem like they should correspond, so we have to make our own map between the column names and indexes in the list.
    
    Support for varbinary reading and int96 reading in the new reader.
    
    Support the second version page header, the java library will only dictionary encode fix length byte arrays when the writer version is set to 2.0
    
    Looks to be working in the vectorized reader, need a test case.
    
    Fixed complex reader, was using the wrong field to figure out the length to read.
    
    Conflicts:
            exec/java-exec/src/main/java/org/apache/drill/exec/store/parquet/columnreaders/NullableFixedByteAlignedReaders.java
            exec/java-exec/src/main/java/org/apache/drill/exec/store/parquet/columnreaders/ParquetFixedWidthDictionaryReaders.java
            exec/java-exec/src/main/java/org/apache/drill/exec/store/parquet/columnreaders/ParquetToDrillTypeConverter.java
            exec/java-exec/src/main/java/org/apache/drill/exec/store/parquet2/DrillParquetGroupConverter.java
    
    UDF for reading impala timestamps from varbinary
    
    Fix for reading fixed binary and int96 columns in the vectorized parquet reader.
    
    Conflicts:
            exec/java-exec/src/main/java/org/apache/drill/exec/store/parquet/columnreaders/NullableFixedByteAlignedReaders.java
    
    Fix for a bug reading fixed binary and int 96 data out of parquet when the data is plain encoded.

 .../codegen/templates/NullableValueVectors.java    |  1 +
 .../fn/impl/conv/ConvertFromImpalaTimestamp.java   | 50 ++++++++++++++++++++++
 .../parquet/columnreaders/ColumnReaderFactory.java |  7 ++-
 .../columnreaders/FixedByteAlignedReader.java      |  2 +-
 .../NullableFixedByteAlignedReaders.java           | 41 +++++++++++++++++-
 .../ParquetFixedWidthDictionaryReaders.java        | 43 +++++++++++++++++++
 .../parquet/columnreaders/ParquetRecordReader.java | 15 ++++++-
 .../columnreaders/ParquetToDrillTypeConverter.java |  2 +-
 .../store/parquet2/DrillParquetGroupConverter.java | 38 +++++++++++++---
 .../parquet/hadoop/ColumnChunkIncReadStore.java    | 39 ++++++++++++++++-
 10 files changed, 226 insertions(+), 12 deletions(-)

commit b9afcf8fa92e432d31bddf0c8c88b09a51b4102d
Author: adeneche <adeneche@gmail.com>
Date:   Mon Aug 24 13:37:25 2015 -0700

    DRILL-3596: Allow only (<expression>) or (<expression>, 1) for LEAD and LAG window functions as input parameters
    
    this closes #128

 .../sql/parser/UnsupportedOperatorsVisitor.java    | 35 ++++++++++++++++++++++
 .../exec/physical/impl/window/TestWindowFrame.java | 23 ++++++++++++++
 2 files changed, 58 insertions(+)

commit f7ce86d3941af0559c4149718b6b9a523e4c9ab2
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Sep 22 18:04:45 2015 -0700

    DRILL-3822:  Have PathScanner use own, not thread-context, class loader.
    
    this closes #166

 .../main/java/org/apache/drill/common/util/PathScanner.java   | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit bb111addb1f702044c70d48c9dd05a5c001b15d6
Author: adeneche <adeneche@gmail.com>
Date:   Tue Sep 22 20:34:19 2015 -0700

    DRILL-3784: simple Jdbc program fails with NoClassDefFoundError

 exec/jdbc-all/pom.xml | 1 -
 1 file changed, 1 deletion(-)

commit 846df965ea85c4712007ef6a6e9a78f396aa50e4
Author: Jinfeng Ni <jni@apache.org>
Date:   Mon Sep 21 22:42:23 2015 -0700

    DRILL-1457: Push Limit past through UnionExchange.
    
    Close apache/drill#169

 .../exec/planner/common/DrillLimitRelBase.java     | 30 +++++++-
 .../drill/exec/planner/logical/DrillRuleSets.java  |  2 +
 .../drill/exec/planner/physical/LimitPrel.java     |  6 +-
 .../physical/LimitUnionExchangeTransposeRule.java  | 66 +++++++++++++++++
 .../impl/limit/TestLimitWithExchanges.java         | 83 ++++++++++++++++++++++
 5 files changed, 183 insertions(+), 4 deletions(-)

commit b8573526da7403270002fe1524b683d04c4c7909
Author: Julien Le Dem <julien@ledem.net>
Date:   Thu Sep 24 13:52:08 2015 -0700

    DRILL-3836: Find free port automatically in TestBitRpc
    
    This closes #168

 .../src/test/java/org/apache/drill/exec/server/TestBitRpc.java          | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b628298767ae7a82a0415f64df88b01b43fec3e5
Author: dbarclay <dbarclay@maprtech.com>
Date:   Mon Sep 14 10:54:34 2015 -0700

    DRILL-3778: Add missed part of DRILL-3160 (making JDBC Javadoc available).
    
    This closes #158
    
    Main:
    Configured Javadoc generation (title, package groups, version in headers).
    Added link to JDBC page in Drill documentation site.
    Edited/fixed some JDBC Javadoc comments.
    Added explicit SQLConversionOverflowException to throws clauses for Javadoc
    effect.
    Added some imports for Javadoc references.
    
    Misc.:
    Fixed a couple Javadoc syntax errors.
    Fixed POM indentation.

 .../org/apache/drill/common/util/PathScanner.java  |   2 +-
 .../drill/exec/work/batch/RawBatchBuffer.java      |   2 +-
 exec/jdbc-all/pom.xml                              | 101 +++++++++++++--------
 .../drill/jdbc/AlreadyClosedSqlException.java      |   2 +-
 .../org/apache/drill/jdbc/DrillConnection.java     |   2 +-
 .../apache/drill/jdbc/DrillConnectionConfig.java   |   1 -
 .../java/org/apache/drill/jdbc/DrillResultSet.java |  48 ++++++----
 .../drill/jdbc/InvalidCursorStateSqlException.java |   2 +-
 .../org/apache/drill/jdbc/JdbcApiSqlException.java |   5 +-
 .../java/org/apache/drill/jdbc/package-info.java   |  10 +-
 .../drill/jdbc/proxy/TracingProxyDriver.java       |   4 +-
 .../org/apache/drill/jdbc/proxy/package-info.java  |   1 +
 12 files changed, 114 insertions(+), 66 deletions(-)

commit d2caa62e1074ee99ceb764443496097f578d6d2a
Author: Jinfeng Ni <jni@apache.org>
Date:   Mon Sep 21 14:59:03 2015 -0700

    DRILL-3781:  Group by system function in schema-based table.
    
    Fix is in Calcite-886. Add unit test and bump forked Calcite version in Drill.

 .../drill/exec/fn/impl/TestAggregateFunctions.java | 38 ++++++++++++++++++++++
 pom.xml                                            |  2 +-
 2 files changed, 39 insertions(+), 1 deletion(-)

commit 942d3525bb12885d97bc996c0395ff51179495e7
Author: adeneche <adeneche@gmail.com>
Date:   Sun Sep 20 12:11:55 2015 -0700

    DRILL-3811: AtomicRemainder incorrectly accounts for transferred allocations
    
    this closes #163

 .../apache/drill/exec/memory/AtomicRemainder.java  | 31 +++++++++++-----------
 .../apache/drill/exec/memory/TestAllocators.java   | 23 ++++++++++++++++
 2 files changed, 38 insertions(+), 16 deletions(-)

commit d37462e59c68c570fae834d2a95a1ccfde042105
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Sep 15 22:05:21 2015 -0700

    DRILL-2748: Improve cost estimation for Drill logical aggregation in query planner.

 .../exec/planner/common/DrillAggregateRelBase.java | 61 +++++++++++++----
 .../exec/planner/logical/DrillAggregateRel.java    | 19 ++++++
 .../drill/exec/planner/physical/AggPrelBase.java   |  3 +-
 .../drill/exec/planner/physical/HashAggPrel.java   | 32 +--------
 .../drill/exec/fn/impl/TestAggregateFunctions.java | 77 ++++++++++++++++++++++
 5 files changed, 147 insertions(+), 45 deletions(-)

commit 9f54aac33df3e783c0192ab56c7e1313dbc823fa
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sat Sep 12 12:57:12 2015 -0700

    DRILL-3735: For partition pruning divide up the partition lists into sublists of 64K each and iterate over each sublist.
    
    Add abstract base class for various partition descriptors.  Add logging messages in PruneScanRule for better debuggability.
    
    Address review comments.
    
    Close apache/drill#156

 .../exec/planner/sql/HivePartitionDescriptor.java  |  27 ++--
 .../exec/planner/AbstractPartitionDescriptor.java  |  58 +++++++
 .../planner/FileSystemPartitionDescriptor.java     |  26 +--
 .../exec/planner/ParquetPartitionDescriptor.java   |  26 +--
 .../drill/exec/planner/PartitionDescriptor.java    |  11 +-
 .../planner/logical/partition/PruneScanRule.java   | 179 ++++++++++++---------
 6 files changed, 215 insertions(+), 112 deletions(-)

commit 3c89b30d4e5f34f84883b0071a8f6ad747311fa9
Author: adeneche <adeneche@gmail.com>
Date:   Fri Sep 4 17:10:17 2015 -0700

    DRILL-3732: Drill leaks memory if external sort hits out of disk space exception
    
    - ExternalSort.mergeAndSpill() cleans all it's data in case an errors occurs while it's spilling to disk
    - made BatchGroup AutoCloseable so it can easily be closed with AutoCloseables.close() if an error occurs
    - added injection site while External sort is spilling to disk
    - added unit test that forces a 2 batch query to spill to disk and injects an exception while it does so
    
    this closes #147

 .../drill/exec/physical/impl/xsort/BatchGroup.java |  5 +-
 .../physical/impl/xsort/ExternalSortBatch.java     | 50 +++++++++++---
 .../impl/xsort/TestSortSpillWithException.java     | 79 ++++++++++++++++++++++
 .../src/test/resources/xsort/2batches/0.data.json  | 20 ++++++
 .../src/test/resources/xsort/2batches/1.data.json  | 20 ++++++
 5 files changed, 161 insertions(+), 13 deletions(-)

commit 092903dfda54f3c157081fc0c01dca0b2b78bde5
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Sep 19 17:40:05 2015 -0700

    DRILL-3809: Make PrelFinalizer have instances rather than a single Prel since RelShuttleImpl has internal state.

 .../exec/planner/sql/handlers/DefaultSqlHandler.java  | 19 +++++++++++++++++--
 .../exec/planner/sql/handlers/PrelFinalizable.java    | 18 ------------------
 2 files changed, 17 insertions(+), 20 deletions(-)

commit 1716cb083f6c873e45b2745ce449fbf605d9d16c
Author: adeneche <adeneche@gmail.com>
Date:   Fri Sep 11 14:51:52 2015 -0700

    reverting a fix no longer needed after DRILL-3767

 .../src/main/java/org/apache/drill/exec/store/parquet/Metadata.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0ee609581423b9649391be02013da86fe9b0e2f2
Author: Steven Phillips <smp@apache.org>
Date:   Tue Aug 18 13:24:33 2015 -0700

    DRILL-2743: Parquet file metadata caching
    
    rebasing on top of master required conflict resolution in Parser.tdd and parserImpls.ftl
    
    this closes #114

 .../apache/drill/common/config/DrillConfig.java    |   2 +-
 .../apache/drill/common/expression/SchemaPath.java |   4 +-
 exec/java-exec/src/main/codegen/data/Parser.tdd    |   7 +-
 .../src/main/codegen/includes/parserImpls.ftl      |  21 +
 .../sql/handlers/RefreshMetadataHandler.java       | 128 ++++++
 .../planner/sql/parser/SqlRefreshMetadata.java     |  97 ++++
 .../drill/exec/store/dfs/DrillPathFilter.java      |   3 +
 .../apache/drill/exec/store/parquet/Metadata.java  | 498 +++++++++++++++++++++
 .../exec/store/parquet/ParquetFormatPlugin.java    |   3 +
 .../drill/exec/store/parquet/ParquetGroupScan.java | 367 +++++++--------
 .../drill/exec/store/schedule/AffinityCreator.java |   1 -
 .../store/parquet/TestParquetMetadataCache.java    |  62 +++
 12 files changed, 986 insertions(+), 207 deletions(-)

commit 3f5ebafcaa8fc0ed08d5964081e4c22a6906d46b
Author: adeneche <adeneche@gmail.com>
Date:   Fri Sep 11 10:31:59 2015 -0700

    DRILL-3767: SchemaPath.getCompoundPath(String...strings) reverses it's input array
    
    this closes #155

 .../apache/drill/common/expression/SchemaPath.java | 25 ++++++----------------
 1 file changed, 7 insertions(+), 18 deletions(-)

commit 813903a34ea1c9c3fec28f2472312c8785f780c5
Author: Aman Sinha <asinha@maprtech.com>
Date:   Thu Sep 17 01:29:38 2015 -0700

    DRILL-3779: Fix NPE in mergeAndSpill().  Add more debug logging messages.  Make copier per-batch memory limit power of 2.
    Get rid of some warnings.  Add a few comments.
    
    Address review comments.
    
    Close apache/drill#160

 .../physical/impl/xsort/ExternalSortBatch.java     | 63 ++++++++++++++++------
 1 file changed, 47 insertions(+), 16 deletions(-)

commit e52d473eb465699bf145cac70662809f1feae78e
Author: Chris Westin <cwestin@yahoo.com>
Date:   Thu Sep 10 18:28:00 2015 -0700

    DRILL-1942-readers:
    - add extends AutoCloseable to RecordReader, and rename cleanup() to close().
    - fix many warnings
    - formatting fixes
    
    DRILL-1942-readers:
    - renamed cleanup() to close in the new JdbcRecordReader
    
    Close apache/drill#154

 .../drill/exec/store/hbase/HBaseRecordReader.java  | 40 +++++------
 .../drill/exec/store/hive/HiveRecordReader.java    |  5 +-
 .../drill/exec/store/jdbc/JdbcRecordReader.java    |  2 +-
 .../drill/exec/store/mongo/MongoRecordReader.java  |  4 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java | 82 +++++++++++-----------
 .../org/apache/drill/exec/store/RecordReader.java  | 15 ++--
 .../drill/exec/store/avro/AvroRecordReader.java    |  2 +-
 .../exec/store/easy/json/JSONRecordReader.java     | 33 ++++-----
 .../text/compliant/CompliantTextRecordReader.java  |  2 +-
 .../drill/exec/store/mock/MockRecordReader.java    | 51 ++++----------
 .../parquet/columnreaders/ParquetRecordReader.java | 44 +++++-------
 .../exec/store/parquet2/DrillParquetReader.java    | 36 ++++------
 .../drill/exec/store/pojo/PojoRecordReader.java    |  6 +-
 .../exec/store/text/DrillTextRecordReader.java     | 40 ++++-------
 .../exec/store/json/TestJsonRecordReader.java      | 16 ++---
 .../store/parquet/ParquetRecordReaderTest.java     | 11 +--
 16 files changed, 160 insertions(+), 229 deletions(-)

commit 5fab01fab93c3b51496aec2358645ac2ac78568c
Author: Chris Westin <cwestin@yahoo.com>
Date:   Thu Aug 6 17:09:26 2015 -0700

    DRILL-1942-concurrency-test: new smoke test for concurrent query execution; useful to checking on the new allocator's locking schemes, as well as a general concurrent query execution smoke test. this closes #105

 .../test/java/org/apache/drill/BaseTestQuery.java  |   2 +-
 .../drill/TestTpchDistributedConcurrent.java       | 212 +++++++++++++++++++++
 2 files changed, 213 insertions(+), 1 deletion(-)

commit 9afcf61f6c993cd028022d827daa7f873a61ffaa
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Aug 25 10:56:25 2015 -0700

    DRILL-3680: Fix incorrect query result or IOBE when window function is used in subquery.

 .../drill/exec/planner/common/DrillRelOptUtil.java | 13 ++++++
 .../exec/planner/common/DrillWindowRelBase.java    |  2 +-
 .../org/apache/drill/exec/TestWindowFunctions.java | 46 ++++++++++++++++++++++
 3 files changed, 60 insertions(+), 1 deletion(-)

commit 80e7e61aa1396c0e424b42507cbf49c6b3546876
Author: Jinfeng Ni <jni@apache.org>
Date:   Fri Aug 28 16:50:21 2015 -0700

    DRILL-3761: Modify CastIntDecimal implementation so that it will not modify its input holder.

 .../src/main/codegen/templates/Decimal/CastIntDecimal.java         | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 48bc0b9a8916af7191b0a99351c27fd5b69786c3
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu Aug 27 17:02:10 2015 -0700

    DRILL-3718: After TextReader finishes reading a field surrounded by double quotes, the reader would skip whitespaces only if those whitespaces are not used as delimiter

 .../exec/store/easy/text/compliant/TextReader.java | 10 +++--
 .../java/org/apache/drill/TestExampleQueries.java  |  2 +-
 .../drill/exec/store/text/TestNewTextReader.java   | 52 ++++++++++++++++++++++
 .../test/resources/bootstrap-storage-plugins.json  |  5 +++
 .../src/test/resources/store/text/WithQuote.ssv    |  3 ++
 .../src/test/resources/store/text/WithQuote.tbl    |  3 ++
 .../src/test/resources/store/text/WithQuote.tsv    |  3 ++
 pom.xml                                            |  1 +
 8 files changed, 74 insertions(+), 5 deletions(-)

commit 0c1b293d92ca8db88d4c3c43a7029e53a6890430
Author: Edmon Begoli <ebegoli@gmail.com>
Date:   Sun Aug 30 10:56:22 2015 -0400

    DRILL-3724: Improve javadoc of the plugin component
    
    Improve the javadoc of the key methods and classes for custom plugin development.
    
    this closes #139

 .../apache/drill/exec/store/AbstractStoragePlugin.java |  3 +++
 .../org/apache/drill/exec/store/StoragePlugin.java     | 18 +++++++++++++++++-
 .../drill/exec/store/dfs/easy/EasyFormatPlugin.java    |  3 +++
 3 files changed, 23 insertions(+), 1 deletion(-)

commit d6adf5c7c7d48d4170b2e7dec2ec5e451dda0cea
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Aug 4 16:51:07 2015 -0700

    DRILL-3347: VARCHAR ResultSet.getObject returned ...hadoop.io.Text, not String.
    
    this closes #144
    Core fix:
    - Fixed {,Nullable}VarCharAccessor's getObject() to return String instead of
      value vector's internal org.apache.hadoop.io.Text.
    - Updated unit tests (to expect only String now).
      [DatabaseMetaDataGetColumnsTest, ResultSetMetaDataTest]
    
    Also Added getObject check in tracing proxy test.  [TracingProxyDriverTest]
    Changed hard references to Hadoop's Text and JodaTime's Period to strings in
    warning check in tracing proxy.  [InvocationReporterImpl]
    
    Cleanup:
    - Added @Override annotations.  [SqlAccessors]
    - (Unintentionally) fixed (undetected) missing comma.  [ValueVectorTypes.tdd]

 .../src/main/codegen/data/ValueVectorTypes.tdd     |  2 +-
 .../src/main/codegen/templates/SqlAccessors.java   | 30 +++++++++-
 .../java/org/apache/drill/jdbc/impl/MetaImpl.java  |  2 +
 .../drill/jdbc/proxy/InvocationReporterImpl.java   |  9 ++-
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java | 64 +++++++++-------------
 .../apache/drill/jdbc/ResultSetMetaDataTest.java   |  4 +-
 .../drill/jdbc/proxy/TracingProxyDriverTest.java   |  1 +
 7 files changed, 66 insertions(+), 46 deletions(-)

commit dca98ef6a3c675526597f4fdc203bc606168695c
Author: Chris Westin <cwestin@yahoo.com>
Date:   Tue Aug 25 16:45:35 2015 -0700

    DRILL-1942-hygiene:
    - add AutoCloseable to many classes
    - minor fixes
    - formatting
    
    this closes #133

 .../exec/cache/AbstractStreamSerializable.java     |   6 +-
 .../cache/LoopedAbstractDrillSerializable.java     |  18 +-
 .../exec/cache/VectorAccessibleSerializable.java   |  31 +--
 .../drill/exec/expr/fn/impl/StringFunctions.java   | 310 ++++++++++++---------
 .../org/apache/drill/exec/ops/BufferManager.java   |  13 +-
 .../drill/exec/physical/impl/ImplCreator.java      |   8 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |  24 +-
 .../exec/physical/impl/SingleSenderCreator.java    |  23 +-
 .../physical/impl/TopN/PriorityQueueTemplate.java  |  13 +-
 .../exec/physical/impl/WriterRecordBatch.java      |  37 +--
 .../physical/impl/aggregate/StreamingAggBatch.java |  52 ++--
 .../broadcastsender/BroadcastSenderRootExec.java   |   7 +-
 .../physical/impl/filter/FilterRecordBatch.java    |  32 +--
 .../exec/physical/impl/join/HashJoinBatch.java     |  96 +++----
 .../physical/impl/join/NestedLoopJoinBatch.java    |  14 +-
 .../exec/physical/impl/limit/LimitRecordBatch.java |  42 ++-
 .../OrderedPartitionRecordBatch.java               |   4 +-
 .../partitionsender/PartitionSenderRootExec.java   |  14 +-
 .../impl/producer/ProducerConsumerBatch.java       |   5 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   4 +-
 .../impl/svremover/RemovingRecordBatch.java        |   2 +-
 .../impl/window/WindowFrameRecordBatch.java        |   8 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |   6 +-
 .../exec/physical/impl/xsort/MSortTemplate.java    |  12 +-
 .../physical/impl/xsort/PriorityQueueCopier.java   |  17 +-
 .../impl/xsort/PriorityQueueCopierTemplate.java    |   8 +-
 .../drill/exec/record/AbstractRecordBatch.java     |  12 +-
 .../exec/record/AbstractSingleRecordBatch.java     |   8 +-
 .../apache/drill/exec/record/RawFragmentBatch.java |  14 +-
 .../drill/exec/record/RecordBatchLoader.java       |  25 +-
 .../drill/exec/store/AbstractRecordReader.java     |   2 +-
 31 files changed, 425 insertions(+), 442 deletions(-)

commit e45d09603159ecc4cf60c3b1d5f8b54decd55a42
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Wed Jul 22 17:21:50 2015 -0700

    DRILL-2650: Mark query end time when closing the Foreman
    
    this closes #80

 .../java/org/apache/drill/exec/work/foreman/Foreman.java | 16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit e43155d8eabb6fc2d0fa4c68c25d6e7c59bf4521
Author: Aditya Kishore <adi@apache.org>
Date:   Sun Sep 13 19:44:48 2015 -0700

    DRILL-3160: Make JDBC Javadoc documentation available to users

 exec/jdbc-all/pom.xml | 30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 26477cfd650251ee2fa522986955eca071e0fcc1
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Sep 13 19:40:30 2015 -0700

    Delete deprecated Jackson access proxies.

 .../jackson/core/JsonStreamContextExposer.java     | 29 ----------------
 .../jackson/core/json/JsonReadContextExposer.java  | 39 ----------------------
 2 files changed, 68 deletions(-)

commit 4e3b7dc0333a01e72d0ea9256331ea1e1dd51181
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Aug 16 11:46:26 2015 -0700

    DRILL-3589: Update JDBC driver to shade and minimize dependencies.
    
    Update build process to use shading, stop using Proguard.
    Add simple integration test that verifies that the JDBC driver works
    correctly with a clean classpath.

 .../org/apache/drill/common/util/PathScanner.java  |  49 ++-
 distribution/pom.xml                               |   5 +
 .../drill/exec/compile/QueryClassLoader.java       |   2 +-
 .../apache/drill/exec/server/BootStrapContext.java |  10 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |   2 +-
 exec/jdbc-all/pom.xml                              | 411 ++++++++++++---------
 .../org/apache/drill/jdbc/DrillbitClassLoader.java | 106 ++++++
 .../org/apache/drill/jdbc/ITTestShadedJar.java     | 189 ++++++++++
 exec/jdbc-all/src/test/resources/logback.xml       |  54 +++
 .../main/java/org/apache/drill/jdbc/Driver.java    |  14 +-
 10 files changed, 620 insertions(+), 222 deletions(-)

commit e5f529b611d4c2a6f674e09c12078a5441b5ce10
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Sep 13 19:14:26 2015 -0700

    Disable TestExampleQueries.testTextPartitions() until DRILL-3774 is fixed.

 .../src/test/java/org/apache/drill/TestExampleQueries.java         | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 71086bf82b5dd3aca3674147df3fd97455883fae
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Sep 13 18:51:46 2015 -0700

    Reduce test time by not waiting 2 seconds for newly submitted tasks before shutting down RPC thread pool.

 .../org/apache/drill/exec/rpc/BasicServer.java     |  3 +-
 .../org/apache/drill/exec/work/WorkManager.java    | 32 ++++++++++++++++------
 2 files changed, 25 insertions(+), 10 deletions(-)

commit fe07b6c47682b898b60a9d8221e10207240061ff
Author: Kamesh <kam.iitkgp@gmail.com>
Date:   Sat Jul 4 23:35:48 2015 +0530

    DRILL-3458: Enhancing Avro file format by support nested data types like union, map
    
    Removing unused imports and fixing typos in the comments
    
    Adding sanity check to verify whether union is an optional field or not and negative testcases
    
    Handling string and utf-8 datatypes properly
    
    removing bracket notation and documentation

 .../drill/exec/store/avro/AvroRecordReader.java    |  65 ++++-
 .../drill/exec/store/avro/MapOrListWriter.java     |   9 +
 .../drill/exec/store/avro/AvroFormatTest.java      |  77 +++++-
 .../apache/drill/exec/store/avro/AvroTestUtil.java | 306 +++++++++++++++++++++
 4 files changed, 438 insertions(+), 19 deletions(-)

commit 8f4ca6ee851d1f504bd8f34a6329580a177d361d
Author: Kamesh <kam.iitkgp@gmail.com>
Date:   Fri Aug 28 15:20:44 2015 +0530

    DRILL-3720: Avro Record Reader should process Avro files by per block basis

 .../org/apache/drill/exec/store/avro/AvroFormatPlugin.java |  4 ++--
 .../org/apache/drill/exec/store/avro/AvroRecordReader.java | 14 ++++++++++++--
 2 files changed, 14 insertions(+), 4 deletions(-)

commit 221489406505d738f1746dbf49f8dd0d67df3fc2
Author: Kamesh <kam.iitkgp@gmail.com>
Date:   Wed Jul 15 16:34:41 2015 +0530

    DRILL-2879: Enhancing extended json support for date in millies and binary with type info
    
    Ignore project push down Mongo test until test completes correctly on Linux

 .../exec/store/mongo/TestMongoProjectPushDown.java | 11 ++-
 .../exec/store/easy/json/JSONRecordReader.java     |  7 +-
 .../drill/exec/vector/complex/fn/ExtendedType.java |  1 +
 .../exec/vector/complex/fn/ExtendedTypeName.java   |  1 +
 .../drill/exec/vector/complex/fn/VectorOutput.java | 81 ++++++++++++++++++----
 .../vector/complex/writer/TestExtendedTypes.java   | 26 +++++++
 .../resources/vector/complex/mongo_extended.json   |  8 +++
 7 files changed, 115 insertions(+), 20 deletions(-)

commit 97615e5675c1b25a4a9b5f96e6e1be7ed4f96c9c
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Wed Sep 9 11:26:09 2015 -0700

    DRILL-3773: Fix Mongo FieldSelection
    
    Mongo plugin was previously rewriting a complex (multi-level) column reference as a simple selection of the top level field.
    
    This changeset does not change this behavior in terms of the filter sent to mongo, but it add the original selected column to the list that will be read in by the JSON reader once that data is returned from mongo.
    
    What this means is that we will be requesting more data from mongo that necessary (as we were previously), but this will be leveraging the existing functionality in the JSON reader to grab only the sub-selection actually requested in the query. This allows for difficult schema changes to be avoided by projecting only columns without schema changes.
    
    This also fixes and adds unit tests for FieldSelection that cause wrong results when selecting a nested column and its parent.

 .../drill/exec/store/mongo/MongoRecordReader.java  |  2 +-
 .../drill/exec/store/mongo/MongoTestConstants.java |  2 +
 .../drill/exec/store/mongo/MongoTestSuit.java      |  2 +
 .../exec/store/mongo/TestMongoProjectPushDown.java | 43 ++++++++++++++++++++++
 .../resources/schema_change_int_to_string.json     | 31 ++++++++++++++++
 .../exec/vector/complex/fn/FieldSelection.java     |  2 +-
 .../java/org/apache/drill/DrillTestWrapper.java    | 20 +++++++++-
 .../exec/vector/complex/writer/TestJsonReader.java | 31 ++++++++++++++++
 8 files changed, 129 insertions(+), 4 deletions(-)

commit 197d972fa42aa4cd2897d347a9bac58052a30c99
Author: akumarb2010 <akumarb2010@gmail.com>
Date:   Mon Jul 6 22:35:25 2015 +0530

    DRILL-1666: Add test code for mongo storage plugin

 contrib/storage-mongo/pom.xml                      |  13 ++
 .../drill/exec/store/mongo/MongoTestBase.java      |  88 ++++++++
 .../drill/exec/store/mongo/MongoTestConstants.java |  70 ++++++
 .../drill/exec/store/mongo/MongoTestSuit.java      | 245 +++++++++++++++++++++
 .../exec/store/mongo/TestMongoFilterPushDown.java  |  55 +++++
 .../exec/store/mongo/TestMongoProjectPushDown.java |  48 ++++
 .../drill/exec/store/mongo/TestMongoQueries.java   |  55 +++++
 .../drill/exec/store/mongo/TestTableGenerator.java |  65 ++++++
 .../storage-mongo/src/test/resources/donuts.json   | 127 +++++++++++
 contrib/storage-mongo/src/test/resources/emp.json  |  19 ++
 10 files changed, 785 insertions(+)

commit e12cd470e4ab57b025840fdfa200a051a01df029
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Aug 1 18:11:51 2015 -0700

    DRILL-3180: JDBC Storage Plugin updates.
    
    - Move to leverage Calcite's JDBC adapter capabilities for pushdowns, schema, etc.
    - Add test cases using Derby

 .../org/apache/drill/common/AutoCloseables.java    |   6 +-
 contrib/pom.xml                                    |   1 +
 contrib/{storage-mpjdbc => storage-jdbc}/pom.xml   |  39 +-
 .../drill/exec/store/jdbc/DrillJdbcRuleBase.java   | 119 ++++++
 .../drill/exec/store/jdbc/JdbcBatchCreator.java}   |  24 +-
 .../org/apache/drill/exec/store/jdbc/JdbcDrel.java |  51 +++
 .../drill/exec/store/jdbc/JdbcExpressionCheck.java | 119 ++++++
 .../drill/exec/store/jdbc/JdbcGroupScan.java       | 107 +++++
 .../exec/store/jdbc/JdbcIntermediatePrel.java      |  79 ++++
 .../org/apache/drill/exec/store/jdbc/JdbcPrel.java | 120 ++++++
 .../drill/exec/store/jdbc/JdbcRecordReader.java    | 431 +++++++++++++++++++
 .../drill/exec/store/jdbc/JdbcStorageConfig.java   | 120 ++++++
 .../drill/exec/store/jdbc/JdbcStoragePlugin.java   | 400 +++++++++++++++++
 .../apache/drill/exec/store/jdbc/JdbcSubScan.java  |  71 ++++
 .../main/resources/bootstrap-storage-plugins.json  |  10 +
 .../src/main/resources/drill-module.conf           |  12 -
 .../drill/exec/store/jdbc/TestJdbcPlugin.java      | 181 ++++++++
 .../test/resources/bootstrap-storage-plugins.json  |  10 +
 .../storage-jdbc/src/test/resources/logback.xml    |  48 +++
 .../drill/exec/store/mpjdbc/MPJdbcClient.java      | 300 -------------
 .../drill/exec/store/mpjdbc/MPJdbcCnxnManager.java |  69 ---
 .../exec/store/mpjdbc/MPJdbcFilterBuilder.java     | 235 ----------
 .../drill/exec/store/mpjdbc/MPJdbcFilterRule.java  |  60 ---
 .../exec/store/mpjdbc/MPJdbcFormatConfig.java      | 109 -----
 .../exec/store/mpjdbc/MPJdbcFormatPlugin.java      | 170 --------
 .../drill/exec/store/mpjdbc/MPJdbcGroupScan.java   | 181 --------
 .../exec/store/mpjdbc/MPJdbcRecordReader.java      | 471 ---------------------
 .../drill/exec/store/mpjdbc/MPJdbcScanSpec.java    |  76 ----
 .../exec/store/mpjdbc/MPJdbcSchemaConfig.java      |  80 ----
 .../exec/store/mpjdbc/MPJdbcSchemaFilter.java      |  23 -
 .../exec/store/mpjdbc/MPJdbcSchemaSubScan.java     |  55 ---
 .../drill/exec/store/mpjdbc/MPJdbcSubScan.java     | 119 ------
 .../main/resources/bootstrap-storage-plugins.json  |  12 -
 .../src/main/resources/checkstyle-config.xml       |  41 --
 .../src/main/resources/checkstyle-suppressions.xml |  19 -
 .../drill/exec/planner/logical/DrillJoinRel.java   |  26 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |  11 +-
 .../physical/DrillDistributionTraitDef.java        |   7 +-
 .../physical/explain/NumberingRelWriter.java       |  18 +-
 .../drill/exec/planner/sql/SchemaUtilites.java     |   2 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  13 +-
 .../exec/planner/sql/handlers/PrelFinalizable.java |  55 ++-
 .../apache/drill/exec/store/AbstractSchema.java    |   6 +-
 .../drill/exec/store/AbstractStoragePlugin.java    |   3 +-
 .../org/apache/drill/exec/store/StoragePlugin.java |   3 +-
 .../drill/exec/store/StoragePluginRegistry.java    |   8 +-
 .../apache/drill/exec/store/SubSchemaWrapper.java  |  15 +-
 47 files changed, 1981 insertions(+), 2154 deletions(-)

commit 8478e9fb1d7e6881d8f092ae9ff3a338f2e023a6
Author: MPierre <mp_200711@mac.com>
Date:   Sat Aug 1 18:07:18 2015 -0700

    DRILL-3180: Initial JDBC plugin implementation.

 contrib/storage-mpjdbc/pom.xml                     |  79 ++++
 .../exec/store/mpjdbc/MPJdbcBatchCreator.java      |  54 +++
 .../drill/exec/store/mpjdbc/MPJdbcClient.java      | 300 +++++++++++++
 .../exec/store/mpjdbc/MPJdbcClientOptions.java     |  52 +++
 .../drill/exec/store/mpjdbc/MPJdbcCnxnManager.java |  69 +++
 .../exec/store/mpjdbc/MPJdbcFilterBuilder.java     | 235 ++++++++++
 .../drill/exec/store/mpjdbc/MPJdbcFilterRule.java  |  60 +++
 .../exec/store/mpjdbc/MPJdbcFormatConfig.java      | 109 +++++
 .../exec/store/mpjdbc/MPJdbcFormatPlugin.java      | 170 ++++++++
 .../drill/exec/store/mpjdbc/MPJdbcGroupScan.java   | 181 ++++++++
 .../exec/store/mpjdbc/MPJdbcRecordReader.java      | 471 +++++++++++++++++++++
 .../drill/exec/store/mpjdbc/MPJdbcScanSpec.java    |  76 ++++
 .../exec/store/mpjdbc/MPJdbcSchemaConfig.java      |  80 ++++
 .../exec/store/mpjdbc/MPJdbcSchemaFilter.java      |  23 +
 .../exec/store/mpjdbc/MPJdbcSchemaSubScan.java     |  55 +++
 .../drill/exec/store/mpjdbc/MPJdbcSubScan.java     | 119 ++++++
 .../main/resources/bootstrap-storage-plugins.json  |  12 +
 .../src/main/resources/checkstyle-config.xml       |  41 ++
 .../src/main/resources/checkstyle-suppressions.xml |  19 +
 .../src/main/resources/drill-module.conf           |  30 ++
 20 files changed, 2235 insertions(+)

commit b525692e05c2a562a664093abd46bf68137b4a3b
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Wed Sep 9 16:21:54 2015 -0700

    DRILL-3280, DRILL-3360, DRILL-3601, DRILL-3649: Add test cases
    
    Fix is in CALCITE-820
    
    Close apache/drill#152

 .../org/apache/drill/exec/TestWindowFunctions.java | 35 ++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit 1b333678f3a2b32b5d6bad4ddf3b1001e33b42f7
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Sep 7 16:47:18 2015 -0700

    DRILL-3755: In DrillSqlWorker, give UserException.validationError if ValidationException is thrown from Calcite

 .../drill/exec/planner/sql/DrillSqlWorker.java     | 10 ++++----
 .../org/apache/drill/exec/TestWindowFunctions.java | 27 +++++++++++++---------
 2 files changed, 21 insertions(+), 16 deletions(-)

commit e29a153076c04939e539c2862b5ef3ec8f96021c
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Fri Sep 4 11:35:45 2015 -0700

    DRILL-2190, DRILL-2313, DRILL-2318: Add test cases
    
    Fixes are in CALCITE-634, CALCITE-613, CALCITE-662

 .../java/org/apache/drill/TestExampleQueries.java  | 69 ++++++++++++++++++++++
 .../org/apache/drill/exec/sql/TestWithClause.java  | 22 +++++++
 2 files changed, 91 insertions(+)

commit 24bcca11629dbd6302161cc36cb312595b2a1790
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Fri Aug 21 17:11:49 2015 -0700

    DRILL-3683: Add baseline and expected plan for TestWindowFunctions suite

 .../org/apache/drill/exec/TestWindowFunctions.java | 299 +++++++++++++++++++--
 1 file changed, 284 insertions(+), 15 deletions(-)

commit 27e4bacf770e9d873ebc5fc884809aaefff1c239
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu Aug 20 22:33:11 2015 -0700

    DRILL-3412: Add ProjectWindowTransposeRule to push Project past Window
    
    Fix is in CALCITE-844

 .../drill/exec/planner/logical/DrillRuleSets.java  |  2 ++
 .../org/apache/drill/exec/TestWindowFunctions.java | 23 ++++++++++++++++++++++
 2 files changed, 25 insertions(+)

commit 9a313933074ee95f53c15a511c41524f723c0ccf
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Tue Sep 8 10:42:51 2015 -0700

    DRILL-3580: Add test case and bump calcite version to 1.4.0-drill-r2
    
    Fix is in CALCITE-841

 .../org/apache/drill/exec/TestWindowFunctions.java | 28 ++++++++++++++++++++++
 pom.xml                                            |  2 +-
 2 files changed, 29 insertions(+), 1 deletion(-)

commit fdb6b4fecee30282d8f490e78b7f2dc3a2e27347
Author: Chris Westin <cwestin@yahoo.com>
Date:   Mon Aug 17 15:42:28 2015 -0700

    DRILL-1942-hygiene
    
    - Formatting
    - @Overrides
    - finals
    - some AutoCloseable additions
    - new isCancelled() abstract method on FragmentManager, implemented on subclasses
    
    Added missing new abstract method isCancelled()
    
    Close apache/drill#120

 .../apache/drill/common/config/NestedConfig.java   | 43 +++++++++-
 .../drill/exec/planner/logical/DrillWindowRel.java |  1 -
 .../apache/drill/exec/record/VectorAccessible.java | 26 ++++++
 .../exec/record/selection/SelectionVector2.java    | 32 +++-----
 .../exec/record/selection/SelectionVector4.java    | 10 ++-
 .../java/org/apache/drill/exec/rpc/RpcDecoder.java |  4 +-
 .../apache/drill/exec/rpc/user/QueryDataBatch.java |  9 +--
 .../drill/exec/rpc/user/QueryResultHandler.java    |  6 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |  7 +-
 .../org/apache/drill/exec/server/Drillbit.java     | 15 ++--
 .../store/easy/json/reader/BaseJsonProcessor.java  | 11 ++-
 .../exec/store/mock/MockScanBatchCreator.java      | 10 +--
 .../apache/drill/exec/vector/AllocationHelper.java | 13 ++-
 .../org/apache/drill/exec/vector/BitVector.java    | 33 ++++++--
 .../exec/vector/complex/RepeatedListVector.java    |  5 +-
 .../exec/vector/complex/RepeatedMapVector.java     | 93 +++++++++++-----------
 .../vector/complex/fn/DrillBufInputStream.java     |  5 +-
 .../drill/exec/vector/complex/fn/JsonReader.java   |  7 +-
 .../vector/complex/impl/AbstractBaseWriter.java    | 16 ++--
 .../exec/vector/complex/writer/FieldWriter.java    |  8 +-
 .../drill/exec/work/batch/BaseRawBatchBuffer.java  |  9 +++
 .../drill/exec/work/fragment/FragmentManager.java  | 30 ++++---
 .../exec/work/fragment/NonRootFragmentManager.java | 18 ++---
 .../exec/work/fragment/RootFragmentManager.java    |  7 +-
 .../java/org/apache/drill/TestTpchPlanning.java    | 49 ++++++------
 25 files changed, 279 insertions(+), 188 deletions(-)

commit eeaea7a8a71a5d6cd5f99358f0a0ea175eb8071a
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Sep 9 17:42:45 2015 -0700

    DRILL-3746: Get Hive partition values from MetaStore instead of from parsing the partition location path
    
    1) Added a partition with custom location to test Hive table. Existing partition tests now work after the fix.
    2) Enabled a test which was disabled previously due to a bug in interpreter code which is fixed recently.
    
    This closes #151

 .../exec/planner/sql/HivePartitionDescriptor.java  | 12 +++------
 .../exec/planner/sql/HivePartitionLocation.java    | 31 +++++++---------------
 .../drill/exec/TestHivePartitionPruning.java       |  4 ---
 .../apache/drill/exec/hive/TestHiveStorage.java    | 11 ++++++++
 .../exec/store/hive/HiveTestDataGenerator.java     |  9 +++++++
 5 files changed, 34 insertions(+), 33 deletions(-)

commit 0686bc23e8fbbd14fd3bf852893449ef8552439d
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Sep 8 00:39:38 2015 -0700

    DRILL-3467: Restrict visibily of workspaces in 'show schemas' based on access permissions of querying user.
    
    Also:
    Fixed failing tests in TestJdbcMetadata as the result depends on whether /tmp/drill_test is available on
    test system or not. Change it to use the default connection test parameters (which creates a unique tmp directory)
    so that the test result doesn't depend on individual machine.

 .../exec/store/dfs/FileSystemSchemaFactory.java    |  6 ++--
 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 28 ++++++++++++++++++
 .../impersonation/TestImpersonationMetadata.java   | 34 ++++++++++++++++++++--
 .../apache/drill/jdbc/test/JdbcTestActionBase.java |  2 +-
 4 files changed, 64 insertions(+), 6 deletions(-)

commit 2a191847154203871454b229d8ef322766aa9ee4
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Aug 5 12:03:01 2015 -0700

    DRILL-3535: Add support for Drop Table
    
    this closes #140

 exec/java-exec/src/main/codegen/data/Parser.tdd    |   3 +-
 .../src/main/codegen/includes/parserImpls.ftl      |  17 ++
 .../planner/sql/handlers/DropTableHandler.java     |  77 +++++++++
 .../sql/parser/CompoundIdentifierConverter.java    |   1 +
 .../exec/planner/sql/parser/SqlDropTable.java      |  95 +++++++++++
 .../apache/drill/exec/store/AbstractSchema.java    |   6 +
 .../drill/exec/store/dfs/BasicFormatMatcher.java   |  11 +-
 .../drill/exec/store/dfs/DrillFileSystem.java      |   4 +
 .../drill/exec/store/dfs/DrillPathFilter.java      |   5 +-
 .../apache/drill/exec/store/dfs/FormatMatcher.java |   3 +
 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 124 +++++++++++++++
 .../exec/store/parquet/ParquetFormatPlugin.java    |   2 +-
 .../test/java/org/apache/drill/TestDropTable.java  | 174 +++++++++++++++++++++
 .../impersonation/TestImpersonationMetadata.java   |  44 +++++-
 14 files changed, 558 insertions(+), 8 deletions(-)

commit 41fc9ca52c6983e78b2a609b96b087814a3c7969
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Sep 8 17:01:14 2015 +0000

    DRILL-3622: When user authentication is enabled, enforce admin privileges to update SYSTEM options
    
    + define what user is considered an admin
    + remove a stray file in test module (exec/java-exec/src/test/java/org/apache/drill/exec/server/rest/RootResource.java)

 .../java/org/apache/drill/exec/ExecConstants.java  |  16 +++
 .../org/apache/drill/exec/ops/QueryContext.java    |   4 +
 .../planner/sql/handlers/SetOptionHandler.java     |  21 +++-
 .../user/security/UserAuthenticatorFactory.java    |   4 +-
 .../exec/server/options/SystemOptionManager.java   |   2 +
 .../drill/exec/server/options/TypeValidators.java  |  16 +++
 .../apache/drill/exec/util/ImpersonationUtil.java  |  40 ++++++++
 .../test/java/org/apache/drill/BaseTestQuery.java  |  15 ++-
 .../user/security/UserAuthenticatorTestImpl.java   |  19 +++-
 .../drill/exec/server/TestOptionsAuthEnabled.java  | 112 +++++++++++++++++++++
 .../drill/exec/server/rest/RootResource.java       |  26 -----
 11 files changed, 243 insertions(+), 32 deletions(-)

commit 1601a7c5e9a2bb3772f12f0650e13935ab5ba563
Author: adeneche <adeneche@gmail.com>
Date:   Wed Aug 19 11:52:29 2015 -0700

    DRILL-3668: Incorrect results FIRST_VALUE function
    
    added DefaultFrameTemplate.resetInternal() and generate code to set first value of internal batch to NULL at the end of each partition
    added unit test to make sure bug has been fixed
    
    this closes #146

 .../src/main/codegen/templates/FixedValueVectors.java  |   8 ++++++++
 .../main/codegen/templates/NullableValueVectors.java   |  15 +++++++++++++++
 .../main/codegen/templates/VariableLengthVectors.java  |   9 +++++++++
 .../physical/impl/window/DefaultFrameTemplate.java     |   7 +++++++
 .../apache/drill/exec/vector/BaseDataValueVector.java  |   5 +++++
 .../java/org/apache/drill/exec/vector/BitVector.java   |   9 +++++++++
 .../java/org/apache/drill/exec/vector/ValueVector.java |  17 +++++++++++++++++
 .../exec/physical/impl/window/TestWindowFrame.java     |  10 ++++++++++
 exec/java-exec/src/test/resources/window/3668.parquet  | Bin 0 -> 395 bytes
 exec/java-exec/src/test/resources/window/3668.sql      |   6 ++++++
 10 files changed, 86 insertions(+)

commit 6db7c05a95950ccb91dddb4e6097da8f72c4dd35
Author: dbarclay <dbarclay@maprtech.com>
Date:   Mon Jul 27 19:27:50 2015 -0700

    DRILL-3566: Fix:  PreparedStatement.executeQuery() got ClassCastException.
    
    Main:
    Restored DrillResultSetImpl(...)'s statement parameter from overly
    restrictive DrillStatementImpl to AvaticaStatement and removed caller
    cast that was throwing.  (Relatedly, adjusted getStatement() and moved
    internal casting from statement to connection.)
    
    Added basic test of querying via PreparedStatement.  [PreparedStatementTest]
    Added some case test of statement-creation methods.  [ConnectionTest]
    
    Removed now-unneeded DrillPrepareResult cast.
    Eliminated redundant getConnection() and getClient calls, intermediate variables, etc.
    Fixed comment error.
    
    this closes #143

 .../apache/drill/jdbc/impl/DrillJdbc41Factory.java |   4 +-
 .../jdbc/impl/DrillPreparedStatementImpl.java      |   3 +-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |  28 ++-
 .../java/org/apache/drill/jdbc/ConnectionTest.java | 203 ++++++++++++++++++++-
 .../java/org/apache/drill/jdbc/JdbcTestBase.java   |   3 +-
 .../apache/drill/jdbc/PreparedStatementTest.java   |  34 +++-
 6 files changed, 248 insertions(+), 27 deletions(-)

commit 7a864a43919a46b16a2f59964e7288e30d96eb2c
Author: adeneche <adeneche@gmail.com>
Date:   Thu Aug 27 12:57:23 2015 -0700

    DRILL-3555: Changing defaults for planner.memory.max_query_memory_per_node causes queries with window function to fail
    
    this closes #137

 .../drill/exec/physical/impl/TopN/TopNBatch.java     |  3 +--
 .../OrderedPartitionRecordBatch.java                 |  5 ++---
 .../drill/exec/physical/impl/sort/SortBatch.java     |  6 ++----
 .../physical/impl/sort/SortRecordBatchBuilder.java   | 20 ++++----------------
 .../exec/physical/impl/xsort/ExternalSortBatch.java  |  3 +--
 5 files changed, 10 insertions(+), 27 deletions(-)

commit 38e660e13695d341a0cc9e72a058394d0ff9a31d
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue Jul 14 15:33:30 2015 -0700

    DRILL-3497: Throw UserException#validationError instead of SetOptionException and ExpressionParsingException for options
    
    This closes #98
    
    + Fixed bug in PositiveLongValidator (0 is not positive)
    + Added UserExceptionMatcher for unit tests
    
    DRILL-3497: Addressing Jason's review comments (1)

 .../test/java/org/apache/drill/test/DrillTest.java |  9 ++-
 .../apache/drill/test/UserExceptionMatcher.java    | 71 +++++++++++++++++++
 .../drill/exec/compile/QueryClassLoader.java       | 12 ++--
 .../exec/server/options/BaseOptionManager.java     | 16 +++--
 .../exec/server/options/FallbackOptionManager.java | 13 +++-
 .../drill/exec/server/options/OptionManager.java   |  2 +-
 .../drill/exec/server/options/OptionValidator.java |  4 +-
 .../exec/server/options/SessionOptionManager.java  |  2 +-
 .../exec/server/options/SetOptionException.java    | 62 ----------------
 .../exec/server/options/SystemOptionManager.java   | 10 ++-
 .../drill/exec/server/options/TypeValidators.java  | 82 ++++++++--------------
 .../drill/exec/testing/ExecutionControls.java      | 15 ++--
 .../org/apache/drill/exec/server/TestOptions.java  | 13 +++-
 13 files changed, 168 insertions(+), 143 deletions(-)

commit 57c5d15d617ba93fc65949350c49778ec63e6986
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Wed Jul 22 17:16:29 2015 -0700

    DRILL-3455: If fragments on unregistered Drillbits finished successfully, do not fail the query
    
    + DRILL-3448: Flipped the atLeastOneFailure condition in QueryManager
    + fixes in DrillbitStatusListener interface
    + logs from implementations of DrillbitStatusListener

 .../exec/work/foreman/DrillbitStatusListener.java  |  6 ++--
 .../drill/exec/work/foreman/QueryManager.java      | 42 +++++++++++++---------
 2 files changed, 28 insertions(+), 20 deletions(-)

commit cc7bc9535bddc08a4d9fee1a35284ad16b5a14c9
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Wed Jul 22 16:32:02 2015 -0700

    DRILL-2304: Manage options with lowercase names
    
    This closes #90
    
    Major refactoring:
    + Removed unnecessary methods from OptionManagers, and refactored implementations
    + Removed OptionAdmin interface, which was a delegate to validators
    
    Other fixes:
    + Added CaseInsensitiveMap
    + Moved OptionValue creation from TypeValidators to SetOptionHandler
    + Fixed error message in BaseOptionManager
    + Added documentation for all OptionManagers, and OptionValidator
    
    DRILL-2304: Addressing Jason's review comments (1)
    
    + Use generic Map rather than CaseInsensitiveMap for member variables and parameters
    + SessionOptionManager should use a ConcurrentHashMap

 .../drill/common/map/CaseInsensitiveMap.java       | 145 +++++++++++++++
 .../drill/common/map/TestCaseInsensitiveMap.java   |  69 ++++++++
 .../planner/sql/handlers/SetOptionHandler.java     |  45 ++++-
 .../exec/server/options/BaseOptionManager.java     |   4 +-
 .../exec/server/options/FallbackOptionManager.java |  81 +++++----
 .../exec/server/options/FragmentOptionManager.java |  24 +--
 .../exec/server/options/InMemoryOptionManager.java |  28 ++-
 .../drill/exec/server/options/OptionManager.java   |  79 ++++++---
 .../drill/exec/server/options/OptionValidator.java |  39 ++---
 .../exec/server/options/QueryOptionManager.java    |  14 +-
 .../exec/server/options/SessionOptionManager.java  |  34 ++--
 .../exec/server/options/SystemOptionManager.java   | 195 +++++++++------------
 .../drill/exec/server/options/TypeValidators.java  |  50 ------
 .../drill/exec/store/sys/OptionIterator.java       |   5 +-
 .../drill/exec/testing/ControlsInjectionUtil.java  |   3 +-
 15 files changed, 525 insertions(+), 290 deletions(-)

commit 9baec8a89d438fae2309091be82204c37447afee
Author: Parth Chandra <parthc@apache.org>
Date:   Tue Aug 25 18:04:11 2015 -0700

    DRILL-3711: Fix unit tests on Windows

 .../java/org/apache/drill/exec/planner/sql/HivePartitionLocation.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 95623912ebf348962fe8a8846c5f47c5fdcf2f78
Author: spanchamia <spanchamia@maprtech.com>
Date:   Wed Jul 29 22:53:04 2015 -0700

    DRILL-3492: Add support for encoding/decoding of to/from OrderedBytes
    format
    
    Description:
    This change allows encoding/decoding of data from/to 'double', 'float',
    'bigint', 'int' and 'utf8' data types to/from OrderedBytes format.
    It also allows for OrderedByte encoded row-keys to be stored in
    ascending as well as descending order.
    
    The following JIRA added the OrderedBytes encoding to HBase:
    https://issues.apache.org/jira/browse/HBASE-8201
    
    This encoding scheme will preserve the sort-order of the native
    data-type when it is stored as sorted byte arrays on disk.
    Thus, it will help the HBase storage plugin if the row-keys have been
    encoded in OrderedBytes format.
    
    This functionality allows us to prune the scan ranges, thus reading much
    lesser data from the server.
    
    Testing Done:
    Added a new unit-test class TestOrderedBytesConvertFunctions.java which
    derives from TestConvertFunctions.java class.
    Also add new test cases to TestHBaseFilterPushDown class that will test
    if we were able to push-down filters correctly and if the results are
    correct.
    
    DRILL-3492 - * Remove repeated allocations of byte arrays and PositionedByteRange objects
    on heap(as suggested by Jason).
    * Remove OrderedBytes encode/decode operations on UTF8 types.
    Reasons -
    1. These operations are slow and incur a lot of heap allocations
    2. UTF8 types maintain their natural sort order when stored as binary arrays.
    
    DRILL-3492 - Remove test code that creates test tables with UTF8 OrderedByte encoding.

 contrib/storage-hbase/pom.xml                      |  31 +++
 .../impl/conv/OrderedBytesBigIntConvertFrom.java   |  53 ++++
 .../fn/impl/conv/OrderedBytesBigIntConvertTo.java  |  63 +++++
 .../impl/conv/OrderedBytesBigIntDescConvertTo.java |  63 +++++
 .../impl/conv/OrderedBytesDoubleConvertFrom.java   |  53 ++++
 .../fn/impl/conv/OrderedBytesDoubleConvertTo.java  |  63 +++++
 .../impl/conv/OrderedBytesDoubleDescConvertTo.java |  63 +++++
 .../fn/impl/conv/OrderedBytesFloatConvertFrom.java |  53 ++++
 .../fn/impl/conv/OrderedBytesFloatConvertTo.java   |  63 +++++
 .../impl/conv/OrderedBytesFloatDescConvertTo.java  |  63 +++++
 .../fn/impl/conv/OrderedBytesIntConvertFrom.java   |  53 ++++
 .../fn/impl/conv/OrderedBytesIntConvertTo.java     |  63 +++++
 .../fn/impl/conv/OrderedBytesIntDescConvertTo.java |  63 +++++
 .../store/hbase/CompareFunctionsProcessor.java     |  70 ++++++
 .../drill/exec/store/hbase/HBaseFilterBuilder.java |  59 +++--
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |  48 +++-
 .../drill/hbase/TestHBaseFilterPushDown.java       | 228 +++++++++++++++++
 .../hbase/TestOrderedBytesConvertFunctions.java    | 150 +++++++++++
 .../org/apache/drill/hbase/TestTableGenerator.java | 273 +++++++++++++++++++++
 19 files changed, 1557 insertions(+), 18 deletions(-)

commit 4b8e85ad6fb40554e6752144f09bdfb474d62d9b
Author: Julien Le Dem <julien@ledem.net>
Date:   Tue Aug 18 22:24:52 2015 -0700

    DRILL-3669: Fix missing indirect dependency.

 exec/java-exec/pom.xml | 6 ++++++
 1 file changed, 6 insertions(+)

commit bfe6cfadc084d8ebba52236bbe2556d77ae357e0
Author: Chris Westin <cwestin@yahoo.com>
Date:   Tue Aug 4 06:26:57 2015 -0700

    DRILL-3598: use a factory to create the root allocator.
    - made the constructor for TopLevelAllocator package private to enforce this
    
    Delete a test that had been commented out for over a year, it no longer compiles due to interface changes and there is plenty of other testing for hash aggregate.

 .../org/apache/drill/exec/TestMemoryRetention.java |  54 ++---
 .../org/apache/drill/exec/client/DrillClient.java  |  33 ++-
 .../java/org/apache/drill/exec/client/DumpCat.java |  62 +++--
 .../drill/exec/client/PrintingResultsListener.java |   4 +-
 .../drill/exec/memory/RootAllocatorFactory.java    |  67 ++++++
 .../drill/exec/memory/TopLevelAllocator.java       |   8 +-
 .../apache/drill/exec/server/BootStrapContext.java |  11 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  39 +--
 .../test/java/org/apache/drill/PlanningBase.java   |  24 +-
 .../org/apache/drill/exec/client/DumpCatTest.java  |  55 ++---
 .../org/apache/drill/exec/expr/ExpressionTest.java |  27 +--
 .../exec/fn/impl/TestByteComparisonFunctions.java  |  83 +++----
 .../drill/exec/fn/impl/TestMathFunctions.java      |  69 +++---
 .../drill/exec/fn/impl/TestNewMathFunctions.java   |  47 ++--
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |  44 ++--
 .../apache/drill/exec/memory/TestEndianess.java    |  23 +-
 .../exec/physical/impl/TestCastFunctions.java      | 263 ++++++++++-----------
 .../physical/impl/TestComparisonFunctions.java     |  25 +-
 .../physical/impl/TestImplicitCastFunctions.java   |  37 ++-
 .../drill/exec/physical/impl/TestOptiqPlans.java   | 161 ++++++-------
 .../exec/physical/impl/TestSimpleFragmentRun.java  |  46 ++--
 .../exec/physical/impl/TestSimpleFunctions.java    | 109 ++++-----
 .../exec/physical/impl/TestStringFunctions.java    | 116 ++++-----
 .../drill/exec/physical/impl/agg/TestAgg.java      |  63 ++---
 .../exec/physical/impl/common/TestHashTable.java   |  53 ++---
 .../physical/impl/filter/TestSimpleFilter.java     |  51 ++--
 .../exec/physical/impl/join/TestHashJoin.java      |  75 +++---
 .../exec/physical/impl/join/TestMergeJoin.java     | 148 ++++++------
 .../exec/physical/impl/limit/TestSimpleLimit.java  |  56 ++---
 .../impl/project/TestSimpleProjection.java         |  30 ++-
 .../exec/physical/impl/sort/TestSimpleSort.java    |  14 +-
 .../impl/trace/TestTraceMultiRecordBatch.java      |  58 +++--
 .../physical/impl/trace/TestTraceOutputDump.java   | 113 +++++----
 .../exec/physical/impl/union/TestSimpleUnion.java  |  36 ++-
 .../apache/drill/exec/record/vector/TestLoad.java  |  33 +--
 .../drill/exec/record/vector/TestValueVector.java  |  10 +-
 .../drill/exec/server/TestDrillbitResilience.java  |   8 +-
 .../drill/exec/store/TestDirectCodecFactory.java   |  51 ++--
 .../store/parquet/ParquetRecordReaderTest.java     |  10 +-
 .../drill/exec/testing/TestResourceLeak.java       |  14 +-
 .../drill/exec/vector/TestSplitAndTransfer.java    |  31 +--
 .../exec/vector/complex/TestEmptyPopulation.java   |   8 +-
 .../exec/vector/complex/writer/TestRepeated.java   |   6 +-
 .../drill/jdbc/impl/DrillConnectionImpl.java       |   8 +-
 44 files changed, 1111 insertions(+), 1172 deletions(-)

commit e39fa835d615684bcb2753d14c402b303808c1fd
Author: dbarclay <dbarclay@maprtech.com>
Date:   Wed Sep 2 10:14:37 2015 -0700

    DRILL-3661: Update:  Added a @link and a @code.
    
    This closes #119

 .../src/main/java/org/apache/drill/jdbc/impl/DrillCursor.java    | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit e880fc039e17f6283adf3279b3ac732b632e76ea
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Sep 1 09:56:17 2015 -0700

    DRILL-3661: Update:  Fixed "DRILL-xxxx" reference.

 .../src/main/java/org/apache/drill/jdbc/DrillConnectionConfig.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0f8b8b1682defa87457e7ae8aa332e5f35a35e9b
Author: dbarclay <dbarclay@maprtech.com>
Date:   Wed Aug 19 22:42:09 2015 -0700

    DRILL-3661: Update:  Fixed bad import.

 .../java/org/apache/drill/jdbc/impl/TypeConvertingSqlAccessorTest.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e9035bef86409bbe0ab85ab51194ce8658aa1316
Author: dbarclay <dbarclay@maprtech.com>
Date:   Mon Aug 17 17:26:45 2015 -0700

    DRILL-3661: Edit JDBC doc. for clarity, more consistency, bug fixes.
    
    Also fixed two serialVersionUID literals.

 .../drill/jdbc/AlreadyClosedSqlException.java      |  2 +
 .../org/apache/drill/jdbc/DrillConnection.java     | 29 +++++++----
 .../apache/drill/jdbc/DrillConnectionConfig.java   | 18 +++++++
 .../apache/drill/jdbc/DrillDatabaseMetaData.java   | 34 +++++++++++--
 .../apache/drill/jdbc/DrillPreparedStatement.java  |  3 +-
 .../java/org/apache/drill/jdbc/DrillResultSet.java | 33 ++++++++-----
 .../java/org/apache/drill/jdbc/DrillStatement.java |  6 ++-
 .../main/java/org/apache/drill/jdbc/Driver.java    |  4 +-
 .../drill/jdbc/InvalidCursorStateSqlException.java |  2 +
 .../org/apache/drill/jdbc/JdbcApiSqlException.java |  5 ++
 .../apache/drill/jdbc/SQLConversionException.java  |  2 +-
 .../drill/jdbc/SQLConversionOverflowException.java |  2 +-
 .../drill/jdbc/impl/AvaticaDrillSqlAccessor.java   |  2 +-
 .../drill/jdbc/impl/DrillConnectionImpl.java       |  1 +
 .../org/apache/drill/jdbc/impl/DrillCursor.java    | 20 ++++----
 .../drill/jdbc/impl/DrillDatabaseMetaDataImpl.java |  2 +
 .../org/apache/drill/jdbc/impl/DrillFactory.java   |  2 +-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |  1 +
 .../apache/drill/jdbc/impl/DrillStatementImpl.java |  1 +
 .../java/org/apache/drill/jdbc/impl/MetaImpl.java  |  2 +-
 .../drill/jdbc/impl/TypeConvertingSqlAccessor.java |  1 +
 .../java/org/apache/drill/jdbc/package-info.java   |  3 ++
 .../drill/jdbc/proxy/TracingProxyDriver.java       | 56 ++++++++++++----------
 .../org/apache/drill/jdbc/proxy/package-info.java  |  2 +-
 .../jdbc/ResultSetGetMethodConversionsTest.java    |  2 +-
 .../drill/jdbc/SingleConnectionCachingFactory.java |  2 +-
 .../jdbc/impl/TypeConvertingSqlAccessorTest.java   |  5 +-
 ...rill2489CallsAfterCloseThrowExceptionsTest.java |  1 +
 28 files changed, 171 insertions(+), 72 deletions(-)

commit 3ad9a42b0741c509b625f21854bede70fca16cae
Author: adeneche <adeneche@gmail.com>
Date:   Tue Aug 25 12:25:24 2015 -0700

    DRILL-3707: Fix for DRILL-3616 can cause a NullPointerException in ExternalSort cleanup
    
    This closes #130

 .../drill/exec/physical/impl/xsort/ExternalSortBatch.java   | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit b0e9e7c085a3106a612e400cd1732b6ec6267268
Author: adeneche <adeneche@gmail.com>
Date:   Mon Aug 31 15:09:29 2015 -0700

    DRILL-3684: CTAS : Memory Leak when using CTAS with tpch sf100
    
    This closes #141

 .../parquet/ParquetDirectByteBufferAllocator.java  | 70 +++++++++++++++-------
 1 file changed, 50 insertions(+), 20 deletions(-)

commit bcc01c05a4d593b1f9226121e64930251586b304
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Fri Aug 28 10:33:01 2015 -0700

    DRILL-3719: Expand -expression as -1 * expression in visitCall of DrillOptiq

 .../drill/exec/planner/logical/DrillOptiq.java       | 17 +++++++++++++----
 .../java/org/apache/drill/TestExampleQueries.java    | 20 ++++++++++++++++++++
 2 files changed, 33 insertions(+), 4 deletions(-)

commit dfa47da669dc2455389151c4e4071d405030c7a9
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Aug 28 11:23:54 2015 -0700

    DRILL-3045: Make planning time memory limit configurable

 .../java/org/apache/drill/exec/ops/QueryContext.java   |  7 ++-----
 .../drill/exec/planner/physical/PlannerSettings.java   | 18 ++++++++++++++++++
 .../drill/exec/server/options/SystemOptionManager.java |  1 +
 3 files changed, 21 insertions(+), 5 deletions(-)

commit 07dc46c112a8e9dde08471039fd81c6f6f4e1a54
Author: Jinfeng Ni <jni@apache.org>
Date:   Thu Aug 27 14:54:28 2015 -0700

    DRILL-2748: Add optimizer rule to push filter past aggregate.

 .../java/org/apache/drill/exec/planner/logical/DrillRuleSets.java  | 2 ++
 .../src/test/java/org/apache/drill/TestPartitionFilter.java        | 7 +++++++
 2 files changed, 9 insertions(+)

commit 445790feaddcae4470d53b1752d2978ea23b25b7
Author: Parth Chandra <parthc@apache.org>
Date:   Tue Aug 25 11:39:21 2015 -0700

    DRILL-3313: Address review comments

 exec/java-exec/src/main/codegen/includes/vv_imports.ftl                | 1 +
 exec/java-exec/src/main/codegen/templates/FixedValueVectors.java       | 1 +
 exec/java-exec/src/main/codegen/templates/NullableValueVectors.java    | 1 +
 exec/java-exec/src/main/codegen/templates/VariableLengthVectors.java   | 1 +
 .../src/main/java/org/apache/drill/exec/vector/BitVector.java          | 3 ++-
 .../src/main/java/org/apache/drill/exec/vector/FixedWidthVector.java   | 3 +++
 .../test/java/org/apache/drill/exec/record/vector/TestValueVector.java | 2 +-
 7 files changed, 10 insertions(+), 2 deletions(-)

commit 77e2b89fee7a823606070b6245095a8f3fa6834c
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Tue Jun 23 12:05:45 2015 -0700

    DRILL-3313: Eliminate redundant #load methods and unit-test loading & exporting of vectors

 .../main/codegen/templates/FixedValueVectors.java  | 147 ++++++++---------
 .../codegen/templates/NullableValueVectors.java    | 181 +++++++--------------
 .../codegen/templates/VariableLengthVectors.java   | 117 ++++++-------
 .../org/apache/drill/exec/vector/BitVector.java    |  23 ++-
 .../apache/drill/exec/vector/FixedWidthVector.java |  18 +-
 .../apache/drill/exec/vector/NullableVector.java   |   2 +-
 .../drill/exec/vector/VariableWidthVector.java     |  27 +--
 .../vector/complex/BaseRepeatedValueVector.java    |   2 +-
 .../drill/exec/vector/complex/MapVector.java       |   5 +-
 .../exec/vector/complex/RepeatedMapVector.java     |   2 +-
 .../drill/exec/record/vector/TestValueVector.java  | 119 ++++++++++++++
 11 files changed, 329 insertions(+), 314 deletions(-)

commit 21fbb28ea80547df4a0882c314352629e5a52d34
Author: dbarclay <dbarclay@maprtech.com>
Date:   Thu Jul 23 17:46:05 2015 -0700

    DRILL-3153: Fix JDBC's getIdentifierQuoteString() to report Drill's backquote.
    
    Added override of Avatica's default implementation returning SQL
    standard value.  Added Javadoc.  Added unit test.
    
    Also moved unit test for nullsAreSortedXxx methods.
    
    DRILL-3153: Update:  Comment fixes and whitespace only.
    
    Close apache/drill#99

 .../apache/drill/jdbc/DrillDatabaseMetaData.java   | 15 +++++++-
 .../drill/jdbc/impl/DrillDatabaseMetaDataImpl.java |  7 ++++
 .../apache/drill/jdbc/DatabaseMetaDataTest.java    | 42 +++++++++++++++++-----
 .../jdbc/test/JdbcNullOrderingAndGroupingTest.java | 20 -----------
 4 files changed, 54 insertions(+), 30 deletions(-)

commit 7da2b6295940da13ae3e819aaae3a471f5797b5e
Author: Jinfeng Ni <jni@apache.org>
Date:   Wed Aug 5 17:51:05 2015 -0700

    DRILL-3542: Distinct aggregate expansion should convert to join. Add JoinPushExpressionRule.
    
    The changes are result of CALCITE-732 and CALCITE-850.

 .../java/org/apache/drill/exec/planner/logical/DrillRuleSets.java     | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b8527594dd741bd518467170c52c977d6e37099e
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Aug 4 01:54:40 2015 -0700

    DRILL-3542: Add method to use both field names and types to determine project operator's triviality.
    
    [CALCITE-577] removes a deprecated code where project operator's triviality depends both names
    and types. Drill has to add it back, since field name matters in Drill's execution engine.

 .../drill/exec/planner/common/DrillRelOptUtil.java | 41 ++++++++++++++++++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    |  3 +-
 2 files changed, 43 insertions(+), 1 deletion(-)

commit 793884d671ec60c927e8d67e676e5f63f5875d75
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Jul 28 16:23:04 2015 -0700

    DRILL-3542: Rebase Drill on Calcite 1.4.0 release.
    
    Changes includes:
     - Parser configuration change
     - Rule name change.
     - Consistency checking in SqlOperator.
     - Exclude dependency inherited from Calcite, due to version conflicts.

 .../apache/drill/exec/planner/sql/HiveUDFOperator.java |  5 +++++
 exec/java-exec/src/main/codegen/data/Parser.tdd        |  2 ++
 .../exec/planner/logical/DrillPushProjIntoScan.java    |  2 +-
 .../drill/exec/planner/logical/DrillRuleSets.java      |  2 +-
 .../org/apache/drill/exec/planner/sql/Checker.java     |  5 +++++
 .../exec/planner/sql/handlers/DefaultSqlHandler.java   |  2 +-
 exec/jdbc-all/pom.xml                                  |  4 ++++
 pom.xml                                                | 18 +++++++++++++++---
 8 files changed, 34 insertions(+), 6 deletions(-)

commit ec4ffb4412251900343c56a9d811190f88516a9f
Author: Jinfeng Ni <jni@apache.org>
Date:   Mon Aug 24 15:13:12 2015 -0700

    DRILL-3702: Fix partition pruning rule when the pruning filter expression has non-nullable type.

 .../exec/planner/logical/partition/PruneScanRule.java    | 16 ++++++++++++++--
 .../test/java/org/apache/drill/TestPartitionFilter.java  |  6 ++++++
 2 files changed, 20 insertions(+), 2 deletions(-)

commit 18ce02166c1363bd0ad882b62de8839c58082a65
Author: adeneche <adeneche@gmail.com>
Date:   Mon Aug 17 15:15:11 2015 -0700

    DRILL-3643: NTILE(0) returns RuntimeException

 .../exec/physical/impl/window/WindowFunction.java  |  7 ++--
 .../exec/physical/impl/window/TestWindowFrame.java | 40 +++++++++++++++-------
 2 files changed, 32 insertions(+), 15 deletions(-)

commit a29129cd26f034bd22ddbcfd9445eeb493e7e78a
Author: adeneche <adeneche@gmail.com>
Date:   Mon Aug 17 14:23:55 2015 -0700

    DRILL-3654: FIRST_VALUE(<char-column>/<varchar-column>) returns IOB Exception

 .../apache/drill/exec/physical/impl/window/DefaultFrameTemplate.java | 4 ++--
 .../org/apache/drill/exec/physical/impl/window/TestWindowFrame.java  | 5 +++++
 2 files changed, 7 insertions(+), 2 deletions(-)

commit c5f1bbbb164351fc4b93ba2ef814ad7ab28a80e2
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Aug 21 23:51:38 2015 -0700

    DRILL-3690: Fix partition pruning rule to correctly build new filter when original filter contains nested expressions
    closes #127

 .../logical/partition/FindPartitionConditions.java | 193 ++++++++++++---------
 .../java/org/apache/drill/TestPartitionFilter.java |  17 ++
 2 files changed, 124 insertions(+), 86 deletions(-)

commit 52f82130e092c98ef98cb2e8c9bc4e4aa4db87e9
Author: adeneche <adeneche@gmail.com>
Date:   Mon Jul 13 09:09:40 2015 -0700

    DRILL-3616: Memory leak in a cleanup code after canceling queries with window functions spilling to disk

 .../physical/impl/xsort/ExternalSortBatch.java     | 29 ++++++++++++++++------
 1 file changed, 22 insertions(+), 7 deletions(-)

commit 31dd19cb666c14794032bbd3dcec489ecd2633dd
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Sun Aug 16 19:04:03 2015 -0700

    DRILL-3657: When constants are referred in Window Prel, ensure the indices are shifted properly

 .../drill/exec/planner/physical/WindowPrule.java   | 36 +++++++++++++++++++++-
 .../org/apache/drill/exec/TestWindowFunctions.java | 33 ++++++++++++++++++++
 2 files changed, 68 insertions(+), 1 deletion(-)

commit 32ee76d2eea21fc0655cd104d0807fcf351334b9
Author: Jinfeng Ni <jni@apache.org>
Date:   Fri Aug 14 17:58:41 2015 -0700

    DRILL-3666: Replace assert check in InterpreterEvaluator.

 .../drill/exec/expr/fn/interpreter/InterpreterEvaluator.java       | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 3204df184416b93275b8db81a3067967878d07ac
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Thu Aug 20 11:13:25 2015 -0700

    DRILL-3583: Deprecate UserException#build method to avoid mishaps. This
    closes #123

 .../org/apache/drill/common/exceptions/UserException.java   | 13 +++++++++++++
 .../drill/exec/expr/fn/impl/AggregateErrorFunctions.java    |  9 ++++-----
 2 files changed, 17 insertions(+), 5 deletions(-)

commit 718abac46ac879f36a79acd98f670fe49da8dfc5
Author: Parth Chandra <parthc@apache.org>
Date:   Mon Aug 17 18:56:16 2015 -0700

    DRILL-2731 - Fix issue with sqlline printing stack trace if ResultSet throws a SQLException

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit deee06e307931da79029bf64d2498509b68b46df
Author: Chris Westin <cwestin@yahoo.com>
Date:   Tue Aug 11 15:18:36 2015 -0700

    DRILL-1942-templates: template changes with a few related dependencies.
    This closes #108

 .../codegen/templates/AbstractFieldWriter.java     |  80 +++---
 .../src/main/codegen/templates/BaseWriter.java     |  33 +--
 .../src/main/codegen/templates/ComplexWriters.java |  73 +++---
 .../main/codegen/templates/FixedValueVectors.java  | 287 +++++++++++----------
 .../codegen/templates/JsonOutputRecordWriter.java  |   3 +-
 .../src/main/codegen/templates/ListWriters.java    | 136 +++++-----
 .../src/main/codegen/templates/MapWriters.java     | 114 ++++----
 .../codegen/templates/NullableValueVectors.java    | 184 +++++++------
 .../templates/ParquetOutputRecordWriter.java       |   3 +-
 .../codegen/templates/RepeatedValueVectors.java    | 175 +++++++------
 .../templates/StringOutputRecordWriter.java        |   3 +-
 .../codegen/templates/VariableLengthVectors.java   | 258 +++++++++---------
 .../drill/exec/vector/BaseDataValueVector.java     |  21 +-
 .../vector/complex/impl/ComplexWriterImpl.java     |  29 ++-
 .../vector/complex/impl/VectorContainerWriter.java |  27 +-
 15 files changed, 788 insertions(+), 638 deletions(-)

commit b55e2328d929df5d361c038f63fdeffadb0e544c
Author: adeneche <adeneche@gmail.com>
Date:   Thu Jul 23 16:38:44 2015 -0700

    DRILL-3536: Add support for LEAD, LAG, NTILE, FIRST_VALUE and LAST_VALUE window functions

 .../physical/impl/window/DefaultFrameTemplate.java | 177 +++++++--
 .../drill/exec/physical/impl/window/Partition.java |  30 +-
 .../exec/physical/impl/window/WindowDataBatch.java |  18 +-
 .../impl/window/WindowFrameRecordBatch.java        | 177 +++------
 .../exec/physical/impl/window/WindowFramer.java    |   4 +-
 .../exec/physical/impl/window/WindowFunction.java  | 428 +++++++++++++++++++++
 .../sql/parser/UnsupportedOperatorsVisitor.java    |  19 -
 .../org/apache/drill/exec/TestWindowFunctions.java |  65 ----
 .../physical/impl/window/GenerateTestData.java     | 383 ++++++++++++++++++
 .../exec/physical/impl/window/TestWindowFrame.java | 162 ++++++++
 exec/java-exec/src/test/resources/window/3604.sql  |   4 +
 exec/java-exec/src/test/resources/window/3605.sql  |   5 +
 exec/java-exec/src/test/resources/window/3605.tsv  |  78 ++++
 exec/java-exec/src/test/resources/window/3606.sql  |   5 +
 exec/java-exec/src/test/resources/window/3606.tsv  |  78 ++++
 .../src/test/resources/window/3648.parquet         | Bin 0 -> 2364 bytes
 exec/java-exec/src/test/resources/window/3648.sql  |   5 +
 exec/java-exec/src/test/resources/window/3648.tsv  |  22 ++
 .../src/test/resources/window/b2.p4.ntile.tsv      |  40 ++
 .../src/test/resources/window/b4.p4.fval.pby.tsv   |  80 ++++
 .../src/test/resources/window/b4.p4.lag.oby.tsv    |  80 ++++
 .../test/resources/window/b4.p4.lag.pby.oby.tsv    |  80 ++++
 .../src/test/resources/window/b4.p4.lead.oby.tsv   |  80 ++++
 .../test/resources/window/b4.p4.lead.pby.oby.tsv   |  80 ++++
 .../test/resources/window/b4.p4.lval.pby.oby.tsv   |  80 ++++
 .../src/test/resources/window/b4.p4.oby.tsv        | 154 ++++----
 .../src/test/resources/window/b4.p4.pby.oby.tsv    | 140 +++----
 .../src/test/resources/window/b4.p4.pby.tsv        | 140 +++----
 exec/java-exec/src/test/resources/window/b4.p4.tsv | 160 ++++----
 .../src/test/resources/window/b4.p4/0.data.json    |  44 +--
 .../src/test/resources/window/b4.p4/1.data.json    |  40 +-
 .../src/test/resources/window/b4.p4/2.data.json    |  40 +-
 .../src/test/resources/window/b4.p4/3.data.json    |  40 +-
 .../test/resources/window/fewRowsAllData.parquet   | Bin 0 -> 3990 bytes
 .../src/test/resources/window/fval.alltypes.sql    |  14 +
 .../src/test/resources/window/fval.pby.sql         |   4 +
 .../src/test/resources/window/lag.oby.sql          |   3 +
 .../src/test/resources/window/lag.pby.oby.sql      |   3 +
 .../src/test/resources/window/lead.oby.sql         |   3 +
 .../src/test/resources/window/lead.pby.oby.sql     |   3 +
 .../src/test/resources/window/lval.alltypes.sql    |  14 +
 .../src/test/resources/window/lval.pby.oby.sql     |   4 +
 exec/java-exec/src/test/resources/window/ntile.sql |   4 +
 43 files changed, 2353 insertions(+), 637 deletions(-)

commit 6813b20e77fb4ded1cad6169d2fd4530532801bc
Author: adeneche <adeneche@gmail.com>
Date:   Thu Aug 13 13:04:59 2015 -0700

    DRILL-3635: IllegalArgumentException - not a Parquet file (too small).
    This closes #117.

 .../drill/exec/physical/impl/WriterRecordBatch.java | 21 +++++++++++++--------
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java   | 19 +++++++++++++++++--
 2 files changed, 30 insertions(+), 10 deletions(-)

commit 645e43fd34ce3b70f14df4e3d21c9c04ca9314f1
Author: Smidth Panchamia <spanchamia@mapr.com>
Date:   Mon Jul 27 14:14:20 2015 -0700

    DRILL-3364: Prune scan range if the filter is on the leading field with byte comparable encoding
    
    The change adds support to perform row-key range pruning when the row-key prefix
    is interpreted as UINT4_BE, TIMESTAMP_EPOCH_BE, TIME_EPOCH_BE, DATE_EPOCH_BE,
    UINT8_BE encoded.
    
    Testing Done: Added a unit-tests for the new feature, also ran all existing
    unit-tests to make sure there is no regression.

 .../store/hbase/CompareFunctionsProcessor.java     | 335 +++++++++++++++++----
 .../drill/exec/store/hbase/HBaseFilterBuilder.java |  21 ++
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |  17 +-
 .../drill/hbase/TestHBaseFilterPushDown.java       | 167 ++++++++++
 .../org/apache/drill/hbase/TestTableGenerator.java | 125 ++++++++
 .../fn/impl/conv/TimeStampEpochBEConvertFrom.java  |  45 +++
 .../fn/impl/conv/TimeStampEpochBEConvertTo.java    |  54 ++++
 .../fn/impl/conv/TimeStampEpochConvertFrom.java    |  47 +++
 .../expr/fn/impl/conv/TimeStampEpochConvertTo.java |  55 ++++
 .../exec/expr/fn/impl/conv/UInt4BEConvertFrom.java |  45 +++
 .../exec/expr/fn/impl/conv/UInt4BEConvertTo.java   |  54 ++++
 .../exec/expr/fn/impl/conv/UInt4ConvertFrom.java   |  46 +++
 .../exec/expr/fn/impl/conv/UInt4ConvertTo.java     |  55 ++++
 13 files changed, 1007 insertions(+), 59 deletions(-)

commit e3fbc6a19ee77a9f3c71c39eaaa3424a991969ca
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Aug 11 16:35:37 2015 -0700

    DRILL-3621: Fix incorrect result if HBase filter contains row_key "or" filter or in list filter
    
    Add unit test for row_key "or" filter and row_key in list filter.
    
    Modify expected results for couple of existing unit tests, by specifying more strict regex pattern.
    
    Add one row in Hbase test table, per review comment.

 .../drill/exec/store/hbase/HBaseFilterBuilder.java |  6 +-
 .../apache/drill/hbase/HBaseRecordReaderTest.java  |  6 +-
 .../drill/hbase/TestHBaseFilterPushDown.java       | 70 ++++++++++++++++++++--
 .../drill/hbase/TestHBaseProjectPushDown.java      |  6 +-
 .../org/apache/drill/hbase/TestTableGenerator.java |  9 +++
 5 files changed, 83 insertions(+), 14 deletions(-)

commit c0060f7f54d2b5c3f5ce7513e15fba43c0029933
Author: Chris Westin <cwestin@yahoo.com>
Date:   Wed Aug 12 10:22:05 2015 -0700

    DRILL-2625: StackTrace format to match JDK's Throwable's format
    closes #109

 .../java/org/apache/drill/common/StackTrace.java   | 40 ++++++++++------------
 1 file changed, 18 insertions(+), 22 deletions(-)

commit 1cfbe7de90a1a939c183f14af6c2d3be7afcfc44
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Tue Aug 11 17:02:06 2015 -0700

    DRILL-3574: (continued) Code refactoring to use DrillDistributionTrait constructor that allows SINGLETON

 .../apache/drill/exec/planner/physical/DrillDistributionTrait.java    | 4 +---
 .../main/java/org/apache/drill/exec/planner/physical/WindowPrule.java | 3 +--
 2 files changed, 2 insertions(+), 5 deletions(-)

commit 22539c8b381db1ca6813be4f39e6c3c4c5cb63af
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Sun Aug 9 22:31:25 2015 -0700

    DRILL-3574: For the empty Over-Clause, make DrillDistributionTrait to be as SINGLETON

 .../planner/physical/DrillDistributionTrait.java   |  4 ++-
 .../drill/exec/planner/physical/WindowPrule.java   | 12 +++++++-
 .../org/apache/drill/exec/TestWindowFunctions.java | 32 ++++++++++++++++++++++
 3 files changed, 46 insertions(+), 2 deletions(-)

commit b23e837bdb0f3291576c8dfec56068586d95c6b7
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Jul 31 17:20:10 2015 -0700

    DRILL-3579: Fix issues in reading Hive tables with partition value __HIVE_DEFAULT_PARTITION__
    
    Also:
    1) Currently the code that interprets partition values in string format to appropriate type
    is duplicated in HiveRecordReader and HivePartitionDescriptor. Refactor the code into
    common place HiveUtilities.
    
    2) Add tests to test deserialization of partitions of all supported types.

 .../exec/planner/sql/HivePartitionDescriptor.java  | 103 ++----
 .../logical/HivePushPartitionFilterIntoScan.java   |  12 +-
 .../drill/exec/store/hive/HiveDataTypeUtility.java | 122 -------
 .../drill/exec/store/hive/HiveFieldConverter.java  |   6 +-
 .../drill/exec/store/hive/HiveRecordReader.java    | 298 ++---------------
 .../drill/exec/store/hive/HiveStoragePlugin.java   |   7 +-
 .../drill/exec/store/hive/HiveUtilities.java       | 371 +++++++++++++++++++++
 .../drill/exec/TestHivePartitionPruning.java       |  50 +++
 .../exec/store/hive/HiveTestDataGenerator.java     |  78 +++--
 .../planner/logical/partition/PruneScanRule.java   |   4 +
 10 files changed, 542 insertions(+), 509 deletions(-)

commit 4d967ede3e3d77021702e82cc3a9396057e4910b
Author: Chris Westin <cwestin@yahoo.com>
Date:   Mon Aug 3 13:13:21 2015 -0700

    DRILL-3594: don't use first query's allocator for rest of drillbit's life
    closes #102

 .../drill/exec/planner/logical/DrillRuleSets.java  | 102 +++++++++++----------
 1 file changed, 52 insertions(+), 50 deletions(-)

commit 317b92e409d62efe56fba1ecba944c13945d4f7b
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Sat Aug 1 12:04:15 2015 -0700

    DRILL-3567: Support multiple window definitions; Bump DrillCalcite version number to 1.1.0-drill-r16

 .../sql/parser/UnsupportedOperatorsVisitor.java    | 87 ++++++++++++--------
 .../org/apache/drill/exec/TestWindowFunctions.java | 92 ++++++++++++----------
 pom.xml                                            |  2 +-
 3 files changed, 106 insertions(+), 75 deletions(-)

commit a96f793d7080e15041ac148241ac77d827bf2e6b
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Jul 27 22:54:20 2015 -0700

    DRILL-3557: Ensure empty CSV's path can be added

 .../apache/drill/exec/store/schedule/BlockMapBuilder.java  | 14 ++++++++++++++
 .../src/test/java/org/apache/drill/TestExampleQueries.java | 14 ++++++++++++--
 .../resources/store/text/directoryWithEmpyCSV/empty.csv    |  0
 3 files changed, 26 insertions(+), 2 deletions(-)

commit 974c6f2bf3aa52e2fcd565e5290cb0828ba59933
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon Aug 3 16:08:54 2015 -0700

    DRILL-2852: Examine the input of a CAST function when traversing the expression tree for finding directory filters.

 .../logical/partition/FindPartitionConditions.java     | 18 ++++++++++++++++--
 .../java/org/apache/drill/TestPartitionFilter.java     | 11 +++++++++++
 2 files changed, 27 insertions(+), 2 deletions(-)

commit 5bd92f832aae4c87b7e0ab0619ea9b2cfbf81b55
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon Jul 13 16:56:58 2015 -0700

    DRILL-3122: Ignore OptionType for option status

 .../drill/exec/server/options/OptionValue.java     | 50 ++++++++++++----------
 .../drill/exec/store/sys/OptionIterator.java       |  4 +-
 .../org/apache/drill/exec/server/TestOptions.java  | 14 ++++++
 3 files changed, 42 insertions(+), 26 deletions(-)

commit f0b29a41f9bcc3e52630ff354b413139d73ed25e
Author: adeneche <adeneche@gmail.com>
Date:   Wed Jun 24 09:03:27 2015 -0700

    DRILL-3354: TestBuilder can check if the number of result batches equals some expected value

 .../java/org/apache/drill/DrillTestWrapper.java    | 24 ++++++++++-
 .../test/java/org/apache/drill/TestBuilder.java    | 46 ++++++++++++++++------
 .../exec/physical/impl/window/TestWindowFrame.java | 37 +++++++++--------
 3 files changed, 77 insertions(+), 30 deletions(-)

commit ae2a45c8f803affcbbb021105c1a30cba4bd4213
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Jul 9 16:48:53 2015 -0700

    DRILL-3484: Error with no-argument functions when the cast empty strings to null option is set

 .../exec/expr/fn/FunctionImplementationRegistry.java      |  1 +
 .../src/test/java/org/apache/drill/TestBugFixes.java      | 15 +++++++++++++++
 2 files changed, 16 insertions(+)

commit 891fa1aa819f486c1d488898e2bdd43f618d62ce
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon Jul 13 16:04:26 2015 -0700

    DRILL-3341: Avoid recomputing stats in ProfileWrapper
    
    + Small optimizations and comments in OperatorWrapper and FragmentWrapper
    + Comparator renames for consistency
    + Move TableBuilder#toString logic to TableBuilder#build
    + Incorrect field names in profile page for failed queries

 .../exec/server/rest/profile/Comparators.java      | 31 ++++----
 .../exec/server/rest/profile/FragmentWrapper.java  | 77 ++++++++++----------
 .../exec/server/rest/profile/OperatorWrapper.java  | 82 +++++++++++----------
 .../exec/server/rest/profile/ProfileWrapper.java   | 85 +++++++++++-----------
 .../exec/server/rest/profile/TableBuilder.java     |  3 +-
 .../src/main/resources/rest/profile/profile.ftl    |  6 +-
 6 files changed, 148 insertions(+), 136 deletions(-)

commit 5cd991628b79f64b681f1eb18deb5858b4264774
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Jul 14 23:37:14 2015 -0700

    DRILL-3496: Updates from review comments
    
    DRILL-3496: Update: Multiple log msgs. -> single, aligned multi-line message.
    
    Main: Changed avoidance of original single hard-to-read list from
    first draft's multiple single-item log calls (resulting in multiple log
    calls/entries) to single log call with aligned multi-line message.
    
    Also revised message wording, etc.
    
    DRILL-3496: Update 2: Some DEBUG -> INFO; another single multi-line msg.
    
    - logger.debug(...) -> logger.info(...) for config. file messages
    - changed drill-module.conf to single multi-line message like
      scanForImplementations cases
    
    DRILL-3496: Update 3:  Various review comment responses.
    
    - Removed isTraceEnabled/etc. guards.
    - Simplified logging line break/indentation code.
    - Added some more "final".
    - Undid logger cleanup. :-(

 .../apache/drill/common/config/DrillConfig.java    | 39 ++++++++++------------
 .../common/logical/FormatPluginConfigBase.java     | 19 +++++++----
 .../common/logical/StoragePluginConfigBase.java    | 21 +++++++-----
 .../common/logical/data/LogicalOperatorBase.java   | 11 +++---
 .../org/apache/drill/common/util/PathScanner.java  | 10 ++++--
 .../exec/physical/base/PhysicalOperatorUtil.java   | 17 ++++++----
 .../physical/impl/OperatorCreatorRegistry.java     |  6 ++--
 .../drill/exec/store/StoragePluginRegistry.java    | 17 +++++++---
 8 files changed, 81 insertions(+), 59 deletions(-)

commit d144bdcc5580634bf3c0c1baea4694e587e42a49
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Jul 14 12:11:36 2015 -0700

    DRILL-3496: Augment logging in DrillConfig and classpath scanning.
    
    Main: Added and augmented logging calls.
    
    Code Hygiene:
    - Added/revised doc. comments, code comments.
    - Renamed some locals.
    - Added "final".
    - Wrapped lines.
    
    Also fixed currentTimeMillis -> Stopwatch in Drillbit.
    
    Conflicts:
            common/src/main/java/org/apache/drill/common/config/DrillConfig.java

 .../apache/drill/common/config/DrillConfig.java    | 114 ++++++++++++++++-----
 .../common/logical/FormatPluginConfigBase.java     |  15 ++-
 .../common/logical/StoragePluginConfigBase.java    |  17 ++-
 .../common/logical/data/LogicalOperatorBase.java   |  11 +-
 .../exec/physical/base/PhysicalOperatorUtil.java   |   8 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  14 +--
 .../drill/exec/store/StoragePluginRegistry.java    |   3 +-
 .../apache/drill/exec/store/dfs/FormatCreator.java |   3 +-
 8 files changed, 135 insertions(+), 50 deletions(-)

commit a0b37710c857acbf2e592787f7c8d5c6308037a9
Author: dbarclay <dbarclay@maprtech.com>
Date:   Mon Jul 13 21:02:40 2015 -0700

    DRILL-2815: Augment PathScanner logging; clean up code.
    
    Added some DEBUG- and TRACE-level log calls.
    Augmented/edited existing log call.
    
    Misc. code hygiene:
    - Added documentation of forResources(...).
    - Renamed to clarify a number of local names.
    - Made logger private.
    - Added "final".
    - Fixed indentation; wrapped some long lines; etc.
    
    Conflicts:
            common/src/main/java/org/apache/drill/common/util/PathScanner.java

 .../org/apache/drill/common/util/PathScanner.java  | 112 ++++++++++++++-------
 1 file changed, 73 insertions(+), 39 deletions(-)

commit 357d0202cc6197921cfa50ccfcd39e2925362bce
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Jul 27 12:12:35 2015 -0700

    DRILL-3554: Given types timestamp and time, implicit casting casts them to time

 .../exec/resolver/ResolverTypePrecedence.java      |  2 +-
 .../apache/drill/exec/resolver/TypeCastRules.java  |  3 +-
 .../java/org/apache/drill/TestImplicitCasting.java | 41 ++++++++++++++++++++++
 3 files changed, 43 insertions(+), 3 deletions(-)

commit 6d5d7cc27140963291e76eac72218b862aa6af45
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sat Jul 25 00:28:55 2015 -0700

    DRILL-3121: Add support for interpreter based partition pruning for Hive tables.
    Remove the old partition pruning logic.

 .../exec/planner/sql/HivePartitionDescriptor.java  | 171 +++++++++++--
 .../exec/planner/sql/HivePartitionLocation.java    |  54 +++++
 .../logical/HivePushPartitionFilterIntoScan.java   | 150 ++++--------
 .../drill/exec/store/hive/HiveDataTypeUtility.java | 122 ++++++++++
 .../drill/exec/store/hive/HiveRecordReader.java    |  48 +---
 .../drill/exec/store/hive/HiveStoragePlugin.java   |   2 +-
 .../apache/drill/exec/store/hive/HiveTable.java    |  22 +-
 .../drill/exec/TestHivePartitionPruning.java       |  28 ++-
 .../drill/exec/planner/logical/DirPathBuilder.java | 265 ---------------------
 .../logical/DrillPushPartitionFilterIntoScan.java  | 139 -----------
 .../exec/planner/logical/PartitionPruningUtil.java |  78 ------
 11 files changed, 424 insertions(+), 655 deletions(-)

commit 95d576da572d1dcb96c42f662504d7340cc718cd
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Jul 20 15:44:33 2015 -0700

    DRILL-3503: Make PruneScanRule pluggable.
    Extend PartitionDescriptor to provide functionality needed by PruneScanRule.
    Removed redundant logic in PruneScanRule.

 .../exec/planner/sql/HivePartitionDescriptor.java  |  35 +++
 .../drill/exec/planner/DFSPartitionLocation.java   |  65 +++++
 .../planner/FileSystemPartitionDescriptor.java     |  76 +++++-
 .../exec/planner/ParquetPartitionDescriptor.java   |  72 ++++-
 .../drill/exec/planner/PartitionDescriptor.java    |  37 +++
 .../drill/exec/planner/PartitionLocation.java      |  35 +++
 .../logical/DrillPushPartitionFilterIntoScan.java  |   2 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |   5 +-
 .../logical/partition/ParquetPruneScanRule.java    |  91 +++++++
 .../planner/logical/partition/PruneScanRule.java   | 294 +++------------------
 10 files changed, 438 insertions(+), 274 deletions(-)

commit a65c0a6d43264f6aac23bf3c95e35d1b60a73666
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jul 16 13:53:33 2015 -0700

    DRILL-3503: Fix formatting style of PruneScanRule

 .../planner/logical/partition/PruneScanRule.java   | 786 ++++++++++-----------
 1 file changed, 393 insertions(+), 393 deletions(-)

commit f8197cfe1bc3671aa6878ef9d1869b2fe8e57331
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Jul 15 14:30:16 2015 -0700

    DRILL-3500: Add OptimizerRulesContext which exposes information needed by storage plugin specific optimizer rules
    Add FunctionLookupContext to enable materializing function calls without having access to the entire function registry

 .../drill/exec/store/hbase/HBaseStoragePlugin.java |   4 +-
 .../drill/exec/store/hive/HiveStoragePlugin.java   |   5 +-
 .../drill/exec/store/mongo/MongoStoragePlugin.java |   4 +-
 .../exec/expr/ExpressionTreeMaterializer.java      | 108 ++++++++++-----------
 .../expr/fn/FunctionImplementationRegistry.java    |   4 +-
 .../drill/exec/expr/fn/FunctionLookupContext.java  |  47 +++++++++
 .../drill/exec/ops/OptimizerRulesContext.java      |  42 ++++++++
 .../org/apache/drill/exec/ops/QueryContext.java    |   5 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |  37 +++----
 .../planner/logical/partition/PruneScanRule.java   |  32 +++---
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   2 +-
 .../drill/exec/store/AbstractStoragePlugin.java    |   3 +-
 .../org/apache/drill/exec/store/StoragePlugin.java |   3 +-
 .../drill/exec/store/StoragePluginRegistry.java    |   5 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |   3 +-
 .../store/ischema/InfoSchemaStoragePlugin.java     |   3 +-
 16 files changed, 206 insertions(+), 101 deletions(-)

commit 80835082414d274fda8bf0c66fd01386180fdde5
Author: dbarclay <dbarclay@maprtech.com>
Date:   Fri Jun 19 19:05:39 2015 -0700

    DRILL-3151: Fix many ResultSetMetaData method return values.
    
    Added ~unit test for ResultSetMetaData implementation.
    
    Made getObject return classes available to implementation of getColumnClassName:
    - Added SqlAccessor.getObjectClass() (to put that metadata right next to code
      to which it corresponds rather than in far-away parallel code).
    - Added similar AvaticaDrillSqlAccessor.getObjectClass().
    - Changed DrillAccessorList.accessors from Accessor[] to
      AvaticaDrillSqlAccessor[] for better access to JDBC getObject return class.
    - Extracted return classes from accessors to pass to updateColumnMetaData.
    
    Reworked some data type mapping and utilities:
    - Added Added Types.getSqlTypeName(...).
    - Renamed Types.getJdbcType(...) to getJdbcTypeCode(...)
    - Replaced Types.isUnSigned with isJdbcSignedType.
    - Fixed various bogus RPC-type XXX -> java.sql.Types.SMALLINT mappings.
    - Removed DrillColumnMetaDataList.getJdbcTypeName.
    - Moved getAvaticaType up (for bottom-up order).
    - Revised DrillColumnMetaDataList.getAvaticaType(...).
    
    MAIN:
    - Updated updateColumnMetaData(...) to change many calculations of metadata
      input to ColumnMetaData construction.  [DrillColumnMetaDataList]
    
    Updated other metadata tests per changes.

 .../java/org/apache/drill/common/types/Types.java  |  163 ++-
 .../src/main/codegen/templates/SqlAccessors.java   |   29 +
 .../vector/accessor/BoundCheckingAccessor.java     |    5 +
 .../exec/vector/accessor/GenericAccessor.java      |    6 +
 .../drill/exec/vector/accessor/SqlAccessor.java    |    8 +
 .../drill/jdbc/impl/AvaticaDrillSqlAccessor.java   |    7 +
 .../apache/drill/jdbc/impl/DrillAccessorList.java  |    8 +-
 .../drill/jdbc/impl/DrillColumnMetaDataList.java   |  185 ++--
 .../org/apache/drill/jdbc/impl/DrillCursor.java    |   38 +-
 .../drill/jdbc/impl/TypeConvertingSqlAccessor.java |    5 +
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java |  323 +++---
 .../drill/jdbc/DrillColumnMetaDataListTest.java    |   20 +-
 .../jdbc/ResultSetGetMethodConversionsTest.java    |   71 +-
 .../apache/drill/jdbc/ResultSetMetaDataTest.java   | 1107 ++++++++++++++++++++
 .../jdbc/impl/TypeConvertingSqlAccessorTest.java   |    5 +
 .../jdbc/test/TestInformationSchemaColumns.java    |  203 ++--
 16 files changed, 1745 insertions(+), 438 deletions(-)

commit 9932246ce05f05cbd797ae7c6a34226cf6156f98
Author: Steven Phillips <smp@apache.org>
Date:   Wed Jul 8 17:36:29 2015 -0700

    DRILL-3476: Merge paths in FieldSelection
    
    Conflicts:
            exec/java-exec/src/test/java/org/apache/drill/exec/store/json/TestJsonRecordReader.java

 .../drill/exec/vector/complex/fn/FieldSelection.java     | 16 ++++++++++++++--
 .../drill/exec/store/json/TestJsonRecordReader.java      | 11 +++++++++++
 .../src/test/resources/jsoninput/nestedFilter.json       |  1 +
 3 files changed, 26 insertions(+), 2 deletions(-)

commit 496f14669b485d5cd51b1f2a742b90de794190a9
Author: Steven Phillips <smp@apache.org>
Date:   Wed Jul 8 17:35:09 2015 -0700

    DRILL-3353: Fix dropping nested fields
    
    Use the SchemaChangeCallBack in more places to track schema changes
    Reset the ephemeral transfer pair when making a new transfer pair for Map or RepeatedMap

 .../src/main/codegen/templates/TypeHelper.java        |  4 ++--
 .../drill/exec/physical/impl/OutputMutator.java       |  7 +++++++
 .../apache/drill/exec/physical/impl/ScanBatch.java    | 11 +++++++++++
 .../drill/exec/physical/impl/TopN/TopNBatch.java      |  2 +-
 .../exec/physical/impl/filter/FilterRecordBatch.java  |  2 +-
 .../exec/physical/impl/limit/LimitRecordBatch.java    |  2 +-
 .../physical/impl/project/ProjectRecordBatch.java     |  4 ++--
 .../physical/impl/svremover/RemovingRecordBatch.java  | 12 +++++++-----
 .../drill/exec/store/parquet/ParquetRecordWriter.java | 15 ++++++++++++++-
 .../drill/exec/vector/complex/AbstractMapVector.java  |  7 ++++---
 .../apache/drill/exec/vector/complex/MapVector.java   | 11 ++++++++---
 .../drill/exec/vector/complex/RepeatedMapVector.java  |  1 +
 .../vector/complex/impl/VectorContainerWriter.java    |  7 ++++---
 .../apache/drill/exec/store/TestOutputMutator.java    |  6 ++++++
 .../drill/exec/store/json/TestJsonRecordReader.java   | 19 +++++++++++++++++++
 .../exec/store/parquet/ParquetRecordReaderTest.java   |  8 +++++++-
 .../src/test/resources/jsoninput/drill_3353/a.json    |  3 +++
 .../src/test/resources/jsoninput/drill_3353/b.json    |  3 +++
 18 files changed, 101 insertions(+), 23 deletions(-)

commit 5e33a286a3dad4b44c00dbae7fa40be678742b14
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Jul 28 17:21:49 2015 -0700

    DRILL-3573: Enable TPC-H 17 in unit tests.

 exec/java-exec/src/test/java/org/apache/drill/TestTpchDistributed.java | 1 -
 exec/java-exec/src/test/java/org/apache/drill/TestTpchExplain.java     | 1 -
 exec/java-exec/src/test/java/org/apache/drill/TestTpchPlanning.java    | 1 -
 exec/java-exec/src/test/java/org/apache/drill/TestTpchSingleMode.java  | 1 -
 4 files changed, 4 deletions(-)

commit 83a9ebd937960883b65122959540e23882931cb2
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sat Jul 25 23:33:18 2015 -0700

    DRILL-2949: Fix CannotPlanException for TPC-DS 1 and 30 (Fix is CALCITE-714) by pushing join condition into subquery when de-correlating.
    
    Added unit test.

 .../src/test/java/org/apache/drill/TestCorrelation.java | 17 +++++++++++++++++
 pom.xml                                                 |  2 +-
 2 files changed, 18 insertions(+), 1 deletion(-)

commit a219f8784c55ce3bc15b9bb3a19d7b33e4021c00
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu Jul 23 17:20:17 2015 -0700

    DRILL-3537: Whe scanning files in ScanBatch, ignore all the empty files before reach a non-empty file

 .../org/apache/drill/exec/physical/impl/ScanBatch.java   | 12 +++++++++++-
 .../drill/exec/vector/complex/writer/TestJsonReader.java | 16 ++++++++++++++++
 .../store/json/jsonDirectoryWithEmpyFile/a.json          |  0
 .../store/json/jsonDirectoryWithEmpyFile/b.json          |  3 +++
 4 files changed, 30 insertions(+), 1 deletion(-)

commit 1b69869d981eece6c23a2e52a413133f993f3125
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Jul 21 22:00:40 2015 -0700

    DRILL-3533: Fix incorrect query result when querying parquet for fields that do not exists.

 .../drill/exec/store/parquet2/DrillParquetReader.java    |  5 ++++-
 .../drill/exec/store/parquet/TestParquetComplex.java     | 14 ++++++++++++++
 .../test/resources/store/parquet/complex/baseline8.json  | 16 ++++++++++++++++
 3 files changed, 34 insertions(+), 1 deletion(-)

commit 66a30f12bfa033200e5ac9ca5c05c1c5a31c720b
Author: Jinfeng Ni <jni@apache.org>
Date:   Fri Jul 17 14:53:13 2015 -0700

    DRILL-1651: Push filter past project with ITEM operator into HBase scan.

 .../exec/store/hbase/HBasePushFilterIntoScan.java  | 126 ++++++++----
 .../drill/exec/store/hbase/HBaseStoragePlugin.java |   2 +-
 .../drill/hbase/TestHBaseFilterPushDown.java       | 215 ++++++++++++++++++---
 3 files changed, 278 insertions(+), 65 deletions(-)

commit 9b351c945b5f10d27cf07b9b5c1a435a029614b7
Author: dbarclay <dbarclay@maprtech.com>
Date:   Thu Jul 2 15:04:31 2015 -0700

    DRILL-3483: Clarify CommonConstants' constants.  [CommonConstants, DrillConfig, PathScanner]
    
    Renamed constants.
    Documented constants.
    Removed extraneous "public static final" (redudant and abnormal since in interface).
    
    Edit: Unwrapped a no-longer-long line.
    
    closes #88

 .../drill/common/config/CommonConstants.java       | 34 +++++++++++++++++-----
 .../apache/drill/common/config/DrillConfig.java    |  6 ++--
 .../org/apache/drill/common/util/PathScanner.java  |  4 +--
 3 files changed, 31 insertions(+), 13 deletions(-)

commit aa55199434d7b021522100e3105430d68b52f7a7
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Jul 16 14:43:10 2015 -0700

    DRILL-1904 - Part 1: (Build fix) Spaces at the end of lines in docs caused a check style violation

 .../src/main/java/org/apache/drill/common/expression/package-info.java  | 2 +-
 exec/java-exec/src/main/java/org/apache/drill/exec/package-info.java    | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7a2ea2531b2abded16033e9271f23b63143369e0
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Fri Dec 12 17:13:03 2014 -0800

    DRILL-1904 - Part 1: Package level docs for the common module and a few packages in exec.
    
    Fix line wrapping on package level docs to standardize at 80 character wrap.
    
    Patch updated to address review comments.
    
    Patch updated again to address Sudheesh's review comments.

 .../apache/drill/common/config/package-info.java   | 26 ++++++++++++++++++
 .../drill/common/exceptions/package-info.java      | 21 ++++++++++++++
 .../BasicAggregates.java => fn/package-info.java}  |  9 +++---
 .../drill/common/expression/package-info.java      | 29 ++++++++++++++++++++
 .../common/expression/types/package-info.java      | 21 ++++++++++++++
 .../common/expression/visitors/package-info.java   | 24 ++++++++++++++++
 .../apache/drill/common/graph/package-info.java    | 21 ++++++++++++++
 .../drill/common/logical/FormatPluginConfig.java   | 13 +++++++++
 .../common/logical/FormatPluginConfigBase.java     |  7 ++++-
 .../drill/common/logical/data/package-info.java    | 21 ++++++++++++++
 .../common/logical/data/visitors/package-info.java | 21 ++++++++++++++
 .../apache/drill/common/logical/package-info.java  | 25 +++++++++++++++++
 .../java/org/apache/drill/common/package-info.java | 30 ++++++++++++++++++++
 .../apache/drill/common/types/package-info.java    | 21 ++++++++++++++
 .../org/apache/drill/common/util/package-info.java | 21 ++++++++++++++
 .../drill/exec/store/mongo/package-info.java       | 24 ++++++++++++++++
 .../org/apache/drill/exec/cache/package-info.java  | 27 ++++++++++++++++++
 .../org/apache/drill/exec/client/package-info.java | 27 ++++++++++++++++++
 .../drill/exec/compile/bytecode/package-info.java  | 28 +++++++++++++++++++
 .../apache/drill/exec/compile/package-info.java    | 32 ++++++++++++++++++++++
 .../drill/exec/compile/sig/package-info.java       | 21 ++++++++++++++
 .../drill/exec/coord/local/package-info.java       | 21 ++++++++++++++
 .../org/apache/drill/exec/coord/package-info.java  | 24 ++++++++++++++++
 .../apache/drill/exec/coord/zk/package-info.java   | 25 +++++++++++++++++
 .../org/apache/drill/exec/disk/package-info.java   | 26 ++++++++++++++++++
 .../apache/drill/exec/dotdrill/package-info.java   | 22 +++++++++++++++
 .../apache/drill/exec/exception/package-info.java  | 21 ++++++++++++++
 .../java/org/apache/drill/exec/package-info.java   | 27 ++++++++++++++++++
 28 files changed, 629 insertions(+), 6 deletions(-)

commit 09252c9aac95f2079db7582a57af4e88ce7aa114
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Jun 30 15:56:12 2015 -0700

    DRILL-3156: Fix Calcite trace by registering RelMetadataProvider with HepPlanner used for window function planning.

 .../drill/exec/planner/sql/handlers/DefaultSqlHandler.java | 14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit 7edddd65e9850a35f3cca6d226c98ea354dd40c4
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Jul 6 13:49:22 2015 -0700

    DRILL-3189: Disable disallow partial in Over-Clause

 .../planner/sql/parser/UnsupportedOperatorsVisitor.java   |  8 ++++++++
 .../java/org/apache/drill/exec/TestWindowFunctions.java   | 15 +++++++++++++++
 2 files changed, 23 insertions(+)

commit a2fc406c06aa6c553dc449dd904cef5400675b9c
Author: Parth Chandra <parthc@apache.org>
Date:   Mon Jun 22 14:01:59 2015 -0700

    DRILL-2862: Convert_to/Convert_From throw assertion when an incorrect encoding type is specified

 .../exec/planner/logical/PreProcessLogicalRel.java | 72 +++++++++++++++++--
 .../drill/exec/util/ApproximateStringMatcher.java  | 83 ++++++++++++++++++++++
 .../exec/util/TestApproximateStringMatcher.java    | 44 ++++++++++++
 3 files changed, 195 insertions(+), 4 deletions(-)

commit 68aa81f471d2cea779f7f2acd7d84ce43bb1b94b
Author: adeneche <adeneche@gmail.com>
Date:   Mon May 18 10:01:52 2015 -0700

    DRILL-3133: MergingRecordBatch can leak memory if query is canceled before batches in rawBatches were loaded

 .../impl/mergereceiver/MergingRecordBatch.java     | 70 +++++++++++-----------
 1 file changed, 35 insertions(+), 35 deletions(-)

commit 72f946964bb3a81253d2f9d484de45ff958724c9
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Jul 7 15:09:45 2015 -0700

    DRILL-2053: Fix incorrect query result when join CTE, by making Project operator use case-insensitive matching for columns in input data stream.

 .../physical/impl/project/ProjectRecordBatch.java     | 10 +++++-----
 .../test/java/org/apache/drill/TestStarQueries.java   | 19 +++++++++++++++++++
 2 files changed, 24 insertions(+), 5 deletions(-)

commit f4bb535374541a827dfac6ac0365fa3729be3670
Author: Jinfeng Ni <jni@apache.org>
Date:   Mon Jul 6 14:33:57 2015 -0700

    DRILL-2802: Ensure project the right columns in the final query result in query logical planning.

 .../exec/planner/sql/handlers/DefaultSqlHandler.java |  4 +++-
 .../test/java/org/apache/drill/TestStarQueries.java  | 20 ++++++++++++++++++++
 2 files changed, 23 insertions(+), 1 deletion(-)

commit aa7c253a2cdb81724643675bc85f310de6cfd20d
Author: Jinfeng Ni <jni@apache.org>
Date:   Mon Jul 6 16:20:32 2015 -0700

    DRILL-3463: Unit test of project pushdown in TestUnionAll should verify proper plan attributes in expected plan result.

 .../test/java/org/apache/drill/TestUnionAll.java   | 36 +++++++++++-----------
 1 file changed, 18 insertions(+), 18 deletions(-)

commit 3e83b3462563f662c577ac1e56bf0ecd65fc5fe3
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Jul 8 13:18:43 2015 -0700

    DRILL-3441: fix indefinite loop problem in CompliantTextRecordReader#isStarQuery
    
    closes #82

 .../exec/store/easy/text/compliant/CompliantTextRecordReader.java    | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 8f3dc0d10fd87c5c7df57b59a390dc2a150b35d0
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Jul 6 10:58:45 2015 -0700

    DRILL-3292: At the stage of converting Prel to Pop (planning phase), ensure constants in Window are converted to LogicalExpression

 .../drill/exec/planner/physical/WindowPrel.java    | 17 +++++++++++++----
 .../org/apache/drill/exec/TestWindowFunctions.java | 22 +++++++++++++++++++++-
 2 files changed, 34 insertions(+), 5 deletions(-)

commit b6577feda6763ef87d72d5913c7324c9aa2cfc3d
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Jul 7 13:40:24 2015 -0700

    DRILL-3464: Fix IOOB in DrillOptiq while converting concat to Drill logical expression

 .../drill/exec/planner/logical/DrillOptiq.java     | 54 +++++++++++++++-------
 .../java/org/apache/drill/TestFunctionsQuery.java  | 30 ++++++++++++
 2 files changed, 67 insertions(+), 17 deletions(-)

commit 2506ecf1551bdb9a7dc6dbf950ba2c5c565eb1f4
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Wed Jul 1 21:39:53 2015 -0700

    DRILL-3450: Moved methods from AbstractStatusReporter and NonRootStatusReporter to FragmentStatusReporter
    
    + Removed StatusReporter interface
    + Refactored FragmentStatusReporter

 .../exec/work/batch/ControlMessageHandler.java     |  6 +-
 .../apache/drill/exec/work/foreman/Foreman.java    | 10 ++--
 .../drill/exec/work/foreman/QueryManager.java      |  9 ---
 .../drill/exec/work/fragment/FragmentExecutor.java | 30 ++++------
 ...usReporter.java => FragmentStatusReporter.java} | 70 ++++++++++++++--------
 .../exec/work/fragment/NonRootFragmentManager.java |  4 +-
 .../exec/work/fragment/NonRootStatusReporter.java  | 44 --------------
 .../drill/exec/work/fragment/StatusReporter.java   | 30 ----------
 8 files changed, 69 insertions(+), 134 deletions(-)

commit 48d8a59d1b97988c006f85daad0ae2fcb3a9cd06
Author: adeneche <adeneche@gmail.com>
Date:   Wed Jul 1 12:10:07 2015 -0700

    DRILL-3445: BufferAllocator.buffer() implementations should throw an OutOfMemoryRuntimeException

 .../main/codegen/templates/FixedValueVectors.java  | 10 +-----
 .../codegen/templates/VariableLengthVectors.java   | 28 +++++------------
 .../exec/cache/VectorAccessibleSerializable.java   |  6 +---
 .../apache/drill/exec/memory/BufferAllocator.java  |  2 ++
 .../drill/exec/memory/TopLevelAllocator.java       | 23 ++++++--------
 .../exec/physical/impl/filter/FilterTemplate2.java |  2 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |  4 +--
 .../exec/record/selection/SelectionVector2.java    | 16 +++++++---
 .../drill/exec/rpc/ProtobufLengthDecoder.java      |  7 +++--
 .../parquet/ParquetDirectByteBufferAllocator.java  |  3 --
 .../org/apache/drill/exec/vector/BitVector.java    | 12 ++------
 .../parquet/hadoop/ColumnChunkIncReadStore.java    |  3 ++
 .../org/apache/drill/TestAllocationException.java  | 36 +++++++---------------
 .../apache/drill/exec/memory/TestAllocators.java   | 34 +++++++-------------
 14 files changed, 67 insertions(+), 119 deletions(-)

commit 1c9093e0f34daaeb1ad6661bb4d4115bc573ed78
Author: adeneche <adeneche@gmail.com>
Date:   Mon Jun 8 16:00:23 2015 -0700

    DRILL-3243: Better error message when we use an alias in OVER clause

 .../drill/common/exceptions/UserException.java     |  4 ++++
 .../common/exceptions/UserRemoteException.java     |  2 +-
 .../text/compliant/CompliantTextRecordReader.java  |  3 +++
 .../easy/text/compliant/RepeatedVarCharOutput.java |  7 ++++---
 .../drill/exec/store/text/TestNewTextReader.java   | 23 +++++++++++++++++-----
 5 files changed, 30 insertions(+), 9 deletions(-)

commit b2bbd9941be6b132a83d27c0ae02c935e1dec5dd
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Fri Jun 19 22:38:06 2015 -0700

    DRILL-2851: handle oversized allocation requests; ensure flatten splits a batch if data is oversized; add unit tests

 .../src/main/codegen/includes/vv_imports.ftl       |   2 +
 .../main/codegen/templates/FixedValueVectors.java  |  68 ++-
 .../codegen/templates/NullableValueVectors.java    |  16 +-
 .../codegen/templates/VariableLengthVectors.java   |  65 +--
 .../exception/OversizedAllocationException.java    |  51 ++
 .../physical/impl/flatten/FlattenRecordBatch.java  |   4 +-
 .../physical/impl/flatten/FlattenTemplate.java     |  70 +--
 .../exec/physical/impl/flatten/Flattener.java      |   2 +-
 .../drill/exec/vector/BaseDataValueVector.java     |   2 +-
 .../apache/drill/exec/vector/BaseValueVector.java  |   8 +-
 .../org/apache/drill/exec/vector/BitVector.java    |  57 ++-
 .../drill/exec/record/vector/TestValueVector.java  | 522 +++++++++++++--------
 12 files changed, 539 insertions(+), 328 deletions(-)

commit 0a27a033a349ba164e29d818a6ae73c41c0cd4bb
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Wed Jul 1 14:28:47 2015 -0700

    DRILL-3096: Fixed logging in FragmentExecutor

 .../org/apache/drill/exec/work/fragment/FragmentExecutor.java     | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 2c13d793d2be0429da9e5249a7f170af64128a82
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Jul 5 18:07:47 2015 -0700

    Roll forward to 1.2.0-SNAPSHOT development versions

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/pom.xml                                 | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 17 files changed, 17 insertions(+), 17 deletions(-)

commit e3fc7e97bfe712dc09d43a8a055a5135c96b7344
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Jun 30 00:57:23 2015 -0700

    DRILL-3304: Use SUM instead of SUM0 for window aggregate until CALCITE-777 is fixed.
    
    Add unit test.

 .../java/org/apache/drill/exec/TestWindowFunctions.java   |  11 +++++++++++
 .../src/test/resources/window/table_with_nulls.parquet    | Bin 0 -> 395 bytes
 pom.xml                                                   |   2 +-
 3 files changed, 12 insertions(+), 1 deletion(-)

commit e2e59a01b6efc8041b3d274433f2fd067de3b08a
Author: Aditya Kishore <adi@apache.org>
Date:   Mon Jun 29 11:14:37 2015 -0700

    DRILL-3422: Multiple unit test failures on Windows with current master

 .../drill/exec/impersonation/hive/BaseTestHiveImpersonation.java      | 2 +-
 .../java/org/apache/drill/exec/store/hive/HiveTestDataGenerator.java  | 2 +-
 .../src/main/java/org/apache/drill/exec/store/dfs/FileSelection.java  | 4 +++-
 .../java/org/apache/drill/exec/store/dfs/easy/EasyFormatPlugin.java   | 2 +-
 .../org/apache/drill/exec/store/parquet/ParquetScanBatchCreator.java  | 2 +-
 .../src/test/java/org/apache/drill/TestPlanVerificationUtilities.java | 2 +-
 6 files changed, 8 insertions(+), 6 deletions(-)

commit 19c0225dcf25cbf19eca05be79b801309f91f4b6
Author: Steven Phillips <smp@apache.org>
Date:   Mon Jun 29 13:37:55 2015 -0700

    DRILL-3414: Make sure to walk entire expression tree when rewriting filter expression for pruning

 .../partition/RewriteAsBinaryOperators.java        | 31 +++++++++++++++++-----
 .../partition/RewriteCombineBinaryOperators.java   | 19 ++++++++++++-
 .../org/apache/drill/TestCTASPartitionFilter.java  | 20 ++++++++++++++
 3 files changed, 62 insertions(+), 8 deletions(-)

commit 2b5c52e57f7421ec1e8aca9cd8693e299fc436d6
Author: Aditya Kishore <adi@apache.org>
Date:   Mon Jun 29 11:57:09 2015 -0700

    DRILL-3120: Windows startup throws NPE

 distribution/src/resources/sqlline.bat | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit e923ac54db6abddcae0d18fc7ed37f4b737b22b2
Author: Aditya Kishore <adi@apache.org>
Date:   Mon Jun 29 11:57:09 2015 -0700

    DRILL-3120: Windows startup throws NPE

 distribution/src/resources/sqlline.bat | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fdfb1b26c42e90bb07eb74f687b4a7328e750edb
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Jun 29 10:33:16 2015 -0700

    DRILL-3344: Bump Drill-Calcite version to 1.1.0-drill-r13; Added unit tests

 .../test/java/org/apache/drill/BaseTestQuery.java  | 11 +++++++++
 .../org/apache/drill/exec/TestWindowFunctions.java | 26 ++++++++++++++++++++++
 pom.xml                                            |  2 +-
 3 files changed, 38 insertions(+), 1 deletion(-)

commit dbd8925a4fbabbb92ced632696226a2578241024
Author: Matthew Burgess <mburgess@pentaho.com>
Date:   Sun Jun 28 21:19:31 2015 -0400

    DRILL-3199 Implemented GenericAccessor.isNull(), added unit tests

 .../exec/vector/accessor/GenericAccessor.java      |   2 +-
 .../exec/vector/accessor/GenericAccessorTest.java  | 105 +++++++++++++++++++++
 2 files changed, 106 insertions(+), 1 deletion(-)

commit c1998605dc2acdc5fa55792a279a473ff890a010
Author: Steven Phillips <smp@apache.org>
Date:   Sun Jun 28 11:05:32 2015 -0700

    DRILL-3410: Recombine binary operators after finding prune condition
    
    This is to expression reordering and short-circuit evaluation

 .../planner/logical/partition/PruneScanRule.java   |   7 ++
 .../partition/RewriteCombineBinaryOperators.java   | 110 +++++++++++++++++++++
 2 files changed, 117 insertions(+)

commit a915085e8a8b4255ff659086d047cc5dd874a5bf
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Jun 25 18:44:46 2015 -0700

    DRILL-3370: Flatten failure with a filter condition.
    
    Fix required excluding flatten from the PushFilterPastProjectRule.

 .../exec/planner/logical/DrillPushFilterPastProjectRule.java | 12 +++++++-----
 .../apache/drill/exec/physical/impl/flatten/TestFlatten.java | 11 +++++++++++
 exec/java-exec/src/test/resources/flatten/drill-3370.json    |  5 +++++
 3 files changed, 23 insertions(+), 5 deletions(-)

commit 233faf2674c9ea2a9e416d01091bbf3658406f69
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Wed Jun 17 14:12:05 2015 -0700

    DRILL-1673: Fix for error with flatten function when used with nested lists.
    
    Added a small reference implementation of flatten for generating baselines
    
    remove now-unneeded code in EmptyValuePopulator as we are guarenteed to have the first offset initialized to 0.

 .../exec/vector/complex/EmptyValuePopulator.java   |   2 +-
 .../exec/vector/complex/RepeatedListVector.java    |   5 +-
 .../java/org/apache/drill/DrillTestWrapper.java    |   2 +-
 .../exec/physical/impl/flatten/TestFlatten.java    | 180 ++++++++++++++++++++-
 .../flatten/complex_transaction_example_data.json  | 100 ++++++++++++
 .../src/test/resources/store/json/1673.json        |   1 +
 6 files changed, 284 insertions(+), 6 deletions(-)

commit e659f0149f3255997324f415d7a1a535c5bf1573
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon May 18 17:01:28 2015 -0700

    Update sqlline version to drill-r5

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a52889cdbfc210501fae0f92d3dcb095272cb4f5
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Sun Jun 28 11:26:33 2015 -0700

    DRILL-3413: When SASL is enabled use DIGEST mechanism in creating HiveMetaStoreClient for proxy users.

 .../exec/store/hive/DrillHiveMetaStoreClient.java  | 43 ++++++++++++++++++++--
 .../exec/store/hive/schema/HiveSchemaFactory.java  | 22 +++++------
 2 files changed, 49 insertions(+), 16 deletions(-)

commit 149928da50ed0c48de2410af3cfe35682269ac76
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sat Jun 27 09:25:39 2015 -0700

    DRILL-3337: Fix is in Calcite, see CALCITE-770.  Add unit test and upgrade Calcite version.

 .../java/org/apache/drill/exec/TestWindowFunctions.java    | 14 ++++++++++++++
 pom.xml                                                    |  2 +-
 2 files changed, 15 insertions(+), 1 deletion(-)

commit 1c37185bfd6148e317d1d668759abd6b9fd6a53f
Author: Steven Phillips <smp@apache.org>
Date:   Sat Jun 27 11:23:02 2015 -0700

    DRILL-3410: rewrite OR and AND operators to have only 2 operands so partitoning
    pruning will work correctly

 .../planner/logical/partition/PruneScanRule.java   |   2 +
 .../partition/RewriteAsBinaryOperators.java        | 103 +++++++++++++++++++++
 .../org/apache/drill/TestCTASPartitionFilter.java  |  18 ++++
 3 files changed, 123 insertions(+)

commit e85cdc54cc21e0be2bf7169868ec00b8ef7c1f22
Author: Steven Phillips <smp@apache.org>
Date:   Fri Jun 26 16:15:21 2015 -0700

    DRILL-3307: Query with window function runs out of memory

 .../drill/exec/physical/impl/xsort/ExternalSortBatch.java     | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 8d7458958c92369b5d40145d621ed50e3b8de1a4
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Jun 26 18:04:47 2015 -0700

    DRILL-3378: Don't invoke ensureType() while rewriting aggregate expressions part of the window frame.
    ensureType() currently is not aware of the precedence of data types and may inject a downward cast, causing wrong results.
    Bump Calcite version to r11

 .../drill/exec/planner/sql/DrillAvgVarianceConvertlet.java       | 5 +----
 .../src/test/java/org/apache/drill/exec/TestWindowFunctions.java | 9 +++++++++
 pom.xml                                                          | 2 +-
 3 files changed, 11 insertions(+), 5 deletions(-)

commit 53d09a0b9c5c9dbc7ee6642c3d2d9ac7f9bc0912
Author: Jinfeng Ni <jni@apache.org>
Date:   Fri Jun 26 11:04:11 2015 -0700

    DRILL-3382: Fix IOOB error for CTAS order by statement.

 .../planner/sql/handlers/CreateTableHandler.java   |  7 ++++--
 .../java/org/apache/drill/exec/sql/TestCTAS.java   | 25 ++++++++++++++++++++++
 2 files changed, 30 insertions(+), 2 deletions(-)

commit e347a528787f373a6de6d314a4a110e7ed6d66ff
Author: Steven Phillips <smp@apache.org>
Date:   Fri Jun 26 13:07:12 2015 -0700

    DRILL-3402: Throw exception when attempting to partition in format that doesn't support it

 .../drill/exec/planner/logical/FileSystemCreateTableEntry.java    | 8 ++++++++
 .../main/java/org/apache/drill/exec/store/dfs/FormatPlugin.java   | 6 ++++++
 .../org/apache/drill/exec/store/dfs/easy/EasyFormatPlugin.java    | 6 ++++++
 .../org/apache/drill/exec/store/parquet/ParquetFormatPlugin.java  | 4 ++++
 4 files changed, 24 insertions(+)

commit 60bc9459bd8ef29e9d90ffe885771090ab658a40
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Jun 26 11:41:35 2015 -0700

    DRILL-3398: Fix memory leak in WebServer

 .../drill/exec/server/rest/QueryWrapper.java       | 39 +++++++++++++---------
 1 file changed, 23 insertions(+), 16 deletions(-)

commit 153baebda5532e875e0f958a2dc01e3ac69f26cf
Author: AdamPD <adam@pharmadata.net.au>
Date:   Mon Apr 13 17:16:31 2015 +1000

    DRILL-2764: Add generic exception mapper for REST API error details

 .../drill/exec/server/rest/DrillRestServer.java    |  1 +
 .../exec/server/rest/GenericExceptionMapper.java   | 41 ++++++++++++++++++++++
 2 files changed, 42 insertions(+)

commit da17f28678f1dee5c43bdb69582586a79f8b667c
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu Jun 25 14:16:27 2015 -0700

    DRILL-3183: Enable compound identifier conversion in window defintion

 .../sql/parser/CompoundIdentifierConverter.java    |  2 +-
 .../org/apache/drill/exec/TestWindowFunctions.java | 27 ++++++++++++++++++++++
 2 files changed, 28 insertions(+), 1 deletion(-)

commit 80270d1b687ec4cbff69fd13f1364ec77473588f
Author: Jinfeng Ni <jni@apache.org>
Date:   Thu Jun 25 17:25:22 2015 -0700

    DRILL-3377:  Fix naming resolution error for partitioning columns when columns are explicitly specified in CTAS column list.

 .../planner/sql/handlers/CreateTableHandler.java   | 10 ++--
 .../planner/sql/handlers/DefaultSqlHandler.java    |  2 +-
 .../java/org/apache/drill/exec/sql/TestCTAS.java   | 56 ++++++++++++++++++++++
 3 files changed, 64 insertions(+), 4 deletions(-)

commit 6503cfbff7d52f5e409ac7e73647871a8ebec79f
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Jun 25 10:24:32 2015 -0700

    DRILL-2592: Make jdbc-all dependencies non-transitive (provided scope)

 exec/jdbc-all/pom.xml | 99 ++++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 95 insertions(+), 4 deletions(-)

commit 453b363a7e3c97a2d57984c5e9553413c2d05c6a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Jun 25 19:56:24 2015 -0700

    DRILL-3177: Part 2, various Mongo plugin enhancements
    
    - Fix issues with initial Mongo 3 update patch
    - Update mongo connection management so we don't generate infinite MongoClients.
    - Move from static class to management inside Storage Plugin.
    - Increase limit on number of connections.
    - move mongo cursor initialization to batch reading, so a query won't block indefinitely on this code
    - Update mongo driver version to 3.0.2
    - Update host access to use all hosts rather than just master
    - Remove references to no longer used UnknownHostException

 contrib/storage-mongo/pom.xml                      |  14 +-
 .../drill/exec/store/mongo/MongoCnxnManager.java   |  80 -------
 .../drill/exec/store/mongo/MongoGroupScan.java     | 256 ++++++++++-----------
 .../drill/exec/store/mongo/MongoRecordReader.java  |  68 +++---
 .../exec/store/mongo/MongoScanBatchCreator.java    |   7 +-
 .../drill/exec/store/mongo/MongoStoragePlugin.java |  70 +++++-
 .../store/mongo/schema/MongoSchemaFactory.java     |  32 +--
 7 files changed, 235 insertions(+), 292 deletions(-)

commit 5bb75b2d1fc23586aff40ebfd93a7ce2084d01ad
Author: Kamesh <kam.iitkgp@gmail.com>
Date:   Sat May 23 07:38:26 2015 +0530

    DRILL-3177: Part 1, upgrading Mongo Java Driver to 3.0.1

 contrib/storage-mongo/pom.xml                      |  2 +-
 .../drill/exec/store/mongo/MongoGroupScan.java     | 76 ++++++++++++----------
 .../drill/exec/store/mongo/MongoRecordReader.java  | 21 +++---
 .../apache/drill/exec/store/mongo/MongoUtils.java  | 12 ----
 .../store/mongo/schema/MongoSchemaFactory.java     | 21 +++---
 5 files changed, 62 insertions(+), 70 deletions(-)

commit c7c2236623f8cd37d367b4dcc0c001f08bf044e5
Author: Steven Phillips <smp@apache.org>
Date:   Thu Jun 25 17:26:14 2015 -0700

    DRILL-3381: Add option to distribute on the partition keys when doing doing CTAS with partitioning

 .../java/org/apache/drill/exec/ExecConstants.java  |  3 ++
 .../drill/exec/planner/physical/WriterPrule.java   | 20 ++++++-
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../org/apache/drill/TestCTASPartitionFilter.java  | 61 ++++++++++++++++++++++
 4 files changed, 83 insertions(+), 2 deletions(-)

commit c6978a5cce2a15b55c59695efd1e88764f90f3db
Author: Steven Phillips <smp@apache.org>
Date:   Thu Jun 25 16:56:42 2015 -0700

    DRILL-3380: Fix ParquetGroupScan clone

 .../apache/drill/exec/store/parquet/ParquetGroupScan.java   | 13 +++++++++----
 .../src/test/java/org/apache/drill/TestPartitionFilter.java | 12 ++++++++++++
 2 files changed, 21 insertions(+), 4 deletions(-)

commit 5f0e4cbd0f49600c41abf38056bcd29849c5cdf9
Author: Steven Phillips <smp@apache.org>
Date:   Thu Jun 25 13:49:14 2015 -0700

    DRILL-3333: Add unit tests for CTAS partitioning and partition pruning

 .../planner/logical/partition/PruneScanRule.java   |  5 +-
 .../java/org/apache/drill/TestPartitionFilter.java | 63 ++++++++++++++++++++++
 2 files changed, 67 insertions(+), 1 deletion(-)

commit 475dfd8016b8f4eee1fa79bb6ce7d921683b3b44
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Jun 25 14:12:36 2015 -0700

    DRILL-3328: Add unittest for convert_from function on Hive BINARY type

 .../test/java/org/apache/drill/exec/hive/TestHiveStorage.java | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit 25977105ffb72b51b362fa592936aeac40906383
Author: Jinfeng Ni <jni@apache.org>
Date:   Wed Jun 24 16:10:55 2015 -0700

    DRILL-3373: Raise parsing error when CTAS has partition by clause yet partitioning column list is empty.

 .../src/main/codegen/includes/parserImpls.ftl      | 28 +++++++++++++++-------
 .../java/org/apache/drill/exec/sql/TestCTAS.java   | 14 +++++++++++
 2 files changed, 34 insertions(+), 8 deletions(-)

commit 4f9ad493ee001d92048d35ab7c9f4badb6a8e77f
Author: Steven Phillips <smp@apache.org>
Date:   Wed Jun 24 19:48:25 2015 -0700

    DRILL-3366: Avoid short circuit of OR expression in CTAS partitioning

 .../org/apache/drill/exec/expr/fn/impl/BitFunctions.java    |  2 +-
 .../drill/exec/planner/sql/handlers/CreateTableHandler.java | 13 ++++++++++++-
 2 files changed, 13 insertions(+), 2 deletions(-)

commit 403dc5cdc6d34b24c1caca7cb574eb9e9727afe4
Author: adeneche <adeneche@gmail.com>
Date:   Mon May 18 18:02:12 2015 -0700

    DRILL-3147: tpcds-sf1-parquet query 73 causes memory leak
    
    - each time a fragment A sends a "receiver finished" to fragment B, fragment B id will be
      added to FragmentContext.ignoredSenders list
    - refactored UnorderedReceiverBatch.informSenders() and MergingRecordBatch.informSenders()
      by moving this method to FragmentContext
    - DataServer.send() uses FragmentContext.ignoredSenders to decide if a batch should be
      passed to the fragment or discarded right away
    - BaseRawBatchBuffer methods enqueue() and kill() are now synchronized
    - TestTpcdsSf1Leak test reproduces the leak, it's ignored by default because it requires
      a large dataset

 .../org/apache/drill/exec/rpc/data/DataServer.java | 41 ++++--------
 .../drill/exec/work/batch/BaseRawBatchBuffer.java  | 11 ++--
 .../exec/work/fragment/RootFragmentManager.java    |  2 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  | 14 ++--
 .../drill/exec/server/TestTpcdsSf1Leaks.java       | 75 ++++++++++++++++++++++
 .../java-exec/src/test/resources/tpcds-sf1/q73.sql | 27 ++++++++
 6 files changed, 129 insertions(+), 41 deletions(-)

commit c1b847acdc8cb90a1498b236b3bb5c81ca75c044
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Sat Jun 20 19:29:23 2015 -0700

    DRILL-3203: Add support for impersonation in Hive storage plugin

 contrib/storage-hive/core/pom.xml                  |  12 +
 .../exec/store/hive/DrillHiveMetaStoreClient.java  | 375 +++++++++++++++++++++
 .../exec/store/hive/HiveAuthorizationHelper.java   | 153 +++++++++
 .../org/apache/drill/exec/store/hive/HiveScan.java |  31 +-
 .../exec/store/hive/schema/DrillHiveTable.java     |   4 +-
 .../exec/store/hive/schema/DrillHiveViewTable.java |   5 +-
 .../exec/store/hive/schema/HiveSchemaFactory.java  | 207 ++++--------
 .../apache/drill/exec/hive/HiveTestUtilities.java  |  50 +++
 .../hive/BaseTestHiveImpersonation.java            | 140 ++++++++
 .../hive/TestSqlStdBasedAuthorization.java         | 296 ++++++++++++++++
 .../hive/TestStorageBasedHiveAuthorization.java    | 372 ++++++++++++++++++++
 .../exec/store/hive/HiveTestDataGenerator.java     |  51 +--
 .../core/src/test/resources/student.txt            |  10 +
 .../storage-hive/core/src/test/resources/voter.txt |  10 +
 .../org/apache/drill/exec/ops/QueryContext.java    |  38 ++-
 .../apache/drill/exec/store/AbstractSchema.java    |   7 +-
 .../apache/drill/exec/util/ImpersonationUtil.java  |  16 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  31 ++
 .../exec/impersonation/BaseTestImpersonation.java  |  66 +++-
 .../TestImpersonationDisabledWithMiniDFS.java      |  37 +-
 .../impersonation/TestImpersonationMetadata.java   |  47 +--
 .../impersonation/TestImpersonationQueries.java    |  66 +---
 22 files changed, 1686 insertions(+), 338 deletions(-)

commit 58c3c4c69748bdf2423c1b4f543407faef50a767
Author: Jinfeng Ni <jni@apache.org>
Date:   Wed Jun 24 13:16:27 2015 -0700

    DRILL-3210 : Expand star column properly when it is used together with window function in projection list of SQL query.

 .../drill/exec/planner/physical/WindowPrel.java    | 30 +++++++++++++++++-
 .../java/org/apache/drill/TestExampleQueries.java  | 37 ++++++++++++++++++++++
 2 files changed, 66 insertions(+), 1 deletion(-)

commit 3f0d9221d3f96c20db10e868cc33c2e972318ba6
Author: adeneche <adeneche@gmail.com>
Date:   Wed Jun 24 08:58:39 2015 -0700

    DRILL-3345: TestWindowFrame fails to properly check cases involving multiple batches

 .../physical/impl/window/DefaultFrameTemplate.java  |  6 +++---
 .../exec/physical/impl/xsort/MSortTemplate.java     | 21 ++++++++++++---------
 .../exec/record/selection/SelectionVector4.java     | 16 ++++++++++++----
 3 files changed, 27 insertions(+), 16 deletions(-)

commit 00aa01fb90f3210d1e3027d7f759fb1085b814bd
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Fri May 29 16:50:23 2015 -0700

    DRILL-2903: General improvements to tests in TestDrillbitResilience
    + Added RepeatTestRule to tests that are flaky
    + Added Controls.Builder to create controls string in tests
    + Added @Ignore to failing tests (filed JIRAs)
    
    Other fixes:
    + Added @Override to ScanBatch#close to avoid potential bugs
    + Added docs link in ProtobufLengthDecoder
    + Fixed logging issue in CountDownLatchImpl

 .../apache/drill/common/util/RepeatTestRule.java   |  72 ++++
 .../org/apache/drill/common/util/TestTools.java    |  10 +-
 .../test/java/org/apache/drill/test/DrillTest.java |   5 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |   1 +
 .../drill/exec/rpc/ProtobufLengthDecoder.java      |   3 +-
 .../drill/exec/rpc/control/ControlTunnel.java      |   3 +-
 .../exec/testing/CountDownLatchInjectionImpl.java  |   2 +-
 .../drill/exec/testing/ExecutionControls.java      |   9 +-
 .../exec/work/batch/ControlMessageHandler.java     |   8 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |   1 -
 .../drill/exec/work/foreman/QueryManager.java      |   2 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |   1 +
 .../drill/exec/server/TestDrillbitResilience.java  | 398 ++++++++++-----------
 .../org/apache/drill/exec/testing/Controls.java    | 214 +++++++++++
 .../drill/exec/testing/ControlsInjectionUtil.java  | 100 +++++-
 .../exec/testing/TestCountDownLatchInjection.java  |  10 +-
 .../drill/exec/testing/TestExceptionInjection.java |  48 +--
 .../drill/exec/testing/TestPauseInjection.java     |  26 +-
 18 files changed, 621 insertions(+), 292 deletions(-)

commit 20ec0cd63ba46d0f6d48ff232cb8650445e85d3a
Author: Steven Phillips <smp@apache.org>
Date:   Wed Jun 24 15:31:24 2015 -0700

    DRILL-3361: Include Bit type in the newPartitionFunction freemarker template

 exec/java-exec/src/main/codegen/templates/NewValueFunctions.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8b6fa14acbf678ce8018799a15afea487247f011
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Wed Jun 24 15:31:25 2015 -0700

    DRILL-3359: Also detect the window frame claimed in the window definition

 .../sql/parser/UnsupportedOperatorsVisitor.java    | 80 +++++++++++-----------
 .../org/apache/drill/exec/TestWindowFunctions.java | 14 ++++
 2 files changed, 54 insertions(+), 40 deletions(-)

commit 25b7b5ef56970f74e0e9f3d0e9f8070e78e1bfa9
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Jun 23 17:57:31 2015 -0700

    DRILL-3318: Bump calcite version to 1.1.0-drill-r9
    Added unit test

 .../java/org/apache/drill/exec/TestWindowFunctions.java    | 14 ++++++++++++++
 exec/java-exec/src/test/resources/jsoninput/large_int.json |  2 ++
 pom.xml                                                    |  2 +-
 3 files changed, 17 insertions(+), 1 deletion(-)

commit c04789dc22af31bf2c97aaf8511cb502d867d105
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Jun 16 16:39:08 2015 -0700

    DRILL-2494: Have PreparedStmt. set-param. methods throw "unsupported".
    
    Added (integration-level) unit test.
    
    Modified set-parameter methods to throw SQLFeatureNotSupportedException.
    (Intercepted common getParameter method.)
    
    Inserted DrillPreparedStatement into hierarchy for place for documentation.
    
    Documented that parameter-setting methods are not supported.

 .../apache/drill/jdbc/DrillPreparedStatement.java  |  35 ++++++
 .../jdbc/impl/DrillPreparedStatementImpl.java      |  14 ++-
 .../apache/drill/jdbc/PreparedStatementTest.java   | 139 +++++++++++++++++++++
 3 files changed, 187 insertions(+), 1 deletion(-)

commit 4dc476d540bc4d091105f4b017732b70e59d26e3
Author: dbarclay <dbarclay@maprtech.com>
Date:   Fri Apr 24 16:48:55 2015 -0700

    DRILL-2447: Add already-closed checks to remaining ResultSet methods.
    
    Extended coverage from just selected methods to all methods.  Added wrapper
    methods checking state before delegating.  (Couldn't implement at just a few
    choke points because Avatica makes them private and doesn't provide hooks.)
    [DrillResultSetImpl]
    
    Defined DrillResultSet.getQueryId() to throw SQLException as other methods do.
    [DrillResultSet]
    
    Re-enabled ResultSet test methods.  (Also re-enabled other test methods that
    pass now with DRILL-2782 changes.  [Drill2489CallsAfterCloseThrowExceptionsTest]

 .../java/org/apache/drill/jdbc/DrillResultSet.java |   22 +-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java | 1257 +++++++++++++++++++-
 ...rill2489CallsAfterCloseThrowExceptionsTest.java |  239 +---
 3 files changed, 1244 insertions(+), 274 deletions(-)

commit 064af8079f637b8596e0b303baf5ce26f2b925bd
Author: adeneche <adeneche@gmail.com>
Date:   Wed Jun 17 08:09:51 2015 -0700

    DRILL-3304: improve TypeHelper error messages when UnsupportedOprationException is thrown

 .../drill/common/exceptions/ErrorHelper.java       |  3 +-
 .../src/main/codegen/templates/TypeHelper.java     | 52 ++++++++++++----------
 2 files changed, 31 insertions(+), 24 deletions(-)

commit 856b3d2a1fd083034b1e4a9ed18402d2feb80f56
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Fri Jun 19 11:59:51 2015 -0700

    DRILL-3326: When inspecting SELECT-LIST, UnsupportedOperatorsVisitor will dig into AS clause

 .../planner/sql/parser/UnsupportedOperatorsVisitor.java     |  5 +++++
 .../java/org/apache/drill/exec/TestWindowFunctions.java     | 13 +++++++++++++
 2 files changed, 18 insertions(+)

commit 5a34d8194a660f82391e1143f445a7a890340e34
Author: Steven Phillips <smp@apache.org>
Date:   Tue Jun 23 18:41:12 2015 -0700

    DRILL-3333: Parquet writer auto-partitioning and partition pruning

 .../codegen/templates/AbstractRecordWriter.java    |  18 +
 .../codegen/templates/EventBasedRecordWriter.java  |   8 +
 .../main/codegen/templates/NewValueFunctions.java  | 103 +++
 .../src/main/codegen/templates/RecordWriter.java   |  10 +-
 .../templates/StringOutputRecordWriter.java        |  11 +-
 .../exec/physical/base/AbstractGroupScan.java      |   6 +
 .../apache/drill/exec/physical/base/GroupScan.java |   7 +
 .../exec/physical/impl/WriterRecordBatch.java      |   2 +-
 .../exec/planner/ParquetPartitionDescriptor.java   |  62 ++
 .../drill/exec/planner/logical/DrillRuleSets.java  |   2 +
 .../planner/logical/partition/PruneScanRule.java   | 713 +++++++++++++--------
 .../planner/sql/handlers/CreateTableHandler.java   |   4 +-
 .../apache/drill/exec/store/NewValueFunction.java  | 209 ++++++
 .../exec/store/easy/json/JsonRecordWriter.java     |   3 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java | 310 ++++++++-
 .../exec/store/parquet/ParquetRecordWriter.java    |  42 +-
 .../exec/store/text/DrillTextRecordWriter.java     |   1 +
 17 files changed, 1237 insertions(+), 274 deletions(-)

commit 3aa82bc923cdcb15fdb918baa8b99a5bb85ef6cb
Author: Aditya Kishore <adi@apache.org>
Date:   Fri Jun 19 13:12:46 2015 -0700

    DRILL-3320: Do away with "rebuffing" Drill jar

 common/pom.xml                    |   32 -
 distribution/pom.xml              |    3 -
 distribution/src/assemble/bin.xml |    6 +-
 exec/java-exec/pom.xml            |   36 -
 protocol/output                   | 3076 -------------------------------------
 protocol/pom.xml                  |   30 -
 6 files changed, 3 insertions(+), 3180 deletions(-)

commit 8815eb7d947be6d2a0281c15a3a60d8ba040db95
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon Jun 22 13:41:01 2015 -0700

    DRILL-3319: Replaced UserException#build() method with #build(Logger) method to log from the correct class
    
    + Fixed docs in UserException
    + Created loggers, and changed logger visibility to private

 .../drill/common/exceptions/UserException.java     | 67 +++++++++++-----------
 .../drill/common/exceptions/TestUserException.java | 19 +++---
 .../drill/exec/store/hive/HiveRecordReader.java    |  2 +-
 .../src/main/codegen/templates/ListWriters.java    |  9 +--
 .../drill/exec/client/PrintingResultsListener.java |  4 +-
 .../exec/expr/fn/impl/AggregateErrorFunctions.java | 29 +++++-----
 .../org/apache/drill/exec/ops/FragmentContext.java |  2 +-
 .../drill/exec/ops/ViewExpansionContext.java       |  2 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  2 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java |  2 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |  2 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |  2 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |  2 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |  4 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 13 +++--
 .../drill/exec/planner/sql/SchemaUtilites.java     |  9 +--
 .../planner/sql/handlers/CreateTableHandler.java   | 14 +++--
 .../planner/sql/handlers/DefaultSqlHandler.java    | 23 ++++----
 .../planner/sql/handlers/DescribeTableHandler.java |  7 ++-
 .../exec/planner/sql/handlers/ExplainHandler.java  | 10 ++--
 .../exec/planner/sql/handlers/ShowFileHandler.java |  6 +-
 .../planner/sql/handlers/ShowTablesHandler.java    |  3 +-
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  |  7 ++-
 .../exec/planner/sql/handlers/ViewHandler.java     | 10 ++--
 .../drill/exec/record/AbstractRecordBatch.java     |  3 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |  2 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |  2 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    | 12 ++--
 .../apache/drill/exec/store/AbstractSchema.java    |  6 +-
 .../org/apache/drill/exec/store/TimedRunnable.java |  2 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 23 ++++----
 .../exec/store/easy/json/JSONRecordReader.java     |  2 +-
 .../exec/store/easy/text/compliant/TextReader.java |  2 +-
 .../exec/store/parquet/ParquetReaderUtility.java   |  9 +--
 .../drill/exec/vector/complex/fn/JsonReader.java   | 24 ++++----
 .../apache/drill/exec/work/foreman/Foreman.java    | 12 ++--
 .../drill/exec/work/fragment/FragmentExecutor.java |  4 +-
 .../exec/store/parquet/ParquetResultListener.java  |  2 +-
 38 files changed, 183 insertions(+), 172 deletions(-)

commit 711992f22ae6d6dfc43bdb4c01bf8f921d175b38
Author: dbarclay <dbarclay@maprtech.com>
Date:   Wed Jun 10 13:49:47 2015 -0700

    DRILL-3285: Part 5--Split old hacky next() into separate methods.
    
    Split the original public next() method (which was hacked to handle an extra,
    initial call to read the schema batch) into:
    - new loadInitialSchema() (for handling the call for the schema)
    - modified next() (for handling normal calls from ResultSet.next())
    - new private nextRowInternally() (for common code)
    
    Pulled invariant afterFirstBatch up out of bogus-batch loop.

 .../org/apache/drill/jdbc/impl/DrillCursor.java    | 124 ++++++++++++++-------
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |   2 +-
 2 files changed, 84 insertions(+), 42 deletions(-)

commit 22232d4d31e66e31cdb3a017cffab444223dd47e
Author: dbarclay <dbarclay@maprtech.com>
Date:   Fri Jun 12 18:26:28 2015 -0700

    DRILL-3285: Part 4--Reorder fields, updateColumns.

 .../org/apache/drill/jdbc/impl/DrillCursor.java    | 40 +++++++++++-----------
 1 file changed, 20 insertions(+), 20 deletions(-)

commit e050f1e17f32d60960b01757455face52050bed3
Author: dbarclay <dbarclay@maprtech.com>
Date:   Fri Jun 12 18:42:14 2015 -0700

    DRILL-3285: Part 3--Invert beforeFirstBatch -> ! afterFirstBatch.

 .../src/main/java/org/apache/drill/jdbc/impl/DrillCursor.java     | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit d040429cdafee0bfd25d1115a36922a10e2b5d96
Author: dbarclay <dbarclay@maprtech.com>
Date:   Fri Jun 12 18:37:58 2015 -0700

    DRILL-3285: Part 2--Renaming.
    
    Renamed state/control-flow members:
    - started -> initialSchemaLoaded
    - first -> beforeFirstBatch
    - redoFirstNext -> returnTrueForNextCallToNext
    - finished -> afterLastRow
    
    Renamed other items:
    - changed -> schemaChanged
    - currentBatch -> currentBatchHolder
    - DrillResultSet's currentBatch -> batchLoader

 .../org/apache/drill/jdbc/impl/DrillCursor.java    | 52 +++++++++++-----------
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |  6 +--
 2 files changed, 30 insertions(+), 28 deletions(-)

commit 228be48f47ecc14b415e80b7351cc3f78957d57d
Author: dbarclay <dbarclay@maprtech.com>
Date:   Wed Jun 10 14:03:21 2015 -0700

    DRILL-3285: Part 1--Prep., Hygiene:  Mainly, adding comments.
    
    Added/edited comments:
    - field doc. comments
    - method doc. comments
    - branch/block comments
    
    Removed unused recordBatchCount and getRecordBatchCount().
    
    Added logger call for spurious batch.
    
    Various cleanup:
    - Cleaned up logger.
    - Added "final" on updateColumns().
    - Wrapped some lines
    - Misc. comment whitespace.

 .../org/apache/drill/jdbc/impl/DrillCursor.java    | 112 +++++++++++++++------
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |   5 +-
 2 files changed, 87 insertions(+), 30 deletions(-)

commit 9c125b0d9f8e49c6a234fde0f284168552a781cb
Author: Jinfeng Ni <jni@apache.org>
Date:   Wed Jun 17 15:42:23 2015 -0700

    DRILL-3316(2) : Disable unit test of tinyint, smallint and real type in DatabaseMetaDataGetColumnsTest and TestInformationSchemaColumns until DRILL-2470 is fixed.

 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java | 47 +++++++++++++++---
 .../jdbc/test/TestInformationSchemaColumns.java    | 56 +++++++++++++++++++---
 2 files changed, 90 insertions(+), 13 deletions(-)

commit ffae1691c0cd526ed1095fbabbc0855d016790d7
Author: Jinfeng Ni <jni@apache.org>
Date:   Mon Jun 15 11:57:49 2015 -0700

    DRILL-3316: Ensure different Sql handlers go through same planning phases.

 .../planner/sql/handlers/CreateTableHandler.java   |  30 +--
 .../planner/sql/handlers/DefaultSqlHandler.java    | 266 +++++++++++----------
 .../exec/planner/sql/handlers/ExplainHandler.java  |  17 +-
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  |  22 +-
 .../exec/planner/sql/handlers/ViewHandler.java     |  27 ++-
 .../exec/planner/sql/parser/SqlCreateView.java     |   2 +-
 .../drill/exec/planner/sql/parser/SqlDropView.java |   2 +-
 7 files changed, 188 insertions(+), 178 deletions(-)

commit 4c444663fa9fc9ef6104396a426f8d6fa6c4afa0
Author: Jinfeng Ni <jni@apache.org>
Date:   Mon Jun 1 18:14:50 2015 -0700

    DRILL-3246 :  Query planning support for partition by clause in CTAS statement.
    
    Add partition comparator function into project under writer.

 .../src/main/codegen/includes/parserImpls.ftl      |  11 +-
 .../exec/planner/logical/CreateTableEntry.java     |   3 +
 .../drill/exec/planner/logical/DrillWriterRel.java |  33 +++++
 .../logical/FileSystemCreateTableEntry.java        |  17 ++-
 .../drill/exec/planner/physical/WriterPrel.java    |   3 +-
 .../drill/exec/planner/physical/WriterPrule.java   |  22 ++-
 .../physical/visitor/StarColumnConverter.java      |   7 +-
 .../planner/sql/handlers/CreateTableHandler.java   | 155 ++++++++++++++++++++-
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  | 105 ++++++++++++++
 .../sql/parser/CompoundIdentifierConverter.java    |   2 +-
 .../exec/planner/sql/parser/SqlCreateTable.java    |  42 +++---
 .../exec/planner/sql/parser/SqlCreateView.java     |  15 +-
 .../apache/drill/exec/store/AbstractSchema.java    |   9 +-
 .../apache/drill/exec/store/SubSchemaWrapper.java  |   5 +-
 .../exec/store/dfs/FileSystemSchemaFactory.java    |   5 +-
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |   2 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |   6 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   4 +-
 .../drill/exec/store/dfs/easy/EasyWriter.java      |   9 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |   4 +-
 .../drill/exec/store/parquet/ParquetWriter.java    |  14 +-
 .../java/org/apache/drill/TestExampleQueries.java  |  23 +++
 22 files changed, 438 insertions(+), 58 deletions(-)

commit 6ebfbb9d0fc0b87b032f5e5d5cb0825f5464426e
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jun 18 17:22:48 2015 -0700

    DRILL-3254: Fix wrong results while using certain types of window functions that are rewritten using AvgVarianceConvertlet
    Added a custom Drill Convertlet to correctly reduce these aggregates.

 .../planner/sql/DrillAvgVarianceConvertlet.java    | 156 +++++++++++++++++++++
 .../exec/planner/sql/DrillConvertletTable.java     |   6 +
 .../org/apache/drill/exec/TestWindowFunctions.java |  28 ++++
 3 files changed, 190 insertions(+)

commit 710f829429111f90b3977264cf127c43da440901
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Jun 17 14:04:24 2015 -0700

    DRILL-3298:  Make a single stream as input to the Window by inserting a SingleMergeExchange if only the ORDER-BY clause is present in a Window.
    
    Incorporate review comments.  Add unit test.

 .../drill/exec/planner/physical/WindowPrule.java   | 37 ++++++++++++++++++++--
 .../org/apache/drill/exec/TestWindowFunctions.java | 24 ++++++++++++++
 2 files changed, 59 insertions(+), 2 deletions(-)

commit 49b6dba5a914f367bc22a0797f1bf4e2ce587b83
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Jun 15 14:00:12 2015 -0700

    DRILL-3204, DRILL-3296: Upgrade Drill-Calcite to 1.1.0-drill-r8; Add test cases

 .../java/org/apache/drill/TestUnionDistinct.java   | 25 ++++++++++++++++++++++
 .../org/apache/drill/exec/TestWindowFunctions.java | 10 +++++++++
 .../unionDistinct/testGroupByUnionDistinct.tsv     | 25 ++++++++++++++++++++++
 pom.xml                                            |  2 +-
 4 files changed, 61 insertions(+), 1 deletion(-)

commit f0bc2e70f35736e303212be3be6a24ef926616c1
Author: Parth Chandra <parthc@apache.org>
Date:   Thu Jun 18 16:13:56 2015 -0700

    DRILL-2997: (3) Regenerated CPP protobuf code for previous DRILL-2997 patch

 .../native/client/src/protobuf/BitControl.pb.cc    | 469 ++++++++++++++++++++-
 contrib/native/client/src/protobuf/BitControl.pb.h | 252 ++++++++++-
 .../native/client/src/protobuf/UserBitShared.pb.cc | 195 ++++-----
 .../native/client/src/protobuf/UserBitShared.pb.h  |  40 +-
 4 files changed, 778 insertions(+), 178 deletions(-)

commit 4a7e5ce42fb3f4a7614a6ab80fb80363dbd53cc6
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Thu Jun 18 15:19:26 2015 -0700

    DRILL-2997: (2) re-generate proto files that was missing from earlier DRILL-2997 patch

 .../drill/exec/proto/SchemaUserBitShared.java      |  8 +--
 .../org/apache/drill/exec/proto/UserBitShared.java | 64 ++++++----------------
 .../drill/exec/proto/beans/SerializedField.java    |  8 +--
 3 files changed, 24 insertions(+), 56 deletions(-)

commit a027f692b3002e2956be2801447cdc3b148f2de1
Author: adeneche <adeneche@gmail.com>
Date:   Wed Jun 10 08:21:44 2015 -0700

    DRILL-3268: queries with empty OVER() clause return empty result set

 .../impl/window/WindowFrameRecordBatch.java        |  12 +-
 .../physical/impl/window/GenerateTestData.java     | 286 ---------------------
 .../exec/physical/impl/window/TestWindowFrame.java |  82 ++----
 .../window/{b1.p1.subs.tsv => b1.p1.oby.tsv}       |   0
 .../src/test/resources/window/b1.p1.pby.oby.tsv    |  20 ++
 .../src/test/resources/window/b1.p1.pby.tsv        |  20 ++
 .../src/test/resources/window/b1.p1/0.data.json    |  26 +-
 .../src/test/resources/window/b1.p2.oby.tsv        |  20 ++
 .../window/{b1.p2.subs.tsv => b1.p2.pby.oby.tsv}   |  20 +-
 .../src/test/resources/window/b1.p2.pby.tsv        |  20 ++
 exec/java-exec/src/test/resources/window/b1.p2.tsv |  40 +--
 .../src/test/resources/window/b1.p2/0.data.json    |  34 +--
 .../src/test/resources/window/b2.p2.oby.tsv        |  40 +++
 .../window/{b2.p2.subs.tsv => b2.p2.pby.oby.tsv}   |  24 +-
 .../src/test/resources/window/b2.p2.pby.tsv        |  40 +++
 exec/java-exec/src/test/resources/window/b2.p2.tsv |  80 +++---
 .../src/test/resources/window/b2.p2/0.data.json    |  34 +--
 .../src/test/resources/window/b2.p2/1.data.json    |  34 +--
 .../src/test/resources/window/b2.p4.oby.tsv        |  40 +++
 .../src/test/resources/window/b2.p4.pby.oby.tsv    |  40 +++
 .../src/test/resources/window/b2.p4.pby.tsv        |  40 +++
 .../src/test/resources/window/b2.p4.subs.tsv       |  40 ---
 exec/java-exec/src/test/resources/window/b2.p4.tsv |  80 +++---
 .../src/test/resources/window/b2.p4/0.data.json    |  42 +--
 .../src/test/resources/window/b2.p4/1.data.json    |  36 +--
 .../src/test/resources/window/b3.p2.oby.tsv        |  60 +++++
 .../window/{b3.p2.subs.tsv => b3.p2.pby.oby.tsv}   |   0
 .../src/test/resources/window/b3.p2.pby.tsv        |  60 +++++
 exec/java-exec/src/test/resources/window/b3.p2.tsv | 120 ++++-----
 .../src/test/resources/window/b3.p2/0.data.json    |  38 +--
 .../src/test/resources/window/b3.p2/1.data.json    |  34 +--
 .../src/test/resources/window/b3.p2/2.data.json    |  34 +--
 .../src/test/resources/window/b4.p4.oby.tsv        |  80 ++++++
 .../src/test/resources/window/b4.p4.pby.oby.tsv    |  80 ++++++
 .../src/test/resources/window/b4.p4.pby.tsv        |  80 ++++++
 .../src/test/resources/window/b4.p4.subs.tsv       |  80 ------
 exec/java-exec/src/test/resources/window/b4.p4.tsv | 160 ++++++------
 .../src/test/resources/window/b4.p4/0.data.json    |  42 +--
 .../src/test/resources/window/b4.p4/1.data.json    |  36 +--
 .../src/test/resources/window/b4.p4/2.data.json    |  38 +--
 .../src/test/resources/window/b4.p4/3.data.json    |  36 +--
 exec/java-exec/src/test/resources/window/q1.sql    |   2 +-
 exec/java-exec/src/test/resources/window/q2.sql    |   2 +-
 43 files changed, 1168 insertions(+), 964 deletions(-)

commit 437706f750b0ec50b60582ea2c47e7017e2718e3
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Jun 8 17:22:03 2015 -0700

    DRILL-3263: Read Smallint and Tinyint columns in Hive tables as Integer.
    
    Smallint and Tinyint are not fully implemented, this will be addressed when DRILL-2470 is fixed. Until these types are ready for full use throughout Drill, we will be reading smallint and tinyint data as integers, as we have much more thorough support and testing for the integer type.
    
    Disabled unit tests for Hive functions that take tinyint and smallint as input or produce them as output.

 .../drill/exec/store/hive/HiveFieldConverter.java  | 37 ++++++++++++++--------
 .../drill/exec/store/hive/HiveRecordReader.java    | 33 ++++++-------------
 .../exec/store/hive/schema/DrillHiveTable.java     |  4 +--
 .../drill/exec/fn/hive/HiveTestUDFImpls.java       |  2 ++
 .../drill/exec/fn/hive/TestSampleHiveUDFs.java     |  2 ++
 .../apache/drill/exec/hive/TestHiveStorage.java    | 12 +++----
 6 files changed, 43 insertions(+), 47 deletions(-)

commit fb25973b406d856f0edc9332aadd8e7152b27fa8
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Jun 17 14:42:53 2015 -0700

    DRILL-3305: Raise exception if we encounter unknown RexNode in DrillOptiq

 .../drill/exec/planner/logical/DrillOptiq.java     |  8 ++-
 .../drill/exec/planner/logical/DrillOptiqTest.java | 66 ++++++++++++++++++++++
 2 files changed, 71 insertions(+), 3 deletions(-)

commit c2a2377bdc2acaf714c19c0cb509f62c8aeffd19
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jun 11 14:17:26 2015 -0700

    DRILL-2403: Print leading zeroes in TimePrintMillis

 .../exec/vector/accessor/sql/TimePrintMillis.java  | 22 +++++++++---
 .../exec/vector/accessor/TestTimePrintMillis.java  | 40 ++++++++++++++++++++++
 2 files changed, 58 insertions(+), 4 deletions(-)

commit d32acdb9020aaaba656588a03a02dd42e6a61241
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Jun 15 08:11:10 2015 -0700

    DRILL-3266: Add hive-contrib dependency to Hive storage plugin
    
    Module hive-contrib has SerDes and UDF implementations which we want them to
    be available by default in Drill Hive storage plugin.

 contrib/storage-hive/core/pom.xml                  |  4 ++++
 .../apache/drill/exec/hive/TestHiveStorage.java    | 10 ++++++++
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     | 20 ++++++++++++----
 .../exec/store/hive/HiveTestDataGenerator.java     | 24 +++++++++++--------
 pom.xml                                            | 27 ++++++++++++++++++++++
 5 files changed, 71 insertions(+), 14 deletions(-)

commit b46c53eb8e82d19fd5243ff2a9050ca8aae1346b
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Jun 12 14:18:08 2015 -0700

    DRILL-745: Add a test case for Hive avro tables.

 contrib/storage-hive/core/pom.xml                  |  5 ++
 .../apache/drill/exec/hive/TestHiveStorage.java    | 10 ++++
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |  1 +
 .../exec/store/hive/HiveTestDataGenerator.java     | 23 ++++++++
 .../core/src/test/resources/avro_test_schema.json  |  9 ++++
 pom.xml                                            | 62 +++++++++++++++++++---
 6 files changed, 102 insertions(+), 8 deletions(-)

commit ae62407745c2413e60afe966a624cd64581d9282
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri May 29 17:51:52 2015 -0700

    DRILL-3240: Fetch hadoop maven profile specific Hive version in Hive storage plugin

 contrib/storage-hive/core/pom.xml            |   8 ++
 contrib/storage-hive/hive-exec-shade/pom.xml | 129 -------------------------
 pom.xml                                      | 139 +++++++++++++++++++++++++++
 3 files changed, 147 insertions(+), 129 deletions(-)

commit 4e2df00e78cb5b23a82a454d1da3eac1bf354001
Author: dbarclay <dbarclay@maprtech.com>
Date:   Mon Jun 8 14:03:04 2015 -0700

    DRILL-3198: Fix: DatabaseMetaData.getTypeInfo(...), etc., return null.
    
    Fixed DatabaseMetaData.getTypeInfo(...) and similar methods enough to not return
    null.  (Each method now returns a ResultSet representing a result set with zero
    rows, though not with JDBC-specified columns.)
    
    - Changed utility method getEmptyResult().
    - Added basic test methods.
    - Added interface DrillDatabaseMetaData (for place to document current
      Drill-specific behavior).
    - Added Javadoc for current behavior.

 .../apache/drill/jdbc/DrillDatabaseMetaData.java   | 414 +++++++++++++++++++++
 .../java/org/apache/drill/jdbc/DrillResultSet.java |   3 +-
 .../drill/jdbc/impl/DrillDatabaseMetaDataImpl.java |   4 +-
 .../java/org/apache/drill/jdbc/impl/MetaImpl.java  |  20 +-
 .../apache/drill/jdbc/DatabaseMetaDataTest.java    | 342 ++++++++++++++++-
 5 files changed, 766 insertions(+), 17 deletions(-)

commit f2231a850647f54d18d8e2a1de69e34290f0a037
Author: dbarclay <dbarclay@maprtech.com>
Date:   Mon Jun 8 14:11:41 2015 -0700

    DRILL-3262: Rename DrillDatabaseMetaData -> DrillDatabaseMetaDataImpl.
    
    Renamed org.apache.drill.jdbc.impl.DrillDatabaseMetaData to
            org.apache.drill.jdbc.impl.DrillDatabaseMetaDataImpl (re creating
            org.apache.drill.jdbc.DrillDatabaseMetaDataImpl for DRILL-3198).
    
    [DrillDatabaseMetaData -> DrillDatabaseMetaDataImpl, DrillJdbc41Factory]

 .../{DrillDatabaseMetaData.java => DrillDatabaseMetaDataImpl.java}    | 4 ++--
 .../src/main/java/org/apache/drill/jdbc/impl/DrillJdbc41Factory.java  | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit c668a10dd4c1295f8ec944240974288ed5a24be5
Author: dbarclay <dbarclay@maprtech.com>
Date:   Thu Jun 4 14:31:04 2015 -0700

    DRILL-3216: Part 2--Fix existing(+) INFORMATION_SCHEMA.COLUMNS columns.
    
    Added unit test.  [TempInformationSchemaColumnsTest]
    
    Fixed/added INFORMATION_SCHEMA.COLUMNS columns:
    - Changed -1 to NULL.
    - Moved column NUMERIC_PRECISION to correct position.
    - Fixed column ORDINAL_POSITION from 0-based to 1-based.
    - Moved CHAR length to column CHARACTER_MAXIMUM_LENGTH.
    - Moved BINARY and VARBINARY length to columnCHARACTER_MAXIMUM_LENGTH.
    - Added precision and scale values for integer types and floating-point types.
    - Added column COLUMN_DEFAULT.
    - Added column CHARACTER_OCTET_LENGTH.
    - Added column DATETIME_PRECISION.
    - Added column INTERVAL_TYPE.
    - Added column INTERVAL_PRECISION.
    - Fixed column DATA_TYPE to correct form of type names:
      - "INTERVAL_..." -> "INTERVAL"
      - short (e.g., "CHAR") to specified (e.g., "CHARACTER")
    
    Applied COLUMNS to JDBC DatabaseMetaData.getColumns() implementation:
    - Changed some getColumns() result values:
      - type names (DATA_TYPE changes)
      - precision radix for some cases
    - Adapted existing uses of COLUMNS data.
    - Applied new COLUMNS data (e.g., interval precision).
    - Updated getColumns() test (re changed result values).
    - Augmented getColumns() test (e.g., more intervals).
    
    Updated other tests using INFORMATION_SCHEMA.COLUMNS:
    - -1 -> NULL
    - integer types have precision and scale values
    - "CHAR" -> "CHARACTER", etc.
    [TestInfoSchema, TestInfoSchemaOnHiveStorage, TestInformationSchemaColumns,
    TestViewSupport]

 .../exec/hive/TestInfoSchemaOnHiveStorage.java     |   21 +-
 .../exec/store/ischema/InfoSchemaConstants.java    |   26 +-
 .../drill/exec/store/ischema/InfoSchemaTable.java  |   37 +-
 .../apache/drill/exec/store/ischema/Records.java   |  257 +-
 .../org/apache/drill/exec/sql/TestInfoSchema.java  |   36 +-
 .../org/apache/drill/exec/sql/TestViewSupport.java |    6 +-
 .../java/org/apache/drill/jdbc/impl/MetaImpl.java  |  336 +--
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java |  665 +++--
 .../jdbc/test/TestInformationSchemaColumns.java    | 2626 ++++++++++++++++++++
 9 files changed, 3502 insertions(+), 508 deletions(-)

commit b018234f58a964537403be2c105b516a7c43e27f
Author: dbarclay <dbarclay@maprtech.com>
Date:   Thu Jun 4 13:48:16 2015 -0700

    DRILL-3216: Part 1--Pre-core code hygiene.
    
    Many-instance changes:  [DatabaseMetaDataGetColumnsTest]
    - Renamed "...opt..." columns and methods to match "...mdrOpt" variables.
    - Renamed "...req..." columns and methods to match "...mdrReq" variables.
    - Renamed "testRow..." variables to "mdrUnk".
    - Added/applied getIntOrNull(...) especially to simplify null cases.
    - Put REAL, FLOAT, and DOUBLE in that order (smallest, ~variable, largest).
    - (Edited "nullability code" -> "nullability code:".)
    
    Renamed "type" -> "relDataType"; "sqlType" -> "sqlTypeName".
    Changed "dfs_test.tmp" -> VIEW_SCHEMA.
    Re-aligned query SQL.
    Added 2 "final".
    Edited 3253 (test plugin) TODOs.
    Purged several comments.
    Wrapped some lines.

 .../apache/drill/exec/store/ischema/Records.java   |   24 +-
 .../java/org/apache/drill/jdbc/impl/MetaImpl.java  |   20 +-
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java | 1263 +++++++++-----------
 3 files changed, 581 insertions(+), 726 deletions(-)

commit 71082e6cddec098d44db498ccb7ee41b6632eb6f
Author: dbarclay <dbarclay@maprtech.com>
Date:   Wed Apr 22 11:41:18 2015 -0700

    DRILL-2089: Split JDBC implementation out of org.apache.drill.jdbc. (Combined patch.)
    
    **********
    DRILL-2089: Part 1--Pre-move preparation and code hygiene.
    
    Preparation for moving classes:
    - Added missed "public" to JdbcApiSqlException and InvalidCursorStateSqlException.
    
    Code hygiene:
    - Fixed commented-out constructors.  [AlreadyClosedSqlException]
    - Fixed missed re-alignment.  [DrillConnectionImpl]
    - Fixed basic whitespace.  [Driver]
    - Fixed/augmented/added various doc. comments.
    - Added @Override annotations.  [MetaImpl, DrillJdbc41Factory]
    - Purged an unused import.  [DrillJdbc41Factory]
    
    **********
    DRILL-2089: Part 2--Split Driver into published Driver and internal DriverImpl.
    
    Split original Driver class into new Driver and DriverImpl classes (to remove
    implementation details from JDBC's published interface (i.e., extension of
    Avatica UnregisteredDriver)):
    
    - Moved most of original Driver to new DriverImpl.  (Excluded registration code.)
    
    - Created new Driver class:
      - implementing java.sql.Driver (not extending Avatica UnregisteredDriver)
      - providing java.sql.Driver methods via delegation to a private DriverImpl
        instance (not via extension)
      - having driver registration code
    
    - Updated internal references to Driver to DriverImpl.  [DrillConnectionImpl,
      DrillFactory, and DrillJdbc41Factory]
    
    2089:  MOVED static initialization up.  [Driver]
    
    **********
    DRILL-2089: Part 3--Move files.  (Move _only_--no edits (e.g., package renaming).)
    
    Moved files from exec/jdbc/src/main/java/org/apache/drill/jdbc/
                  to exec/jdbc/src/main/java/org/apache/drill/jdbc/impl/:
    - AvaticaDrillSqlAccessor.java
    - BasicList.java
    - DrillAccessorList.java
    - DrillColumnMetaDataList.java
    - DrillConnectionImpl.java
    - DrillCursor.java
    - DrillDatabaseMetaData.java
    
    - DrillFactory.java
    - DrillHandler.java
    - DrillJdbc40Factory.java
    - DrillJdbc41Factory.java
    - DrillPrepareResult.java
    - DrillPreparedStatement.java
    - DrillRemoteStatement.java
    - DrillStatementRegistry.java
    - DriverImpl.java
    - GlobalServiceSetReference.java
    - MetaImpl.java
    
    **********
    DRILL-2089: Part 4--Update package names of moved classes.
    
    Updated package names of moved classes:
    - In own package declaration.
    - In references in imports.
    - In references in string literals.  [DriverImpl]
    - In ProGuard configuration for JDBC-all Jar file.
      - Also added DrillConnection and DrillStatement to parallel recent addition
        of DrillResultSet.
    
    **********
    DRILL-2089: Part 5--Reduce excess visibility (remove (now-)unneeded "public").
    
    Purged interim "public" from earlier partial DRILL-2089 fixes.
    Purged other "public" qualifiers no longer needed.
    
    **********
    DRILL-2089: Part 6--Rename DrillPreparedStatement to ...Impl. [various]
    
    **********
    DRILL-2089: Part 7--Post-move hygiene (simplification, renaming, whitespace).
    
    Fixed "cleanup()" to "cleanUp()".  [DrillRemoteStatement,
    DrillPreparedStatement, DrillStatementImpl, DrillHandler]
    
    Renamed DrillConnection.config() to more conventional getConfig().
    [DrillConnection, DrillConnectionImpl]
    
    Removed now-unneeded "abstract" and eliminated now-unneeded subclasses.
    [DrillConnectionImpl, DrillStatementImpl, DrillJdbc41Factory]
    
    Simplified boolean Driver.load() to void.  [Driver]
    - Switched from "new Driver()" to "Driver.load()" in one case.  [ConnectionTest]
    
    Fixed "Optiq" -> "Drill", cleaned up createDriverVersion.  [DriverImpl]
    
    Adjusted unknown-case handling, logging.  [DrillColumnMetaDataList]
    
    Wrapped lines; adjusted other whitespace.

 exec/jdbc-all/pom.xml                              |   8 +-
 .../drill/jdbc/AlreadyClosedSqlException.java      |   4 +-
 .../org/apache/drill/jdbc/DrillConnection.java     |   2 +-
 .../java/org/apache/drill/jdbc/DrillResultSet.java |   5 +
 .../java/org/apache/drill/jdbc/DrillStatement.java |   1 +
 .../main/java/org/apache/drill/jdbc/Driver.java    | 103 ++++++++++++-------
 .../drill/jdbc/InvalidCursorStateSqlException.java |   2 +-
 .../org/apache/drill/jdbc/JdbcApiSqlException.java |   2 +-
 .../jdbc/{ => impl}/AvaticaDrillSqlAccessor.java   |   8 +-
 .../apache/drill/jdbc/{ => impl}/BasicList.java    |   2 +-
 .../drill/jdbc/{ => impl}/DrillAccessorList.java   |  10 +-
 .../jdbc/{ => impl}/DrillColumnMetaDataList.java   |   9 +-
 .../drill/jdbc/{ => impl}/DrillConnectionImpl.java |  41 ++++----
 .../apache/drill/jdbc/{ => impl}/DrillCursor.java  |  10 +-
 .../jdbc/{ => impl}/DrillDatabaseMetaData.java     |  10 +-
 .../apache/drill/jdbc/{ => impl}/DrillFactory.java |  37 +++++--
 .../apache/drill/jdbc/{ => impl}/DrillHandler.java |   9 +-
 .../drill/jdbc/{ => impl}/DrillJdbc40Factory.java  |   7 +-
 .../drill/jdbc/{ => impl}/DrillJdbc41Factory.java  | 113 +++++++++++++--------
 .../drill/jdbc/{ => impl}/DrillPrepareResult.java  |   6 +-
 .../DrillPreparedStatementImpl.java}               |  16 +--
 .../jdbc/{ => impl}/DrillRemoteStatement.java      |   6 +-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |  55 +++++-----
 .../apache/drill/jdbc/impl/DrillStatementImpl.java |  18 ++--
 .../jdbc/{ => impl}/DrillStatementRegistry.java    |  11 +-
 .../org/apache/drill/jdbc/impl/DriverImpl.java     |  76 ++++++++++++++
 .../jdbc/{ => impl}/GlobalServiceSetReference.java |   8 +-
 .../org/apache/drill/jdbc/{ => impl}/MetaImpl.java |  42 +++++++-
 .../drill/jdbc/impl/TypeConvertingSqlAccessor.java |   3 +-
 .../java/org/apache/drill/jdbc/ConnectionTest.java |   4 +-
 .../drill/jdbc/DrillColumnMetaDataListTest.java    |   2 +
 31 files changed, 424 insertions(+), 206 deletions(-)

commit 4baf9e70b19f78a19d59fc6670de00c871f9d609
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Tue Jun 9 14:56:08 2015 -0700

    DRILL-3182, DRILL-3188, DRILL-3195: Window function with DISTINCT qualifier is disabled; Disable unsupported window frames; Window functions NTILE, LAG, LEAD, FIRST_VALUE, LAST_VALUE are disabled

 .../sql/parser/UnsupportedOperatorsVisitor.java    |  91 +++++++++++++-
 .../org/apache/drill/exec/TestWindowFunctions.java | 138 +++++++++++++++++++--
 2 files changed, 213 insertions(+), 16 deletions(-)

commit 68c933c75f3832abd5a56d31937c45d3087cee47
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon Jun 8 16:47:45 2015 -0700

    DRILL-2997: Remove references to groupCount from SerializedField

 .../codegen/templates/RepeatedValueVectors.java    |  35 +--
 .../codegen/templates/VariableLengthVectors.java   |   5 +-
 .../drill/exec/record/RecordBatchLoader.java       |   2 +-
 .../apache/drill/exec/vector/BaseValueVector.java  |   2 +-
 .../exec/vector/complex/AbstractMapVector.java     |   8 +-
 .../vector/complex/BaseRepeatedValueVector.java    |  26 +-
 .../drill/exec/vector/complex/MapVector.java       |  24 +-
 .../complex/RepeatedFixedWidthVectorLike.java      |  16 --
 .../exec/vector/complex/RepeatedListVector.java    |  45 +--
 .../exec/vector/complex/RepeatedMapVector.java     |  71 +++--
 .../complex/RepeatedVariableWidthVectorLike.java   |  12 -
 .../org/apache/drill/exec/expr/ExpressionTest.java |   8 +-
 .../exec/vector/complex/TestEmptyPopulation.java   |   2 +-
 .../complex/fn/TestJsonReaderWithSparseFiles.java  |   2 +-
 .../drill/exec/proto/SchemaUserBitShared.java      |  13 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 301 ++++++++-------------
 .../drill/exec/proto/beans/SerializedField.java    |  28 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   1 -
 18 files changed, 209 insertions(+), 392 deletions(-)

commit 288c9522327474765c0c5497ba38a63959621d77
Author: adeneche <adeneche@gmail.com>
Date:   Fri Jun 5 17:12:57 2015 -0700

    DRILL-3220: IOB Exception - Need a better error message

 .../exec/planner/logical/DrillWindowRule.java      |  4 +---
 .../drill/exec/planner/physical/WindowPrel.java    |  7 ++++---
 .../exec/physical/impl/window/TestWindowFrame.java | 23 +++++++++++-----------
 exec/java-exec/src/test/resources/window/q1.sql    |  6 ++++++
 exec/java-exec/src/test/resources/window/q2.sql    | 10 ++++++++++
 exec/java-exec/src/test/resources/window/q3218.sql |  5 +++++
 exec/java-exec/src/test/resources/window/q3220.sql |  3 +++
 7 files changed, 41 insertions(+), 17 deletions(-)

commit d5dc322d51f00f0ba9bde7022b164a409d3ca518
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Fri Jun 12 15:43:53 2015 -0700

    DRILL-1169 (conti): Rename folder name

 .../java/org/apache/drill/TestUnionDistinct.java   | 58 +++++++++++-----------
 .../q1.tsv                                         |  0
 .../q10.tsv                                        |  0
 .../q11.tsv                                        |  0
 .../q12.tsv                                        |  0
 .../q13.tsv                                        |  0
 .../q14.tsv                                        |  0
 .../q15.tsv                                        |  0
 .../q16.tsv                                        |  0
 .../q17.tsv                                        |  0
 .../q18_1.tsv                                      |  0
 .../q18_2.tsv                                      |  0
 .../q18_3.tsv                                      |  0
 .../q2.tsv                                         |  0
 .../q3.tsv                                         |  0
 .../q4.tsv                                         |  0
 .../q5.tsv                                         |  0
 .../q6.tsv                                         |  0
 .../q6_1.tsv                                       |  0
 .../q7.tsv                                         |  0
 .../q8.tsv                                         |  0
 .../q9.tsv                                         |  0
 .../testAggregationOnUnionDistinctOperator_1.tsv   |  0
 .../testAggregationOnUnionDistinctOperator_2.tsv   |  0
 ...ProjectDownOverUnionDistinctImplicitCasting.tsv |  0
 ...testProjectFiltertPushDownOverUnionDistinct.tsv |  0
 ...ProjectPushDownOverUnionDistinctWithProject.tsv |  0
 ...jectPushDownOverUnionDistinctWithoutProject.tsv |  0
 ...jectPushDownProjectColumnReorderingAndAlias.tsv |  0
 ...jectWithExpressionPushDownOverUnionDistinct.tsv |  0
 30 files changed, 29 insertions(+), 29 deletions(-)

commit 501165914458942f8cdb3f80bd9f953facd2dcb8
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Jun 10 15:54:06 2015 -0700

    DRILL-3273: Pass an empty DeferredObject to Hive UDFs for null argument value
    
    + Handle nulls in ObjectInspector implementations for Drill types.

 .../main/codegen/templates/ObjectInspectors.java   | 319 ++++++++++++---------
 .../apache/drill/exec/expr/fn/HiveFuncHolder.java  |   4 +-
 .../drill/exec/fn/hive/HiveTestUDFImpls.java       |   2 +-
 .../drill/exec/fn/hive/TestInbuiltHiveUDFs.java    |  46 +++
 .../drill/exec/fn/hive/TestSampleHiveUDFs.java     |   4 +-
 .../apache/drill/exec/hive/TestHiveStorage.java    |   6 +-
 .../exec/store/hive/HiveTestDataGenerator.java     |   3 +-
 7 files changed, 243 insertions(+), 141 deletions(-)

commit 45a82c4577b0c582202e02f5401a559b669dc992
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Wed Jun 3 16:55:42 2015 -0700

    DRILL-1169: Add Calcite's UnionToDistinctRule to DrillRuleSets to implement Union-Distinct

 .../drill/exec/planner/logical/DrillRuleSets.java  |   8 +-
 ...{DrillUnionRule.java => DrillUnionAllRule.java} |  12 +-
 .../drill/exec/planner/logical/DrillUnionRel.java  |   2 +
 .../sql/parser/UnsupportedOperatorsVisitor.java    |  11 -
 .../apache/drill/TestDisabledFunctionality.java    |  18 -
 .../java/org/apache/drill/TestUnionDistinct.java   | 683 +++++++++++++++++++++
 .../testframework/TestUnionDistinctQueries/q1.tsv  |   5 +
 .../testframework/TestUnionDistinctQueries/q10.tsv |  30 +
 .../testframework/TestUnionDistinctQueries/q11.tsv |  30 +
 .../testframework/TestUnionDistinctQueries/q12.tsv |  30 +
 .../testframework/TestUnionDistinctQueries/q13.tsv |  20 +
 .../testframework/TestUnionDistinctQueries/q14.tsv |  30 +
 .../testframework/TestUnionDistinctQueries/q15.tsv |   8 +
 .../testframework/TestUnionDistinctQueries/q16.tsv |   3 +
 .../testframework/TestUnionDistinctQueries/q17.tsv |   5 +
 .../TestUnionDistinctQueries/q18_1.tsv             |   4 +
 .../TestUnionDistinctQueries/q18_2.tsv             |  13 +
 .../TestUnionDistinctQueries/q18_3.tsv             |  13 +
 .../testframework/TestUnionDistinctQueries/q2.tsv  |   4 +
 .../testframework/TestUnionDistinctQueries/q3.tsv  |   5 +
 .../testframework/TestUnionDistinctQueries/q4.tsv  |  25 +
 .../testframework/TestUnionDistinctQueries/q5.tsv  |   5 +
 .../testframework/TestUnionDistinctQueries/q6.tsv  |   6 +
 .../TestUnionDistinctQueries/q6_1.tsv              |  25 +
 .../testframework/TestUnionDistinctQueries/q7.tsv  |   2 +
 .../testframework/TestUnionDistinctQueries/q8.tsv  |  30 +
 .../testframework/TestUnionDistinctQueries/q9.tsv  |  20 +
 .../testAggregationOnUnionDistinctOperator_1.tsv   |   4 +
 .../testAggregationOnUnionDistinctOperator_2.tsv   |   4 +
 ...ProjectDownOverUnionDistinctImplicitCasting.tsv |  10 +
 ...testProjectFiltertPushDownOverUnionDistinct.tsv |   6 +
 ...ProjectPushDownOverUnionDistinctWithProject.tsv |  30 +
 ...jectPushDownOverUnionDistinctWithoutProject.tsv |  30 +
 ...jectPushDownProjectColumnReorderingAndAlias.tsv |  30 +
 ...jectWithExpressionPushDownOverUnionDistinct.tsv |  30 +
 35 files changed, 1156 insertions(+), 35 deletions(-)

commit fb1d3f384e6c79a540e34e70f8268feb689208ee
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Jun 9 12:48:48 2015 -0700

    DRILL-1862: Create window function required distribution and collation traits conditionally.

 .../drill/exec/planner/physical/WindowPrule.java   | 28 ++++++++++++++-----
 .../exec/physical/impl/window/TestWindowFrame.java | 31 +++++++++++-----------
 2 files changed, 37 insertions(+), 22 deletions(-)

commit 3bccec9110c7ff86fa3cf04baa81a1747e1f5b9e
Author: adeneche <adeneche@gmail.com>
Date:   Fri Mar 13 10:06:32 2015 -0700

    DRILL-3200: Add Window functions: ROW_NUMBER, RANK, PERCENT_RANK, DENSE_RANK and CUME_DIST
    
    - enum WindowFrameRecordBatch.WindowFunction to handle supported window function and their corresponding output MajorType
    - renamed WindowFrameTemplate -> DefaultFrameTemplate, cleaned the template to handle the default frame efficiently:
     . a batch can be processed as soon as we find the last peer row of it's last row
     . once a batch is processed it can be safely released => we can transfer it's value vectors to the container instead of copying them
    - DefaultFrameTemplate.Partition tracks the current window frame and computes the following window functions automatically: row_number, rank, dense_rank, percent_rank, cume_dist. It doesn't need to aggregate the value vectors to compute these window functions
    - updated TestWindowFrame to check the results of row_number, rank, dense_rank, percent_rank and cume_dist in various cases
     . added a debug config option to MSorter to control the size of batches. This is needed by TestWindowFrame so it can use small test data files (20 rows per batch)
     . removed contrib/data/window-test-data
    - WindowFrameRecordBatch properly releases saved batches if the query stops prematurely
    - GenerateTestData can be used to generate test data for the window function unit tests [it's a work in progress and can be either improved to make it developer friendly or removed from the final patch]
    - using newly created WindowDataBatch in place of RecordDataBatch, to expose FragmentContext and VectorAccessible (fixes DRILL-3218)
    - window.enable is true by default

 contrib/data/pom.xml                               |    1 -
 contrib/data/window-test-data/pom.xml              |   64 --
 exec/java-exec/pom.xml                             |    6 -
 .../java/org/apache/drill/exec/ExecConstants.java  |    3 +-
 .../physical/impl/window/DefaultFrameTemplate.java |  320 +++++++
 .../drill/exec/physical/impl/window/Partition.java |   82 ++
 .../exec/physical/impl/window/WindowDataBatch.java |   93 ++
 .../impl/window/WindowFrameRecordBatch.java        |  216 +++--
 .../physical/impl/window/WindowFrameTemplate.java  |  379 --------
 .../exec/physical/impl/window/WindowFramer.java    |   21 +-
 .../exec/physical/impl/xsort/MSortTemplate.java    |   15 +-
 .../drill/exec/record/AbstractRecordBatch.java     |    6 +-
 .../apache/drill/TestDisabledFunctionality.java    |   13 -
 .../physical/impl/window/GenerateTestData.java     |  286 ++++++
 .../exec/physical/impl/window/TestWindowFrame.java |   91 +-
 .../src/test/resources/window/allData.csv          |    5 +
 .../src/test/resources/window/b1.p1.subs.tsv       |   20 +
 exec/java-exec/src/test/resources/window/b1.p1.tsv |   20 +
 .../src/test/resources/window/b1.p1/0.data.json    |   21 +
 .../src/test/resources/window/b1.p2.subs.tsv       |   20 +
 exec/java-exec/src/test/resources/window/b1.p2.tsv |   20 +
 .../src/test/resources/window/b1.p2/0.data.json    |   22 +
 .../src/test/resources/window/b2.p2.subs.tsv       |   40 +
 exec/java-exec/src/test/resources/window/b2.p2.tsv |   40 +
 .../src/test/resources/window/b2.p2/0.data.json    |   22 +
 .../src/test/resources/window/b2.p2/1.data.json    |   20 +
 .../src/test/resources/window/b2.p4.subs.tsv       |   40 +
 exec/java-exec/src/test/resources/window/b2.p4.tsv |   40 +
 .../src/test/resources/window/b2.p4/0.data.json    |   24 +
 .../src/test/resources/window/b2.p4/1.data.json    |   20 +
 .../src/test/resources/window/b3.p2.subs.tsv       |   60 ++
 exec/java-exec/src/test/resources/window/b3.p2.tsv |   60 ++
 .../src/test/resources/window/b3.p2/0.data.json    |   22 +
 .../src/test/resources/window/b3.p2/1.data.json    |   20 +
 .../src/test/resources/window/b3.p2/2.data.json    |   20 +
 .../src/test/resources/window/b4.p4.subs.tsv       |   80 ++
 exec/java-exec/src/test/resources/window/b4.p4.tsv |   80 ++
 .../src/test/resources/window/b4.p4/0.data.json    |   24 +
 .../src/test/resources/window/b4.p4/1.data.json    |   20 +
 .../src/test/resources/window/b4.p4/2.data.json    |   20 +
 .../src/test/resources/window/b4.p4/3.data.json    |   20 +
 .../src/test/resources/window/mediumData.json      | 1000 --------------------
 .../src/test/resources/window/oneKeyCount.json     |   43 -
 .../src/test/resources/window/oneKeyCountData.json |    4 -
 .../resources/window/oneKeyCountMultiBatch.json    |   72 --
 .../src/test/resources/window/twoKeys.json         |   44 -
 .../src/test/resources/window/twoKeysData.json     |    8 -
 47 files changed, 1812 insertions(+), 1755 deletions(-)

commit 453f6f7a8328658563b7704d1400a882857d104b
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Jun 1 11:09:16 2015 -0700

    DRILL-3196: Disable multiple partitions in a SELECT-CLAUSE

 .../sql/parser/UnsupportedOperatorsVisitor.java    | 65 +++++++++++---
 .../org/apache/drill/exec/TestWindowFunctions.java | 98 ++++++++++++++++++++++
 2 files changed, 152 insertions(+), 11 deletions(-)

commit 6796006f2df5aa598f3715be9de2a724b5c338e3
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Jun 8 10:24:38 2015 -0700

    DRILL-3260: Exclude servlet-api-2.5 artifact from distribution tar.gz

 pom.xml | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 93533835bdcaff018a6b6ee6ea5999f3c5659d70
Author: Na Yang <nyang@maprtec.com>
Date:   Wed May 27 14:50:18 2015 -0700

    DRILL-2952: Upgrade Hive storage plugin to work with Hive 1.0.0

 contrib/storage-hive/hive-exec-shade/pom.xml | 36 +++++++++++++++++++++++++++-
 1 file changed, 35 insertions(+), 1 deletion(-)

commit eaf7c8d77058af58795862a0e0fd510b130f457c
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri May 29 08:57:40 2015 -0700

    DRILL-3215: Resolve the default subschema correctly in DESCRIBE command.

 .../exec/hive/TestInfoSchemaOnHiveStorage.java     | 80 ++++++++++++++++++++--
 .../planner/sql/handlers/DescribeTableHandler.java | 17 ++++-
 2 files changed, 88 insertions(+), 9 deletions(-)

commit 2af6340da24cf40cc3512b728a460b84eb610dce
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Thu May 21 14:25:34 2015 -0700

    DRILL-3035: Created ControlsInjector interface to enforce method implementations
    + DRILL-2867: Add ControlsValidator to VALIDATORS only if assertions are enabled
    + return in ExecutionControls ctor if assertions are not enabled
    + added InjectorFactory class to align with the logger pattern

 .../drill/exec/memory/TopLevelAllocator.java       |   6 +-
 .../drill/exec/ops/AccountingDataTunnel.java       |   5 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |   5 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |   7 +-
 .../exec/physical/impl/SingleSenderCreator.java    |   6 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |   6 +-
 .../impl/partitionsender/PartitionerDecorator.java |   6 +-
 .../unorderedreceiver/UnorderedReceiverBatch.java  |   7 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |   7 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   5 +-
 .../org/apache/drill/exec/rpc/data/DataTunnel.java |   5 +-
 .../exec/server/options/SystemOptionManager.java   |  19 ++--
 .../drill/exec/store/pojo/PojoRecordReader.java    |   6 +-
 .../drill/exec/testing/ControlsInjector.java       | 108 +++++++++++++++++++++
 .../exec/testing/ControlsInjectorFactory.java      |  38 ++++++++
 .../drill/exec/testing/ExecutionControls.java      |   8 +-
 .../exec/testing/ExecutionControlsInjector.java    | 103 ++++----------------
 .../drill/exec/testing/NoOpControlsInjector.java   |  30 ++++--
 .../apache/drill/exec/work/foreman/Foreman.java    |   6 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |   5 +-
 .../exec/testing/TestCountDownLatchInjection.java  |   2 +-
 .../drill/exec/testing/TestExceptionInjection.java |   2 +-
 .../drill/exec/testing/TestPauseInjection.java     |   2 +-
 23 files changed, 256 insertions(+), 138 deletions(-)

commit d9452d973e1bfd7f0aa2e6c28b3e8c72817628a3
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon Jun 1 09:42:33 2015 -0700

    DRILL-3190: Check for transitions from CANCELLATION_REQUESTED state
    + Moved state transition checks to QueryManager

 .../drill/exec/work/foreman/FragmentData.java      | 28 +++++-----------------
 .../drill/exec/work/foreman/QueryManager.java      | 25 +++++++++++++++----
 2 files changed, 27 insertions(+), 26 deletions(-)

commit 1de6aed93efce8a524964371d96673b8ef192d89
Author: Steven Phillips <smp@apache.org>
Date:   Fri May 15 18:23:46 2015 -0700

    Update version for hadoop dependencies in mapr profile

 .../drill/exec/store/dfs/easy/EasyFormatPlugin.java      |  3 ++-
 .../exec/store/parquet/ParquetScanBatchCreator.java      |  2 +-
 exec/jdbc/pom.xml                                        |  4 +---
 pom.xml                                                  | 16 ++++++++--------
 4 files changed, 12 insertions(+), 13 deletions(-)

commit 287f52db0bd0125e0ad1b3408f22775224ee9494
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Jun 3 15:12:30 2015 -0700

    DRILL-3245: Fix error message for unsupported aggregate functions on varchar data type

 .../exec/expr/fn/impl/AggregateErrorFunctions.java | 87 ++++++++++++++++++++--
 1 file changed, 82 insertions(+), 5 deletions(-)

commit 09e46df0dada514aeca16cf80a71fa7179f1d8ce
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sat May 30 00:31:29 2015 -0700

    DRILL-3155: Part 2: Clear allocated memory for composite vectors if one of the allocations fails

 .../codegen/templates/NullableValueVectors.java    | 61 ++++++++++++++++++----
 .../codegen/templates/RepeatedValueVectors.java    | 52 ++++++++++++++----
 .../codegen/templates/VariableLengthVectors.java   | 46 ++++++++++------
 .../exec/vector/complex/AbstractMapVector.java     | 20 +++++--
 .../vector/complex/BaseRepeatedValueVector.java    | 20 +++++--
 .../exec/vector/complex/RepeatedMapVector.java     | 33 +++++++++---
 6 files changed, 185 insertions(+), 47 deletions(-)

commit 21de138161a12ff0d01542950601b7944e9526ed
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri May 29 14:47:23 2015 -0700

    DRILL-3155: Part 1: Move complex vectors logic in the correct package.

 .../codegen/templates/RepeatedValueVectors.java    |   4 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  |   2 +-
 .../physical/impl/flatten/FlattenTemplate.java     |   2 +-
 .../exec/physical/impl/flatten/Flattener.java      |   2 +-
 .../org/apache/drill/exec/store/VectorHolder.java  | 107 ---------------------
 .../columnreaders/FixedWidthRepeatedReader.java    |   4 +-
 .../parquet/columnreaders/ParquetRecordReader.java |   2 +-
 .../apache/drill/exec/vector/AllocationHelper.java |   3 +-
 .../apache/drill/exec/vector/RepeatedMutator.java  |  22 -----
 .../{ => complex}/BaseRepeatedValueVector.java     |   8 +-
 .../vector/{ => complex}/ContainerVectorLike.java  |   6 +-
 .../RepeatedFixedWidthVectorLike.java              |   8 +-
 .../exec/vector/complex/RepeatedListVector.java    |   5 -
 .../exec/vector/complex/RepeatedMapVector.java     |   4 -
 .../vector/{ => complex}/RepeatedValueVector.java  |   6 +-
 .../RepeatedVariableWidthVectorLike.java           |   8 +-
 16 files changed, 33 insertions(+), 160 deletions(-)

commit 69b39c110b21cdf467555312bff4df95cca055f6
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Thu May 21 14:19:33 2015 -0700

    DRILL-3166:  Cost model of functions should account for field reader arguments

 .../java/org/apache/drill/exec/resolver/TypeCastRules.java   | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit acf5566e81ca3fafe83309188499aabb2091b945
Author: dbarclay <dbarclay@maprtech.com>
Date:   Thu May 14 15:36:14 2015 -0700

    DRILL-3159: Part 2--Core: Make JDBC throttling threshold configurable.
    
    Added configuration/option "drill.jdbc.batch_queue_throttling_threshold".
    Applied "drill.jdbc.batch_queue_throttling_threshold" to DrillResultSetImpl.

 .../java/org/apache/drill/exec/ExecConstants.java  |  3 +++
 .../java-exec/src/main/resources/drill-module.conf |  4 ++++
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java | 24 +++++++++++++++++-----
 3 files changed, 26 insertions(+), 5 deletions(-)

commit 0c69631fb9e7ef19e503645d6433584a12de23d4
Author: dbarclay <dbarclay@maprtech.com>
Date:   Wed May 20 18:16:23 2015 -0700

    DRILL-3159: Part 1--Prep., Hyg. for: Make JDBC throttling threshold configurable.
    
    Cleaned, enhanced DrillResultSet:
    - Enhanced ResultsListener logging:
      - Added instance ID; added batch numbers.
      - Added logging at close (pairing with logging at construction).
      - Fixed 2-integer query ID to UUID form.
    - Renamed qrb -> qdb; q -> qdb (per recent QueryDataBatch change).
    - Added "final" on ResultsListener's logger.
    
    Reduced Avatica-vs.-Drill casting:
    - DrillStatementImpl's (Drill)Connection(Impl).
    - DrillResultSetImpl's (Drill)Statement(Impl).
    
    Converted a comment in ExecConstants.

 .../java/org/apache/drill/exec/ExecConstants.java  |  3 +-
 .../org/apache/drill/jdbc/DrillJdbc41Factory.java  | 11 ++-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java | 84 +++++++++++++++-------
 .../apache/drill/jdbc/impl/DrillStatementImpl.java |  5 +-
 4 files changed, 71 insertions(+), 32 deletions(-)

commit 71199edd54e1b9c4ede58c99eb7b6721878b4449
Author: dbarclay <dbarclay@maprtech.com>
Date:   Mon May 11 20:55:19 2015 -0700

    DRILL-3034: Apply UserException to port-binding; handle in embedded-Drill case.
    
    Applied UserException to can't-bind-to-port error.  [BasicServer]
    Added specific handling of UserException (above case or other) in SQLException
    wrapping.  [DrillConnectionImpl]

 .../main/java/org/apache/drill/exec/rpc/BasicServer.java   | 14 ++++++++++++--
 .../java/org/apache/drill/jdbc/DrillConnectionImpl.java    |  5 +++++
 2 files changed, 17 insertions(+), 2 deletions(-)

commit bca20655283d351d5f5c4090e9047419ff22c75e
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon May 18 13:58:01 2015 -0700

    DRILL-2746, DRILL-3130: Add two DrillRules to push Project and Filter below set operators

 .../logical/DrillProjectSetOpTransposeRule.java    |  31 +++
 .../drill/exec/planner/logical/DrillRuleSets.java  |  15 +-
 .../test/java/org/apache/drill/TestUnionAll.java   | 276 ++++++++++++++++++++-
 .../testProjectDownOverUnionAllImplicitCasting.tsv |  10 +
 .../testProjectFiltertPushDownOverUnionAll.tsv     |   6 +
 .../testProjectPushDownOverUnionAllWithProject.tsv |  30 +++
 ...stProjectPushDownOverUnionAllWithoutProject.tsv |  30 +++
 ...jectPushDownProjectColumnReorderingAndAlias.tsv |  30 +++
 ...stProjectWithExpressionPushDownOverUnionAll.tsv |  30 +++
 9 files changed, 448 insertions(+), 10 deletions(-)

commit b560864369abfd8d2d9234c78f0b97e0f6d4cfda
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Fri May 22 16:27:23 2015 -0700

    DRILL-3032: repeated vectors should handle late type && instantiate its children upon construction

 .../drill/exec/record/MaterializedField.java       |   4 -
 .../apache/drill/exec/record/VectorContainer.java  |  22 ++--
 .../drill/exec/vector/BaseRepeatedValueVector.java |   9 +-
 .../apache/drill/exec/vector/VectorDescriptor.java |  50 +++++++--
 .../exec/vector/complex/RepeatedListVector.java    |  22 ++--
 .../java/org/apache/drill/TestExampleQueries.java  | 121 +++++++++++----------
 .../test/resources/join/join-left-drill-3032.json  |   4 +
 .../test/resources/join/join-right-drill-3032.json |   3 +
 8 files changed, 140 insertions(+), 95 deletions(-)

commit a84eb583ad15eece9dca64b10eabdd32584cc20d
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon May 18 17:25:31 2015 -0700

    DRILL-3143: MaterializedField#clone should deep copy itself without disregarding its children

 .../main/codegen/templates/FixedValueVectors.java  |  2 +-
 .../codegen/templates/NullableValueVectors.java    |  2 +-
 .../codegen/templates/RepeatedValueVectors.java    |  2 +-
 .../codegen/templates/VariableLengthVectors.java   |  2 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |  2 +-
 .../drill/exec/record/MaterializedField.java       | 40 +++++++---
 .../apache/drill/exec/vector/BaseValueVector.java  |  2 +-
 .../org/apache/drill/exec/vector/BitVector.java    |  2 +-
 .../drill/exec/record/TestMaterializedField.java   | 87 ++++++++++++++++++++++
 9 files changed, 122 insertions(+), 19 deletions(-)

commit b7c99dde0286416ac036b90a597f18039e34e975
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Fri May 15 14:54:18 2015 -0700

    DRILL-3108: Replace templated returns with covariant return overrides

 .../drill/exec/vector/BaseDataValueVector.java     |  3 +--
 .../drill/exec/vector/BaseRepeatedValueVector.java |  4 +---
 .../apache/drill/exec/vector/BaseValueVector.java  |  3 +--
 .../drill/exec/vector/RepeatedValueVector.java     |  9 +++-----
 .../drill/exec/vector/SerializableVector.java      | 24 ----------------------
 .../org/apache/drill/exec/vector/ValueVector.java  | 17 ++++++---------
 .../exec/vector/complex/RepeatedListVector.java    |  3 +--
 7 files changed, 13 insertions(+), 50 deletions(-)

commit 21f86effea2905aad3c18491eb1bb3e7d865bdb3
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Sun May 10 16:52:08 2015 -0700

    DRILL-3019: In JsonReader, update atLeastOneWrite to true if writeListDataIfTyped and writeMapDataIfTyped write a value

 .../drill/exec/vector/complex/fn/JsonReader.java      |  2 ++
 .../exec/physical/impl/filter/TestLargeInClause.java  | 19 +++++++++++++++++++
 2 files changed, 21 insertions(+)

commit 6f54223e48f091cf5559b4f3035b4930a59992bf
Author: Chris Westin <cwestin@yahoo.com>
Date:   Wed May 20 12:00:40 2015 -0700

    DRILL-2923: Ensure all unit tests pass without assertions enabled Modified a number of tests not to use assert, but to instead use one of junit's assertTrue(), assertFalse(), or some other form. Modified test support code that used asserts to throw IllegalStateExceptions instead.

 .../drill/common/expression/PathSegmentTests.java  |   9 +-
 .../drill/exec/TestHivePartitionPruning.java       |  26 +--
 .../test/java/org/apache/drill/PlanTestBase.java   |  94 +++++----
 .../exec/compile/bytecode/ReplaceMethodInvoke.java |   7 +-
 .../exec/fn/interp/ExpressionInterpreterTest.java  | 132 ++++++-------
 .../impl/mergereceiver/TestMergingReceiver.java    |  77 ++++----
 .../exec/physical/impl/sort/TestSimpleSort.java    |  76 +++-----
 .../ischema/TestInfoSchemaFilterPushDown.java      |  49 ++---
 .../apache/drill/exec/store/parquet/FieldInfo.java |  26 ++-
 .../store/parquet/ParquetRecordReaderTest.java     | 216 +++++++++++----------
 .../exec/store/parquet/ParquetResultListener.java  |  66 ++++---
 .../complex/fn/TestJsonReaderWithSparseFiles.java  |  53 +++--
 .../exec/vector/complex/writer/TestRepeated.java   |  60 +++---
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java |  43 ++--
 .../jdbc/ResultSetGetMethodConversionsTest.java    |   7 +-
 .../drill/jdbc/proxy/TracingProxyDriverTest.java   |  20 +-
 ...28GetColumnsDataTypeNotTypeCodeIntBugsTest.java |  10 +-
 .../Drill2461IntervalsBreakInfoSchemaBugTest.java  |  32 +--
 ...ill2463GetNullsFailedWithAssertionsBugTest.java |  40 ++--
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |  43 ++--
 20 files changed, 522 insertions(+), 564 deletions(-)

commit 8e0f7039f753a6800a5b8b27ce014f75fe55e0c1
Author: Jinfeng Ni <jni@apache.org>
Date:   Wed May 20 13:50:50 2015 -0700

    DRILL-3004 : Fix CanNotPlan in physical planning when disabling hash join and exchange.
    
    Minor comment update.

 .../physical/DrillDistributionTraitDef.java        | 24 ++++++++-------------
 .../java/org/apache/drill/TestExampleQueries.java  | 25 ++++++++++++++++++++++
 2 files changed, 34 insertions(+), 15 deletions(-)

commit bd8ac4fca03ad5043bca27fbc7e0dec5a35ac474
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue May 19 20:08:33 2015 -0700

    Roll forward to 1.1.0-SNAPSHOT version

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/data/window-test-data/pom.xml        | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/pom.xml                                 | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 18 files changed, 18 insertions(+), 18 deletions(-)

commit 13a0c3c70991f29ca240adcac32b11b0d4fef21e
Author: Aditya Kishore <adi@apache.org>
Date:   Fri May 15 16:57:33 2015 -0700

    DRILL-3115: SQLLine colors do not work well with CYGWIN

 distribution/src/resources/sqlline | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit e877417028762c80a6f03259eee5c0edbfb981de
Author: Aditya Kishore <adi@apache.org>
Date:   Fri May 15 10:13:04 2015 -0700

    DRILL-3107: Dynamic partition pruning fails on Windows (TestDirectoryExplorerUDFs)

 exec/java-exec/src/main/codegen/templates/DirectoryExplorers.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d03a4d667182929edbc32066e04037ecce1db6d7
Author: Aditya Kishore <adi@apache.org>
Date:   Fri May 15 13:13:36 2015 -0700

    DRILL-3102: The doc link on Drill Web UI points to the old wiki page

 INSTALL.md                                         | 3 +--
 README.md                                          | 2 +-
 distribution/src/resources/README.md               | 2 +-
 exec/java-exec/src/main/resources/rest/generic.ftl | 2 +-
 exec/java-exec/src/main/resources/rest/options.ftl | 4 ++--
 5 files changed, 6 insertions(+), 7 deletions(-)

commit c9a9b7c9481e4ea7533a8271c5ba3201e12a346c
Author: Steven Phillips <smp@apache.org>
Date:   Fri May 15 15:12:18 2015 -0700

    Add bounds check in setByte() method

 exec/java-exec/src/main/java/io/netty/buffer/DrillBuf.java | 1 +
 1 file changed, 1 insertion(+)

commit e838abf8850726d039de47732eb5a713c8bf51ba
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu May 14 17:32:09 2015 -0700

    DRILL-3092: Fix memory leak risk near uses of RecordBatchData classes that need to have their resources freed upon an allocation or other runtime failure.

 .../drill/exec/physical/impl/TopN/TopNBatch.java   | 26 +++++----
 .../exec/physical/impl/join/HashJoinBatch.java     | 22 +++++---
 .../physical/impl/join/NestedLoopJoinBatch.java    | 12 ++++-
 .../impl/producer/ProducerConsumerBatch.java       |  2 +-
 .../exec/physical/impl/sort/RecordBatchData.java   |  7 +++
 .../physical/impl/xsort/ExternalSortBatch.java     | 62 ++++++++++++----------
 6 files changed, 85 insertions(+), 46 deletions(-)

commit 30f589204aeae2568a58efe595b5e516f4cddfed
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri May 15 16:50:01 2015 -0700

    DRILL-3110: Coerce Java's Direct OutOfMemoryErrors to look like reservation failures to follow existing Drill behavior paths.

 .../org/apache/drill/exec/memory/Accountor.java    |  4 +++
 .../drill/exec/memory/TopLevelAllocator.java       | 35 +++++++++++++++++-----
 2 files changed, 31 insertions(+), 8 deletions(-)

commit dd35b270fdb91dc6387f541f889bd64c721eef04
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri May 15 16:19:02 2015 -0700

    Update sqlline for small rc0 issues.

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d8b19759657698581cc0d01d7038797952888123
Author: Aditya Kishore <adi@apache.org>
Date:   Thu May 14 22:00:34 2015 -0700

    DRILL-3100: TestImpersonationDisabledWithMiniDFS fails on Windows

 .../exec/impersonation/TestImpersonationDisabledWithMiniDFS.java     | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 36ff259078f3fa9ebc2fb552eaedc8ce14298636
Author: Aditya Kishore <adi@apache.org>
Date:   Thu May 14 21:56:13 2015 -0700

    DRILL-3099: FileSelection's selectionRoot does not include the scheme and authority

 .../org/apache/drill/exec/store/dfs/FileSelection.java | 18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit 984ee012ae0e0a42efa1b6512d7c14dd7f287d1a
Author: Aditya Kishore <adi@apache.org>
Date:   Thu May 14 21:51:18 2015 -0700

    DRILL-3098: Set Unix style "line.separator" for tests

 common/src/test/java/org/apache/drill/test/DrillTest.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 7c7824443d8a6621bfe76f384c0598b511fb25b8
Author: Aditya Kishore <adi@apache.org>
Date:   Thu May 14 16:11:08 2015 -0700

    DRILL-3089: Revert to 2 forked test and allow override from command line

 pom.xml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 69582463c12ecb4d9ed987ceca1e13d17b75d7e0
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu May 14 21:56:14 2015 -0700

    When interrupt terminating  RPC bus waitForSendComplete, make sure to release buffers.

 .../main/java/org/apache/drill/exec/rpc/RpcBus.java   | 19 +++++++++----------
 1 file changed, 9 insertions(+), 10 deletions(-)

commit 62a73bcd82464b0a48a234e09040ed069033b848
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu May 14 21:55:44 2015 -0700

    Fix PartitionSenderRootExec possible memory leak.

 .../partitionsender/PartitionSenderRootExec.java   | 41 ++++++++++++++--------
 1 file changed, 26 insertions(+), 15 deletions(-)

commit aaf9fb834e02b9a3483758dd6eb475cc781db866
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu May 14 20:07:29 2015 -0700

    DRILL-3052, DRILL-3066: Improve fragment state management in face of early cancellation.

 .../drill/exec/work/fragment/FragmentExecutor.java | 106 +++++++++++----------
 1 file changed, 56 insertions(+), 50 deletions(-)

commit 4b0b3a67ab5e2db2baf34250bdedb174fce648ad
Author: Parth Chandra <parthc@apache.org>
Date:   Thu May 14 12:27:40 2015 -0700

    DRILL-3081: Populate connection name as late as possible so RPC error messages are reported correctly.

 .../org/apache/drill/exec/rpc/BasicClient.java     | 15 ++++++++--
 .../drill/exec/rpc/BasicClientWithConnection.java  |  1 +
 .../org/apache/drill/exec/rpc/BasicServer.java     | 16 ++++++-----
 .../apache/drill/exec/rpc/RemoteConnection.java    |  8 ++++--
 .../java/org/apache/drill/exec/rpc/RpcBus.java     | 32 ++++++++++++++++------
 .../apache/drill/exec/rpc/RpcExceptionHandler.java | 13 +++++----
 .../drill/exec/rpc/control/ControlClient.java      |  3 +-
 .../drill/exec/rpc/control/ControlServer.java      |  1 +
 .../org/apache/drill/exec/rpc/data/DataClient.java |  1 +
 .../org/apache/drill/exec/rpc/data/DataServer.java |  1 +
 .../org/apache/drill/exec/rpc/user/UserServer.java |  1 +
 11 files changed, 65 insertions(+), 27 deletions(-)

commit f0b3671d60d92800411d81ad283430d0eef01c96
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu May 14 18:09:11 2015 -0700

    Update configuration defaults.  Rename bounds system property to drill.enable_unsafe_memory_access.

 .../src/main/java/org/apache/drill/exec/util/AssertionUtil.java         | 2 +-
 exec/java-exec/src/main/resources/drill-module.conf                     | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 22d6465e0037b84bd5749a2b3654de1de21bb9de
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu May 14 13:41:26 2015 -0700

    Update sys.options table to only show options available via ALTER SYSTEM or ALTER SESSION.  Move BOOT options to sys.boot table.

 .../drill/exec/server/options/OptionValue.java     |   7 +-
 .../drill/exec/store/sys/OptionIterator.java       | 126 +++++++++++++++++++++
 .../apache/drill/exec/store/sys/SystemTable.java   |  84 ++------------
 3 files changed, 143 insertions(+), 74 deletions(-)

commit 7fccf7e1fd9f108edbd5bf177339173d900b89a3
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu May 14 12:19:46 2015 -0700

    In the case of extended RPC message handling, write warning to log

 .../src/main/java/org/apache/drill/exec/rpc/RpcBus.java       | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit 3c879974837ce78c5041f3492519e9ea94fc4a5a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu May 14 09:16:41 2015 -0700

    Update Drill to use latest sqlline

 distribution/src/resources/sqlline | 4 +++-
 pom.xml                            | 4 ++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit eca6cd7136557273e4ff933f12dc3f24756a9cda
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu May 14 10:13:35 2015 -0700

    Add convenience drill-* executables for sqlline.  Rename drill_dumpcat to dumpcat

 distribution/src/assemble/bin.xml                  | 17 ++++++++++++++++-
 distribution/src/resources/drill-conf              | 22 ++++++++++++++++++++++
 distribution/src/resources/drill-embedded          | 22 ++++++++++++++++++++++
 distribution/src/resources/drill-localhost         | 22 ++++++++++++++++++++++
 .../src/resources/{drill_dumpcat => dumpcat}       |  0
 5 files changed, 82 insertions(+), 1 deletion(-)

commit 4dcb3e75643b71daa7f458e1824ac7eb7fc10cde
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed May 13 19:42:24 2015 -0700

    DRILL-3072: Update root fragment to not to modify the Foreman state directly.
    
    Instead use RPC mechanism to send and receive status updates

 .../apache/drill/exec/work/foreman/Foreman.java    |  9 +++--
 .../drill/exec/work/foreman/QueryManager.java      | 47 ++++++----------------
 2 files changed, 17 insertions(+), 39 deletions(-)

commit e58a30638fd7fc700b1e93d05503ddb7a7b76643
Author: Chris Westin <cwestin@yahoo.com>
Date:   Thu May 14 15:53:05 2015 -0700

    DRILL-3063: TestQueriesOnLargeFile leaks memory with 16M limit
    Changed the cleanup handling at the end of ImplCreator.getExec(), and
    handle the newly returned null value in FragmentExecutor.run().

 .../org/apache/drill/exec/physical/impl/ImplCreator.java    | 13 ++++++-------
 .../apache/drill/exec/work/fragment/FragmentExecutor.java   |  3 +++
 2 files changed, 9 insertions(+), 7 deletions(-)

commit bef60f58a79b6bb41c06d59897577d7f7017c526
Author: adeneche <adeneche@gmail.com>
Date:   Tue May 12 10:53:32 2015 -0700

    DRILL-3061: Fix memory leaks in TestDrillbitResilience
    
    - fixes a race condition in WorkEventBus
    -  marking TestDrillbitResilience with @Ignore

 .../drill/exec/rpc/control/WorkEventBus.java       |  16 +-
 .../org/apache/drill/exec/rpc/data/DataServer.java |   2 +-
 .../org/apache/drill/exec/ZookeeperHelper.java     |  14 +-
 .../drill/exec/server/TestDrillbitResilience.java  | 190 ++++++++++++++++++---
 4 files changed, 190 insertions(+), 32 deletions(-)

commit c5f1c83f26e65ab71955898e875fdf2c3f681953
Author: Parth Chandra <parthc@apache.org>
Date:   Wed May 13 15:42:06 2015 -0700

    Add measurement of time taken to start a thread in timed runnable

 .../org/apache/drill/exec/store/TimedRunnable.java    | 19 ++++++++++++++++++-
 1 file changed, 18 insertions(+), 1 deletion(-)

commit 5c4a9b2129dc7c2ae4a4fca9640ddbf990da126b
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Wed May 13 17:17:53 2015 -0700

    DRILL-3065: Ensure the selection vectors in mSort to be closed after failure happens

 .../physical/impl/xsort/ExternalSortBatch.java     | 15 ++++++
 .../exec/physical/impl/xsort/MSortTemplate.java    | 11 +++++
 .../drill/exec/physical/impl/xsort/MSorter.java    |  1 +
 .../drill/exec/server/TestDrillbitResilience.java  | 54 +++++++++++++++++++++-
 4 files changed, 79 insertions(+), 2 deletions(-)

commit 7f575df33b6cf553c69de011ff46efa69ba0cca4
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu May 14 17:55:48 2015 -0700

    DRILL-3093: Close raw batch buffers in data collectors

 .../java/org/apache/drill/common/AutoCloseables.java   | 18 ++++++++++++++++++
 .../impl/mergereceiver/MergingRecordBatch.java         |  6 ------
 .../impl/unorderedreceiver/UnorderedReceiverBatch.java |  1 -
 .../drill/exec/record/RawFragmentBatchProvider.java    |  3 +--
 .../drill/exec/work/batch/AbstractDataCollector.java   |  4 +++-
 .../drill/exec/work/batch/BaseRawBatchBuffer.java      |  2 +-
 .../apache/drill/exec/work/batch/DataCollector.java    |  2 +-
 .../apache/drill/exec/work/batch/IncomingBuffers.java  |  7 +++----
 .../drill/exec/work/batch/SpoolingRawBatchBuffer.java  |  5 +++--
 9 files changed, 30 insertions(+), 18 deletions(-)

commit 16ef62851403cf5eb9984671b332d93912c61f0c
Author: Steven Phillips <smp@apache.org>
Date:   Wed May 13 20:37:00 2015 -0700

    DRILL-2875: Show record number relative to beginning of file in JsonRecordReader

 .../apache/drill/exec/store/easy/json/JSONRecordReader.java  | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 80e3f74f3951d84c3209e6910440f2b0378cbd6f
Author: Steven Phillips <smp@apache.org>
Date:   Thu May 14 15:44:52 2015 -0700

    DRILL-3088: Kill and cleanup remaing batches in left upstream in NestedLoopJoin

 .../exec/physical/impl/join/NestedLoopJoinBatch.java | 20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit f7f6efc525cd833ce1530deae32eb9ccb20b664a
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed May 13 16:36:41 2015 -0700

    DRILL-3071: fix memory leak in RecordBatchLoader#load

 .../drill/exec/record/RecordBatchLoader.java       | 114 +++++++++++----------
 1 file changed, 62 insertions(+), 52 deletions(-)

commit 583ca4a95df2c45b5ba20b517cb1aeed48c7548e
Author: adeneche <adeneche@gmail.com>
Date:   Wed May 13 09:45:23 2015 -0700

    DRILL-3053: add unchecked exception injection site in ChildAllocator

 .../common/exceptions/DrillRuntimeException.java   |  2 +-
 .../drill/common/exceptions/UserException.java     |  1 +
 .../drill/exec/memory/TopLevelAllocator.java       | 25 +++++--
 .../exec/testing/ExecutionControlsInjector.java    | 18 +++++
 .../org/apache/drill/TestAllocationException.java  | 82 ++++++++++++++++++++++
 5 files changed, 122 insertions(+), 6 deletions(-)

commit f63dac9dc9d65624712932fe0527726626d304cc
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed May 13 19:30:33 2015 -0700

    DRILL-3080: Fix queue failure messages.

 .../src/main/java/org/apache/drill/exec/work/foreman/Foreman.java       | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 49940b887aa8c31c7f5a435ce365294b7a082870
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed May 13 18:31:33 2015 -0700

    DRILL-3062:  Rtrim the fixed char strings in the IN list for comparison with varchar columns.

 .../drill/exec/planner/logical/DrillValuesRel.java       |  7 ++++++-
 .../exec/physical/impl/filter/TestLargeInClause.java     | 16 ++++++++++++++++
 2 files changed, 22 insertions(+), 1 deletion(-)

commit 97a63168e93a70c7ed88d2e801dd2ea2e5f1dd74
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed May 13 17:17:35 2015 -0700

    DRILL-3069: Fix StreamingAggBatch to appropriately set current index when it receives empty batches

 .../impl/aggregate/StreamingAggTemplate.java       |  1 +
 .../drill/exec/fn/impl/TestAggregateFunctions.java | 34 ++++++++++++++++++++++
 .../src/test/resources/agg/bugs/drill3069/1.json   |  2 ++
 .../src/test/resources/agg/bugs/drill3069/2.json   |  2 ++
 .../src/test/resources/agg/bugs/drill3069/3.json   |  2 ++
 5 files changed, 41 insertions(+)

commit b1b75f6abc56ed1ba097e20bdce81e7992396180
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed May 13 17:56:14 2015 -0700

    DRILL-3074: Fix infinite loop issue in ReconnectingConnection
    
    Also use the remaining timeout incase of interruption

 .../java/org/apache/drill/exec/rpc/BasicClient.java     | 17 +++++++++--------
 .../apache/drill/exec/rpc/ReconnectingConnection.java   | 17 ++++++++++-------
 2 files changed, 19 insertions(+), 15 deletions(-)

commit 4ad426117512b1a6ec65ab15274ebc33db33b5a8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed May 13 12:55:01 2015 -0700

    DRILL-3079: Move execution fragment json parsing from RPC message to fragment start.

 .../exec/planner/fragment/SimpleParallelizer.java  |   55 +-
 .../exec/work/batch/AbstractDataCollector.java     |   38 +-
 .../exec/work/batch/ControlMessageHandler.java     |    5 +-
 .../drill/exec/work/batch/IncomingBuffers.java     |   52 +-
 .../drill/exec/work/batch/MergingCollector.java    |    6 +-
 .../exec/work/batch/PartitionedCollector.java      |    6 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |    9 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |   36 +-
 .../exec/work/fragment/NonRootFragmentManager.java |   15 +-
 .../org/apache/drill/exec/proto/BitControl.java    | 1531 +++++++++++++++++---
 .../apache/drill/exec/proto/SchemaBitControl.java  |  141 ++
 .../apache/drill/exec/proto/beans/Collector.java   |  239 +++
 .../drill/exec/proto/beans/PlanFragment.java       |   34 +
 protocol/src/main/protobuf/BitControl.proto        |    8 +
 14 files changed, 1870 insertions(+), 305 deletions(-)

commit 814f553f2fe58c6d2d2095fbf71158fcda424658
Author: Steven Phillips <smp@apache.org>
Date:   Wed May 6 20:01:35 2015 -0700

    DRILL-2936: Use SpoolingRawBatchBuffer for HashToMergeExchange
    In order to avoid deadlocks
    
    Refactored common code in UnlimitedRawBatchBuffer and SpoolingRawBatchBuffer
     into BaseRawBatchBuffer
    
    Removed reflection-based construction of RawBatchBuffer. Now use choose implementation
     based on plan
    
    Updated SpoolingRawBatchBuffer to use a separate thread for spooling

 .../src/main/java/io/netty/buffer/DrillBuf.java    |   2 +-
 .../drill/exec/physical/base/AbstractReceiver.java |   9 +-
 .../apache/drill/exec/physical/base/Receiver.java  |   3 +
 .../exec/physical/config/BroadcastExchange.java    |   2 +-
 .../exec/physical/config/HashToMergeExchange.java  |   2 +-
 .../exec/physical/config/HashToRandomExchange.java |   8 +-
 .../exec/physical/config/MergingReceiverPOP.java   |   5 +-
 .../physical/config/OrderedPartitionExchange.java  |   2 +-
 .../exec/physical/config/SingleMergeExchange.java  |   2 +-
 .../drill/exec/physical/config/UnionExchange.java  |   2 +-
 .../physical/config/UnorderedDeMuxExchange.java    |   2 +-
 .../exec/physical/config/UnorderedMuxExchange.java |   2 +-
 .../exec/physical/config/UnorderedReceiver.java    |   5 +-
 .../apache/drill/exec/record/RawFragmentBatch.java |  20 +-
 .../drill/exec/store/LocalSyncableFileSystem.java  |  20 +-
 .../exec/work/batch/AbstractDataCollector.java     |  17 +-
 .../drill/exec/work/batch/BaseRawBatchBuffer.java  | 249 ++++++++++++
 .../drill/exec/work/batch/RawBatchBuffer.java      |   5 -
 .../exec/work/batch/SpoolingRawBatchBuffer.java    | 450 ++++++++++++++-------
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   | 200 ++-------
 .../java-exec/src/main/resources/drill-module.conf |   3 +-
 .../drill/exec/work/batch/TestSpoolingBuffer.java  |   4 +-
 .../exec/work/batch/TestUnlimitedBatchBuffer.java  | 166 --------
 23 files changed, 672 insertions(+), 508 deletions(-)

commit c04a8f9fe0973d07c99dd3a2e2ddb4fd8b295814
Author: adeneche <adeneche@gmail.com>
Date:   Wed May 13 11:48:23 2015 -0700

    DRILL-3046: Release data buffers when interrupt occurs in DataTunnel.sendRecordBatch

 .../src/main/java/org/apache/drill/exec/rpc/data/DataTunnel.java     | 5 +++++
 .../java/org/apache/drill/exec/server/TestDrillbitResilience.java    | 5 ++++-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit 0328c4c1b06c00529f17b468b389284cee515a56
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue May 12 22:57:11 2015 -0700

    DRILL-3037: Fix impersonation issue with HDFS based filesystem plugins.
    
    We have common code where we impersonate the owner of scan (proxy user) while creating
    a filesystem object. When impersonation is enabled the proxy user is either query
    user or view owner (if the query involves views). When impersonation is disabled the
    proxy user is always the user who started Drillbit (processUser). This causes problems
    as "processUser" tries to impersonate "processUser" when impersonation is disabled.
    HDFS based filesystems which have impersonation disabled prohibit this (even the self
    impersonation).
    
    Fix is don't impersonate "processUser". If the given proxy user name is same as
    "processUser", then return the process UserGroupInformation directly instead of
    proxy UserGroupInformation.

 .../apache/drill/exec/util/ImpersonationUtil.java  |  5 ++
 .../exec/impersonation/BaseTestImpersonation.java  | 26 +++++--
 .../TestImpersonationDisabledWithMiniDFS.java      | 80 ++++++++++++++++++++++
 .../impersonation/TestImpersonationMetadata.java   | 14 ++++
 4 files changed, 121 insertions(+), 4 deletions(-)

commit 97a01b2c6f871efa6ad74baeeb7a61bb6f9d481c
Author: dbarclay <dbarclay@maprtech.com>
Date:   Sat May 9 22:19:49 2015 -0700

    DRILL-3020: Copy cause exception's message to thrown SQLException's message.
    
    Changed SQLException construction to set SQLException's message to the cause
    exception's toString().
    
    Also:
    - Narrowed one SQLException to SQLNonTransientConnectionException (not other
      two, since unclear whether transient, non-transient, or varied).
    - Clarified/simplified exception messages.
    - Fixed message typo.

 .../java/org/apache/drill/jdbc/DrillConnectionImpl.java | 17 +++++++++++++----
 .../main/java/org/apache/drill/jdbc/DrillCursor.java    |  4 ++--
 2 files changed, 15 insertions(+), 6 deletions(-)

commit 091122c4e651f1585118fcbf1a092627de03f0e4
Author: dbarclay <dbarclay@maprtech.com>
Date:   Sat May 9 22:17:35 2015 -0700

    DRILL-2993: Unthrottle at cancel() to fix post-cancelation hangs.
    
    Added unthrottling in close().
    Cleaned up throttling logic code:
    - Applied AtomicBoolean to eliminate race conditions.
    - Extracted methods for starting/stopping throttling.
    
    Made small edits to some message:
    - Fixed missed, inconsistent ResultsListener log messages.
    - Clarified exception message.

 .../apache/drill/jdbc/impl/DrillResultSetImpl.java | 70 ++++++++++++++++++----
 1 file changed, 57 insertions(+), 13 deletions(-)

commit ffbb9c7adc6360744bee186e1f69d47dc743f73e
Author: Parth Chandra <parthc@apache.org>
Date:   Fri May 8 17:53:39 2015 -0700

    DRILL-2998: Implement heartbeat in C++ client

 contrib/native/client/example/querySubmitter.cpp   |   3 +-
 .../native/client/src/clientlib/drillClient.cpp    |  18 +
 .../client/src/clientlib/drillClientImpl.cpp       | 171 +++++-
 .../client/src/clientlib/drillClientImpl.hpp       |  36 +-
 contrib/native/client/src/include/drill/common.hpp |   3 +-
 .../client/src/include/drill/drillClient.hpp       |   7 +
 .../native/client/src/protobuf/BitControl.pb.cc    | 570 ++++++++++++-----
 contrib/native/client/src/protobuf/BitControl.pb.h | 441 ++++++++++----
 .../native/client/src/protobuf/GeneralRPC.pb.cc    |  10 +-
 contrib/native/client/src/protobuf/GeneralRPC.pb.h |   6 +-
 contrib/native/client/src/protobuf/User.pb.cc      |  83 ++-
 contrib/native/client/src/protobuf/User.pb.h       |  37 +-
 .../native/client/src/protobuf/UserBitShared.pb.cc | 674 +++++++++++++++++----
 .../native/client/src/protobuf/UserBitShared.pb.h  | 614 ++++++++++++++++++-
 14 files changed, 2215 insertions(+), 458 deletions(-)

commit d1526f9462f6817a76631464ff332bb99b3bdf28
Author: Chris Westin <cwestin@yahoo.com>
Date:   Tue May 12 21:00:57 2015 -0700

    DRILL-2750: Running 1 or more queries against Drillbits having insufficient DirectMem renders the Drillbits in an unusable state
    
    Fix memory leaks found at operator tree construction time if there is an
    allocation failure.

 .../org/apache/drill/common/AutoCloseables.java    |  2 +-
 .../drill/exec/memory/TopLevelAllocator.java       |  2 +-
 .../drill/exec/physical/impl/ImplCreator.java      | 35 ++++++++-----
 .../physical/impl/aggregate/HashAggTemplate.java   | 59 ++++++++++++----------
 .../physical/impl/common/HashTableTemplate.java    | 47 ++++++++++-------
 .../physical/impl/xsort/ExternalSortBatch.java     | 39 +++++++-------
 6 files changed, 108 insertions(+), 76 deletions(-)

commit 880dff8e2679871267a776c03d0dd72d9893a309
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Sun May 3 10:29:47 2015 -0700

    DRILL-2229: For SqlParseException, SqlUnsupportedException, throw UserException

 .../main/java/org/apache/drill/exec/planner/sql/DrillSqlWorker.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit ce3343f676d556be283dfcc129db1d9b9e99f6fd
Author: Aman Sinha <asinha@mapr.com>
Date:   Tue May 12 18:14:43 2015 -0700

    DRILL-3009: Bump up Calcite version to 1.1.0-drill-r7 (For IN list threshold).

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4199e6bb37804bdf1925f050aaa60fd263b00f98
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Fri May 8 16:45:15 2015 -0700

    DRILL-2976: Part 2 - disable extended json in the default convert_toJSON method, the functionality is still accessible in a new convert_toComplexJSON method.
    
    Added unit tests for both versions of the function (in the case of the simple json version I added result verification to an old test)
    
    Address Mehant's review comments.
    
    Fix failing unit test to turn on now disabled option for using extended types in written json files.

 .../java/org/apache/drill/common/types/Types.java  |  1 +
 .../exec/expr/fn/impl/conv/JsonConvertTo.java      | 18 +++++--
 .../exec/physical/impl/TestConvertFunctions.java   | 62 ++++++++++++++++++++--
 .../vector/complex/writer/TestExtendedTypes.java   | 32 +++++++----
 4 files changed, 94 insertions(+), 19 deletions(-)

commit 4c8ccedf387a8e3539f8eaabdcbc7945655d11e9
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Wed May 6 17:09:35 2015 -0700

    DRILL-2976: Default extended types option for json writer is false

 exec/java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 83d8ebe60d9e5e8c5b842dff223f87739aea0a6c
Author: Steven Phillips <smp@apache.org>
Date:   Tue May 12 18:19:49 2015 -0700

    DRILL-3051: Fix integer overflow in TimedRunnable
    
    also fixes a similar overflow in Foreman

 .../main/java/org/apache/drill/exec/store/TimedRunnable.java |  2 +-
 .../java/org/apache/drill/exec/work/foreman/Foreman.java     |  2 +-
 .../java/org/apache/drill/exec/store/TestTimedRunnable.java  | 12 ++++++++++++
 3 files changed, 14 insertions(+), 2 deletions(-)

commit b3d097b03e37a57494262051a76a824a957e8605
Author: Steven Phillips <smp@apache.org>
Date:   Tue May 12 18:05:34 2015 -0700

    DRILL-3050: Increase QueryContext max allocation to 256MB

 .../java-exec/src/main/java/org/apache/drill/exec/ops/QueryContext.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 01a36f1e81fee08a5f7af204ac8cbdbf8d74a0b2
Author: Steven Phillips <smp@apache.org>
Date:   Tue May 12 17:55:54 2015 -0700

    DRILL-3049: Increase sort spooling threshold

 exec/java-exec/src/main/resources/drill-module.conf | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 20b36885c12b93af1fcfeda81ac35eada8436903
Author: Steven Phillips <smp@apache.org>
Date:   Tue May 12 17:49:12 2015 -0700

    DRILL-3048: Disable assertions by default in distribution

 distribution/src/resources/drill-env.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 361631056ad00ab5f7df1eeed50d95f654f642a3
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue May 12 10:23:38 2015 -0700

    DRILL-2755: (part2) Use and handle InterruptedException during query processing

 .../java/org/apache/drill/exec/ExecConstants.java  |  9 ++++
 .../drill/exec/ops/AccountingDataTunnel.java       | 11 +++++
 .../java/org/apache/drill/exec/ops/Consumer.java   |  5 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  8 ++++
 .../org/apache/drill/exec/ops/StatusHandler.java   |  6 +++
 .../exec/physical/impl/SingleSenderCreator.java    |  8 +++-
 .../impl/mergereceiver/MergingRecordBatch.java     | 10 ++++
 .../impl/partitionsender/PartitionerDecorator.java |  1 +
 .../unorderedreceiver/UnorderedReceiverBatch.java  | 10 ++++
 .../drill/exec/rpc/BaseRpcOutcomeListener.java     |  7 ++-
 .../org/apache/drill/exec/rpc/BasicClient.java     | 53 +++++++++++++++++-----
 .../apache/drill/exec/rpc/DrillRpcFutureImpl.java  | 17 +++----
 .../apache/drill/exec/rpc/FutureBitCommand.java    |  6 +++
 .../apache/drill/exec/rpc/ListeningCommand.java    |  4 ++
 .../drill/exec/rpc/ReconnectingConnection.java     | 51 ++++++++++++++-------
 .../apache/drill/exec/rpc/RemoteConnection.java    |  3 +-
 .../apache/drill/exec/rpc/RpcOutcomeListener.java  | 14 +++++-
 .../org/apache/drill/exec/rpc/data/DataTunnel.java | 42 ++++++++++++++++-
 .../drill/exec/rpc/user/QueryResultHandler.java    | 14 +++++-
 .../drill/exec/testing/NoOpControlsInjector.java   |  5 ++
 .../apache/drill/exec/work/foreman/Foreman.java    | 40 ++++++++++++++--
 .../drill/exec/work/foreman/QueryManager.java      |  6 +++
 .../drill/exec/work/fragment/FragmentExecutor.java |  3 ++
 .../java-exec/src/main/resources/drill-module.conf |  5 +-
 .../org/apache/drill/exec/ZookeeperHelper.java     |  7 ++-
 .../org/apache/drill/exec/server/TestBitRpc.java   |  4 ++
 .../drill/exec/server/TestDrillbitResilience.java  |  8 ++++
 27 files changed, 303 insertions(+), 54 deletions(-)

commit ed200e257249e67176a259bab0d607841bf37fa4
Author: Steven Phillips <smp@apache.org>
Date:   Sun May 10 02:33:14 2015 -0700

    DRILL-2780: Check for open files when closing OperatorContext

 .../org/apache/drill/exec/ops/OperatorContext.java |   5 +
 .../apache/drill/exec/ops/OperatorContextImpl.java |  22 ++++
 .../drill/exec/store/dfs/DrillFileSystem.java      |  42 +++----
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   2 +-
 .../store/parquet/ParquetScanBatchCreator.java     |   2 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |   2 +-
 .../drill/exec/testing/TestResourceLeak.java       | 126 +++++++++++++++++++++
 .../test/resources/memory/tpch01_memory_leak.sql   |  22 ++++
 8 files changed, 195 insertions(+), 28 deletions(-)

commit 6d7cda8eaf9963dbedba560aef5d1786ff2b86d9
Author: Patrick Wong <pwong@maprtech.com>
Date:   Wed May 6 00:49:20 2015 +0000

    DRILL-2528 - make sure DrillResultSet is accurately preserved in drill-jdbc-all

 exec/jdbc-all/pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit 720db09b899d65781c3cc83f57094d42ed5c6c8a
Author: rinukonda <rinukonda@maprtech.com>
Date:   Fri May 8 13:42:38 2015 -0700

    DRILL-1662: Decrease drillbit kill -9 timeout in shutdown script to 120 seconds

 distribution/src/resources/drillbit.sh | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit da70b63fb63419414f54b3159f7e92694039d1da
Author: Chris Westin <cwestin@yahoo.com>
Date:   Mon May 11 22:06:30 2015 -0700

    DRILL-3033: Add memory leak fixes found so far in DRILL-1942 to 1.0.0 Fixes some missing buffer retains() and missing vector clears().

 .../main/codegen/templates/FixedValueVectors.java  |   9 +-
 .../codegen/templates/NullableValueVectors.java    |  75 +++----
 .../codegen/templates/VariableLengthVectors.java   | 111 +++++-----
 .../exec/cache/VectorAccessibleSerializable.java   |  12 +-
 .../apache/drill/exec/memory/BufferAllocator.java  |   3 +
 .../physical/impl/TopN/PriorityQueueTemplate.java  |  17 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  44 ++--
 .../exec/physical/impl/join/MergeJoinBatch.java    |   1 +
 .../physical/impl/join/MergeJoinBatchBuilder.java  |  18 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |   2 +
 .../OrderedPartitionRecordBatch.java               | 226 +++++++++++----------
 .../drill/exec/physical/impl/sort/SortBatch.java   |   1 +
 .../physical/impl/sort/SortRecordBatchBuilder.java |  15 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |   5 +
 .../exec/physical/impl/xsort/MSortTemplate.java    |  10 +-
 .../impl/xsort/PriorityQueueCopierTemplate.java    |   7 +-
 .../apache/drill/exec/record/WritableBatch.java    |  55 ++---
 .../org/apache/drill/exec/vector/BitVector.java    |   2 +
 .../exec/vector/complex/AbstractMapVector.java     |   9 +
 .../drill/exec/vector/complex/MapVector.java       |  10 +
 .../drill/exec/record/vector/TestValueVector.java  |  37 ++--
 21 files changed, 376 insertions(+), 293 deletions(-)

commit d10769f478900ff1868d206086874bdd67a45e7d
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon May 11 16:31:42 2015 -0700

    DRILL-1980: Add support for CTAS with interval data type.
    Modify ParquetOutputRecordWriter to be able to write interval day, interval year and interval data type into parquet.
    Modify the two parquet readers to be able to read interval data type from parquet file
    
    Add unit tests

 .../templates/ParquetOutputRecordWriter.java       | 37 +++++++--
 .../main/codegen/templates/ParquetTypeHelper.java  | 10 ++-
 .../exec/store/parquet/ParquetReaderUtility.java   | 10 +++
 .../parquet/columnreaders/ColumnReaderFactory.java | 22 ++++--
 .../columnreaders/FixedByteAlignedReader.java      | 26 ++++++
 .../NullableFixedByteAlignedReaders.java           | 26 ++++++
 .../columnreaders/ParquetToDrillTypeConverter.java |  2 +
 .../store/parquet2/DrillParquetGroupConverter.java | 30 ++++++-
 .../physical/impl/writer/TestParquetWriter.java    | 92 ++++++++++++++++++++++
 9 files changed, 240 insertions(+), 15 deletions(-)

commit 71fe8f02f3102eeb0c5f5d1504420f441f8f98d7
Author: Jinfeng Ni <jni@apache.org>
Date:   Mon May 11 15:39:24 2015 -0700

    DRILL-2953: Ensure sort operator be inserted to enforce desired order, when a cast function is involved.

 .../drill/exec/planner/physical/ProjectPrule.java  | 39 ++++++++++++++++------
 .../java/org/apache/drill/TestExampleQueries.java  | 34 +++++++++++++++++++
 2 files changed, 63 insertions(+), 10 deletions(-)

commit 8d57783623a4ed1691dcebf7b059ad0fd70d8ad7
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon May 11 12:02:35 2015 -0700

    DRILL-2977, DRILL-2978: Swap fragment execution method implementations, and cancellation changes
    
    Execution: In WorkManager,
    + swap implementations of startFragmentPendingRemote() and addFragmentRunner()
    + warn if there are running fragments in close()
    
    Cancellation:
    + for fragments waiting on data, delegate cancellations to WorkEventBus (in Foreman and ControlMessageHandler)
    + documentation

 .../drill/exec/rpc/control/WorkEventBus.java       | 55 +++++++++++++++++++---
 .../org/apache/drill/exec/work/WorkManager.java    | 45 ++++++++++++++----
 .../exec/work/batch/ControlMessageHandler.java     | 23 ++++++---
 .../drill/exec/work/foreman/QueryManager.java      | 21 +++++++--
 .../exec/work/fragment/RootFragmentManager.java    |  1 +
 5 files changed, 121 insertions(+), 24 deletions(-)

commit eb79e805fcc01280a77e3525cdd2638c9f22b5d1
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Wed May 6 14:24:26 2015 -0700

    DRILL-2476: Added BatchState.STOP in buildSchema() so AbstractRecordBatch returns IterOutcome.STOP

 .../org/apache/drill/exec/physical/impl/TopN/TopNBatch.java  |  1 +
 .../apache/drill/exec/physical/impl/WriterRecordBatch.java   |  4 ----
 .../apache/drill/exec/physical/impl/join/HashJoinBatch.java  |  5 +++++
 .../apache/drill/exec/physical/impl/join/MergeJoinBatch.java | 12 ++++++++++--
 .../drill/exec/physical/impl/join/NestedLoopJoinBatch.java   |  5 +++++
 .../exec/physical/impl/mergereceiver/MergingRecordBatch.java |  3 ++-
 .../drill/exec/physical/impl/xsort/ExternalSortBatch.java    |  1 +
 7 files changed, 24 insertions(+), 7 deletions(-)

commit 6cc89e99c7f557ffb04f16c0857d3b03a744fad4
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Apr 17 17:20:10 2015 -0700

    DRILL-3010: Convert bad command error messages into UserExceptions in SqlHandlers

 .../drill/common/exceptions/UserException.java     |  26 +++
 .../org/apache/drill/exec/ops/QueryContext.java    |   1 -
 .../drill/exec/planner/sql/SchemaUtilites.java     | 179 +++++++++++++++++
 .../planner/sql/handlers/AbstractSqlHandler.java   |  55 ------
 .../planner/sql/handlers/CreateTableHandler.java   |  66 +++----
 .../planner/sql/handlers/DescribeTableHandler.java |  30 +--
 .../exec/planner/sql/handlers/ShowFileHandler.java |  64 +++---
 .../planner/sql/handlers/ShowTablesHandler.java    |  17 +-
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  |  18 +-
 .../planner/sql/handlers/UseSchemaHandler.java     |  19 +-
 .../exec/planner/sql/handlers/ViewHandler.java     | 134 +++++--------
 .../apache/drill/exec/rpc/user/UserSession.java    |  72 ++++---
 .../apache/drill/exec/store/AbstractSchema.java    |  31 ++-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |   5 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |   2 +
 .../impersonation/TestImpersonationMetadata.java   |   8 +-
 .../physical/impl/writer/TestParquetWriter.java    |  46 -----
 .../java/org/apache/drill/exec/sql/TestCTAS.java   |  64 ++++--
 .../org/apache/drill/exec/sql/TestInfoSchema.java  |  28 ++-
 .../org/apache/drill/exec/sql/TestViewSupport.java |  86 +++-----
 .../org/apache/drill/exec/proto/UserBitShared.java | 219 +++++++++++----------
 .../drill/exec/proto/beans/DrillPBError.java       |   4 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   5 +
 23 files changed, 669 insertions(+), 510 deletions(-)

commit 7c5a1f57cc51e74c9e3ab965350bd04062b41049
Author: dbarclay <dbarclay@maprtech.com>
Date:   Mon Feb 9 10:52:11 2015 -0800

    DRILL-2343: Add tracing proxy JDBC driver for tracing JDBC method calls.
    
    Overview of org.apache.drill.jdbc.proxy classes/interfaces:
    
    Entry point:
    - TracingProxyDriver - Tracing proxy JDBC driver class.  Class description
      Javadoc has usage instructions.
    
    Other core types:
    - ProxiesManager - creates and tracks java.lang.reflect.Proxy-based proxy
      objects
    - TracingInvocationHandler - java.lang.reflect.Proxy invocation handler; maps
      reflective/proxy invocations to InvocationReporter method call/return/throw
      event calls
    - InvocationReporter - defines method call/return/throw event calls
    - InvocationReporterImpl - implements rendering of method call/return/throw
      event calls (including rendering of parameter/return/exception values)
    - ProxySetupSQLException
    
    Unit tests:
    - TracingProxyDriverClassLoadingTest - test of loading proxied driver class
    - TracingProxyDriverTest - basic test of proxying (pass-through) and tracing
      output
    
    Other:
    - exec/jdbc-all/pom.xml - has change to keep TracingProxyDriver and depended-on
      classes in JDBC-all Jar file.

 exec/jdbc-all/pom.xml                              |   2 +
 .../drill/jdbc/proxy/InvocationReporter.java       |  80 ++++
 .../drill/jdbc/proxy/InvocationReporterImpl.java   | 519 +++++++++++++++++++++
 .../apache/drill/jdbc/proxy/ProxiesManager.java    | 117 +++++
 .../drill/jdbc/proxy/ProxySetupSQLException.java   |  37 ++
 .../drill/jdbc/proxy/TracingInvocationHandler.java | 112 +++++
 .../drill/jdbc/proxy/TracingProxyDriver.java       | 288 ++++++++++++
 .../org/apache/drill/jdbc/proxy/package-info.java  |  23 +
 .../proxy/TracingProxyDriverClassLoadingTest.java  | 135 ++++++
 .../drill/jdbc/proxy/TracingProxyDriverTest.java   | 257 ++++++++++
 10 files changed, 1570 insertions(+)

commit 27b4aae2008a8125411eb0ec23a07cad8cea096e
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon May 11 16:13:52 2015 -0700

    DRILL-2776: add extensive tests for empty population coverage

 .../exec/vector/complex/TestEmptyPopulation.java   | 314 +++++++++++++++++++++
 .../exec/vector/complex/TestEmptyPopulator.java    |  86 ------
 .../vector/complex/map-empty-between.json          |   3 +
 .../resources/vector/complex/map-empty-first.json  |   3 +
 .../resources/vector/complex/map-empty-last.json   |   3 +
 .../complex/multi-repeated-list-empty-between.json |   3 +
 .../complex/multi-repeated-list-empty-first.json   |   3 +
 .../complex/multi-repeated-list-empty-last.json    |   3 +
 .../complex/multi-repeated-list-multi-empty.json   |   3 +
 .../complex/repeated-list-empty-between.json       |   3 +
 .../vector/complex/repeated-list-empty-first.json  |   3 +
 .../vector/complex/repeated-list-empty-last.json   |   3 +
 .../vector/complex/repeated-map-empty-between.json |   3 +
 .../vector/complex/repeated-map-empty-first.json   |   3 +
 .../vector/complex/repeated-map-empty-last.json    |   3 +
 .../complex/repeated-scalar-empty-between.json     |   3 +
 .../complex/repeated-scalar-empty-first.json       |   3 +
 .../vector/complex/repeated-scalar-empty-last.json |   3 +
 18 files changed, 362 insertions(+), 86 deletions(-)

commit c8769edc1edbc743b8859148dba92259149df6f8
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon May 11 15:09:28 2015 -0700

    DRILL-3027: Add convenience methods to test builder for creating nested baseline values

 .../test/java/org/apache/drill/BaseTestQuery.java  | 34 ---------------
 .../test/java/org/apache/drill/TestBuilder.java    | 49 +++++++++++++++++++---
 .../java/org/apache/drill/TestFrameworkTest.java   | 21 ++++------
 .../exec/vector/complex/writer/TestJsonReader.java | 14 ++++---
 4 files changed, 61 insertions(+), 57 deletions(-)

commit a7359f36b517e667b7e64a474154fb5b2238e620
Author: Jinfeng Ni <jni@apache.org>
Date:   Mon May 11 09:02:17 2015 -0700

    DRILL-3018: Fix CanNotPlan for nestLoop left join, caused by row count estimation issue.
    
    Add unit testcase.

 .../cost/DrillDefaultRelMetadataProvider.java      |  3 +-
 .../planner/cost/DrillRelMdDistinctRowCount.java   |  5 ---
 .../exec/planner/cost/DrillRelMdRowCount.java      | 42 ++++++++++++++++++++++
 .../java/org/apache/drill/TestExampleQueries.java  | 11 ++++++
 4 files changed, 55 insertions(+), 6 deletions(-)

commit 4689468ef11a70c782f64af451807e1e10cdce65
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Apr 29 14:54:24 2015 -0700

    DRILL-2150: Create an abstraction for repeated value vectors.

 .../src/main/codegen/templates/ComplexReaders.java |   2 +-
 .../src/main/codegen/templates/ComplexWriters.java |  16 +-
 .../main/codegen/templates/FixedValueVectors.java  |   1 +
 .../src/main/codegen/templates/ListWriters.java    |   6 +-
 .../src/main/codegen/templates/MapWriters.java     |   2 +-
 .../codegen/templates/RepeatedValueVectors.java    | 240 +++-------
 .../exception/SchemaChangeRuntimeException.java    |  42 ++
 .../physical/impl/flatten/FlattenRecordBatch.java  |  25 +-
 .../physical/impl/flatten/FlattenTemplate.java     |  25 +-
 .../exec/physical/impl/flatten/Flattener.java      |   6 +-
 .../physical/impl/project/ProjectRecordBatch.java  |  12 +-
 .../org/apache/drill/exec/store/VectorHolder.java  |  10 +-
 .../easy/text/compliant/RepeatedVarCharOutput.java |   8 +-
 .../columnreaders/FixedWidthRepeatedReader.java    |  22 +-
 .../parquet/columnreaders/ParquetRecordReader.java |  15 +-
 .../exec/store/text/DrillTextRecordReader.java     |   2 +-
 .../{RepeatedVector.java => AddOrGetResult.java}   |  19 +-
 .../apache/drill/exec/vector/AllocationHelper.java |   8 +-
 .../drill/exec/vector/BaseDataValueVector.java     |   5 +-
 .../drill/exec/vector/BaseRepeatedValueVector.java | 206 ++++++++
 .../apache/drill/exec/vector/BaseValueVector.java  |  21 +-
 .../drill/exec/vector/ContainerVectorLike.java     |  39 ++
 ...ctor.java => RepeatedFixedWidthVectorLike.java} |  43 +-
 .../drill/exec/vector/RepeatedValueVector.java     |  85 ++++
 ...r.java => RepeatedVariableWidthVectorLike.java} |   2 +-
 .../drill/exec/vector/SchemaChangeCallBack.java    |   6 +-
 .../org/apache/drill/exec/vector/ValueVector.java  |   7 +-
 .../apache/drill/exec/vector/VectorDescriptor.java |  57 +++
 .../org/apache/drill/exec/vector/ZeroVector.java   | 170 +++++++
 .../drill/exec/vector/complex/MapVector.java       |   3 +-
 .../exec/vector/complex/RepeatedListVector.java    | 525 +++++++++++----------
 .../exec/vector/complex/RepeatedMapVector.java     | 111 +++--
 .../drill/exec/record/vector/TestValueVector.java  |   7 -
 33 files changed, 1145 insertions(+), 603 deletions(-)

commit a3ec52a721860a966dfa351f719458a200b27cbf
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue May 5 23:12:32 2015 -0700

    DRILL-2961: Part 2--Core: Have set...Timeout methods throw rather than ignore.
    
    Changed implementation of Statement.setQueryTimeout(...) and
    Connection.setNetworkTimeout(...) to throw SQLFeatureNotSupportedException
    rather than silently not setting timeout.
    
    Main:
    - Added implementations of Statement.{set,get}QueryTimeout(...) and
      Connection.{set,get}NetworkTimeout(...) methods (in classes
      DrillStatementImpl, DrillConnectionImpl).
    - Added Drill-specific narrowed declarations and documentation (in
      interfaces DrillStatement and DrillConnection).
    - Added unit tests (in new StatementTest, ConnectionTest).
    
    Narrowed other thrown exceptions to allow narrowing in above methods:
    - Narrowed exceptions on isClosed() and checkNotClosed() (in
      DrillConnectionImpl, DrillStatementImpl).
    - Added InvalidParameterSqlException.

 .../org/apache/drill/jdbc/DrillConnection.java     |  40 +++++++
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |  59 ++++++++-
 .../java/org/apache/drill/jdbc/DrillStatement.java |  38 ++++++
 .../drill/jdbc/InvalidParameterSqlException.java   |  86 ++++++++++++++
 .../apache/drill/jdbc/impl/DrillStatementImpl.java |  51 +++++++-
 .../java/org/apache/drill/jdbc/ConnectionTest.java | 132 +++++++++++++++++++++
 .../java/org/apache/drill/jdbc/StatementTest.java  | 115 ++++++++++++++++++
 7 files changed, 512 insertions(+), 9 deletions(-)

commit 1dcf6cfb0d52435bcc7d1f4eada48fc0ce366dc4
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue May 5 22:39:25 2015 -0700

    DRILL-2961: Part 1--Prep., Hyg.: Split DrillStatement -> DrillStatement{,Impl}.
    
    Preparation for query/network timeout methods:
    - Moved class ...jdbc.DrillStatement to ...jdbc.impl.DrillStatementImpl.
    - Created interface ...jdbc.DrillStatement interface, extending
      java.sql.Statement (for place for Drill-specific narrowed declarations and
      documentation).  Declared DrillStatementImpl to implement new DrillStatement.
    - Updated references.
    - Adjusted visibility (temporarily make somethings publich until DRILL-2089 is
      done more).
    
    Misc. code hygiene:
    - Purged extraneous imports of ResultSet.
    - Purged TODO made obsolete by UserException.
    - Misc. whitespace.

 .../drill/jdbc/AlreadyClosedSqlException.java      |   2 -
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |  14 ++-
 .../org/apache/drill/jdbc/DrillJdbc41Factory.java  |   3 +-
 .../java/org/apache/drill/jdbc/DrillStatement.java | 114 ++-----------------
 .../apache/drill/jdbc/DrillStatementRegistry.java  |   3 +-
 .../drill/jdbc/InvalidCursorStateSqlException.java |   1 -
 .../org/apache/drill/jdbc/JdbcApiSqlException.java |   4 -
 .../apache/drill/jdbc/impl/DrillStatementImpl.java | 123 +++++++++++++++++++++
 8 files changed, 147 insertions(+), 117 deletions(-)

commit 84371eaee1d0d52aa7fbd21cd8a7b728a5cab401
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Sun May 10 23:37:20 2015 -0700

    DRILL-3022: ensure sequential shutdown of drillbits

 .../src/main/java/org/apache/drill/exec/server/Drillbit.java          | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 826fc5b9c2a6f044101967a9a2e49b20af2dae76
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Sun May 10 15:31:58 2015 -0700

    DRILL-3017: Safeguard against NPEs in RecordReader.cleanup()s

 .../drill/exec/store/hive/HiveRecordReader.java    |  5 ++++-
 .../text/compliant/CompliantTextRecordReader.java  |  5 ++++-
 .../parquet/columnreaders/ParquetRecordReader.java | 19 ++++++++++-------
 .../exec/store/parquet2/DrillParquetReader.java    |  5 ++++-
 .../exec/store/text/DrillTextRecordReader.java     |  5 ++++-
 .../test/java/org/apache/drill/BaseTestQuery.java  | 24 +++++++++++++++++++++-
 .../apache/drill/TestDisabledFunctionality.java    | 11 ++++++----
 7 files changed, 58 insertions(+), 16 deletions(-)

commit 6076cc6435f7decb17856991c25dac77dfe0b203
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun May 10 14:48:25 2015 -0700

    Add missing commit fixing queries file path.

 distribution/src/resources/drillbit.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2ea54ebe14457e57eb5af376a513ade6cc91455d
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Mar 23 16:14:38 2015 -0700

    DRILL-1927, DRILL-2966: Issues were resolved in Calcite update. Test cases added

 .../java/org/apache/drill/TestExampleQueries.java  | 90 ++++++++++++++++++++++
 .../testHavingAggFunction/q1.tsv                   |  5 ++
 .../testHavingAggFunction/q2.tsv                   |  4 +
 .../testHavingAggFunction/q3.tsv                   |  5 ++
 4 files changed, 104 insertions(+)

commit 3a294abcc51148e0e79096af5e6d3c45b7c19a9d
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed May 6 09:34:25 2015 -0700

    DRILL-2755: Use and handle InterruptedException during query processing.
    
    - Interrupt FragmentExecutor thread as part of FragmentExecutor.cancel()
    - Handle InterruptedException in ExternalSortBatch.newSV2(). If the fragment status says
      should not continue, then throw the InterruptedException to caller which returns IterOutcome.STOP
    - Add comments reg not handling of InterruptedException in SendingAccountor.waitForSendComplete()
    - Handle InterruptedException in OrderedPartitionRecordBatch.getPartitionVectors()
      If interrupted in Thread.sleep calls and fragment status says should not run, then
      return IterOutcome.STOP downstream.
    - Interrupt partitioner threads if PartitionerRecordBatch is interrupted while waiting for
      partitioner threads to complete.
    - Preserve interrupt status if not handled
    - Handle null RecordBatches returned by RawBatchBuffer.getNext() in MergingRecordBatch.buildSchema()
    - Change timeout in Foreman to be proportional to the number of intermediate fragments sent instead
      of hard coded limit of 90s.
    - Change TimedRunnable to enforce a timeout of 15s per runnable.
      Total timeout is (5s * numOfRunnableTasks) / parallelism.
    - Add unit tests
      * Testing cancelling a query interrupts the query fragments which are currently blocked
      * Testing interrupting the partitioner sender which in turn interrupts its helper threads
      * Testing TimedRunanble enforeces timeout for the whole task list.

 .../drill/common/concurrent/ExtendedLatch.java     |  21 +---
 .../apache/drill/exec/ops/SendingAccountor.java    |  13 +++
 .../impl/mergereceiver/MergingRecordBatch.java     |  19 ++++
 .../OrderedPartitionRecordBatch.java               |  31 ++++--
 .../impl/partitionsender/PartitionerDecorator.java |  70 +++++++++---
 .../impl/partitionsender/PartitionerTemplate.java  |   3 +-
 .../unorderedreceiver/UnorderedReceiverBatch.java  |  22 +++-
 .../physical/impl/xsort/ExternalSortBatch.java     |  10 +-
 .../exec/record/RawFragmentBatchProvider.java      |   2 +-
 .../org/apache/drill/exec/rpc/BasicClient.java     |   9 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |   7 +-
 .../drill/exec/rpc/ReconnectingConnection.java     |   7 +-
 .../apache/drill/exec/rpc/RemoteConnection.java    |  18 +++-
 .../org/apache/drill/exec/rpc/data/DataTunnel.java |  14 ++-
 .../org/apache/drill/exec/server/Drillbit.java     |   4 +
 .../org/apache/drill/exec/store/TimedRunnable.java |  52 ++++++---
 .../exec/testing/CountDownLatchInjection.java      |   5 +
 .../exec/testing/CountDownLatchInjectionImpl.java  |   5 +
 .../exec/testing/ExecutionControlsInjector.java    |  28 +++++
 .../drill/exec/testing/NoOpControlsInjector.java   |   4 +
 .../apache/drill/exec/testing/PauseInjection.java  |   7 ++
 .../org/apache/drill/exec/work/WorkManager.java    |  24 +++--
 .../exec/work/batch/SpoolingRawBatchBuffer.java    |   9 +-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |   8 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  14 +--
 .../drill/exec/work/fragment/FragmentExecutor.java |  14 +++
 .../drill/exec/server/TestDrillbitResilience.java  | 117 ++++++++++++++++++++-
 .../apache/drill/exec/store/TestTimedRunnable.java | 103 ++++++++++++++++++
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |   4 +
 29 files changed, 546 insertions(+), 98 deletions(-)

commit f8e5e613ff001da79377caea9c8e453e5619499a
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Thu Apr 30 13:27:08 2015 -0700

    DRILL-2697: Pauses sites wait indefinitely for a resume signal DrillClient sends a resume signal to UserServer. UserServer triggers a resume call in the correct Foreman. Foreman resumes all pauses related to the query through the Control layer.
    
    + Better error messages and more tests in TestDrillbitResilience and TestPauseInjection
    + Added execution controls to operator context
    + Removed ControlMessageHandler interface, renamed ControlHandlerImpl to ControlMessageHandler
    + Added CountDownLatchInjection, useful in cases like ParititionedSender that spawns multiple threads

 .../org/apache/drill/exec/client/DrillClient.java  |  10 +-
 .../org/apache/drill/exec/ops/OperatorContext.java |   3 +
 .../apache/drill/exec/ops/OperatorContextImpl.java |   8 +
 .../drill/exec/physical/impl/ScreenCreator.java    |   6 +-
 .../drill/exec/rpc/control/ControlRpcConfig.java   |   4 +-
 .../drill/exec/rpc/control/ControlTunnel.java      |  20 +-
 .../apache/drill/exec/rpc/user/UserRpcConfig.java  |   3 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |   9 +
 .../drill/exec/store/pojo/PojoRecordReader.java    |  16 +-
 .../exec/testing/CountDownLatchInjection.java      |  51 ++++
 .../exec/testing/CountDownLatchInjectionImpl.java  |  85 ++++++
 .../drill/exec/testing/ExecutionControls.java      |  37 ++-
 .../exec/testing/ExecutionControlsInjector.java    |  13 +-
 .../org/apache/drill/exec/testing/Injection.java   |   6 +-
 .../drill/exec/testing/NoOpControlsInjector.java   |  36 ++-
 .../apache/drill/exec/testing/PauseInjection.java  |  33 +--
 .../org/apache/drill/exec/work/WorkManager.java    |   3 +-
 .../drill/exec/work/batch/ControlHandlerImpl.java  | 197 --------------
 .../exec/work/batch/ControlMessageHandler.java     | 195 ++++++++++++-
 .../apache/drill/exec/work/foreman/Foreman.java    |  25 +-
 .../drill/exec/work/foreman/QueryManager.java      |  44 ++-
 .../drill/exec/work/fragment/FragmentExecutor.java |  15 +-
 .../drill/exec/work/fragment/FragmentManager.java  |   6 +
 .../exec/work/fragment/NonRootFragmentManager.java |   5 +
 .../exec/work/fragment/RootFragmentManager.java    |   9 +-
 .../apache/drill/exec/work/user/UserWorker.java    |   8 +
 .../drill/exec/server/TestDrillbitResilience.java  | 303 ++++++++++++---------
 .../exec/testing/TestCountDownLatchInjection.java  | 155 +++++++++++
 .../drill/exec/testing/TestPauseInjection.java     | 146 +++++++++-
 .../org/apache/drill/exec/proto/BitControl.java    |  48 +++-
 .../org/apache/drill/exec/proto/UserProtos.java    |  46 +++-
 .../org/apache/drill/exec/proto/beans/RpcType.java |   2 +
 protocol/src/main/protobuf/BitControl.proto        |  12 +-
 protocol/src/main/protobuf/User.proto              |   1 +
 34 files changed, 1106 insertions(+), 454 deletions(-)

commit 4e596334ea660b7261e0b4d83e929553c03856ff
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sat May 9 13:36:05 2015 -0700

    DRILL-2870: Part2 - Fix return type of aggregate functions to be nullable

 .../main/codegen/data/AggrBitwiseLogicalTypes.tdd  |  64 ++++++-------
 .../java-exec/src/main/codegen/data/AggrTypes1.tdd | 102 ++++++++++-----------
 .../java-exec/src/main/codegen/data/AggrTypes2.tdd |  20 ++--
 .../java-exec/src/main/codegen/data/AggrTypes3.tdd |  80 ++++++++--------
 .../templates/AggrBitwiseLogicalTypeFunctions.java |  23 +++--
 .../main/codegen/templates/AggrTypeFunctions1.java |  40 +++-----
 .../main/codegen/templates/AggrTypeFunctions2.java |  36 +++-----
 .../main/codegen/templates/AggrTypeFunctions3.java |  42 ++-------
 .../templates/DateIntervalAggrFunctions1.java      |  80 ++++++++--------
 .../codegen/templates/IntervalAggrFunctions2.java  |  39 ++++----
 .../codegen/templates/VarCharAggrFunctions1.java   |  53 ++++-------
 .../drill/exec/physical/impl/join/JoinUtils.java   |   2 +-
 .../drill/exec/fn/impl/TestAggregateFunctions.java |  71 +++++++++++++-
 .../drill/exec/physical/impl/agg/TestAgg.java      |   3 +-
 .../resources/parquet/alltypes_required.parquet    | Bin 0 -> 1197 bytes
 15 files changed, 340 insertions(+), 315 deletions(-)

commit e0070e2db2c718318e2f0b0b47ecbabba6a2af53
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sat May 9 12:31:36 2015 -0700

    DRILL-2870: Part1 - Separate count aggregate functions from others
    Count is the only aggregate function with required type as output, this will reduce some of the conditional logic in the templates

 exec/java-exec/src/main/codegen/config.fmpp        |  3 +-
 .../java-exec/src/main/codegen/data/AggrTypes1.tdd | 29 --------
 .../src/main/codegen/data/CountAggrTypes.tdd       | 39 +++++++++++
 .../src/main/codegen/data/DecimalAggrTypes1.tdd    | 13 +---
 .../codegen/templates/CountAggregateFunctions.java | 80 ++++++++++++++++++++++
 5 files changed, 122 insertions(+), 42 deletions(-)

commit 87051d42176c346bfda0d4a9400a0134cdcf566c
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun May 10 07:46:54 2015 -0700

    DRILL-3012: Fix issue where remote values rel wasn't losing operatorId.
    
    Also enhance Union rule to avoid more than 2 ways inputs

 .../apache/drill/exec/physical/config/Values.java  |  2 +-
 .../apache/drill/exec/planner/physical/Prel.java   |  4 +++-
 .../drill/exec/planner/physical/UnionAllPrule.java | 22 ++++++++++++-------
 .../drill/exec/planner/physical/ValuesPrel.java    | 25 ++++++++++++++++------
 4 files changed, 37 insertions(+), 16 deletions(-)

commit 684389da5a757d3298479703ed1b03e7e0e3bcd2
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Sat May 9 19:07:16 2015 -0700

    DRILL-2841: Fix slow web UI on some cluster nodes due to unneeded transitive dependencies
    
    Fix enforcer rule for jetty servlet-api global exclusion, add explicit exclusions where needed.

 contrib/storage-hive/hive-exec-shade/pom.xml | 4 ++++
 exec/java-exec/pom.xml                       | 6 ++++++
 pom.xml                                      | 2 +-
 3 files changed, 11 insertions(+), 1 deletion(-)

commit 0f424096a1d98e603d346ba4906eb7c3434855df
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat May 9 17:17:56 2015 -0700

    DRILL-3007: Disable automatic mmap threshold on Linux

 distribution/src/resources/drill-config.sh | 7 +++++++
 1 file changed, 7 insertions(+)

commit 42d5f818a5501dbd05808c53959db86e66202792
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri May 8 08:16:27 2015 -0700

    DRILL-2981: Add queries log.  Update profile to store normal and verbose exception as well as node and errorid.

 .../drill/common/exceptions/UserException.java     |  29 +-
 .../common/exceptions/UserExceptionContext.java    |  23 +-
 distribution/src/resources/drillbit.sh             |   3 +
 distribution/src/resources/logback.xml             |  24 +
 distribution/src/resources/runbit                  |   2 +-
 distribution/src/resources/sqlline                 |   3 +-
 distribution/src/resources/sqlline.bat             |   2 +-
 distribution/src/resources/submit_plan             |   2 +-
 .../exec/server/rest/profile/ProfileResources.java |  14 +-
 .../exec/server/rest/profile/ProfileWrapper.java   |   4 +
 .../apache/drill/exec/work/foreman/Foreman.java    |  68 +-
 .../drill/exec/work/foreman/LoggedQuery.java       |  80 ++
 .../drill/exec/work/foreman/QueryManager.java      |  39 +-
 .../src/main/resources/rest/profile/list.ftl       |  13 +
 .../src/main/resources/rest/profile/profile.ftl    |  25 +
 exec/java-exec/src/test/resources/logback.xml      |   5 +
 .../drill/exec/proto/SchemaUserBitShared.java      |  35 +
 .../org/apache/drill/exec/proto/UserBitShared.java | 962 +++++++++++++++++++--
 .../apache/drill/exec/proto/beans/QueryInfo.java   |   6 +-
 .../drill/exec/proto/beans/QueryProfile.java       | 112 +++
 protocol/src/main/protobuf/UserBitShared.proto     |   7 +-
 21 files changed, 1324 insertions(+), 134 deletions(-)

commit 5de7d6e9059f5877b4bd368ab12022e47a74baa6
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat May 9 11:20:47 2015 -0700

    DRILL-2723: Add option to change text format row size estimate.

 .../java/org/apache/drill/exec/ExecConstants.java  |  3 +++
 .../exec/physical/base/AbstractGroupScan.java      | 13 ++++++++++-
 .../apache/drill/exec/physical/base/GroupScan.java |  6 ++---
 .../drill/exec/planner/logical/DrillScanRel.java   | 25 ++++++++++++---------
 .../planner/physical/ConvertCountToDirectScan.java | 25 +++++++++++----------
 .../drill/exec/planner/physical/PrelUtil.java      |  6 ++++-
 .../drill/exec/planner/physical/ScanPrel.java      | 10 +++++----
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../exec/store/dfs/easy/EasyFormatPlugin.java      | 14 ++++++++++++
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   | 26 +++++++++++++---------
 .../exec/store/easy/text/TextFormatPlugin.java     | 19 ++++++++++++++--
 11 files changed, 105 insertions(+), 43 deletions(-)

commit fb5e455c77b720bb2f350acf5cd535ffd612c671
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat May 9 10:44:45 2015 -0700

    DRILL-3005: Ensure that only one outcome can occur for a QueryResult.
    
    Includes removing QueryResultHandler close listener which should fix most times.  For exceptional race cases, also added isTerminal condition which ensures only a single transition.

 .../org/apache/drill/exec/rpc/user/QueryResultHandler.java  | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit a392e532290033577a6d2a803e2ca7264d7d15b9
Author: adeneche <adeneche@gmail.com>
Date:   Tue May 5 20:59:14 2015 -0700

    DRILL-2878: FragmentExecutor.closeOutResources() is not called if an exception happens in the Foreman before the fragment executor starts running

 .../org/apache/drill/exec/work/WorkManager.java    |  6 +-
 .../drill/exec/work/fragment/FragmentExecutor.java | 11 +++-
 .../work/fragment/TestFragmentExecutorCancel.java  | 66 ++++++++++++++++++++++
 3 files changed, 79 insertions(+), 4 deletions(-)

commit 1c09c2f13bd0f50ca40c17dc0bfa7aae5826b8c3
Author: adeneche <adeneche@gmail.com>
Date:   Wed Apr 29 08:29:04 2015 -0700

    DRILL-2757: Verify operators correctly handle low memory conditions and cancellations
    
    includes:
    DRILL-2816: system error does not display the original Exception message
    DRILL-2893: ScanBatch throws a NullPointerException instead of returning OUT_OF_MEMORY
    DRILL-2894: FixedValueVectors shouldn't set it's data buffer to null when it fails to allocate it
    DRILL-2895: AbstractRecordBatch.buildSchema() should properly handle OUT_OF_MEMORY outcome
    DRILL-2905: RootExec implementations should properly handle IterOutcome.OUT_OF_MEMORY
    DRILL-2920: properly handle OutOfMemoryException
    DRILL-2947: AllocationHelper.allocateNew() doesn't have a consistent behavior when it can't allocate
    
    also:
    - added UserException.memoryError() with a pre assigned error message
    - injection site in ScanBatch and unit test that runs various tpch queries and injects
      an exception in the ScanBatch that will cause an OUT_OF_MEMORY outcome to be sent

 .../drill/common/exceptions/ErrorHelper.java       |  26 ++++
 .../drill/common/exceptions/UserException.java     | 117 +++++++++++-------
 .../drill/common/exceptions/TestUserException.java |   5 +-
 .../main/codegen/templates/FixedValueVectors.java  |  28 ++++-
 .../codegen/templates/VariableLengthVectors.java   |  22 +++-
 .../org/apache/drill/exec/ops/FragmentContext.java |   6 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |  23 ++--
 .../drill/exec/physical/impl/ScreenCreator.java    |   3 +
 .../exec/physical/impl/SingleSenderCreator.java    |   3 +
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  15 +--
 .../exec/physical/impl/WriterRecordBatch.java      |  14 +--
 .../exec/physical/impl/aggregate/HashAggBatch.java |  59 ++++-----
 .../physical/impl/aggregate/HashAggTemplate.java   |   1 +
 .../physical/impl/aggregate/StreamingAggBatch.java |  75 ++++++------
 .../impl/aggregate/StreamingAggTemplate.java       |   3 +
 .../broadcastsender/BroadcastSenderRootExec.java   |   3 +
 .../exec/physical/impl/filter/FilterTemplate2.java |   3 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |   7 ++
 .../exec/physical/impl/join/MergeJoinBatch.java    |   8 +-
 .../physical/impl/join/NestedLoopJoinBatch.java    |  10 +-
 .../exec/physical/impl/limit/LimitRecordBatch.java |  14 ++-
 .../impl/mergereceiver/MergingRecordBatch.java     |   7 +-
 .../partitionsender/PartitionSenderRootExec.java   |   4 +
 .../impl/producer/ProducerConsumerBatch.java       |  49 ++++++--
 .../physical/impl/project/ProjectRecordBatch.java  |  16 +--
 .../drill/exec/physical/impl/sort/SortBatch.java   |   4 +-
 .../impl/svremover/RemovingRecordBatch.java        |   8 +-
 .../exec/physical/impl/trace/TraceRecordBatch.java |   3 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |   5 +-
 .../impl/window/WindowFrameRecordBatch.java        |  20 +++-
 .../physical/impl/xsort/ExternalSortBatch.java     |  19 ++-
 .../drill/exec/record/AbstractRecordBatch.java     |  31 ++---
 .../apache/drill/exec/vector/AllocationHelper.java |  13 +-
 .../org/apache/drill/exec/vector/BitVector.java    |  20 +++-
 .../apache/drill/exec/work/foreman/Foreman.java    |   4 +
 .../drill/exec/work/fragment/FragmentExecutor.java |   4 +-
 .../org/apache/drill/TestOutOfMemoryOutcome.java   | 132 +++++++++++++++++++++
 37 files changed, 556 insertions(+), 228 deletions(-)

commit a296383632946a1f45a9b66d4638dab00a026d30
Author: Jinfeng Ni <jni@apache.org>
Date:   Sat May 9 15:29:00 2015 -0700

    Address review comments. Modify costing for Cartesian Logical Join, to fix CanNotPlan in some TPCDS queries with view on text format.
    
    Code clean up.

 .../exec/planner/common/DrillJoinRelBase.java      | 63 +++++++++++-----------
 .../drill/exec/planner/logical/DrillRuleSets.java  | 13 ++---
 2 files changed, 35 insertions(+), 41 deletions(-)

commit cd05500d1c63595d5d2cf8d83c8cfc8cc3c4c020
Author: Jinfeng Ni <jni@apache.org>
Date:   Wed Apr 29 11:16:04 2015 -0700

    DRILL-2958: Move Drill to alternative cost-based planner for join planning.
    
    1. Add a new RelMdDistinctRowCount MetaDataProvider.
    
    2. Resolve issue related to RelMetadataProvider, when querying view (Since view expander will create a different RelOptCluster).
    
    3. Catch CanNotPlanException in Physical Planning as well, since we allow DrillJoinRel to be Cartesian Join, which then pass into LOPT planner.
    
    4. Return none-infinite cost for Cartesian DrillJoinRel.
    
    5. Ruleset change. Only use Join permutation (PushJoinPastThroughJoin) rule in the existing planner. LOPT planner will not them.
    
    Code clean up.

 .../exec/planner/common/DrillJoinRelBase.java      |  51 +++++-
 .../exec/planner/common/DrillProjectRelBase.java   |   2 +-
 .../cost/DrillDefaultRelMetadataProvider.java      |  32 ++++
 .../planner/cost/DrillRelMdDistinctRowCount.java   |  56 +++++++
 .../drill/exec/planner/logical/DrillFilterRel.java |   4 +
 .../drill/exec/planner/logical/DrillJoinRel.java   |  16 +-
 .../exec/planner/logical/DrillProjectRel.java      |   4 +-
 .../planner/logical/DrillPushProjIntoScan.java     |  12 +-
 .../exec/planner/logical/DrillRelFactories.java    |  90 +++++++++++
 .../drill/exec/planner/logical/DrillRuleSets.java  |  45 +++---
 .../exec/planner/physical/PlannerSettings.java     |   3 +
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  19 ++-
 .../planner/sql/handlers/DefaultSqlHandler.java    | 177 ++++++++++++++++++++-
 .../exec/server/options/SystemOptionManager.java   |   1 +
 14 files changed, 461 insertions(+), 51 deletions(-)

commit 76cf72969014788a882204afd88fbaf944a981f9
Author: AdamPD <adam@pharmadata.net.au>
Date:   Tue Mar 24 12:33:14 2015 +1000

    DRILL-2532: Fix glob implementation

 .../apache/drill/exec/store/dfs/FileSelection.java | 54 +++++++++--------
 .../org/apache/drill/exec/store/dfs/TestGlob.java  | 67 ++++++++++++++++++++++
 2 files changed, 97 insertions(+), 24 deletions(-)

commit 4844b0e61640ecbb1dc8c28a73843a32dde4861c
Author: Steven Phillips <smp@apache.org>
Date:   Tue Apr 28 16:32:58 2015 -0700

    DRILL-2036: Make field name in MapWriter case-insensitive
    
    When looking up the vectors in the container vector, we already treat
    the field name as case insensitive. But we were not treating the field names
    in MapWriter when looking up the FieldWriter as case-insensitive. This
    inconsistency resulted in incorrect data. This patch makes the behavior
    consistent

 exec/java-exec/src/main/codegen/templates/MapWriters.java | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit a8c938767a6e1e747f1ec3df9944ec1279fff6b5
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu May 7 11:57:47 2015 -0700

    [DRILL-2914] Update DrillCalcite's version to 1.1.0-drill-r5

 .../java/org/apache/drill/TestExampleQueries.java  | 16 ++++++++++++++
 .../testGroupByStarSchemaless.tsv                  | 25 ++++++++++++++++++++++
 pom.xml                                            |  2 +-
 3 files changed, 42 insertions(+), 1 deletion(-)

commit 9d209622934cb2be929a1591fd6a059165e1ac39
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Apr 26 22:35:57 2015 -0700

    DRILL-2897: Avoid parallelization when Drill is running limit 0 query.

 .../exec/planner/physical/PlannerSettings.java     |   7 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  57 ++++----
 .../planner/sql/handlers/FindLimit0Visitor.java    | 119 ++++++++++++++++
 .../java/org/apache/drill/TestExampleQueries.java  |   1 +
 .../test/java/org/apache/drill/TestTpchLimit0.java | 149 +++++++++++++++++++++
 5 files changed, 305 insertions(+), 28 deletions(-)

commit 960f876a1945eee4eeb0d6a98c5c58dfe2eea1a9
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri May 8 08:15:36 2015 -0700

    DRILL-2971, DRILL-2886, DRILL-2778, DRILL-2545: Improve RPC connection detection failure.  Add RPC timeout.

 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +
 .../org/apache/drill/exec/client/DrillClient.java  |   8 +-
 .../org/apache/drill/exec/rpc/BasicClient.java     | 110 +++++++++++----
 .../drill/exec/rpc/BasicClientWithConnection.java  |  21 ++-
 .../org/apache/drill/exec/rpc/BasicServer.java     |  78 ++++++++---
 .../apache/drill/exec/rpc/CoordinationQueue.java   |   2 +-
 .../apache/drill/exec/rpc/RemoteConnection.java    |  31 ++++-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     | 151 +++++++++++++--------
 .../java/org/apache/drill/exec/rpc/RpcConfig.java  |  35 ++++-
 .../apache/drill/exec/rpc/RpcExceptionHandler.java |  12 +-
 .../drill/exec/rpc/control/ControlClient.java      |  14 +-
 .../drill/exec/rpc/control/ControlConnection.java  |   7 +-
 .../drill/exec/rpc/control/ControlRpcConfig.java   |  25 ++--
 .../drill/exec/rpc/control/ControlServer.java      |  13 +-
 .../drill/exec/rpc/data/BitServerConnection.java   |   7 +-
 .../org/apache/drill/exec/rpc/data/DataClient.java |  11 +-
 .../drill/exec/rpc/data/DataClientConnection.java  |   6 +-
 .../apache/drill/exec/rpc/data/DataRpcConfig.java  |  15 +-
 .../org/apache/drill/exec/rpc/data/DataServer.java |  11 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    |  36 ++++-
 .../org/apache/drill/exec/rpc/user/UserClient.java |  19 ++-
 .../apache/drill/exec/rpc/user/UserRpcConfig.java  |  22 +--
 .../org/apache/drill/exec/rpc/user/UserServer.java |  23 +++-
 .../apache/drill/exec/work/foreman/Foreman.java    |  19 +++
 .../java-exec/src/main/resources/drill-module.conf |   2 +
 .../apache/drill/exec/proto/GeneralRPCProtos.java  |  26 +++-
 .../apache/drill/exec/proto/SchemaUserProtos.java  |   7 +
 .../org/apache/drill/exec/proto/UserProtos.java    | 123 ++++++++++++++---
 .../org/apache/drill/exec/proto/beans/RpcMode.java |   6 +-
 .../drill/exec/proto/beans/UserToBitHandshake.java |  23 ++++
 protocol/src/main/protobuf/GeneralRPC.proto        |   2 +
 protocol/src/main/protobuf/User.proto              |   1 +
 32 files changed, 626 insertions(+), 242 deletions(-)

commit d4f9bf2e994969c863b2b90b58e90139d242b106
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu May 7 10:05:30 2015 -0700

    DRILL-2960: Add back hive boostrap-storage-plugin to make it show up in a default Drill install as disabled.

 .../src/main/resources/bootstrap-storage-plugins.json     | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 099a35b8775bbbe727d0be7123b5a80755c4e030
Author: adeneche <adeneche@gmail.com>
Date:   Tue May 5 13:40:41 2015 -0700

    DRILL-2602: Throw an error on schema change during streaming aggregation

 .../drill/exec/physical/impl/aggregate/HashAggBatch.java     |  4 +++-
 .../exec/physical/impl/aggregate/StreamingAggBatch.java      |  5 ++++-
 .../drill/exec/physical/impl/xsort/ExternalSortBatch.java    | 12 +++++++++---
 .../exec/physical/impl/xsort/SingleBatchSorterTemplate.java  |  6 +++++-
 4 files changed, 21 insertions(+), 6 deletions(-)

commit c2bd69879b6760712393a6ee2c4e34071a4b7795
Author: Patrick Wong <pwong@maprtech.com>
Date:   Thu Apr 9 15:42:55 2015 -0700

    DRILL-2570 - exclude "META-INF/services" dir from jdbc-all

 exec/jdbc-all/pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit 33713f8459929c16f3f8308a31cdcb55f8c8574b
Author: Parth Chandra <parthc@apache.org>
Date:   Fri May 8 11:38:49 2015 -0700

    DRIL-2994: Incorrect error message when disconnecting from a direct drillbit connection

 .../src/main/java/org/apache/drill/exec/client/DrillClient.java         | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7abd7cf4e3a6e67b4168d3d598ee01eb62e346e6
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Apr 30 17:02:18 2015 -0700

    DRILL-2848: Provide option to disable decimal data type
    Disable casting to decimal
    Disable reading decimal from Parquet
    Disable reading decimal from Hive
    Add unit tests
    Modify existing tests to enable decimal data type

 .../exec/store/hbase/HBasePushFilterIntoScan.java  |   3 +-
 .../drill/exec/store/hive/HiveRecordReader.java    |  13 +-
 .../apache/drill/exec/TestHiveProjectPushDown.java |  15 ++
 .../drill/exec/fn/hive/TestSampleHiveUDFs.java     |  18 +-
 .../apache/drill/exec/hive/TestHiveStorage.java    | 199 +++++++++++----------
 .../store/mongo/MongoPushDownFilterForScan.java    |   3 +-
 .../exec/planner/logical/DrillConstExecutor.java   |   8 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |  42 +++--
 .../exec/planner/logical/DrillParseContext.java    |  12 +-
 .../planner/logical/partition/PruneScanRule.java   |   2 +-
 .../drill/exec/planner/physical/FilterPrel.java    |   2 +-
 .../drill/exec/planner/physical/FlattenPrel.java   |   2 +-
 .../exec/planner/physical/PlannerSettings.java     |   2 +
 .../exec/planner/physical/ProjectAllowDupPrel.java |   2 +-
 .../drill/exec/planner/physical/ProjectPrel.java   |   3 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   2 +-
 .../exec/planner/sql/handlers/ExplainHandler.java  |   2 +-
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../InfoSchemaPushFilterIntoRecordGenerator.java   |   3 +-
 .../exec/store/parquet/ParquetReaderUtility.java   |  37 ++++
 .../parquet/columnreaders/ParquetRecordReader.java |   8 +-
 .../columnreaders/ParquetToDrillTypeConverter.java |  17 +-
 .../store/parquet2/DrillParquetGroupConverter.java |  21 ++-
 .../exec/store/parquet2/DrillParquetReader.java    |   4 +-
 .../parquet2/DrillParquetRecordMaterializer.java   |   6 +-
 .../apache/drill/exec/work/ExecErrorConstants.java |  28 +++
 .../test/java/org/apache/drill/TestBugFixes.java   |  10 +-
 .../apache/drill/TestDisabledFunctionality.java    |  10 ++
 .../java/org/apache/drill/TestFrameworkTest.java   |  54 +++---
 .../java/org/apache/drill/TestFunctionsQuery.java  |  14 ++
 .../drill/exec/fn/impl/TestCastEmptyStrings.java   |  14 ++
 .../drill/exec/fn/interp/TestConstantFolding.java  |   6 +
 .../physical/impl/writer/TestParquetWriter.java    |  10 ++
 .../exec/physical/impl/writer/TestWriter.java      |  18 +-
 .../columnreaders/TestColumnReaderFactory.java     |  13 ++
 .../store/parquet2/TestDrillParquetReader.java     |  13 ++
 .../jdbc/test/JdbcNullOrderingAndGroupingTest.java |  11 +-
 .../apache/drill/jdbc/test/JdbcTestQueryBase.java  |   2 +-
 .../jdbc/test/TestAggregateFunctionsQuery.java     |  17 +-
 39 files changed, 465 insertions(+), 182 deletions(-)

commit a8fa402365831c89f1a5b7fbd9e68f862104a026
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri May 1 14:12:09 2015 -0700

    DRILL-2848: Hygiene - ParquetToDrillConverter cleanup

 .../drill/common/util/CoreDecimalUtility.java      |   5 +-
 .../columnreaders/ParquetToDrillTypeConverter.java | 258 ++++++---------------
 2 files changed, 73 insertions(+), 190 deletions(-)

commit 79a712aaee320594dc9fc88e49d953df3d9fad9d
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Apr 29 20:34:04 2015 -0700

    DRILL-2809: Increase the default value of partitioner_sender_threads_factor.

 .../exec/physical/impl/partitionsender/PartitionSenderRootExec.java     | 2 --
 .../java/org/apache/drill/exec/planner/physical/PlannerSettings.java    | 2 +-
 .../drill/exec/physical/impl/partitionsender/TestPartitionSender.java   | 2 +-
 3 files changed, 2 insertions(+), 4 deletions(-)

commit 8c706e6fa44e100cef6c117ddeceb238d150e89d
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu Apr 23 13:44:13 2015 -0700

    DRILL-2376: In UnionAllRecordBactch, the mechansim to detect schema change is corrected

 .../physical/impl/union/UnionAllRecordBatch.java   |  4 +--
 .../test/java/org/apache/drill/TestUnionAll.java   | 32 ++++++++++++++++++++--
 .../testUnionAllQueries/{q18.tsv => q18_1.tsv}     |  0
 .../testframework/testUnionAllQueries/q18_2.tsv    | 13 +++++++++
 .../testframework/testUnionAllQueries/q18_3.tsv    | 13 +++++++++
 5 files changed, 57 insertions(+), 5 deletions(-)

commit 868ce4de25a9ed2153de96a6504272be9d1f4a2a
Author: adeneche <adeneche@gmail.com>
Date:   Mon Apr 20 13:03:07 2015 -0700

    DRILL-2408 (part 2): CTAS should not create empty folders when underlying query returns no results
    
    - changed ParquetRecordWriter to avoid creating the parquet file until the first row of data is available
    - Moved unit tests in a separate test class that starts 3 drillbits, to test the case where multiple fragments are attempting to write empty parquet files
    - changed BaseQueryTest to update the storage plugin in all started bits and not just the first one

 .../exec/store/parquet/ParquetRecordWriter.java    |  77 +++++---------
 .../org/apache/drill/exec/util/TestUtilities.java  |  21 ++--
 .../test/java/org/apache/drill/BaseTestQuery.java  |  10 +-
 .../physical/impl/writer/TestParquetWriter.java    |  43 --------
 .../impl/writer/TestParquetWriterEmptyFiles.java   | 118 +++++++++++++++++++++
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |   3 +-
 6 files changed, 166 insertions(+), 106 deletions(-)

commit d12bee05a8f6e974c70d5d2a94176b176d7dba5b
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon Apr 13 22:29:01 2015 -0700

    DRILL-2508: Added a wrapper class for OptionValue to include status Option status: BOOT, DEFAULT, CHANGED

 .../exec/server/options/FallbackOptionManager.java |  4 ++
 .../drill/exec/server/options/OptionManager.java   |  1 +
 .../exec/server/options/SystemOptionManager.java   | 10 +++
 .../apache/drill/exec/store/sys/SystemTable.java   | 73 ++++++++++++++++++++--
 4 files changed, 82 insertions(+), 6 deletions(-)

commit 784be4beccf60f926538dfe07e7c6d8339ab50ef
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue May 5 09:37:22 2015 -0700

    DRILL-2535, DRILL-2561: Fixed column names in the profile page

 .../exec/server/rest/profile/FragmentWrapper.java  | 22 ++++++++++++++++------
 .../exec/server/rest/profile/OperatorWrapper.java  | 10 ++++++++--
 .../exec/server/rest/profile/ProfileWrapper.java   |  9 +++------
 3 files changed, 27 insertions(+), 14 deletions(-)

commit fd337efbcaabb15ec0c5f3336848f4347e42cf27
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue May 5 10:34:55 2015 -0700

    DRILL-2772: Added state, total fragments and foreman to profile page
    + UnorderedReceiver has two stats holders; use the one through oContext

 .../org/apache/drill/exec/server/rest/profile/ProfileResources.java | 2 +-
 exec/java-exec/src/main/resources/rest/profile/profile.ftl          | 6 ++++++
 2 files changed, 7 insertions(+), 1 deletion(-)

commit aaba1cdf9520678a80c31898eb8bfe8a0190b865
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue May 5 09:46:44 2015 -0700

    DRILL-2569: Fixed operator path truncation in profile page

 .../drill/exec/server/rest/profile/OperatorPathBuilder.java      | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit f71bf6b33339011687d9b0fd421d6bb5a3263714
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue May 5 09:43:45 2015 -0700

    DRILL-2536: Display memory usage > 1KB ("-" otherwise)

 .../exec/server/rest/profile/OperatorWrapper.java  |  2 +-
 .../exec/server/rest/profile/TableBuilder.java     | 26 +++++++++++++++-------
 2 files changed, 19 insertions(+), 9 deletions(-)

commit efb4e70152b2ccca3bc9111466cf9406373ee67e
Author: Paul Pearcy <ppearcy@gmail.com>
Date:   Mon Jan 26 00:56:04 2015 -0500

    DRILL-1545: Allow custom extensions for json files
    
    Fix case where compressed files are skipped.
    
    Add jackson annotation to avoid serializing the default extensions list to enable forwards compatibility.

 .../drill/exec/store/dfs/BasicFormatMatcher.java   | 13 ++++++-----
 .../exec/store/easy/json/JSONFormatPlugin.java     | 26 ++++++++++++++++------
 .../main/resources/bootstrap-storage-plugins.json  |  6 +++--
 3 files changed, 31 insertions(+), 14 deletions(-)

commit b0ac3fb9ff90f01add8c1259d9fba54f12e1539c
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu May 7 07:46:55 2015 -0700

    DRILL-1460: part 2 - make convert_fromJSON function consistent with the default reader behavior and do not read all numbers as double.

 .../java/org/apache/drill/exec/expr/fn/impl/conv/JsonConvertFrom.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4fa02c4c50f6a0a9d9b1b62637a9c8de04eb410f
Author: AdamPD <adam@pharmadata.net.au>
Date:   Mon Feb 9 17:14:31 2015 +1000

    DRILL-1460: Implement "read_numbers_as_double" option for JSON reader
    
    Conflicts:
            contrib/storage-mongo/src/main/java/org/apache/drill/exec/store/mongo/MongoRecordReader.java
            exec/java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java
            exec/java-exec/src/main/java/org/apache/drill/exec/expr/fn/impl/conv/JsonConvertFrom.java
            exec/java-exec/src/main/java/org/apache/drill/exec/server/options/SystemOptionManager.java
            exec/java-exec/src/main/java/org/apache/drill/exec/store/easy/json/JSONRecordReader.java
            exec/java-exec/src/main/java/org/apache/drill/exec/vector/complex/fn/JsonReader.java
    
    Conflicts:
            exec/java-exec/src/main/java/org/apache/drill/exec/vector/complex/fn/JsonReader.java
            exec/java-exec/src/test/java/org/apache/drill/exec/store/json/TestJsonRecordReader.java

 .../drill/exec/store/mongo/MongoRecordReader.java  |  4 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |  5 +++
 .../exec/expr/fn/impl/conv/JsonConvertFrom.java    |  4 +-
 .../exec/server/options/SystemOptionManager.java   |  2 +
 .../exec/store/easy/json/JSONRecordReader.java     |  6 ++-
 .../drill/exec/vector/complex/fn/JsonReader.java   | 22 ++++++++---
 .../exec/store/json/TestJsonRecordReader.java      | 44 ++++++++++++++++++++++
 .../resources/jsoninput/mixed_number_types.json    |  2 +
 8 files changed, 79 insertions(+), 10 deletions(-)

commit 6b98db386204ca40769aad9ef2c4c3ba89147668
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat May 2 17:32:12 2015 -0700

    DRILL-2942: Enable access to epoll mode using system property -Ddrill.exec.enable-epoll=true.

 distribution/src/resources/drill-env.sh                       |  2 +-
 .../src/main/java/org/apache/drill/exec/ExecConstants.java    |  1 +
 .../main/java/org/apache/drill/exec/rpc/TransportCheck.java   | 11 +++++------
 3 files changed, 7 insertions(+), 7 deletions(-)

commit e14d9896ebb1d3e6e35b4490cfa0d45b10f81164
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun May 3 10:27:57 2015 -0700

    DRILL-2944: Update drill-env to set fixed heap and use G1 garbage collection to reduce GC overhead.

 distribution/src/resources/drill-env.sh | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit b24b23e0ea42b08259edde6722a06387a22134ea
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed May 6 14:31:46 2015 +0100

    DRILL-2969: Have scanners report metrics in profile.

 .../java/org/apache/drill/exec/physical/impl/OutputMutator.java    | 3 +--
 .../main/java/org/apache/drill/exec/physical/impl/ScanBatch.java   | 7 ++++++-
 .../physical/impl/validate/IteratorValidatorBatchIterator.java     | 4 ++++
 3 files changed, 11 insertions(+), 3 deletions(-)

commit 21992b6b6946f42d89924725dd65e301eebc7397
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed May 6 14:09:01 2015 +0100

    DRILL-2927: Correctly timeout query if a queue doesn't deplete within expected time.

 .../java/org/apache/drill/exec/ExecConstants.java   | 21 +++++++--------------
 .../org/apache/drill/exec/work/foreman/Foreman.java | 21 ++++++++++++++++-----
 2 files changed, 23 insertions(+), 19 deletions(-)

commit 7ec99871b97c70793e2e5eb2e795040c5b6ade66
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed May 6 02:56:45 2015 -0700

    DRILL-2006: Updated Text reader.  Increases variations of text files Drill can work with.
    
    Text reader is heavily inspired by uniVocity parser although it is now byte based and customized for Drill's memory representations.
    
    Also updated the RecordReader interface so that OperatorContext is presented at setup time rather than being a separate call.

 .../apache/drill/common/config/DrillConfig.java    |   3 +
 .../drill/exec/store/hbase/HBaseRecordReader.java  |  11 +-
 .../drill/exec/store/hive/HiveRecordReader.java    |  11 +-
 .../drill/exec/store/mongo/MongoRecordReader.java  |  11 +-
 exec/java-exec/pom.xml                             |   7 +
 .../main/codegen/templates/FixedValueVectors.java  |   2 +-
 .../codegen/templates/RepeatedValueVectors.java    |  10 +-
 .../codegen/templates/VariableLengthVectors.java   |  24 +-
 .../src/main/java/io/netty/buffer/DrillBuf.java    |  16 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +
 .../drill/exec/client/PrintingResultsListener.java |  16 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |   6 +-
 .../unorderedreceiver/UnorderedReceiverBatch.java  |   2 +-
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../drill/exec/store/LocalSyncableFileSystem.java  |  34 +-
 .../org/apache/drill/exec/store/RecordReader.java  |  10 +-
 .../drill/exec/store/avro/AvroRecordReader.java    |  32 +-
 .../drill/exec/store/dfs/DrillFileSystem.java      |  20 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   9 +-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |   6 +-
 .../exec/store/easy/json/JSONRecordReader.java     |  36 +-
 .../exec/store/easy/text/TextFormatPlugin.java     | 123 ++++-
 .../text/compliant/CompliantTextRecordReader.java  | 152 +++++++
 .../easy/text/compliant/RepeatedVarCharOutput.java | 324 ++++++++++++++
 .../compliant/StreamFinishedPseudoException.java   |  29 ++
 .../exec/store/easy/text/compliant/TextInput.java  | 392 ++++++++++++++++
 .../exec/store/easy/text/compliant/TextOutput.java |  87 ++++
 .../easy/text/compliant/TextParsingContext.java    | 124 +++++
 .../easy/text/compliant/TextParsingSettings.java   | 291 ++++++++++++
 .../exec/store/easy/text/compliant/TextReader.java | 498 +++++++++++++++++++++
 .../drill/exec/store/mock/MockRecordReader.java    |   2 +-
 .../store/parquet/ParquetScanBatchCreator.java     |   3 -
 .../parquet/columnreaders/ParquetRecordReader.java |   5 +-
 .../exec/store/parquet2/DrillParquetReader.java    |   3 +-
 .../drill/exec/store/pojo/PojoRecordReader.java    |   2 +-
 .../exec/store/schedule/CompleteFileWork.java      |  17 +-
 .../exec/store/text/DrillTextRecordReader.java     |   4 +-
 .../store/parquet/ParquetRecordReaderTest.java     |   2 +-
 .../drill/exec/store/text/TestNewTextReader.java   |  50 +++
 .../drill/exec/store/text/TestTextColumn.java      |  16 +-
 .../test/resources/bootstrap-storage-plugins.json  |   3 +-
 .../src/test/resources/store/text/data/letters.txt |   6 +-
 .../src/test/resources/textinput/input1.csv        |   1 +
 .../src/test/resources/textinput/input2.csv        |   2 +
 44 files changed, 2248 insertions(+), 158 deletions(-)

commit 151a7f4506e7ea16be335549b89090e857103b4e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon May 4 18:14:38 2015 -0700

    DRILL-2959: Make sure to close out compression codecs and associated resources.

 .../drill/exec/store/parquet/ColumnDataReader.java |   2 +
 .../exec/store/parquet/DirectCodecFactory.java     | 378 +++++++++++++++++++++
 .../drill/exec/store/parquet/DirectCodecPool.java  | 187 ++++++++++
 .../parquet/ParquetDirectByteBufferAllocator.java  |  17 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |   7 -
 .../exec/store/parquet/ParquetRecordWriter.java    |  11 +-
 .../store/parquet/ParquetScanBatchCreator.java     |   3 +-
 .../store/parquet/columnreaders/PageReader.java    |  32 +-
 .../parquet/columnreaders/ParquetRecordReader.java |  41 ++-
 .../exec/store/parquet2/DrillParquetReader.java    |  23 +-
 .../java/parquet/hadoop/CodecFactoryExposer.java   | 160 ---------
 .../parquet/hadoop/ColumnChunkIncReadStore.java    |   7 +-
 .../hadoop/ColumnChunkPageWriteStoreExposer.java   |  14 +-
 .../drill/exec/store/TestDirectCodecFactory.java   | 155 +++++++++
 .../store/parquet/ParquetRecordReaderTest.java     |   3 +-
 pom.xml                                            |   2 +-
 16 files changed, 802 insertions(+), 240 deletions(-)

commit 3ba374a5392c6214bcc008d5c0e34d5a632b3aa8
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Wed May 6 10:30:02 2015 -0700

    DRILL-2955: Set color flag to true in sqlline script

 distribution/src/resources/sqlline | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c4d864d7c84dbb1fb9e2cff8da0bdf9899a0720b
Author: dbarclay <dbarclay@maprtech.com>
Date:   Thu Apr 30 23:34:03 2015 -0700

    DRILL-2932: Fix: Error reported via System.out rather than exception message
    
    Main:
    - Removed the System.out.println(...) from submissionFailed(...).
    - Put UserException's message text in SQLException's message (didn't just wrap).
    - Added undoing of extra wrapping by AvaticaStatement.execute...(...).
    - Created unit test for execute...(...) exceptions.
    - Refined related exception handling (handled cases separately, narrowed
      throws declarations and catches).
    
    JDBC cleanup:
    - Renamed ex -> executionFailureException
    - Added getNext() method doc. comment.
    - Removed some obsolete alignment spaces.
    
    Added "review this" TODOs re DRILL-2933 (probably-obsolete SchemaChangeException):
    - DrillCursor;
    - MergingRecordBatch, ParquetResultListener, PrintingResultsListener, QueryWrapper, RecordBatchLoader, UnorderedReceiverBatch;
    - TestDrillbitResilience, TestTextColumn, BaseTestQuery, DrillTestWrapper.

 .../drill/exec/client/PrintingResultsListener.java |   2 +
 .../impl/mergereceiver/MergingRecordBatch.java     |   6 +
 .../unorderedreceiver/UnorderedReceiverBatch.java  |   2 +
 .../drill/exec/record/RecordBatchLoader.java       |   5 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    |   2 +-
 .../drill/exec/server/rest/QueryWrapper.java       |   2 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |   2 +
 .../java/org/apache/drill/DrillTestWrapper.java    |   4 +
 .../drill/exec/server/TestDrillbitResilience.java  |   2 +
 .../exec/store/parquet/ParquetResultListener.java  |   2 +
 .../drill/exec/store/text/TestTextColumn.java      |   2 +
 .../java/org/apache/drill/jdbc/DrillCursor.java    |  36 +++-
 .../java/org/apache/drill/jdbc/DrillStatement.java |  38 ++++-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |  23 ++-
 .../jdbc/test/TestExecutionExceptionsToClient.java | 186 +++++++++++++++++++++
 15 files changed, 295 insertions(+), 19 deletions(-)

commit 31e51832db216ca16525af83abd445b812c569c4
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Apr 29 17:35:33 2015 -0700

    DRILL-2963: Fix NestedLoopJoinBatch when left batch is empty

 .../physical/impl/join/NestedLoopJoinBatch.java    |  6 +++
 .../apache/drill/TestDisabledFunctionality.java    | 12 -----
 .../physical/impl/join/TestNestedLoopJoin.java     | 52 ++++++++++++++++++++++
 3 files changed, 58 insertions(+), 12 deletions(-)

commit 3ab96833c364075e3728994369eea67106732190
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Apr 29 10:38:52 2015 -0700

    DRILL-2433: Add support for implicit casting between date and timestamp in join condition

 .../apache/drill/exec/physical/impl/join/JoinUtils.java   |   6 ++++++
 .../exec/physical/impl/join/TestHashJoinAdvanced.java     |  11 +++++++++++
 .../exec/physical/impl/join/TestMergeJoinAdvanced.java    |  11 +++++++++++
 .../src/test/resources/parquet/timestamp_table.parquet    | Bin 0 -> 183 bytes
 4 files changed, 28 insertions(+)

commit e58696a93bb65b4985425da89063f7ed9912a29e
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon May 4 09:03:29 2015 -0700

    DRILL-2962: Enhance scalar check to recurse below single-input rels.   Bump up Calcite version to 1.1.0-drill-r3.  Enable TPCH q11 and remove the q11_1 version.
    
    Add new test class for correlated subqueries (more tests will be added later).

 .../drill/exec/physical/impl/join/JoinUtils.java   | 20 ++++++++---
 .../java/org/apache/drill/TestCorrelation.java     | 40 ++++++++++++++++++++++
 .../java/org/apache/drill/TestTpchDistributed.java |  6 ----
 .../src/test/resources/queries/tpch/11_1.sql       | 28 ---------------
 pom.xml                                            |  2 +-
 5 files changed, 56 insertions(+), 40 deletions(-)

commit 3b190762dbbee49e94d1eb354a27b33b7948c9a6
Author: alzarei <azarei@ece.ubc.ca>
Date:   Mon Apr 27 15:56:38 2015 -0700

    DRILL-2890: C++ Client: Update query submitter usage to clarify using authentication

 contrib/native/client/readme.linux   | 2 +-
 contrib/native/client/readme.win.txt | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 0e161417715652339580c4c6b1f630676b260997
Author: norrislee <norrislee18@hotmail.com>
Date:   Fri May 1 16:20:32 2015 -0700

    DRILL-2885: Return more precise error codes on handshake failures in C++ client

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 4 ++--
 contrib/native/client/src/include/drill/common.hpp      | 4 +++-
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 60c0f86f5f6033847d9f38d4d3700760a3e7f45a
Author: dbarclay <dbarclay@maprtech.com>
Date:   Mon Apr 27 13:25:35 2015 -0700

    DRILL-2889: Rename JdbcTest to JdbcTestBase.

 .../java/org/apache/drill/jdbc/DatabaseMetaDataGetColumnsTest.java  | 2 +-
 .../java/org/apache/drill/jdbc/{JdbcTest.java => JdbcTestBase.java} | 4 ++--
 .../org/apache/drill/jdbc/ResultSetGetMethodConversionsTest.java    | 2 +-
 .../java/org/apache/drill/jdbc/SingleConnectionCachingFactory.java  | 2 +-
 .../test/Drill2128GetColumnsDataTypeNotTypeCodeIntBugsTest.java     | 4 ++--
 .../jdbc/test/Drill2439GetBooleanFailsSayingWrongTypeBugTest.java   | 4 ++--
 .../drill/jdbc/test/Drill2461IntervalsBreakInfoSchemaBugTest.java   | 4 ++--
 .../jdbc/test/Drill2463GetNullsFailedWithAssertionsBugTest.java     | 4 ++--
 .../jdbc/test/Drill2489CallsAfterCloseThrowExceptionsTest.java      | 4 ++--
 .../jdbc/src/test/java/org/apache/drill/jdbc/test/JdbcDataTest.java | 4 ++--
 .../test/java/org/apache/drill/jdbc/test/JdbcTestActionBase.java    | 4 ++--
 .../src/test/java/org/apache/drill/jdbc/test/JdbcTestQueryBase.java | 4 ++--
 .../org/apache/drill/jdbc/test/TestAggregateFunctionsQuery.java     | 4 ++--
 .../src/test/java/org/apache/drill/jdbc/test/TestJdbcDistQuery.java | 6 +++---
 .../src/test/java/org/apache/drill/jdbc/test/TestJdbcQuery.java     | 2 +-
 15 files changed, 27 insertions(+), 27 deletions(-)

commit 7ab51dd745177276c0df9b1a707adb354e50dab0
Author: dbarclay <dbarclay@maprtech.com>
Date:   Mon Apr 27 12:33:46 2015 -0700

    DRILL-2887: Fix bad applications of JdbcTest.connect(...).
    
    - Removed use of Jdbc.connect() from:
      - Drill2128GetColumnsDataTypeNotTypeCodeIntBugsTest
      - Drill2489CallsAfterCloseThrowExceptionsTest
    - Added (manual) test for use of auto-resetting connection.  [JdbcTest]
    - Documented need to avoid Jdbc.connect() in above and similar tests.
    - Add "document" TODO for JdbcTest.

 .../jdbc/ConnectionTransactionMethodsTest.java     |  3 +++
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java |  3 +++
 .../apache/drill/jdbc/DatabaseMetaDataTest.java    |  5 ++++-
 .../test/java/org/apache/drill/jdbc/JdbcTest.java  | 22 ++++++++++++++++++++++
 .../jdbc/ResultSetGetMethodConversionsTest.java    |  3 ++-
 .../jdbc/test/Bug1735ConnectionCloseTest.java      |  9 +++++++--
 ...28GetColumnsDataTypeNotTypeCodeIntBugsTest.java | 10 +++++++++-
 ...ill2463GetNullsFailedWithAssertionsBugTest.java |  3 +++
 ...rill2489CallsAfterCloseThrowExceptionsTest.java |  4 +++-
 9 files changed, 56 insertions(+), 6 deletions(-)

commit c492d4f88fa8ae2546205105c76ac48728cfecbe
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Apr 28 11:14:11 2015 -0700

    DRILL-2904: Fix wrong "before rows" message to "after rows" message
    
    - Worked around Avatica isBeforeFirst()/next() bug.
    - Fixed corresponding error in unit test.
    - Also fixed other backwards test-failure message wording.

 .../java/org/apache/drill/jdbc/AvaticaDrillSqlAccessor.java | 13 +++++++++----
 .../test/java/org/apache/drill/jdbc/DrillResultSetTest.java |  9 +++++----
 2 files changed, 14 insertions(+), 8 deletions(-)

commit 7b776e7fb94b1b2b57fe3bc0b586047c47a5f042
Author: dbarclay <dbarclay@maprtech.com>
Date:   Sat Apr 25 21:23:10 2015 -0700

    DRILL-2884: 2-Hygiene: Associated cleanup, mostly of DrillResultSetImpl.
    
    - Re-ordered UserResultsListener methods logically (chronologically).
      (In UserResultsListener too.)
    - Re-ordered some other ResultsListener methods more logically (chronologically).
    - Added ResultsListener logging (incoming and outgoing).
    - Moved queryId down into ResultListener so ResultListener doesn't need to
      reach up into DrillResultSetImpl; changed from inner to nested class.
    - Renamed:
      - Fixed typo "resultslistener" -> "resultsListener"
      - MAX -> THROTTLING_QUERY_SIZE_THRESHOLD, queue -> batchQueue,
        ex -> executionFailureException
    - Added, purged some TODOs.

 .../drill/exec/rpc/user/UserResultsListener.java   |  14 +--
 .../java/org/apache/drill/jdbc/DrillCursor.java    |   2 +-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java | 112 +++++++++++++--------
 3 files changed, 77 insertions(+), 51 deletions(-)

commit f9efc3bc21a4aadb28a9033e142b37d57684125d
Author: dbarclay <dbarclay@maprtech.com>
Date:   Mon Apr 27 10:03:32 2015 -0700

    DRILL-2884: 1-Core: Throw "canceled" (not "ResultSet closed") after cancel().
    
    Changed DrillResultSetImpl to throw new ExecutionCanceledSqlException, rather
    than (previously existing) AlreadyClosedSqlException, at the first call to the
    result set after the associated SQL statement's execution is canceled (except
    that currently only some methods check and throw those exceptions).
    
    Also fixed two little documentation errors in DrillResultSet.

 .../java/org/apache/drill/jdbc/DrillResultSet.java |  4 +-
 .../java/org/apache/drill/jdbc/DrillStatement.java |  2 +-
 .../drill/jdbc/ExecutionCanceledSqlException.java  | 44 ++++++++++++++++++++++
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java | 22 ++++++++---
 4 files changed, 64 insertions(+), 8 deletions(-)

commit 5769278b866cbe5e756db31be139753ad19b8356
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Mon May 4 18:32:22 2015 -0700

    DRILL-2951:  Schema not getting specified when direct drillbit is specified in the connection URL

 .../java/org/apache/drill/exec/client/DrillClient.java | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 68bc1162794957d44c09f6da29449cbc7b52ae67
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Thu Apr 30 16:12:18 2015 -0700

    DRILL-2928: C++ client - io_service needs to be reset after running out of work

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 4 ++++
 1 file changed, 4 insertions(+)

commit d43324f895172dcdbb5070faef37470d6bc107f5
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Sat Apr 11 00:11:02 2015 -0700

    DRILL-2423: Show proper message when trying to drop an unknown view.

 .../exec/planner/sql/handlers/ViewHandler.java     | 27 ++++++++++-----
 .../apache/drill/exec/sql/TestBaseViewSupport.java |  2 +-
 .../org/apache/drill/exec/sql/TestViewSupport.java | 39 ++++++++++++++++++++++
 3 files changed, 59 insertions(+), 9 deletions(-)

commit ed02612a1b4eb419315791f87ab889e3765c1ceb
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon May 4 22:26:41 2015 -0700

    DRILL-2598: Throw validation error if CREATE VIEW/CTAS contains duplicate columns in definition

 .../exec/planner/sql/handlers/SqlHandlerUtil.java  |  38 +++++-
 .../java/org/apache/drill/exec/sql/TestCTAS.java   |  95 +++++++++++++++
 .../org/apache/drill/exec/sql/TestViewSupport.java | 132 +++++++++++++++++++--
 3 files changed, 250 insertions(+), 15 deletions(-)

commit 703314baf3cf1ddd4756b838449421271703ca37
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Apr 28 17:57:00 2015 -0700

    DRILL-2902: Add support for context functions: user (synonyms session_user and system_user) and current_schema

 .../org/apache/drill/exec/client/DrillClient.java  |    4 +-
 .../drill/exec/expr/fn/impl/ContextFunctions.java  |   80 +
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java |   34 +-
 .../apache/drill/exec/ops/ContextInformation.java  |   66 +
 .../org/apache/drill/exec/ops/FragmentContext.java |    9 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |   18 +-
 .../apache/drill/exec/ops/QueryDateTimeInfo.java   |   36 -
 .../org/apache/drill/exec/ops/UdfUtilities.java    |   16 +-
 .../exec/planner/fragment/SimpleParallelizer.java  |   16 +-
 .../apache/drill/exec/rpc/user/UserSession.java    |    4 +
 .../java/org/apache/drill/exec/util/Utilities.java |   19 +
 .../apache/drill/exec/work/foreman/Foreman.java    |    2 +-
 .../drill/exec/fn/impl/TestContextFunctions.java   |   93 ++
 .../exec/fn/interp/ExpressionInterpreterTest.java  |    8 +-
 .../exec/physical/impl/TestLocalExchange.java      |   13 +-
 .../impl/partitionsender/TestPartitionSender.java  |   11 +-
 .../apache/drill/exec/pop/TestFragmentChecker.java |   12 +-
 .../user/security/TestCustomUserAuthenticator.java |    2 +-
 .../drill/exec/testing/TestExceptionInjection.java |    3 +
 .../drill/exec/testing/TestPauseInjection.java     |    2 +
 .../org/apache/drill/exec/proto/BitControl.java    | 1655 ++++++++++++++------
 .../apache/drill/exec/proto/SchemaBitControl.java  |  162 +-
 .../drill/exec/proto/beans/PlanFragment.java       |   76 +-
 .../exec/proto/beans/QueryContextInformation.java  |  207 +++
 protocol/src/main/protobuf/BitControl.proto        |   15 +-
 25 files changed, 1930 insertions(+), 633 deletions(-)

commit ac823fe8bd9d6b778f37e32d95ab0d199f8ff551
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Fri Apr 10 15:00:41 2015 -0700

    DRILL-2221: Do not skip writing an empty list
    
    small fix for bad resolution of merge conflict in free marker template
    
    Fix test to use dfs_test instead of the default dfs storage plugin

 .../src/main/codegen/templates/JsonOutputRecordWriter.java   |  5 -----
 .../src/test/java/org/apache/drill/TestExampleQueries.java   | 12 ++++++++++++
 .../test/resources/store/json/record_with_empty_list.json    |  2 ++
 3 files changed, 14 insertions(+), 5 deletions(-)

commit dcbf46194775b01031e817b715dfed98b8be5c3e
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Dec 8 15:55:00 2014 -0800

    DRILL-1827: Unit test framework fix, expected and actual results were flipped in unordered comparison error message.
    
    Small fix to expected message in unit test framework tests.

 .../java/org/apache/drill/DrillTestWrapper.java    | 61 +++++++++++++---------
 .../java/org/apache/drill/TestFrameworkTest.java   |  2 +-
 2 files changed, 36 insertions(+), 27 deletions(-)

commit 800dad0c5fcce99090c443726d649b4261c35079
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon Apr 13 10:17:14 2015 -0700

    DRILL-2533: Use Math.round() instead of casting to long

 .../java/org/apache/drill/exec/server/rest/profile/TableBuilder.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f240ac2a353efb420dadc4bee8e6aae8df2937f1
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sun May 3 11:09:19 2015 -0700

    DRILL-2943: Parse uppercase 'E' for scientific notation.

 .../org/apache/drill/common/expression/parser/ExprLexer.g      |  2 +-
 .../test/java/org/apache/drill/exec/expr/ExpressionTest.java   | 10 ++++++++++
 2 files changed, 11 insertions(+), 1 deletion(-)

commit b22ab2437ab3b0577ada7d25bddff0f4eef0f6a1
Author: Aditya Kishore <adi@apache.org>
Date:   Sun May 3 12:51:59 2015 -0700

    Updating to version 1.0.0-SNAPSHOT

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/data/window-test-data/pom.xml        | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/pom.xml                                 | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 18 files changed, 18 insertions(+), 18 deletions(-)

commit 0dd0e833714120c77e3e7ef34de654f5246953b9
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Apr 28 08:53:12 2015 -0700

    DRILL-2940, DRILL-2847: Improve Memory Characteristics
    
    - Update Large Buffer allocation so Drill releases immediately rather than waiting for Garbage Collection
    - Remove DrillBuf.wrap() and all references to it.
    - Update Parquet Reader to reduce object churn and indirection.
    - Add additional metric to memory iterator
    - Add Large and small buffer metric historgram tracking
    - Add memory tracking reporter
    - Update Netty to 4.0.27

 exec/java-exec/pom.xml                             |   2 +-
 .../src/main/codegen/includes/vv_imports.ftl       |   1 +
 .../codegen/templates/NullableValueVectors.java    |  13 +
 .../codegen/templates/VariableLengthVectors.java   |  12 +
 .../src/main/java/io/netty/buffer/DrillBuf.java    |  47 +--
 .../src/main/java/io/netty/buffer/LargeBuffer.java | 350 +++++++++++++++++++++
 .../io/netty/buffer/PooledByteBufAllocatorL.java   | 199 +++++++++++-
 .../io/netty/buffer/UnsafeDirectLittleEndian.java  |  80 ++++-
 .../org/apache/drill/exec/TestMemoryRetention.java | 144 +++++++++
 .../drill/exec/memory/TopLevelAllocator.java       |   2 +-
 .../apache/drill/exec/metrics/DrillMetrics.java    |   6 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |   6 +
 .../org/apache/drill/exec/rpc/data/DataServer.java |  74 +++--
 .../drill/exec/store/parquet/ColumnDataReader.java |  19 +-
 .../store/parquet/columnreaders/BitReader.java     |   5 +-
 .../store/parquet/columnreaders/ColumnReader.java  |  25 +-
 .../columnreaders/FixedByteAlignedReader.java      |  28 +-
 .../columnreaders/FixedWidthRepeatedReader.java    |   2 +-
 .../parquet/columnreaders/NullableBitReader.java   |   2 +-
 .../columnreaders/NullableColumnReader.java        |   6 +-
 .../NullableFixedByteAlignedReaders.java           |  26 +-
 .../NullableVarLengthValuesColumn.java             |   6 +-
 .../store/parquet/columnreaders/PageReader.java    | 249 ++++++++-------
 .../ParquetFixedWidthDictionaryReaders.java        |  18 +-
 .../columnreaders/VarLengthColumnReaders.java      |  94 ++----
 .../columnreaders/VarLengthValuesColumn.java       |   7 +-
 .../drill/exec/store/sys/MemoryIterator.java       |  25 +-
 .../org/apache/drill/exec/util/DecimalUtility.java |   8 +
 .../drill/exec/work/fragment/FragmentExecutor.java |   4 +-
 .../java/parquet/hadoop/CodecFactoryExposer.java   |  19 +-
 .../exec/vector/complex/TestEmptyPopulator.java    |  14 +-
 .../java-exec/src/test/resources/drill-module.conf |   3 +-
 pom.xml                                            |   2 +-
 33 files changed, 1134 insertions(+), 364 deletions(-)

commit 88bb05194b023467d590ac747ec5fa14d04249f5
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Apr 18 16:40:02 2015 -0700

    DRILL-2826: Simplify and centralize Operator Cleanup
    
    - Remove cleanup method from RecordBatch interface
    - Make OperatorContext creation and closing the management of FragmentContext
    - Make OperatorContext an abstract class and the impl only available to FragmentContext
    - Make RecordBatch closing the responsibility of the RootExec
    - Make all closes be suppresing closes to maximize memory release in failure
    - Add new CloseableRecordBatch interface used by RootExec
    - Make RootExec AutoCloseable
    - Update RecordBatchCreator to return CloseableRecordBatches so that RootExec can maintain list
    - Generate list of operators through change in ImplCreator

 .../java/org/apache/drill/common/StackTrace.java   |   2 +-
 .../common/exceptions/UserExceptionContext.java    |   6 +-
 .../exec/store/hbase/HBaseScanBatchCreator.java    |   3 +-
 .../exec/store/hive/HiveScanBatchCreator.java      |   3 +-
 .../exec/store/mongo/MongoScanBatchCreator.java    |   2 +-
 .../drill/exec/memory/TopLevelAllocator.java       |  21 ++--
 .../org/apache/drill/exec/ops/FragmentContext.java |  28 +++++-
 .../org/apache/drill/exec/ops/OperatorContext.java |  88 ++---------------
 .../apache/drill/exec/ops/OperatorContextImpl.java | 110 +++++++++++++++++++++
 .../drill/exec/physical/impl/BaseRootExec.java     |  28 +++++-
 .../drill/exec/physical/impl/BatchCreator.java     |   5 +-
 .../drill/exec/physical/impl/ImplCreator.java      |  45 +++++++--
 .../exec/physical/impl/MergingReceiverCreator.java |   2 +-
 .../apache/drill/exec/physical/impl/RootExec.java  |   7 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  10 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |  17 ----
 .../exec/physical/impl/SingleSenderCreator.java    |  10 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |   9 +-
 .../physical/impl/TopN/TopNSortBatchCreator.java   |   3 +-
 .../exec/physical/impl/WriterRecordBatch.java      |   6 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java |   8 +-
 .../impl/aggregate/HashAggBatchCreator.java        |   3 +-
 .../physical/impl/aggregate/HashAggTemplate.java   |   9 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |   8 +-
 .../impl/aggregate/StreamingAggBatchCreator.java   |   3 +-
 .../broadcastsender/BroadcastSenderRootExec.java   |   9 +-
 .../physical/impl/filter/FilterBatchCreator.java   |   3 +-
 .../physical/impl/filter/FilterRecordBatch.java    |   4 +-
 .../physical/impl/flatten/FlattenBatchCreator.java |   4 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |   6 +-
 .../physical/impl/join/HashJoinBatchCreator.java   |   3 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |   9 --
 .../exec/physical/impl/join/MergeJoinCreator.java  |   3 +-
 .../physical/impl/join/NestedLoopJoinBatch.java    |  21 ++--
 .../impl/join/NestedLoopJoinBatchCreator.java      |   7 +-
 .../physical/impl/limit/LimitBatchCreator.java     |   3 +-
 .../exec/physical/impl/limit/LimitRecordBatch.java |   4 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |   8 +-
 .../OrderedPartitionRecordBatch.java               |  11 +--
 .../partitionsender/PartitionSenderRootExec.java   |  11 +--
 .../impl/producer/ProducerConsumerBatch.java       |   5 +-
 .../producer/ProducerConsumerBatchCreator.java     |   3 +-
 .../impl/project/ComplexToJsonBatchCreator.java    |   3 +-
 .../physical/impl/project/ProjectBatchCreator.java |   3 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   5 +-
 .../exec/physical/impl/sort/SortBatchCreator.java  |   3 +-
 .../impl/svremover/RemovingRecordBatch.java        |   4 +-
 .../physical/impl/svremover/SVRemoverCreator.java  |   3 +-
 .../physical/impl/trace/TraceBatchCreator.java     |   2 +-
 .../exec/physical/impl/trace/TraceRecordBatch.java |   5 +-
 .../physical/impl/union/UnionAllBatchCreator.java  |   3 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |  19 +---
 .../unorderedreceiver/UnorderedReceiverBatch.java  |  11 +--
 .../UnorderedReceiverCreator.java                  |   2 +-
 .../validate/IteratorValidatorBatchIterator.java   |   7 +-
 .../impl/validate/IteratorValidatorCreator.java    |   3 +-
 .../physical/impl/values/ValuesBatchCreator.java   |   2 +-
 .../impl/window/WindowFrameBatchCreator.java       |   8 +-
 .../impl/window/WindowFrameRecordBatch.java        |  14 +--
 .../physical/impl/xsort/ExternalSortBatch.java     |   7 +-
 .../impl/xsort/ExternalSortBatchCreator.java       |   3 +-
 .../drill/exec/record/AbstractRecordBatch.java     |  12 +--
 .../exec/record/AbstractSingleRecordBatch.java     |   7 --
 .../drill/exec/record/CloseableRecordBatch.java    |  22 +++++
 .../org/apache/drill/exec/record/RecordBatch.java  |   3 -
 .../drill/exec/store/avro/AvroRecordReader.java    |   2 -
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  16 +--
 .../store/dfs/easy/EasyReaderBatchCreator.java     |   3 +-
 .../store/dfs/easy/EasyWriterBatchCreator.java     |   3 +-
 .../exec/store/direct/DirectBatchCreator.java      |   2 +-
 .../exec/store/easy/json/JSONRecordReader.java     |   1 +
 .../exec/store/ischema/InfoSchemaBatchCreator.java |   3 +-
 .../exec/store/mock/MockScanBatchCreator.java      |   3 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |   4 +-
 .../exec/store/parquet/ParquetRecordWriter.java    |   5 +-
 .../store/parquet/ParquetScanBatchCreator.java     |   9 +-
 .../store/parquet/ParquetWriterBatchCreator.java   |   3 +-
 .../exec/store/parquet2/DrillParquetReader.java    |   3 +-
 .../exec/store/sys/SystemTableBatchCreator.java    |   2 +-
 .../exec/store/text/DrillTextRecordReader.java     |   1 +
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |   2 -
 .../apache/drill/exec/work/foreman/Foreman.java    |  30 +++---
 .../drill/exec/work/fragment/FragmentExecutor.java |   4 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |   6 +-
 .../java/org/apache/drill/exec/RunRootExec.java    |   2 +-
 .../org/apache/drill/exec/client/DumpCatTest.java  |   2 +-
 .../exec/fn/interp/ExpressionInterpreterTest.java  |  18 ++--
 .../apache/drill/exec/memory/TestAllocators.java   |  51 ++++++----
 .../drill/exec/physical/impl/SimpleRootExec.java   |   5 +-
 .../exec/physical/impl/TestCastFunctions.java      |  16 +--
 .../physical/impl/TestComparisonFunctions.java     |   2 +-
 .../physical/impl/filter/TestSimpleFilter.java     |   4 +-
 .../exec/physical/impl/join/TestHashJoin.java      |   2 +-
 .../impl/partitionsender/TestPartitionSender.java  |  11 ++-
 .../impl/trace/TestTraceMultiRecordBatch.java      |   2 +-
 .../physical/impl/trace/TestTraceOutputDump.java   |   2 +-
 96 files changed, 498 insertions(+), 422 deletions(-)

commit 636177df12c593368676d42bc17b65d684c8d000
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Thu Apr 30 11:20:35 2015 -0700

    DRILL-2811: Fix connection to individual drill bit. Allow port to be optional.

 .../src/main/java/org/apache/drill/exec/client/DrillClient.java        | 3 ++-
 .../src/main/java/org/apache/drill/jdbc/DrillConnectionConfig.java     | 2 +-
 exec/jdbc/src/main/java/org/apache/drill/jdbc/DrillConnectionImpl.java | 2 +-
 3 files changed, 4 insertions(+), 3 deletions(-)

commit f8a91f14bcd8acc61de417b29d75cbb85789da25
Author: Steven Phillips <smp@apache.org>
Date:   Thu Apr 30 12:34:54 2015 -0700

    DRILL-2916: Allow system option to revert to old assignment logic

 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |   2 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |   2 +-
 .../exec/store/schedule/AssignmentCreator.java     |  13 +-
 .../exec/store/schedule/OldAssignmentCreator.java  | 141 +++++++++++++++++++++
 .../drill/exec/store/store/TestAssignment.java     |   2 +-
 7 files changed, 158 insertions(+), 6 deletions(-)

commit 0f6c7ff506ba0ead612c77830e4b6daac9a7541c
Author: Steven Phillips <smp@apache.org>
Date:   Thu Apr 30 11:02:33 2015 -0700

    DRILL-2916: Correctly set minimum per fragment in AssignmentCreator

 .../java/org/apache/drill/exec/store/schedule/AssignmentCreator.java  | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f29444fa2eb28f94e6fb37cda058ced470ec452e
Author: Steven Phillips <smp@apache.org>
Date:   Wed Apr 29 18:06:40 2015 -0700

    DRILL-2916: Fix bug in assignment code

 .../exec/store/schedule/AssignmentCreator.java     | 51 +++++++++--
 .../drill/exec/store/store/TestAssignment.java     | 98 ++++++++++++++++++++++
 2 files changed, 141 insertions(+), 8 deletions(-)

commit e428f0d56955076f0d42f39463983e7a5a0d5c0a
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Tue Apr 28 13:38:07 2015 -0700

    DRILL-2181: Flatten function in order by, group by, distinct, aggregate functions is disabled

 .../sql/parser/UnsupportedOperatorsVisitor.java    | 64 ++++++++++++++++++++++
 .../apache/drill/TestDisabledFunctionality.java    | 59 ++++++++++++++++++++
 2 files changed, 123 insertions(+)

commit f5b0f4928d9c8c47c145a179c52ba3933d85c0b4
Author: Kamesh <kam.iitkgp@gmail.com>
Date:   Wed Oct 29 21:22:25 2014 +0530

    DRILL-1502: Can't connect to mongo when requiring auth

 .../drill/exec/store/mongo/MongoCnxnKey.java       | 75 ++++++++++++++++++++++
 .../drill/exec/store/mongo/MongoCnxnManager.java   | 31 +++++----
 .../drill/exec/store/mongo/MongoGroupScan.java     | 27 ++++----
 .../drill/exec/store/mongo/MongoRecordReader.java  |  8 ++-
 .../exec/store/mongo/MongoScanBatchCreator.java    |  5 +-
 .../exec/store/mongo/MongoStoragePluginConfig.java | 15 ++++-
 .../store/mongo/schema/MongoSchemaFactory.java     | 38 ++++++++---
 7 files changed, 159 insertions(+), 40 deletions(-)

commit c7cb36c8b45613bab299dfe6cafb36d4d2e00add
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Apr 28 21:05:48 2015 -0700

    DRILL-2896: Fix TestComplexTypeReader.testRepeatedJson

 .../drill/exec/vector/complex/writer/TestComplexTypeReader.java      | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 00d05107730f9601ab1a768c46fbbc66c54169e9
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Apr 29 00:04:40 2015 -0700

    Disable TestDrillbitResilience

 .../test/java/org/apache/drill/exec/server/TestDrillbitResilience.java  | 2 ++
 1 file changed, 2 insertions(+)

commit 0ae5069cefd1e12ac29ae1c1d129b148b39d73f5
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Apr 18 21:38:47 2015 -0700

    DRILL-2901: Additional fragment state fixes due to cancellation during various fragment executor state initialization.

 .../exec/physical/impl/SingleSenderCreator.java    | 12 +++++-----
 .../partitionsender/PartitionSenderRootExec.java   | 22 +++++++++++++++--
 .../drill/exec/record/AbstractRecordBatch.java     |  6 ++++-
 .../exec/record/AbstractSingleRecordBatch.java     |  6 ++++-
 .../apache/drill/exec/record/VectorContainer.java  |  6 ++++-
 .../drill/exec/server/TestDrillbitResilience.java  | 28 ++++++++++++----------
 6 files changed, 56 insertions(+), 24 deletions(-)

commit a7a60a2455f3a0ec6ae9cfac12a132ca1a84cb66
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Apr 21 15:16:06 2015 -0700

    DRILL-2842: Fix reading of parquet files with large file level metadata.
    
    Add result verification of the read operation. The actual bug happened when we were trying to read the meta-data to make read assignments, but its good to have the test case around to make sure that we can read a parquet file with a lot of columns.

 .../drill/exec/store/parquet/FooterGatherer.java   |  2 +-
 .../drill/exec/fn/interp/TestConstantFolding.java  | 52 +++++++++++++++++++---
 .../physical/impl/writer/TestParquetWriter.java    | 38 ++++++++++++++++
 3 files changed, 86 insertions(+), 6 deletions(-)

commit 4a23037a6c1d03f872f1b86ed91d189d93ee036f
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Apr 28 21:31:01 2015 -0700

    DRILL-2898: Update fragment executor to capture OutOfMemory exceptions and report instead of terminating thread.

 .../apache/drill/exec/work/fragment/FragmentExecutor.java  | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 5f50c245190f03dd1fecba374df888b4935d5acf
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Apr 18 21:38:47 2015 -0700

    DRILL-2999: Update max query per node for sort to any positive value.

 .../java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 3a232d81e242b4a13f71182fa5e8125a772bae0c
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Tue Apr 28 08:16:19 2015 -0700

    DRILL-2094: Test cases added

 .../java/org/apache/drill/TestExampleQueries.java  | 60 ++++++++++++++++++++++
 1 file changed, 60 insertions(+)

commit c3b79ac60a33fa5dcc48f3f49bb54c55dc1923e2
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sat Mar 14 15:21:46 2015 -0700

    DRILL-1957: Support nested loop join planning in order to enable NOT-IN, Inequality, Cartesian, uncorrelated EXISTS planning.
    
    Add support for nested loop join planning where right input is scalar and is broadcast.
    
    Add check for scalar subquery for NLJ. Add support for creating a Filter-NLJ plan.
    
    Rebase on the branch with Jinfeng's Calcite rebasing work.
    
    Conflicts:
            exec/java-exec/src/main/java/org/apache/drill/exec/physical/impl/join/JoinUtils.java
    
    Add unit tests for NLJoin.
    
    Added test for inequality join.
    
    Tests with BroadcastExchange, with HJ/MJ disabled.
    
    Fix filter push down for NL joins by modifying row count computation for joins with always true conditions.  Rebase on master.  Refactor unit tests.
    
    Improved checking of preconditions for NL join.
    
    Handle the case where scalar aggregate is a child of Filter.
    
    DRILL-1957: Support nested loop join planning in order to enable NOT-IN, Inequality, EXISTS planning.
    
    Better checks for cartesian and inequality joins. Rebase on latest master.
    
    Refactor costing for logical join.  Add tests.  Enable more TPC-H tests.
    
    Remove the check for cartesian join from DrillJoinRel constructor.
    
    Clear left and right keys before calling splitJoinCondition.
    
    Address review comments: Remove redundant call to getJoinCategory.  Added comment in DrillRuleSet.

 .../drill/exec/physical/impl/join/JoinUtils.java   |  50 +++++
 .../exec/planner/common/DrillJoinRelBase.java      |  51 +++++-
 .../drill/exec/planner/logical/DrillFilterRel.java |   2 +-
 .../drill/exec/planner/logical/DrillJoinRel.java   |  16 +-
 .../drill/exec/planner/logical/DrillJoinRule.java  |   6 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |   7 +
 .../drill/exec/planner/physical/HashJoinPrel.java  |   9 +-
 .../drill/exec/planner/physical/HashJoinPrule.java |  11 +-
 .../drill/exec/planner/physical/JoinPrel.java      |   3 +
 .../drill/exec/planner/physical/JoinPruleBase.java |  71 ++++---
 .../drill/exec/planner/physical/MergeJoinPrel.java |  15 +-
 .../exec/planner/physical/MergeJoinPrule.java      |   6 +-
 .../exec/planner/physical/NestedLoopJoinPrel.java  | 114 ++++++++++++
 .../exec/planner/physical/NestedLoopJoinPrule.java | 107 +++++++++++
 .../exec/planner/physical/PlannerSettings.java     |  15 ++
 .../exec/server/options/SystemOptionManager.java   |   3 +
 .../apache/drill/TestDisabledFunctionality.java    |   2 +
 .../java/org/apache/drill/TestTpchDistributed.java |   9 +-
 .../physical/impl/join/TestNestedLoopJoin.java     | 204 +++++++++++++++++++++
 .../src/test/resources/queries/tpch/11_1.sql       |  28 +++
 20 files changed, 657 insertions(+), 72 deletions(-)

commit 50c5197fb02eaef7f7c45ca34fde569346a12392
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Mon Apr 27 13:48:17 2015 -0700

    DRILL-2872: Result from json file returns data from repeated type fields as "null"

 .../src/main/codegen/templates/HolderReaderImpl.java        |  6 +++++-
 .../exec/vector/complex/writer/TestComplexTypeReader.java   | 13 +++++++++++++
 exec/java-exec/src/test/resources/DRILL-2872-result.json    | 10 ++++++++++
 exec/java-exec/src/test/resources/complex_student.json      | 11 +++++++++++
 4 files changed, 39 insertions(+), 1 deletion(-)

commit 5fbd274e0f397f4745f7f3f73c4e341052d35e37
Author: adeneche <adeneche@gmail.com>
Date:   Tue Apr 14 18:40:39 2015 -0700

    DRILL-2292: CTAS broken when we have repeated maps

 .../complex/impl/RepeatedListReaderImpl.java       |  13 ++-
 .../vector/complex/impl/RepeatedMapReaderImpl.java |   5 +
 .../org/apache/drill/exec/TestRepeatedReaders.java | 110 +++++++++++++++++++++
 .../src/test/resources/parquet/2292.rl_rl.json     |  21 ++++
 .../src/test/resources/parquet/2292.rl_rm.json     |  21 ++++
 .../src/test/resources/parquet/2292.rm_m_rm.json   |  23 +++++
 .../src/test/resources/parquet/2292.rm_rl.json     |  23 +++++
 .../src/test/resources/parquet/2292.rm_rm.json     |  21 ++++
 8 files changed, 234 insertions(+), 3 deletions(-)

commit 5f1d6d7bbe58d4e40abf911483fa1f24ecd71050
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Apr 2 23:37:16 2015 -0700

    DRILL-2725: Faster work assignment logic

 .../exec/store/schedule/AssignmentCreator.java     | 248 ++++++++++++++-------
 1 file changed, 170 insertions(+), 78 deletions(-)

commit 927d1998f22bff1e142bb2eb9110d197f2da53fc
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Apr 28 11:18:07 2015 -0700

    DRILL-2479: Added test case for correlated EXISTS with IN subquery (fix is in Calcite).

 .../test/java/org/apache/drill/TestExampleQueries.java    | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 57a96d200e12c0efcad3f3ca9d935c42647234b1
Author: Steven Phillips <smp@apache.org>
Date:   Mon Apr 20 15:12:57 2015 -0700

    DRILL-2083: Fix bug in merging receiver

 .../impl/mergereceiver/MergingRecordBatch.java     | 35 +++++++++++++++-------
 .../impl/mergereceiver/TestMergingReceiver.java    | 28 ++++++++---------
 .../src/test/resources/mergerecv/empty_batch.json  |  2 +-
 .../test/resources/mergerecv/merging_receiver.json |  4 +--
 .../resources/mergerecv/multiple_providers.json    | 10 +++----
 5 files changed, 46 insertions(+), 33 deletions(-)

commit 6878bfdb29634832230fe54f55581b1fee063fa5
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Apr 24 13:06:23 2015 -0700

    DRILL-2858: Refactor hash expression construction in InsertLocalExchangeVisitor and PrelUtil into one place

 .../physical/impl/common/ChainedHashTable.java     |   3 +-
 .../drill/exec/planner/physical/HashPrelUtil.java  | 138 +++++++++++++++++++++
 .../planner/physical/HashToMergeExchangePrel.java  |   2 +-
 .../planner/physical/HashToRandomExchangePrel.java |   2 +-
 .../drill/exec/planner/physical/PrelUtil.java      |  42 -------
 .../physical/UnorderedDeMuxExchangePrel.java       |   2 +-
 .../visitor/InsertLocalExchangeVisitor.java        |  57 +++++----
 .../exec/physical/impl/TestLocalExchange.java      |  16 +--
 8 files changed, 186 insertions(+), 76 deletions(-)

commit a8c96f666699c26fceb0ff2081f122fcdc529fb5
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Apr 23 11:48:06 2015 -0700

    DRILL-2857: Update StreamingAggBatch current workspace record counter variable type to "long" to avoid overflow issues.

 .../apache/drill/exec/physical/impl/aggregate/StreamingAggTemplate.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fa0f1c5f0feace931ddb236a7eadc57f3b4135b2
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Sun Apr 19 14:16:09 2015 -0700

    DRILL-2855: Fix invalid result issues with StreamAggBatch

 .../physical/impl/aggregate/StreamingAggTemplate.java | 19 ++++++++-----------
 1 file changed, 8 insertions(+), 11 deletions(-)

commit 3f781be01451e3fe7d312de49b3c8d3c6d73e02d
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Apr 19 08:52:47 2015 -0700

    DRILL-2856: Fix StreamingAgg inifnite loop problem due to state management issue.

 .../exec/physical/impl/aggregate/StreamingAggTemplate.java  | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit 3689522d4a7035a966f19695a678c6881fdaeba6
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Apr 22 17:49:12 2015 -0700

    DRILL-2277: Fix streaming aggregate when input batch is empty

 .../physical/impl/aggregate/StreamingAggBatch.java | 79 ++++++++++++++++++++--
 .../drill/exec/fn/impl/TestAggregateFunctions.java | 14 ++++
 2 files changed, 86 insertions(+), 7 deletions(-)

commit 5189635f2101ea4dc1d099001966bdfc4192bdad
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun Apr 19 22:57:21 2015 -0700

    DRILL-2824: Add checks to ensure function resolution is deterministic
    Fix NOT function

 .../org/apache/drill/exec/expr/fn/impl/Not.java    | 18 +---------------
 .../exec/resolver/DefaultFunctionResolver.java     | 24 ++++++++++++++++++++++
 2 files changed, 25 insertions(+), 17 deletions(-)

commit 70b1a1ff0888f41f5cc83009d89a4e8d2e0a7695
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun Apr 19 14:21:19 2015 -0700

    DRILL-2823: Use implicit casts for comparisons of expression in the join condition

 .../physical/impl/common/ChainedHashTable.java     | 104 ++++-----------------
 .../drill/exec/physical/impl/join/JoinUtils.java   |  93 ++++++++++++++++++
 .../exec/physical/impl/join/MergeJoinBatch.java    |  87 +++++++++--------
 .../physical/impl/join/TestHashJoinAdvanced.java   |  27 ++++++
 .../physical/impl/join/TestMergeJoinAdvanced.java  |  65 +++++++++++++
 .../resources/jsoninput/implicit_cast_join_1.json  |   1 +
 6 files changed, 253 insertions(+), 124 deletions(-)

commit e33ffa2197306ba833f0d5ea867969781cd733cc
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Apr 17 14:15:37 2015 -0700

    DRILL-2753: Don't generate cross numeric type comparison functions

 .../src/main/codegen/data/ComparisonTypesMain.tdd          | 14 +++++---------
 .../src/test/java/org/apache/drill/TestFunctionsQuery.java | 11 +++++++++++
 2 files changed, 16 insertions(+), 9 deletions(-)

commit 7289cabb5e7f9bed4a38607ccdfc09f803e2c235
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Tue Mar 24 10:19:07 2015 -0700

    DRILL-2548: JDBC Driver - check for bad data from server and prevent SqlException

 exec/jdbc/src/main/java/org/apache/drill/jdbc/DrillCursor.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 1aad02c51a762364c2964cf7b60c141419a02bcc
Author: dbarclay <dbarclay@maprtech.com>
Date:   Fri Apr 17 11:36:46 2015 -0700

    DRILL-2829: Info. schema hygiene (for upcoming fixes).
    
    - Clarified column constant names.  Also grouped and ordered them.
    - Added/applied constant for catalog name "DRILL".
    - Fixed "implements ...Constants" old-Java hack (to static imports).
    - Purged some unused imports.
    - A little documentation, editing, TODOs.

 .../planner/sql/handlers/DescribeTableHandler.java | 31 ++++++-----
 .../planner/sql/handlers/ShowSchemasHandler.java   | 11 ++--
 .../planner/sql/handlers/ShowTablesHandler.java    | 12 ++--
 .../apache/drill/exec/store/AbstractSchema.java    |  9 +++
 .../exec/store/ischema/InfoSchemaConstants.java    | 65 +++++++++++++++-------
 .../store/ischema/InfoSchemaFilterBuilder.java     | 12 ++--
 .../store/ischema/InfoSchemaStoragePlugin.java     |  6 +-
 .../drill/exec/store/ischema/InfoSchemaTable.java  | 62 +++++++++++----------
 .../drill/exec/store/ischema/RecordGenerator.java  | 47 ++++++++++------
 .../apache/drill/exec/store/ischema/Records.java   |  3 +-
 .../drill/exec/store/ischema/SelectedTable.java    | 12 +++-
 .../apache/drill/exec/store/sys/SystemTable.java   | 10 ++--
 12 files changed, 177 insertions(+), 103 deletions(-)

commit 9e4c016de6edd7489dee137976091046c6919dd8
Author: dbarclay <dbarclay@maprtech.com>
Date:   Sat Apr 18 12:55:17 2015 -0700

    DRILL-2822: Changed timeout 90 s -> 120 s for two JDBC getColumns() tests.
    
    - Drill2128GetColumnsDataTypeNotTypeCodeIntBugsTest
    - DatabaseMetaGetColumnsDataTest.

 .../test/java/org/apache/drill/jdbc/DatabaseMetaDataGetColumnsTest.java | 2 +-
 .../jdbc/test/Drill2128GetColumnsDataTypeNotTypeCodeIntBugsTest.java    | 2 +-
 .../jdbc/src/test/java/org/apache/drill/jdbc/test/TestJdbcMetadata.java | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit ce9fc3af45dfa047bc05d2a009c7f09b6b501d00
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Apr 14 16:13:23 2015 -0700

    DRILL-2782: 2-Core:  Decide, implement behavior for transaction-related JDBC methods.
    
    - Added unit test.
    - Added implementations of transaction-related methods:
      - setAutoCommit - reject attempt to turn auto-commit off
      - commit - reject when in auto-commit mode (which is always)
      - rollback - reject when in auto-commit mode (which is always)
      - other mode and metadata methods - roughly, report "no transactions"
    - Added method declarations with doc. comments in Drill-specific interface.
    - Overrode SQLLine's default transaction isolation level to Drill's
      TRANSACTION_NONE.

 distribution/src/resources/sqlline                 |   8 +
 distribution/src/resources/sqlline.bat             |   7 +
 .../org/apache/drill/jdbc/DrillConnection.java     | 116 ++++++++++++++
 .../org/apache/drill/jdbc/DrillConnectionImpl.java | 109 +++++++++++++
 .../jdbc/ConnectionTransactionMethodsTest.java     | 168 +++++++++++++++++++++
 .../apache/drill/jdbc/DatabaseMetaDataTest.java    |  86 +++++++++++
 6 files changed, 494 insertions(+)

commit 6e477e2862446c64c6a591d94703921cd9c92e6b
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Apr 14 16:17:30 2015 -0700

    DRILL-2782: 1-Hygiene: Various cleanup.
    
    - Fixed/moved checkNotClosed to after constructor.
    - Removed redundant "public"; "privatized" logger.
    - Purged unused imports.
    - A little commenting, editing, wrapping.

 .../org/apache/drill/jdbc/DrillConnection.java     | 17 ++++++++---
 .../org/apache/drill/jdbc/DrillConnectionImpl.java | 35 ++++++++++------------
 .../main/java/org/apache/drill/jdbc/MetaImpl.java  |  2 +-
 3 files changed, 29 insertions(+), 25 deletions(-)

commit a6256b175e1a75fbc323babac29c52401d975842
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Tue Apr 21 22:18:14 2015 -0700

    DRILL-2811: Allow direct connection to drillbit from DrillClient

 .../org/apache/drill/exec/client/DrillClient.java  | 73 +++++++++++++++-------
 .../apache/drill/jdbc/DrillConnectionConfig.java   |  5 ++
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |  5 ++
 3 files changed, 61 insertions(+), 22 deletions(-)

commit 25ea3e830c1274da2667d222e2833c3dd9699c33
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Fri Apr 17 09:27:58 2015 -0700

    DRILL-1832: Add unit tests for Json file with null values

 .../exec/store/json/TestJsonRecordReader.java      | 26 ++++++++++++-
 .../resources/jsoninput/drill-1832-1-result.json   | 43 ++++++++++++++++++++++
 .../resources/jsoninput/drill-1832-2-result.json   |  1 +
 .../src/test/resources/jsoninput/twitter_43.json   | 43 ++++++++++++++++++++++
 4 files changed, 112 insertions(+), 1 deletion(-)

commit 319b94c01c798af0ff0ff95b8b3af2e80d2a5ef7
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Thu Apr 9 17:11:14 2015 -0700

    DRILL-2350: Improve exception handling and error messages in JSON reader.

 .../src/main/codegen/includes/vv_imports.ftl       |  3 +
 .../src/main/codegen/templates/ListWriters.java    | 23 +++--
 .../exec/store/easy/json/JSONRecordReader.java     | 23 ++---
 .../drill/exec/store/easy/json/JsonProcessor.java  | 13 +++
 .../store/easy/json/reader/BaseJsonProcessor.java  | 26 ++++++
 .../drill/exec/vector/complex/fn/JsonReader.java   | 97 ++++++++++++++++------
 .../exec/store/json/TestJsonRecordReader.java      | 18 ++++
 .../src/test/resources/jsoninput/DRILL-2350.json   |  1 +
 8 files changed, 160 insertions(+), 44 deletions(-)

commit eb199d6147af7acbb9ef92d550fdce9ad37e28c9
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Apr 20 10:17:10 2015 -0700

    DRILL-2712: Testcases added

 .../java/org/apache/drill/TestPartitionFilter.java | 23 +++++++++++++++++++++-
 1 file changed, 22 insertions(+), 1 deletion(-)

commit e99f270322ec17580e728bf28a20b978a7fbdf8b
Author: Jinfeng Ni <jni@apache.org>
Date:   Tue Apr 21 17:08:22 2015 -0700

    DRILL-1384: Part 7 - Resolve conflicts after rebasing Drill master with view/impersonation.

 .../src/main/java/org/apache/drill/exec/ops/QueryContext.java       | 4 ++--
 .../main/java/org/apache/drill/exec/ops/ViewExpansionContext.java   | 6 +++---
 .../main/java/org/apache/drill/exec/planner/logical/DrillTable.java | 1 +
 .../java/org/apache/drill/exec/planner/logical/DrillViewTable.java  | 3 ++-
 .../main/java/org/apache/drill/exec/planner/sql/DrillSqlWorker.java | 1 +
 .../java/org/apache/drill/exec/planner/torel/ConversionContext.java | 1 +
 .../java/org/apache/drill/exec/store/parquet/ParquetGroupScan.java  | 2 ++
 exec/java-exec/src/test/java/org/apache/drill/PlanningBase.java     | 2 +-
 pom.xml                                                             | 2 +-
 9 files changed, 14 insertions(+), 8 deletions(-)

commit e462d14e63e4b396935f611cba5183c6f5d62a8f
Author: Jinfeng Ni <jni@apache.org>
Date:   Fri Apr 10 15:19:38 2015 -0700

    DRILL-2761: ParquetGroupScan's copy constructor should copy the content of a collection data member.

 .../org/apache/drill/exec/store/parquet/ParquetGroupScan.java | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit e8f60b2e5de6142b74bb61b705dd48947316c01e
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon Jan 5 13:39:37 2015 -0800

    DRILL-1384: Part 6 - Change dependency from optiq to Apache calcite. Use calcite version 1.1.0-drill-r1.
    
    Change dependency from optiq to calcite.
    
    pom file change for jdbc/jdbc-all module. Use optiq-avertica library for drill's jdbc.
    
    Exclude commons-loggings from calcite dependency.
    
    Exclude jcl-over-slf4j in jdbc-all proGuard plugin.
    
    Use calcite version 1.1.0-drill-r1.

 common/pom.xml                    |  4 ++--
 contrib/storage-hive/core/pom.xml |  4 ++--
 exec/java-exec/pom.xml            | 10 +++++-----
 exec/jdbc-all/pom.xml             |  9 ++++++++-
 exec/jdbc/pom.xml                 |  3 ++-
 pom.xml                           | 12 ++++++++----
 6 files changed, 27 insertions(+), 15 deletions(-)

commit b413ea737e27bb6bde72690c6bd9268bedd8640c
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu Apr 2 13:09:57 2015 -0700

    DRILL-1384: Part 5 - Make sure ProjectRemove will honor the output fieldName and use validated rowtype from SqlValidator to honor the final output field. ProjectRemove should honor parent's output field name. Fix Parser, allow * in compound identifier in DrillParserImpl.
    
    Make sure ProjectRemove will honor the output fieldName and use validated rowtype from SqlValidator to honor the final output field. This is required, since Drill's execution framework is name-based, different from Calcite's ordinal-based execution engine.

 .../main/codegen/includes/compoundIdentifier.ftl   | 14 +++--
 .../drill/exec/planner/common/DrillRelOptUtil.java | 16 +++---
 .../exec/planner/logical/DrillProjectRel.java      | 13 +++++
 .../planner/logical/DrillPushProjIntoScan.java     |  2 +-
 .../logical/DrillReduceExpressionsRule.java        |  3 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |  2 +-
 .../drill/exec/planner/sql/DrillSqlOperator.java   |  6 +--
 .../planner/sql/handlers/CreateTableHandler.java   |  1 +
 .../planner/sql/handlers/DefaultSqlHandler.java    | 61 +++++++++++++++++++---
 .../exec/planner/sql/handlers/ExplainHandler.java  |  9 +++-
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  |  3 +-
 11 files changed, 97 insertions(+), 33 deletions(-)

commit 4a3ad5f533b9915e254ee55a70fde6de4e87f8dc
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon Mar 30 10:50:05 2015 -0700

    DRILL-1384: Part 4 - Modify cost estimation for DrillProject and Drill Logical Join operator. Use cpu, io, network, meory cost in Drill cost compare method.
    
    Modify DrillProjectRelBase
    
    Use a visitor to identify complex filed with named segment only in DrillProjectRelBase.
    
    Modify cost estimation for Drill Logical Join operator. Use meory cost in Drill cost compare method.
    
    Put the memory costing into DrillCostBase comparison.
    
    Revise based on review comments.
    
    Revise code based on review comments.

 .../exec/planner/common/DrillJoinRelBase.java      |  42 +++++++-
 .../exec/planner/common/DrillProjectRelBase.java   | 109 ++++++++++++++++++++-
 .../drill/exec/planner/cost/DrillCostBase.java     |  26 ++---
 .../exec/planner/logical/DrillFilterJoinRules.java |  17 ----
 .../drill/exec/planner/logical/DrillRuleSets.java  |   9 +-
 .../drill/exec/planner/physical/HashJoinPrel.java  |  34 +------
 6 files changed, 166 insertions(+), 71 deletions(-)

commit b9d4d102d8eddb0a2aa906470aee03e35bc5fe64
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon Mar 23 15:03:00 2015 -0700

    DRILL-1384: Part 3 - Fix CanNotPlan, by making infinite cost for non-equal DrillJoinRel. Provide Drill specific FilterJoinRule, to enforce Drill only support equal-join in execution.

 .../exec/planner/common/DrillJoinRelBase.java      |  7 +-
 .../exec/planner/logical/DrillFilterJoinRules.java | 96 ++++++++++++++++++++++
 .../drill/exec/planner/logical/DrillRuleSets.java  |  4 +-
 3 files changed, 104 insertions(+), 3 deletions(-)

commit 884ad2d7b566f1e82467584d718c56ebdb187c1e
Author: Jinfeng Ni <jni@apache.org>
Date:   Wed Apr 8 10:18:58 2015 -0700

    DRILL-1384: Part 2 - Unit test cases change.
    
    Change two JDBC test cases, since the results for query w/o ORDER BY are not semantically deterministic.
    
    Make sure TestHashJoinAdvanced uses HashJoin only. Modify expected results in TestProjectPushDown: the order of pushed columns could be different.
    
    Disable TPCH Q16, due to OPTIQ-373 plan change.
    
    Disable one parquet writer in TestExample, since it need ensure the created file does not exist on the file system.

 .../src/test/java/org/apache/drill/TestExampleQueries.java  |  1 +
 .../src/test/java/org/apache/drill/TestProjectPushDown.java |  2 +-
 .../src/test/java/org/apache/drill/TestTpchDistributed.java |  1 +
 .../java/org/apache/drill/TestTpchDistributedStreaming.java |  1 +
 .../src/test/java/org/apache/drill/TestTpchExplain.java     |  1 +
 .../src/test/java/org/apache/drill/TestTpchPlanning.java    |  1 +
 .../src/test/java/org/apache/drill/TestTpchSingleMode.java  |  1 +
 .../src/test/java/org/apache/drill/TestUnionAll.java        |  1 +
 .../drill/exec/physical/impl/join/TestHashJoinAdvanced.java | 13 +++++++++++++
 .../test/java/org/apache/drill/jdbc/test/TestJdbcQuery.java |  8 ++++----
 10 files changed, 25 insertions(+), 5 deletions(-)

commit 581f2e840336f78bd8e6e1a7fca34fdd8f10b7fc
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Wed Oct 1 10:09:42 2014 -0700

    DRILL-1384: Part 1 - Rebase on Calcite. Change code due to Calcite package renaming/re-structure.
    
    Optiq changed to use DATETIME_PLUS. Have to handle it in Drill.
    
    PushFilterPastJoinRule has some issue. Temp fix for that.
    
    Failed unit tests:
           1) TestFlatten
           2) TestConvertFunctions / TestComplexTypeWriter : "Concat"
           3) TPCH Q16 : CanNotPlanException
    
    Feed a RelDataTypeSystem into planner, to support decimal with precision/scale up to 38.
    
    Remove assertion in DrillFilterRel. Optiq/Calcite could create a TRUE AND TRUE for query like WHERE col1 in (select ...) and col2 in (select ...) .
    
    Rebase on calcite-1.1.0-drill-test-r1. Change code due to Calcite package renaming/re-structure.
    
    Rebase on calcite : remaing with perl script. Part 1
    
    reverse change to jdbc test.
    
    Renaming for rebasing calcite. Part 2
    
    Renaming for calcite rebasing. Part 3
    
    Renaming for calcite rebasing. Part 4
    
    Reverse change to testcase in jdbc.
    
    Renaming for calcite rebasing. Part 5
    
    Renaming for calcite rebasing. Part 6
    
    remove 1.sh
    
    WindowRel change related.
    
    Renaming for calcite rebase. Part 7
    
    PreprocessLogical and AggPrelBase
    
    Renaming for calcite rebasing. Part 8. More manual change
    
    Rebasing Calcite. Part 9
    
    Rebasing calcite. Part 10
    
    Rebasing API change from Calcite.
    
    SQL parser change, due to Calcite rebasing.
    
    Renaming change for calcite rebasing.
    
    Renaming package due to Calcite rebasing.
    
    Renaming package due to Calicte Rebase.
    
    Work in progress for calcite rebasing.
    
    Change import package names due to Calcite rebase.
    
    Code refactor due to Calcite rebasing.
    
    Fix bug in DistributionTraitDef.
    
    Resolve compiler error, due to Calcite Rebasing.
    
    Resolve compiler error after Calcite Rebasing.
    
    minor change.

 .../org/apache/drill/common/logical/data/Join.java |   2 +-
 .../apache/drill/common/logical/data/Order.java    |   6 +-
 .../drill/common/logical/data/OrderTest.java       |   6 +-
 .../drill/exec/store/hbase/DrillHBaseTable.java    |   6 +-
 .../exec/store/hbase/HBasePushFilterIntoScan.java  |   6 +-
 .../drill/exec/store/hbase/HBaseSchemaFactory.java |   6 +-
 .../drill/exec/store/hbase/HBaseStoragePlugin.java |   2 +-
 .../drill/exec/planner/sql/HiveUDFOperator.java    |  32 +++---
 .../logical/HivePushPartitionFilterIntoScan.java   |   4 +-
 .../drill/exec/store/hive/HiveReadEntry.java       |   2 +-
 .../drill/exec/store/hive/HiveStoragePlugin.java   |   4 +-
 .../exec/store/hive/schema/DrillHiveTable.java     |   8 +-
 .../exec/store/hive/schema/DrillHiveViewTable.java |   2 +-
 .../exec/store/hive/schema/HiveDatabaseSchema.java |   2 +-
 .../exec/store/hive/schema/HiveSchemaFactory.java  |   6 +-
 .../store/mongo/MongoPushDownFilterForScan.java    |   6 +-
 .../drill/exec/store/mongo/MongoStoragePlugin.java |   2 +-
 .../store/mongo/schema/MongoDatabaseSchema.java    |   2 +-
 .../store/mongo/schema/MongoSchemaFactory.java     |   4 +-
 exec/java-exec/pom.xml                             |   4 +-
 exec/java-exec/src/main/codegen/data/Parser.tdd    |   2 +-
 .../java/org/apache/drill/exec/dotdrill/View.java  |  28 ++---
 .../drill/exec/expr/fn/DrillFunctionRegistry.java  |   2 +-
 .../exec/expr/fn/FunctionGenerationHelper.java     |   2 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |   3 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |   4 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |   5 +-
 .../drill/exec/physical/config/HashJoinPOP.java    |   2 +-
 .../drill/exec/physical/config/MergeJoinPOP.java   |   2 +-
 .../exec/physical/config/NestedLoopJoinPOP.java    |   2 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |   4 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |   2 +-
 .../exec/physical/impl/join/HashJoinProbe.java     |   2 +-
 .../physical/impl/join/HashJoinProbeTemplate.java  |   2 +-
 .../drill/exec/physical/impl/join/JoinStatus.java  |   2 +-
 .../exec/physical/impl/join/JoinTemplate.java      |   2 +-
 .../drill/exec/physical/impl/join/JoinUtils.java   |  15 ++-
 .../exec/physical/impl/join/MergeJoinBatch.java    |   2 +-
 .../exec/physical/impl/join/MergeJoinCreator.java  |   2 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |   3 +-
 .../OrderedPartitionRecordBatch.java               |   4 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   4 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |   2 +-
 .../drill/exec/planner/StarColumnHelper.java       |   6 +-
 .../exec/planner/common/DrillAggregateRelBase.java |  25 ++---
 .../exec/planner/common/DrillFilterRelBase.java    |  35 ++++---
 .../exec/planner/common/DrillJoinRelBase.java      |  22 ++--
 .../exec/planner/common/DrillLimitRelBase.java     |  18 ++--
 .../exec/planner/common/DrillProjectRelBase.java   |  26 ++---
 .../drill/exec/planner/common/DrillRelNode.java    |   2 +-
 .../drill/exec/planner/common/DrillRelOptUtil.java |  21 ++--
 .../exec/planner/common/DrillScanRelBase.java      |  12 +--
 .../exec/planner/common/DrillScreenRelBase.java    |  16 +--
 .../exec/planner/common/DrillStoreRelBase.java     |  14 +--
 .../exec/planner/common/DrillUnionRelBase.java     |  14 +--
 .../exec/planner/common/DrillWindowRelBase.java    |  16 +--
 .../exec/planner/common/DrillWriterRelBase.java    |  14 +--
 .../drill/exec/planner/cost/DrillCostBase.java     |   6 +-
 .../drill/exec/planner/cost/DrillRelOptCost.java   |   3 +-
 .../exec/planner/cost/DrillRelOptCostFactory.java  |   4 +-
 .../drill/exec/planner/logical/DirPathBuilder.java |  34 +++---
 .../exec/planner/logical/DrillAggregateRel.java    |  32 +++---
 .../exec/planner/logical/DrillAggregateRule.java   |  29 +++---
 .../exec/planner/logical/DrillConditions.java      |   6 +-
 .../exec/planner/logical/DrillConstExecutor.java   |  30 +++---
 .../drill/exec/planner/logical/DrillFilterRel.java |  20 ++--
 .../exec/planner/logical/DrillFilterRule.java      |  20 ++--
 .../exec/planner/logical/DrillImplementor.java     |   3 +-
 .../drill/exec/planner/logical/DrillJoinRel.java   |  30 +++---
 .../drill/exec/planner/logical/DrillJoinRule.java  |  38 +++----
 .../drill/exec/planner/logical/DrillLimitRel.java  |  16 +--
 .../drill/exec/planner/logical/DrillLimitRule.java |  23 +++--
 .../exec/planner/logical/DrillMergeFilterRule.java |  62 +++++------
 .../planner/logical/DrillMergeProjectRule.java     |  20 ++--
 .../drill/exec/planner/logical/DrillOptiq.java     |  75 ++++++++------
 .../exec/planner/logical/DrillProjectRel.java      |  25 +++--
 .../exec/planner/logical/DrillProjectRule.java     |  21 ++--
 .../logical/DrillPushFilterPastProjectRule.java    |  48 ++++-----
 .../logical/DrillPushPartitionFilterIntoScan.java  |   7 +-
 .../planner/logical/DrillPushProjIntoScan.java     |  27 +++--
 .../logical/DrillPushProjectPastFilterRule.java    |   8 +-
 .../logical/DrillPushProjectPastJoinRule.java      |   8 +-
 .../planner/logical/DrillReduceAggregatesRule.java | 114 +++++++++++----------
 .../logical/DrillReduceExpressionsRule.java        |  24 ++---
 .../drill/exec/planner/logical/DrillRel.java       |   2 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |  47 +++++----
 .../drill/exec/planner/logical/DrillScanRel.java   |  14 +--
 .../drill/exec/planner/logical/DrillScanRule.java  |  12 +--
 .../drill/exec/planner/logical/DrillScreenRel.java |   8 +-
 .../drill/exec/planner/logical/DrillSortRel.java   |  24 ++---
 .../drill/exec/planner/logical/DrillSortRule.java  |  22 ++--
 .../drill/exec/planner/logical/DrillStoreRel.java  |  10 +-
 .../drill/exec/planner/logical/DrillTable.java     |  13 ++-
 .../drill/exec/planner/logical/DrillUnionRel.java  |  14 +--
 .../drill/exec/planner/logical/DrillUnionRule.java |  24 ++---
 .../drill/exec/planner/logical/DrillValuesRel.java |  46 ++++-----
 .../exec/planner/logical/DrillValuesRule.java      |  16 +--
 .../drill/exec/planner/logical/DrillViewTable.java |  24 ++---
 .../drill/exec/planner/logical/DrillWindowRel.java |  37 +++----
 .../exec/planner/logical/DrillWindowRule.java      |  20 ++--
 .../drill/exec/planner/logical/DrillWriterRel.java |   8 +-
 .../exec/planner/logical/DynamicDrillTable.java    |   4 +-
 .../exec/planner/logical/EnumerableDrillRule.java  |   6 +-
 .../exec/planner/logical/PartitionPruningUtil.java |   4 +-
 .../exec/planner/logical/PreProcessLogicalRel.java |  48 ++++-----
 .../drill/exec/planner/logical/RelOptHelper.java   |   8 +-
 .../logical/partition/FindPartitionConditions.java |  35 +++----
 .../planner/logical/partition/PruneScanRule.java   |  17 ++-
 .../drill/exec/planner/physical/AggPrelBase.java   |  52 +++++-----
 .../drill/exec/planner/physical/AggPruleBase.java  |  10 +-
 .../planner/physical/BroadcastExchangePrel.java    |  16 +--
 .../exec/planner/physical/ComplexToJsonPrel.java   |  10 +-
 .../planner/physical/ConvertCountToDirectScan.java |  26 ++---
 .../planner/physical/DrillDistributionTrait.java   |   9 +-
 .../physical/DrillDistributionTraitDef.java        |  26 +++--
 .../drill/exec/planner/physical/ExchangePrel.java  |   6 +-
 .../drill/exec/planner/physical/FilterPrel.java    |  16 +--
 .../drill/exec/planner/physical/FilterPrule.java   |  10 +-
 .../drill/exec/planner/physical/FlattenPrel.java   |  16 +--
 .../drill/exec/planner/physical/HashAggPrel.java   |  40 +++++---
 .../drill/exec/planner/physical/HashAggPrule.java  |  47 ++++++---
 .../drill/exec/planner/physical/HashJoinPrel.java  |  27 +++--
 .../drill/exec/planner/physical/HashJoinPrule.java |  14 +--
 .../planner/physical/HashToMergeExchangePrel.java  |  22 ++--
 .../planner/physical/HashToRandomExchangePrel.java |  22 ++--
 .../drill/exec/planner/physical/JoinPrel.java      |  26 ++---
 .../drill/exec/planner/physical/JoinPruleBase.java |  22 ++--
 .../drill/exec/planner/physical/LimitPrel.java     |  16 +--
 .../drill/exec/planner/physical/LimitPrule.java    |  10 +-
 .../drill/exec/planner/physical/MergeJoinPrel.java |  26 +++--
 .../exec/planner/physical/MergeJoinPrule.java      |  20 ++--
 .../physical/OrderedPartitionExchangePrel.java     |  14 +--
 .../exec/planner/physical/PlannerSettings.java     |   2 +-
 .../apache/drill/exec/planner/physical/Prel.java   |   2 +-
 .../drill/exec/planner/physical/PrelUtil.java      |  41 ++++----
 .../planner/physical/ProducerConsumerPrel.java     |  10 +-
 .../exec/planner/physical/ProjectAllowDupPrel.java |  17 ++-
 .../drill/exec/planner/physical/ProjectPrel.java   |  21 ++--
 .../drill/exec/planner/physical/ProjectPrule.java  |  30 +++---
 .../apache/drill/exec/planner/physical/Prule.java  |  11 +-
 .../exec/planner/physical/PushLimitToTopN.java     |   8 +-
 .../drill/exec/planner/physical/ScanPrel.java      |  16 +--
 .../drill/exec/planner/physical/ScanPrule.java     |   6 +-
 .../drill/exec/planner/physical/ScreenPrel.java    |  10 +-
 .../drill/exec/planner/physical/ScreenPrule.java   |   8 +-
 .../physical/SelectionVectorRemoverPrel.java       |   8 +-
 .../planner/physical/SingleMergeExchangePrel.java  |  26 ++---
 .../drill/exec/planner/physical/SinglePrel.java    |  10 +-
 .../exec/planner/physical/SortConvertPrule.java    |  26 ++---
 .../drill/exec/planner/physical/SortPrel.java      |  30 +++---
 .../drill/exec/planner/physical/SortPrule.java     |  12 +--
 .../drill/exec/planner/physical/StreamAggPrel.java |  43 ++++----
 .../exec/planner/physical/StreamAggPrule.java      |  63 ++++++++----
 .../exec/planner/physical/SubsetTransformer.java   |  14 +--
 .../drill/exec/planner/physical/TopNPrel.java      |  22 ++--
 .../drill/exec/planner/physical/UnionAllPrel.java  |  19 ++--
 .../drill/exec/planner/physical/UnionAllPrule.java |  14 +--
 .../exec/planner/physical/UnionDistinctPrel.java   |  18 ++--
 .../exec/planner/physical/UnionDistinctPrule.java  |  14 +--
 .../exec/planner/physical/UnionExchangePrel.java   |  16 +--
 .../drill/exec/planner/physical/UnionPrel.java     |   8 +-
 .../physical/UnorderedDeMuxExchangePrel.java       |  10 +-
 .../planner/physical/UnorderedMuxExchangePrel.java |   8 +-
 .../drill/exec/planner/physical/ValuesPrel.java    |   8 +-
 .../drill/exec/planner/physical/ValuesPrule.java   |   5 +-
 .../drill/exec/planner/physical/WindowPrel.java    |  33 +++---
 .../drill/exec/planner/physical/WindowPrule.java   |  53 +++++-----
 .../drill/exec/planner/physical/WriterPrel.java    |  10 +-
 .../drill/exec/planner/physical/WriterPrule.java   |   8 +-
 .../physical/explain/NumberingRelWriter.java       |  19 ++--
 .../planner/physical/explain/PrelSequencer.java    |   4 +-
 .../physical/visitor/ComplexToJsonPrelVisitor.java |   4 +-
 .../visitor/ExcessiveExchangeIdentifier.java       |   6 +-
 .../physical/visitor/FinalColumnReorderer.java     |  12 +--
 .../visitor/InsertLocalExchangeVisitor.java        |  14 +--
 .../physical/visitor/JoinPrelRenameVisitor.java    |   2 +-
 .../physical/visitor/MemoryEstimationVisitor.java  |   2 +-
 .../visitor/ProducerConsumerPrelVisitor.java       |   2 +-
 .../planner/physical/visitor/RelUniqifier.java     |   2 +-
 .../physical/visitor/RewriteProjectToFlatten.java  |  29 ++----
 .../visitor/RexVisitorComplexExprSplitter.java     |  26 ++---
 .../visitor/SelectionVectorPrelVisitor.java        |   2 +-
 .../visitor/SplitUpComplexExpressions.java         |  32 ++----
 .../physical/visitor/StarColumnConverter.java      |  26 +++--
 .../physical/visitor/SwapHashJoinVisitor.java      |   6 +-
 .../org/apache/drill/exec/planner/sql/Checker.java |   8 +-
 .../exec/planner/sql/DrillConvertletTable.java     |  12 +--
 .../exec/planner/sql/DrillExtractConvertlet.java   |  18 ++--
 .../drill/exec/planner/sql/DrillOperatorTable.java |  12 +--
 .../exec/planner/sql/DrillSqlAggOperator.java      |  40 ++++----
 .../drill/exec/planner/sql/DrillSqlOperator.java   |  22 ++--
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  53 +++++-----
 .../drill/exec/planner/sql/DynamicReturnType.java  |   2 +-
 .../apache/drill/exec/planner/sql/DynamicType.java |   8 +-
 .../apache/drill/exec/planner/sql/FixedRange.java  |   2 +-
 .../planner/sql/handlers/AbstractSqlHandler.java   |   8 +-
 .../planner/sql/handlers/CreateTableHandler.java   |  14 ++-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  20 ++--
 .../planner/sql/handlers/DescribeTableHandler.java |  24 ++---
 .../exec/planner/sql/handlers/ExplainHandler.java  |  16 +--
 .../planner/sql/handlers/SetOptionHandler.java     |  10 +-
 .../exec/planner/sql/handlers/ShowFileHandler.java |  10 +-
 .../planner/sql/handlers/ShowSchemasHandler.java   |  14 +--
 .../planner/sql/handlers/ShowTablesHandler.java    |  18 ++--
 .../planner/sql/handlers/SqlHandlerConfig.java     |   4 +-
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  |  21 ++--
 .../planner/sql/handlers/UseSchemaHandler.java     |   6 +-
 .../exec/planner/sql/handlers/ViewHandler.java     |  20 ++--
 .../sql/parser/CompoundIdentifierConverter.java    |  16 +--
 .../sql/parser/DrillCompoundIdentifier.java        |  12 +--
 .../exec/planner/sql/parser/DrillParserUtil.java   |   8 +-
 .../exec/planner/sql/parser/DrillSqlCall.java      |  10 +-
 .../exec/planner/sql/parser/SqlCreateTable.java    |  26 ++---
 .../exec/planner/sql/parser/SqlCreateView.java     |  20 ++--
 .../exec/planner/sql/parser/SqlDescribeTable.java  |  22 ++--
 .../drill/exec/planner/sql/parser/SqlDropView.java |  22 ++--
 .../exec/planner/sql/parser/SqlShowFiles.java      |  22 ++--
 .../exec/planner/sql/parser/SqlShowSchemas.java    |  20 ++--
 .../exec/planner/sql/parser/SqlShowTables.java     |  18 ++--
 .../exec/planner/sql/parser/SqlUseSchema.java      |  18 ++--
 .../sql/parser/UnsupportedOperatorsVisitor.java    |  18 ++--
 .../impl/DrillParserWithCompoundIdConverter.java   |  10 +-
 .../exec/planner/torel/ConversionContext.java      |  23 ++---
 .../planner/types/DrillFixedRelDataTypeImpl.java   |  36 +++----
 .../exec/planner/types/DrillRelDataTypeSystem.java |  39 +++++++
 .../exec/planner/types/RelDataTypeDrillImpl.java   |  16 +--
 .../exec/planner/types/RelDataTypeHolder.java      |   8 +-
 .../apache/drill/exec/rpc/user/UserSession.java    |   4 +-
 .../exec/server/options/FallbackOptionManager.java |   2 +-
 .../drill/exec/server/options/OptionManager.java   |  17 ++-
 .../drill/exec/server/options/OptionValidator.java |   5 +-
 .../exec/server/options/SystemOptionManager.java   |   2 +-
 .../drill/exec/server/options/TypeValidators.java  |   7 +-
 .../apache/drill/exec/store/AbstractSchema.java    |  12 +--
 .../drill/exec/store/PartitionExplorerImpl.java    |   2 +-
 .../apache/drill/exec/store/RecordDataType.java    |  12 +--
 .../org/apache/drill/exec/store/SchemaFactory.java |   2 +-
 .../exec/store/StoragePluginOptimizerRule.java     |   4 +-
 .../drill/exec/store/StoragePluginRegistry.java    |   6 +-
 .../apache/drill/exec/store/SubSchemaWrapper.java  |   5 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |   2 +-
 .../exec/store/dfs/FileSystemSchemaFactory.java    |   7 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |   2 +-
 .../exec/store/ischema/InfoSchemaDrillTable.java   |   4 +-
 .../InfoSchemaPushFilterIntoRecordGenerator.java   |   8 +-
 .../store/ischema/InfoSchemaStoragePlugin.java     |   4 +-
 .../drill/exec/store/ischema/InfoSchemaTable.java  |   6 +-
 .../drill/exec/store/ischema/RecordGenerator.java  |  12 +--
 .../apache/drill/exec/store/ischema/Records.java   |   6 +-
 .../drill/exec/store/ischema/SelectedTable.java    |   6 +-
 .../drill/exec/store/mock/MockStorageEngine.java   |   2 +-
 .../apache/drill/exec/store/pojo/PojoDataType.java |   6 +-
 .../drill/exec/store/sys/StaticDrillTable.java     |   5 +-
 .../apache/drill/exec/store/sys/SystemTable.java   |   4 +
 .../drill/exec/store/sys/SystemTablePlugin.java    |   2 +-
 .../work/foreman/UnsupportedDataTypeException.java |   2 +-
 .../test/java/org/apache/drill/PlanTestBase.java   |   4 +-
 .../test/java/org/apache/drill/PlanningBase.java   |   4 +-
 .../exec/planner/logical/FilterSplitTest.java      |  14 +--
 .../drill/exec/sql/TestSqlBracketlessSyntax.java   |  23 +++--
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |   2 +-
 .../org/apache/drill/jdbc/test/JdbcDataTest.java   |   2 +-
 262 files changed, 2017 insertions(+), 1914 deletions(-)

commit 2a484251be48b0443318626b1364044db5473124
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Mar 24 15:12:01 2015 -0700

    DRILL-2514: Part2 - Add impersonation tests using Hadoop MiniDFSCluster.

 exec/java-exec/pom.xml                             |  12 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |  12 +
 .../exec/impersonation/BaseTestImpersonation.java  |  89 ++++++
 .../impersonation/TestImpersonationMetadata.java   | 300 ++++++++++++++++++++
 .../impersonation/TestImpersonationQueries.java    | 304 +++++++++++++++++++++
 pom.xml                                            | 121 +++++++-
 6 files changed, 837 insertions(+), 1 deletion(-)

commit 40c90403255d55b412efe2c3a78289bd75325119
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Mar 18 15:51:44 2015 -0700

    DRILL-2514: Add support for impersonation in FileSystem storage plugin.

 .../drill/exec/store/hbase/HBaseGroupScan.java     |  17 +-
 .../exec/store/hbase/HBasePushFilterIntoScan.java  |   3 +-
 .../drill/exec/store/hbase/HBaseSchemaFactory.java |   4 +-
 .../drill/exec/store/hbase/HBaseStoragePlugin.java |  10 +-
 .../drill/exec/store/hbase/HBaseSubScan.java       |   7 +-
 .../logical/HivePushPartitionFilterIntoScan.java   |   2 +-
 .../org/apache/drill/exec/store/hive/HiveScan.java |  11 +-
 .../drill/exec/store/hive/HiveStoragePlugin.java   |  10 +-
 .../apache/drill/exec/store/hive/HiveSubScan.java  |   6 +-
 .../exec/store/hive/schema/HiveSchemaFactory.java  |   4 +-
 .../drill/exec/store/mongo/MongoGroupScan.java     |  13 +-
 .../store/mongo/MongoPushDownFilterForScan.java    |   2 +-
 .../drill/exec/store/mongo/MongoStoragePlugin.java |  15 +-
 .../drill/exec/store/mongo/MongoSubScan.java       |   7 +-
 .../store/mongo/schema/MongoSchemaFactory.java     |   6 +-
 .../src/resources/drill-override-example.conf      |   4 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   6 +
 .../apache/drill/exec/dotdrill/DotDrillFile.java   |  10 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  30 +++-
 .../org/apache/drill/exec/ops/QueryContext.java    |  61 ++++++-
 .../drill/exec/ops/ViewExpansionContext.java       | 175 +++++++++++++++++++++
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |   8 +-
 .../drill/exec/physical/base/AbstractBase.java     |  20 +++
 .../exec/physical/base/AbstractFileGroupScan.java  |   7 +
 .../exec/physical/base/AbstractGroupScan.java      |   8 +
 .../drill/exec/physical/base/AbstractSubScan.java  |   4 +
 .../drill/exec/physical/base/PhysicalOperator.java |   8 +
 .../drill/exec/physical/impl/ImplCreator.java      | 128 ++++++++++-----
 .../drill/exec/planner/logical/DrillTable.java     |  39 ++++-
 .../drill/exec/planner/logical/DrillViewTable.java |  37 +++--
 .../exec/planner/logical/DynamicDrillTable.java    |   9 ++
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   3 +
 .../planner/sql/handlers/CreateTableHandler.java   |   4 +-
 .../exec/planner/torel/ConversionContext.java      |   6 +
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../drill/exec/store/AbstractStoragePlugin.java    |   6 +-
 .../org/apache/drill/exec/store/SchemaConfig.java  |  93 +++++++++++
 .../org/apache/drill/exec/store/SchemaFactory.java |  14 +-
 .../org/apache/drill/exec/store/StoragePlugin.java |  18 +--
 .../drill/exec/store/StoragePluginRegistry.java    |   6 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  12 +-
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  11 +-
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |   4 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  85 +++++++---
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  14 +-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  17 +-
 .../drill/exec/store/dfs/easy/EasySubScan.java     |   7 +-
 .../drill/exec/store/direct/DirectGroupScan.java   |   2 +-
 .../drill/exec/store/direct/DirectSubScan.java     |   2 +-
 .../exec/store/easy/text/TextFormatPlugin.java     |   5 +-
 .../exec/store/ischema/InfoSchemaGroupScan.java    |   2 +
 .../store/ischema/InfoSchemaStoragePlugin.java     |   7 +-
 .../exec/store/ischema/InfoSchemaSubScan.java      |   1 +
 .../drill/exec/store/ischema/RecordGenerator.java  |   8 +-
 .../drill/exec/store/mock/MockGroupScanPOP.java    |   2 +-
 .../drill/exec/store/mock/MockStorageEngine.java   |   7 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |  11 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  89 +++++++----
 .../exec/store/parquet/ParquetRowGroupScan.java    |  12 +-
 .../store/parquet/ParquetScanBatchCreator.java     |   8 +-
 .../drill/exec/store/sys/SystemTablePlugin.java    |   7 +-
 .../drill/exec/store/sys/SystemTableScan.java      |   2 +
 .../apache/drill/exec/util/ImpersonationUtil.java  | 162 +++++++++++++++++++
 .../apache/drill/exec/work/foreman/Foreman.java    |   2 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |  27 +++-
 .../java-exec/src/main/resources/drill-module.conf |   4 +
 .../test/java/org/apache/drill/PlanningBase.java   |   3 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   2 +-
 .../drill/exec/testing/TestExceptionInjection.java |  11 +-
 .../drill/exec/testing/TestPauseInjection.java     |   6 +-
 pom.xml                                            |   2 +-
 71 files changed, 1097 insertions(+), 259 deletions(-)

commit 117b749744d1775816fc5f9591dced3aae551352
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Mar 10 10:19:35 2015 -0700

    DRILL-2413: FileSystemPlugin refactoring: avoid sharing DrillFileSystem across schemas

 .../drill/exec/store/hbase/HBaseSchemaFactory.java |   2 +-
 .../drill/exec/store/hbase/HBaseStoragePlugin.java |   2 +-
 .../drill/exec/store/hive/HiveStoragePlugin.java   |   2 +-
 .../exec/store/hive/schema/HiveSchemaFactory.java  |   3 +-
 .../drill/exec/store/mongo/MongoStoragePlugin.java |   2 +-
 .../store/mongo/schema/MongoSchemaFactory.java     |   4 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  43 ++++++--
 .../org/apache/drill/exec/ops/QueryContext.java    |  15 ++-
 .../org/apache/drill/exec/store/SchemaFactory.java |   4 +-
 .../drill/exec/store/StoragePluginRegistry.java    |   2 +-
 .../drill/exec/store/avro/AvroFormatPlugin.java    |   9 +-
 .../drill/exec/store/dfs/BasicFormatMatcher.java   |  25 +++--
 .../drill/exec/store/dfs/DrillFileSystem.java      |   6 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  34 +++---
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  12 +--
 .../apache/drill/exec/store/dfs/FormatCreator.java |  17 +--
 .../apache/drill/exec/store/dfs/FormatMatcher.java |   2 +-
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |   3 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 115 +++++++++++----------
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  27 +++--
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |   8 +-
 .../exec/store/easy/json/JSONFormatPlugin.java     |  15 ++-
 .../exec/store/easy/text/TextFormatPlugin.java     |  18 ++--
 .../store/ischema/InfoSchemaStoragePlugin.java     |   2 +-
 .../drill/exec/store/mock/MockStorageEngine.java   |   2 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |  76 ++++++--------
 .../drill/exec/store/parquet/ParquetGroupScan.java |  17 +--
 .../store/parquet/ParquetScanBatchCreator.java     |   8 +-
 .../drill/exec/store/sys/SystemTablePlugin.java    |   2 +-
 .../exec/store/text/DrillTextRecordReader.java     |   6 +-
 .../drill/exec/work/batch/ControlHandlerImpl.java  |   2 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  11 +-
 .../exec/work/fragment/NonRootFragmentManager.java |   2 +-
 .../drill/exec/store/dfs/TestDrillFileSystem.java  |   2 +-
 34 files changed, 279 insertions(+), 221 deletions(-)

commit fbb405bdb0b55477d9f73b8eba91a49091e5b6d4
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Apr 20 18:07:42 2015 -0700

    DRILL-2835: Fix issue in copying data when a PartitionSender outgoing batch is in dropAll mode
    
    "dropAll" mode means
    -- the fragment has exhausted all input data or
    -- receiver of the outgoing batch has finished (possible in case of LIMIT)

 .../physical/impl/partitionsender/PartitionerTemplate.java | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit a0a1930c462e20f4afdc3c741435f3b6e6e6aa59
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sun Apr 19 01:21:38 2015 -0700

    DRILL-2827: Allow implicit cast from string to boolean for 'true'/'false'  literals.

 .../org/apache/drill/exec/resolver/TypeCastRules.java   |  5 +++++
 .../apache/drill/exec/fn/impl/TestCastFunctions.java    | 17 +++++++++++++++++
 2 files changed, 22 insertions(+)

commit be8d953935461ee6567b0c4d96c503e8b04469d2
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Fri Apr 17 09:46:11 2015 -0700

    DRILL-2383: Support to inject exceptions and pauses in various components of Drill
    + Controls are fired only if assertions are enabled
    + Controls can be introduced in any class that has access to FragmentContext/QueryContext
    + Controls can be fired by altering the DRILLBIT_CONTROL_INJECTIONS session option
    + Renames: SimulatedExceptions => ExecutionControls, ExceptionInjector => ExecutionControlsInjector
    + Added injection sites in Foreman, DrillSqlWorker, FragmentExecutor
    + Unit tests in TestDrillbitResilience, TestExceptionInjection and TestPauseInjection
    
    Other commits included:
    + DRILL-2437: Moved ExecutionControls from DrillbitContext to FragmentContext/QueryContext
    + DRILL-2382: Added address and port to Injection to specify drillbit
    + DRILL-2384: Added QueryState to SingleRowListener and assert that state is COMPLETED while testing
    
    Other edits:
    + Support for short lived session options in SessionOptionManager (using TTL in OptionValidator)
    + Introduced query count in UserSession
    + Added QueryState to queryCompleted() in UserResultsListener to check if COMPLETED/CANCELED
    + Added JSONStringValidator to TypeValidators
    + Log query id as string in DrillClient, WorkEventBus, QueryResultHandler
    + Use try..catch block only around else clause for OptionList in FragmentContext
    + Fixed drillbitContext spelling error in QueryContext
    + Fixed state transition when cancel() before run() in FragmentExecutor
    + Do not call setLocalOption twice in FallbackOptionManager
    + Show explicitly that submitWork() returns queryId in UserServer
    + Updated protocol/readme.txt to include an alternative way to generate sources

 .../java/org/apache/drill/exec/ExecConstants.java  |   7 +-
 .../org/apache/drill/exec/client/DrillClient.java  |   7 +-
 .../drill/exec/client/PrintingResultsListener.java |   3 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  26 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |  14 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |   4 +
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   6 +-
 .../drill/exec/rpc/control/WorkEventBus.java       |  20 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    |  35 +-
 .../drill/exec/rpc/user/UserResultsListener.java   |   4 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |  10 +-
 .../apache/drill/exec/rpc/user/UserSession.java    |  26 +-
 .../apache/drill/exec/server/DrillbitContext.java  |   5 -
 .../exec/server/options/FallbackOptionManager.java |   2 -
 .../drill/exec/server/options/OptionManager.java   |   1 +
 .../drill/exec/server/options/OptionValidator.java |  26 ++
 .../exec/server/options/SessionOptionManager.java  |  75 +++-
 .../exec/server/options/SystemOptionManager.java   |   7 +-
 .../drill/exec/server/options/TypeValidators.java  |  31 ++
 .../drill/exec/server/rest/QueryWrapper.java       |   3 +-
 .../drill/exec/testing/ExceptionInjection.java     |  84 ++--
 .../drill/exec/testing/ExceptionInjector.java      | 112 -----
 .../drill/exec/testing/ExecutionControls.java      | 193 +++++++++
 .../exec/testing/ExecutionControlsInjector.java    | 129 ++++++
 .../org/apache/drill/exec/testing/Injection.java   |  84 ++++
 .../testing/InjectionConfigurationException.java   |  35 ++
 .../apache/drill/exec/testing/InjectionSite.java   |  40 +-
 .../drill/exec/testing/NoOpControlsInjector.java   |  48 +++
 .../apache/drill/exec/testing/PauseInjection.java  |  63 +++
 .../drill/exec/testing/SimulatedExceptions.java    | 164 --------
 .../apache/drill/exec/work/foreman/Foreman.java    |  14 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |  55 ++-
 .../apache/drill/exec/work/user/UserWorker.java    |   9 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |   3 +-
 .../test/java/org/apache/drill/PlanningBase.java   |   8 +-
 .../java/org/apache/drill/SingleRowListener.java   |   3 +-
 .../exec/compile/TestClassTransformation.java      |   6 +-
 .../drill/exec/server/TestDrillbitResilience.java  | 461 +++++++++++++++------
 .../exec/store/parquet/ParquetResultListener.java  |   3 +-
 .../store/parquet/TestParquetPhysicalPlan.java     |   3 +-
 .../drill/exec/testing/ControlsInjectionUtil.java  |  95 +++++
 .../drill/exec/testing/ExceptionInjectionUtil.java |  82 ----
 .../drill/exec/testing/TestExceptionInjection.java | 257 ++++++++----
 .../drill/exec/testing/TestPauseInjection.java     |  96 +++++
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |   3 +-
 protocol/readme.txt                                |   2 +-
 46 files changed, 1682 insertions(+), 682 deletions(-)

commit 21dfe7ac81f3d6c6b2b27812a8b21023ebd7860e
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Wed Apr 8 17:31:00 2015 -0700

    DRILL-2754: Correctly allocate offset vector size for repeated type based on the number of groups being transferred, not the number of child values.
    
    Test various levels of nesting, the core change fixes all three of these previously failing cases.
    
    Test improvements, helper methods for easy construction of maps and lists in baselines.

 .../codegen/templates/RepeatedValueVectors.java    |  2 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  | 38 ++++++++++++++++++++
 .../java/org/apache/drill/TestFrameworkTest.java   | 40 ++++++----------------
 .../exec/vector/complex/writer/TestJsonReader.java | 30 +++++++++++++++-
 .../src/test/resources/store/json/null_list.json   |  6 ++++
 .../test/resources/store/json/null_list_v2.json    | 10 ++++++
 .../test/resources/store/json/null_list_v3.json    | 19 ++++++++++
 7 files changed, 113 insertions(+), 32 deletions(-)

commit 9ec257efb7992209e27c82e6f4ee8a5b12cc95e4
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Apr 18 09:19:48 2015 -0700

    DRILL-2825: Bump test memory to 3g due to sporadic OOM on TestLargeFileCompilation.

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c0d5a693ac70c42019b5841eea91252f9eaa7792
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Apr 8 19:06:03 2015 -0700

    DRILL-2762: Update Fragment state reporting and error collection
    
    DeferredException
    - Add new throwAndClear operation on to allow checking for exceptions preClose in FragmentContext
    - Add new getAndClear operation
    
    BufferManager
    - Ensure close() can be called multiple times by clearing managed buffer list on close().
    
    FragmentContext/FragmentExecutor
    - Update FragmentContext to have a preClose so that we can check closure state before doing final close.
    - Update so that there is only a single state maintained between FragmentContext and FragmentExecutor
    - Clean up FragmentExecutor run() method to better manage error states and have only single terminal point (avoiding multiple messages to Foreman).
    - Add new CANCELLATION_REQUESTED state for FragmentState.
    - Move all users of isCancelled or isFailed in main code to use shouldContinue()
    - Update receivingFragmentFinished message to not cancel fragment (only inform root operator of cancellation)
    
    WorkManager Updates
    - Add new afterExecute command to the WorkManager ExecutorService so that we get log entries if a thread leaks an exception.  (Otherwise logs don't show these exceptions and they only go to standard out.)
    
    Profile Page
    - Update profile page to show last update and last progress.
    - Change durations to non-time presentation
    
    Foreman/QueryManager
    - Extract listenable interfaces into anonymous inner classes from body of Foreman
    
    QueryManager
    - Update QueryManager to track completed nodes rather than completed fragments using NodeTracker
    - Update DrillbitStatusListener to decrement expected completion messages on Nodes that have died to avoid query hang when a node dies
    
    FragmentData/MinorFragmentProfile
    - Add ability to track last status update as well as last time fragment made progress
    
    AbstractRecordBatch
    - Update awareness of current cancellation state to avoid cancellation delays
    
    Misc. Other changes
    - Move ByteCode optimization code to only record assembly and code as trace messages
    - Update SimpleRootExec to create fake ExecutorState to make existing tests work.
    - Update sort to exit prematurely in the case that the fragment was asked to cancel.
    - Add finals to all edited files.
    - Modify control handler and FragmentManager to directly support receivingFragmentFinished
    - Update receiver propagation message to avoid premature removal of fragment manager
    - Update UserException.Builder to log a message if we're creating a new UserException (ERROR for System, INFO otherwise).
    - Update Profile pages to use min and max instead of sorts.

 .../org/apache/drill/common/DeferredException.java |  47 ++-
 .../drill/common/concurrent/ExtendedLatch.java     |  89 +++++
 .../drill/common/exceptions/UserException.java     |  66 ++--
 .../org/apache/drill/exec/compile/AsmUtil.java     |  28 +-
 .../exec/compile/bytecode/InstructionModifier.java |  28 +-
 .../compile/bytecode/ScalarReplacementNode.java    |  10 +-
 .../org/apache/drill/exec/ops/BufferManager.java   |   1 +
 .../org/apache/drill/exec/ops/FragmentContext.java | 143 +++++----
 .../drill/exec/physical/impl/BaseRootExec.java     |  10 +-
 .../impl/mergereceiver/MergingRecordBatch.java     | 143 ++++-----
 .../impl/producer/ProducerConsumerBatch.java       |  48 ++-
 .../physical/impl/project/ProjectRecordBatch.java  | 250 +++++++--------
 .../unorderedreceiver/UnorderedReceiverBatch.java  |  39 +--
 .../physical/impl/xsort/ExternalSortBatch.java     |   4 +
 .../exec/physical/impl/xsort/MSortTemplate.java    |  43 +--
 .../drill/exec/proto/helper/QueryIdHelper.java     |  23 +-
 .../drill/exec/record/AbstractRecordBatch.java     |  26 +-
 .../drill/exec/record/FragmentWritableBatch.java   |  50 ++-
 .../exec/rpc/data/DataResponseHandlerImpl.java     |  11 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  16 +-
 .../exec/server/rest/profile/Comparators.java      |  34 +-
 .../exec/server/rest/profile/FragmentWrapper.java  |  73 +++--
 .../exec/server/rest/profile/OperatorWrapper.java  |  26 +-
 .../exec/server/rest/profile/ProfileWrapper.java   |  49 +--
 .../exec/server/rest/profile/TableBuilder.java     |  77 +++--
 .../org/apache/drill/exec/work/WorkManager.java    |  34 +-
 .../drill/exec/work/batch/ControlHandlerImpl.java  |  20 +-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |  37 ++-
 .../apache/drill/exec/work/foreman/Foreman.java    | 127 ++++----
 .../drill/exec/work/foreman/FragmentData.java      |  77 ++++-
 .../drill/exec/work/foreman/QueryManager.java      | 292 +++++++++++------
 .../exec/work/fragment/AbstractStatusReporter.java |  62 ++--
 .../drill/exec/work/fragment/FragmentExecutor.java | 357 ++++++++++++---------
 .../drill/exec/work/fragment/FragmentManager.java  |   6 +-
 .../exec/work/fragment/NonRootFragmentManager.java |  40 ++-
 .../exec/work/fragment/RootFragmentManager.java    |  17 +-
 .../work/fragment/StateTransitionException.java    |  12 +-
 .../drill/exec/work/fragment/StatusReporter.java   |   2 +-
 .../drill/exec/physical/impl/SimpleRootExec.java   |  40 ++-
 .../exec/work/batch/TestUnlimitedBatchBuffer.java  |   4 +-
 .../drill/exec/proto/SchemaUserBitShared.java      |  14 +
 .../org/apache/drill/exec/proto/UserBitShared.java | 249 +++++++++++---
 .../drill/exec/proto/beans/FragmentState.java      |   4 +-
 .../exec/proto/beans/MinorFragmentProfile.java     |  44 +++
 protocol/src/main/protobuf/UserBitShared.proto     |   3 +
 45 files changed, 1718 insertions(+), 1057 deletions(-)

commit 071ed89b10b3b5b49ac0286f4717d74431e1efb3
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Apr 15 19:45:56 2015 -0700

    DRILL-2803: Fix compound hash function to use seed value for hash if additional value is null.

 .../exec/expr/fn/impl/Hash64FunctionsWithSeed.java | 32 +++++++++++-----------
 .../exec/expr/fn/impl/Hash64WithSeedAsDouble.java  | 18 ++++++------
 2 files changed, 25 insertions(+), 25 deletions(-)

commit cf1554641c07359e91a2836d245b0b07438d0cd5
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Apr 16 09:08:00 2015 -0700

    DRILL-2813: Update Hive statistics to use long instead of int for rowcount per split.

 .../org/apache/drill/exec/store/hive/HiveScan.java | 98 +++++++++++-----------
 1 file changed, 49 insertions(+), 49 deletions(-)

commit 238399de50b460106114d9003f3c9fc4b447f9ea
Author: adeneche <adeneche@gmail.com>
Date:   Tue Apr 14 13:46:39 2015 -0700

    DRILL-2675 (PART-2): Implement a subset of User Exceptions to improve how errors are reported to the user
    
    Added missing changes from committed patch

 .../common/exceptions/DrillUserException.java      | 204 --------
 .../drill/common/exceptions/ErrorHelper.java       |  37 +-
 .../drill/common/exceptions/UserException.java     | 550 +++++++++++++++++++++
 .../common/exceptions/UserExceptionContext.java    | 120 ++---
 ...moteException.java => UserRemoteException.java} |   4 +-
 ...llUserException.java => TestUserException.java} |  45 +-
 .../org/apache/drill/exec/client/DrillClient.java  |   4 +-
 .../drill/exec/client/PrintingResultsListener.java |   9 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |   6 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |   2 +
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   9 +-
 .../apache/drill/exec/rpc/CoordinationQueue.java   |   4 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |   6 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    |  19 +-
 .../drill/exec/rpc/user/UserResultsListener.java   |   4 +-
 .../drill/exec/server/rest/QueryWrapper.java       |   6 +-
 .../exec/store/easy/json/JSONRecordReader.java     |  22 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  13 +-
 .../drill/exec/work/foreman/QueryManager.java      |   4 +-
 .../exec/work/fragment/AbstractStatusReporter.java |   6 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |   7 +-
 .../drill/exec/work/fragment/StatusReporter.java   |   4 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |   6 +-
 .../java/org/apache/drill/SingleRowListener.java   |   4 +-
 .../test/java/org/apache/drill/TestBugFixes.java   |   6 +-
 .../apache/drill/TestDisabledFunctionality.java    |  62 +--
 .../java/org/apache/drill/TestStarQueries.java     |   6 +-
 .../test/java/org/apache/drill/TestUnionAll.java   |   6 +-
 .../drill/exec/server/TestDrillbitResilience.java  |   8 +-
 .../exec/store/parquet/ParquetResultListener.java  |   7 +-
 .../store/parquet/TestParquetPhysicalPlan.java     |   4 +-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |   6 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 112 +++++
 protocol/src/main/protobuf/UserBitShared.proto     |  36 ++
 34 files changed, 901 insertions(+), 447 deletions(-)

commit 64e3ec52b93e9331aa5179e040eca19afece8317
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon Apr 13 15:15:34 2015 -0700

    DRILL-2611: value vectors should report valid value count

 .../src/main/codegen/templates/ComplexWriters.java |  16 ++--
 .../main/codegen/templates/FixedValueVectors.java  | 103 +++++++++------------
 .../codegen/templates/NullableValueVectors.java    |  60 +-----------
 .../codegen/templates/RepeatedValueVectors.java    |  17 +---
 .../codegen/templates/VariableLengthVectors.java   |  18 ++--
 .../apache/drill/exec/expr/GetSetVectorHelper.java |  10 +-
 .../store/parquet/columnreaders/ColumnReader.java  |   3 +-
 .../columnreaders/FixedByteAlignedReader.java      |   4 +-
 .../columnreaders/FixedWidthRepeatedReader.java    |   4 +-
 .../columnreaders/NullableColumnReader.java        |   7 +-
 .../NullableFixedByteAlignedReaders.java           |   4 +-
 .../columnreaders/VarLengthColumnReaders.java      |  24 ++---
 .../drill/exec/vector/BaseDataValueVector.java     |  36 +------
 .../apache/drill/exec/vector/BaseValueVector.java  |   9 +-
 .../org/apache/drill/exec/vector/BitVector.java    |   8 +-
 15 files changed, 107 insertions(+), 216 deletions(-)

commit caf779d014f1ddb6ac6b36693760507805b3183a
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Apr 8 16:11:34 2015 -0700

    DRILL-2719: ValueVector#getBuffers(clear) must consistently clear vectors & retain buffers

 .../main/codegen/templates/NullableValueVectors.java    |  5 ++++-
 .../main/codegen/templates/RepeatedValueVectors.java    |  5 ++++-
 .../main/codegen/templates/VariableLengthVectors.java   |  6 +++++-
 .../apache/drill/exec/vector/BaseDataValueVector.java   | 17 +++++------------
 .../drill/exec/vector/complex/AbstractMapVector.java    | 10 ++++++++--
 .../drill/exec/vector/complex/RepeatedListVector.java   | 10 +++++++++-
 .../drill/exec/vector/complex/TestEmptyPopulator.java   |  2 ++
 7 files changed, 37 insertions(+), 18 deletions(-)

commit a7e959040dac7562aed6f86a62e21a2d192d67b0
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Apr 14 17:59:34 2015 -0700

    DRILL-2356: Fix round function for exact input types

 exec/java-exec/src/main/codegen/data/MathFunc.tdd  |  13 --
 .../exec/expr/fn/impl/conv/RoundFunctions.java     | 193 +++++++++++++++++++++
 .../java/org/apache/drill/TestFunctionsQuery.java  |  18 ++
 3 files changed, 211 insertions(+), 13 deletions(-)

commit cb47df0c87676c5e0c0f94e5346fcd28f73080d7
Author: Patrick Wong <pwong@maprtech.com>
Date:   Wed Apr 15 13:32:18 2015 -0700

    DRILL-2798 - don't print message about Drill log dir unless environment variable DRILL_LOG_DEBUG=1

 distribution/src/resources/drill-config.sh | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 033d0dfd6b7a5fa0eeaf4b337955b3870c2d680a
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Mar 23 18:17:26 2015 -0700

    DRILL-2658: Add ilike and substring functions

 .../drill/exec/expr/fn/impl/StringFunctions.java   | 103 +++++++++++++++++++++
 .../exec/expr/fn/impl/TestStringFunctions.java     |  59 ++++++++++++
 2 files changed, 162 insertions(+)

commit bf3db3186ce633ac4a494bad888ae54542175ca4
Author: Steven Phillips <smp@apache.org>
Date:   Wed Apr 15 03:26:04 2015 -0700

    DRILL-1512: Refactor AvroFormatPlugin
    
    Extend EasyFormatPlugin and remove AvroGroupScan and AvroSubScan

 .../drill/exec/store/avro/AvroFormatPlugin.java    |  92 +++------
 .../drill/exec/store/avro/AvroGroupScan.java       | 208 ---------------------
 .../drill/exec/store/avro/AvroRecordReader.java    |   4 +-
 .../exec/store/avro/AvroScanBatchCreator.java      |  52 ------
 .../apache/drill/exec/store/avro/AvroSubScan.java  | 142 --------------
 5 files changed, 24 insertions(+), 474 deletions(-)

commit 55a9a59d409ee93e42fcdbdc12afd8fb0caffe3f
Author: Andrew Selden <andrew.selden@elasticsearch.com>
Date:   Fri Oct 10 16:41:59 2014 -0700

    DRILL-1512: Avro record reader
    
    Reader for Avro data files.
    
    Supports:
    - All primitive types
    - Arrays
    - Nested records
    - Enums
    
    Unimplemented:
    - Endpoint affinity
    - Recursive data types
    - Complex types: Maps, Fixed, Unions

 exec/java-exec/pom.xml                             |  10 +
 .../drill/exec/store/avro/AvroFormatConfig.java    |  39 +++
 .../drill/exec/store/avro/AvroFormatPlugin.java    | 128 ++++++++
 .../drill/exec/store/avro/AvroGroupScan.java       | 208 +++++++++++++
 .../drill/exec/store/avro/AvroRecordReader.java    | 324 +++++++++++++++++++++
 .../exec/store/avro/AvroScanBatchCreator.java      |  52 ++++
 .../apache/drill/exec/store/avro/AvroSubScan.java  | 142 +++++++++
 .../drill/exec/store/avro/AvroTypeHelper.java      | 184 ++++++++++++
 .../drill/exec/store/avro/MapOrListWriter.java     | 105 +++++++
 .../main/resources/bootstrap-storage-plugins.json  |   6 +
 .../drill/exec/store/avro/AvroFormatTest.java      | 129 ++++++++
 .../apache/drill/exec/store/avro/AvroTestUtil.java | 270 +++++++++++++++++
 .../test/resources/bootstrap-storage-plugins.json  |   3 +
 .../org/apache/drill/exec/proto/UserBitShared.java |  16 +-
 .../drill/exec/proto/beans/CoreOperatorType.java   |   4 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   1 +
 16 files changed, 1617 insertions(+), 4 deletions(-)

commit 0f9887d91ee92f0c8f3197c55b95b694e7dcd9f4
Author: B Anil Kumar <akumarb2010@gmail.com>
Date:   Wed Apr 15 02:10:17 2015 -0700

    DRILL-1899: Consider read preference set by users

 .../drill/exec/store/mongo/MongoGroupScan.java     | 69 +++++++++++++++++-----
 .../drill/exec/store/mongo/MongoRecordReader.java  |  1 -
 .../store/mongo/schema/MongoSchemaFactory.java     |  1 -
 3 files changed, 54 insertions(+), 17 deletions(-)

commit 07cca5dba2b19450c35b770aa9da0e9c62fc35f8
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Apr 15 07:24:31 2015 -0700

    DRILL-2422: Before creating view make sure no table already exists with given name.

 .../planner/sql/handlers/CreateTableHandler.java   | 15 +++----
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  | 14 +++++++
 .../exec/planner/sql/handlers/ViewHandler.java     | 30 ++++++++++----
 .../physical/impl/writer/TestParquetWriter.java    | 48 +++++++++++++++++++++-
 .../org/apache/drill/exec/sql/TestViewSupport.java | 40 +++++++++++++++++-
 5 files changed, 126 insertions(+), 21 deletions(-)

commit f55e53a161857fbad92b20b382af56f4934a65c5
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Apr 14 22:21:39 2015 -0700

    DRILL-2606: Fix BIT (de)serialization issues in ExprParser.

 .../drill/common/expression/parser/ExprLexer.g     |  3 +-
 .../drill/common/expression/parser/ExprParser.g    |  7 ++-
 .../drill/common/expression/parser/TreeTest.java   |  5 ++
 .../drill/exec/expr/TestLogicalExprSerDe.java      | 55 ++++++++++++++++++++++
 4 files changed, 68 insertions(+), 2 deletions(-)

commit 09e752ee14bbe2f1433a05a9ca9390f575f1232f
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Apr 14 19:28:44 2015 -0700

    DRILL-2341: Get type information from view def when views field list is specified.

 .../drill/exec/planner/common/DrillRelOptUtil.java | 36 +++++++++
 .../planner/sql/handlers/CreateTableHandler.java   | 38 +---------
 .../exec/planner/sql/handlers/SqlHandlerUtil.java  | 86 ++++++++++++++++++++++
 .../exec/planner/sql/handlers/ViewHandler.java     | 38 +++-------
 .../physical/impl/writer/TestParquetWriter.java    | 26 +++++++
 .../org/apache/drill/exec/sql/TestViewSupport.java | 29 ++++++++
 6 files changed, 191 insertions(+), 62 deletions(-)

commit 314e5a2a8f476f059153fde1b7e7da7d882db94e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Mar 8 21:37:44 2015 -0700

    DRILL-2695: Add Support for large in conditions through the use of the Values operator.
    Update JSON reader to support reading Extended JSON.
    Update JSON writer to support writing extended JSON data.
    Update JSON reader to automatically unwrap a file that includes a single top-level array (used by values).
    Update Options manager to use getOption(<Type>Validator) to directly retrieve typed value.
    Remove JSON rewinding
    Add support for CONVERT_TO( [], 'SIMPLEJSON') to disable extended types as part of udf use.

 .../java/org/apache/drill/common/JSONOptions.java  |  12 +
 .../logical/data/{Constant.java => Values.java}    |  27 +-
 .../data/visitors/AbstractLogicalVisitor.java      |   4 +-
 .../logical/data/visitors/LogicalVisitor.java      |   4 +-
 .../java/org/apache/drill/common/types/Types.java  |  48 +-
 .../drill/exec/store/mongo/MongoRecordReader.java  |   2 +-
 .../src/main/codegen/templates/BaseWriter.java     |   5 -
 .../src/main/codegen/templates/ComplexReaders.java |  24 +-
 .../src/main/codegen/templates/ComplexWriters.java |  61 +--
 .../codegen/templates/JsonOutputRecordWriter.java  | 119 +++--
 .../src/main/codegen/templates/ListWriters.java    |  48 +-
 .../src/main/codegen/templates/MapWriters.java     |  44 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   5 +-
 .../drill/exec/expr/fn/impl/DateUtility.java       |  13 +
 .../exec/expr/fn/impl/conv/JsonConvertFrom.java    |   4 +-
 .../exec/expr/fn/impl/conv/JsonConvertTo.java      |  32 +-
 .../physical/base/AbstractPhysicalVisitor.java     |   6 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   2 +
 .../apache/drill/exec/physical/config/Values.java  |  71 +++
 .../physical/impl/flatten/FlattenTemplate.java     |   5 +-
 .../physical/impl/values/ValuesBatchCreator.java   |  44 ++
 .../drill/exec/planner/logical/DrillOptiq.java     |   4 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |   3 +
 .../drill/exec/planner/logical/DrillValuesRel.java | 255 +++++++++-
 .../exec/planner/logical/ScanFieldDeterminer.java  |   4 +-
 .../drill/exec/planner/physical/ValuesPrel.java    |  78 +++
 .../drill/exec/planner/physical/ValuesPrule.java   |  48 ++
 .../exec/server/options/BaseOptionManager.java     |  56 +++
 .../exec/server/options/FallbackOptionManager.java |   2 +-
 .../drill/exec/server/options/OptionManager.java   |   9 +
 .../exec/server/options/SystemOptionManager.java   |   7 +-
 .../exec/store/easy/json/JSONFormatPlugin.java     |   2 +
 .../exec/store/easy/json/JSONRecordReader.java     | 127 +++--
 .../drill/exec/store/easy/json/JsonProcessor.java  |   4 +-
 .../exec/store/easy/json/JsonRecordWriter.java     |  14 +-
 .../exec/store/easy/json/RewindableUtf8Reader.java | 157 ------
 .../store/easy/json/reader/BaseJsonProcessor.java  |  38 +-
 .../store/easy/json/reader/CountingJsonReader.java |   4 +-
 .../exec/store/parquet2/DrillParquetReader.java    |   9 -
 .../parquet2/DrillParquetRecordMaterializer.java   |   4 -
 .../apache/drill/exec/vector/RepeatedVector.java   |   2 +-
 .../exec/vector/complex/fn/BasicJsonOutput.java    | 530 +++++++++++++++++++++
 .../exec/vector/complex/fn/DateOutputFormat.java   |  37 ++
 .../exec/vector/complex/fn/ExtendedJsonOutput.java | 183 +++++++
 .../{WriteState.java => fn/ExtendedType.java}      |  34 +-
 .../exec/vector/complex/fn/ExtendedTypeName.java   |  29 ++
 .../drill/exec/vector/complex/fn/JsonOutput.java   | 109 +++++
 .../drill/exec/vector/complex/fn/JsonReader.java   | 335 +++++++------
 .../drill/exec/vector/complex/fn/JsonWriter.java   | 104 ++--
 .../drill/exec/vector/complex/fn/VectorOutput.java | 295 ++++++++++++
 .../exec/vector/complex/fn/WorkingBuffer.java      |  70 +++
 .../vector/complex/impl/AbstractBaseWriter.java    |  21 -
 .../vector/complex/impl/ComplexWriterImpl.java     |   5 -
 .../complex/impl/RepeatedListReaderImpl.java       |   4 +-
 .../vector/complex/impl/RepeatedMapReaderImpl.java |   4 +-
 .../vector/complex/impl/SingleMapReaderImpl.java   |  12 +-
 .../vector/complex/impl/VectorContainerWriter.java |   5 -
 .../physical/impl/filter/TestLargeInClause.java    |  62 +++
 .../exec/store/json/TestJsonRecordReader.java      |   5 +
 .../vector/complex/writer/TestExtendedTypes.java   |  57 +++
 .../exec/vector/complex/writer/TestRepeated.java   |   3 +-
 .../src/test/resources/store/json/listdoc.json     |   4 +
 .../test/resources/vector/complex/extended.json    |  41 ++
 64 files changed, 2636 insertions(+), 723 deletions(-)

commit 75455e809c34bbcc79da8a517e955f19f521a6a8
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Tue Apr 14 13:08:31 2015 -0700

    DRILL-2788: fix NullableVV empty population logic

 exec/java-exec/src/main/codegen/templates/NullableValueVectors.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 99b6d0e6d2fc6dea165e9e809db4fc63d9a70d3a
Author: adeneche <adeneche@gmail.com>
Date:   Thu Apr 9 09:30:33 2015 -0700

    DRILL-2675: Implement a subset of User Exceptions to improve how errors are reported to the user

 .../common/exceptions/DrillRemoteException.java    |  27 +-
 .../common/exceptions/DrillUserException.java      | 204 +++++++++++
 .../drill/common/exceptions/ErrorHelper.java       | 186 ++++++++++
 .../common/exceptions/UserExceptionContext.java    | 148 ++++++++
 .../common/exceptions/TestDrillUserException.java  | 130 +++++++
 .../org/apache/drill/exec/client/DrillClient.java  |   5 +-
 .../drill/exec/client/PrintingResultsListener.java |   9 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  17 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |   2 -
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  18 +-
 .../apache/drill/exec/rpc/CoordinationQueue.java   |   3 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |  12 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    |  28 +-
 .../drill/exec/rpc/user/UserResultsListener.java   |   4 +-
 .../drill/exec/server/rest/QueryWrapper.java       |   6 +-
 .../exec/store/easy/json/JSONRecordReader.java     |  28 +-
 .../org/apache/drill/exec/work/ErrorHelper.java    | 229 ------------
 .../apache/drill/exec/work/foreman/Foreman.java    |  17 +-
 .../drill/exec/work/foreman/QueryManager.java      |   4 +-
 .../exec/work/foreman/SqlUnsupportedException.java |   4 +-
 .../exec/work/fragment/AbstractStatusReporter.java |  14 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |  13 +-
 .../drill/exec/work/fragment/StatusReporter.java   |   3 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  11 +-
 .../java/org/apache/drill/SingleRowListener.java   |   6 +-
 .../test/java/org/apache/drill/TestBugFixes.java   |   6 +-
 .../apache/drill/TestDisabledFunctionality.java    | 140 +++----
 .../java/org/apache/drill/TestStarQueries.java     |   6 +-
 .../test/java/org/apache/drill/TestUnionAll.java   |   8 +-
 .../drill/exec/server/TestDrillbitResilience.java  |  22 +-
 .../exec/store/parquet/ParquetResultListener.java  |   8 +-
 .../store/parquet/TestParquetPhysicalPlan.java     |   4 +-
 .../java/org/apache/drill/jdbc/DrillCursor.java    |   4 +-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java |   8 +-
 .../drill/exec/proto/SchemaUserBitShared.java      |   4 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 408 +++++++++++++++------
 .../drill/exec/proto/beans/DrillPBError.java       |  58 ++-
 protocol/src/main/protobuf/UserBitShared.proto     |  14 +-
 38 files changed, 1238 insertions(+), 580 deletions(-)

commit 859e6a86b1c11bc30c5d1d91d176503b4f5cefbe
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Mar 17 00:29:51 2015 -0700

    DRILL-2728: Merge spill files when number gets too large

 .../drill/exec/physical/impl/xsort/BatchGroup.java |  1 +
 .../physical/impl/xsort/ExternalSortBatch.java     | 33 +++++++++++++---------
 2 files changed, 20 insertions(+), 14 deletions(-)

commit 959419dec8de5bc494557167e22f9d264f30ae7a
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sat Mar 14 20:31:21 2015 -0700

    DRILL-2730: Use different paths for ExternalSort spills

 .../physical/impl/xsort/ExternalSortBatch.java     | 29 +++++++++++++++++++---
 1 file changed, 25 insertions(+), 4 deletions(-)

commit 96943de36128c9ceb2a8e8c5212cb2b3e4101e26
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Mar 25 18:35:20 2015 -0700

    DRILL-2577: Use DrillPathFilter in FooterGatherer

 .../drill/exec/store/parquet/FooterGatherer.java   |  3 +-
 .../drill/exec/store/parquet/TestParquetScan.java  | 66 ++++++++++++++++++++++
 2 files changed, 68 insertions(+), 1 deletion(-)

commit 7cee11c2bf24b0dd532f1068526bf7caecc9a935
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Fri Apr 10 14:07:39 2015 -0700

    DRILL-2766: Removed SystemRecordReader and SystemRecords
    + Use PojoRecordReader with ThreadsIterator and MemoryIterator
    + Includes DRILL-2670: Added a test case since DRILL-2714 resolves this issue

 .../drill/exec/store/sys/MemoryIterator.java       |  77 +++++++++++
 .../apache/drill/exec/store/sys/MemoryRecord.java  | 141 ---------------------
 .../apache/drill/exec/store/sys/SystemRecord.java  |  44 -------
 .../drill/exec/store/sys/SystemRecordReader.java   |  77 -----------
 .../apache/drill/exec/store/sys/SystemTable.java   |  46 +++----
 .../exec/store/sys/SystemTableBatchCreator.java    |  12 +-
 .../drill/exec/store/sys/SystemTablePlugin.java    |   4 +-
 .../drill/exec/store/sys/ThreadsIterator.java      |  70 ++++++++++
 .../apache/drill/exec/store/sys/ThreadsRecord.java | 119 -----------------
 .../drill/exec/store/sys/TestSystemTable.java      |  14 +-
 10 files changed, 180 insertions(+), 424 deletions(-)

commit 5441e72c0d97e8ccd7c196f5a9f6f23fdc8d2b32
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Apr 14 09:36:32 2015 -0700

    DRILL-2781: Protobuf changes for nested loop join

 .../src/main/java/org/apache/drill/exec/proto/UserBitShared.java    | 6 +++---
 .../java/org/apache/drill/exec/proto/beans/CoreOperatorType.java    | 4 +++-
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 3b5a87e89e55c14bb792ae2d0e7429e34cb035a9
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Apr 13 14:17:34 2015 -0700

    DRILL-2771: Fix hash join to use required type for projecting map types in the right outer join case.

 .../apache/drill/exec/physical/impl/join/HashJoinBatch.java |  6 ++++--
 .../drill/exec/physical/impl/join/TestHashJoinAdvanced.java | 13 +++++++++++++
 2 files changed, 17 insertions(+), 2 deletions(-)

commit ea2c9efb993fa29317ee846839d57d1c54be6168
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Apr 13 11:26:50 2015 -0700

    DRILL-2707: Fix HashJoinBatch to set output type to be optional while performing full outer join

 .../drill/exec/physical/impl/join/HashJoinBatch.java     |   8 +++++---
 .../{TestJoinComplex.java => TestHashJoinAdvanced.java}  |  15 ++++++++++++++-
 .../resources/parquet/drill-2707_required_types.parquet  | Bin 0 -> 264 bytes
 3 files changed, 19 insertions(+), 4 deletions(-)

commit cc752c1a93750482f0a9f1abf13a2ea6ea2f53af
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Mar 16 22:03:57 2015 -0700

    DRILL-2758: Fix writer cleanup

 .../java/org/apache/drill/exec/physical/impl/WriterRecordBatch.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ba12f3d808dc310a9260b5971144b4350fe64ac9
Author: adeneche <adeneche@gmail.com>
Date:   Mon Mar 2 12:21:31 2015 -0800

    DRILL-1410: Move off of Parquet fork

 .../apache/drill/exec/store/parquet/ParquetRecordWriter.java  | 11 ++++++-----
 .../drill/exec/store/parquet/columnreaders/PageReader.java    |  9 ++++++---
 .../apache/drill/exec/store/parquet2/DrillParquetReader.java  |  2 +-
 .../src/main/java/parquet/hadoop/ColumnChunkIncReadStore.java |  7 ++++---
 .../drill/exec/store/parquet/ParquetRecordReaderTest.java     |  4 ++--
 pom.xml                                                       |  2 +-
 6 files changed, 20 insertions(+), 15 deletions(-)

commit a6df26ac030068239ad63335f871f0aefe735ef7
Author: AdamPD <adam@pharmadata.net.au>
Date:   Mon Apr 13 16:25:29 2015 +1000

    DRILL-2512: Shuffle the list of Drill endpoints before connecting

 .../main/java/org/apache/drill/exec/client/DrillClient.java    | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 49042bca078aacb24a8d0dddb451363be8e764da
Author: dbarclay <dbarclay@maprtech.com>
Date:   Thu Apr 2 13:43:36 2015 -0700

    DRILL-2668: Fix: CAST(1.1 AS FLOAT) was yielding DOUBLE.
    
    - Added test method (and others for parallel cases) to TestFunctionsQuery.
    - Fixed use of DOUBLE methods/classes for FLOAT:
      - Changed a FLOAT -> DOUBLE mapping in ValueExpressions.
      - Added parallel FLOAT methods/classes in EvaluationVisitor.

 .../drill/common/expression/ValueExpressions.java  |  2 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 25 +++++++
 .../java/org/apache/drill/TestFunctionsQuery.java  | 76 ++++++++++++++++++++++
 3 files changed, 102 insertions(+), 1 deletion(-)

commit fe11e86c81c5a016febdcf89d790b3de2bc33ced
Author: dbarclay <dbarclay@maprtech.com>
Date:   Sun Mar 29 14:45:33 2015 -0700

    DRILL-2613: 2-Core: Impl. ResultSet.getXxx(...) number-to-number data conversions.
    
    - Created tests:
      - integration-level unit test ResultSetGetMethodConversionsTest
      - unit-level unit test TypeConvertingAccessorSqlTest
    - Created number-converting TypeConvertingSqlAccessor.
    - Created conversion exceptions (SQLConversionException, SQLConversionOverflowException).
    - Adjusted things:
      - Moved InvalidAccessException out into its own file, refined ancestry.
      - Moved getType() up to SqlAccessor (for access by TypeConvertingSqlAccessor).
      - Made AbstractSqlAccessor public (for use by TypeConvertingSqlAccessor).
    - Documented supported ResultSet.getXxx(...) conversions (on new interface
      DrillResultSet).

 .../src/main/codegen/templates/SqlAccessors.java   |   2 +-
 .../exec/vector/accessor/AbstractSqlAccessor.java  |  44 +-
 .../vector/accessor/BoundCheckingAccessor.java     |  40 +-
 .../exec/vector/accessor/GenericAccessor.java      |   2 +-
 .../vector/accessor/InvalidAccessException.java    |  37 +
 .../drill/exec/vector/accessor/SqlAccessor.java    |  12 +-
 .../org/apache/drill/jdbc/DrillAccessorList.java   |   6 +-
 .../java/org/apache/drill/jdbc/DrillResultSet.java | 498 +++++++++++-
 .../apache/drill/jdbc/SQLConversionException.java  |  28 +
 .../drill/jdbc/SQLConversionOverflowException.java |  27 +
 .../drill/jdbc/impl/TypeConvertingSqlAccessor.java | 824 ++++++++++++++++++++
 .../jdbc/ResultSetGetMethodConversionsTest.java    | 711 +++++++++++++++++
 .../jdbc/impl/TypeConvertingSqlAccessorTest.java   | 849 +++++++++++++++++++++
 13 files changed, 3032 insertions(+), 48 deletions(-)

commit 690ffa9cf142d4c2f15a99434c0eb04c0a55ba64
Author: dbarclay <dbarclay@maprtech.com>
Date:   Wed Apr 8 23:26:18 2015 -0700

    DRILL-2613: 1-Hygiene/prep.: Split DrillResultSet impl. vs. intf.; renaming.
    
    Code "hygiene":
    - Renamed parameter index to rowOffset, and documented it, in SqlAccessor.
    - Renamed index to rowOffset in AbstractSqlAccessor and BoundCheckingAccessor too.
    - Fixed a cast to DrillResultSet to be a ResultSet.unwrap(...) call.
    
    Preparation:  Split DrillResultSet into interface vs. implementation:
    - Moved old implementation class org.apache.drill.jdbc.DrillResultSet
      to  new  implementation  class org.apache.drill.jdbc.impl.DrillResultSetImpl.
    - Created      new     interface org.apache.drill.jdbc.DrillResultSet,
      declaring method getQueryId(...).
    - Relatedly, in nearby JDBC code:
      - Renamed various references.
      - Added some "public" qualifiers.  Most are only for the interim until
        DRILL-2089 (moving other implementation classes from org.apache.drill.jdbc
        to org.apache.drill.jdbc.impl) is completed sufficiently.  (See marking
        with "DRILL-2089".)n
    - (Files: old DrillResultSet, DrillResultSetImpl, new DrillResultSet;
      DrillConnectionImpl, DrillCursor, DrillJdbc41Factory, MetaImpl;
      JdbcTestQueryBase.)

 .../exec/vector/accessor/AbstractSqlAccessor.java  |  36 +--
 .../vector/accessor/BoundCheckingAccessor.java     |  74 +++---
 .../drill/exec/vector/accessor/SqlAccessor.java    |  41 ++--
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |   6 +-
 .../java/org/apache/drill/jdbc/DrillCursor.java    |   9 +-
 .../org/apache/drill/jdbc/DrillJdbc41Factory.java  |   6 +-
 .../java/org/apache/drill/jdbc/DrillResultSet.java | 242 ++-----------------
 .../main/java/org/apache/drill/jdbc/MetaImpl.java  |   4 +-
 .../apache/drill/jdbc/impl/DrillResultSetImpl.java | 263 +++++++++++++++++++++
 .../apache/drill/jdbc/test/JdbcTestQueryBase.java  |   3 +-
 10 files changed, 379 insertions(+), 305 deletions(-)

commit d7e37f45a27db870ac5c2189f8aaeae495564144
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Mar 25 19:01:23 2015 -0700

    DRILL-2333: Use long instead of int to store writer record count.

 .../java/org/apache/drill/exec/physical/impl/WriterRecordBatch.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4993bd2bbe841930432a76ab4b01d72b2ba5b2ae
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Mar 17 15:48:15 2015 -0700

    DRILL-2731: Repeat realloc until enough space
    
    Repeat realloc for variable length vectors as well

 .../main/codegen/templates/FixedValueVectors.java    | 20 ++++++++++----------
 .../codegen/templates/VariableLengthVectors.java     | 14 +++++++-------
 .../java/org/apache/drill/exec/vector/BitVector.java |  6 +++---
 3 files changed, 20 insertions(+), 20 deletions(-)

commit 6edf6eb1cf21dc92127cc7cb8d89f77c7edc21fe
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Apr 9 15:31:07 2015 -0700

    DRILL-2741: Continue waiting for completion of sent batches when interrupted

 .../java/org/apache/drill/exec/ops/SendingAccountor.java | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 712b57b981ec2ace8b16b1c34654ad91e1c2cf31
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Apr 7 16:59:52 2015 -0700

    DRILL-2718: Move counting and tracking of sent batches to FragmentContext
    
    Creates wrapper classes FragmentDataTunnel and FragmentUserDataTunnel which wrap
    the DataTunnel and UserClientConnection, respectively, allowing us to use DataTunnels
    and UserClientConnections from a global pool, but track pending batches and send status
    at the FragmentContext level.
    
    Consolidates the various StatusListener implementations used by the various senders and
    instead uses just one implementation.

 .../drill/exec/ops/AccountingDataTunnel.java       | 44 +++++++++++++++
 .../drill/exec/ops/AccountingUserConnection.java   | 44 +++++++++++++++
 .../java/org/apache/drill/exec/ops/Consumer.java   | 23 ++++++++
 .../org/apache/drill/exec/ops/FragmentContext.java | 44 +++++++++++----
 .../{physical/impl => ops}/SendingAccountor.java   |  8 +--
 .../org/apache/drill/exec/ops/StatusHandler.java   | 56 +++++++++++++++++++
 .../drill/exec/physical/impl/BaseRootExec.java     | 29 ++++++++--
 .../drill/exec/physical/impl/ScreenCreator.java    | 63 +++------------------
 .../exec/physical/impl/SingleSenderCreator.java    | 44 ++-------------
 .../broadcastsender/BroadcastSenderRootExec.java   | 53 +++---------------
 .../partitionsender/PartitionSenderRootExec.java   | 20 ++-----
 .../physical/impl/partitionsender/Partitioner.java |  5 +-
 .../impl/partitionsender/PartitionerTemplate.java  | 28 +++-------
 .../impl/partitionsender/StatusHandler.java        | 65 ----------------------
 .../org/apache/drill/exec/rpc/user/UserClient.java |  6 +-
 15 files changed, 267 insertions(+), 265 deletions(-)

commit 08236fa59ae7bc6326409d373ef91bca3b2328f1
Author: Julian Hyde <jhyde@apache.org>
Date:   Mon Mar 9 10:14:01 2015 -0700

    DRILL-412: FoodMart data (account.json) cause JsonParseException
    
    DRILL-367: FoodMart data (category.json) packaged with Drill does not conform with JSON specification
    
    Obsolete Pentaho repo

 exec/java-exec/pom.xml |  6 +++---
 exec/jdbc-all/pom.xml  | 16 ++++++++--------
 exec/jdbc/pom.xml      | 12 ++++++------
 pom.xml                | 15 ---------------
 4 files changed, 17 insertions(+), 32 deletions(-)

commit f71814441bc032028ac2b45658a6956b42c6555d
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Apr 8 19:14:14 2015 -0700

    DRILL-2729: Fix deserialization issues with Hive decimal type partition columns.

 .../org/apache/drill/exec/store/hive/HiveRecordReader.java   |  4 ++--
 .../java/org/apache/drill/exec/hive/TestHiveStorage.java     | 12 ++++++------
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 4e9a17e20da20de0f4f2088dda963f36f62ccf09
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Fri Apr 3 15:23:32 2015 -0700

    DRILL-2039: set surefire fork count proportional to number of cores

 contrib/storage-hive/core/pom.xml | 8 --------
 exec/jdbc/pom.xml                 | 8 --------
 pom.xml                           | 2 +-
 3 files changed, 1 insertion(+), 17 deletions(-)

commit cae50988e733f21890c5aa0bb38f89233ab31786
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Apr 8 00:15:21 2015 -0700

    DRILL-2685: Unique-ify local Hive metastore directory per test JVM instance.

 .../org/apache/drill/exec/hive/HiveTestBase.java   |   6 +-
 .../apache/drill/exec/hive/TestHiveStorage.java    |   3 +-
 .../exec/sql/hive/TestViewSupportOnHiveTables.java |   6 +-
 .../exec/store/hive/HiveTestDataGenerator.java     | 165 ++++++++++-----------
 4 files changed, 89 insertions(+), 91 deletions(-)

commit 451f500072e9c4bad4cbbc44b39e5766bf012182
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Apr 7 16:35:11 2015 -0700

    DRILL-2733: Make dfs_test.tmp schema location on local fs exclusive to test JVM fork.

 .../org/apache/drill/exec/util/TestUtilities.java  |  89 +++++++++++++++
 .../test/java/org/apache/drill/BaseTestQuery.java  |  31 ++++-
 .../java/org/apache/drill/TestExampleQueries.java  |  14 +--
 .../java/org/apache/drill/TestMergeFilterPlan.java |   2 +-
 .../java/org/apache/drill/TestStarQueries.java     |   2 +-
 .../test/java/org/apache/drill/TestUnionAll.java   |  14 +--
 .../apache/drill/exec/cache/TestWriteToDisk.java   |  15 ++-
 .../exec/compile/TestLargeFileCompilation.java     |   2 +-
 .../physical/impl/writer/TestParquetWriter.java    | 127 +++++++++++----------
 .../exec/physical/impl/writer/TestWriter.java      |  84 ++++++++------
 .../user/security/TestCustomUserAuthenticator.java |   2 +-
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |  33 ++++++
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java |  47 ++++----
 .../org/apache/drill/jdbc/DrillResultSetTest.java  |   5 +-
 .../jdbc/test/Bug1735ConnectionCloseTest.java      |   4 +-
 ...l2439GetBooleanFailsSayingWrongTypeBugTest.java |   2 +-
 .../Drill2461IntervalsBreakInfoSchemaBugTest.java  |   4 +-
 ...ill2463GetNullsFailedWithAssertionsBugTest.java |   2 +-
 ...rill2489CallsAfterCloseThrowExceptionsTest.java |  22 ++--
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |   5 +-
 20 files changed, 343 insertions(+), 163 deletions(-)

commit 375f8415d6fc6d85ca7109bc3420494227c4b12b
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Dec 26 11:39:46 2014 -0800

    DRILL-2641: Move unrelated tests in exec/jdbc module into appropriate modules
    
    Also:
    - Update the tests to use the new test framework
    - Remove duplicate tests (TestHiveScalarUDFs.java)

 .../main/resources/bootstrap-storage-plugins.json  |  15 -
 .../apache/drill/exec/hive/TestHiveStorage.java    | 143 ++++++-
 .../exec/hive/TestInfoSchemaOnHiveStorage.java     | 120 ++++++
 .../exec/store/hive/HiveTestDataGenerator.java     |  18 +-
 .../org/apache/drill/exec/sql/TestInfoSchema.java  | 320 ++++++++++++++
 exec/jdbc/pom.xml                                  |  11 -
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java |  31 +-
 .../apache/drill/jdbc/test/TestHiveScalarUDFs.java |  57 ---
 .../apache/drill/jdbc/test/TestHiveStorage.java    |  99 -----
 .../apache/drill/jdbc/test/TestMetadataDDL.java    | 470 ---------------------
 .../test/resources/bootstrap-storage-plugins.json  |  15 -
 11 files changed, 613 insertions(+), 686 deletions(-)

commit 931ed64f6f7cf5a883ddd5ae2459438dbac21b1f
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jan 22 14:05:10 2015 -0800

    DRILL-2715: Implement nested loop join operator

 .../physical/base/AbstractPhysicalVisitor.java     |   6 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   2 +
 .../exec/physical/config/NestedLoopJoinPOP.java    | 105 +++++++
 .../exec/physical/impl/join/NestedLoopJoin.java    |  50 ++++
 .../physical/impl/join/NestedLoopJoinBatch.java    | 330 +++++++++++++++++++++
 .../impl/join/NestedLoopJoinBatchCreator.java      |  33 +++
 .../physical/impl/join/NestedLoopJoinTemplate.java | 195 ++++++++++++
 .../exec/record/ExpandableHyperContainer.java      |   2 +
 .../org/apache/drill/exec/proto/UserBitShared.java |   9 +
 protocol/src/main/protobuf/UserBitShared.proto     |   1 +
 10 files changed, 733 insertions(+)

commit 093626e33671510eb3952a09f6fefcb33bc90f18
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Mar 30 10:43:49 2015 -0700

    DRILL-2612: Union-All can work even when the right input side comes from an empty data source

 .../physical/impl/union/UnionAllRecordBatch.java   | 79 +++++++++++++++++++---
 .../test/java/org/apache/drill/TestUnionAll.java   | 21 ++++++
 2 files changed, 90 insertions(+), 10 deletions(-)

commit 38eb383a9589891dbd37033545145cca25d1a253
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Wed Apr 1 15:16:52 2015 -0700

    DRILL-2639: At planning for Union-All, block only the cases where implicit casting cannot resolve an output type

 .../java/org/apache/drill/common/types/Types.java  | 56 ++++++++++++++--------
 .../drill/exec/planner/common/DrillRelOptUtil.java | 16 ++++++-
 .../exec/planner/common/DrillUnionRelBase.java     |  2 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |  1 +
 .../test/java/org/apache/drill/TestUnionAll.java   | 19 ++++++++
 5 files changed, 73 insertions(+), 21 deletions(-)

commit 434099659602620a034e26f52800acc7101e91fa
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Apr 10 14:23:02 2015 -0700

    DRILL-2717 (continuation) Fix checkstyle.

 exec/java-exec/src/test/java/org/apache/drill/TestUnionAll.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8217ec98bdc0cba7b1c922cf802698b442eb8937
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Apr 6 11:36:50 2015 -0700

    DRILL-2717: The upstream message returned by Union-All (when innerNext is called on Union-All) is corrected

 .../physical/impl/union/UnionAllRecordBatch.java   |  3 +--
 .../test/java/org/apache/drill/TestUnionAll.java   | 30 ++++++++++++++++++++++
 2 files changed, 31 insertions(+), 2 deletions(-)

commit cbfe5772d02b6bb36af9ffd6c8572d612b4a88d5
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Tue Apr 7 15:00:16 2015 -0700

    DRILL-2714: For SystemTable, Enforce Width only if the table is distributed (e.g., sys.memoy, sys.drillbits, sys.threads)

 .../java/org/apache/drill/exec/store/sys/SystemTableScan.java  |  4 ++--
 .../src/test/java/org/apache/drill/TestStarQueries.java        | 10 +++++++++-
 2 files changed, 11 insertions(+), 3 deletions(-)

commit f066786e45b1c3ce93fafd339f0ad9c7bf4904bc
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Mar 24 22:58:33 2015 -0700

    DRILL-2565: Add some key "already-closed" checks, with test for future DRILL-2489 work.
    
    - Created AlreadyClosedSqlException.
    - (Moved JdbcApiSqlException to be subclass of SQLNonTransientException.)
    - Created test Drill2489CallsAfterCloseThrowExceptionsTest for eventual fixing
      of DRILL-2489.
      - (Is partial:  Covers Connection, Statement, and ResultSet.)
      - (Is interim:  Most methods' tests disabled with @Ignore("...DRILL-2489...").)
    - Added already-closed checking in key places, especially those that involve
      communication and could hang for a while rather than dying quickly (e.g.,
      Statement.execute...(...)).

 .../drill/jdbc/AlreadyClosedSqlException.java      |   95 +
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |   13 +
 .../apache/drill/jdbc/DrillDatabaseMetaData.java   |   67 +-
 .../java/org/apache/drill/jdbc/DrillResultSet.java |   21 +
 .../java/org/apache/drill/jdbc/DrillStatement.java |   46 +
 .../drill/jdbc/InvalidCursorStateSqlException.java |    3 +-
 .../org/apache/drill/jdbc/JdbcApiSqlException.java |   11 +-
 ...rill2489CallsAfterCloseThrowExceptionsTest.java | 1862 ++++++++++++++++++++
 8 files changed, 2108 insertions(+), 10 deletions(-)

commit b2e9cd0e7d14231bb239c4c4cc99b2abc01d5e4e
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Fri Apr 3 19:49:41 2015 -0700

    DRILL-2684: fix clashing view names

 .../test/java/org/apache/drill/TestExampleQueries.java   | 16 ++++++++--------
 .../src/test/java/org/apache/drill/TestUnionAll.java     | 12 ++++++------
 2 files changed, 14 insertions(+), 14 deletions(-)

commit e4e88cca931569011290a036fed6b1602ac80839
Author: Norris Lee <norrisl@simba.com>
Date:   Mon Apr 6 11:20:34 2015 -0700

    DRILL-2671: C++ Client Authentication API passing std::string across DLL boundaries

 contrib/native/client/src/include/drill/drillClient.hpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ab7034b2ba0c8cbdaf33372249bf68491ffe0f39
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Mar 31 12:04:17 2015 -0700

    DRILL-2638: Regularize startup/shutdown logging a bit in/near Drillbit.
    
    In Drillbit:
    - Added shutdown time (ms).
    - Regularized to have bracketing "starting" and "finished" messages (when DEBUG
      enabled; include only messages with times at INFO level).  (See examples below.)
    - Edited text.
    
    In FunctionImplementationRegistry
    - DEBUG -> INFO for message with startup time.
    - Edited text.
    
    (Examples:
    At DEBUG level:
    
    ... DEBUG o.apache.drill.exec.server.Drillbit - Starting new Drillbit.
    ... DEBUG o.apache.drill.exec.server.Drillbit - Construction started.
    ... INFO  o.apache.drill.exec.server.Drillbit - Construction completed (1259 ms).
    ... DEBUG o.apache.drill.exec.server.Drillbit - Startup begun.
    ... INFO  o.apache.drill.exec.server.Drillbit - Startup completed (5359 ms).
    ... DEBUG o.apache.drill.exec.server.Drillbit - Started new Drillbit.
    ...
    ... DEBUG o.apache.drill.exec.server.Drillbit - Shutdown begun.
    ... INFO  o.apache.drill.exec.server.Drillbit - Shutdown completed (6346 ms).
    
    At INFO level:
    
    ... INFO  o.apache.drill.exec.server.Drillbit - Construction completed (1259 ms).
    ... INFO  o.apache.drill.exec.server.Drillbit - Startup completed (5359 ms).
    ...
    ... INFO  o.apache.drill.exec.server.Drillbit - Shutdown completed (6346 ms).
    )

 .../exec/expr/fn/FunctionImplementationRegistry.java    |  4 ++--
 .../java/org/apache/drill/exec/server/Drillbit.java     | 17 +++++++++++++----
 2 files changed, 15 insertions(+), 6 deletions(-)

commit 45d17549246aff453b4e21ffe62f3e42c8c72a35
Author: dbarclay <dbarclay@maprtech.com>
Date:   Mon Mar 30 17:51:44 2015 -0700

    DRILL-2632: Added assertion check to DRILL-2463 test.
    
    In Drill2463GetNullsFailedWithAssertionsBugTest, added check that Java
    assertions are enabled, since test depends on their being enabled.

 .../jdbc/test/Drill2463GetNullsFailedWithAssertionsBugTest.java   | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit efdad4cba09c51a60d75b0005ae2b7e83d84b98b
Author: dbarclay <dbarclay@maprtech.com>
Date:   Wed Apr 1 01:06:17 2015 -0700

    DRILL-2651: Increase JDBC tests' timeout time.
    
    Added overriding timeout rule for test that have been timing out increasingly:
    - TestJdbcMetadata
    - Drill2128GetColumnsDataTypeNotTypeCodeIntBugsTest

 .../test/Drill2128GetColumnsDataTypeNotTypeCodeIntBugsTest.java   | 6 ++++++
 .../test/java/org/apache/drill/jdbc/test/TestJdbcMetadata.java    | 8 +++++++-
 2 files changed, 13 insertions(+), 1 deletion(-)

commit 31c9867ae36dab9873c8d02f50a75ce66b9e68c7
Author: dbarclay <dbarclay@maprtech.com>
Date:   Thu Mar 26 21:26:26 2015 -0700

    DRILL-2579: 2-Hygiene: Renamed to match semantics; fixed, added, formatted doc.; basic whitespace.
    
    - Renamed createConnection -> getConnection.
    - Renamed close -> closeConnections
    - Added documentation fixes, clarifications, formatting.
    - Fixed some basic whitespace.

 .../apache/drill/jdbc/CachingConnectionFactory.java    |  4 ++--
 .../java/org/apache/drill/jdbc/ConnectionFactory.java  | 12 +++++++-----
 .../src/test/java/org/apache/drill/jdbc/JdbcTest.java  |  8 ++++----
 .../drill/jdbc/MultiConnectionCachingFactory.java      |  8 ++++----
 .../org/apache/drill/jdbc/NonClosableConnection.java   |  4 ++--
 .../drill/jdbc/SingleConnectionCachingFactory.java     | 18 ++++++++++++++----
 .../java/org/apache/drill/jdbc/test/JdbcAssert.java    |  2 +-
 7 files changed, 34 insertions(+), 22 deletions(-)

commit 1821f78383ca7794722581f921eeb14452927fc8
Author: dbarclay <dbarclay@maprtech.com>
Date:   Fri Mar 27 10:42:22 2015 -0700

    DRILL-2579: 1-Core fix: Nulled out member to avoid re-using closed Connection. [SingleConnectionCachingFactory]

 .../test/java/org/apache/drill/jdbc/SingleConnectionCachingFactory.java  | 1 +
 1 file changed, 1 insertion(+)

commit af7a52beeaed565e243d2d54ba75337ab95b924d
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Feb 3 12:13:22 2015 -0800

    DRILL-2173: Partition queries to drive dynamic pruning
    
    Adds new interface on the QueryContext as well as individual schemas for exploring partitions of tables.
    Adds injectable type for partition explorer for use in UDFs. This is hooked into both to expression
    materialization and interpreted evaluation. The FragmentContext throws an exception to tell users to turn on
    constant folding if a UDF that uses the PartitionExplorer makes it past planning.
    
    2173 update -Address Chris' review comments.
    
    Change the PartitionExplorer to return an Iterable<String> instead of String[]
    
    Add interface level description to PartitionExplorer and StoragePluginPartitionExplorer.
    
    New inner class in FileSystemPlugin to fulfill the new Iterable interface for partitions.
    
    Formatting/cleanup fixes
    
    Clean up error reporting code in MaxDir UDF. Remove method to get a string from a DrillBuf, as it was already defined in StringFunctionHelpers. Add new utility method to specifically convert a VarCharHolder to a string to remove some boilerplate.
    
    Fixed an errant copy paste in a comment and removed unused imports.
    
    Fix docs in FileSystemPlugin, belongs with the 2173 changes.
    
    Fix references in Javadoc to properly use @link instead of @see.
    
    2173 fixes, correctly return an empty list of sub-partitions if the path requested in the partition explorer interface is a file. Fix a few docs.
    
    More 2173, finishing Chris' comments
    
    2173 update - Add validation for PartitionExplorer injectable in UdfUtiltiers.
    
    small change to fix refactored unit tests.
    
    cleanup for 2173
    
    Fix maxdir UDF so it can compile in runtime generated code as well as the interpreted expression system (needed to fully qualify classes and interfaces). It still fails to execute, as we prevent requesting a schema from a non-root fragment. We do not expect these types of functions to ever be used without constant folding so this should not be an issue.
    
    Update error message in the case where the partition explorer is being used outside of planning.
    
    Adding free marker generated maxdir, imaxdir, mindir and imindir
    
    remove import that violates build checks, fix typo in new test class name
    
    Separate out SubDirectoryList from FileSystemSchemaFactory.
    
    Fix unit test to correctly test all four functions.
    
    Update partition explorer to take List instead of Collection. As the lists are used in parallel it should be explicit that these are expected to be ordered (which Collections do not guarantee).
    
    Drop the extra file generated due to the header in the free marker template and fix a typo and remove an unused import.

 .../drill/exec/store/hbase/HBaseSchemaFactory.java |   2 +-
 .../exec/store/hive/schema/HiveSchemaFactory.java  |   2 +-
 .../store/mongo/schema/MongoSchemaFactory.java     |   2 +-
 .../main/codegen/templates/DirectoryExplorers.java | 107 +++++++++++++++++++++
 .../drill/exec/expr/fn/FunctionConverter.java      |   3 -
 .../expr/fn/interpreter/InterpreterEvaluator.java  |  10 --
 .../org/apache/drill/exec/ops/FragmentContext.java |   9 ++
 .../org/apache/drill/exec/ops/QueryContext.java    |   7 ++
 .../org/apache/drill/exec/ops/UdfUtilities.java    |  24 +++++
 .../apache/drill/exec/store/AbstractSchema.java    |  15 ++-
 .../apache/drill/exec/store/PartitionExplorer.java | 102 ++++++++++++++++++++
 .../drill/exec/store/PartitionExplorerImpl.java    |  42 ++++++++
 .../exec/store/PartitionNotFoundException.java     |  35 +++++++
 .../drill/exec/store/SchemaPartitionExplorer.java  |  49 ++++++++++
 .../apache/drill/exec/store/SubSchemaWrapper.java  |  12 ++-
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  21 +++-
 .../drill/exec/store/dfs/SubDirectoryList.java     |  73 ++++++++++++++
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  18 ++++
 .../drill/exec/fn/interp/TestConstantFolding.java  |  48 ++++++---
 .../exec/planner/TestDirectoryExplorerUDFs.java    | 106 ++++++++++++++++++++
 20 files changed, 650 insertions(+), 37 deletions(-)

commit ca73990018c62d92a899d7e0a298dac0ba09ed83
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Wed Apr 1 12:32:44 2015 -0700

    Update calcite fork version to 21.

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a49b99ff1a679a0dfb696686d62449edbb231f37
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Mar 12 16:42:24 2015 -0700

    DRILL-2448: Enable standard implicit cast between Varchar and Varbinary rather than outdated special case in softEquals.
    
    This is necessary to allow the interpreted expression system to evaluate these functions in the same manner as the code-generation based expression evaluation system does today.

 common/src/main/java/org/apache/drill/common/types/Types.java | 8 --------
 1 file changed, 8 deletions(-)

commit 8d70709ddaddc7111517f4bed883fc9908ef94de
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Mar 9 11:51:36 2015 -0700

    DRILL-2060: Constant folding rule
    
    2060 update - Constant folding work completed.
    
    Fix issue with date, time and timestamp literal creation.
    
    Fix literal creation during expression interpretation to match nullability of incoming expression.
    
    Fix decimal literals in interpreted expression eval.
    
    Disable test with an exposed planning bug when the project instance of the constant folding rule is enabled. The rule is not actually influencing the final plan when the rule is firing and making expression reductions. This is due to our current cost model fro project which just counts the number of expressions and does not consider expression complexity. The issues have been logged in DRILL-2218 for further investigation, they do not need to be solved to merge the other constant folding rules and all of the interpreted expression work that has been done.
    
    Get rid of clutter in RuleSets, explanation has been moved to the 2218 JIRA.
    
    Belongs with 2060, fix constant expression executor to use the new constant expression interpreter interface that returns a ValueHolder instead a ValueVector with a single value filled in.
    
    2060 update - change test baseline due to new column ordering (no functional or performance impacting changes to plan)
    
    2060 - address Aman's comments.
    
    add test ignore - DRILL-2218
    
    Baseline update for project pushdown test (only column ordering on a scan, no functional or performance impacting plan changes)
    
    Turn back on project instance.
    
    Small casting bug in constant executor.
    
    Don't fold hive UDFs.
    
    Modify DrillBuf to allow a BufferManager to be the owning context for a DrilllBuf.
    
    TODO - refactor to remove remaining common code from OperatorContext and FragmentContext,
    have them both use the new BufferManager.
    
    Add system option for disabling constant folding.
    
    2060 update - test option to disable constant folding.
    
    Update RuleSets to actually allow turning the constant folding rules on and off as well as establish general pattern for turning logical rules on an off, similar to how some physical rules can be already.
    
    Change the estimated row count in EasyGroupScan to report a number of files in the case where the file size indicates an estimated total count of 0 records. Allows very small files to be pruned.
    
    Fix folding expressions that result in null after refactoring the interpreted expression evaluation to return a ValueHolder in the case of a constant expression. Previously a value vector was returned in the same manner as the interpreter can still do when given an input VectorAccessible and an expression that may contain fild references. Calling getObject on the output vector previously gracefully handled nulls as they were passed into the Calciate API to create literals. This process has to be a bit more manual now.
    
    Address Jinfeng's review comments.
    
    A few more review comments.
    
    Disable cost calculation change, complete fix will come in 2553.
    
    Throw a runtime exception of there is an error materializing the expression, as the same materialization will take place at query execution time we should fail early.
    
    Add a test that does prune appropriately, still have a test for the outstanding issue tracked in DRILL-2553.
    
    Small fix for test to properly set session option and set it back after completion.
    
    Fixing comment that was garbled somehow.
    
    small fix for case where expression returns a null result during constant folding.
    
    Add a little defensive code to give a good error message if a type that does not appear in the mapping from Drill to Calcite types attempts to be folded into a null value.

 .../common/expression/ExpressionStringBuilder.java |  12 +-
 .../drill/exec/planner/sql/HiveUDFOperator.java    |   8 +
 .../src/main/codegen/templates/TypeHelper.java     |   5 +
 .../src/main/java/io/netty/buffer/DrillBuf.java    |  15 +-
 .../exec/expr/ExpressionTreeMaterializer.java      |   3 +-
 .../drill/exec/expr/fn/DrillFunctionRegistry.java  |  13 +-
 .../exec/expr/fn/impl/StringFunctionHelpers.java   |  15 +
 .../expr/fn/interpreter/InterpreterEvaluator.java  |   2 +-
 .../org/apache/drill/exec/ops/BufferManager.java   |   1 +
 .../physical/impl/project/ProjectRecordBatch.java  |   3 +-
 .../exec/planner/logical/DrillConstExecutor.java   | 311 +++++++++++++++++++++
 .../logical/DrillReduceExpressionsRule.java        |  83 ++++++
 .../drill/exec/planner/logical/DrillRuleSets.java  |  64 ++++-
 .../exec/planner/physical/PlannerSettings.java     |   5 +
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   7 +-
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../test/java/org/apache/drill/PlanningBase.java   |  10 +-
 .../java/org/apache/drill/TestProjectPushDown.java |   4 +-
 .../drill/exec/fn/impl/TestAggregateFunctions.java |   2 +
 .../drill/exec/fn/interp/TestConstantFolding.java  | 187 +++++++++++++
 .../src/test/resources/parquet/alltypes.json       |   8 +
 pom.xml                                            |   2 +-
 22 files changed, 742 insertions(+), 19 deletions(-)

commit a53e12336c29b421f1df51da480af9a65d70bb72
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Fri Mar 27 11:37:07 2015 -0700

    DRILL-2591: In UnionAllRecordBactch, the mechansim to detect schema change is corrected

 .../physical/impl/union/UnionAllRecordBatch.java   | 31 +++++++++--
 .../physical/visitor/FinalColumnReorderer.java     | 20 ++++---
 .../test/java/org/apache/drill/TestUnionAll.java   | 63 +++++++++++++++++++++-
 .../src/test/resources/store/json/dateData.json    | 12 +++++
 .../test/resources/store/json/timeStmpData.json    | 14 +++++
 .../testframework/testUnionAllQueries/q18.tsv      | 15 ++++++
 6 files changed, 141 insertions(+), 14 deletions(-)

commit 862ab91e93f56469c05412822ea308bba783d879
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Fri Apr 3 16:32:32 2015 -0700

    DRILL-2672: C++ Client - Add support for authentication

 .../native/client/src/clientlib/drillClient.cpp    |   2 +-
 .../client/src/clientlib/drillClientImpl.cpp       |  47 ++++-
 .../client/src/clientlib/drillClientImpl.hpp       |   6 +-
 contrib/native/client/src/clientlib/errmsgs.cpp    |   8 +-
 contrib/native/client/src/clientlib/errmsgs.hpp    |   5 +-
 contrib/native/client/src/include/drill/common.hpp |  13 +-
 contrib/native/client/src/protobuf/User.pb.cc      | 206 +++++++++++++++++-
 contrib/native/client/src/protobuf/User.pb.h       | 230 ++++++++++++++++++++-
 8 files changed, 488 insertions(+), 29 deletions(-)

commit 4f213570f29a30c8609afacba0ca01cc33cdc7d0
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Fri Mar 27 11:21:07 2015 -0700

    DRILL-2573: C++ Client - Separate QueryResult into QueryResult and QueryData

 contrib/native/client/example/querySubmitter.cpp   |  20 +-
 .../client/src/clientlib/drillClientImpl.cpp       | 372 ++++-----
 .../client/src/clientlib/drillClientImpl.hpp       |  19 +-
 .../native/client/src/clientlib/recordBatch.cpp    |   4 +-
 contrib/native/client/src/include/drill/common.hpp |   2 +-
 .../client/src/include/drill/drillClient.hpp       |   4 +-
 .../client/src/include/drill/recordBatch.hpp       |   9 +-
 contrib/native/client/src/protobuf/BitData.pb.cc   | 289 ++++---
 contrib/native/client/src/protobuf/BitData.pb.h    | 256 +++---
 contrib/native/client/src/protobuf/User.pb.cc      |  13 +-
 contrib/native/client/src/protobuf/User.pb.h       |   7 +-
 .../native/client/src/protobuf/UserBitShared.pb.cc | 855 ++++++++++-----------
 .../native/client/src/protobuf/UserBitShared.pb.h  | 477 +++++-------
 13 files changed, 1171 insertions(+), 1156 deletions(-)

commit 6a8e0ec101cf082d9200b22c668a9b04451263ad
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Apr 2 22:41:00 2015 -0700

    DRILL-2674: Add user authenticator interface and PAM based implementation.

 .../src/resources/drill-override-example.conf      |   8 +-
 exec/java-exec/pom.xml                             |   4 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   4 +
 .../org/apache/drill/exec/rpc/user/UserServer.java |  42 +++++++-
 .../apache/drill/exec/rpc/user/UserSession.java    |   2 +
 .../rpc/user/security/PamUserAuthenticator.java    |  71 ++++++++++++++
 .../user/security/UserAuthenticationException.java |  32 +++++++
 .../exec/rpc/user/security/UserAuthenticator.java  |  53 +++++++++++
 .../user/security/UserAuthenticatorFactory.java    | 106 +++++++++++++++++++++
 .../user/security/UserAuthenticatorTemplate.java   |  37 +++++++
 .../apache/drill/exec/service/ServiceEngine.java   |   8 +-
 .../java-exec/src/main/resources/drill-module.conf |   8 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  59 ++++++++----
 .../test/java/org/apache/drill/QueryTestUtil.java  |   9 +-
 .../exec/physical/impl/TestLocalExchange.java      |   2 +-
 .../impl/partitionsender/TestPartitionSender.java  |   2 +-
 .../user/security/TestCustomUserAuthenticator.java | 102 ++++++++++++++++++++
 .../user/security/UserAuthenticatorTestImpl.java   |  62 ++++++++++++
 .../drill/exec/server/TestDrillbitResilience.java  |   2 +-
 pom.xml                                            |  24 +++++
 20 files changed, 607 insertions(+), 30 deletions(-)

commit a218ee3fdd4403c0e1f4478cacf320f0947ea902
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Apr 2 00:23:29 2015 -0700

    DRILL-2673: Update UserServer <==> UserClient RPC to better handle handshake response

 .../org/apache/drill/exec/client/DrillClient.java  |   4 +-
 .../drill/exec/rpc/AbstractHandshakeHandler.java   |  33 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |   2 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |  12 +-
 .../apache/drill/exec/rpc/user/UserRpcConfig.java  |   2 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |  67 ++-
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |   2 +-
 .../apache/drill/exec/proto/SchemaUserProtos.java  |  21 +
 .../org/apache/drill/exec/proto/UserProtos.java    | 559 ++++++++++++++++++++-
 .../drill/exec/proto/beans/BitToUserHandshake.java |  66 +++
 .../drill/exec/proto/beans/HandshakeStatus.java    |  53 ++
 protocol/src/main/protobuf/User.proto              |  10 +
 12 files changed, 789 insertions(+), 42 deletions(-)

commit 1d9d82b001810605e3f94ab3a5517dc0ed739715
Author: adeneche <adeneche@gmail.com>
Date:   Fri Mar 20 12:39:15 2015 -0700

    DRILL-2498: Separate QueryResult into two messages QueryResult and QueryData

 .../java/org/apache/drill/hbase/BaseHBaseTest.java |   10 +-
 .../drill/hbase/TestHBaseCFAsJSONString.java       |    5 +-
 .../apache/drill/exec/fn/hive/TestHiveUDFs.java    |   12 +-
 .../drill/exec/fn/hive/TestSampleHiveUDFs.java     |    4 +-
 .../org/apache/drill/exec/client/DrillClient.java  |   34 +-
 .../drill/exec/client/PrintingResultsListener.java |   31 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |   67 +-
 .../impl/materialize/QueryWritableBatch.java       |    8 +-
 .../impl/materialize/RecordMaterializer.java       |    2 +-
 .../impl/materialize/VectorRecordMaterializer.java |    8 +-
 .../{QueryResultBatch.java => QueryDataBatch.java} |   12 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    |  261 ++-
 .../org/apache/drill/exec/rpc/user/UserClient.java |   14 +-
 .../drill/exec/rpc/user/UserResultsListener.java   |   28 +-
 .../apache/drill/exec/rpc/user/UserRpcConfig.java  |    4 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |   16 +-
 .../drill/exec/server/rest/QueryWrapper.java       |   15 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |    4 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |   38 +-
 .../java/org/apache/drill/DrillTestWrapper.java    |   36 +-
 .../test/java/org/apache/drill/PlanTestBase.java   |    6 +-
 .../test/java/org/apache/drill/QueryTestUtil.java  |    8 +-
 .../java/org/apache/drill/SingleRowListener.java   |   43 +-
 .../apache/drill/exec/TestQueriesOnLargeFile.java  |   10 +-
 .../drill/exec/client/DrillClientSystemTest.java   |   10 +-
 .../drill/exec/fn/impl/TestAggregateFunction.java  |    8 +-
 .../drill/exec/fn/impl/TestDateFunctions.java      |    8 +-
 .../drill/exec/fn/impl/TestMultiInputAdd.java      |   11 +-
 .../exec/fn/impl/TestNewAggregateFunctions.java    |    8 +-
 .../exec/physical/impl/TestBroadcastExchange.java  |   10 +-
 .../exec/physical/impl/TestCastFunctions.java      |    8 +-
 .../physical/impl/TestCastVarCharToBigInt.java     |   10 +-
 .../exec/physical/impl/TestConvertFunctions.java   |   11 +-
 .../drill/exec/physical/impl/TestDecimal.java      |   38 +-
 .../physical/impl/TestDistributedFragmentRun.java  |   18 +-
 .../exec/physical/impl/TestExtractFunctions.java   |    8 +-
 .../physical/impl/TestHashToRandomExchange.java    |    6 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   22 +-
 .../physical/impl/TestReverseImplicitCast.java     |    8 +-
 .../exec/physical/impl/TestSimpleFragmentRun.java  |   10 +-
 .../exec/physical/impl/TestUnionExchange.java      |    6 +-
 .../exec/physical/impl/TopN/TestSimpleTopN.java    |    8 +-
 .../exec/physical/impl/join/TestHashJoin.java      |   26 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |   18 +-
 .../impl/join/TestMergeJoinMulCondition.java       |   14 +-
 .../impl/mergereceiver/TestMergingReceiver.java    |   14 +-
 .../TestOrderedPartitionExchange.java              |    6 +-
 .../physical/impl/writer/TestParquetWriter.java    |    2 +-
 .../exec/physical/impl/writer/TestWriter.java      |   12 +-
 .../impl/xsort/TestSimpleExternalSort.java         |   26 +-
 .../drill/exec/record/vector/TestDateTypes.java    |   40 +-
 .../drill/exec/server/TestDrillbitResilience.java  |   10 +-
 .../store/parquet/ParquetRecordReaderTest.java     |   10 +-
 .../exec/store/parquet/ParquetResultListener.java  |   20 +-
 .../store/parquet/TestParquetPhysicalPlan.java     |   18 +-
 .../drill/exec/store/text/TestTextColumn.java      |   10 +-
 .../exec/store/text/TextRecordReaderTest.java      |    6 +-
 .../complex/fn/TestJsonReaderWithSparseFiles.java  |    8 +-
 .../vector/complex/writer/TestComplexToJson.java   |    8 +-
 .../exec/vector/complex/writer/TestJsonReader.java |   22 +-
 .../drill/exec/work/batch/TestSpoolingBuffer.java  |    6 +-
 .../java/org/apache/drill/jdbc/DrillCursor.java    |    4 +-
 .../java/org/apache/drill/jdbc/DrillResultSet.java |   43 +-
 .../drill/exec/proto/SchemaUserBitShared.java      |  195 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 1948 +++++++++-----------
 .../org/apache/drill/exec/proto/UserProtos.java    |   47 +-
 .../apache/drill/exec/proto/beans/QueryData.java   |  211 +++
 .../apache/drill/exec/proto/beans/QueryResult.java |  194 +-
 .../org/apache/drill/exec/proto/beans/RpcType.java |    8 +-
 protocol/src/main/protobuf/User.proto              |    8 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   22 +-
 71 files changed, 1842 insertions(+), 1998 deletions(-)

commit 10be89fe03b1b71595c658a8b5c2586210d28bc7
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu Apr 2 14:36:18 2015 -0700

    DRILL-2596: Let the plan for CTAS queries be saved and shown in WebUI

 .../java/org/apache/drill/exec/planner/sql/DrillSqlWorker.java   | 6 ++++++
 .../drill/exec/planner/sql/handlers/CreateTableHandler.java      | 6 +++---
 .../org/apache/drill/exec/planner/sql/parser/DrillSqlCall.java   | 7 ++++++-
 .../org/apache/drill/exec/planner/sql/parser/SqlCreateTable.java | 9 ++++++++-
 4 files changed, 23 insertions(+), 5 deletions(-)

commit f215c4629536df9e3990606b595b21c26cb6c86a
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Apr 2 11:54:39 2015 -0700

    DRILL-2244: Hash all numeric types as double

 .../drill/exec/expr/fn/impl/Hash64AsDouble.java    | 341 ++++++++++++++++++++
 .../drill/exec/expr/fn/impl/Hash64Functions.java   |  31 +-
 .../exec/expr/fn/impl/Hash64FunctionsWithSeed.java |  31 +-
 .../exec/expr/fn/impl/Hash64WithSeedAsDouble.java  | 344 +++++++++++++++++++++
 .../physical/impl/common/ChainedHashTable.java     |  31 +-
 .../drill/exec/planner/physical/PrelUtil.java      |  13 +-
 .../apache/drill/exec/resolver/TypeCastRules.java  |  25 ++
 .../java/org/apache/drill/TestFunctionsQuery.java  |  25 ++
 8 files changed, 808 insertions(+), 33 deletions(-)

commit 30ad950e577b8c087fe8cae33fe189f30193c078
Author: adeneche <adeneche@gmail.com>
Date:   Thu Mar 5 12:27:53 2015 -0800

    DRILL-2220: Complex reader unable to read FIXED_LEN_BYTE_ARRAY types in parquet file

 .../codegen/templates/AbstractFieldWriter.java     |   9 ++-
 .../src/main/codegen/templates/BaseWriter.java     |   4 ++
 .../src/main/codegen/templates/MapWriters.java     |  15 ++++-
 .../store/parquet2/DrillParquetGroupConverter.java |  19 ++++++-
 .../store/parquet2/TestDrillParquetReader.java     |  61 +++++++++++++++++++++
 .../test/resources/parquet2/decimal28_38.parquet   | Bin 0 -> 708 bytes
 6 files changed, 104 insertions(+), 4 deletions(-)

commit 168fa904be6742f482266816c2b636f985185e54
Author: adeneche <adeneche@gmail.com>
Date:   Tue Mar 24 12:44:21 2015 -0700

    DRILL-2521: Revert from protobuf 2.6 to 2.5

 protocol/pom.xml                                   |    2 +-
 .../org/apache/drill/common/types/TypeProtos.java  |   64 +-
 .../org/apache/drill/exec/proto/BitControl.java    |  372 ++++---
 .../java/org/apache/drill/exec/proto/BitData.java  |  153 +--
 .../drill/exec/proto/CoordinationProtos.java       |  177 ++--
 .../org/apache/drill/exec/proto/ExecProtos.java    |   59 +-
 .../apache/drill/exec/proto/GeneralRPCProtos.java  |  134 +--
 .../apache/drill/exec/proto/SchemaDefProtos.java   |   15 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 1075 +++++++++++---------
 .../org/apache/drill/exec/proto/UserProtos.java    |  298 +++---
 10 files changed, 1292 insertions(+), 1057 deletions(-)

commit f956b7278a9775d3366e2aab37c7a98e893e8b33
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Mar 31 14:08:30 2015 -0700

    DRILL-2640: Move view tests out of 'exec/jdbc' module into appropriate module.

 .../exec/sql/hive/TestViewSupportOnHiveTables.java | 115 ++++
 .../apache/drill/exec/sql/TestBaseViewSupport.java | 168 ++++++
 .../org/apache/drill/exec/sql/TestViewSupport.java | 344 ++++++++++-
 .../src/test/resources/nation/nation.tbl           |   0
 .../java/org/apache/drill/jdbc/test/TestViews.java | 644 ---------------------
 5 files changed, 623 insertions(+), 648 deletions(-)

commit 0b6cddfa4d8f9558f6386e7340429df4e8ec5f88
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Mar 9 15:50:11 2015 -0700

    DRILL-1833: Avoid storing view names in PStore cache
    
     ...always rely on view files in schema location for listing views.

 .../apache/drill/exec/dotdrill/DotDrillFile.java   |  9 +++
 .../apache/drill/exec/dotdrill/DotDrillType.java   | 21 ++++++
 .../apache/drill/exec/dotdrill/DotDrillUtil.java   | 12 ++--
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  4 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 76 +++++-----------------
 5 files changed, 54 insertions(+), 68 deletions(-)

commit cc97cd471c40030d136bb93a1873e01b6cd6e8ef
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Apr 1 19:00:27 2015 -0700

    DRILL-2664: In StreamingAgg fix issues with handling the case where output batch is full.

 .../org/apache/drill/exec/physical/impl/WriterRecordBatch.java |  2 +-
 .../exec/physical/impl/aggregate/StreamingAggTemplate.java     | 10 +++++-----
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 767711919f087d72fb94d2b94823b9ae0af660db
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Tue Mar 31 16:55:45 2015 -0700

    DRILL-1649: Added unit tests

 .../drill/exec/nested/TestNestedComplexSchema.java | 29 ++++++++++++++++++++++
 .../test/resources/complex/drill-1649-result.json  |  2 ++
 .../complex/json/single-user-transactions.json     | 18 ++++++++++++++
 3 files changed, 49 insertions(+)

commit fb4533fea25470e297b66b3c1aa320db60c32511
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Tue Mar 31 14:23:35 2015 -0700

    DRILL-1962: Added unit tests

 .../drill/exec/expr/TestSchemaPathMaterialization.java | 12 ++++++++++++
 .../src/test/resources/complex/drill-1962-result.json  |  3 +++
 .../src/test/resources/complex/json/multiple/j1.json   | 18 ++++++++++++++++++
 .../src/test/resources/complex/json/multiple/j2.json   | 18 ++++++++++++++++++
 4 files changed, 51 insertions(+)

commit 565c9954f1c5f9580297540583ce41422f65b559
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Tue Mar 31 08:52:24 2015 -0700

    DRILL-2268: Added unit tests

 .../exec/physical/impl/flatten/TestFlatten.java    | 40 ++++++++++++++++++++++
 .../resources/complex/drill-2268-1-result.json     |  4 +++
 .../resources/complex/drill-2268-2-result.json     |  4 +++
 .../resources/complex/drill-2268-3-result.json     |  5 +++
 .../test/resources/complex/json/flatten_join.json  | 18 ++++++++++
 5 files changed, 71 insertions(+)

commit d05ff9d841b9a8f47ed522dfab5dd59fb1fdbfd1
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Wed Mar 25 09:45:47 2015 -0700

    DRILL-2559: In case window functions are disabled, throw UnsupportedFunctionException

 .../exec/physical/impl/window/OverFinder.java      | 53 ----------------------
 .../planner/sql/handlers/DefaultSqlHandler.java    | 11 +----
 .../sql/parser/UnsupportedOperatorsVisitor.java    | 23 +++++++---
 .../apache/drill/TestDisabledFunctionality.java    | 13 ++++++
 4 files changed, 30 insertions(+), 70 deletions(-)

commit 451bc5ae024defec4e2f61e6fc0c3886cd80ec4c
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Fri Mar 27 13:38:50 2015 -0700

    DRILL-2590: In implicit casting rule, make boolean to be implicitly castable from boolean only

 .../apache/drill/exec/resolver/TypeCastRules.java  | 23 ----------------------
 .../test/java/org/apache/drill/TestUnionAll.java   | 14 +++++++++++++
 .../src/test/resources/store/json/booleanData.json |  2 ++
 .../src/test/resources/store/json/intData.json     |  2 ++
 4 files changed, 18 insertions(+), 23 deletions(-)

commit 7b11e3e8fd5f0263e2165df413b36d48fdbcc0e1
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu Mar 19 13:21:41 2015 -0700

    DRILL-2458:  Ensure no unwanted columns are added to CTAS output when * column is used in the query.

 .../physical/visitor/StarColumnConverter.java      | 140 +++++++++++----------
 .../physical/impl/writer/TestParquetWriter.java    |  21 ++++
 2 files changed, 98 insertions(+), 63 deletions(-)

commit 1b0c52f91dbe2284438e2ef7aa839cb9c6717f65
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon Feb 23 11:17:51 2015 -0800

    DRILL-2280: Refactor ValueVector interface & add an abstract ValueVector implementation

 .../codegen/templates/EventBasedRecordWriter.java  |   2 +-
 .../main/codegen/templates/FixedValueVectors.java  |  27 ++--
 .../codegen/templates/NullableValueVectors.java    |  40 +++---
 .../codegen/templates/RecordValueAccessor.java     |   2 +-
 .../codegen/templates/RepeatedValueVectors.java    |  21 +--
 .../codegen/templates/VariableLengthVectors.java   |  15 ++-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   2 +-
 .../store/parquet/columnreaders/ColumnReader.java  |   3 +-
 .../columnreaders/NullableColumnReader.java        |   7 +-
 .../exec/store/parquet2/DrillParquetReader.java    |   2 +-
 .../drill/exec/vector/BaseDataValueVector.java     |   3 -
 .../apache/drill/exec/vector/BaseValueVector.java  |  38 +++---
 .../org/apache/drill/exec/vector/BitVector.java    |  12 +-
 .../org/apache/drill/exec/vector/ObjectVector.java |  29 +---
 .../org/apache/drill/exec/vector/ValueVector.java  | 148 ++++++++++++---------
 .../vector/complex/AbstractContainerVector.java    |   5 +-
 .../drill/exec/vector/complex/MapVector.java       |  31 ++---
 .../exec/vector/complex/RepeatedListVector.java    |  19 +--
 .../exec/vector/complex/RepeatedMapVector.java     |  19 +--
 .../complex/impl/RepeatedListReaderImpl.java       |   2 +-
 .../vector/complex/impl/RepeatedMapReaderImpl.java |   2 +-
 .../vector/complex/impl/SingleListReaderImpl.java  |   2 +-
 .../vector/complex/impl/SingleMapReaderImpl.java   |   2 +-
 .../org/apache/drill/exec/expr/ExpressionTest.java |   4 +-
 .../exec/vector/complex/writer/TestRepeated.java   |   2 +-
 25 files changed, 222 insertions(+), 217 deletions(-)

commit 064fc026561716f76f3548d35df602bac7a2d67c
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Tue Mar 31 12:57:22 2015 -0700

    DRILL-2633: The visitors PreProcessLogicalRel and UnsupportedOperatorsVisitor are made as instances (non-static)

 .../drill/exec/planner/logical/PreProcessLogicalRel.java  | 15 ++-------------
 .../exec/planner/sql/handlers/DefaultSqlHandler.java      |  5 ++---
 .../planner/sql/parser/UnsupportedOperatorsVisitor.java   |  6 ++----
 3 files changed, 6 insertions(+), 20 deletions(-)

commit 417ad38f7239c6dc1ff0421cbd5a2358d1437c87
Author: adeneche <adeneche@gmail.com>
Date:   Thu Mar 19 12:34:28 2015 -0700

    DRILL-2408: Invalid (0 length) parquet file created by CTAS
    
    Also updated TestExampleQueries and TestUnionAll so they use different names for the created views because I kept hitting random errors.

 .../exec/store/parquet/ParquetRecordWriter.java    | 25 +++++++++++-
 .../java/org/apache/drill/TestExampleQueries.java  | 27 +++++++------
 .../test/java/org/apache/drill/TestUnionAll.java   | 22 +++++------
 .../physical/impl/writer/TestParquetWriter.java    | 45 ++++++++++++++++++++++
 4 files changed, 92 insertions(+), 27 deletions(-)

commit 0fbcddba14405ec94d51b0ba3512925168efb433
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon Mar 23 19:38:23 2015 -0700

    DRILL-2375: implement reader reset mechanism and reset reader before accessing it during projection

 .../src/main/codegen/templates/BaseReader.java       |  1 +
 .../apache/drill/exec/expr/EvaluationVisitor.java    |  1 +
 .../exec/vector/complex/impl/AbstractBaseReader.java |  5 +++++
 .../vector/complex/impl/RepeatedListReaderImpl.java  | 11 +++++++++++
 .../vector/complex/impl/RepeatedMapReaderImpl.java   | 11 +++++++++++
 .../exec/expr/TestSchemaPathMaterialization.java     | 20 +++++++++++++++++---
 6 files changed, 46 insertions(+), 3 deletions(-)

commit 96d51bdedbeab2f95075ca5e40cdc7b65b1c8e99
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Mar 27 00:40:46 2015 -0700

    DRILL-2599: Fix DrillReduceAggregatesRule to not inject additional cast for stddev

 .../exec/planner/logical/DrillReduceAggregatesRule.java   | 15 +++++++++++++--
 .../apache/drill/exec/fn/impl/TestAggregateFunctions.java | 10 ++++++++++
 2 files changed, 23 insertions(+), 2 deletions(-)

commit c11fcf73fe16e7d5bb976607ecf4fb1bf70a7aec
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Mar 25 18:25:08 2015 -0700

    DRILL-2568: Drop filter plan node if all conjuncts have been pushed into the scan as part of partition pruning.
    
    Check presence in children list before adding..
    
    Split prune condition into conjuncts before removing from the original condition.  Add plan checking and row count validation to TestPartitionFilter tests.
    
    Move more tests from TestPrune into TestPartitionFilter and added plan checking and results validation.
    
    Remove TestPrune since these tests Are subsumed by the ones in TestPartitionFilter.

 .../logical/partition/FindPartitionConditions.java |   4 +-
 .../planner/logical/partition/PruneScanRule.java   |  16 ++-
 .../java/org/apache/drill/TestPartitionFilter.java | 111 +++++++++++++--------
 .../java/org/apache/drill/exec/expr/TestPrune.java |  47 ---------
 4 files changed, 88 insertions(+), 90 deletions(-)

commit 20efb2fbc8176242c94505bcaab662586d66ba4d
Author: dbarclay <dbarclay@maprtech.com>
Date:   Sat Mar 21 00:45:41 2015 -0700

    DRILL-2465: Fix multiple DatabaseMetaData.getColumns() bugs.
    
    - Added test DatabaseMetaDataGetColumnsTest.
    - (Renamed Drill2128GetColumnsBugsTest to
      Drill2128GetColumnsDataTypeNotTypeCodeIntBugsTest.)
    - Fixed/implemented various columns:
      - Added COLUMN_SIZE (big CASE expression handling lots of cases).
      - Fixed DECIMAL_DIGITS.
      - Fixed NUM_PREC_RADIX.
      - ~Fixed REMARKS ('' -> NULL).
      - ~Fixed COLUMN_DEF ('' -> NULL).
      - Fixed CHARACTER_OCTET_LENGTH.
      - Fixed ORDINAL_POSITION.
      - Fixed SCOPE_CATALOG, SCOPE_SCHEMA, SCOPE_TABLE,
      - Fixed SOURCE_DATA_TYPE.
    - Note:  INTERVAL types have only *interim* implementations.
      (INFORMATION_SCHEMA.COLUMNS fixes are needed for completion.)
    - Added canonical data type name strings in DATA_TYPE -> TYPE_NAME CASE
      expression (for robustness for expected upcoming INFORMATION_SCHEMA.COLUMNS
      standard-compliance bug fixing).

 .../main/java/org/apache/drill/jdbc/MetaImpl.java  |  409 ++-
 .../drill/jdbc/DatabaseMetaDataGetColumnsTest.java | 2779 ++++++++++++++++++++
 ...8GetColumnsDataTypeNotTypeCodeIntBugsTest.java} |    2 +-
 3 files changed, 3093 insertions(+), 97 deletions(-)

commit 8796fd1e13f07ac84df1c466dce83456dfa22950
Author: dbarclay <dbarclay@maprtech.com>
Date:   Sun Mar 22 13:05:38 2015 -0700

    DRILL-2461: Fix: INTERVAL in view makes INFORMATION_SCHEMA.COLUMN fail.
    
    - Created test.
    - Handled INTERVAL data types in View:
      - Added <interval qualifier> data to FieldType.
      - Switch calling of createSqlType to createSqlIntervalType for interval types

 .../java/org/apache/drill/exec/dotdrill/View.java  | 160 +++++++++++++++++----
 .../Drill2461IntervalsBreakInfoSchemaBugTest.java  |  91 ++++++++++++
 2 files changed, 222 insertions(+), 29 deletions(-)

commit 9a5b50ea52ee60a355926ac0d52ab87fafb592c0
Author: dbarclay <dbarclay@maprtech.com>
Date:   Fri Mar 20 22:14:56 2015 -0700

    DRILL-2439: Fix: getBoolean() doesn't work (for non-null values).
    
    - Created regression test Drill2439GetBooleanSaysWrongTypeBugTest.
    - Added getBoolean(...) for SqlAccessor implementations for type Bit in
      SqlAccessors template.

 .../src/main/codegen/templates/SqlAccessors.java   | 13 ++++
 ...l2439GetBooleanFailsSayingWrongTypeBugTest.java | 80 ++++++++++++++++++++++
 2 files changed, 93 insertions(+)

commit 83ebf4f3e12ae42ba771e7c1cdd833a27ecf9b35
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Mar 17 20:45:31 2015 -0700

    DRILL-2463: Implement JDBC mapping of SQL NULL for ResultSet.getXxx() methods.
    
    - Added test Drill2463GetNullsFailedWithAssertionsBugTest.
    - Implemented JDBC mapping of NULL for ResultSet.getXxx() methods:
      - Fixed was-always-false isNull(...) for Nullable... SqlAccessor
        implementations in SqlAccessors template.
      - Handled NULL mapping for primitive types in AvaticaDrillSqlAccessor.
      - Handled NULL mapping for object types in Nullable... SqlAccessor
        implementations in SqlAccessors template.
    - Related miscellaneous changes:
      - Added "rename this" TODO.  [config.fmpp]
      - Added documentation.  [SqlAccessor]
      - Edited comment.  [BoundCheckingAccessor]

 exec/java-exec/src/main/codegen/config.fmpp        |   1 +
 .../src/main/codegen/templates/SqlAccessors.java   | 199 +++++++++++++++------
 .../vector/accessor/BoundCheckingAccessor.java     |   4 +-
 .../drill/exec/vector/accessor/SqlAccessor.java    |  83 ++++++---
 .../apache/drill/jdbc/AvaticaDrillSqlAccessor.java |  37 +++-
 ...ill2463GetNullsFailedWithAssertionsBugTest.java | 122 +++++++++++++
 6 files changed, 360 insertions(+), 86 deletions(-)

commit ee94a37e52848647bc2dd2efa57741993a1e754a
Author: adeneche <adeneche@gmail.com>
Date:   Thu Feb 26 16:33:08 2015 -0800

    DRILL-2253: PART-2 Vectorized Parquet reader fails to read correctly against RLE Dictionary encoded DATE column

 .../columnreaders/FixedByteAlignedReader.java      |  12 +++++++----
 ...ixedAlignedReaders.java => TestDateReader.java} |  22 ++++++++++++++++-----
 .../test/resources/parquet/date_dictionary.parquet | Bin 2008 -> 299 bytes
 .../resources/parquet/date_nodictionary.parquet    | Bin 0 -> 289 bytes
 4 files changed, 25 insertions(+), 9 deletions(-)

commit d4285b2e70ae2f6929076bbc8b97b4dae90cf1b8
Author: adeneche <adeneche@gmail.com>
Date:   Thu Mar 19 20:46:01 2015 -0700

    DRILL-2507: most TestParquetWriter tests aren't actually launching the test queries

 .../physical/impl/writer/TestParquetWriter.java    | 84 +++++++++++-----------
 1 file changed, 41 insertions(+), 43 deletions(-)

commit 9d92b8e319f2d46e8659d903d355450e15946533
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Mar 25 18:56:18 2015 -0700

    DRILL-2580: Exit early from HashJoinBatch if build side is empty

 .../java/org/apache/drill/exec/physical/impl/join/HashJoinBatch.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0d118a6ded670889f9217331be0bb5c95eb43000
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Mar 24 17:24:14 2015 -0700

    DRILL-2438: Fix reduce aggregates rule to not inject additional casts for avg

 .../drill/exec/planner/logical/DrillReduceAggregatesRule.java    | 4 +---
 .../org/apache/drill/exec/fn/impl/TestAggregateFunctions.java    | 9 +++++++++
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 165bb52cbc87dc935b98ce605093ef71f741e1e8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Mar 26 09:00:36 2015 -0700

    Update to version 0.9.0-SNAPSHOT

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/data/window-test-data/pom.xml        | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/pom.xml                                 | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 18 files changed, 18 insertions(+), 18 deletions(-)

commit f7388fb7bb3243c46ba278bb76079e0bf88af43e
Author: Chris Westin <cwestin@yahoo.com>
Date:   Wed Mar 25 19:05:25 2015 -0700

    DRILL-2575: FragmentExecutor.cancel() blasts through state transitions regardless of current state
    
    FragmentExecutor:
    - Changed cancel() to behave asynchronously, and for the cancelation request to
      be checked at an appropriate place in the run() loop.

 .../drill/exec/work/fragment/FragmentExecutor.java | 65 ++++++++++++++--------
 1 file changed, 43 insertions(+), 22 deletions(-)

commit 910e278ed3ee84db17de9e98739422d4ef86f124
Author: Chris Westin <cwestin@yahoo.com>
Date:   Wed Mar 25 18:44:41 2015 -0700

    DRILL-2574: SendingAccountor can suffer from lost updates
    
    SendingAccountor
    - atomically get and set the message count to wait for

 .../org/apache/drill/exec/physical/impl/SendingAccountor.java  | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit eeeb0759f4092702a79d072896e08e454c6ad193
Author: Chris Westin <cwestin@yahoo.com>
Date:   Tue Mar 24 16:21:33 2015 -0700

    DRILL-2547: Don't allow Drill to shut down while queries are still executing
    This will cause Drillbit.close() to block until all currently executing
    fragments have completed.
    
    WorkManager
    - added waitForExit() and indicateIfSafeToExit(), which use a latch to
      wait to shut down if there are active fragments
      - waitForExit() times out after 5 seconds
    
    Drillbit
    - call WorkManager.waitForExit() in close()

 .../org/apache/drill/exec/server/Drillbit.java     |  3 ++
 .../org/apache/drill/exec/work/WorkManager.java    | 47 +++++++++++++++++++++-
 2 files changed, 49 insertions(+), 1 deletion(-)

commit c7870df73eb270b0841a151024034b40b899be0e
Author: Chris Westin <cwestin@yahoo.com>
Date:   Tue Mar 24 16:20:06 2015 -0700

    DRILL-2502: Improve code safety by providing a generic event delivery mechan
    This fixes some problems with broken state transitions that happen under
    queryManager.cancelExecutingFragments(), which cause recursive entry into
    Foreman.moveToState().
    
    EventProcessor
    - created
    Foreman
    - altered to use the EventProcessor for moveToState()

 .../org/apache/drill/common/EventProcessor.java    | 104 +++++++++++++
 .../apache/drill/exec/work/foreman/Foreman.java    | 171 +++++++++++++--------
 2 files changed, 207 insertions(+), 68 deletions(-)

commit bdeb3449bbbda7737c86b197304cf5639a414b47
Author: Chris Westin <cwestin@yahoo.com>
Date:   Mon Mar 23 13:31:56 2015 -0700

    DRILL-2520: Foreman is being removed from the running query table prematurely
    WorkManager:
    - reinstate retireForeman() on WorkerBee
    - don't use SelfCleaningRunnable to remove Foreman from running query list
    
    Foreman:
    - use retireForeman() to remove self from running query list during cleanup

 .../org/apache/drill/exec/work/WorkManager.java    | 31 +++++++++++++++++-----
 .../apache/drill/exec/work/foreman/Foreman.java    |  3 +++
 2 files changed, 28 insertions(+), 6 deletions(-)

commit 141a1d69d93c909ed4fd87f62b637f35f7ce2f63
Author: Aditya Kishore <adi@apache.org>
Date:   Wed Mar 25 15:00:54 2015 -0700

    DRILL-2567: CONVERT_FROM in where clause cause the query to fail in planning phase
    
    Set the writeIndex of ByteBuf returned by Unpooled.wrappedBuffer() to 0.
    
    + Added a unit test to exercise the code path.

 .../exec/store/hbase/CompareFunctionsProcessor.java  | 20 +++++++++++++-------
 .../apache/drill/hbase/TestHBaseFilterPushDown.java  | 13 +++++++++++++
 2 files changed, 26 insertions(+), 7 deletions(-)

commit ff3bab7d545638ffbf47b732e00fb6561d1867e4
Author: Patrick Wong <pwong@maprtech.com>
Date:   Thu Mar 12 14:48:05 2015 -0700

    DRILL-2446: Improvement in finding Drill log dir

 distribution/src/resources/drill-config.sh | 25 +++++++++++++------------
 1 file changed, 13 insertions(+), 12 deletions(-)

commit c07e16f89b5889778dacd153db1666a4d0136a8f
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Mar 24 10:46:43 2015 -0700

    DRILL-2537: Set a maximum source code size of 2mb for scalar replacement.

 .../src/main/java/org/apache/drill/exec/compile/ClassTransformer.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 50ad974e9a5c960f6027fb61d39e537c87fd7f14
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Wed Mar 25 17:18:57 2015 -0700

    DRILL-2572: Use PrelUtil to get PlannerSettings for PruneScanRule.
    
    + context.getPlannerSettings() returns null sometimes
    + introduced in commit 48c9c01

 .../org/apache/drill/exec/planner/logical/partition/PruneScanRule.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 06d7eb28e75d72ccb7d1c755a43b891212353221
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Wed Mar 18 16:48:36 2015 -0700

    DRILL-2367: Removed partition column label in conf (gets from options)

 .../src/main/java/org/apache/drill/exec/ExecConstants.java       | 8 ++++++++
 .../main/java/org/apache/drill/exec/physical/impl/ScanBatch.java | 9 +++++++--
 .../org/apache/drill/exec/store/dfs/easy/EasyFormatPlugin.java   | 3 ++-
 .../apache/drill/exec/store/parquet/ParquetScanBatchCreator.java | 3 ++-
 exec/java-exec/src/main/resources/drill-module.conf              | 3 +--
 5 files changed, 20 insertions(+), 6 deletions(-)

commit c5ec7806384de9acec61ff2ef133c0416b7a2cdb
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue Mar 3 11:32:57 2015 -0800

    DRILL-2323: Added parquet metadata to logs (+filename to JSON reader)

 .../exec/store/easy/json/JSONRecordReader.java     |  4 +--
 .../store/parquet/ParquetScanBatchCreator.java     |  2 +-
 .../parquet/columnreaders/ParquetRecordReader.java | 24 +++++++++++----
 .../exec/store/parquet2/DrillParquetReader.java    | 14 +++++++--
 .../parquet/hadoop/ColumnChunkIncReadStore.java    | 35 +++++++++++++++++-----
 5 files changed, 59 insertions(+), 20 deletions(-)

commit f447a9d53e96831e4adbc3316bfd224954381fff
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon Mar 2 09:42:48 2015 -0800

    DRILL-2322: Adding file split information to logs

 .../org/apache/drill/exec/ops/FragmentContext.java |  4 ++-
 .../exec/store/text/DrillTextRecordReader.java     | 30 ++++++++++++++++------
 2 files changed, 25 insertions(+), 9 deletions(-)

commit 8ab361b123314b225733603560de36c170bbc117
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Fri Mar 6 17:07:31 2015 -0800

    DRILL-2275: Added support to get information about current cluster memory and threads
    
    + SystemRecordReader reads a SystemRecord e.g. MemoryRecord
    + Added generic data type for static tables
    + GroupScan can enforce width to be maximum width on ExcessiveExchangeRemover
    + GroupScan has minimum width for SimpleParallelizer

 .../java/org/apache/drill/common/JSONOptions.java  |  24 +++-
 .../drill/exec/memory/TopLevelAllocator.java       |   3 +
 .../exec/physical/base/AbstractGroupScan.java      |  14 +-
 .../apache/drill/exec/physical/base/GroupScan.java |  16 +++
 .../exec/planner/fragment/ParallelizationInfo.java |  10 +-
 .../exec/planner/fragment/SimpleParallelizer.java  |   4 +-
 .../apache/drill/exec/planner/fragment/Stats.java  |   4 +
 .../exec/planner/fragment/StatsCollector.java      |   4 +-
 .../visitor/ExcessiveExchangeIdentifier.java       |   7 +
 .../apache/drill/exec/store/RecordDataType.java    |  65 ++++++++++
 .../apache/drill/exec/store/pojo/PojoDataType.java |  42 +++---
 .../drill/exec/store/sys/DrillbitIterator.java     |   4 +-
 .../apache/drill/exec/store/sys/MemoryRecord.java  | 141 +++++++++++++++++++++
 .../drill/exec/store/sys/StaticDrillTable.java     |  19 +--
 .../apache/drill/exec/store/sys/SystemRecord.java  |  44 +++++++
 .../drill/exec/store/sys/SystemRecordReader.java   |  77 +++++++++++
 .../apache/drill/exec/store/sys/SystemTable.java   |  93 +++++++++++---
 .../exec/store/sys/SystemTableBatchCreator.java    |  29 ++++-
 .../drill/exec/store/sys/SystemTablePlugin.java    |  68 +++++-----
 .../exec/store/sys/SystemTablePluginConfig.java    |  12 +-
 .../drill/exec/store/sys/SystemTableScan.java      |  56 ++++++--
 .../apache/drill/exec/store/sys/ThreadsRecord.java | 119 +++++++++++++++++
 .../drill/exec/store/sys/TestSystemTable.java      |  12 ++
 23 files changed, 749 insertions(+), 118 deletions(-)

commit 7bded6d3c0655ffa6e1f9731bd2d26c86b593700
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Fri Mar 20 14:17:51 2015 -0700

    DRILL-2366: accurately materialize schema path for complex types + test cases

 .../drill/exec/record/HyperVectorWrapper.java      | 10 +++-
 .../drill/exec/record/SimpleVectorWrapper.java     | 10 +++-
 .../vector/complex/AbstractContainerVector.java    |  2 -
 .../drill/exec/vector/complex/MapVector.java       |  4 --
 .../exec/vector/complex/RepeatedMapVector.java     | 22 +++++++
 .../exec/expr/TestSchemaPathMaterialization.java   | 70 ++++++++++++++++++++++
 .../test/resources/complex/json/repeated_list.json |  7 +++
 .../resources/complex/json/repeated_list_map.json  |  7 +++
 8 files changed, 121 insertions(+), 11 deletions(-)

commit 8493713cafe6e5d1f56f2dffc9d8bea294a6e013
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Mar 24 12:26:43 2015 -0700

    DRILL-2541: Move plan fragment logging to trace level

 .../src/main/java/org/apache/drill/exec/work/foreman/Foreman.java     | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2019d336c92a774c0a3a1bdb1a051665f92fc3eb
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Mar 23 14:20:28 2015 -0700

    DRILL-2099: Fix flatten after sort

 .../java/org/apache/drill/exec/record/VectorContainer.java   |  2 +-
 .../apache/drill/exec/physical/impl/flatten/TestFlatten.java | 12 ++++++++++++
 .../src/test/resources/flatten/drill-2099-result.json        |  5 +++++
 .../src/test/resources/jsoninput/flatten_post_sort.json      |  7 +++++++
 4 files changed, 25 insertions(+), 1 deletion(-)

commit 07a981797dd6094ad0706c7e45d6afc0899a5510
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Wed Mar 18 08:59:04 2015 -0700

    DRILL-2094: Add SqlOrderBy rule for CompoundIdentifierConverter

 .../sql/parser/CompoundIdentifierConverter.java    | 16 +++++++++++++++
 .../java/org/apache/drill/TestExampleQueries.java  | 20 ++++++++++++++++++
 .../resources/store/json/orderByArrayElement.json  | 24 ++++++++++++++++++++++
 3 files changed, 60 insertions(+)

commit c7cf88391f0bdae891f491c83ab96bfbedac9f97
Author: Norris Lee <norrisl@simba.com>
Date:   Tue Feb 24 17:37:42 2015 -0800

    DRILL-2307: Detect DNS name resolution failure for better error messages

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 4 ++++
 contrib/native/client/src/include/drill/common.hpp      | 3 ++-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit bebfe8ae92669dab0891e216d391297d6187a745
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Fri Mar 20 16:15:03 2015 -0700

    DRILL-2509: C++ client - concurrency issue with m_pendingRequests

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 4 +++-
 contrib/native/client/src/clientlib/drillClientImpl.hpp | 2 ++
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 2f2338f3f8b66921d6db223064bb23ff41894486
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Mon Mar 16 13:38:46 2015 -0700

    DRILL-2442: Initial implementation of C++ client support for impersonation.

 contrib/native/client/example/querySubmitter.cpp   | 24 ++++++++++--
 .../native/client/src/clientlib/drillClient.cpp    | 42 ++++++++++++++++++--
 .../client/src/clientlib/drillClientImpl.cpp       | 33 +++++++++++++---
 .../client/src/clientlib/drillClientImpl.hpp       |  2 +-
 contrib/native/client/src/include/drill/common.hpp | 32 +++++++++++++++
 .../client/src/include/drill/drillClient.hpp       | 45 +++++++++++++++++++++-
 6 files changed, 163 insertions(+), 15 deletions(-)

commit e796b91aa040795c0d3b813f7379fd3ce71c51fe
Author: adeneche <adeneche@gmail.com>
Date:   Tue Mar 24 08:46:27 2015 -0700

    DRILL-2534: Unit tests should reset the drillbitCount in tear down
    
    added new afterClass method to BaseTestQuery that sets the drillbitCount to 1
    
    Signed-off-by: vkorukanti <venki.korukanti@gmail.com>

 exec/java-exec/src/test/java/org/apache/drill/BaseTestQuery.java | 6 ++++++
 1 file changed, 6 insertions(+)

commit 1b9be3097dcb91fc6db4eb164801cc1568d85610
Author: dbarclay <dbarclay@maprtech.com>
Date:   Sat Mar 14 19:44:01 2015 -0700

    DRILL-2467: Fix "datatype" to "datetype" for test Hive DATE column.

 .../java/org/apache/drill/exec/store/hive/HiveTestDataGenerator.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 544988f2ac99fa19807108494655a54faf358b17
Author: dbarclay <dbarclay@maprtech.com>
Date:   Sun Mar 15 13:32:00 2015 -0700

    DRILL-2466: Fix "<a>.VARCHAR -> <b>.NVARCHAR" to "-> <b>.VARCHAR" (Types.h).
    
    - Fixed mapping from TypeProtos.MinorType.VARCHAR to java.sql.Types.NVARCHAR
      to be to java.sql.Types.VARCHAR.
    - Also renamed getSqlType to getJdbcType, getSqlTypeName to getSqlTypeName.

 .../main/java/org/apache/drill/common/types/Types.java    | 15 +++++++++++----
 .../org/apache/drill/jdbc/DrillColumnMetaDataList.java    |  6 +++---
 2 files changed, 14 insertions(+), 7 deletions(-)

commit 64ad7a7314911a9b3ee6618c9c44b54473624109
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Mar 18 16:18:37 2015 -0700

    DRILL-2193: implement fast count / skip-all semantics for JSON reader

 .../exec/store/easy/json/JSONRecordReader.java     | 22 ++++----
 .../drill/exec/store/easy/json/JsonProcessor.java  | 38 ++++++++++++++
 .../store/easy/json/reader/BaseJsonProcessor.java  | 58 ++++++++++++++++++++++
 .../store/easy/json/reader/CountingJsonReader.java | 50 +++++++++++++++++++
 .../drill/exec/vector/complex/fn/JsonReader.java   | 25 +++-------
 5 files changed, 163 insertions(+), 30 deletions(-)

commit f1b59ed4467ddaf75bc986ec095a20d6c28e9d15
Author: Chris Westin <cwestin@yahoo.com>
Date:   Fri Mar 20 12:29:29 2015 -0700

    DRILL-2510: Fix unclosed allocators detected in Java shutdown hook
    
    TestWriteToDisk
    - fix warnings, including closing unclosed resources with try-with-resources
    
    TestAllocators
    - close unclosed resources
      doesn't use try-with-resources because this stresses interleaved allocation
      operations that wouldn't necessarily be nested
    
    StackTrace
    - created convenience class for tracking stack traces
    
    Drillbit
    - used StackTrace to track location of Drillbit starts for shutdown hook
      error messages so we can more easily identify errant tests from just the logs
      in future
    - added an isClosed flag to detect that the Drillbit has already been closed
      to avoid complaints about double closures that happen in many tests that
      explicitly close their drillbits (the shutdown hook then closes them again,
      causing bogus complaints)
    - synchronized close()
    - made the id generator in the ShutdownThread an AtomicInteger

 .../java/org/apache/drill/common/StackTrace.java   |  73 ++++++++++++
 .../org/apache/drill/exec/server/Drillbit.java     |  48 ++++++--
 .../apache/drill/exec/cache/TestWriteToDisk.java   | 122 ++++++++++++---------
 .../apache/drill/exec/memory/TestAllocators.java   |  26 ++---
 4 files changed, 194 insertions(+), 75 deletions(-)

commit bb1d7615e7eb6c0c17c0c8a1cde0ca070393e257
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Mar 4 19:47:05 2015 -0800

    DRILL-2402: Update hash functions to use seed strategy as opposed to xor strategy.
    
    Also: Simplify and consolidate expression materialization.

 .../exec/expr/ExpressionTreeMaterializer.java      |  11 +
 .../drill/exec/expr/fn/impl/Hash64Functions.java   | 585 +++++++++++++++++++++
 .../exec/expr/fn/impl/Hash64FunctionsWithSeed.java | 581 ++++++++++++++++++++
 .../drill/exec/expr/fn/impl/HashFunctions.java     |  12 +-
 .../org/apache/drill/exec/expr/fn/impl/XXHash.java |  82 +--
 .../physical/impl/common/ChainedHashTable.java     |  49 +-
 .../drill/exec/planner/physical/PrelUtil.java      |  37 +-
 .../visitor/InsertLocalExchangeVisitor.java        |  29 +-
 .../exec/physical/impl/TestLocalExchange.java      |   4 +-
 9 files changed, 1290 insertions(+), 100 deletions(-)

commit cfd88dbf61101e86aea7de8ac0409e029ee30ffc
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Mar 6 06:58:07 2015 -0800

    DRILL-2010: MergeJoin: Store/restore the right batch state when existing join loop due to output batch full.

 .../drill/exec/physical/impl/join/JoinStatus.java  | 26 ++++++++++++++++++++++
 .../exec/physical/impl/join/JoinTemplate.java      | 24 +++++++++++++++-----
 2 files changed, 44 insertions(+), 6 deletions(-)

commit d7dc0b95b8086b63523ec2e6a1cc9236d1a5bc44
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Mar 17 17:38:55 2015 -0700

    DRILL-2342: Store the nullability property of column in view persistence store.

 .../java/org/apache/drill/exec/dotdrill/View.java  | 26 +++++++++++++---
 .../java/org/apache/drill/TestMergeFilterPlan.java |  4 +--
 .../org/apache/drill/exec/sql/TestViewSupport.java | 36 ++++++++++++++++++++++
 .../apache/drill/jdbc/test/TestMetadataDDL.java    |  2 +-
 .../java/org/apache/drill/jdbc/test/TestViews.java |  4 +--
 5 files changed, 63 insertions(+), 9 deletions(-)

commit 9c9ee8c435c19c90636ce770fef9d05b5d3ae12e
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Dec 16 14:05:11 2014 -0800

    DRILL-1735: Have closing of JDBC connection free embedded-server resources.
    
    Hooked up closing of JDBC connection to shut down embedded Drillbit, and then
    fixed chain of bugs exposed by that:
     1. Added test org.apache.drill.jdbc.test.Bug1735ConnectionCloseTest.
     2. Hooked up connection handler in Driver to actually close JDBC connection.
     3. Released a QueryResultsBatch in DrillCursor.
     4. Reset DrillMetrics in BootStrapContext.close() (so stopping local DrillBit
        and starting new DrillBit doesn't yield "duplicate metric" error.)
     5. Checked cursor/row state before trying to retrieve value in DrillResultSet's
        column accessor methods.
        - Added org.apache.drill.jdbc.JdbcApiSqlException (for JDBC-level errors).
        - Added org.apache.drill.jdbc.InvalidCursorStateSqlException.
        [SqlAccessor, AvaticaDrillSqlAccessor, DrillConnectionImpl, DrillCursor,
        DrillResultSet, InvalidCursorStateSqlException, JdbcApiSqlException,
        DrillResultSetTest]
     6. Released vectors in DrillResultSet.cleanup().
        Added org.apache.drill.jdbc.test.Bug1735ResultSetCloseReleasesBuffersTest.
     7. Delayed last-chunk batch until COMPLETED batch in QueryResultHandler.
     8. Added nextUntilEnd(...) workarounds for fragment cancelation race condition
        to TestView and other JDBC module/subproject tests.
     9. Tracked open statements in orer to close at connection close (DrillStatementRegistry, etc.)
    10. Commented out nextUntilEnd(...) workarounds for fragment cancelation race
        condition.
    11 Miscellaneous:
       - Added some toString() methods
       - Adjusted some logging (e.g., "// log.debug(...)" -> "log.trace(...)".
       - Cleaned up a bit.  [DrillCursor, DrillResultSet, QueryResultHandler]
       - Added a few documentation comments.
       - Added various TODO comments.

 .../org/apache/drill/exec/client/DrillClient.java  |  31 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |  10 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    | 274 +++++++++++----
 .../apache/drill/exec/server/BootStrapContext.java |   4 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  15 +-
 .../drill/exec/vector/accessor/SqlAccessor.java    |  11 +
 .../apache/drill/exec/work/foreman/Foreman.java    |   3 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |  57 +++-
 .../test/java/org/apache/drill/exec/ExecTest.java  |   2 +
 .../apache/drill/jdbc/AvaticaDrillSqlAccessor.java |  62 ++--
 .../org/apache/drill/jdbc/DrillAccessorList.java   |   2 +
 .../apache/drill/jdbc/DrillConnectionConfig.java   |   2 +
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |  40 ++-
 .../java/org/apache/drill/jdbc/DrillCursor.java    |  79 +++--
 .../apache/drill/jdbc/DrillPreparedStatement.java  |   6 +-
 .../java/org/apache/drill/jdbc/DrillResultSet.java |  38 ++-
 .../java/org/apache/drill/jdbc/DrillStatement.java |   6 +-
 .../apache/drill/jdbc/DrillStatementRegistry.java  |  57 +++-
 .../main/java/org/apache/drill/jdbc/Driver.java    |   4 +-
 .../drill/jdbc/InvalidCursorStateSqlException.java |  97 ++++++
 .../org/apache/drill/jdbc/JdbcApiSqlException.java | 155 +++++++++
 .../org/apache/drill/jdbc/DrillResultSetTest.java  | 159 +++++++++
 .../java/org/apache/drill/jdbc/DriverTest.java     | 371 +++++++++++++++++++++
 .../test/java/org/apache/drill/jdbc/JdbcTest.java  |  21 +-
 .../jdbc/test/Bug1735ConnectionCloseTest.java      | 102 ++++++
 .../Bug1735ResultSetCloseReleasesBuffersTest.java  |  89 +++++
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  |  23 +-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |  15 +
 .../apache/drill/jdbc/test/TestMetadataDDL.java    |  41 ++-
 .../java/org/apache/drill/jdbc/test/TestViews.java | 127 +++++--
 30 files changed, 1680 insertions(+), 223 deletions(-)

commit 48c9c01df011d63fa2c118624fe91c085bbe1883
Author: Aman Sinha <asinha@mapr.com>
Date:   Sun Feb 15 23:04:50 2015 -0800

    DRILL-2353: Add interpreter based partition pruning.
    
    Integrate Jacques's interpreter based partition pruning with Jason's interpreter refactoring that removed interpreter module and added that functionality in the exec module.
    
    Ensure boolean operators are correctly handled when traversing expression tree to find partition filters.
    
    Resolve merge conflicts after rebasing to master branch.
    
    Additional fixes for handling OR conditions.

 .../exec/planner/sql/HivePartitionDescriptor.java  |   6 +
 .../java/org/apache/drill/exec/expr/TestPrune.java |  38 +++
 .../expr/fn/interpreter/InterpreterEvaluator.java  |  11 +
 .../planner/FileSystemPartitionDescriptor.java     |  22 +-
 .../drill/exec/planner/PartitionDescriptor.java    |   7 +
 .../drill/exec/planner/logical/DrillRuleSets.java  |   8 +-
 .../logical/partition/FindPartitionConditions.java | 302 +++++++++++++++++++++
 .../planner/logical/partition/PruneScanRule.java   | 296 ++++++++++++++++++++
 .../java/org/apache/drill/exec/expr/TestPrune.java |  47 ++++
 .../exec/planner/logical/FilterSplitTest.java      | 170 ++++++++++++
 10 files changed, 904 insertions(+), 3 deletions(-)

commit 7af5f9a01b1433bb8bb62c1e04a6cef68d629b48
Author: Chris Westin <cwestin@yahoo.com>
Date:   Thu Mar 19 17:13:35 2015 -0700

    DRILL-2503: AsmUtil ClassTransformer MergeAdapter - add option to pass through ClassReader.EXPAND_FRAMES to satisfy complaint from ASM - rationalize AsmUtils methods' argument lists
    
    TestBugFixes (in ...drill.jdbc.test)
    - created this to hold random bug fix tests

 .../org/apache/drill/exec/compile/AsmUtil.java     | 25 +++----
 .../drill/exec/compile/ClassTransformer.java       |  5 +-
 .../apache/drill/exec/compile/MergeAdapter.java    | 58 +++------------
 .../org/apache/drill/jdbc/test/TestBugFixes.java   | 84 ++++++++++++++++++++++
 4 files changed, 109 insertions(+), 63 deletions(-)

commit 838fd08aec6378d3709842b7f93cfabf1e14f87a
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Mar 19 19:50:01 2015 -0700

    DRILL-1967: Add null checks to resources in cleanup of Parquet writer that may not be initialized if no schema has been provided to it by the time it is cleaned up.

 .../org/apache/drill/exec/store/parquet/ParquetRecordWriter.java  | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 4d398edf87d2ec6fab6c552b1f5a33fb31b955bc
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Mar 17 19:23:45 2015 -0700

    DRILL-2488: Return DEFAULT as supported encoding for MergeJoin since it does not currently handle SV2 or SV4.

 .../java/org/apache/drill/exec/planner/physical/MergeJoinPrel.java    | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 17f0befeb605362a2d13320e3428b55a250604d1
Author: Aditya Kishore <adi@apache.org>
Date:   Wed Mar 18 20:25:16 2015 -0700

    DRILL-2499: Remove orphan test Drill2130InterpreterHamcrestConfigurationTest

 ...ll2130InterpreterHamcrestConfigurationTest.java | 46 ----------------------
 1 file changed, 46 deletions(-)

commit 2da618cd4da33ad55021935933bc28a18a658b74
Author: Chris Westin <cwestin@yahoo.com>
Date:   Wed Feb 25 10:59:36 2015 -0800

    DRILL-2245: Clean up query setup and execution kickoff in Foreman/WorkManager in order to ensure consistent handling, and avoid hangs and races, with the goal of improving Drillbit robustness.
    
    I did my best to keep these clean when I split them up, but this core commit
    may depend on some minor changes in the hygiene commit that is also
    associated with this bug, so either both should be applied, or neither.
    The core commit should be applied first.
    
    protocol/pom.xml
    - updated protocol buffer compiler version to 2.6
    - this made slight modifications to the formats of a few committed protobuf
      files
    
    AutoCloseables
    - created org.apache.drill.common.AutoCloseables to handle closing these
      quietly
    
    BaseTestQuery, and derivatives
    - factored out pieces into QueryTestUtil so they can be reused
    
    DeferredException:
    - created this so we can collect exceptions during the shutdown process
    
    Drillbit
    - uses AutoCloseables for the WorkManager and for the storeProvider
    - allow start() to take a RemoteServiceSet
    - private, final, formatting
    
    Foreman
    - added new state CANCELLATION_REQUESTED (via UserBitShared.proto) to represent
      the time between request of a cancellation, and acknowledgement from all
      remote endpoints running fragments on a query's behalf
    - created ForemanResult to manage interleaving cleanup effects/failure with
      query result state
    - does not need to implement Comparable
    - does not need to implement Closeable
    - thread blocking fixes
    - add resultSent flag
    - add code to log plan fragments with endpoint assignments
    - added finals, cleaned up formatting
    - do queue management in acquireQuerySemaphore; local tests pass
    - rename getContext() to getQueryContext()
    - retain DrillbitContext
    - a couple of exception injections for testing
    - minor formatting
    - TODOs
    
    FragmentContext
    - added a DeferredException to collect errors during startup/shutdown sequences
    
    FragmentExecutor
    - eliminated CancelableQuery
    - use the FragmentContext's DeferredException for errors
    - common subexpression elimination
    - cleaned up
    
    QueryContext
    - removed unnecessary functions (with some outside classes tweaked for this)
    - finals, formatting
    
    QueryManager
    - merge in QueryStatus
      - affects Foreman, ../batch/ControlHandlerImpl,
        and ../../server/rest/ProfileResources
    - made some methods private
    - removed unused imports
    - add finals and formatting
    - variable renaming to improve readability
    - formatting
    - comments
    - TODOs
    
    QueryStatus
    - getAsInfo() private
    - member renaming
    - member access changes
    - formatting
    - TODOs
    
    QueryTestUtil, BaseTestQuery, TestDrillbitResilience
    - make maxWidth a parameter to server startup
    
    SelfCleaningRunnable
    - created org.apache.drill.common.SelfCleaningRunnable
    
    SingleRowListener
    - created org.apache.drill.SingleRowListener results listener
    - use in TestDrillbitResilience
    
    TestComparisonFunctions
    - fix not to close the FragmentContext multiple times
    
    TestDrillbitResilience
    - created org.apache.drill.exec.server.TestDrillbitResilience to test drillbit
      resilience in the face of exceptions and failures during queries
    
    TestWithZookeeper
    - factor out work into ZookeeperHelper so that it can be reused by
      TestDrillbitResilience
    
    UserBitShared
    - get rid of unused UNKNOWN_QUERY
    
    WorkEventBus
    - rename methods, affects Foreman and ControlHandlerImpl
    - remove unused WorkerBee reference
    - most members final
    - formatting
    
    WorkManager
    - Closeable to AutoCloseable
    - removed unused incomingFragments Set
    - eliminated unnecessary eventThread and pendingTasks by posting Runnables
      directly to executor
    - use SelfCleaningRunnable for Foreman management
    - FragmentExecutor management uses SelfCleaningRunnable
    - runningFragments to be a ConcurrentHashMap; TestTpchDistributed passes
    - other improvements due to bee no longer needed in various places
    - most members final
    - minor formatting
    - comments
    - TODOs
    
    (*) Created exception injection classes to simulate exceptions for testing
    - ExceptionInjection
    - ExceptionInjector
    - ExceptionInjectionUtil
    - TestExceptionInjection
    
    DRILL-2245-hygiene: General code cleanup encountered while working on the rest
    of this commit. This includes
    - making members final whenever possible
    - making members private whenever possible
    - making loggers private
    - removing unused imports
    - removing unused private functions
    - removing unused public functions
    - removing unused local variables
    - removing unused private members
    - deleting unused files
    - cleaning up formatting
      - adding spaces before braces in conditionals and loop bodies
      - breaking up overly long lines
      - removing extra blank lines
    
    While I tried to keep this clean, this commit may have minor dependencies on
    DRILL-2245-core that I missed. The intention is just to break this up for
    review purposes. Either both commits should be applied, or neither.

 .../org/apache/drill/common/AutoCloseables.java    |   45 +
 .../org/apache/drill/common/DeferredException.java |  121 ++
 .../apache/drill/common/SelfCleaningRunnable.java  |   35 +-
 .../apache/drill/common/config/DrillConfig.java    |    7 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |    4 +
 .../org/apache/drill/exec/client/DrillClient.java  |   19 +-
 .../drill/exec/compile/ClassTransformer.java       |    7 +-
 .../exec/coord/local/LocalClusterCoordinator.java  |   63 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  144 ++-
 .../org/apache/drill/exec/ops/QueryContext.java    |  108 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  172 ++-
 .../apache/drill/exec/opt/IdentityOptimizer.java   |   10 +-
 .../java/org/apache/drill/exec/opt/Optimizer.java  |   17 +-
 .../drill/exec/physical/impl/BaseRootExec.java     |    1 +
 .../apache/drill/exec/physical/impl/RootExec.java  |    5 -
 .../drill/exec/physical/impl/ScreenCreator.java    |    7 +-
 .../drill/exec/physical/impl/SendingAccountor.java |    1 +
 .../impl/materialize/QueryWritableBatch.java       |   14 +-
 .../OrderedPartitionRecordBatch.java               |    1 +
 .../impl/producer/ProducerConsumerBatch.java       |    5 +
 .../drill/exec/planner/fragment/Fragment.java      |    1 +
 .../exec/planner/fragment/SimpleParallelizer.java  |    3 +-
 .../planner/sql/handlers/SetOptionHandler.java     |   21 +-
 .../org/apache/drill/exec/rpc/BasicClient.java     |    4 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |    3 +-
 .../apache/drill/exec/rpc/NamedThreadFactory.java  |   56 +-
 .../drill/exec/rpc/ReconnectingConnection.java     |    1 +
 .../apache/drill/exec/rpc/RemoteConnection.java    |    2 +
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |    1 -
 .../apache/drill/exec/rpc/control/Controller.java  |    2 +-
 .../drill/exec/rpc/control/ControllerImpl.java     |    2 +-
 .../drill/exec/rpc/control/WorkEventBus.java       |   49 +-
 .../drill/exec/rpc/data/DataConnectionCreator.java |    2 +-
 .../exec/rpc/data/DataResponseHandlerImpl.java     |   33 +-
 .../org/apache/drill/exec/rpc/data/DataTunnel.java |    2 +
 .../org/apache/drill/exec/rpc/user/UserClient.java |    2 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |    1 -
 .../org/apache/drill/exec/server/Drillbit.java     |  158 +--
 .../apache/drill/exec/server/DrillbitContext.java  |   37 +-
 .../exec/server/options/DrillConfigIterator.java   |    4 -
 .../exec/server/options/SessionOptionManager.java  |    5 +-
 .../exec/server/options/SystemOptionManager.java   |    1 +
 .../exec/server/rest/profile/ProfileResources.java |   18 +-
 .../apache/drill/exec/service/ServiceEngine.java   |    2 +-
 .../drill/exec/store/sys/local/FilePStore.java     |   23 +-
 .../drill/exec/testing/ExceptionInjection.java     |  133 +++
 .../drill/exec/testing/ExceptionInjector.java      |  112 ++
 .../apache/drill/exec/testing/InjectionSite.java   |   72 ++
 .../drill/exec/testing/SimulatedExceptions.java    |  164 +++
 .../apache/drill/exec/work/CancelableQuery.java    |   22 -
 .../org/apache/drill/exec/work/QueryWorkUnit.java  |   14 +-
 .../org/apache/drill/exec/work/WorkManager.java    |  255 ++--
 .../drill/exec/work/batch/ControlHandlerImpl.java  |  101 +-
 .../exec/work/batch/SpoolingRawBatchBuffer.java    |    1 +
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |    1 +
 .../exec/work/foreman/DrillbitStatusListener.java  |    2 +-
 .../apache/drill/exec/work/foreman/Foreman.java    | 1004 ++++++++++------
 .../drill/exec/work/foreman/FragmentData.java      |   29 +-
 .../exec/work/foreman/FragmentStatusListener.java  |    2 -
 .../drill/exec/work/foreman/QueryManager.java      |  323 ++++-
 .../drill/exec/work/foreman/QueryStatus.java       |  255 ----
 .../drill/exec/work/fragment/FragmentExecutor.java |  199 ++--
 .../exec/work/fragment/NonRootFragmentManager.java |   12 +-
 .../exec/work/fragment/RootFragmentManager.java    |    1 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |   69 +-
 .../test/java/org/apache/drill/PlanTestBase.java   |   60 +-
 .../test/java/org/apache/drill/QueryTestUtil.java  |  154 +++
 .../java/org/apache/drill/SingleRowListener.java   |  138 +++
 .../test/java/org/apache/drill/TestBuilder.java    |    4 +-
 .../java/org/apache/drill/TestTpchDistributed.java |    4 +-
 .../org/apache/drill/exec/DrillSystemTestBase.java |    6 +-
 .../org/apache/drill/exec/TestWithZookeeper.java   |   52 +-
 .../org/apache/drill/exec/ZookeeperHelper.java     |  102 ++
 .../drill/exec/physical/impl/SimpleRootExec.java   |   10 +-
 .../physical/impl/TestComparisonFunctions.java     |   20 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |    9 +-
 .../drill/exec/server/TestDrillbitResilience.java  |  398 +++++++
 .../drill/exec/testing/ExceptionInjectionUtil.java |   82 ++
 .../drill/exec/testing/TestExceptionInjection.java |  192 +++
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |    1 +
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |   10 +-
 protocol/pom.xml                                   |   20 +-
 .../org/apache/drill/common/types/TypeProtos.java  |   64 +-
 .../org/apache/drill/exec/proto/BitControl.java    |  372 +++---
 .../java/org/apache/drill/exec/proto/BitData.java  |  153 ++-
 .../drill/exec/proto/CoordinationProtos.java       |  177 ++-
 .../org/apache/drill/exec/proto/ExecProtos.java    |   59 +-
 .../apache/drill/exec/proto/GeneralRPCProtos.java  |  134 +--
 .../apache/drill/exec/proto/SchemaDefProtos.java   |   15 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 1232 +++++++++-----------
 .../org/apache/drill/exec/proto/UserProtos.java    |  298 +++--
 .../apache/drill/exec/proto/beans/QueryResult.java |    4 +-
 protocol/src/main/protobuf/UserBitShared.proto     |    6 +-
 93 files changed, 4644 insertions(+), 3122 deletions(-)

commit ff9882be766828f39340f579e1de7b7e1bb3cfec
Author: alzarei <azarei@ece.ubc.ca>
Date:   Wed Mar 18 20:07:01 2015 -0700

    DRILL-2415: Export Drill C++ Client symbols so as to provide dynamic linking

 contrib/native/client/src/clientlib/drillClient.cpp     |  4 ++++
 contrib/native/client/src/include/drill/drillClient.hpp |  8 ++++++++
 contrib/native/client/src/include/drill/recordBatch.hpp | 10 +++++-----
 3 files changed, 17 insertions(+), 5 deletions(-)

commit ee5b0bc13f98a839a5ad7b63356a100a0b28c14f
Author: Patrick Wong <pwong@maprtech.com>
Date:   Wed Mar 18 15:23:43 2015 -0700

    DRILL-2497: Remove reference to drill-interpreter in build

 distribution/pom.xml | 16 ----------------
 1 file changed, 16 deletions(-)

commit 49d316a1cb22f79061e246b5e197547dac730232
Author: Yuliya Feldman <yfeldman@maprtech.com>
Date:   Tue Feb 17 00:09:07 2015 -0800

    DRILL-2210 Introducing multithreading capability to PartitonerSender

 .../apache/drill/exec/compile/CodeCompiler.java    |  13 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |   8 +
 .../org/apache/drill/exec/ops/OperatorStats.java   |  81 +++++
 .../exec/physical/config/IteratorValidator.java    |   2 +-
 .../drill/exec/physical/impl/SendingAccountor.java |   9 +-
 .../partitionsender/PartitionSenderRootExec.java   |  91 ++++-
 .../physical/impl/partitionsender/Partitioner.java |  11 +-
 .../impl/partitionsender/PartitionerDecorator.java | 282 +++++++++++++++
 .../impl/partitionsender/PartitionerTemplate.java  |  54 ++-
 .../drill/exec/planner/fragment/Materializer.java  |   3 +
 .../exec/planner/physical/PlannerSettings.java     |   3 +
 .../apache/drill/exec/server/DrillbitContext.java  |  10 +-
 .../exec/server/options/SystemOptionManager.java   |   3 +
 .../org/apache/drill/exec/work/WorkManager.java    |   8 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   2 +-
 .../impl/partitionsender/TestPartitionSender.java  | 392 +++++++++++++++++++++
 16 files changed, 938 insertions(+), 34 deletions(-)

commit 54df129cab544c3df8e75a7dae3f85a91a9ded5a
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Thu Mar 5 13:35:48 2015 -0800

    DRILL-2358: Ensure DrillScanRel differentiates skip-all, scan-all & scan-some in a backward compatible fashion

 .../drill/exec/planner/logical/ColumnList.java     | 200 +++++++++++++++++++++
 .../drill/exec/planner/logical/DrillScanRel.java   |  11 +-
 .../drill/exec/store/AbstractRecordReader.java     |  14 ++
 3 files changed, 222 insertions(+), 3 deletions(-)

commit 12a7d01791bb9ad0126f2dccf2100f09668861d1
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Mar 17 19:45:38 2015 -0700

    DRILL-2309: Fix reduce aggregate rule to create new aggregate calls based on input row type

 .../exec/planner/logical/DrillReduceAggregatesRule.java | 14 +++++++++++---
 .../drill/exec/fn/impl/TestAggregateFunctions.java      | 17 +++++++++++++++++
 .../src/test/resources/jsoninput/nullable3.json         |  3 +++
 3 files changed, 31 insertions(+), 3 deletions(-)

commit 29fe695bdf5d4a14d605b3a0dbb9b1042425538a
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Mar 16 12:32:58 2015 -0700

    DRILL-2180: Star column is enabled to work along with complex expression

 .../visitor/SplitUpComplexExpressions.java         | 15 +++++++++--
 .../exec/physical/impl/flatten/TestFlatten.java    | 29 ++++++++++++++++++++++
 .../src/test/resources/store/text/sample.json      | 26 +++++++++++++++++++
 3 files changed, 68 insertions(+), 2 deletions(-)

commit 47bcacaeed46dd1594d36c5d7e4939d9e4c67bab
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sat Mar 14 12:20:30 2015 -0700

    DRILL-2106: Fix SplitUpComplexExpression rule to correctly detect last used column reference in the project expression

 .../drill/exec/planner/physical/PrelUtil.java      | 36 ++++++++++++++++++++++
 .../visitor/SplitUpComplexExpressions.java         | 13 +++++---
 .../exec/physical/impl/flatten/TestFlatten.java    | 15 +++++++++
 .../test/resources/flatten/drill-2106-result.json  | 12 ++++++++
 4 files changed, 71 insertions(+), 5 deletions(-)

commit 8faa66424b81e4341b36c1aeecc767edbb233d38
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Mar 17 18:07:53 2015 -0700

    DRILL-2389: Remove timestamp with time zone

 .../java-exec/src/main/codegen/data/AggrTypes1.tdd |  6 --
 exec/java-exec/src/main/codegen/data/Casts.tdd     |  6 --
 .../src/main/codegen/data/ComparisonTypesMain.tdd  |  1 -
 .../src/main/codegen/data/DateIntervalFunc.tdd     |  2 +-
 .../src/main/codegen/data/ExtractTypes.tdd         |  2 +-
 .../src/main/codegen/data/ValueVectorTypes.tdd     |  1 -
 .../src/main/codegen/templates/CastDateDate.java   |  6 +-
 .../main/codegen/templates/CastDateVarChar.java    |  6 +-
 .../main/codegen/templates/CastVarCharDate.java    |  8 +--
 .../codegen/templates/ConvertToNullableHolder.java |  5 +-
 .../templates/DateIntervalAggrFunctions1.java      | 14 +---
 .../DateDateArithmeticFunctions.java               | 10 ---
 .../DateIntervalArithmeticFunctions.java           | 22 +------
 .../DateToCharFunctions.java                       |  3 -
 .../DateTruncFunctions.java                        |  4 +-
 .../DateIntervalFunctionTemplates/Extract.java     |  6 +-
 .../ToDateTypeFunctions.java                       |  4 --
 .../main/codegen/templates/FixedValueVectors.java  | 52 +--------------
 .../codegen/templates/JsonOutputRecordWriter.java  |  1 -
 .../codegen/templates/NullableValueVectors.java    |  2 +-
 .../templates/ParquetOutputRecordWriter.java       |  1 -
 .../main/codegen/templates/ParquetTypeHelper.java  |  1 -
 .../src/main/codegen/templates/SqlAccessors.java   | 13 +---
 .../templates/StringOutputRecordWriter.java        |  1 -
 .../src/main/codegen/templates/TypeHelper.java     |  2 +-
 .../compile/bytecode/ScalarReplacementTypes.java   |  4 --
 .../exec/expr/fn/impl/CastBigIntTimeStampTZ.java   | 53 ---------------
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java | 75 +---------------------
 .../drill/exec/expr/fn/impl/HashFunctions.java     | 32 ---------
 .../drill/exec/fn/impl/TestDateFunctions.java      |  4 +-
 .../exec/fn/interp/ExpressionInterpreterTest.java  |  7 +-
 .../drill/exec/record/vector/TestDateTypes.java    |  1 -
 .../functions/date/date_difference_arithmetic.json |  1 -
 .../src/test/resources/functions/date/to_char.json |  3 +-
 .../record/vector/test_all_date_literals.json      |  1 -
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |  3 +-
 36 files changed, 25 insertions(+), 338 deletions(-)

commit 7a56df134f0b43323173776861603ef5f786bb03
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Feb 18 18:37:39 2015 -0800

    DRILL-2279: Raise exception if schema change is encountered in hash and streaming aggregate

 .../drill/exec/physical/impl/aggregate/HashAggBatch.java       |  9 ++++-----
 .../drill/exec/physical/impl/aggregate/StreamingAggBatch.java  | 10 ++++------
 2 files changed, 8 insertions(+), 11 deletions(-)

commit bfbc0e01423ab85f362013a03ef0f00e95cd721b
Author: vsowrirajan <vsowrirajan@maprtech.com>
Date:   Thu Feb 19 12:04:52 2015 -0800

    DRILL-1757 Support for wildcards in repeated_contains()

 .../exec/expr/fn/impl/SimpleRepeatedFunctions.java | 19 +++++----
 .../fn/impl/TestNewSimpleRepeatedFunctions.java    | 49 ++++++++++++++++++++++
 2 files changed, 59 insertions(+), 9 deletions(-)

commit 151b9be86a7ebb43ff6a5c5538095a0c858844f0
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Mar 17 18:02:03 2015 -0700

    DRILL-2491: Fix use of injectable QueryDateTimeInfo in localtimestamp function

 .../org/apache/drill/exec/expr/fn/impl/DateTypeFunctions.java  |  2 +-
 .../org/apache/drill/exec/fn/impl/TestNewDateFunctions.java    | 10 ++++++++++
 2 files changed, 11 insertions(+), 1 deletion(-)

commit 3f93454f014196a4da198ce012b605b70081fde0
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Mar 9 11:50:17 2015 -0700

    DRILL-2406: part 2 - Allow interpreted expression evaluation at planning time.
    
    Changes needed after rebase to expose function determinism to calcite appropriately.
    
    Address Jacques review comments.
    
    Address chris' review comments.
    
    Make things work now that BufferManager is AutoClosable.
    
    Fixes tests that were creating plan fragments directly to create their own query start time,
    as this information is now passed along from QueryContext during standard query initialization
    (this enables the query start time and timezone to be available to planning time expression
    evaluation).
    
    Fix docs in BufferManger.
    
    Update UDF interface to track determinism rather than randomness.

 .../apache/drill/exec/expr/fn/DrillFuncHolder.java | 16 +++--
 .../drill/exec/expr/fn/DrillFunctionRegistry.java  |  2 +-
 .../apache/drill/exec/memory/BufferAllocator.java  | 10 +++
 .../drill/exec/memory/TopLevelAllocator.java       |  5 +-
 .../org/apache/drill/exec/ops/BufferManager.java   | 82 ++++++++++++++++++++++
 .../org/apache/drill/exec/ops/FragmentContext.java | 29 +++-----
 .../org/apache/drill/exec/ops/QueryContext.java    | 67 +++++++++++++++---
 .../exec/planner/fragment/SimpleParallelizer.java  | 11 +--
 .../planner/logical/DrillReduceAggregatesRule.java |  2 +-
 .../visitor/InsertLocalExchangeVisitor.java        |  4 +-
 .../drill/exec/planner/sql/DrillSqlOperator.java   | 12 +++-
 .../apache/drill/exec/work/foreman/Foreman.java    | 21 ++++--
 .../drill/exec/work/fragment/FragmentExecutor.java |  4 +-
 .../exec/physical/impl/TestLocalExchange.java      |  8 ++-
 .../apache/drill/exec/pop/TestFragmentChecker.java |  9 ++-
 15 files changed, 225 insertions(+), 57 deletions(-)

commit 0aa8b19d624d173da51de36aa164f3435d3366a4
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Mar 3 15:58:04 2015 -0800

    DRILL-2406: part 1 - Remove interpreter generation, add new reflection based expression interpretation.
    
    Changed interpreted evaluation to run the setup method after the input parameters have been set using reflection
    so they are available in the case where the inputs are constant and are used in the setup method.
    
    Changes that were originally committed in later patches for 2060 and 2173, as they are needed for this to run on its own:
        - Change to DrillSimpleFuncHolder that belongs with the interpreter refactoring.
        - ValueHolderHelper changes needed for interpreter refactoring.
    
    Updates after review comments from Jinfeng:
    Change the DrillSimpleFunc creation in the new interpreter to use a direct reference to the class type of the Function rather than the class name.
    
    Add test case for 'like' function evaluated in the interpreter (has a meaningful setup method that uses one of the inputs to initialize a pattern matcher)
    
    Update from Aman's review:
    Add a test case for using a cast in interpreted expression evaluation.

 exec/interpreter/pom.xml                           | 109 -------------
 .../drill/exec/expr/DrillFuncHolderExpr.java       |   7 +-
 .../drill/exec/expr/fn/DrillBooleanOPHolder.java   |   6 +-
 .../exec/expr/fn/DrillDecimalAddFuncHolder.java    |   6 +-
 .../exec/expr/fn/DrillDecimalCastFuncHolder.java   |   6 +-
 .../expr/fn/DrillDecimalDivScaleFuncHolder.java    |   6 +-
 .../expr/fn/DrillDecimalMaxScaleFuncHolder.java    |   7 +-
 .../expr/fn/DrillDecimalModScaleFuncHolder.java    |   6 +-
 .../expr/fn/DrillDecimalSetScaleFuncHolder.java    |   6 +-
 .../expr/fn/DrillDecimalSumScaleFuncHolder.java    |   6 +-
 .../expr/fn/DrillDecimalZeroScaleFuncHolder.java   |   6 +-
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |  25 +--
 .../drill/exec/expr/fn/FunctionConverter.java      |  40 +++--
 .../expr/fn/interpreter/DrillFuncInterpreter.java  |  26 ---
 .../fn/interpreter/DrillSimpleFuncInterpreter.java |  30 ----
 .../expr/fn/interpreter/InterpreterBuilder.java    |  69 --------
 .../expr/fn/interpreter/InterpreterEvaluator.java  | 180 +++++++++++++++++----
 .../expr/fn/interpreter/InterpreterGenerator.java  | 136 ----------------
 .../drill/exec/vector/ValueHolderHelper.java       |  29 ++++
 .../exec/fn/interp}/ExpressionInterpreterTest.java |  29 +++-
 .../test/resources/functions/interp/test_input.csv |   3 +
 exec/pom.xml                                       |  11 --
 22 files changed, 280 insertions(+), 469 deletions(-)

commit 1c5decc17cf38cbf4a4119d7ca19653cb19e1b53
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Mar 3 15:44:32 2015 -0800

    DRILL-2143: Part 2 - fix interpreter and add QueryDateTimeInfo injectable to fill in holes from removing RecordBatch from UDFs - Move list of accepted injectable types into the UdfUtilities interface for easier maintenance.
    
    Fix one more new function to remove RecordBatch from setup method.
    
    Add back UdfUtilities interface to FragmentContext lost in rebasing.
    
    Remove unneeded testcase in TestExampleQueries, remove commented out code in InterpreterGenerator
    previously used to handle DrillBuf injectables, now being handled by reflection to set the DrillBuf
    rather than the previously generated code that would use the direct reference to the incoming
    RecordBatch to get a buffer.
    
    Fix docs on UdfUtilities and package docs for drill/exec/expr, belongs with 2143 part 2 patch.
    
    Fix belongs with 2143, change interpreter to output a ValueHolder instead of a ValueVector in the case of a constant expression.
    
    2143 update - Use reflection to remove boilerplate for adding new injectable types for UDFs.

 .../drill/exec/expr/ExpressionInterpreterTest.java | 44 ++++++++++++-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java | 15 ++++-
 .../drill/exec/expr/fn/FunctionConverter.java      | 10 ++-
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java | 64 ++++++++++--------
 .../drill/exec/expr/fn/impl/StringFunctions.java   |  2 +-
 .../fn/interpreter/DrillSimpleFuncInterpreter.java |  2 +-
 .../expr/fn/interpreter/InterpreterEvaluator.java  | 76 +++++++++++++++++++---
 .../expr/fn/interpreter/InterpreterGenerator.java  |  7 --
 .../drill/exec/expr/holders/ValueHolder.java       | 10 +++
 .../org/apache/drill/exec/expr/package-info.java   | 34 ++++++++++
 .../org/apache/drill/exec/ops/FragmentContext.java | 16 ++---
 .../apache/drill/exec/ops/QueryDateTimeInfo.java   | 36 ++++++++++
 .../org/apache/drill/exec/ops/UdfUtilities.java    | 57 ++++++++++++++++
 13 files changed, 308 insertions(+), 65 deletions(-)

commit bff7b9ef5a9f345908aca160a97b98f6ab187708
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Fri Feb 6 10:43:38 2015 -0800

    DRILL-2143: Part 1 - just remove RecordBatch from UDF setup method.
    
    Disable date/time functions as they can no longer access incoming recordbatch to get query start time or timezone.
    During rebase DateTypeFunctions.CurrentDate was updated to include a commented out vesion of the fix from DRILL-2372,
    this will be fixed in the new patch for part 2 of 2143.
    
    Remove RecordBatch from setup of a new new UDFs.

 .../templates/AggrBitwiseLogicalTypeFunctions.java |   3 +-
 .../main/codegen/templates/AggrTypeFunctions1.java |   3 +-
 .../main/codegen/templates/AggrTypeFunctions2.java |   3 +-
 .../main/codegen/templates/AggrTypeFunctions3.java |   3 +-
 .../src/main/codegen/templates/CastDateDate.java   |   2 +-
 .../main/codegen/templates/CastDateVarChar.java    |   2 +-
 .../src/main/codegen/templates/CastFunctions.java  |   2 +-
 .../codegen/templates/CastFunctionsSrcVarLen.java  |   2 +-
 .../CastFunctionsSrcVarLenTargetVarLen.java        |   2 +-
 .../templates/CastFunctionsTargetVarLen.java       |   2 +-
 .../src/main/codegen/templates/CastHigh.java       |   2 +-
 .../codegen/templates/CastIntervalInterval.java    |   4 +-
 .../codegen/templates/CastIntervalVarChar.java     |   6 +-
 .../main/codegen/templates/CastVarCharDate.java    |   2 +-
 .../codegen/templates/CastVarCharInterval.java     |   2 +-
 .../templates/CastVarCharToNullableNumeric.java    |   2 +-
 .../codegen/templates/ComparisonFunctions.java     |  16 ++--
 .../codegen/templates/ConvertToNullableHolder.java |   2 +-
 .../templates/CorrelationTypeFunctions.java        |   2 +-
 .../main/codegen/templates/CovarTypeFunctions.java |   2 +-
 .../templates/DateIntervalAggrFunctions1.java      |   3 +-
 .../DateDateArithmeticFunctions.java               |   2 +-
 .../DateIntervalArithmeticFunctions.java           |  12 +--
 .../DateToCharFunctions.java                       |   2 +-
 .../DateTruncFunctions.java                        |   2 +-
 .../DateIntervalFunctionTemplates/Extract.java     |   4 +-
 .../IntervalIntervalArithmetic.java                |   6 +-
 .../IntervalNumericArithmetic.java                 |   6 +-
 .../ToDateTypeFunctions.java                       |   2 +-
 .../ToTimeStampFunction.java                       |   2 +-
 .../Decimal/CastDecimalDenseDecimalSparse.java     |   2 +-
 .../templates/Decimal/CastDecimalFloat.java        |   4 +-
 .../codegen/templates/Decimal/CastDecimalInt.java  |   4 +-
 .../templates/Decimal/CastDecimalSimilar.java      |   2 +-
 .../Decimal/CastDecimalSparseDecimalDense.java     |   2 +-
 .../templates/Decimal/CastDecimalVarchar.java      |   4 +-
 .../templates/Decimal/CastDownwardDecimal.java     |   6 +-
 .../templates/Decimal/CastFloatDecimal.java        |   2 +-
 .../codegen/templates/Decimal/CastIntDecimal.java  |   2 +-
 .../templates/Decimal/CastSrcDecimalSimple.java    |   6 +-
 .../templates/Decimal/CastVarCharDecimal.java      |   4 +-
 .../Decimal/DecimalAggrTypeFunctions1.java         |   2 +-
 .../Decimal/DecimalAggrTypeFunctions2.java         |   2 +-
 .../templates/Decimal/DecimalFunctions.java        | 100 ++++++++++----------
 .../codegen/templates/IntervalAggrFunctions2.java  |   3 +-
 .../codegen/templates/MathFunctionTemplates.java   |   2 +-
 .../src/main/codegen/templates/MathFunctions.java  |  12 +--
 .../src/main/codegen/templates/NullOperator.java   |   4 +-
 .../templates/NumericFunctionsTemplates.java       |   2 +-
 .../codegen/templates/NumericToCharFunctions.java  |   2 +-
 .../src/main/codegen/templates/SumZeroAggr.java    |   3 +-
 .../codegen/templates/VarCharAggrFunctions1.java   |   2 +-
 .../org/apache/drill/exec/expr/DrillAggFunc.java   |  10 +-
 .../apache/drill/exec/expr/DrillSimpleFunc.java    |   2 +-
 .../exec/expr/fn/impl/AggregateErrorFunctions.java |   5 +-
 .../apache/drill/exec/expr/fn/impl/Alternator.java |   5 +-
 .../drill/exec/expr/fn/impl/BitFunctions.java      |   7 +-
 .../exec/expr/fn/impl/BooleanAggrFunctions.java    |   9 +-
 .../drill/exec/expr/fn/impl/ByteSubstring.java     |   3 +-
 .../drill/exec/expr/fn/impl/CastBigIntDate.java    |   3 +-
 .../exec/expr/fn/impl/CastBigIntTimeStamp.java     |   3 +-
 .../exec/expr/fn/impl/CastBigIntTimeStampTZ.java   |   3 +-
 .../drill/exec/expr/fn/impl/CastIntTime.java       |   3 +-
 .../exec/expr/fn/impl/CastVarCharVar16Char.java    |   3 +-
 .../drill/exec/expr/fn/impl/CharSubstring.java     |   3 +-
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java | 105 ++++++++++-----------
 .../drill/exec/expr/fn/impl/HashFunctions.java     |  65 +++++++------
 .../apache/drill/exec/expr/fn/impl/IsFalse.java    |   5 +-
 .../apache/drill/exec/expr/fn/impl/IsNotFalse.java |   5 +-
 .../apache/drill/exec/expr/fn/impl/IsNotTrue.java  |   5 +-
 .../org/apache/drill/exec/expr/fn/impl/IsTrue.java |   5 +-
 .../apache/drill/exec/expr/fn/impl/Mappify.java    |   3 +-
 .../drill/exec/expr/fn/impl/MathFunctions.java     |  11 +--
 .../org/apache/drill/exec/expr/fn/impl/Not.java    |   5 +-
 .../exec/expr/fn/impl/SimpleCastFunctions.java     |   5 +-
 .../exec/expr/fn/impl/SimpleRepeatedFunctions.java |  35 ++++---
 .../drill/exec/expr/fn/impl/StringFunctions.java   |  71 +++++++-------
 .../expr/fn/impl/conv/BigIntBEConvertFrom.java     |   3 +-
 .../exec/expr/fn/impl/conv/BigIntBEConvertTo.java  |   3 +-
 .../exec/expr/fn/impl/conv/BigIntConvertFrom.java  |   3 +-
 .../exec/expr/fn/impl/conv/BigIntConvertTo.java    |   3 +-
 .../expr/fn/impl/conv/BigIntVLongConvertFrom.java  |   3 +-
 .../expr/fn/impl/conv/BigIntVLongConvertTo.java    |   3 +-
 .../expr/fn/impl/conv/BooleanByteConvertFrom.java  |   3 +-
 .../expr/fn/impl/conv/BooleanByteConvertTo.java    |   3 +-
 .../expr/fn/impl/conv/DateEpochBEConvertFrom.java  |   3 +-
 .../expr/fn/impl/conv/DateEpochBEConvertTo.java    |   3 +-
 .../expr/fn/impl/conv/DateEpochConvertFrom.java    |   3 +-
 .../exec/expr/fn/impl/conv/DateEpochConvertTo.java |   3 +-
 .../expr/fn/impl/conv/DoubleBEConvertFrom.java     |   3 +-
 .../exec/expr/fn/impl/conv/DoubleBEConvertTo.java  |   3 +-
 .../exec/expr/fn/impl/conv/DoubleConvertFrom.java  |   3 +-
 .../exec/expr/fn/impl/conv/DoubleConvertTo.java    |   3 +-
 .../exec/expr/fn/impl/conv/DummyConvertFrom.java   |   3 +-
 .../exec/expr/fn/impl/conv/DummyConvertTo.java     |   3 +-
 .../drill/exec/expr/fn/impl/conv/DummyFlatten.java |   4 +-
 .../exec/expr/fn/impl/conv/FloatBEConvertFrom.java |   3 +-
 .../exec/expr/fn/impl/conv/FloatBEConvertTo.java   |   3 +-
 .../exec/expr/fn/impl/conv/FloatConvertFrom.java   |   3 +-
 .../exec/expr/fn/impl/conv/FloatConvertTo.java     |   3 +-
 .../exec/expr/fn/impl/conv/IntBEConvertFrom.java   |   3 +-
 .../exec/expr/fn/impl/conv/IntBEConvertTo.java     |   3 +-
 .../exec/expr/fn/impl/conv/IntConvertFrom.java     |   3 +-
 .../drill/exec/expr/fn/impl/conv/IntConvertTo.java |   3 +-
 .../exec/expr/fn/impl/conv/IntVIntConvertFrom.java |   3 +-
 .../exec/expr/fn/impl/conv/IntVIntConvertTo.java   |   3 +-
 .../exec/expr/fn/impl/conv/JsonConvertFrom.java    |   5 +-
 .../exec/expr/fn/impl/conv/JsonConvertTo.java      |   3 +-
 .../expr/fn/impl/conv/SmallIntBEConvertFrom.java   |   3 +-
 .../expr/fn/impl/conv/SmallIntBEConvertTo.java     |   3 +-
 .../expr/fn/impl/conv/SmallIntConvertFrom.java     |   3 +-
 .../exec/expr/fn/impl/conv/SmallIntConvertTo.java  |   3 +-
 .../expr/fn/impl/conv/TimeEpochBEConvertFrom.java  |   3 +-
 .../expr/fn/impl/conv/TimeEpochBEConvertTo.java    |   3 +-
 .../expr/fn/impl/conv/TimeEpochConvertFrom.java    |   3 +-
 .../exec/expr/fn/impl/conv/TimeEpochConvertTo.java |   3 +-
 .../exec/expr/fn/impl/conv/TinyIntConvertFrom.java |   3 +-
 .../exec/expr/fn/impl/conv/TinyIntConvertTo.java   |   3 +-
 .../exec/expr/fn/impl/conv/UInt8ConvertFrom.java   |   3 +-
 .../exec/expr/fn/impl/conv/UInt8ConvertTo.java     |   3 +-
 .../exec/expr/fn/impl/conv/UTF16ConvertFrom.java   |   3 +-
 .../exec/expr/fn/impl/conv/UTF16ConvertTo.java     |   3 +-
 .../exec/expr/fn/impl/conv/UTF8ConvertFrom.java    |   3 +-
 .../exec/expr/fn/impl/conv/UTF8ConvertTo.java      |   3 +-
 .../drill/exec/fn/impl/GeneratorFunctions.java     |  11 +--
 125 files changed, 369 insertions(+), 442 deletions(-)

commit ae2053d2a078a40033a140f2dfaeef802a5e8254
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Sun Mar 15 11:43:42 2015 -0700

    DRILL-2311: In ProjectRecordBatch, even if a column from incoming recordbatch does not need to be classified, the output name for this column is still ensured to be unique

 .../physical/impl/project/ProjectRecordBatch.java  | 18 ++++++++-
 .../java/org/apache/drill/TestExampleQueries.java  | 45 ++++++++++++++++++++++
 2 files changed, 62 insertions(+), 1 deletion(-)

commit 63bd48eb0a8081e3c24a7e49095bbcfc0f36bf7c
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Mar 9 22:50:59 2015 -0700

     DRILL-2414: Give proper error message if Union-All is applied on schema-less tables

 .../exec/exception/UnsupportedOperatorCollector.java   | 14 ++++++--------
 .../exec/planner/logical/PreProcessLogicalRel.java     |  6 ++++--
 .../sql/parser/UnsupportedOperatorsVisitor.java        | 18 ++++++++++++------
 3 files changed, 22 insertions(+), 16 deletions(-)

commit d11d5d9166481e5b8bd82574bfc6fb7a7eb0bb9b
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu Mar 12 12:15:05 2015 -0700

    DRILL-2441: For outer-join, if there is any inequality condition, Cartesian-Join exception will be thrown

 .../drill/exec/physical/impl/join/JoinUtils.java   | 15 +++++++++++---
 .../apache/drill/TestDisabledFunctionality.java    | 24 ++++++++++++++++++++++
 2 files changed, 36 insertions(+), 3 deletions(-)

commit 7ea212a26dca9b5eca2719300df27751e73dbbcf
Author: Chris Westin <cwestin@yahoo.com>
Date:   Wed Feb 25 14:53:41 2015 -0800

    DRILL-1385, along with some cleanup
    
    Cleaned up option handling. This includes using finals, making member variables
    private whenever possible, and some formatting.
    - fixed a bug in the string formatting for the double range validator
    - OptionValidator, OptionValue, and their implementations now conspire not to
      allow the creation of malformed options because the OptionType has been added
      to validator calls to handle OptionValues that are created on demand.
    
    Started with updated byte code rewrite from Jacques
    Fixed several problems with scalar value replacement:
    - use consistent ASM api version throughout
    - stop using deprecated ASM methods (actually causes bugs)
      - visitMethodInsn()
    - added a couple of missing super.visitEnd()s
    - fixed a couple of minor FindBugs issues
    - accounted for required stack size increases when replacing holders for
      longs and doubles
    - added accounting for frame offsets to cope with long and double local
      variables and value holder members
    - fixed a few minor bugs found with FindBugs
    - stop using carrotlabs' hash map lget() method on shared constant data
    - fixed an incorrect use of DUP2 on objectrefs when copying long or double
      holder members into locals
    - fixed a problem with redundant POP instructions left behind after replacement
    - fixed a problem with incorrect DUPs in multiple assignment statements
    - fixed a problem with DUP_X1 replacement when handling constants in multiple
      assignment statements
    - fixed a problem with non-replaced holder member post-decrements
    - don't replace holders passed to static functions as "out" parameters
      (common with Accessors on repeated value vectors)
    - increased the maximum required stack size when transferring holder members to
      locals
    - changed the code generation block type mappings for constants for external
      sorts
    - fixed problems handling constant and non-constant member variables in
      operator classes
      - in general, if a holder is assigned to or from an operator member variable,
        it can't be replaced (at least not until we replace those as well)
      - Use a derived ASM Analyzer (MethodAnalyzer) and Frame
        (AssignmentTrackingFrame) in order to establish relationships between
        assignments of holders through chains of local variables. This effectively
        back-propagates non-replaceability attributes so that if a holder variable
        that can't be replaced is assigned to from another holder variable, that
        second one cannot be replaced either, and so on through longer chains of
        assignments.
    - code for dumping generated source code
    - MergeAdapter dumps before and after results of scalar replacement
      (if it's on)
    - fixed some problems in ReplacingBasicValue by replacing HashSet with
      IdentityHashMap
    - made loggers private
    - added a retry strategy for scalar replacement
      if a scalar replacement code rewriting fails, then this will try to
      regenerate the bytecode again without the scalar replacement.
    - bytecode verification is always on now (required for the retry strategy)
    - use system option to determine whether scalar replacement should be used
      - default option: if scalar replacement fails, retry without it
      - force replacement on or off
    - unit tests for the retry strategy are based on a single known failure case,
      covered by DRILL-2326.
      - add tests TestConvertFunctions to test the three scalar replacement options
        for the failing test case (testVarCharReturnTripConvertLogical)
    - made it possible to set a SYSTEM option as a java property in Drillbit
    - added a command line argument to force scalar replacement to be on during
      testing in the rootmost pom.xml
    
    In the course of this, added increased checking of intermediate stages of code
    rewriting, as well as logging of classes that cause failures.
    - work around a bug in ASM's CheckClassAdapter that doesn't allow for checking
      of inner classes
    Added comments, tidied up formatting, and added "final" in a number of places.
    
    Signed-off-by: vkorukanti <venki.korukanti@gmail.com>

 .../apache/drill/common/config/DrillConfig.java    |   4 +-
 .../org/apache/drill/common/util/PathScanner.java  |  27 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +
 .../drill/exec/compile/AbstractClassCompiler.java  |  14 +
 .../org/apache/drill/exec/compile/AsmUtil.java     | 173 +++++++
 .../drill/exec/compile/CheckClassVisitorFsm.java   | 149 ++++++
 .../drill/exec/compile/CheckMethodVisitorFsm.java  | 300 ++++++++++++
 .../drill/exec/compile/ClassTransformer.java       | 126 +++--
 .../apache/drill/exec/compile/CodeCompiler.java    |  59 ++-
 .../drill/exec/compile/CompilationConfig.java      |  28 ++
 .../drill/exec/compile/DrillCheckClassAdapter.java | 118 +++++
 .../drill/exec/compile/DrillInitMethodVisitor.java |  13 +-
 .../org/apache/drill/exec/compile/FsmCursor.java   |  63 +++
 .../apache/drill/exec/compile/FsmDescriptor.java   | 138 ++++++
 .../exec/compile/InnerClassAccessStripper.java     |  89 ++++
 .../drill/exec/compile/JaninoClassCompiler.java    |   1 -
 .../org/apache/drill/exec/compile/LogWriter.java   | 133 ++++++
 .../apache/drill/exec/compile/MergeAdapter.java    | 132 ++++--
 .../drill/exec/compile/QueryClassLoader.java       |   2 +-
 .../exec/compile/RetargetableClassVisitor.java     |  62 +++
 .../exec/compile/TemplateClassDefinition.java      |   8 -
 .../exec/compile/bytecode/AloadPopRemover.java     | 333 +++++++++++++
 .../drill/exec/compile/bytecode/DirectSorter.java  |   3 +-
 .../exec/compile/bytecode/InstructionModifier.java | 526 +++++++++++++++------
 .../exec/compile/bytecode/MethodAnalyzer.java      | 105 ++++
 .../exec/compile/bytecode/ReplacingBasicValue.java | 413 +++++++++++++++-
 .../compile/bytecode/ReplacingInterpreter.java     | 129 ++++-
 .../compile/bytecode/ScalarReplacementNode.java    |  61 ++-
 .../compile/bytecode/ScalarReplacementTypes.java   |  25 +-
 .../compile/bytecode/TrackingInstructionList.java  |  41 +-
 .../exec/compile/bytecode/ValueHolderIden.java     | 189 +++++---
 .../bytecode/ValueHolderReplacementVisitor.java    |  41 +-
 .../drill/exec/compile/sig/GeneratorMapping.java   |  27 +-
 .../drill/exec/expr/fn/DrillFunctionRegistry.java  |   4 +
 .../expr/fn/FunctionImplementationRegistry.java    |   6 +
 .../physical/impl/xsort/ExternalSortBatch.java     |   2 +-
 .../apache/drill/exec/record/SchemaBuilder.java    |   2 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  77 ++-
 .../apache/drill/exec/server/DrillbitContext.java  |   5 +-
 .../exec/server/options/DrillConfigIterator.java   |  32 +-
 .../exec/server/options/FallbackOptionManager.java |  19 +-
 .../drill/exec/server/options/OptionManager.java   |   9 +-
 .../drill/exec/server/options/OptionValidator.java |  12 +-
 .../drill/exec/server/options/OptionValue.java     |  25 +-
 .../exec/server/options/SystemOptionManager.java   |  87 ++--
 .../drill/exec/server/options/TypeValidators.java  |  79 ++--
 .../test/java/org/apache/drill/BaseTestQuery.java  |   3 +-
 .../test/java/org/apache/drill/TestBugFixes.java   |   1 +
 .../java/org/apache/drill/TestTpchDistributed.java |   6 +-
 .../exec/compile/TestClassTransformation.java      |   2 +-
 .../exec/compile/bytecode/ReplaceMethodInvoke.java |  73 +--
 .../expr/fn/impl/TestSimpleRepeatedFunctions.java  |   9 +-
 .../exec/physical/impl/TestConvertFunctions.java   | 111 ++++-
 pom.xml                                            |   1 +
 54 files changed, 3471 insertions(+), 628 deletions(-)

commit 34932e12619762f656c1faf3d9039888de0ad277
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Sun Mar 15 13:23:03 2015 -0700

    DRILL-2453: Handle the case where incoming has no schema in PartitionSender.

 .../org/apache/drill/hbase/TestHBaseQueries.java   | 30 ++++++++++++++++++++++
 .../partitionsender/PartitionSenderRootExec.java   | 10 +++++++-
 2 files changed, 39 insertions(+), 1 deletion(-)

commit 7b4c887e852ed1fd526953e55df485a5aaae6e22
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Mar 10 19:30:36 2015 -0700

    DRILL-2128.2: Fixed DatabaseMetaData.getColumns's DATA_TYPE, TYPE_NAME.
    
    - Created basic test for DATA_TYPE and TYPE_NAME.
    - Fixed DATA_TYPE:  Added mapping from type name/descriptor strings from
      INFORMATION_SCHEMA.COLUMNS.DATA_TYPE to java.sql.Types.* integer type codes
      for DatabaseMetaData.getColumns's DATA_TYPE.
    - Fixed TYPE_NAME:  Added TYPE_NAME returning type name/descriptor strings from
      INFORMATION_SCHEMA.COLUMNS.DATA_TYPE
    - Added FIXMEs for some missing/misnamed/wrong fields.  (See DRILL-2420.)

 .../main/java/org/apache/drill/jdbc/MetaImpl.java  | 114 +++++++++++++-
 .../jdbc/test/Drill2128GetColumnsBugsTest.java     | 169 +++++++++++++++++++++
 2 files changed, 279 insertions(+), 4 deletions(-)

commit 710656a1949e249dc7ad326dccc7c632f563495c
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Mar 10 21:10:14 2015 -0700

    DRILL-2128.1: Preparatory changes: Labeled result cols.; formatted SQL. [MetaImpl]

 .../main/java/org/apache/drill/jdbc/MetaImpl.java  | 66 ++++++++++++----------
 1 file changed, 36 insertions(+), 30 deletions(-)

commit 103d40efac82b1bfd7a6cedf6db2db94031ffaf8
Author: Patrick Wong <pwong@maprtech.com>
Date:   Mon Nov 17 15:16:10 2014 -0800

    DRILL-1719 - handle the case in which /var/log/drill exists but the current user does not have permission to write to it

 distribution/src/resources/drill-config.sh | 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit b3bdc2790bffcba48ed41f867da3dfb33885445f
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Mar 10 10:51:25 2015 -0700

    DRILL-2225: Fix missing PartitionSenderRootExec stats.

 .../impl/partitionsender/PartitionSenderRootExec.java    | 16 +++++++++-------
 .../impl/partitionsender/PartitionerTemplate.java        | 14 --------------
 2 files changed, 9 insertions(+), 21 deletions(-)

commit 0368adf0cdf6ba229e273b0e41c5c564735c95ee
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Wed Feb 11 18:29:09 2015 -0800

    DRILL-2207: Union RelOperator supports different types to be unioned together by casting; Disable Union-all on  Select * from schemaless data source

 .../exec/expr/ExpressionTreeMaterializer.java      |  19 +-
 .../physical/impl/union/UnionAllRecordBatch.java   | 484 +++++++++++++++++----
 .../drill/exec/physical/impl/union/UnionAller.java |  33 ++
 .../physical/impl/union/UnionAllerTemplate.java    |  60 +++
 .../drill/exec/planner/common/DrillRelOptUtil.java |   2 +-
 .../exec/planner/logical/PreProcessLogicalRel.java |  21 +-
 .../physical/visitor/FinalColumnReorderer.java     |  28 +-
 .../sql/parser/UnsupportedOperatorsVisitor.java    |   9 +-
 .../apache/drill/exec/record/VectorContainer.java  |   1 -
 .../apache/drill/exec/resolver/TypeCastRules.java  |  20 +-
 .../java/org/apache/drill/TestExampleQueries.java  |   1 -
 .../test/java/org/apache/drill/TestUnionAll.java   | 312 ++++++++++++-
 .../src/test/resources/store/text/data/t.json      |  10 +
 .../testAggregationOnUnionAllOperator/q1.tsv       |   4 +
 .../testAggregationOnUnionAllOperator/q2.tsv       |   4 +
 .../testframework/testUnionAllQueries/q1.tsv       |  30 ++
 .../testframework/testUnionAllQueries/q10.tsv      |  30 ++
 .../testframework/testUnionAllQueries/q11.tsv      |  30 ++
 .../testframework/testUnionAllQueries/q12.tsv      |  30 ++
 .../testframework/testUnionAllQueries/q13.tsv      |  20 +
 .../testframework/testUnionAllQueries/q14.tsv      |  30 ++
 .../testframework/testUnionAllQueries/q15.tsv      |  10 +
 .../testframework/testUnionAllQueries/q16.tsv      |   5 +
 .../testframework/testUnionAllQueries/q17.tsv      |   5 +
 .../testframework/testUnionAllQueries/q2.tsv       |   4 +
 .../testframework/testUnionAllQueries/q3.tsv       |   7 +
 .../testframework/testUnionAllQueries/q4.tsv       |  59 +++
 .../testframework/testUnionAllQueries/q5.tsv       |  10 +
 .../testframework/testUnionAllQueries/q6.tsv       |   6 +
 .../testframework/testUnionAllQueries/q6_1.tsv     |  30 ++
 .../testframework/testUnionAllQueries/q7.tsv       |  10 +
 .../testframework/testUnionAllQueries/q8.tsv       |  30 ++
 .../testframework/testUnionAllQueries/q9.tsv       |  20 +
 33 files changed, 1252 insertions(+), 122 deletions(-)

commit f658a3c513ddf7f2d1b0ad7aa1f3f65049a594fe
Author: Yuliya Feldman <yfeldman@maprtech.com>
Date:   Thu Feb 12 19:32:11 2015 -0800

    DRILL-2209 Insert ProjectOperator with MuxExchange

 .../planner/physical/HashToRandomExchangePrel.java |   2 +
 .../drill/exec/planner/physical/PrelUtil.java      |   7 ++
 .../visitor/InsertLocalExchangeVisitor.java        |  84 +++++++++++---
 .../exec/physical/impl/TestLocalExchange.java      | 128 ++++++++++++++++++++-
 4 files changed, 204 insertions(+), 17 deletions(-)

commit 59aae348478d242d9e08c46df609e94c5436e63f
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Jan 22 18:04:37 2015 -0800

    DRILL-133: LocalExchange planning and exec.

 .../java/org/apache/drill/hbase/BaseHBaseTest.java |   6 +-
 .../org/apache/drill/exec/hive/HiveTestBase.java   |   2 +-
 .../drill/exec/physical/EndpointAffinity.java      |  70 +++-
 .../drill/exec/physical/MinorFragmentEndpoint.java |  63 ++++
 .../drill/exec/physical/base/AbstractExchange.java |  68 +++-
 .../exec/physical/base/AbstractGroupScan.java      |   8 +-
 .../drill/exec/physical/base/AbstractReceiver.java |  21 +-
 .../drill/exec/physical/base/AbstractSender.java   |  24 +-
 .../apache/drill/exec/physical/base/Exchange.java  |  31 +-
 .../exec/physical/base/PhysicalOperatorUtil.java   |  23 ++
 .../apache/drill/exec/physical/base/Receiver.java  |   9 +-
 .../apache/drill/exec/physical/base/Sender.java    |   7 +-
 .../physical/config/AbstractDeMuxExchange.java     | 143 ++++++++
 .../exec/physical/config/AbstractMuxExchange.java  | 125 +++++++
 .../exec/physical/config/BroadcastExchange.java    |  28 +-
 .../exec/physical/config/BroadcastSender.java      |  13 +-
 .../exec/physical/config/HashPartitionSender.java  |  15 +-
 .../exec/physical/config/HashToMergeExchange.java  |  31 +-
 .../exec/physical/config/HashToRandomExchange.java |  31 +-
 .../exec/physical/config/MergingReceiverPOP.java   |  20 +-
 .../physical/config/OrderedPartitionExchange.java  |  30 +-
 .../physical/config/OrderedPartitionSender.java    |  27 +-
 .../drill/exec/physical/config/RangeSender.java    |  12 +-
 .../apache/drill/exec/physical/config/Screen.java  |   2 +-
 .../exec/physical/config/SingleMergeExchange.java  |  38 +--
 .../drill/exec/physical/config/SingleSender.java   |  52 ++-
 .../drill/exec/physical/config/UnionExchange.java  |  36 +--
 .../physical/config/UnorderedDeMuxExchange.java    |  56 ++++
 .../exec/physical/config/UnorderedMuxExchange.java |  55 ++++
 .../exec/physical/config/UnorderedReceiver.java    |  21 +-
 .../exec/physical/impl/SingleSenderCreator.java    |  23 +-
 .../broadcastsender/BroadcastSenderRootExec.java   |  36 ++-
 .../impl/mergereceiver/MergingRecordBatch.java     |   7 +-
 .../partitionsender/PartitionSenderRootExec.java   |  10 +-
 .../impl/partitionsender/PartitionerTemplate.java  |  12 +-
 .../unorderedreceiver/UnorderedReceiverBatch.java  |   7 +-
 .../drill/exec/planner/fragment/Fragment.java      |  37 +--
 .../planner/fragment/MakeFragmentsVisitor.java     |  12 +-
 .../drill/exec/planner/fragment/Materializer.java  |   4 +
 .../exec/planner/fragment/ParallelizationInfo.java | 139 ++++++++
 .../drill/exec/planner/fragment/PlanningSet.java   |  15 +-
 .../exec/planner/fragment/SimpleParallelizer.java  | 298 ++++++++++++++---
 .../apache/drill/exec/planner/fragment/Stats.java  |  28 +-
 .../exec/planner/fragment/StatsCollector.java      | 144 ++++-----
 .../drill/exec/planner/fragment/Wrapper.java       |  93 +++---
 .../exec/planner/physical/PlannerSettings.java     |   2 +
 .../physical/UnorderedDeMuxExchangePrel.java       |  66 ++++
 .../planner/physical/UnorderedMuxExchangePrel.java |  56 ++++
 .../visitor/InsertLocalExchangeVisitor.java        |  90 ++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    |  24 +-
 .../exec/server/options/SystemOptionManager.java   |   2 +
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |   1 -
 .../drill/exec/store/direct/DirectGroupScan.java   |   5 -
 .../exec/store/ischema/InfoSchemaGroupScan.java    |   5 -
 .../drill/exec/store/mock/MockGroupScanPOP.java    |   5 -
 .../drill/exec/store/sys/SystemTableScan.java      |   6 -
 .../drill/exec/util/ArrayWrappedIntIntMap.java     |  65 ++++
 .../exec/work/batch/AbstractDataCollector.java     |  53 +--
 .../drill/exec/work/batch/MergingCollector.java    |   5 +-
 .../exec/work/batch/PartitionedCollector.java      |   4 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  12 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  75 ++++-
 .../test/java/org/apache/drill/PlanTestBase.java   |   5 +-
 .../exec/compile/TestClassTransformation.java      |   4 +-
 .../exec/physical/impl/TestLocalExchange.java      | 358 +++++++++++++++++++++
 .../org/apache/drill/exec/pop/PopUnitTestBase.java |  13 +-
 .../apache/drill/exec/pop/TestFragmentChecker.java |  13 +-
 .../store/parquet/ParquetRecordReaderTest.java     |   6 +-
 .../drill/exec/util/TestArrayWrappedIntIntMap.java |  83 +++++
 pom.xml                                            |   3 +
 70 files changed, 2236 insertions(+), 657 deletions(-)

commit 2a57136aecab8e0e0a945ce98a2aea363874069a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Feb 15 13:53:29 2015 -0800

    DRILL-2347: Support parquet metadata read parallelization
    
    Use HashMap internally when building endpoint map.

 .../org/apache/drill/exec/store/TimedRunnable.java | 165 +++++++++++++++++++++
 .../drill/exec/store/parquet/FooterGatherer.java   | 165 +++++++++++++++++++++
 .../drill/exec/store/parquet/ParquetGroupScan.java | 121 ++++++++-------
 .../drill/exec/store/schedule/BlockMapBuilder.java |  86 +++++++----
 4 files changed, 462 insertions(+), 75 deletions(-)

commit 9fd1430db69309c2e476007de851142f778ddb62
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Feb 1 08:43:47 2015 -0800

    DRILL-2187: Single Broadcast Sender
    
    Also includes:
    1. Fix merge join planning issue (1c5c810 by jinfengni)
    2. ExternalSort: Check the memory available for in-memory sorting or not in making decision to spill or not (36f9dd1)
    3. Cleanup in ExternalSortBatch and its helper classes (36f9dd1)
    4. MergeJoinBatch: Limit the outgoing record batch size to 2^15 (37dfeb8)
    5. StreamingAggBatch: Limit outgoing record batch size to 2^15 (7d8a2e4)

 .../src/main/java/io/netty/buffer/DrillBuf.java    |  78 +-
 .../main/java/io/netty/buffer/FakeAllocator.java   |   6 +
 .../org/apache/drill/exec/memory/Accountor.java    |  12 +-
 .../apache/drill/exec/memory/BufferAllocator.java  |   9 +-
 .../drill/exec/memory/TopLevelAllocator.java       |  17 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  10 +-
 .../exec/physical/impl/SingleSenderCreator.java    |   2 +-
 .../impl/aggregate/StreamingAggTemplate.java       |  90 ++-
 .../broadcastsender/BroadcastSenderRootExec.java   |  64 +-
 .../drill/exec/physical/impl/join/JoinStatus.java  |   8 +-
 .../exec/physical/impl/join/JoinTemplate.java      |  10 +-
 .../partitionsender/PartitionSenderRootExec.java   |   3 +-
 .../impl/partitionsender/PartitionerTemplate.java  |   2 +-
 .../physical/impl/sort/SortRecordBatchBuilder.java |  47 +-
 .../physical/impl/xsort/ExternalSortBatch.java     | 114 ++-
 .../exec/physical/impl/xsort/MSortTemplate.java    |  14 +-
 .../physical/impl/xsort/PriorityQueueCopier.java   |   3 +
 .../impl/xsort/PriorityQueueCopierTemplate.java    |   7 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |  13 +-
 .../planner/physical/BroadcastExchangePrel.java    |  13 +-
 .../physical/DrillDistributionTraitDef.java        |   3 +-
 .../drill/exec/planner/physical/HashJoinPrule.java |  25 +-
 .../drill/exec/planner/physical/JoinPruleBase.java |  79 +-
 .../drill/exec/planner/physical/MergeJoinPrel.java |   1 +
 .../exec/planner/physical/MergeJoinPrule.java      |  23 +-
 .../exec/planner/physical/PlannerSettings.java     |   7 +-
 .../drill/exec/planner/physical/ProjectPrule.java  |   2 +-
 .../exec/planner/physical/StreamAggPrule.java      |   6 +-
 .../exec/planner/physical/SubsetTransformer.java   |  14 +-
 .../drill/exec/proto/helper/QueryIdHelper.java     |   8 +
 .../drill/exec/record/FragmentWritableBatch.java   |  37 +-
 .../apache/drill/exec/record/RawFragmentBatch.java |  17 +-
 .../apache/drill/exec/record/VectorAccessible.java |   7 -
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |   1 +
 .../org/apache/drill/exec/rpc/data/AckSender.java  |  63 ++
 .../org/apache/drill/exec/rpc/data/DataClient.java |   2 +-
 .../drill/exec/rpc/data/DataConnectionCreator.java |   4 +-
 .../drill/exec/rpc/data/DataConnectionManager.java |  18 +-
 .../exec/rpc/data/DataProtobufLengthDecoder.java   |  19 +-
 .../drill/exec/rpc/data/DataResponseHandler.java   |   7 +-
 .../exec/rpc/data/DataResponseHandlerImpl.java     |  28 +-
 .../apache/drill/exec/rpc/data/DataRpcConfig.java  |   2 +-
 .../org/apache/drill/exec/rpc/data/DataServer.java |  80 +-
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../drill/exec/work/batch/ResponseSenderQueue.java |  11 +-
 .../exec/work/batch/SpoolingRawBatchBuffer.java    |   2 +-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |  10 +-
 .../impl/broadcastsender/TestBroadcast.java        |  50 ++
 .../org/apache/drill/exec/server/TestBitRpc.java   |  19 +-
 .../exec/work/batch/TestUnlimitedBatchBuffer.java  |  34 +-
 .../test/resources/broadcast/customer/cust.json    |   4 +
 .../src/test/resources/broadcast/sales/f1.json     |   2 +
 .../src/test/resources/broadcast/sales/f2.json     |   2 +
 .../java/org/apache/drill/exec/proto/BitData.java  | 879 +++++++++++----------
 .../org/apache/drill/exec/proto/SchemaBitData.java |  71 +-
 .../drill/exec/proto/beans/BitClientHandshake.java |  24 -
 .../exec/proto/beans/FragmentRecordBatch.java      | 114 ++-
 protocol/src/main/protobuf/BitData.proto           |  15 +-
 58 files changed, 1324 insertions(+), 889 deletions(-)

commit 6be9e3b1e51e2ade87066d0d26c4e43426500c62
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Feb 15 14:17:20 2015 -0800

    DRILL-2400: Part 2: Add merge filter rule to logical rule sets.  Increase function cost differentials.

 .../exec/expr/annotations/FunctionTemplate.java    |   2 +-
 .../exec/planner/logical/DrillMergeFilterRule.java | 101 +++++++++++++++++++++
 .../drill/exec/planner/logical/DrillRuleSets.java  |   7 +-
 3 files changed, 108 insertions(+), 2 deletions(-)

commit 6e6f789a46c4237a53bc963eeab30eb6e34291c2
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu Feb 19 18:51:01 2015 -0800

    DRILL-2400: Part 1: Change cpu cost estimation formula for DrillFilterRelBase. Add testcase for MergeFilter rule.
    
    Modify costing of Filter.
    
    Cost change to Filter.
    
    Change to filter costing.
    
    Move one test utility method to PlanTestBase.

 .../exec/planner/common/DrillFilterRelBase.java    | 30 ++++++++-
 .../test/java/org/apache/drill/PlanTestBase.java   | 36 +++++++++++
 .../java/org/apache/drill/TestMergeFilterPlan.java | 73 ++++++++++++++++++++++
 3 files changed, 136 insertions(+), 3 deletions(-)

commit ed397862eb9584572aa0fcb684dfc9554b00cf60
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Feb 12 10:52:47 2015 -0800

    DRILL-2226: Plan verification utility.

 .../test/java/org/apache/drill/PlanTestBase.java   | 72 ++++++++++++++++++++--
 .../drill/TestPlanVerificationUtilities.java       | 54 ++++++++++++++++
 2 files changed, 122 insertions(+), 4 deletions(-)

commit fe94970e1fbfd6ceacbfc7f2187c5495d497e791
Author: adeneche <adeneche@gmail.com>
Date:   Thu Feb 26 19:55:08 2015 -0800

    DRILL-2262: selecting columns of certain datatypes from a dictionary encoded parquet file created by drill fails

 .../parquet/columnreaders/ColumnReaderFactory.java |  88 +++++++++++-----
 .../NullableFixedByteAlignedReaders.java           |  94 +++++++++++++++++
 .../ParquetFixedWidthDictionaryReaders.java        | 114 ++++++++++++++++++++-
 .../columnreaders/TestColumnReaderFactory.java     |  84 +++++++++++++++
 .../resources/parquet/decimal_dictionary.parquet   | Bin 0 -> 602 bytes
 .../resources/parquet/decimal_nodictionary.parquet | Bin 0 -> 558 bytes
 .../test/resources/parquet/time_dictionary.parquet | Bin 0 -> 618 bytes
 .../resources/parquet/time_nodictionary.parquet    | Bin 0 -> 576 bytes
 8 files changed, 356 insertions(+), 24 deletions(-)

commit deba94630b88afefd644f17cfe5d4122fb9eb456
Author: adeneche <adeneche@gmail.com>
Date:   Thu Feb 26 08:56:09 2015 -0800

    DRILL-2266: Complex parquet reader fails on reading timestamp datatype

 .../apache/drill/exec/store/parquet2/DrillParquetGroupConverter.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 36fedf99aaad01189479952ccbf8d3158684166f
Author: adeneche <adeneche@gmail.com>
Date:   Thu Feb 26 07:55:03 2015 -0800

    DRILL-2267: bumping parquet version to 1.5.1-r7

 exec/java-exec/pom.xml | 12 ++++++------
 pom.xml                |  1 +
 2 files changed, 7 insertions(+), 6 deletions(-)

commit 6af2dd4a37987cbc3d2f9efe5b352cf9bc282adf
Author: adeneche <adeneche@gmail.com>
Date:   Fri Feb 27 20:14:00 2015 +0000

    DRILL-2337: disable dictionary encoding by default

 exec/java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2dd8a2ca91ed7333946b543f2aa297529fb06195
Author: adeneche <adeneche@gmail.com>
Date:   Mon Mar 2 16:03:40 2015 -0800

    DRILL-2359: ClassPathFileSystem.getFileStatus() should throw FileNotFoundException when path doesn't exist

 .../org/apache/drill/exec/store/ClassPathFileSystem.java     | 12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit fb293ba520e25162c4ab8858ddba51b392878ae3
Author: adeneche <adeneche@gmail.com>
Date:   Tue Dec 30 10:15:05 2014 -0800

    1908: new window function implementation

 .../drill/common/logical/data/AbstractBuilder.java |   4 +
 .../apache/drill/common/logical/data/Window.java   |  10 +-
 contrib/data/pom.xml                               |   1 +
 contrib/data/window-test-data/pom.xml              |  64 ++++
 exec/java-exec/pom.xml                             |   6 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |   2 +-
 .../drill/exec/physical/config/WindowPOP.java      |  10 +-
 .../exec/physical/impl/window/OverFinder.java      |  53 +++
 .../window/StreamingWindowFrameRecordBatch.java    | 274 ---------------
 .../impl/window/StreamingWindowFrameTemplate.java  | 282 ---------------
 .../impl/window/StreamingWindowFramer.java         |  44 ---
 ...chCreator.java => WindowFrameBatchCreator.java} |   7 +-
 .../impl/window/WindowFrameRecordBatch.java        | 354 +++++++++++++++++++
 .../physical/impl/window/WindowFrameTemplate.java  | 379 +++++++++++++++++++++
 .../exec/physical/impl/window/WindowFramer.java    |  59 ++++
 .../drill/exec/planner/logical/DrillRuleSets.java  |   7 +-
 .../{StreamingWindowPrel.java => WindowPrel.java}  |  28 +-
 ...{StreamingWindowPrule.java => WindowPrule.java} |  13 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |   9 +
 .../exec/server/options/SystemOptionManager.java   |   3 +-
 .../exec/physical/impl/window/TestWindowFrame.java | 262 +++++---------
 .../apache/drill/exec/sql/TestWindowFunctions.java |  31 --
 23 files changed, 1074 insertions(+), 831 deletions(-)

commit 4b58ac8b7a4cb36b50773fab3d9b2774bae953ac
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Mar 4 19:08:46 2015 -0800

    DRILL-1897: Fix return type of functions to be nullable during planning phase

 .../apache/drill/exec/planner/sql/HiveUDFOperator.java    | 14 ++++++++++++--
 .../apache/drill/exec/planner/sql/DrillSqlOperator.java   | 15 +++++++++++++--
 .../apache/drill/exec/fn/impl/TestAggregateFunctions.java | 11 +++++++++++
 3 files changed, 36 insertions(+), 4 deletions(-)

commit 2b4283df50517a1f0e1591c506ab905bac3d77f1
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Mar 3 16:58:58 2015 -0800

    DRILL-2372: Fix current_date to convert input to UTC before storing in the vector

 .../org/apache/drill/exec/expr/fn/impl/DateTypeFunctions.java  |  3 ++-
 .../org/apache/drill/exec/fn/impl/TestNewDateFunctions.java    | 10 ++++++++++
 2 files changed, 12 insertions(+), 1 deletion(-)

commit 71b6bfe86e5d143acac8ff9affb1b97a5d39d839
Author: Kamesh <kam.iitkgp@gmail.com>
Date:   Tue Mar 3 21:22:25 2015 +0530

    DRILL-1692: Fixing Mongo join issue when * is selected

 .../drill/exec/store/mongo/MongoRecordReader.java  | 102 ++++-----------------
 1 file changed, 17 insertions(+), 85 deletions(-)

commit a66b6cc0d7d3de0fbe8aa0715233235aee18f71b
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Tue Mar 3 16:37:24 2015 -0800

    DRILL-2118: inform user with a user friendly error message if kvgen fails due to heterogenous types

 .../src/main/codegen/templates/BaseReader.java     |   5 +-
 .../src/main/codegen/templates/ComplexReaders.java |   6 +-
 .../drill/exec/vector/complex/MapUtility.java      | 369 +++++++++++----------
 .../vector/complex/impl/AbstractBaseReader.java    |   7 +
 4 files changed, 203 insertions(+), 184 deletions(-)

commit 767a976489ea492e7c5fae6ab7d6f0af729363b6
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon Mar 2 13:38:17 2015 -0800

    DRILL-1875: getTransferClone should ignore given wrappers

 .../apache/drill/exec/record/VectorContainer.java    | 20 +++++++++++---------
 1 file changed, 11 insertions(+), 9 deletions(-)

commit a84f7b9e88b1827e6b4da8cdd25c6d4f12dcdadc
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Feb 27 19:21:51 2015 -0800

    DRILL-2338: Fix Decimal38/Decimal28 vector's get() to copy the scale and precision into the holder

 .../main/codegen/templates/FixedValueVectors.java  | 12 ++---------
 .../physical/impl/writer/TestParquetWriter.java    | 25 ++++++++++++++++++++++
 2 files changed, 27 insertions(+), 10 deletions(-)

commit 3442215fd91e700f659bc055cd7c05b623bc59b3
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu Jan 29 13:24:28 2015 -0800

    DRILL-2236: Optimize hash inner join by swapping inputs based on row count comparison. Add a planner option to enable/disable this feature.
    
    Revise code based on review comments.

 .../drill/exec/planner/physical/HashJoinPrel.java  | 54 +++++++++++----
 .../drill/exec/planner/physical/JoinPrel.java      |  4 +-
 .../drill/exec/planner/physical/MergeJoinPrel.java |  2 +-
 .../exec/planner/physical/PlannerSettings.java     | 11 +++
 .../physical/explain/NumberingRelWriter.java       |  7 ++
 .../physical/visitor/SwapHashJoinVisitor.java      | 79 ++++++++++++++++++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    | 13 +++-
 .../exec/server/options/SystemOptionManager.java   |  2 +
 8 files changed, 154 insertions(+), 18 deletions(-)

commit 9c0738d94f246443554a1b6d03c7a8d4d21d29a8
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Feb 6 13:20:07 2015 -0800

    DRILL-2178: Update outgoing record batch size and allocation in PartitionSender.
    
    Also:
     + Add setInitialCapacity() method to ValueVector interface set the initial capacity
       of memory allocated in first allocateNew() call.
     + Send an empty batch for fast schema instead of flushing the OutgoingRecordBatches
       which throw away allocated memory and reallocate again.
     + Remove the v.getValueVector().makeTransferPair(outgoingVector) hack as the complex
       schema child schema population bug is fixed in DRILL-1885.
     + Cleanup/refactor PartitionSender related code.

 .../main/codegen/templates/FixedValueVectors.java  |   4 +
 .../codegen/templates/NullableValueVectors.java    |   6 +
 .../codegen/templates/RepeatedValueVectors.java    |   6 +
 .../codegen/templates/VariableLengthVectors.java   |   9 +-
 .../impl/materialize/QueryWritableBatch.java       |  16 --
 .../partitionsender/PartitionSenderRootExec.java   |  46 ++----
 .../impl/partitionsender/PartitionerTemplate.java  | 156 +++++++++---------
 .../drill/exec/record/FragmentWritableBatch.java   |  18 +--
 .../drill/exec/record/MaterializedField.java       |  13 +-
 .../org/apache/drill/exec/vector/BitVector.java    |   5 +
 .../org/apache/drill/exec/vector/ObjectVector.java |   6 +
 .../apache/drill/exec/vector/RepeatedVector.java   |   3 +-
 .../org/apache/drill/exec/vector/ValueVector.java  |   6 +
 .../drill/exec/vector/complex/MapVector.java       |   7 +
 .../exec/vector/complex/RepeatedListVector.java    |   7 +
 .../exec/vector/complex/RepeatedMapVector.java     |   7 +
 .../drill/exec/record/vector/TestValueVector.java  | 175 ++++++++++-----------
 17 files changed, 253 insertions(+), 237 deletions(-)

commit c8a241b064c386fe21d7d7cb987c2b8cfdee43e4
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu Feb 26 19:51:04 2015 -0800

    DRILL-2328: For concat function, null input is treated as empty string; for concat operator (i.e., ||), if any input is null, the output is null

 .../common/expression/FunctionCallFactory.java     |  2 +-
 .../drill/exec/expr/fn/impl/StringFunctions.java   | 26 ++++++++++-
 .../java/org/apache/drill/TestExampleQueries.java  | 54 ++++++++++++++++++++++
 3 files changed, 80 insertions(+), 2 deletions(-)

commit 02d23cb8dc21dfb151aa3d2fc64404c81d0b23cc
Author: adeneche <adeneche@gmail.com>
Date:   Tue Jan 20 12:23:58 2015 -0800

    DRILL-1742: Use Hive stats when planning queries on Hive data sources

 .../org/apache/drill/exec/store/hive/HiveScan.java | 24 +++++++++++++++++++++-
 1 file changed, 23 insertions(+), 1 deletion(-)

commit 853ac266e8af426cab9b68ed867bbb00fd6359c6
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Feb 27 08:38:23 2015 -0800

    DRILL-2327: Raise the max value allowed for join's cardinality estimate factor to allow for hugely expanding joins.

 .../java/org/apache/drill/exec/planner/physical/PlannerSettings.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 74517f5d95300f94bad08004adb4e1a2817bbbe5
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Thu Feb 26 11:23:30 2015 -0800

    DRILL-2321: FlattenRecordBatch should transfer vectors honoring output field reference.

 .../physical/impl/flatten/FlattenRecordBatch.java  | 34 +++++++++-------------
 .../exec/vector/complex/RepeatedMapVector.java     |  8 ++---
 2 files changed, 17 insertions(+), 25 deletions(-)

commit b49e51ef5e0f925cf3505f33b65309b1b839386d
Author: adeneche <adeneche@gmail.com>
Date:   Tue Feb 3 20:45:54 2015 -0800

    DRILL-1953: alter session set store.json.all_text_mode does not work as documented

 .../java/org/apache/drill/exec/store/mongo/MongoRecordReader.java   | 3 +--
 .../src/main/java/org/apache/drill/exec/server/DrillbitContext.java | 4 ++++
 .../org/apache/drill/exec/store/easy/json/JSONRecordReader.java     | 2 +-
 .../java/org/apache/drill/exec/store/json/TestJsonRecordReader.java | 6 ++++++
 exec/java-exec/src/test/resources/jsoninput/big_numeric.json        | 1 +
 5 files changed, 13 insertions(+), 3 deletions(-)

commit 8100a970cc958d61359c5b475b0cdfc67d72158b
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Wed Feb 25 10:29:19 2015 -0800

    DRILL-2294: Prevent collecting intermediate stats before the operator tree was finished being constructed.

 .../org/apache/drill/exec/work/fragment/FragmentExecutor.java     | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit a163c06ae581724deb0a1de3f5bd2dfa895cefa7
Author: Yash Sharma <yash.sharma@snapdeal.com>
Date:   Thu Nov 13 00:19:34 2014 +0530

    DRILL-1535:Logical plan deserialization error in Join

 common/src/main/java/org/apache/drill/common/logical/data/Join.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit aa7eb2a927faf86a00de3dc0a3cd75862a90a8cc
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Jan 5 10:28:29 2015 -0800

    DRILL-1515: For the Web UI users, if exception is thrown, users are redirected to another page, which shows the error message

 .../drill/exec/server/rest/QueryResources.java     |  9 ++++++--
 .../src/main/resources/rest/query/errorMessage.ftl | 24 ++++++++++++++++++++++
 2 files changed, 31 insertions(+), 2 deletions(-)

commit 619c2fbd77adbfd2b28bf79ddd44f298f6a210f4
Author: akumarb2010 <akumarb2010@gmail.com>
Date:   Fri Jan 9 20:49:59 2015 +0530

    DRILL-1971: Mongo Storage Plugin slowness issue

 .../java/org/apache/drill/exec/store/mongo/MongoRecordReader.java  | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit f378b342cabc6c1e69a1df0855136ef36e523741
Author: AdamPD <adam@pharmadata.net.au>
Date:   Mon Feb 9 12:12:36 2015 +1000

    DRILL-2013: Part 2 - Improve test for flatten bug

 .../org/apache/drill/exec/physical/impl/flatten/TestFlatten.java     | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit ce0afb1d62b519772084173ed5540cda79a2719b
Author: AdamPD <adam@pharmadata.net.au>
Date:   Fri Jan 23 17:01:36 2015 +1000

    DRILL-2013: Fix flatten when no rows match filters

 .../apache/drill/exec/physical/impl/flatten/FlattenRecordBatch.java  | 2 +-
 .../org/apache/drill/exec/physical/impl/flatten/TestFlatten.java     | 5 +++++
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 1d2ed349699a326165c721257937905e3043418c
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Jan 19 15:38:46 2015 -0800

    DRILL-2031: Parquet bit column reader fix
    
    Removes attempted optimized bit reader, left a comment where it was removed as a pointer back to this change set. For now the higher level Parquet interface will be used to ensure reading is correct, a fix of the optimized reader can be pursued at a later date if is is necessary.
    
    Fixed two bugs in the test framework necessary to verify the fix against the complex parquet reader (which uses a similar interface, but it ensures that none of the other columns are read incorrectly).
    
    Fix conflict between parquet bit reader fix and vector reallocation changes.

 .../store/parquet/columnreaders/BitReader.java     | 65 ++++++----------------
 .../java/org/apache/drill/DrillTestWrapper.java    |  2 +-
 .../drill/exec/HyperVectorValueIterator.java       |  2 +-
 .../physical/impl/writer/TestParquetWriter.java    |  6 ++
 4 files changed, 26 insertions(+), 49 deletions(-)

commit d72d6030ed3961a5e4fa8839b4be5ec1065f4059
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Tue Feb 24 19:08:40 2015 -0800

    DRILL-1325: Throw UnsupportedRelOperatorException for unequal joins, implicit cross joins

 .../drill/exec/physical/impl/join/JoinUtils.java   | 42 ++++++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    | 30 +++++--
 .../exec/work/foreman/SqlUnsupportedException.java |  4 +
 .../work/foreman/UnsupportedDataTypeException.java |  4 +
 .../work/foreman/UnsupportedFunctionException.java |  6 +-
 .../foreman/UnsupportedRelOperatorException.java   |  4 +
 .../apache/drill/TestDisabledFunctionality.java    | 97 ++++++++++++++++++++++
 7 files changed, 177 insertions(+), 10 deletions(-)

commit 471013836419185d51a2d57bf5b89c4087053255
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Wed Feb 25 09:56:12 2015 -0800

    DRILL-1378: Ctrl-C to cancel a query that has not returned with the first result set.

 .../main/java/org/apache/drill/jdbc/DrillResultSet.java | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit f7ef5ec784844a99b8b39fe10ab14f001ae149f2
Author: Aditya Kishore <adi@apache.org>
Date:   Wed Feb 25 01:10:48 2015 -0800

    DRILL-1690: Issue with using HBase plugin to access row_key only

 .../drill/exec/store/hbase/HBaseRecordReader.java  | 35 ++++++++++++----------
 1 file changed, 19 insertions(+), 16 deletions(-)

commit b0faf708bdbeb53bc3a446d3782554640bdfd6df
Author: dbarclay <dbarclay@maprtech.com>
Date:   Sun Feb 22 00:45:42 2015 -0800

    DRILL-2130: Fixed JUnit/Hamcrest/Mockito/Paranamer class path problem.

 .../Drill2130CommonHamcrestConfigurationTest.java  | 46 ++++++++++++++++++++++
 ...l2130StorageHBaseHamcrestConfigurationTest.java | 46 ++++++++++++++++++++++
 ...30StorageHiveCoreHamcrestConfigurationTest.java | 46 ++++++++++++++++++++++
 ...ll2130InterpreterHamcrestConfigurationTest.java | 46 ++++++++++++++++++++++
 exec/java-exec/pom.xml                             |  9 +++++
 ...Drill2130JavaExecHamcrestConfigurationTest.java | 46 ++++++++++++++++++++++
 ...Drill2130JavaJdbcHamcrestConfigurationTest.java | 46 ++++++++++++++++++++++
 pom.xml                                            |  8 ++++
 8 files changed, 293 insertions(+)

commit 8bb6b08e59c8fae0dc5ab0a8dc5fe63b60d122ec
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Feb 20 15:45:54 2015 -0800

    DRILL-1496: Fix serialization of 'similar to' while converting from optiq expression to drill.

 .../drill/common/expression/FunctionCallFactory.java |  1 +
 .../drill/exec/expr/fn/impl/StringFunctions.java     |  4 ++--
 .../java/org/apache/drill/TestExampleQueries.java    | 20 ++++++++++++++++++++
 3 files changed, 23 insertions(+), 2 deletions(-)

commit 01667a26da110ec53cd33089c686cb16f19a8bb6
Author: dbarclay <dbarclay@maprtech.com>
Date:   Fri Feb 20 18:57:36 2015 -0800

    DRILL-2283: Fixed Java VARCHAR(1) in INFO._SCHEMA that caused bad comparisons.

 .../drill/exec/store/ischema/InfoSchemaTable.java  | 11 ++--
 .../Drill2283InfoSchemaVarchar1BugTest.java        | 59 ++++++++++++++++++++++
 2 files changed, 67 insertions(+), 3 deletions(-)

commit 4c7519aa0a38fde50119266a9e3089a42b9054d0
Author: adeneche <adeneche@gmail.com>
Date:   Tue Feb 17 16:58:11 2015 -0800

    DRILL-2253: Vectorized Parquet reader fails to read correctly against RLE Dictionary encoded DATE column

 .../NullableFixedByteAlignedReaders.java           |   9 +++++-
 .../TestNullableFixedAlignedReaders.java           |  36 +++++++++++++++++++++
 .../test/resources/parquet/date_dictionary.parquet | Bin 0 -> 2008 bytes
 3 files changed, 44 insertions(+), 1 deletion(-)

commit c8d2fe1b8f61884997162560c23661895ce0188f
Author: Patrick Wong <pwong@maprtech.com>
Date:   Fri Feb 20 16:08:33 2015 -0800

    DRILL-1733 - Include Hadoop winutils in Drill distribution

 distribution/pom.xml                       |  13 +++-
 distribution/src/assemble/bin.xml          | 100 +++++++++++++++++------------
 distribution/src/resources/drill-config.sh |   4 ++
 distribution/src/resources/sqlline.bat     |   1 +
 4 files changed, 75 insertions(+), 43 deletions(-)

commit 5efc7e686d04ebff7c651270961ec7f5ca09c93d
Author: dbarclay <dbarclay@maprtech.com>
Date:   Tue Feb 17 13:50:16 2015 -0800

    DRILL-1062: Implemented null ordering (NULLS FIRST/NULLS LAST).
    
    Primary:
    - Split "compare_to" function templates (for sorting) into
      "compare_to_nulls_high" and "compare_to_nulls_low" versions.
    - Added tests to verify ORDER BY ordering.
    - Added tests to verify merge join order correctness.
    - Implemented java.sql.DatabaseMetaData.nullsAreSortedHigh(), etc.
    Secondary:
    - Eliminated DateInterfaceFunctions.java template (merged into other).
    - Renamed comparison-related template data objects and file names.
    - Eliminated unused template macros, function template classes.
    - Overhauled Order.Ordering; added unit test.
    - Regularized some generated-class names.
    Miscellaneous:
    - Added toString() to ExpressionPosition, Order.Ordering, JoinStatus.
    - Fixed some typos.
    - Fixed some comment syntax.

 .gitignore                                         |    1 +
 .../common/expression/ExpressionPosition.java      |    6 +
 .../drill/common/expression/fn/CastFunctions.java  |   10 +-
 .../apache/drill/common/logical/data/Order.java    |  147 ++-
 .../drill/common/logical/data/OrderTest.java       |   93 ++
 .../apache/drill/exec/TestHiveProjectPushDown.java |    2 +-
 exec/java-exec/src/main/codegen/config.fmpp        |   51 +-
 .../src/main/codegen/data/CompareTypes.tdd         |   21 -
 ...DecimalTypes.tdd => ComparisonTypesDecimal.tdd} |    0
 .../src/main/codegen/data/ComparisonTypesMain.tdd  |   69 ++
 exec/java-exec/src/main/codegen/data/DateTypes.tdd |   27 -
 .../codegen/templates/ComparisonFunctions.java     |  410 +++++--
 .../codegen/templates/DateIntervalFunctions.java   |  355 ------
 .../templates/Decimal/CastVarCharDecimal.java      |   15 +-
 .../templates/Decimal/DecimalFunctions.java        |  627 +++++-----
 .../drill/exec/client/PrintingResultsListener.java |    3 +-
 .../exec/expr/ExpressionTreeMaterializer.java      |    2 +-
 .../exec/expr/annotations/FunctionTemplate.java    |   35 +-
 .../exec/expr/fn/FunctionGenerationHelper.java     |   58 +-
 .../expr/fn/FunctionImplementationRegistry.java    |   10 +-
 .../drill/exec/expr/fn/impl/BitFunctions.java      |   46 +-
 .../exec/expr/fn/impl/ComparisonFunctions.java     |  572 ---------
 .../expr/fn/impl/ComparisonFunctionsNullable.java  |  250 ----
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |    5 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |    8 +-
 .../physical/impl/common/ChainedHashTable.java     |    6 +-
 .../drill/exec/physical/impl/join/JoinStatus.java  |   23 +
 .../exec/physical/impl/join/JoinTemplate.java      |   12 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |   18 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |    5 +-
 .../OrderedPartitionRecordBatch.java               |    6 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |    5 +-
 .../window/StreamingWindowFrameRecordBatch.java    |    8 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |    9 +-
 .../drill/exec/physical/impl/xsort/MSorter.java    |    2 +
 .../drill/exec/planner/physical/ProjectPrule.java  |    2 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    |    2 +-
 .../java/org/apache/drill/TestAggNullable.java     |    8 +-
 .../java/org/apache/drill/TestExampleQueries.java  |   28 +-
 .../src/test/java/org/apache/drill/TestInList.java |    2 +-
 .../java/org/apache/drill/TestJoinNullable.java    |  390 +++++-
 .../test/resources/jsoninput/nullableOrdered1.json |   24 +
 .../test/resources/jsoninput/nullableOrdered2.json |   16 +
 .../apache/drill/jdbc/DrillDatabaseMetaData.java   |   53 +
 .../java/org/apache/drill/jdbc/DrillFactory.java   |    3 +
 .../org/apache/drill/jdbc/DrillJdbc41Factory.java  |    8 +-
 .../jdbc/test/JdbcNullOrderingAndGroupingTest.java | 1290 ++++++++++++++++++++
 exec/jdbc/src/test/resources/donuts.json           |  130 ++
 .../resources/null_ordering_and_grouping_data.json |   63 +
 pom.xml                                            |    1 +
 50 files changed, 3101 insertions(+), 1836 deletions(-)

commit 3c85bd8aa412f0a4d361a9a7b3136a03b15c9f37
Author: Jinfeng Ni <jni@apache.org>
Date:   Mon Feb 16 23:41:32 2015 -0800

    DRILL-2242 : Propagate distribution trait when Project only outputs a subset of child's distribution field.
    
    Minor code style fix.
    
    change to unit test.

 .../drill/exec/planner/physical/ProjectPrule.java  |  4 ++-
 .../drill/exec/fn/impl/TestAggregateFunctions.java | 29 ++++++++++++++++++++++
 2 files changed, 32 insertions(+), 1 deletion(-)

commit b5c1ffec5e90b8a1def58887272af2e2473e7500
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Wed Feb 18 13:57:12 2015 -0800

    DRILL-2269: Add default implementation for estimating cost of evaluating an expression, in stead of throwing Exception.
    
    Set default cost of evaluating a HiveFuncHolder expression.

 .../drill/common/expression/BooleanOperator.java   |   7 +-
 .../drill/common/expression/IfExpression.java      |   7 +-
 .../common/expression/LogicalExpressionBase.java   |  12 +-
 .../drill/common/expression/TypedNullConstant.java |  10 --
 .../drill/common/expression/ValueExpressions.java  | 144 ---------------------
 .../apache/drill/exec/expr/HiveFuncHolderExpr.java |   6 +
 6 files changed, 17 insertions(+), 169 deletions(-)

commit 1ceddff66d4d81344417af6563a09e756b34d9eb
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Wed Feb 18 22:13:49 2015 -0800

    DRILL-2197: Fix no applicable constructor error in outer join with a map type

 .../exec/physical/impl/join/HashJoinBatch.java     |  6 ++-
 .../exec/physical/impl/join/TestJoinComplex.java   | 52 ++++++++++++++++++++++
 .../test/resources/join/DRILL-2197-result-1.json   |  2 +
 .../test/resources/join/DRILL-2197-result-2.json   |  2 +
 .../src/test/resources/join/complex_1.json         | 39 ++++++++++++++++
 .../src/test/resources/join/complex_2.json         | 19 ++++++++
 6 files changed, 119 insertions(+), 1 deletion(-)

commit d4dc295f1c46555a4cba774e0b211de72c119e29
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Fri Jan 30 09:09:04 2015 -0800

    DRILL-2054: Interpret "||" as string concat operator; Disable `&&`;

 .../drill/common/expression/parser/ExprLexer.g     |  4 +--
 .../drill/common/expression/parser/ExprParser.g    |  4 +--
 .../common/expression/FunctionCallFactory.java     |  4 +--
 .../apache/drill/TestDisabledFunctionality.java    | 21 ++++++++++++
 .../java/org/apache/drill/TestExampleQueries.java  | 37 ++++++++++++++++++++++
 .../testExampleQueries/testConcatOperator.tsv      | 25 +++++++++++++++
 .../testConcatOperatorInputTypeCombination.tsv     | 25 +++++++++++++++
 pom.xml                                            |  2 +-
 8 files changed, 114 insertions(+), 8 deletions(-)

commit 30c09ec48a3fa51af3015a6ba5dc3c9b51b63044
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Feb 4 19:05:47 2015 -0800

    DRILL-2169: disable embedded server for tests when not needed

 exec/java-exec/src/test/java/org/apache/drill/BaseTestQuery.java | 2 ++
 1 file changed, 2 insertions(+)

commit d2831ba7aa3caebae99f4571d683b5ee5ba44148
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Tue Feb 17 12:20:01 2015 -0800

    DRILL-2254: use parent field while adding a child vector into a repeated list

 .../exec/vector/complex/RepeatedListVector.java    |  2 +-
 .../exec/physical/impl/flatten/TestFlatten.java    | 39 ++++++++++++++++++++++
 .../resources/flatten/drill-2254-result-mix.json   |  9 +++++
 .../resources/flatten/drill-2254-result-multi.json |  3 ++
 .../flatten/drill-2254-result-single.json          |  3 ++
 5 files changed, 55 insertions(+), 1 deletion(-)

commit ab4d799807bdcf6ecb74c6c0ffd655d6a1a965ad
Author: alzarei <azarei@ece.ubc.ca>
Date:   Mon Feb 16 14:41:28 2015 -0800

    DRILL-1219. C++ Client. Fix timeout for 32-bit windows platform

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 11 +++++++++++
 contrib/native/client/src/clientlib/drillClientImpl.hpp | 13 ++++++-------
 contrib/native/client/src/include/drill/common.hpp      |  8 ++++++++
 3 files changed, 25 insertions(+), 7 deletions(-)

commit 36fc560f0eebd39cdb4509bcfd180230bb9f3c22
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Mon Jan 19 12:07:24 2015 -0800

    DRILL-2038: Fix handling of error objects. C++ Client syncronous API has a crash with multiple parallel queries.

 contrib/native/client/example/querySubmitter.cpp   | 40 +++++++++++-----
 .../client/src/clientlib/drillClientImpl.cpp       | 53 ++++++++++++++--------
 .../client/src/clientlib/drillClientImpl.hpp       |  1 +
 3 files changed, 63 insertions(+), 31 deletions(-)

commit 81ec0fb5b7aa8697bd34328179da3fc92eebc3df
Author: adeneche <adeneche@gmail.com>
Date:   Tue Feb 3 13:53:16 2015 -0800

    DRILL-2151: VariableLengthVector.copyFromSafe() unnecessary sets the offsetVector

 exec/java-exec/src/main/codegen/templates/VariableLengthVectors.java | 1 -
 1 file changed, 1 deletion(-)

commit 9c4d91d017ba2e7ceea89b5759d61fa73a658153
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Sat Feb 14 22:18:31 2015 -0800

    DRILL-2252: Cleanup resources when fragment is cancelled.

 .../apache/drill/exec/work/fragment/FragmentExecutor.java  | 14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit ccaabdbbd4a1baa9245514d68e683d1409333bf6
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Feb 12 17:27:05 2015 -0800

    DRILL-2251: Fix resource leaking with new DrillFileSystem

 .../exec/store/dfs/DrillFSDataInputStream.java     | 131 +++++++++++++++++++--
 .../drill/exec/store/dfs/DrillFileSystem.java      |  93 +++++++++++++--
 .../drill/exec/store/dfs/OpenFileTracker.java      |  36 ++++++
 .../drill/exec/store/dfs/TestDrillFileSystem.java  |  25 +++-
 4 files changed, 258 insertions(+), 27 deletions(-)

commit d9b61fac28fafc3a84fdfe75db811a620ea464b2
Author: Jinfeng Ni <jni@apache.org>
Date:   Wed Feb 11 17:11:06 2015 -0800

    DRILL-2168:  Fix incorrect query result issue when group by use an expression with drill build-in functions.  Fix is in Calcite.

 .../apache/drill/exec/fn/impl/TestAggregateFunctions.java | 15 +++++++++++++++
 pom.xml                                                   |  2 +-
 2 files changed, 16 insertions(+), 1 deletion(-)

commit 6676f2d7688a3de1118006752f1ad1c2cca103b0
Author: Xiao Meng <xiaom.cs@gmail.com>
Date:   Tue Nov 4 13:16:51 2014 -0800

    DRILL-1697. C++ Client. Use the object io_service::work to prevent io_service running out of work.
    
    - Deleting the `work` object to permit the io_service to exit.
    - Also reset `io_service` before submitting query.

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 6 ++++--
 contrib/native/client/src/clientlib/drillClientImpl.hpp | 8 ++++++++
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 7f5ce329d8c96936a97788717e621ff8535cd76f
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Wed Feb 11 21:37:31 2015 -0800

    DRILL-1697: C++ client. Fix crash when listener exits prematurely.

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 0553798c18aae6b3dfc14227e0cef5f2baea11fe
Author: Xiao Meng <xiaom.cs@gmail.com>
Date:   Tue Feb 10 17:59:23 2015 -0800

    DRILL-1197: C++ Client. Differentiate socket/handshake/query timeout for deadline timer.
    
    It also
    
    - returns more detailed connection status for validate handshake.
    - adds timeout options for query submitter.

 contrib/native/client/example/querySubmitter.cpp   | 15 +++-
 .../native/client/src/clientlib/drillClient.cpp    | 31 +++++++-
 .../client/src/clientlib/drillClientImpl.cpp       | 84 ++++++++++++----------
 .../client/src/clientlib/drillClientImpl.hpp       |  6 +-
 contrib/native/client/src/clientlib/errmsgs.cpp    |  1 +
 contrib/native/client/src/clientlib/errmsgs.hpp    |  3 +-
 contrib/native/client/src/include/drill/common.hpp |  6 +-
 .../client/src/include/drill/drillClient.hpp       | 24 ++++++-
 8 files changed, 123 insertions(+), 47 deletions(-)

commit 30769783ec22503d4ab0265da0b449df46a856fd
Author: AdamPD <adam@pharmadata.net.au>
Date:   Mon Feb 9 11:54:54 2015 +1000

    DRILL-1948: Fix issue with HDFS and CompatibilityUtil.getBuf

 .../src/main/java/parquet/hadoop/ColumnChunkIncReadStore.java         | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 02d51ddaad0e8940cf4a3ab1384b7fac31d482cb
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Tue Feb 10 19:11:11 2015 -0800

    DRILL-2163: ensure vector container fully reconstructs a composite vector with its children

 .../exec/physical/impl/join/HashJoinBatch.java      | 21 +++++++++------------
 .../apache/drill/exec/record/MaterializedField.java |  6 ++++++
 .../exec/vector/complex/RepeatedListVector.java     | 12 +++++++-----
 .../java/org/apache/drill/TestExampleQueries.java   | 15 +++++++++++++++
 .../src/test/resources/project/complex/a.json       |  9 +++++++++
 .../src/test/resources/project/complex/b.json       |  9 +++++++++
 .../project/complex/drill-2163-result.json          | 21 +++++++++++++++++++++
 7 files changed, 76 insertions(+), 17 deletions(-)

commit fe265059a412d3f034dd19d8da9ed195a18ab0c2
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Sat Feb 7 21:25:50 2015 -0800

    DRILL-1937: Disable the query pattern where logical expressions are applied on non-scalar result of sub-query

 .../exception/UnsupportedOperatorCollector.java    |  61 +++++----
 ...teProjectRel.java => PreProcessLogicalRel.java} |  47 ++++++-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  35 ++++--
 .../exec/planner/sql/handlers/ExplainHandler.java  |   2 +
 .../sql/parser/UnsupportedOperatorsVisitor.java    |   1 -
 .../exec/work/foreman/SqlUnsupportedException.java |  30 ++++-
 .../apache/drill/TestDisabledFunctionality.java    | 139 +++++++++++++++++----
 7 files changed, 248 insertions(+), 67 deletions(-)

commit 4ed0a8d68ec5ef344fb54ff7c9d857f7f3f153aa
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Fri Feb 6 12:57:15 2015 -0800

    DRILL-2127: make JDBC tests re-use bit instances; reset cached bits on failure

 .../apache/drill/common/config/DrillConfig.java    |   4 +-
 .../drill/jdbc/CachingConnectionFactory.java       |  31 +++
 .../org/apache/drill/jdbc/ConnectionFactory.java   |  33 +++
 .../java/org/apache/drill/jdbc/ConnectionInfo.java |  81 ++++++
 .../test/java/org/apache/drill/jdbc/JdbcTest.java  |  98 +++++++-
 .../drill/jdbc/MultiConnectionCachingFactory.java  |  65 +++++
 .../apache/drill/jdbc/NonClosableConnection.java   | 272 +++++++++++++++++++++
 .../drill/jdbc/SingleConnectionCachingFactory.java |  53 ++++
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |  71 +++---
 .../apache/drill/jdbc/test/JdbcTestQueryBase.java  |   4 +-
 .../jdbc/test/TestAggregateFunctionsQuery.java     |   3 +-
 .../apache/drill/jdbc/test/TestHiveScalarUDFs.java |   3 +-
 .../apache/drill/jdbc/test/TestHiveStorage.java    |   4 +-
 .../apache/drill/jdbc/test/TestMetadataDDL.java    |   2 +-
 .../java/org/apache/drill/jdbc/test/TestViews.java |   2 +-
 15 files changed, 687 insertions(+), 39 deletions(-)

commit e46d68beed9da0cb7b5fad7c7cd76ad42a9e1a01
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Fri Feb 6 11:00:23 2015 -0800

    DRILL-1597: refactor empty population logic out & re-use across RepeatedList/Map vectors & add unit test

 .../exec/vector/complex/EmptyValuePopulator.java   | 53 ++++++++++++
 .../exec/vector/complex/RepeatedListVector.java    | 62 +++++---------
 .../exec/vector/complex/RepeatedMapVector.java     | 40 ++++-----
 .../exec/vector/complex/TestEmptyPopulator.java    | 94 ++++++++++++++++++++++
 4 files changed, 182 insertions(+), 67 deletions(-)

commit aa2caa8af5f98b1f9fa585443714824d0fa00a12
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Thu Feb 5 13:24:13 2015 -0800

    DRILL-1605: ensure GenericAccessor returns null for non-existent records

 .../vector/accessor/BoundCheckingAccessor.java     | 141 +++++++++++++++++++++
 .../java/org/apache/drill/TestSchemaChange.java    |  43 +++++++
 .../test/resources/schemachange/multi/first.json   |   2 +
 .../test/resources/schemachange/multi/second.json  |   1 +
 .../org/apache/drill/jdbc/DrillAccessorList.java   |   5 +-
 5 files changed, 191 insertions(+), 1 deletion(-)

commit de89f36d9e90ea40f1566b8eb506fb9d656a0d0d
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Wed Jan 28 10:12:30 2015 -0800

    DRILL-2087: Fix an incorrect join plan by ensure either both sides are distributed, or none of them is distributed.
    
    Add unit testcase.

 .../physical/visitor/ExcessiveExchangeIdentifier.java  |   9 +++++++++
 .../test/java/org/apache/drill/TestExampleQueries.java |  17 +++++++++++++++++
 .../src/test/resources/tpchmulti/nation/01.parquet     | Bin 0 -> 1376 bytes
 .../src/test/resources/tpchmulti/nation/02.parquet     | Bin 0 -> 1400 bytes
 .../src/test/resources/tpchmulti/nation/03.parquet     | Bin 0 -> 1279 bytes
 .../src/test/resources/tpchmulti/region/01.parquet     | Bin 0 -> 564 bytes
 .../src/test/resources/tpchmulti/region/02.parquet     | Bin 0 -> 491 bytes
 .../src/test/resources/tpchmulti/region/03.parquet     | Bin 0 -> 506 bytes
 8 files changed, 26 insertions(+)

commit 066b6dbc3a711dac822dd73441b1faedc1bebdfd
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Mon Feb 2 13:39:39 2015 -0800

    DRILL-1872: Assertion failure and empty map on order by with complex data

 .../org/apache/drill/exec/record/MaterializedField.java  | 16 ++++++----------
 .../org/apache/drill/exec/vector/complex/MapVector.java  |  9 +++++++++
 2 files changed, 15 insertions(+), 10 deletions(-)

commit ca28b9cba419702a58cbce43b31a9d731d824377
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Feb 11 10:56:34 2015 -0800

    DRILL-2170: For fragment parallelization, use max cost of operators instead of total cost (this makes it consistent with what ExcessiveExchangeRemover  uses).

 .../exec/planner/fragment/SimpleParallelizer.java     |  4 +++-
 .../org/apache/drill/exec/planner/fragment/Stats.java | 11 +++++------
 .../drill/exec/fn/impl/TestAggregateFunctions.java    | 19 +++++++++++++++++++
 3 files changed, 27 insertions(+), 7 deletions(-)

commit b79f76619b5290e465921219fcd09091a3d93607
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sat Feb 7 19:14:01 2015 -0800

    DRILL-2107: Fix hash aggregate to return OK_NEW_SCHEMA only once.
    Existing tests will serve as unit tests once swap join rule is enabled

 .../exec/physical/impl/aggregate/HashAggBatch.java | 38 ++--------------------
 .../physical/impl/aggregate/HashAggTemplate.java   | 31 +++++++-----------
 2 files changed, 13 insertions(+), 56 deletions(-)

commit 9f9fb6c95b85c8c3c63d3aa8b1fc1daf90bae6f3
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Feb 9 18:01:23 2015 -0800

    DRILL-2199: Fix major type returned for convert to nullable type functions

 .../drill/common/util/CoreDecimalUtility.java      | 12 ++++
 .../codegen/templates/ConvertToNullableHolder.java |  4 ++
 .../exec/expr/ExpressionTreeMaterializer.java      | 64 +++++++---------------
 .../expr/fn/DrillDecimalMaxScaleFuncHolder.java    | 19 ++++---
 .../java/org/apache/drill/TestFunctionsQuery.java  | 14 +++++
 5 files changed, 62 insertions(+), 51 deletions(-)

commit 21432decf74f0130b2e76f8266038774779249b9
Author: mehant <mehantr@gmail.com>
Date:   Sun Feb 8 19:48:05 2015 -0800

    DRILL-2184: Move TestFunctionsQuery under execution tests and use the new test framework to verify results

 .../java/org/apache/drill/TestFunctionsQuery.java  | 698 +++++++++++++++++++
 .../apache/drill/jdbc/test/TestFunctionsQuery.java | 758 ---------------------
 2 files changed, 698 insertions(+), 758 deletions(-)

commit 00c08eff2a5de6e4334fb57e952aac9a852c3d37
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri Feb 6 13:00:36 2015 -0800

    DRILL-2154: Add options to enable compression and dictionary encoding in parquet writer

 exec/java-exec/pom.xml                             |  2 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |  7 ++++++
 .../exec/server/options/SystemOptionManager.java   |  2 ++
 .../drill/exec/server/options/TypeValidators.java  | 25 ++++++++++++++++++++++
 .../exec/store/parquet/ParquetFormatPlugin.java    |  6 ++++++
 .../exec/store/parquet/ParquetRecordWriter.java    | 20 +++++++++++++++++
 .../physical/impl/writer/TestParquetWriter.java    | 18 ++++++++++++++++
 7 files changed, 79 insertions(+), 1 deletion(-)

commit 3d863b5ebff53ba5b8fcde922303643137f4b19b
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Thu Feb 5 14:16:52 2015 -0800

    DRILL-2172: make web UI bound check before accessing a vector, returning null for overflowing indices; fix a non-string type rendering problem;

 .../drill/exec/server/rest/QueryResources.java     |  70 +++++-------
 .../drill/exec/server/rest/QueryWrapper.java       | 126 +++++++++------------
 .../src/main/resources/rest/query/result.ftl       |   8 +-
 3 files changed, 88 insertions(+), 116 deletions(-)

commit 0d867b0da5272028b6bcacea0ed280930e6b113f
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Sun Feb 1 09:00:12 2015 -0800

    DRILL-1921: Disable union, intersect, except, natural join, cross join; Disable 'cardinality' ;  Disable types tinyint, smallint, real, multiset

 .../exception/UnsupportedOperatorCollector.java    |  62 +++++++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    |  18 ++-
 .../sql/parser/UnsupportedOperatorsVisitor.java    | 123 +++++++++++++++++++++
 .../exec/work/foreman/SqlUnsupportedException.java |  32 ++++++
 .../work/foreman/UnsupportedDataTypeException.java |  26 +++++
 .../work/foreman/UnsupportedFunctionException.java |  26 +++++
 .../foreman/UnsupportedRelOperatorException.java   |  24 ++++
 .../apache/drill/TestDisabledFunctionality.java    |  84 ++++++++++++++
 8 files changed, 393 insertions(+), 2 deletions(-)

commit c54bd6acb81daa9e1c3ce358e9d3a4ce909f02aa
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Dec 15 08:59:25 2014 -0800

    DRILL-2080: Add IO Stats for JSON/Parquet type input files
    
    Refactoring: Remove FileSystem shim loader

 .../apache/drill/exec/dotdrill/DotDrillFile.java   |   9 +-
 .../apache/drill/exec/dotdrill/DotDrillUtil.java   |   6 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  49 +-
 .../exec/planner/sql/handlers/ShowFileHandler.java |   5 +-
 .../drill/exec/store/dfs/BasicFormatMatcher.java   |   5 +-
 .../exec/store/dfs/DrillFSDataInputStream.java     | 176 ++++++
 .../drill/exec/store/dfs/DrillFileSystem.java      | 682 +++++++++++++++++++++
 .../apache/drill/exec/store/dfs/FileSelection.java |   4 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |   4 +-
 .../apache/drill/exec/store/dfs/FormatCreator.java |   1 -
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |   1 -
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  14 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  15 +-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |   2 +-
 .../drill/exec/store/dfs/shim/DrillFileSystem.java |  44 --
 .../exec/store/dfs/shim/DrillInputStream.java      |  32 -
 .../exec/store/dfs/shim/DrillOutputStream.java     |  29 -
 .../exec/store/dfs/shim/FileSystemCreator.java     |  35 --
 .../dfs/shim/fallback/FallbackFileSystem.java      | 159 -----
 .../exec/store/easy/json/JSONFormatPlugin.java     |   6 +-
 .../exec/store/easy/json/JSONRecordReader.java     |   5 +-
 .../exec/store/easy/text/TextFormatPlugin.java     |   6 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |  10 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |   4 +-
 .../store/parquet/ParquetScanBatchCreator.java     |  11 +-
 .../exec/store/parquet2/DrillParquetReader.java    |  13 +-
 .../drill/exec/store/sys/local/FilePStore.java     |  20 +-
 .../exec/store/sys/local/LocalPStoreProvider.java  |   3 +-
 .../apache/drill/exec/store/sys/zk/ZkPStore.java   |  10 -
 .../drill/exec/store/sys/zk/ZkPStoreProvider.java  |   2 +-
 .../drill/exec/store/dfs/TestDrillFileSystem.java  |  91 +++
 31 files changed, 1048 insertions(+), 405 deletions(-)

commit 8e8b181f459e7ffb3c028f103eee2e181a4631a1
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Jan 27 18:32:51 2015 -0800

    DRILL-2088: ReAlloc in FixedWidthVector.setValueCount if current buffer capacity is less than the valueCount.

 .../main/codegen/templates/FixedValueVectors.java  |  3 +
 .../org/apache/drill/exec/vector/BitVector.java    | 16 ++--
 .../physical/impl/svremover/TestSVRemover.java     | 71 +++---------------
 .../drill/exec/record/vector/TestValueVector.java  | 87 ++++++++++++++++++++++
 .../test/resources/remover/sv_with_no_filter.json  | 33 ++++++++
 .../src/test/resources/remover/test1.json          |  2 +-
 6 files changed, 139 insertions(+), 73 deletions(-)

commit 90a2835f693c1eecf2a11e93a3d6324ba98cf1a6
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Feb 2 18:33:59 2015 -0800

    DRILL-1988: Create child vectors while initializing complex vectors using Materialized Field

 .../java/org/apache/drill/exec/ExecConstants.java  |  3 +-
 .../exec/vector/complex/AbstractMapVector.java     | 18 ++++++++++--
 .../exec/vector/complex/RepeatedListVector.java    | 13 ++++++++-
 .../drill/exec/physical/impl/sort/TestSort.java    | 32 +++++++++++++++++++++-
 4 files changed, 61 insertions(+), 5 deletions(-)

commit 9d088f53c7b817f2d8fd5a8a6c30d2aa605b0aa3
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Feb 2 13:42:04 2015 -0800

    DRILL-2142: Refactor complex vector classes. Move the logic that applies specifically to maps in a separate base class that will be used by RepeatedMap and Map vectors.

 .../vector/complex/AbstractContainerVector.java    | 197 +-----------------
 .../exec/vector/complex/AbstractMapVector.java     | 225 +++++++++++++++++++++
 .../drill/exec/vector/complex/MapVector.java       |   2 +-
 .../exec/vector/complex/RepeatedMapVector.java     |   2 +-
 4 files changed, 238 insertions(+), 188 deletions(-)

commit a0d10063cec38fa81d983dcfaf8e4f9cb4136a01
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Fri Jan 30 14:01:30 2015 -0800

    DRILL-2126: make jdbc connection impl honor parameters passed from user

 .../src/main/java/org/apache/drill/common/config/DrillConfig.java  | 7 ++++++-
 .../apache/drill/exec/compile/bytecode/ReplaceMethodInvoke.java    | 2 +-
 .../src/main/java/org/apache/drill/jdbc/DrillConnectionConfig.java | 1 +
 .../src/main/java/org/apache/drill/jdbc/DrillConnectionImpl.java   | 4 ++--
 4 files changed, 10 insertions(+), 4 deletions(-)

commit a9ee79110450d3a68cb3600552207226594e5b58
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Jan 14 07:41:41 2015 -0800

    DRILL-2114: Update profile page to provide query fragment state, node where query was run, and memory information.  Also, extract giant class into smaller units.

 .../org/apache/drill/exec/ops/FragmentContext.java |   6 +-
 .../org/apache/drill/exec/ops/FragmentStats.java   |   5 +-
 .../drill/exec/server/rest/DrillRestServer.java    |   1 +
 .../drill/exec/server/rest/ProfileWrapper.java     | 541 ---------------------
 .../exec/server/rest/profile/Comparators.java      |  93 ++++
 .../drill/exec/server/rest/profile/Filters.java    |  41 ++
 .../exec/server/rest/profile/FragmentWrapper.java  | 141 ++++++
 .../server/rest/profile/OperatorPathBuilder.java   |  86 ++++
 .../exec/server/rest/profile/OperatorWrapper.java  | 117 +++++
 .../rest/{ => profile}/ProfileResources.java       |   2 +-
 .../exec/server/rest/profile/ProfileWrapper.java   | 138 ++++++
 .../exec/server/rest/profile/TableBuilder.java     | 142 ++++++
 .../apache/drill/exec/work/foreman/Foreman.java    |   4 +-
 .../exec/work/fragment/AbstractStatusReporter.java |   2 +-
 14 files changed, 772 insertions(+), 547 deletions(-)

commit 6331d35b3d09ecea06d68fc9b95567cef963d1ef
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jan 13 23:08:03 2015 -0800

    DRILL-1747: Enable fragment profile updates throughout queries rather than only at end.

 .../org/apache/drill/exec/work/StatusProvider.java |  5 ++
 .../org/apache/drill/exec/work/WorkManager.java    | 53 +++++++++++++++++++++-
 .../exec/work/fragment/AbstractStatusReporter.java |  5 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |  8 +++-
 4 files changed, 66 insertions(+), 5 deletions(-)

commit cafb7d4ff2c5ed58bc9985e3a3916ff8fb6b9a78
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sat Jan 31 18:19:46 2015 -0800

    DRILL-2092:  For HashJoin and MergeJoin, process the null comparisons for IS NOT DISTINCT FROM operator.
    
    Added test input and modified test to use baseline CSV.
    
    Modified comparator string to reflect calcite's SqlKind.

 .../physical/impl/common/ChainedHashTable.java     |  3 +-
 .../exec/physical/impl/join/HashJoinBatch.java     | 11 +++--
 .../drill/exec/physical/impl/join/JoinUtils.java   | 54 ++++++++++++++++++++++
 .../exec/physical/impl/join/MergeJoinBatch.java    | 12 ++++-
 .../drill/exec/planner/physical/HashJoinPrel.java  |  4 +-
 .../drill/exec/planner/physical/JoinPrel.java      | 44 ++++++++++++++++++
 .../drill/exec/planner/physical/MergeJoinPrel.java |  4 +-
 .../drill/exec/fn/impl/TestAggregateFunctions.java | 38 +++++++++++++++
 .../test/resources/agg/bugs/drill2092/input.json   | 15 ++++++
 .../test/resources/agg/bugs/drill2092/result.tsv   |  7 +++
 10 files changed, 181 insertions(+), 11 deletions(-)

commit fd005d2761461f0c50994c0e4fb37c7c50f2370b
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon Jan 26 11:22:50 2015 -0800

    DRILL-2069:  Fix star query prefix logic it's used with subquery in where clause. Convert some star query query unit test to verify query results.
    
    Add new unit test case based on review comments.

 .../drill/exec/planner/StarColumnHelper.java       |  22 ++-
 .../physical/visitor/StarColumnConverter.java      |  65 +++++----
 .../java/org/apache/drill/TestStarQueries.java     | 153 +++++++++++++++++++--
 3 files changed, 201 insertions(+), 39 deletions(-)

commit 09f7fb202dd01558db0e1dce5974aa3ae5029ca3
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Wed Jan 28 12:21:44 2015 -0800

    DRILL-2109: Fix for parquet dictionary page reading

 .../drill/exec/store/parquet/columnreaders/VarLengthColumnReaders.java  | 2 ++
 1 file changed, 2 insertions(+)

commit 54b5f80a546f23c11e0521dcf7e2439cc338030e
Author: Aditya Kishore <adi@apache.org>
Date:   Tue Jan 27 22:20:19 2015 -0800

    DRILL-2090: Update HBase storage plugin to support HBase 0.98

 contrib/storage-hbase/pom.xml                      | 234 ++-------------------
 .../drill/exec/store/hbase/HBaseFilterBuilder.java |   4 +-
 .../drill/exec/store/hbase/HBaseRecordReader.java  |  56 +++--
 .../apache/drill/exec/store/hbase/HBaseUtils.java  |  18 +-
 .../exec/store/hbase/TableStatsCalculator.java     |  15 +-
 .../store/hbase/config/HBasePStoreProvider.java    |   1 +
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |   6 +-
 .../hbase/TestHBaseRegionScanAssignments.java      | 137 ++++++------
 distribution/pom.xml                               |   2 +-
 exec/java-exec/pom.xml                             |   4 -
 pom.xml                                            | 121 ++++++++---
 11 files changed, 229 insertions(+), 369 deletions(-)

commit b6a3878784698cd58015050b29ecc123c841ad5e
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Jan 26 19:13:18 2015 -0800

    DRILL-2079: Use AllocationHelper to allocate memory for vectors.

 .../drill/exec/physical/impl/xsort/PriorityQueueCopierTemplate.java    | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 4976fb9e860651895adbe413ca26870932c6ab34
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Jan 26 15:50:26 2015 -0800

    DRILL-2078: Remove deprecated VectorAllocator and modify its users

 .../drill/exec/store/hive/HiveRecordReader.java    |  6 +--
 .../exec/store/hive/HiveTextRecordReader.java      |  4 +-
 .../physical/impl/aggregate/HashAggTemplate.java   |  2 -
 .../exec/physical/impl/join/MergeJoinBatch.java    |  1 -
 .../physical/impl/xsort/ExternalSortBatch.java     |  6 +--
 .../physical/impl/xsort/PriorityQueueCopier.java   |  4 +-
 .../impl/xsort/PriorityQueueCopierTemplate.java    | 10 +---
 .../vector/allocator/FixedVectorAllocator.java     | 41 -----------------
 .../RepeatedVariableEstimatedAllocator.java        | 36 ---------------
 .../vector/allocator/RepeatedVectorAllocator.java  | 43 ------------------
 .../vector/allocator/VariableEstimatedVector.java  | 42 -----------------
 .../vector/allocator/VariableVectorAllocator.java  | 43 ------------------
 .../exec/vector/allocator/VectorAllocator.java     | 53 ----------------------
 13 files changed, 8 insertions(+), 283 deletions(-)

commit 47dd6a689178c52035199db572bd93e7d5db9659
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Jan 26 13:33:35 2015 -0800

    DRILL-2072: Fix getGroupCount() in RepeatedMapVector

 .../java/org/apache/drill/exec/vector/complex/RepeatedMapVector.java   | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3e3388095a0ef1ce1b91f9322363883cb91aba3c
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Jan 20 18:34:31 2015 -0800

    DRILL-2041 : Throw more meaningful error message when Group BY / ORDER BY / COMPARE array/map or repeated scalar type.

 .../exec/expr/fn/FunctionGenerationHelper.java     | 27 ++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit 0abe27387bb7bbcbabd140f569a54c17cd353df0
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Fri Jan 23 18:22:16 2015 -0800

    DRILL-1655:  Fix CanNotPlan issue when join Mongodb and other datasource, by ensuring Mongodb plugin return one single instance for each table reference.

 .../store/mongo/schema/MongoDatabaseSchema.java    | 23 ++++++++++++++++++----
 .../store/mongo/schema/MongoSchemaFactory.java     | 15 ++++++++++++--
 2 files changed, 32 insertions(+), 6 deletions(-)

commit 3c6d0ef6595810a0a6b15e48da25fb268ccf2b36
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sat Jan 24 16:53:34 2015 -0800

    DRILL-1888: Added unit test for HAVING clause on aggregate expression.  Fix is common with DRILL-2063.

 .../test/java/org/apache/drill/TestExampleQueries.java   | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 52b36ed9dabb51e63fd1c555094f95e192bb63a0
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sat Jan 24 13:18:39 2015 -0800

    DRILL-2063: Fix is in Calcite (ensure uniqueness of fields in the row type of AggregateRel).  Added unit test and bumped up calcite version to 0.9-drill-r18.

 .../test/java/org/apache/drill/TestExampleQueries.java    | 15 +++++++++++++++
 pom.xml                                                   |  2 +-
 2 files changed, 16 insertions(+), 1 deletion(-)

commit 5b2a11b7c1b35d78985dfc523fe616a095e95864
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Jan 23 14:00:46 2015 -0800

    DRILL-2066: Clear target vectors before performing transfer()

 .../main/codegen/templates/FixedValueVectors.java  |  1 +
 .../codegen/templates/RepeatedValueVectors.java    |  1 +
 .../codegen/templates/VariableLengthVectors.java   |  1 +
 .../drill/exec/physical/impl/sort/TestSort.java    | 33 ++++++++++++++++++++++
 .../resources/jsoninput/repeatedmap_sort_bug.json  |  1 +
 5 files changed, 37 insertions(+)

commit 4277a25cbd8d2ac96180f51cb8904eb80f273e8e
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Jan 23 16:35:47 2015 -0800

    DRILL-2065: Fix assertion check in AbstractContainerVector

 .../exec/vector/complex/AbstractContainerVector.java      | 15 +++++++++++----
 .../org/apache/drill/exec/vector/complex/MapVector.java   |  9 +++++++++
 .../drill/exec/vector/complex/RepeatedMapVector.java      |  4 ++++
 3 files changed, 24 insertions(+), 4 deletions(-)

commit 4335c88318551187a567aa719d41a7b76a3aa315
Author: Aditya Kishore <adi@apache.org>
Date:   Tue Jan 20 22:16:34 2015 -0800

    DRILL-2049: NoClassDefFoundError: org/apache/commons/lang/StringEscapeUtils in JDBC Driver
    
    + Ban commons-lang v2 classes from being used.

 .../apache/drill/common/util/DrillStringUtils.java | 11 +++++++++++
 .../org/apache/drill/exec/record/TypedFieldId.java |  2 +-
 .../apache/drill/exec/store/dfs/FileSelection.java |  2 +-
 .../org/apache/drill/exec/util/BatchPrinter.java   |  2 +-
 .../org/apache/drill/exec/util/VectorUtil.java     |  2 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  2 +-
 .../main/java/org/apache/drill/jdbc/MetaImpl.java  | 22 +++++++++++-----------
 src/main/resources/checkstyle-config.xml           |  3 ++-
 8 files changed, 29 insertions(+), 17 deletions(-)

commit caa18fa0a33565471a250d4491c22fda27117635
Author: Aditya Kishore <adi@apache.org>
Date:   Fri Jan 23 01:01:43 2015 -0800

    DRILL-2061: Fix build break due to RAT check failure

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a22b47243dbfdc5d956a5a7cf7964a6b9ae1418e
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri Jan 16 16:30:21 2015 -0800

    DRILL-1960: Automatic reallocation

 .../drill/exec/store/hbase/HBaseRecordReader.java  |  10 +-
 .../drill/exec/store/hive/HiveFieldConverter.java  |  66 ++---
 .../drill/exec/store/hive/HiveRecordReader.java    |   6 +-
 .../exec/store/hive/HiveTextRecordReader.java      |   8 +-
 .../drill/exec/store/mongo/MongoRecordReader.java  |   9 +-
 .../src/main/codegen/templates/ComplexReaders.java |   8 +-
 .../src/main/codegen/templates/ComplexWriters.java |  19 +-
 .../main/codegen/templates/FixedValueVectors.java  | 123 ++++-----
 .../src/main/codegen/templates/MapWriters.java     |  10 +-
 .../codegen/templates/NullableValueVectors.java    | 131 ++++-----
 .../codegen/templates/RepeatedValueVectors.java    |  75 ++---
 .../src/main/codegen/templates/TypeHelper.java     |  17 +-
 .../codegen/templates/VariableLengthVectors.java   |  86 +++---
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  18 --
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |  17 +-
 .../exec/expr/fn/DrillComplexWriterFuncHolder.java |   6 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java |  25 +-
 .../physical/impl/aggregate/HashAggTemplate.java   | 302 ++++++++-------------
 .../physical/impl/aggregate/HashAggregator.java    |   6 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |   6 -
 .../impl/aggregate/StreamingAggTemplate.java       |  85 ++----
 .../physical/impl/common/ChainedHashTable.java     |  71 +++--
 .../drill/exec/physical/impl/common/HashTable.java |   2 +-
 .../physical/impl/common/HashTableTemplate.java    |  91 ++-----
 .../physical/impl/flatten/FlattenRecordBatch.java  |   1 -
 .../exec/physical/impl/join/HashJoinBatch.java     |  88 +++---
 .../exec/physical/impl/join/HashJoinProbe.java     |   4 +-
 .../physical/impl/join/HashJoinProbeTemplate.java  |  82 ++----
 .../exec/physical/impl/join/JoinTemplate.java      |  25 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  16 +-
 .../MergingReceiverGeneratorBase.java              |   2 +-
 .../mergereceiver/MergingReceiverTemplate.java     |   2 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |  22 +-
 .../OrderedPartitionProjectorTemplate.java         |   4 +-
 .../impl/partitionsender/PartitionerTemplate.java  |  47 +---
 .../physical/impl/project/ProjectRecordBatch.java  |  17 +-
 .../physical/impl/project/ProjectorTemplate.java   |  10 +-
 .../physical/impl/svremover/CopierTemplate2.java   |  16 +-
 .../physical/impl/svremover/CopierTemplate4.java   |  16 +-
 .../window/StreamingWindowFrameRecordBatch.java    |   4 -
 .../impl/window/StreamingWindowFrameTemplate.java  |  14 +-
 .../impl/xsort/PriorityQueueCopierTemplate.java    |   7 +-
 .../org/apache/drill/exec/record/TransferPair.java |   2 +-
 .../columnreaders/FixedWidthRepeatedReader.java    |   6 +-
 .../parquet/columnreaders/NullableBitReader.java   |   6 +-
 .../columnreaders/VarLengthColumnReaders.java      |  28 +-
 .../columnreaders/VarLengthValuesColumn.java       |   6 +-
 .../drill/exec/store/pojo/PojoRecordReader.java    |   8 +-
 .../apache/drill/exec/store/pojo/PojoWriter.java   |   2 +-
 .../org/apache/drill/exec/store/pojo/Writers.java  |  57 ++--
 .../exec/store/text/DrillTextRecordReader.java     |  20 +-
 .../apache/drill/exec/vector/AllocationHelper.java |  15 +
 .../org/apache/drill/exec/vector/BitVector.java    |  39 ++-
 .../org/apache/drill/exec/vector/CopyUtil.java     |  18 +-
 .../exec/vector/RepeatedFixedWidthVector.java      |   2 +-
 .../apache/drill/exec/vector/RepeatedMutator.java  |   2 +-
 .../drill/exec/vector/VariableWidthVector.java     |   2 +-
 .../drill/exec/vector/complex/MapVector.java       |  15 +-
 .../exec/vector/complex/RepeatedListVector.java    |  30 +-
 .../exec/vector/complex/RepeatedMapVector.java     |  48 ++--
 .../complex/impl/RepeatedListReaderImpl.java       |   4 +-
 .../vector/complex/impl/RepeatedMapReaderImpl.java |   6 +-
 .../vector/complex/impl/SingleMapReaderImpl.java   |   4 +-
 .../exec/physical/impl/window/TestWindowFrame.java |   4 +
 .../drill/exec/vector/TestAdaptiveAllocation.java  | 108 --------
 65 files changed, 770 insertions(+), 1236 deletions(-)

commit 839ae249bc4f2537270e87e3919ceba89478e176
Author: Aditya Kishore <adi@apache.org>
Date:   Wed Jan 21 13:19:03 2015 -0800

    DRILL-2052: Remove remaining references to "incubator" from source code

 INSTALL.md                                |  4 ++--
 README.md                                 |  3 ---
 contrib/data/tpch-sample-data/bin/pom.xml |  2 +-
 pom.xml                                   | 39 ++++++++++++++++---------------
 4 files changed, 23 insertions(+), 25 deletions(-)

commit 9a48e688aa791532a52bfe32beed0770cb752965
Author: Aditya Kishore <adi@apache.org>
Date:   Thu Jan 22 15:04:46 2015 -0800

    DRILL-2056: Remove "sandbox" folder from Drill source

 .../common/logical/LogicalPlanBuilderTest.java     |     64 -
 .../drill/common/logical/data/ScanBuilderTest.java |     48 -
 .../common/logical/data/StoreBuilderTest.java      |     48 -
 sandbox/synth-log/README.md                        |     55 -
 sandbox/synth-log/pom.xml                          |     83 -
 .../org/apache/drill/synth/ChineseRestaurant.java  |    118 -
 .../java/org/apache/drill/synth/LogGenerator.java  |     74 -
 .../main/java/org/apache/drill/synth/LogLine.java  |     54 -
 .../main/java/org/apache/drill/synth/LongTail.java |     62 -
 .../src/main/java/org/apache/drill/synth/Main.java |     74 -
 .../java/org/apache/drill/synth/TermGenerator.java |     56 -
 .../src/main/java/org/apache/drill/synth/User.java |     74 -
 .../java/org/apache/drill/synth/WordGenerator.java |    124 -
 sandbox/synth-log/src/main/resources/geo-codes     |    297 -
 .../synth-log/src/main/resources/log4j.properties  |     27 -
 sandbox/synth-log/src/main/resources/other-words   | 117184 ------------------
 .../src/main/resources/word-frequency-seed         |   5003 -
 .../org/apache/drill/synth/LogGeneratorTest.java   |     37 -
 .../org/apache/drill/synth/TermGeneratorTest.java  |     97 -
 .../org/apache/drill/synth/WordGeneratorTest.java  |     39 -
 sandbox/web-frontend/.htaccess                     |      2 -
 sandbox/web-frontend/README.md                     |      5 -
 sandbox/web-frontend/drill.css                     |     98 -
 sandbox/web-frontend/drill.js                      |    449 -
 sandbox/web-frontend/dummy-drill/README.md         |    151 -
 sandbox/web-frontend/dummy-drill/dummy_drill.py    |     86 -
 sandbox/web-frontend/dummy-drill/gen_ds.py         |    100 -
 sandbox/web-frontend/img/feather-small.gif         |    Bin 7500 -> 0 bytes
 sandbox/web-frontend/index.html                    |    162 -
 .../lib/bootstrap/css/bootstrap-responsive.css     |   1058 -
 .../lib/bootstrap/css/bootstrap-responsive.min.css |      9 -
 .../web-frontend/lib/bootstrap/css/bootstrap.css   |   5774 -
 .../lib/bootstrap/css/bootstrap.min.css            |      9 -
 .../bootstrap/img/glyphicons-halflings-white.png   |    Bin 8777 -> 0 bytes
 .../lib/bootstrap/img/glyphicons-halflings.png     |    Bin 12799 -> 0 bytes
 sandbox/web-frontend/lib/bootstrap/js/bootstrap.js |   2027 -
 .../web-frontend/lib/bootstrap/js/bootstrap.min.js |      6 -
 sandbox/web-frontend/lib/jquery.js                 |   9440 --
 sandbox/web-frontend/lib/jquery.renderjson.js      |     61 -
 .../main/resources}/logos/ApacheDrill.eps          |    Bin
 .../main/resources}/logos/ApacheDrill.jpg          |    Bin
 .../main/resources}/logos/ApacheDrill.png          |    Bin
 .../logos/drill-vector-logo.graffle/data.plist     |      0
 .../logos/drill-vector-logo.graffle/image1.tiff    |    Bin
 .../main/resources}/logos/drill-vector-logo.pdf    |    Bin
 45 files changed, 143055 deletions(-)

commit 8d1e1affe86a5adca3bc17eeaf7520f0d379a393
Author: Aditya Kishore <adi@apache.org>
Date:   Thu Jan 1 02:57:49 2015 -0800

    DRILL-1932: Query fails if the first record batch does not contain any record
    
    + Added test case which runs a query against an HBase table with first and last region empty.

 .../org/apache/drill/hbase/HBaseTestsSuite.java    |  1 +
 .../org/apache/drill/hbase/TestHBaseQueries.java   | 63 ++++++++++++++++++++++
 .../org/apache/drill/hbase/TestTableGenerator.java |  2 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  5 +-
 4 files changed, 69 insertions(+), 2 deletions(-)

commit 50c0949ee76753de5360fe158e9b923e45be4d83
Author: Aditya Kishore <adi@apache.org>
Date:   Thu Jan 1 02:56:44 2015 -0800

    DRILL-1922: Add a string_binary() function to pretty print a VARBINARY type as VARCHAR

 .../drill/exec/expr/fn/impl/StringFunctions.java   | 27 ++++++++++++++++++++--
 1 file changed, 25 insertions(+), 2 deletions(-)

commit a8036d29e0d50e4753b152803b13e1337800c67c
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Jan 20 09:07:33 2015 -0800

    DRILL-2030: fix column prefix for CTAS when query has select * and expression.
    
    Code refactor.

 .../physical/visitor/StarColumnConverter.java      | 56 +++++++++++++++-------
 .../planner/sql/handlers/DefaultSqlHandler.java    |  2 +-
 .../physical/impl/writer/TestParquetWriter.java    |  8 ++++
 3 files changed, 49 insertions(+), 17 deletions(-)

commit 8103099e02fea0a93788155c1f7e95532b9d82f2
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Jan 20 10:37:14 2015 -0800

    DRILL-2043: Fix testStarPartitionFilterOrderBy to be timezone insensitive

 exec/java-exec/src/test/java/org/apache/drill/TestStarQueries.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7b05d080c29022c3d04aba2b721f04f7a9a7f3fc
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Jan 19 17:42:04 2015 -0800

    DRILL-1945: Fix initialization variables for max aggregate function.

 .../src/main/codegen/templates/AggrTypeFunctions1.java         |  8 ++++----
 .../org/apache/drill/exec/fn/impl/TestAggregateFunctions.java  | 10 ++++++++++
 2 files changed, 14 insertions(+), 4 deletions(-)

commit 2fc9d0471f05da9c40277fa6d372f27c726bdf92
Author: Yuliya Feldman <yfeldman@maprtech.com>
Date:   Thu Jan 15 11:56:54 2015 -0800

    DRILL-1699 Make LoadingCache max size configurable

 exec/java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java | 1 +
 .../src/main/java/org/apache/drill/exec/compile/CodeCompiler.java     | 4 +++-
 exec/java-exec/src/main/resources/drill-module.conf                   | 3 ++-
 3 files changed, 6 insertions(+), 2 deletions(-)

commit 49b60caa43a4277916525a2bc5b47d6ed636e383
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Jan 19 09:27:20 2015 -0800

    DRILL-2034: Use the correct schema when creating FileSystem object in HiveScan

 .../org/apache/drill/exec/store/hive/HiveScan.java | 73 +++++++++-------------
 .../drill/exec/TestHivePartitionPruning.java       | 12 +---
 .../apache/drill/exec/TestHiveProjectPushDown.java | 12 +---
 .../drill/exec/fn/hive/TestSampleHiveUDFs.java     | 11 +---
 .../org/apache/drill/exec/hive/HiveTestBase.java   | 44 +++++++++++++
 .../apache/drill/exec/hive/TestHiveStorage.java    | 38 +++++++++++
 .../exec/store/hive/HiveTestDataGenerator.java     | 53 ++++++++++++++--
 7 files changed, 166 insertions(+), 77 deletions(-)

commit 7a136ae009d7c81f6d3532515028652a2da82806
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon Jan 19 18:17:56 2015 -0800

    DRILL-1500: Add unit test case

 .../src/test/java/org/apache/drill/TestStarQueries.java  | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 3d2a3e1c8b27d44c5f28a24f83959a1608c9317c
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Jan 16 11:08:17 2015 -0800

    DRILL-1973: Filter should check for record count before doing evaluation. Fixes NPE.

 .../drill/exec/physical/impl/filter/FilterTemplate2.java   |  3 +++
 .../drill/exec/physical/impl/filter/FilterTemplate4.java   |  3 +++
 .../src/test/java/org/apache/drill/TestExampleQueries.java | 14 ++++++++++++++
 3 files changed, 20 insertions(+)

commit 952114fcdb9b819b546bd0283d30e56027c3f831
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Jan 16 14:38:45 2015 -0800

    DRILL-2014: Add mechanism to detect and prevent registering Drill functions with matching signature.
    Eliminate existing duplicate functions.

 .../src/main/codegen/templates/NullOperator.java   |  4 ++--
 .../drill/exec/expr/fn/DrillFunctionRegistry.java  | 25 +++++++++++++++++++++-
 .../exec/expr/fn/impl/CastBigIntTimeStamp.java     |  2 +-
 .../apache/drill/exec/expr/fn/impl/IsFalse.java    |  4 ++--
 .../apache/drill/exec/expr/fn/impl/IsNotFalse.java |  4 ++--
 .../apache/drill/exec/expr/fn/impl/IsNotTrue.java  |  4 ++--
 .../org/apache/drill/exec/expr/fn/impl/IsTrue.java |  4 ++--
 7 files changed, 35 insertions(+), 12 deletions(-)

commit a418af12bee4df82a0f76bf5cb1ca03a8bcd13e0
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sun Jan 18 15:24:54 2015 -0800

    DRILL-2019: Use correct index for filter evaluation when input to Filter is a SelectionVector2. Add some java doc comments.

 .../drill/exec/physical/impl/filter/FilterTemplate2.java  |  2 +-
 .../apache/drill/exec/planner/physical/FilterPrel.java    |  3 +++
 .../java/org/apache/drill/exec/planner/physical/Prel.java |  7 +++++++
 .../test/java/org/apache/drill/TestExampleQueries.java    | 15 +++++++++++++++
 4 files changed, 26 insertions(+), 1 deletion(-)

commit 31d764d4f67e978f14d3f3dd0ac9c79ac69c532d
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu Jan 15 20:14:21 2015 -0800

    DRILL-2021: In ProjectRecordBatch, for the case where expr != ref, allow duplicates; when projecting, keep track of the used output names

 .../physical/impl/project/ProjectRecordBatch.java  | 17 +----
 .../java/org/apache/drill/TestStarQueries.java     | 86 +++++++++++++++++++++-
 .../testSelStarCommaSameColumnRepeated/q1.tsv      | 25 +++++++
 .../testSelStarCommaSameColumnRepeated/q2.tsv      |  2 +
 .../testSelStarCommaSameColumnRepeated/q3.tsv      | 25 +++++++
 .../testSelStarCommaSameColumnRepeated/q4.tsv      |  2 +
 .../testSelStarMultipleStars/q1.tsv                | 25 +++++++
 .../testSelStarMultipleStars/q2.tsv                |  2 +
 .../q1.tsv                                         | 25 +++++++
 .../q2.tsv                                         |  2 +
 .../testSelStarWithAdditionalColumnLimit/q1.tsv    |  2 +
 11 files changed, 197 insertions(+), 16 deletions(-)

commit 289348f955af620403c4a95b01c065918e3e1510
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Thu Jan 15 15:40:35 2015 -0800

    DRILL-1555: fix a problem in ArraySegment cloning logic

 .../drill/common/expression/PathSegment.java       |  4 +-
 .../drill/common/expression/PathSegmentTests.java  | 45 ++++++++++++++++++++++
 2 files changed, 47 insertions(+), 2 deletions(-)

commit bd4d669d1b836d6990eb3701e81c56f3d109db18
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Jan 9 01:41:53 2015 -0800

    DRILL-1993: Fix allocation issues in HashTable and HashAgg to reduce memory waste

 .../physical/impl/aggregate/HashAggTemplate.java   | 40 ++++++++++++++++++----
 .../physical/impl/common/ChainedHashTable.java     |  1 -
 .../drill/exec/physical/impl/common/HashTable.java |  3 ++
 .../physical/impl/common/HashTableTemplate.java    | 28 ++++++++++-----
 .../org/apache/drill/exec/vector/ObjectVector.java |  6 ++++
 5 files changed, 63 insertions(+), 15 deletions(-)

commit 8cdab2ed7d4c0d57ea668f6387281acbc26f4890
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Dec 30 17:13:35 2014 -0800

    DRILL-1990: Add peak memory allocation in a operator to OperatorStats.

 .../main/java/io/netty/buffer/FakeAllocator.java   |   5 +
 .../org/apache/drill/exec/memory/Accountor.java    |  16 ++-
 .../apache/drill/exec/memory/BufferAllocator.java  |   2 +
 .../drill/exec/memory/TopLevelAllocator.java       |  10 ++
 .../org/apache/drill/exec/ops/OperatorStats.java   |   2 +-
 .../drill/exec/proto/SchemaUserBitShared.java      |  10 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 134 ++++++++++-----------
 .../drill/exec/proto/beans/OperatorProfile.java    |  22 ++--
 protocol/src/main/protobuf/UserBitShared.proto     |   2 +-
 9 files changed, 116 insertions(+), 87 deletions(-)

commit 10fd9e101207d5d861f023e45fb46c0787bf6da0
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Jan 9 00:02:47 2015 -0800

    DRILL-1991: Code indendation and formatting cleanup for few files
    
    + Reformatted using IDE except removing two unused static variables.

 .../exec/physical/impl/aggregate/HashAggBatch.java |  77 ++-
 .../physical/impl/aggregate/HashAggTemplate.java   | 110 ++--
 .../physical/impl/aggregate/HashAggregator.java    |  18 +-
 .../physical/impl/common/ChainedHashTable.java     | 166 ++---
 .../drill/exec/physical/impl/common/HashTable.java |  27 +-
 .../physical/impl/common/HashTableTemplate.java    | 160 +++--
 .../exec/physical/impl/join/HashJoinBatch.java     | 705 ++++++++++-----------
 7 files changed, 654 insertions(+), 609 deletions(-)

commit fe6f7efe75c97e78392231128b1a6a4971a262c5
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Jan 9 10:39:45 2015 -0800

    DRILL-1969: Improve the error message displayed when querying Hive views from Drill

 .../main/java/org/apache/drill/exec/store/hive/HiveStoragePlugin.java | 3 ++-
 .../src/main/java/org/apache/drill/exec/work/foreman/Foreman.java     | 4 +++-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit d60850bcc32f14f154a190ead6c88bb6986dca66
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Jan 13 13:37:38 2015 -0800

    DRILL-2007: Fix database path for hive storage plugin in bootstrap storage plugins file

 .../storage-hive/core/src/main/resources/bootstrap-storage-plugins.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5a280666ecdb236b52de73f57a504bb521e3ea89
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon Jan 12 21:16:47 2015 -0800

    DRILL-1889:  Fix star column prefix and subsume logic, so that query planner handle single table * query properly.
    
    Code revision based on review comment.

 .../drill/exec/planner/StarColumnHelper.java       | 25 ++++++--
 .../exec/planner/common/DrillProjectRelBase.java   | 27 ++++----
 .../physical/visitor/StarColumnConverter.java      | 75 +++++++++++++---------
 .../java/org/apache/drill/TestStarQueries.java     |  8 +++
 4 files changed, 86 insertions(+), 49 deletions(-)

commit 93780281439d8c0a4949dfed054ad34225970665
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Tue Jan 13 18:37:12 2015 -0800

    DRILL-2004: Foreman should account for fragment cancellations or query hangs

 .../drill/exec/rpc/control/WorkEventBus.java       | 14 +---
 .../apache/drill/exec/work/foreman/Foreman.java    | 14 ++--
 .../drill/exec/work/foreman/QueryManager.java      | 13 ++--
 .../drill/exec/work/fragment/FragmentExecutor.java | 79 +++++++++++++++-------
 .../work/fragment/StateTransitionException.java    | 42 ++++++++++++
 5 files changed, 118 insertions(+), 44 deletions(-)

commit 69db15ebbdc3a8f4a038e6f47a0675c32d14cdf4
Author: Yuliya Feldman <yfeldman@maprtech.com>
Date:   Mon Jan 12 14:11:45 2015 -0800

    DRILL-1859 Issue with killing/stopping operator processing - limit is one of the users of this logic

 .../drill/exec/work/batch/ResponseSenderQueue.java |  5 +++
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   | 36 +++++++++++-------
 .../exec/work/batch/TestUnlimitedBatchBuffer.java  | 44 ++++++++++++++++++----
 3 files changed, 65 insertions(+), 20 deletions(-)

commit 2a4107753870aa408447fe6fb0becabcbb0691ef
Author: Yuliya Feldman <yfeldman@maprtech.com>
Date:   Wed Dec 17 14:58:43 2014 -0800

    DRILL-1926 Fix for back pressure logic

 .../drill/exec/work/batch/ResponseSenderQueue.java |  17 ++-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |  21 +++-
 .../exec/work/batch/TestUnlimitedBatchBuffer.java  | 134 +++++++++++++++++++++
 3 files changed, 164 insertions(+), 8 deletions(-)

commit a2190fa0f2376958930edfd90f253a8ef4b5a34a
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Dec 31 14:44:17 2014 -0800

    DRILL-1885: fix a problem regarding ordinal to vector mapping that report incorrect result or fails a query & refactor code, eliminiate redundancy support case insensitive vector lookup yet case sensitive result reporting rely on fields in the order that they show up in the schema while copying vectors

 .../drill/common/collections/MapWithOrdinal.java   | 248 +++++++++++++++++
 .../apache/drill/exec/physical/impl/ScanBatch.java |   4 +-
 .../apache/drill/exec/record/VectorContainer.java  |  14 +-
 .../vector/complex/AbstractContainerVector.java    | 268 +++++++++++++++++--
 .../drill/exec/vector/complex/MapVector.java       | 241 ++++-------------
 .../exec/vector/complex/RepeatedListVector.java    |  50 +---
 .../exec/vector/complex/RepeatedMapVector.java     | 295 +++++++--------------
 ...stractMapVector.java => VectorWithOrdinal.java} |  14 +-
 .../vector/complex/impl/ComplexWriterImpl.java     |   2 +-
 .../complex/impl/RepeatedListReaderImpl.java       |   3 +-
 .../vector/complex/impl/RepeatedMapReaderImpl.java |   2 +-
 .../vector/complex/impl/SingleListReaderImpl.java  |   3 +-
 .../vector/complex/impl/SingleMapReaderImpl.java   |   2 +-
 .../vector/complex/impl/VectorContainerWriter.java |   2 +-
 .../exec/store/parquet/TestParquetComplex.java     |   5 +-
 .../complex/fn/TestJsonReaderWithSparseFiles.java  |   3 -
 .../exec/vector/complex/writer/TestRepeated.java   |   2 +-
 17 files changed, 681 insertions(+), 477 deletions(-)

commit 5b012bf288738c2c76ef75692e4db467a5844574
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon Jan 12 10:58:50 2015 -0800

    DRILL-1500: Partial fix: Don't overwrite top level ProjectPrel that allows duplicates (this was happening during flatten planning phase).

 .../drill/exec/planner/physical/ProjectAllowDupPrel.java    |  6 ++++++
 .../planner/physical/visitor/RewriteProjectToFlatten.java   |  2 +-
 .../planner/physical/visitor/SplitUpComplexExpressions.java |  2 +-
 .../drill/exec/planner/sql/handlers/DefaultSqlHandler.java  | 13 ++++++++-----
 4 files changed, 16 insertions(+), 7 deletions(-)

commit 487d98e58380b888fb11f168459e65a0def9d77f
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu Dec 18 14:22:13 2014 -0800

    DRILL-1874: Support casting empty string to null numeric based on configuration parameter

 .../drill/common/expression/fn/CastFunctions.java  | 84 ++++++++++++++++++++-
 exec/java-exec/src/main/codegen/data/Casts.tdd     | 22 +++++-
 .../templates/CastVarCharToNullableNumeric.java    | 85 +++++++++++++++++++++
 .../templates/Decimal/CastVarCharDecimal.java      | 65 ++++++++++++++--
 .../java/org/apache/drill/exec/ExecConstants.java  |  3 +
 .../exec/expr/ExpressionTreeMaterializer.java      |  5 +-
 .../expr/fn/FunctionImplementationRegistry.java    | 22 +++++-
 .../apache/drill/exec/server/DrillbitContext.java  |  2 +-
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../exec/store/text/DrillTextRecordReader.java     | 17 ++++-
 .../drill/exec/fn/impl/TestCastEmptyStrings.java   | 87 ++++++++++++++++++++++
 exec/java-exec/src/test/resources/emptyStrings.csv |  3 +
 12 files changed, 380 insertions(+), 16 deletions(-)

commit f8206497331e66902fc8779b3e431472a36a2e8b
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Thu Jan 8 09:52:30 2015 -0800

    DRILL-1955: C++ client should provide a clean method for detecting query completion in the async API.

 contrib/native/client/src/clientlib/drillClient.cpp     |  5 +++++
 contrib/native/client/src/clientlib/drillClientImpl.cpp | 14 +++++++-------
 contrib/native/client/src/include/drill/drillClient.hpp | 15 +++++++++++----
 3 files changed, 23 insertions(+), 11 deletions(-)

commit 7638dbb82606c9644d6ad02210fbfd5d8f6ae090
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jan 6 21:52:40 2015 -0800

    DRILL-1947: Cache PStore/EStore instances rather than recreating on each need.  As part of this, make sure that PStoreConfig doesn't use identity equality.

 .../drill/exec/store/hbase/config/HBasePStore.java |  4 ++
 .../drill/exec/store/mongo/config/MongoPStore.java |  4 ++
 .../org/apache/drill/exec/server/Drillbit.java     |  9 ++-
 .../drill/exec/store/sys/CachingStoreProvider.java | 70 ++++++++++++++++++++++
 .../drill/exec/store/sys/EStoreProvider.java       |  4 +-
 .../org/apache/drill/exec/store/sys/PStore.java    |  2 +
 .../apache/drill/exec/store/sys/PStoreConfig.java  | 47 +++++++++++++++
 .../drill/exec/store/sys/PStoreProvider.java       |  4 +-
 .../drill/exec/store/sys/PStoreRegistry.java       |  2 +-
 .../drill/exec/store/sys/local/FilePStore.java     |  4 ++
 .../exec/store/sys/local/LocalEStoreProvider.java  | 23 ++++---
 .../drill/exec/store/sys/local/MapEStore.java      |  6 +-
 .../exec/store/sys/local/NoWriteLocalPStore.java   |  4 ++
 .../store/sys/serialize/JacksonSerializer.java     | 40 +++++++++++++
 .../exec/store/sys/serialize/ProtoSerializer.java  | 38 ++++++++++++
 .../drill/exec/store/sys/zk/ZkAbstractStore.java   | 17 +++++-
 .../drill/exec/store/sys/zk/ZkEStoreProvider.java  |  8 +++
 .../drill/exec/store/sys/zk/ZkPStoreProvider.java  | 14 ++---
 18 files changed, 265 insertions(+), 35 deletions(-)

commit 1552c96f4ee511af851cb241d0eb4bf3ec4ac4c7
Author: AdamPD <adam@pharmadata.net.au>
Date:   Thu Jan 8 16:48:50 2015 +1000

    Fix partial page reading issue with HDFS

 .../java/org/apache/drill/exec/store/parquet/ColumnDataReader.java    | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 35a350fd381d839b3a51587092779fd822a19734
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Jan 7 15:22:27 2015 -0800

    DRILL-850: Already fixed previously; added unit tests for multiple count distincts with hash agg and streaming agg (single and multiphase).

 .../test/java/org/apache/drill/TestExampleQueries.java  | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 5cdd71986e4589c1a3f95a3c3c4200722e562dae
Author: Aditya Kishore <adi@apache.org>
Date:   Mon Jan 5 21:59:05 2015 -0800

    DRILL-1935: Use single quote around encoding type in ExpressionStringBuilder.visitConvertExpression()

 .../org/apache/drill/common/expression/ExpressionStringBuilder.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eced8bbdbd6f8f6a7d884a6ff00d09e8e888d319
Author: Aditya Kishore <adi@apache.org>
Date:   Mon Jan 5 14:39:31 2015 -0800

    DRILL-1931: byte_substr() does not set the 'start' field of output holder correctly

 .../apache/drill/exec/expr/fn/impl/ByteSubstring.java   | 17 ++++++-----------
 1 file changed, 6 insertions(+), 11 deletions(-)

commit 8a9f02a084a7faab503692c7271803cd88ce05fb
Author: Aditya Kishore <adi@apache.org>
Date:   Thu Jan 1 23:48:14 2015 -0800

    DRILL-1919: Running DRILL with JRE results in failure with ambiguous errors

 .../org/apache/drill/exec/compile/JDKClassCompiler.java    | 14 ++++++++++----
 .../org/apache/drill/exec/compile/QueryClassLoader.java    |  5 +++--
 2 files changed, 13 insertions(+), 6 deletions(-)

commit 363d30b54255840daa46959e1f7d8b2a779fa692
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Fri Jan 2 15:22:31 2015 -0800

    DRILL-1361: C++ Client needs a better error message when the handshake fails.

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 7 ++++++-
 contrib/native/client/src/clientlib/errmsgs.cpp         | 2 +-
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 4304b25e8246970163966e5790231d7ffdbd308f
Author: norrislee <norrislee18@hotmail.com>
Date:   Tue Jan 6 14:44:00 2015 -0800

    DRILL-1498 Drill Client to handle spurious results and handshake messages

 .../client/src/clientlib/drillClientImpl.cpp       | 41 ++++++++++++++++++++--
 contrib/native/client/src/clientlib/rpcDecoder.cpp |  2 ++
 contrib/native/client/src/clientlib/rpcMessage.hpp |  4 +++
 3 files changed, 44 insertions(+), 3 deletions(-)

commit 621527d580e447c38952fa9046703811388b670c
Author: Xiao Meng <xiaom.cs@gmail.com>
Date:   Mon Nov 24 14:41:55 2014 -0800

    DRILL-1776: C++ Client. Add interface to get application context.

 contrib/native/client/src/clientlib/drillClient.cpp     | 3 +++
 contrib/native/client/src/include/drill/drillClient.hpp | 4 ++++
 2 files changed, 7 insertions(+)

commit 07f276d686c99bc6485661ece0425c1a187aa802
Author: norrislee <norrislee18@hotmail.com>
Date:   Mon Jan 5 15:28:34 2015 -0800

    DRILL-1533: C++ Drill Client always sets hasSchemaChanged to true for every new record batch

 .../client/src/clientlib/drillClientImpl.cpp       | 51 ++++++++++------------
 1 file changed, 23 insertions(+), 28 deletions(-)

commit b491cdb37ea066e2aa041fcca706cc62c8881767
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Dec 23 09:49:58 2014 -0800

    DRILL-1905: There are 3 parts of the fix: (1) Check compatibility during initial creation, not during copy() of Union rels, (2) Added implementations of isDistinct() and getFamily() in Drill specific derived classes, (3) In Calcite, add processing of ANY type in leastRestrictiveSqlType().
    
    Bump up the Calcite version to 0.9-drill-r16

 .../apache/drill/exec/planner/common/DrillUnionRelBase.java  | 12 +++++++++---
 .../org/apache/drill/exec/planner/logical/DrillUnionRel.java |  7 ++++---
 .../apache/drill/exec/planner/logical/DrillUnionRule.java    |  3 ++-
 .../org/apache/drill/exec/planner/physical/UnionAllPrel.java |  9 ++++++---
 .../apache/drill/exec/planner/physical/UnionAllPrule.java    |  4 +++-
 .../drill/exec/planner/physical/UnionDistinctPrel.java       |  8 +++++---
 .../drill/exec/planner/physical/UnionDistinctPrule.java      |  4 +++-
 .../org/apache/drill/exec/planner/physical/UnionPrel.java    |  5 +++--
 .../drill/exec/planner/types/RelDataTypeDrillImpl.java       |  5 +++++
 .../src/test/java/org/apache/drill/TestUnionAll.java         | 10 ++++++++++
 pom.xml                                                      |  2 +-
 11 files changed, 51 insertions(+), 18 deletions(-)

commit c051bbd888ad1db5de54283d0e80ac9a08accac5
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Mon Nov 10 14:20:57 2014 -0800

    DRILL-1568: C++ Client - Handle Query Cancel

 contrib/native/client/example/querySubmitter.cpp   |  13 +-
 .../client/src/clientlib/drillClientImpl.cpp       | 210 ++++++++++++++-------
 .../client/src/clientlib/drillClientImpl.hpp       |  23 ++-
 contrib/native/client/src/clientlib/errmsgs.cpp    |   8 +-
 contrib/native/client/src/include/drill/common.hpp |   1 +
 5 files changed, 178 insertions(+), 77 deletions(-)

commit 8afe10f2037612c2fd9cf46fc20e81dd73ad6d24
Author: Aditya Kishore <adi@apache.org>
Date:   Thu Jan 1 00:00:00 2015 -0800

    DRILL-1917: Limit the number of results from HBasePStore.iterator() to MaxIteratorSize in BLOB_PERSISTENT mode
    
    *** Wishing everyone a Happy New Year ***

 .../apache/drill/exec/store/hbase/config/HBasePStore.java | 15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit 7b07e7bc0339f0ec13d151dca216b1beae8c20e6
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Dec 18 23:56:58 2014 -0800

    DRILL-1786: Filter Pushdown into InfoSchema POJO Record Generator

 .../planner/sql/handlers/DescribeTableHandler.java |  19 +-
 .../planner/sql/handlers/ShowSchemasHandler.java   |   9 +-
 .../planner/sql/handlers/ShowTablesHandler.java    |  13 +-
 .../exec/store/ischema/InfoSchemaBatchCreator.java |   2 +-
 .../exec/store/ischema/InfoSchemaConstants.java    |  51 +++++
 .../drill/exec/store/ischema/InfoSchemaFilter.java | 215 +++++++++++++++++++++
 .../store/ischema/InfoSchemaFilterBuilder.java     | 158 +++++++++++++++
 .../exec/store/ischema/InfoSchemaGroupScan.java    |  47 ++++-
 .../InfoSchemaPushFilterIntoRecordGenerator.java   | 114 +++++++++++
 .../store/ischema/InfoSchemaStoragePlugin.java     |  17 +-
 .../exec/store/ischema/InfoSchemaSubScan.java      |  12 +-
 .../drill/exec/store/ischema/InfoSchemaTable.java  |  66 +++----
 .../drill/exec/store/ischema/RecordGenerator.java  |  51 +++--
 .../drill/exec/store/ischema/SelectedTable.java    |   3 +-
 .../ischema/TestInfoSchemaFilterPushDown.java      | 121 ++++++++++++
 15 files changed, 817 insertions(+), 81 deletions(-)

commit 7498c2de53a9b967acf7d1edfb9f5df7e1c4bdc9
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon Dec 29 15:28:45 2014 -0800

    DRILL-1867: Fix case-insensitive matching for subquery. Bump calcite version to r15. Code fix is in calcite

 .../java/org/apache/drill/TestExampleQueries.java  | 41 ++++++++++++++++++++++
 pom.xml                                            |  2 +-
 2 files changed, 42 insertions(+), 1 deletion(-)

commit 309e1bede2cc68bc5ac67067e3de425d0192fbb2
Author: adeneche <adeneche@gmail.com>
Date:   Mon Dec 29 10:15:42 2014 -0800

    DRILL-1845: window function throws an exception

 .../window/StreamingWindowFrameRecordBatch.java    |   1 +
 .../exec/physical/impl/window/TestWindowFrame.java | 137 +++++++++++----------
 2 files changed, 71 insertions(+), 67 deletions(-)

commit b6b139deaade3153a2fb1b9a1b6850fe6d9ee800
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Dec 25 04:37:32 2014 -0800

    DRILL-1898: Add compare_to function for boolean type

 .../drill/exec/expr/fn/impl/BitFunctions.java      | 13 +++++++++
 .../drill/exec/expr/fn/impl/HashFunctions.java     | 34 ++++++++++++++++++++++
 .../drill/exec/fn/impl/TestAggregateFunctions.java | 10 +++++++
 3 files changed, 57 insertions(+)

commit e95e43bd01af2163a026f681f30059f2a2f4ec57
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sat Dec 20 01:56:06 2014 -0800

    DRILL-1860: Bump calcite version to r14
    Add test case for count() of a nullable column within a map, actual fix is in calcite.

 .../drill/exec/fn/impl/TestAggregateFunctions.java | 39 ++++++++++++++++++++++
 pom.xml                                            |  2 +-
 2 files changed, 40 insertions(+), 1 deletion(-)

commit 5f70ba1cd17604d2ccb232ae9715629197389c41
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu Dec 18 18:26:23 2014 -0800

    DRILL-1900: Fix numeric overflow problem in hbase stat calculation.

 .../java/org/apache/drill/exec/store/hbase/HBaseGroupScan.java   | 2 +-
 .../org/apache/drill/exec/store/hbase/TableStatsCalculator.java  | 9 ++++++---
 2 files changed, 7 insertions(+), 4 deletions(-)

commit df56954771950cd850ecae10404007d11d9241cb
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Dec 18 17:40:12 2014 -0800

    DRILL-1824: Fix equality between maps and lists for test framework.
    
    Fix failing test due to not creating hadoop's Text object, as well as lack of equality between these Text objects and a string containing the same text.

 .../drill/exec/util/JsonStringArrayList.java       | 17 ++++++++----
 .../apache/drill/exec/util/JsonStringHashMap.java  | 32 ++++++++++++++++++----
 ...stTestFramework.java => TestFrameworkTest.java} | 22 +++++++++++----
 .../resources/testframework/map_reordering.json    |  7 +++++
 .../resources/testframework/map_reordering2.json   |  7 +++++
 5 files changed, 67 insertions(+), 18 deletions(-)

commit e715a2ce40d4908b82f9518615d9f8f3a994cca2
Author: Aman Sinha <asinha@maprtech.com>
Date:   Thu Dec 18 15:01:30 2014 -0800

    DRILL-1887: Add code-gen for explicitly comparing null values for hash table keys and make corresponding change for hash aggregation and hash join.
    
    Add test cases for joins and aggregations on nullable columns.

 .../physical/impl/aggregate/HashAggTemplate.java   |   3 +-
 .../physical/impl/common/ChainedHashTable.java     |  16 ++-
 .../exec/physical/impl/join/HashJoinBatch.java     |   3 +-
 .../java/org/apache/drill/TestAggNullable.java     |  80 ++++++++++++
 .../java/org/apache/drill/TestJoinNullable.java    | 139 +++++++++++++++++++++
 .../src/test/resources/jsoninput/nullable1.json    |   8 ++
 .../src/test/resources/jsoninput/nullable2.json    |  16 +++
 7 files changed, 261 insertions(+), 4 deletions(-)

commit ac6e913bfaea4b1f453f4b307b456e20dc341dfa
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Wed Dec 17 17:58:58 2014 -0800

    DRILL-1886: Project on subquery containing a union all causes NPE

 .../apache/drill/exec/physical/impl/union/UnionAllRecordBatch.java  | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit e10c2197b3884c9e6879462e0e1057aacadfa47f
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Dec 16 13:57:39 2014 -0800

    DRILL-1871: Compressed JSON read support.

 .../exec/store/easy/json/JSONFormatPlugin.java     |  4 +-
 .../exec/store/easy/json/JSONRecordReader.java     | 15 +++++-
 .../drill/exec/vector/complex/fn/JsonReader.java   |  3 +-
 .../exec/vector/complex/writer/TestJsonReader.java | 54 ++++++++++++++++++++++
 4 files changed, 72 insertions(+), 4 deletions(-)

commit b83be2ebff82fa0c1960e6cf82f9fd35baa44d92
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Dec 11 18:36:54 2014 -0800

    DRILL-1849: Make parquet readers return nullable int instead of nullable bit for unknown columns.

 .../exec/store/parquet/columnreaders/ParquetRecordReader.java    | 9 +++++----
 .../org/apache/drill/exec/store/parquet2/DrillParquetReader.java | 9 +++++----
 2 files changed, 10 insertions(+), 8 deletions(-)

commit d11597e80577f951ffcb9e4f29ad68e76171ae68
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Tue Dec 16 13:17:27 2014 -0800

    DRILL-1848 Unsupported operation exception

 .../drill/exec/physical/impl/xsort/PriorityQueueCopierTemplate.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 33a40e666279c545c83cdcd7f23ee965a03ad873
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Fri Dec 12 13:50:38 2014 -0800

    DRILL-1869: CPP client - Handle nullable varchar columns with all nulls (fixed slicedByteBuf to handle zero length buffers). Also handle case where server sends a record batch where vector value counts  are zero.

 .../native/client/src/clientlib/recordBatch.cpp    |   8 +
 .../client/src/include/drill/recordBatch.hpp       |  33 +-
 .../native/client/src/protobuf/BitControl.pb.cc    |  13 +-
 contrib/native/client/src/protobuf/BitControl.pb.h |   3 +-
 .../native/client/src/protobuf/UserBitShared.pb.cc | 565 ++++++++++++++++++---
 .../native/client/src/protobuf/UserBitShared.pb.h  | 362 +++++++++++++
 6 files changed, 910 insertions(+), 74 deletions(-)

commit 709e976d2c583a62cc314df061d21c2b537b76a1
Author: vsowrirajan <vsowrirajan@maprtech.com>
Date:   Fri Dec 5 17:32:55 2014 -0800

    DRILL-1779 Added functionality for unix_timestamp() similar to MySQL

 .../apache/drill/exec/fn/hive/TestHiveUDFs.java    | 26 +++----
 .../test/resources/functions/hive/GenericUDF.json  |  1 -
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java | 58 +++++++++++++++
 .../drill/exec/fn/impl/TestNewDateFunctions.java   | 86 ++++++++++++++++++++++
 4 files changed, 156 insertions(+), 15 deletions(-)

commit 5c87674bf1a677d9078e9ec7e52d97baad918a76
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Dec 16 09:25:26 2014 -0800

    DRILL-1884: Fix type cast rules to cast varbinary to timestamp

 .../src/main/java/org/apache/drill/exec/resolver/TypeCastRules.java  | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit a16219110055a32b068ac51c9fe9548aea825bc5
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Dec 4 14:39:33 2014 -0800

    DRILL-1883: Fix output type of date, interval arithmetic functions

 .../DateIntervalArithmeticFunctions.java                             | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 4f27b0943d73a9e06474a4a2941976c3d2f55c3e
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Dec 4 00:35:02 2014 -0800

    DRILL-1882: Add cast function from Varbinary to date/time/timestamp
    
    Add bit comparison function

 exec/java-exec/src/main/codegen/data/Casts.tdd     |  4 ++
 .../main/codegen/templates/CastVarCharDate.java    |  2 +-
 .../drill/exec/expr/fn/impl/BitFunctions.java      | 14 +++++++
 .../exec/expr/fn/impl/CastVarBinaryToDate.java     | 43 ----------------------
 .../drill/exec/fn/impl/TestCastFunctions.java      | 38 +++++++++++++++++++
 5 files changed, 57 insertions(+), 44 deletions(-)

commit f516a2011fda6b38c2c75db16c08ab65e8569970
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Dec 3 17:22:48 2014 -0800

    DRILL-584: Prevent second level of implicit casts to be added in ExpressionTreeMaterializer

 .../exec/expr/ExpressionTreeMaterializer.java      |  2 +-
 .../drill/exec/resolver/ExactFunctionResolver.java | 51 ++++++++++++++++++++++
 .../exec/resolver/FunctionResolverFactory.java     |  5 +++
 3 files changed, 57 insertions(+), 1 deletion(-)

commit e07c332139cb211ef49f4ae7977b304a35774a96
Author: Aditya Kishore <adi@apache.org>
Date:   Tue Dec 16 19:32:53 2014 -0800

    DRILL-1881 - Test o.a.d.TestBugFixes#testVersionTable fails while building from source tarball
    
    (cherry picked from commit e3ab2c1760ad34bda80141e2c3108f7eda7c9104)

 .../java/org/apache/drill/exec/store/sys/VersionIterator.java | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit f76c6c7b5d2bcef18b2ece8df7290487d59a1ddf
Author: Aditya Kishore <adi@apache.org>
Date:   Tue Dec 16 17:04:08 2014 -0800

    DRILL-1879: Unit test failures on Windows
    
    (cherry picked from commit 9360e250b71a764af322a6b7d8808eab49387945)

 .../test/java/org/apache/drill/BaseTestQuery.java  | 40 ++++++++--------------
 .../test/java/org/apache/drill/PlanTestBase.java   |  4 +--
 .../test/java/org/apache/drill/TestBuilder.java    |  2 +-
 3 files changed, 17 insertions(+), 29 deletions(-)

commit f4f55439a5b956312779f8e256296f9156d86c6b
Author: Aditya Kishore <adi@apache.org>
Date:   Tue Dec 16 14:02:19 2014 -0800

    DRILL-1878: Unable to start Drillbit in distributed mode on Windows
    
    (cherry picked from commit 0831d72efffffb48511ab01776c66fce0c7dc7ef)

 .../src/main/java/org/apache/drill/exec/store/sys/local/FilePStore.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6e21eac85f4288e024af558a2b20018cae4ee91a
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Dec 17 13:39:44 2014 -0800

    DRILL-1561: Add test case for doing 2 phase aggregation after order-by (already fixed by DRILL-1846).

 .../src/test/java/org/apache/drill/TestExampleQueries.java       | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit d2c58291846f2b39fd2ef42d4b8c526484d5992b
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Tue Nov 18 17:22:07 2014 -0800

    DRILL-1828: In ProjectRecordBatch, add a case for expression classification

 .../exec/physical/impl/project/ProjectRecordBatch.java   | 16 +++++++++++++++-
 .../src/test/java/org/apache/drill/TestStarQueries.java  |  6 ++++++
 2 files changed, 21 insertions(+), 1 deletion(-)

commit 089ebe13396c2ae99effd53b82463e8b02bd3fba
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Fri Dec 12 11:26:24 2014 -0800

    DRILL-1825: In ProjectRecordBatch, avoid  requesting memory (will result in memory leak) when no output column is needed

 .../apache/drill/exec/physical/impl/project/ProjectRecordBatch.java | 6 ++++++
 exec/java-exec/src/test/java/org/apache/drill/TestStarQueries.java  | 5 +++++
 2 files changed, 11 insertions(+)

commit d2103dbc00073d72074fa2b718aa3f893760bb2e
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Dec 16 17:50:10 2014 -0800

    DRILL-1873: Fix boolean type writing in parquet record writer.

 .../src/main/codegen/templates/ParquetOutputRecordWriter.java     | 1 +
 .../apache/drill/exec/physical/impl/writer/TestParquetWriter.java | 8 ++++++++
 2 files changed, 9 insertions(+)

commit 9dfa4a1c5095a238a2764ce68d6cb49ad62f11b1
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Dec 14 21:19:27 2014 -0800

    Disable flapping limit tests: to be fixed as part of DRILL-1866

 exec/java-exec/src/test/java/org/apache/drill/TestExampleQueries.java | 2 ++
 1 file changed, 2 insertions(+)

commit 30f8def0712f8ca827b484e543a4c4ec860d8f21
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Dec 13 22:35:03 2014 -0800

    DRILL-1865: Reduce buffer size for the rpc buffer

 exec/java-exec/src/main/resources/drill-module.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 26f97cc5d672c7125988b231a07b303ca8c08431
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Dec 13 22:34:34 2014 -0800

    DRILL-1864: Remove incubator disclaimer

 DISCLAIMER                        | 5 -----
 distribution/src/assemble/bin.xml | 4 ----
 2 files changed, 9 deletions(-)

commit 1683fb72966d090db03fb6f1f5f788f78f0c10bf
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Dec 12 17:13:57 2014 -0800

    DRILL-391:  Test case for large IN list (actual fix/workaround is in Calcite version 0.9-drill-r12).
    
    Bump up Calcite version to 0.9-drill-r12.

 .../src/test/java/org/apache/drill/TestInList.java | 40 ++++++++++++++++++++++
 pom.xml                                            |  2 +-
 2 files changed, 41 insertions(+), 1 deletion(-)

commit 7980a7137da7c18e49709a2da0fd9cce3e485507
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Dec 12 19:09:56 2014 -0800

    DRILL-1788: Test for case-insensitive join. Fix is in Calcite version 0.9-drill-r11.
    
    Bump up optiq version to 0.9-drill-r11.
    
    Refactor TestExampleQueries by moving the Star queries to separate test file.

 .../java/org/apache/drill/TestExampleQueries.java  | 191 +------------------
 .../java/org/apache/drill/TestStarQueries.java     | 211 +++++++++++++++++++++
 pom.xml                                            |   2 +-
 3 files changed, 218 insertions(+), 186 deletions(-)

commit bc7d1a0fdad4e5266fdde1eb7e2175d7c5f9ed1e
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Dec 12 08:14:21 2014 -0800

    DRILL-1846: Use max receiver width during stats collection for parallelism planning.  SingleMergeExchange and UnionExchange have a max receive width of 1.  Others can go higher.

 .../apache/drill/exec/physical/base/AbstractExchange.java |  5 +++++
 .../org/apache/drill/exec/physical/base/Exchange.java     |  8 ++++++++
 .../drill/exec/physical/config/SingleMergeExchange.java   |  5 +++++
 .../apache/drill/exec/physical/config/UnionExchange.java  |  5 +++++
 .../drill/exec/planner/fragment/StatsCollector.java       |  2 ++
 .../test/java/org/apache/drill/TestExampleQueries.java    | 15 +++++++++++++++
 6 files changed, 40 insertions(+)

commit d120c399dc5f75968f95a5f06f3ec23c2f248bcc
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Thu Dec 11 18:25:25 2014 -0800

    DRILL-1848: Specify value of MAX_QUERY_MEMORY_PER_NODE_KEY in bytes instead of MB. Fixes the external sort running out of memory.

 exec/java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e735808cd743e65f55cb9a5650afc8d334fb37fc
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Thu Dec 11 15:06:51 2014 -0800

    DRILL-1845: Do not pass partition columns to parquet reader

 .../java/org/apache/drill/exec/physical/base/GroupScan.java |  3 ++-
 .../drill/exec/store/parquet/ParquetScanBatchCreator.java   | 13 +++++++++----
 2 files changed, 11 insertions(+), 5 deletions(-)

commit 08e555e6946a0ca927a6121e5799e482247eed35
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Thu Dec 11 11:23:12 2014 -0800

    DRILL-1843: Support per-batch schema change at RecordBatchLoader

 .../drill/exec/record/RecordBatchLoader.java       | 22 +++++++++++++---------
 1 file changed, 13 insertions(+), 9 deletions(-)

commit e536d6b4edcdf933bc6e539e97adebc451bbc922
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Dec 10 21:10:25 2014 -0800

    DRILL-1839: Clean up complex writers per batch if project has a ComplexWriter function evaluation

 .../org/apache/drill/exec/physical/impl/project/ProjectRecordBatch.java | 2 ++
 1 file changed, 2 insertions(+)

commit a0b16ce756bc3a030ef2ab62ead4536602a01151
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Dec 10 19:31:15 2014 -0800

    DRILL-1838: MapVector should late bind/replace vector if current vector is null valued

 .../drill/exec/vector/complex/MapVector.java       | 35 ++++++++++++++++------
 1 file changed, 26 insertions(+), 9 deletions(-)

commit cc3357997ed336f7339ec452b56e6954d41cb2da
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Dec 9 23:01:27 2014 -0800

    DRILL-1835: Fix sort and join when results include complex types

 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  12 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |  17 ++-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  13 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |   6 +
 .../exec/store/parquet2/DrillParquetReader.java    |  19 +--
 .../apache/drill/TestTpchDistributedStreaming.java | 154 +++++++++++++++++++++
 .../exec/store/parquet/TestParquetComplex.java     |  58 ++++++++
 .../store/parquet/complex/baseline_sorted.json     | 109 +++++++++++++++
 8 files changed, 369 insertions(+), 19 deletions(-)

commit df20bd7c5eb79ecaa06fc638f6d99ed6379bc376
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Fri Dec 5 10:45:49 2014 -0800

    DRILL-1811: select A, * from ... crashes JVM

 .../apache/drill/exec/physical/impl/project/ProjectRecordBatch.java | 6 ++----
 .../src/test/java/org/apache/drill/TestExampleQueries.java          | 6 ++++++
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 2396670edfbc7d6a0af9ac670f7b02515d468eb8
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Dec 9 03:00:02 2014 -0800

    DRILL-1830: Fix reading map type in parquet reader

 .../exec/store/parquet2/DrillParquetReader.java    | 84 +++++++++++-----------
 .../exec/store/parquet/TestParquetComplex.java     | 33 +++++++++
 .../resources/store/parquet/complex/baseline5.json | 26 +++++++
 .../resources/store/parquet/complex/baseline6.json | 36 ++++++++++
 .../resources/store/parquet/complex/baseline7.json | 16 +++++
 5 files changed, 154 insertions(+), 41 deletions(-)

commit bd3e9138aa4ffe38269c09aea740f08bd6b41355
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Dec 7 22:11:49 2014 -0800

    DRILL-1769: Fix issue where option manager not holding settings.

 .../exec/server/options/FallbackOptionManager.java | 10 +++--
 .../exec/server/options/InMemoryOptionManager.java |  5 +++
 .../drill/exec/server/options/OptionList.java      |  4 ++
 .../exec/server/options/QueryOptionManager.java    |  9 +++++
 .../drill/exec/store/sys/SystemTablePlugin.java    |  1 -
 .../test/java/org/apache/drill/BaseTestQuery.java  |  8 ++++
 .../test/java/org/apache/drill/TestBuilder.java    |  8 ++++
 .../drill/exec/store/sys/TestSystemTable.java      | 47 ++++++++++++++++++++++
 8 files changed, 87 insertions(+), 5 deletions(-)

commit dcc9bb2d52953b3b9e59b7bea55f9a66af4c7855
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Dec 7 15:57:39 2014 -0800

    DRILL-1822: Update direct memory access operations to always be protected by bounds checking unless specifically disabled using the system property -Dbounds=false and Java assertions are also disabled.

 .../main/codegen/templates/CastVarCharDate.java    |  2 +-
 .../codegen/templates/ComparisonFunctions.java     |  4 +-
 .../codegen/templates/VarCharAggrFunctions1.java   |  2 +-
 .../src/main/java/io/netty/buffer/DrillBuf.java    | 32 +++++++++++----
 .../exec/expr/fn/impl/ByteFunctionHelpers.java     | 48 ++++++++++++++++++----
 .../exec/expr/fn/impl/CastVarBinaryToDate.java     |  2 +-
 .../exec/expr/fn/impl/SimpleRepeatedFunctions.java |  3 +-
 .../exec/expr/fn/impl/StringFunctionHelpers.java   | 13 +++++-
 .../org/apache/drill/exec/expr/fn/impl/XXHash.java | 13 +++++-
 .../org/apache/drill/exec/util/AssertionUtil.java  |  6 ++-
 .../exec/fn/impl/TestByteComparisonFunctions.java  | 20 ++++-----
 11 files changed, 107 insertions(+), 38 deletions(-)

commit d092ae72e6d8980a9f9f679e17799e4b0bb804ae
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Dec 7 15:55:06 2014 -0800

    DRILL-1821: Fix issue where schema changes for previously defined field.

 .../drill/exec/physical/impl/OutputMutator.java    | 36 +++++++++++++++++++---
 .../apache/drill/exec/physical/impl/ScanBatch.java | 16 ++++------
 .../drill/exec/record/MaterializedField.java       |  9 +-----
 .../apache/drill/exec/record/VectorContainer.java  | 10 +-----
 .../test/java/org/apache/drill/BaseTestQuery.java  |  3 ++
 .../test/java/org/apache/drill/TestBuilder.java    |  5 ++-
 .../apache/drill/exec/store/TestOutputMutator.java |  4 ---
 .../store/parquet/ParquetRecordReaderTest.java     |  5 ---
 .../exec/vector/complex/writer/TestJsonReader.java | 27 ++++++++--------
 .../resources/vector/complex/writer/expected.json  |  4 +++
 .../vector/complex/writer/schemaChange/f1.json     |  2 ++
 .../vector/complex/writer/schemaChange/f2.json     |  2 ++
 12 files changed, 68 insertions(+), 55 deletions(-)

commit 54ce3d375258d973edb3f024fb79f4372ffdc708
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sun Dec 7 03:33:51 2014 -0800

    DRILL-1818: Fix complex projection pushdown
    
    Also fixes:
    Issue where converted type was lost when projecting two elements in a repeated type
    Issue when selecting multiple elements in a repeated type, but using inconsistent casing

 .../exec/store/parquet2/DrillParquetReader.java    |  48 ++++++---
 .../drill/exec/vector/complex/MapVector.java       |   4 +-
 .../exec/store/parquet/TestParquetComplex.java     |  88 +++++++++++++++++
 .../resources/store/parquet/complex/baseline.json  | 109 +++++++++++++++++++++
 .../resources/store/parquet/complex/baseline2.json |  11 +++
 .../resources/store/parquet/complex/baseline3.json |  10 ++
 .../resources/store/parquet/complex/baseline4.json |  16 +++
 .../store/parquet/complex/complex.parquet          | Bin 0 -> 2055 bytes
 8 files changed, 272 insertions(+), 14 deletions(-)

commit 3abba58a2971a8de6a62f7951f75dab79d6086f6
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Dec 3 17:26:49 2014 -0800

    Bump version to 0.8.0-SNAPSHOT

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/interpreter/pom.xml                     | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/pom.xml                                 | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 18 files changed, 18 insertions(+), 18 deletions(-)

commit 142e5776115663af2278d3e4dfc68ea529595a47
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Dec 4 18:37:36 2014 -0800

    DRILL-1814: Check if writer state is OK before performing copy in copyAsValue() and copyAsField()

 .../src/main/codegen/templates/ComplexReaders.java | 24 ++++++++++++++--------
 .../complex/impl/RepeatedListReaderImpl.java       |  4 ++--
 .../vector/complex/impl/RepeatedMapReaderImpl.java |  4 ++--
 .../vector/complex/impl/SingleMapReaderImpl.java   | 12 +++++++----
 4 files changed, 28 insertions(+), 16 deletions(-)

commit 0ed30a8245673c63588302698ac69aeb2e15e322
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Dec 4 21:21:21 2014 -0800

    DRILL-1813: Fix race condition in UnlimitedRawBatchBuffer
    
    Also change propagated exception to IOException instead of RuntimeException.
    
    Don't mark a fragment as failed if it has been cancelled.

 .../org/apache/drill/exec/ops/FragmentContext.java | 30 +++++++++++++++++-----
 .../exec/rpc/data/DataResponseHandlerImpl.java     |  7 ++++-
 .../org/apache/drill/exec/rpc/data/DataServer.java |  2 +-
 .../drill/exec/work/batch/IncomingBuffers.java     | 21 +++++----------
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |  9 +++++--
 .../apache/drill/exec/work/foreman/Foreman.java    |  2 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |  2 ++
 .../drill/exec/work/fragment/FragmentManager.java  |  6 +++--
 .../exec/work/fragment/NonRootFragmentManager.java |  2 +-
 .../exec/work/fragment/RootFragmentManager.java    |  3 ++-
 10 files changed, 53 insertions(+), 31 deletions(-)

commit d15ba1210fc0fcb01832080cb57b78f56497c5e8
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Dec 4 21:17:12 2014 -0800

    DRILL-1812: Avoid calling stop() in SingleSender in rpc thread

 .../java/org/apache/drill/exec/physical/impl/SingleSenderCreator.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4a4f54a54d6454143ba90f9a2a2ecdc8f38e2910
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Dec 3 20:02:30 2014 -0800

    Disable failing large compilation test due to overuse of memory on fast schema return.  To be fixed as part of DRILL-1808

 .../java/org/apache/drill/exec/compile/TestLargeFileCompilation.java   | 3 +++
 1 file changed, 3 insertions(+)

commit 58994af57cb65752027b121acc659ca8afa0ae45
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Dec 2 18:37:01 2014 -0800

    DRILL-1803: Update version to TLP and remove reference to incubator in README.md

 README.md                                    | 4 ++--
 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/interpreter/pom.xml                     | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/pom.xml                                 | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 19 files changed, 20 insertions(+), 20 deletions(-)

commit 1f18c8426cf5899eff1ebb119c42a6c430ec3666
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Tue Dec 2 17:18:06 2014 -0800

    DRILL-1800: Drillbit not sending completed status message

 .../org/apache/drill/exec/physical/impl/ScreenCreator.java  |  4 ++++
 .../java/org/apache/drill/exec/work/foreman/Foreman.java    | 13 ++++++-------
 2 files changed, 10 insertions(+), 7 deletions(-)

commit 757e9a2e6e92e816784f1a85a9e031991b38c7fe
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Tue Nov 25 20:52:14 2014 -0800

    DRILL-1718: do not type cast repeated parameters to non-repeated ones and vice versa

 .../src/main/java/org/apache/drill/exec/resolver/TypeCastRules.java    | 3 +++
 1 file changed, 3 insertions(+)

commit 98a90d6e8aa261a6fbcc574b6dac2f70a1638938
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon Dec 1 20:52:01 2014 -0800

    DRILL-1764: return max value capacity if vector has no children

 .../drill/exec/store/mongo/MongoRecordReader.java  |  2 +-
 .../exec/store/easy/json/JSONRecordReader.java     |  9 +++--
 .../drill/exec/vector/complex/MapVector.java       |  2 +-
 .../drill/exec/vector/complex/fn/JsonReader.java   | 38 ++++++++++++----------
 .../vector/complex/impl/VectorContainerWriter.java |  8 ++---
 .../exec/store/json/TestJsonRecordReader.java      |  6 ++++
 .../test/resources/store/json/value-capacity.json  |  2 ++
 7 files changed, 39 insertions(+), 28 deletions(-)

commit 3581a327e3fad7045615fe03f4da16f1a7f95757
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Nov 19 18:08:18 2014 -0800

    DRILL-1781: Fast Complex Schema

 .../apache/drill/exec/physical/impl/RootExec.java  |  5 --
 .../apache/drill/exec/physical/impl/ScanBatch.java | 42 +----------
 .../drill/exec/physical/impl/ScreenCreator.java    | 27 +------
 .../exec/physical/impl/SingleSenderCreator.java    | 26 -------
 .../drill/exec/physical/impl/TopN/TopNBatch.java   | 78 ++++++++++++--------
 .../exec/physical/impl/WriterRecordBatch.java      | 19 ++---
 .../exec/physical/impl/aggregate/HashAggBatch.java | 50 ++++++-------
 .../physical/impl/aggregate/StreamingAggBatch.java | 43 ++++++-----
 .../broadcastsender/BroadcastSenderRootExec.java   | 28 --------
 .../physical/impl/filter/FilterRecordBatch.java    |  4 --
 .../physical/impl/flatten/FlattenRecordBatch.java  | 33 ---------
 .../exec/physical/impl/join/HashJoinBatch.java     | 51 ++++++-------
 .../drill/exec/physical/impl/join/JoinStatus.java  | 29 ++++++--
 .../exec/physical/impl/join/MergeJoinBatch.java    | 74 +++++++++----------
 .../exec/physical/impl/limit/LimitRecordBatch.java | 18 +++--
 .../impl/mergereceiver/MergingRecordBatch.java     | 57 +++++++++------
 .../partitionsender/PartitionSenderRootExec.java   | 24 +++----
 .../impl/partitionsender/PartitionerTemplate.java  |  1 +
 .../impl/producer/ProducerConsumerBatch.java       | 25 -------
 .../physical/impl/project/ProjectRecordBatch.java  | 39 ++++++----
 .../impl/svremover/RemovingRecordBatch.java        | 10 +--
 .../physical/impl/union/UnionAllRecordBatch.java   | 22 ++----
 .../unorderedreceiver/UnorderedReceiverBatch.java  | 10 +--
 .../validate/IteratorValidatorBatchIterator.java   |  6 --
 .../window/StreamingWindowFrameRecordBatch.java    |  2 +-
 .../physical/impl/xsort/ExternalSortBatch.java     | 58 ++++++++-------
 .../drill/exec/record/AbstractRecordBatch.java     | 59 ++++++++++++---
 .../exec/record/AbstractSingleRecordBatch.java     | 35 ++++-----
 .../org/apache/drill/exec/record/RecordBatch.java  |  8 ---
 .../org/apache/drill/exec/work/WorkManager.java    | 37 +++++-----
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   | 34 ++++++---
 .../drill/exec/work/fragment/FragmentExecutor.java |  1 -
 .../drill/exec/nested/TestFastComplexSchema.java   | 83 ++++++++++++++++++++++
 .../drill/exec/physical/impl/SimpleRootExec.java   | 14 ----
 .../exec/physical/impl/TestCastFunctions.java      |  2 +-
 .../drill/exec/physical/impl/TestDecimal.java      | 10 +--
 .../exec/physical/impl/TestExtractFunctions.java   |  2 +-
 .../exec/physical/impl/TestSimpleFragmentRun.java  |  2 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |  1 +
 .../exec/physical/impl/window/TestWindowFrame.java |  8 ++-
 .../exec/physical/impl/writer/TestWriter.java      |  2 +-
 .../drill/exec/record/vector/TestDateTypes.java    |  2 +-
 .../apache/drill/exec/sql/TestWindowFunctions.java |  2 +
 .../complex/fn/TestJsonReaderWithSparseFiles.java  |  2 +-
 .../exec/vector/complex/writer/TestJsonReader.java |  8 +--
 45 files changed, 537 insertions(+), 556 deletions(-)

commit a60e1dbbfa951ac7966d5d0f61437245ef1a084f
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Nov 30 18:07:07 2014 -0800

    DRILL-1790: Improve DataServer inbound message handling. Throw away the message if the manager is null as this means the fragment was recently finished (limit or otherwise canceled).

 .../java/org/apache/drill/exec/rpc/data/DataServer.java     | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit b218ec038603785fe8ac7449e6e175eed8dd5dfa
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Nov 9 22:35:39 2014 -0800

    DRILL-1774: Update JSON Reader to do single pass reading and better use Jackson's interning.  Also improve projection pushdown support.

 common/pom.xml                                     |  13 +-
 .../drill/exec/store/mongo/MongoRecordReader.java  |  44 +-
 exec/java-exec/pom.xml                             |   2 +-
 .../codegen/templates/AbstractFieldWriter.java     |  11 +-
 .../src/main/codegen/templates/ComplexWriters.java |  35 +-
 .../codegen/templates/NullableValueVectors.java    |   4 +
 .../codegen/templates/RepeatedValueVectors.java    |  11 +
 .../jackson/core/JsonStreamContextExposer.java}    |  18 +-
 .../jackson/core/json/JsonReadContextExposer.java  |  39 ++
 .../exec/expr/fn/impl/conv/JsonConvertFrom.java    |  31 +-
 .../exec/store/easy/json/JSONFormatPlugin.java     |   2 +-
 ...SONRecordReader2.java => JSONRecordReader.java} |  57 ++-
 .../exec/store/easy/json/RewindableUtf8Reader.java | 157 +++++++
 .../vector/complex/fn/DrillBufInputStream.java     |  59 +++
 .../exec/vector/complex/fn/FieldSelection.java     | 154 +++++++
 .../drill/exec/vector/complex/fn/JsonReader.java   | 453 ++++++++++++---------
 .../vector/complex/fn/JsonReaderWithState.java     |  98 -----
 .../vector/complex/fn/JsonRecordSplitterBase.java  | 123 ------
 .../complex/fn/ReaderJSONRecordSplitter.java       | 106 -----
 .../drill/exec/vector/complex/fn/SeekableBAIS.java |  63 +++
 .../vector/complex/fn/UTF8JsonRecordSplitter.java  | 106 -----
 .../exec/physical/impl/flatten/TestFlatten.java    |   2 +-
 ...dReader2Test.java => TestJsonRecordReader.java} |   4 +-
 .../exec/vector/complex/writer/TestJsonReader.java | 155 +------
 .../src/test/resources/parquet/null_test_data.json |  34 +-
 .../resources/store/json/test_flatten_mapify.json  |   1 +
 exec/jdbc/pom.xml                                  |  10 +
 27 files changed, 897 insertions(+), 895 deletions(-)

commit ec486fc61612c13453f5773fe3ffcc8de0777abf
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Nov 21 14:07:29 2014 -0800

    DRILL-1772: Improve error propagation to client for Foreman.

 .../main/java/org/apache/drill/exec/planner/sql/DrillSqlWorker.java   | 4 ++--
 .../src/main/java/org/apache/drill/exec/work/foreman/Foreman.java     | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 3d836b5187e7e1a3c7f7a50eef4d482093e7889f
Author: dbarclay <dbarclay@maprtech.com>
Date:   Thu Nov 20 16:57:34 2014 -0800

    DRILL-1641: Fix failure of kvgen(...) on indexed repeated map.

 .../main/java/org/apache/drill/exec/expr/fn/impl/MappifyUtility.java | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 4af4fcd4667dfbe3ad133b5615726fbbbbae84dd
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Sun Nov 30 16:23:07 2014 -0800

    DRILL-1780: check if result set is empty before accessing;
     show a neat message to the user when resultset is empty; minor refactorings
     to DrillRestServer

 .../drill/exec/server/rest/DrillRestServer.java      | 20 +++++++++-----------
 .../drill/exec/server/rest/QueryResources.java       | 10 +++++++++-
 .../src/main/resources/rest/query/result.ftl         |  8 ++++++--
 3 files changed, 24 insertions(+), 14 deletions(-)

commit 6483eb47769cdc192f11682b35da36cd5e23c81d
Author: Aman Sinha <asinha@mapr.com>
Date:   Wed Nov 19 20:41:10 2014 -0800

    DRILL-1488: Provide configurable option to set the sql identifier max length which is passed to Calcite's SQL parser. Main fix is in Calcite version 0.9-drill-r9 (see CALCITE-464).

 exec/java-exec/src/main/codegen/data/Parser.tdd     |  7 ++++---
 .../exec/planner/physical/PlannerSettings.java      |  9 +++++++++
 .../drill/exec/planner/sql/DrillSqlWorker.java      |  9 +++++++--
 .../impl/DrillParserWithCompoundIdConverter.java    |  6 +++++-
 .../exec/server/options/SystemOptionManager.java    |  1 +
 .../drill/exec/server/options/TypeValidators.java   | 21 +++++++++++++++++++++
 .../java/org/apache/drill/TestExampleQueries.java   | 10 ++++++++++
 .../drill/exec/sql/TestSqlBracketlessSyntax.java    |  4 +++-
 pom.xml                                             |  2 +-
 9 files changed, 61 insertions(+), 8 deletions(-)

commit 3a067cf9f7d824aea297c64db414ec8135e94932
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Nov 26 23:45:09 2014 -0800

    DRILL-1748: Fix SplitUpComplexExpressions rule when using Item operator

 .../exec/planner/physical/visitor/SplitUpComplexExpressions.java   | 7 +------
 .../drill/exec/vector/complex/writer/TestComplexTypeReader.java    | 6 ++++++
 exec/java-exec/src/test/resources/jsoninput/input4.json            | 1 +
 3 files changed, 8 insertions(+), 6 deletions(-)

commit 09aa34b68c97a20412e9917d2ab6bf182477beb4
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Nov 20 18:48:08 2014 -0800

    Fix for flatten receiving a non-repeated type during fast schema step.

 .../apache/drill/exec/physical/impl/flatten/FlattenRecordBatch.java  | 2 ++
 .../org/apache/drill/exec/physical/impl/flatten/TestFlatten.java     | 5 +++++
 .../java-exec/src/test/resources/store/json/nested_repeated_map.json | 1 +
 3 files changed, 8 insertions(+)

commit 0ded8997580125944487c1a7a7b793e7763f1462
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Nov 20 18:09:58 2014 -0800

    DRILL-1787: Fix memory leak in kvgen function.

 .../src/main/java/org/apache/drill/exec/expr/fn/impl/Mappify.java   | 2 +-
 .../java/org/apache/drill/exec/expr/fn/impl/MappifyUtility.java     | 6 ++++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 86a775f1d132d893e8b84081c5889d990f195334
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Nov 20 17:22:40 2014 -0800

    DRILL-1753: Flatten 2 level repeated map

 .../apache/drill/exec/physical/impl/flatten/FlattenRecordBatch.java | 6 ++----
 .../org/apache/drill/exec/vector/complex/RepeatedMapVector.java     | 3 +--
 .../org/apache/drill/exec/physical/impl/flatten/TestFlatten.java    | 5 +++++
 .../src/test/resources/store/json/2_level_repeated_map.json         | 1 +
 4 files changed, 9 insertions(+), 6 deletions(-)

commit 71ad125b410f62b718c7416b02a012f5a6d51c4f
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Wed Nov 19 09:43:04 2014 -0800

    DRILL-1749: Support nested maps in the flatten operator.

 .../physical/impl/flatten/FlattenRecordBatch.java  |  4 +-
 .../drill/exec/vector/complex/MapVector.java       |  5 ++-
 .../exec/physical/impl/flatten/TestFlatten.java    |  5 ++-
 .../resources/store/json/complex_repeated_map.json | 45 ++++++++++++++++++++++
 4 files changed, 56 insertions(+), 3 deletions(-)

commit 32e971126a119dd1594d47962171cf084001295c
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Nov 19 17:47:31 2014 -0800

    DRILL-1775: Fix BINARY ENUM in Parquet converter.

 .../drill/exec/store/parquet/columnreaders/ColumnReaderFactory.java | 4 +++-
 .../store/parquet/columnreaders/ParquetToDrillTypeConverter.java    | 6 +++---
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 116e4dc0442532585ca45d79dd682b555bf6baef
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Nov 25 17:32:29 2014 -0800

    DRILL-1737: Fix decimal handling in unit test framework.

 .../src/test/java/org/apache/drill/TestBuilder.java      |  2 +-
 .../test/java/org/apache/drill/TestTestFramework.java    | 16 +++++++---------
 2 files changed, 8 insertions(+), 10 deletions(-)

commit 1a9543f6707290007779b6b7e3746ff05d882c4f
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Nov 4 17:05:35 2014 -0800

    DRILL-1458: New unit test framework.
    
    Review comments, cleanup, additional tests
    
    Matching columns, throw useful error messages if there are missing or extra columns.
    
    Few more features in unit test framework, providing several baseline records in the builder pattern, allow checking empty result. Added a new unit test to ensure that nulls were validated properly in both the ordered and unordered cases.

 .../java/org/apache/drill/common/types/Types.java  |  53 ++
 .../main/resources/bootstrap-storage-plugins.json  |   5 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |  36 +-
 .../java/org/apache/drill/DrillTestWrapper.java    | 557 +++++++++++++++++++++
 .../java/org/apache/drill/TestAltSortQueries.java  |  10 +-
 .../test/java/org/apache/drill/TestBuilder.java    | 499 ++++++++++++++++++
 .../java/org/apache/drill/TestTestFramework.java   | 397 +++++++++++++++
 .../drill/exec/HyperVectorValueIterator.java       |  98 ++++
 .../physical/impl/writer/TestParquetWriter.java    | 410 +--------------
 .../resources/sort/testSelectWithLimitOffset.tsv   |   5 +
 .../store/json/json_simple_with_null.json          |  16 +
 .../test/resources/testframework/decimal_test.json |   3 +
 .../test/resources/testframework/decimal_test.tsv  |   1 +
 .../schema_change_int_to_string_non-matching.json  |  30 ++
 .../resources/testframework/small_test_data.json   |   5 +
 .../resources/testframework/small_test_data.tsv    |   5 +
 .../testframework/small_test_data_extra.tsv        |   7 +
 .../testframework/small_test_data_extra_col.tsv    |   5 +
 .../testframework/small_test_data_reordered.tsv    |   5 +
 .../small_test_data_reordered_non_match_extra.tsv  |   7 +
 .../small_test_data_reordered_non_match_fewer.tsv  |   3 +
 pom.xml                                            |   1 +
 22 files changed, 1764 insertions(+), 394 deletions(-)

commit 1944b434d7f2ac047d5ca188f14a784da37ce8c6
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Nov 24 22:30:53 2014 -0800

    DRILL-1185: Unit test for delimited text failing in classpath storage plugin.

 .../java-exec/src/test/java/org/apache/drill/TestExampleQueries.java | 5 +++++
 .../src/test/resources/store/text/classpath_storage_csv_test.csv     | 5 +++++
 2 files changed, 10 insertions(+)

commit daaa0c35ee320c977bee7cc315c6428815388d00
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Nov 26 16:57:28 2014 -0800

    DRILL-1729: derive & infer result type for boolean returning custom functions so that optiq can validate and execute user queries seamlessly

 .../drill/exec/expr/fn/DrillFunctionRegistry.java  | 11 +++---
 .../drill/exec/planner/sql/DrillSqlOperator.java   | 33 ++++++++++++++++--
 .../expr/fn/impl/TestSimpleRepeatedFunctions.java  | 40 ++++++++++++++++++++++
 3 files changed, 77 insertions(+), 7 deletions(-)

commit 3119011df44d28d7590de6613f536d64366a1736
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Nov 19 18:06:01 2014 -0800

    DRILL-1743: check capacity before writing into map vector

 exec/java-exec/src/main/codegen/templates/MapWriters.java | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit a94a028cfc37fc5b5e8eed319a389cc74682ba68
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Nov 12 13:03:57 2014 -0800

    DRILL-1660: return accurate buffers size when repeated map vector has no underlying vectors

 .../complex/fn/TestJsonReaderWithSparseFiles.java  | 142 +++++++++++----------
 .../complex/fn/single-record-with-empties.json     |   1 +
 2 files changed, 78 insertions(+), 65 deletions(-)

commit cf9e71d654ddcc203900b4c3187e4bea0ba801d5
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Tue Nov 25 16:57:06 2014 -0800

    DRILL-1739 Handle missing fields in complex parquet reader

 .../store/parquet2/DrillParquetGroupConverter.java |  23 ++--
 .../exec/store/parquet2/DrillParquetReader.java    | 117 ++++++++++++++-------
 2 files changed, 93 insertions(+), 47 deletions(-)

commit 41e444dd51217a0c4b417d3c0b2aed386a287696
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Mon Nov 24 09:48:35 2014 -0800

    DRILL-1738: Allow case insensitive read in Complex parquet reader

 .../store/parquet2/DrillParquetGroupConverter.java |  59 ++++++++++--
 .../exec/store/parquet2/DrillParquetReader.java    | 103 +++++++++++++++------
 .../parquet2/DrillParquetRecordMaterializer.java   |   8 +-
 3 files changed, 134 insertions(+), 36 deletions(-)

commit 163917ea11aea3e3252d3f4209cea7d235f4d656
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Nov 18 17:22:07 2014 -0800

    DRILL-1707: Don't push Filter past Project if the Filter is referencing ITEM expression produced by the Project (this is done as part of a new rule). Enable a few tests in TestProjectPushDown and TestExampleQueries that were marked Ignored earlier.

 .../logical/DrillPushFilterPastProjectRule.java    | 120 +++++++++++++++++++++
 .../drill/exec/planner/logical/DrillRuleSets.java  |  55 +---------
 .../java/org/apache/drill/TestExampleQueries.java  |   1 -
 .../java/org/apache/drill/TestProjectPushDown.java |  47 ++++----
 4 files changed, 143 insertions(+), 80 deletions(-)

commit 774a1f04cd234a318cd25bd242ecface75a2df08
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Thu Nov 13 15:52:31 2014 -0800

    DRILL-1404: Queries with empty results are throwing "HTTP ERROR 500" from Web UI

 .../drill/exec/server/rest/QueryResources.java     | 22 +++++++++++++++--
 .../drill/exec/server/rest/QueryWrapper.java       | 28 +++++++++++++++++++---
 2 files changed, 45 insertions(+), 5 deletions(-)

commit bbf9bc312e9426c6d0f7f08b37878fcc5808382e
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Wed Nov 12 16:48:41 2014 -0800

    DRILL-1376 ORDER BY clause ignored in query run through web UI - Bug fixed

 exec/java-exec/src/main/resources/rest/query/result.ftl | 1 +
 1 file changed, 1 insertion(+)

commit 3193bd41449f9bc10fadd4ef591e1f57fba19cc3
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Mon Nov 17 17:09:00 2014 -0800

    DRILL-1185: Drill not picking up 'text' files from classpath

 .../src/main/java/org/apache/drill/exec/store/ClassPathFileSystem.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 23ee6522881ffabb53a9bb48e946bcbefe534a5c
Author: Hsuan-Yi Chu <hsuanyi@usc.edu>
Date:   Tue Nov 4 14:27:28 2014 -0800

    DRILL-985: Referencing a view via its filename

 .../main/java/org/apache/drill/exec/dotdrill/DotDrillUtil.java | 10 ++++++----
 .../src/test/java/org/apache/drill/TestExampleQueries.java     |  8 ++++++++
 2 files changed, 14 insertions(+), 4 deletions(-)

commit 0a28365a252491b70c9a39a0d49dd68114fdc8fa
Author: Yash Sharma <yash360@gmail.com>
Date:   Mon Nov 24 11:43:43 2014 -0800

    DRILL-1141:ISNUMERIC function

 .../src/main/codegen/data/NumericTypes.tdd         |  32 +++++-
 .../templates/NumericFunctionsTemplates.java       | 120 +++++++++++++++++++++
 .../drill/exec/fn/impl/TestNewMathFunctions.java   |   7 ++
 .../resources/functions/testIsNumericFunction.json |  35 ++++++
 4 files changed, 190 insertions(+), 4 deletions(-)

commit 5fe54e0b13ed5ad2df8d3ba1781c52d02a2c66ef
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Nov 19 15:34:36 2014 -0800

    DRILL-1741: kvgen support for complex values (maps/ lists)

 .../drill/exec/expr/fn/impl/MappifyUtility.java    |   7 +-
 .../drill/exec/vector/complex/MapUtility.java      | 277 ++++++++++-----------
 .../complex/writer/TestComplexTypeReader.java      |  22 ++
 .../resources/jsoninput/kvgen_complex_input.json   |  59 +++++
 4 files changed, 217 insertions(+), 148 deletions(-)

commit fc58c693ae0cd9234e5e62a7602b4cc216b8549d
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Nov 19 09:08:12 2014 -0800

    DRILL-1517: Update Foreman to improve state management.

 .../common/exceptions/ExecutionSetupException.java |  11 +-
 .../drill/exec/store/mongo/MongoGroupScan.java     |   2 +-
 .../drill/exec/coord/zk/ZKClusterCoordinator.java  |  19 +-
 .../exec/exception/FragmentSetupException.java     |   4 +-
 .../drill/exec/exception/OptimizerException.java   |   4 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |   2 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |   2 +
 .../physical}/PhysicalOperatorSetupException.java  |   7 +-
 .../drill/exec/physical/base/AbstractExchange.java |   2 +-
 .../apache/drill/exec/physical/base/Exchange.java  |   2 +-
 .../apache/drill/exec/physical/base/GroupScan.java |   2 +-
 .../org/apache/drill/exec/physical/base/Store.java |   2 +-
 .../exec/physical/config/BroadcastExchange.java    |   2 +-
 .../apache/drill/exec/physical/config/Screen.java  |   2 +-
 .../exec/physical/config/SingleMergeExchange.java  |   2 +-
 .../drill/exec/physical/config/UnionExchange.java  |   2 +-
 .../drill/exec/physical/impl/BatchCreator.java     |   1 +
 .../exec/physical/impl/MergingReceiverCreator.java |   3 +-
 .../drill/exec/planner/fragment/Fragment.java      |   6 +-
 .../planner/fragment/MakeFragmentsVisitor.java     |  14 +-
 .../drill/exec/planner/fragment/Materializer.java  |   3 +-
 .../exec/planner/fragment/SimpleParallelizer.java  |  12 +-
 .../drill/exec/planner/fragment/Wrapper.java       |   4 +-
 .../drill/exec/planner/logical/DirPathBuilder.java |   2 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |   2 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  24 +-
 .../exec/planner/sql/QueryInputException.java      |  51 ++
 .../planner/sql/handlers/AbstractSqlHandler.java   |   7 +-
 .../planner/sql/handlers/CreateTableHandler.java   |   3 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  10 +-
 .../planner/sql/handlers/DescribeTableHandler.java |   3 +-
 .../exec/planner/sql/handlers/ExplainHandler.java  |  10 +-
 .../planner/sql/handlers/SetOptionHandler.java     |   3 +-
 .../planner/sql/handlers/ShowSchemasHandler.java   |   6 +-
 .../planner/sql/handlers/ShowTablesHandler.java    |   6 +-
 .../planner/sql/handlers/UseSchemaHandler.java     |   3 +-
 .../exec/planner/sql/handlers/ViewHandler.java     |   5 +-
 .../drill/exec/rpc/control/WorkEventBus.java       |   5 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |   9 -
 .../drill/exec/store/direct/DirectGroupScan.java   |   2 +-
 .../exec/store/ischema/InfoSchemaGroupScan.java    |   2 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |   2 +-
 .../drill/exec/store/sys/SystemTableScan.java      |   2 +-
 .../org/apache/drill/exec/work/ErrorHelper.java    |   4 +-
 .../apache/drill/exec/work/foreman/Foreman.java    | 620 ++++++++++++++-------
 .../drill/exec/work/foreman/ForemanException.java  |  57 ++
 ...tusReporter.java => ForemanSetupException.java} |  28 +-
 .../drill/exec/work/foreman/QueryManager.java      | 302 ++--------
 .../drill/exec/work/foreman/QueryStatus.java       |  16 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |   9 +-
 .../exec/work/fragment/NonRootFragmentManager.java |   5 +-
 .../apache/drill/exec/work/user/UserWorker.java    |  31 +-
 .../org/apache/drill/exec/pop/PopUnitTestBase.java |   3 +-
 .../org/apache/drill/exec/pop/TestFragmenter.java  |   5 +-
 54 files changed, 743 insertions(+), 604 deletions(-)

commit f2180b8fc1edddc77ad7f6d9c615a4141cdc51ae
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Nov 9 15:17:21 2014 -0800

    DRILL-1591, DRILL-1676: Move javascript resources to local serving and update dagre-d3 to older version (2.9). Update profile page.  Remove references to invalid servlet api.

 contrib/storage-hbase/pom.xml                      |   12 +
 exec/java-exec/pom.xml                             |    6 +
 .../org/apache/drill/exec/server/Drillbit.java     |    9 +-
 .../drill/exec/server/rest/DrillRestServer.java    |    1 -
 .../drill/exec/server/rest/ProfileResources.java   |  162 +-
 .../drill/exec/server/rest/WebResourceServer.java  |   71 -
 exec/java-exec/src/main/resources/rest/generic.ftl |   12 +-
 .../src/main/resources/rest/profile/list.ftl       |   34 +-
 .../src/main/resources/rest/profile/profile.ftl    |    6 +-
 .../resources/rest/static/css/bootstrap.min.css    |    7 +
 .../resources/rest/{www => static/img}/drill.ico   |  Bin
 .../main/resources/rest/static/js/bootstrap.min.js |    6 +
 .../src/main/resources/rest/static/js/d3.v3.js     | 9215 ++++++++++++++++++++
 .../main/resources/rest/static/js/dagre-d3.min.js  |    2 +
 .../resources/rest/{www => static/js}/graph.js     |    0
 .../src/main/resources/rest/static/js/html5shiv.js |    8 +
 .../main/resources/rest/static/js/jquery.form.js   | 1277 +++
 .../main/resources/rest/static/js/jquery.min.js    |    4 +
 .../main/resources/rest/static/js/respond.min.js   |    5 +
 .../src/main/resources/rest/storage/update.ftl     |    2 +-
 exec/jdbc/pom.xml                                  |   10 +-
 pom.xml                                            |   39 +-
 22 files changed, 10715 insertions(+), 173 deletions(-)

commit 2eb72a7c238fe960b61edbae0d3dea1c836c746f
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Nov 9 15:16:52 2014 -0800

    DRILL-1684, DRILL-1517, DRILL-1350: Profile and cancellation updates
    - Remove any storage of persisted profiles.
    - Store a separate query info object for active queries.
    - Update cancellation and running profile loading to query foreman server.
    - Make file store support HDFS APIs
    - Update PStoreProvider to use configuration to decide if you want PERSISTENT, EPHEMERAL, or BLOB storage rather than separate interfaces.
    - Update ZkPStore's persistent mode to leverage a cache and respond to changes rather than actively probing values.
    - Update ZkPStore's cache to be effectively write-through.
    - Automatically delete deprecated or default value options from PStore.

 .../drill/exec/store/hbase/config/HBasePStore.java |   17 +-
 .../store/hbase/config/HBasePStoreProvider.java    |   45 +-
 .../apache/drill/hbase/TestHBaseTableProvider.java |    4 +-
 .../drill/exec/store/mongo/config/MongoPStore.java |   10 -
 .../store/mongo/config/MongoPStoreProvider.java    |   16 +-
 .../drill/exec/rpc/control/ControlRpcConfig.java   |    1 +
 .../drill/exec/rpc/control/ControlTunnel.java      |   20 +
 .../apache/drill/exec/rpc/data/DataRpcConfig.java  |    1 +
 .../exec/server/options/FallbackOptionManager.java |   97 ++
 .../exec/server/options/FragmentOptionManager.java |   50 +-
 .../exec/server/options/InMemoryOptionManager.java |   50 +
 .../exec/server/options/QueryOptionManager.java    |   72 +-
 .../exec/server/options/SessionOptionManager.java  |   71 +-
 .../exec/server/options/SystemOptionManager.java   |   79 +-
 .../drill/exec/store/StoragePluginRegistry.java    |    2 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |    3 +-
 .../org/apache/drill/exec/store/sys/EStore.java    |    6 +-
 .../drill/exec/store/sys/EStoreProvider.java       |    2 +-
 .../org/apache/drill/exec/store/sys/PStore.java    |    6 +-
 .../apache/drill/exec/store/sys/PStoreConfig.java  |   47 +-
 .../drill/exec/store/sys/PStoreProvider.java       |    4 +-
 .../local/{LocalPStore.java => FilePStore.java}    |  141 ++-
 .../exec/store/sys/local/LocalEStoreProvider.java  |   13 +-
 .../exec/store/sys/local/LocalPStoreProvider.java  |   47 +-
 .../drill/exec/store/sys/local/MapEStore.java      |    6 +
 .../exec/store/sys/local/NoWriteLocalPStore.java   |   10 -
 .../drill/exec/store/sys/zk/ZkAbstractStore.java   |   89 +-
 .../drill/exec/store/sys/zk/ZkEStoreProvider.java  |    6 +-
 .../apache/drill/exec/store/sys/zk/ZkPStore.java   |   56 +-
 .../drill/exec/store/sys/zk/ZkPStoreProvider.java  |   61 +-
 .../drill/exec/work/batch/ControlHandlerImpl.java  |   18 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |    2 +-
 .../drill/exec/work/foreman/QueryStatus.java       |   73 +-
 .../apache/drill/exec/work/user/UserWorker.java    |   10 +-
 .../drill/exec/store/sys/PStoreTestUtil.java       |    6 +-
 .../drill/exec/store/sys/TestPStoreProviders.java  |    2 +-
 .../org/apache/drill/exec/proto/BitControl.java    |   29 +-
 .../drill/exec/proto/SchemaUserBitShared.java      |  141 +++
 .../org/apache/drill/exec/proto/UserBitShared.java | 1125 ++++++++++++++++++--
 .../apache/drill/exec/proto/beans/QueryInfo.java   |  253 +++++
 protocol/src/main/protobuf/BitControl.proto        |    1 +
 protocol/src/main/protobuf/UserBitShared.proto     |    7 +
 42 files changed, 2108 insertions(+), 591 deletions(-)

commit 90c12c8ce93fb1451d913f4af4560bd0fb6a5306
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Nov 18 01:06:58 2014 -0800

    DRILL-1673: Set the correct group count in splitAndTransferTo for repeated vectors
    Handle the case in FlattedRecordBatch where we return null internal vectors for repeated lists in the first schema batch

 .../codegen/templates/RepeatedValueVectors.java    |  2 +-
 .../physical/impl/flatten/FlattenRecordBatch.java  | 22 ++++++++++++++++------
 .../complex/writer/TestComplexTypeReader.java      |  5 +++++
 3 files changed, 22 insertions(+), 7 deletions(-)

commit a147bfce09e26820221acf6a825f242702d2d78c
Author: Aditya Kishore <adi@apache.org>
Date:   Sat Nov 15 16:26:02 2014 -0800

    DRILL-1720: Enable incremental maven builds

 pom.xml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 108d29fce3d8465d619d45db5f6f433ca3d97619
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Nov 13 18:32:47 2014 -0800

    DRILL-1635: Additional fix for validation exceptions.

 .../src/main/java/org/apache/drill/exec/work/foreman/Foreman.java     | 4 ++++
 1 file changed, 4 insertions(+)

commit d072f5a7d7c1cbf5f53ddd977d2706e89062da3b
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Thu Nov 13 16:44:42 2014 -0800

    DRILL-1700: Removed incorrect assertion in memory allocation code

 .../src/main/java/org/apache/drill/exec/memory/AtomicRemainder.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 31f2d47c23f8f924e663ee5e34dd55fff1e6a1c3
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Nov 13 15:28:34 2014 -0800

    DRILL-1664: Count(*) returns incorrect result for a parquet file with repeated data.

 .../main/java/org/apache/drill/exec/store/parquet/ParquetGroupScan.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ade74b18dec5645cb8ce1fb4d0aa9ec40839895a
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Nov 13 14:02:51 2014 -0800

    DRILL-1701: Fix for nullable dictionary columns in optimized parquet reader. Re-enable the optimized reader for dictionary encoded files.

 .../drill/exec/store/parquet/ParquetScanBatchCreator.java    | 12 ++----------
 .../parquet/columnreaders/NullableVarLengthValuesColumn.java | 10 +++++-----
 2 files changed, 7 insertions(+), 15 deletions(-)

commit fd54e71e80f083a1b74ee6e702485daa6bc50d13
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Nov 13 02:37:18 2014 -0800

    DRILL-1705: Fix bug when loading nested repeated vectors

 .../src/main/java/org/apache/drill/exec/vector/complex/MapVector.java   | 2 +-
 .../java/org/apache/drill/exec/vector/complex/RepeatedMapVector.java    | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit b37dc08a46dea1b1c0bfeba21ea73dd6ac0116bd
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Wed Nov 12 18:10:32 2014 -0800

    DRILL-1704: Use complex reader for dictionary encoded files, as original reader seems to be broken

 .../drill/exec/store/parquet/ParquetScanBatchCreator.java    | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 116f6d167f77289f1b03e8e0895851a0f1f411eb
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Nov 12 22:02:50 2014 -0800

    DRILL-1702: Fix issue where 4 byte DrillBuf is sent even though there are no values when using varchar or repeated vector.

 .../src/main/codegen/templates/RepeatedValueVectors.java  |  7 +++++--
 .../src/main/codegen/templates/VariableLengthVectors.java |  2 +-
 .../org/apache/drill/exec/record/RecordBatchLoader.java   |  3 +++
 .../drill/exec/store/parquet2/DrillParquetReader.java     |  3 +++
 .../main/java/org/apache/drill/exec/util/VectorUtil.java  |  7 ++++++-
 .../org/apache/drill/exec/vector/complex/MapVector.java   |  3 +++
 .../drill/exec/vector/complex/RepeatedMapVector.java      | 15 ++++++++++++---
 7 files changed, 33 insertions(+), 7 deletions(-)

commit 5ad6774e96b5d79a7864376c5f45bc0ed753b395
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Nov 12 18:25:53 2014 -0800

    DRILL-1610: Don't apply partition pruning optimization if one of the disjuncts don't meet pruning criteria

 .../test/java/org/apache/drill/exec/TestHivePartitionPruning.java   | 5 ++++-
 .../java/org/apache/drill/exec/planner/logical/DirPathBuilder.java  | 6 ++++++
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 3c3b3d55d0b8b71100b2df55d482e89d0f7f0f9c
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sun Nov 9 18:18:47 2014 -0800

    DRILL-1434: In ParquetGroupScan compute the non-null value count of a column if stats are available for each chunk. Don't apply ConvertCountToDirectScan rule if stats are not available.

 .../apache/drill/exec/physical/base/GroupScan.java |  1 +
 .../planner/physical/ConvertCountToDirectScan.java |  4 ++++
 .../drill/exec/store/parquet/ParquetGroupScan.java | 22 ++++++++++++++++++++--
 3 files changed, 25 insertions(+), 2 deletions(-)

commit 8695cdf88f97de35c87cd53fcb261ef3935f95ff
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Nov 12 11:10:23 2014 -0800

    DRILL-1698: QueryWrapper creates a logger for FlattenRecordBatch class

 .../src/main/java/org/apache/drill/exec/server/rest/QueryWrapper.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ea2578db67bf1c90061e23ea3f1f1f582cf5da9c
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Nov 12 08:59:04 2014 -0800

    DRILL-1695: Fix code generator comparisons

 .../org/apache/drill/exec/expr/CodeGenerator.java     | 19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit 523d7805bc0cacd83739a6e2baa9a193e3ae1a9a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Nov 12 19:25:27 2014 -0800

    DRILL-1703: Fix situation where repeated map vector was re-adding column name on second record batch.

 .../java/org/apache/drill/exec/vector/complex/RepeatedMapVector.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ba3d40750be462eb930d561f1bc9034369018882
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Oct 29 01:54:14 2014 -0700

    DRILL-1676: Use previous version of dagre so that visualizer works

 exec/java-exec/src/main/resources/rest/profile/profile.ftl | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9c280b523202c34504681424402b54e4eb9988a5
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Sep 30 17:43:27 2014 -0700

    DRILL-1474: [AtomicRemainder] Failure to allocate requested memory should be logged as warning

 .../src/main/java/org/apache/drill/exec/memory/AtomicRemainder.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1e21045bfdab8fde8fc7d3d3a4182ddd4d2e41f3
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Nov 11 16:53:55 2014 -0800

    Drill-1688: Complex parquet reader fails to read wide records.

 .../java/org/apache/drill/exec/ExecConstants.java     |  5 +++++
 .../exec/server/options/SystemOptionManager.java      |  2 ++
 .../exec/store/parquet/ParquetScanBatchCreator.java   |  2 +-
 .../drill/exec/store/parquet2/DrillParquetReader.java | 19 ++++++++++++++++---
 4 files changed, 24 insertions(+), 4 deletions(-)

commit 52b729eacde87fdd6930b99c30582accb2c99475
Author: Chris Westin <cwestin@yahoo.com>
Date:   Tue Nov 11 11:23:13 2014 -0800

    DRILL-1559: increment counts even if we break out of the read loop

 .../java/org/apache/drill/exec/store/parquet2/DrillParquetReader.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 968ba617d0fbb7084cb1f0883bd134c32c62e7e1
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Nov 9 20:37:58 2014 -0800

    Remove extraneous System.out.print statements.

 .../org/apache/drill/exec/compile/MergeAdapter.java   |  2 +-
 .../drill/exec/expr/fn/impl/StringFunctions.java      |  2 --
 .../drill/exec/expr/fn/impl/conv/JsonConvertTo.java   |  2 +-
 .../exec/physical/impl/filter/FilterTemplate4.java    |  1 -
 .../org/apache/drill/exec/record/VectorContainer.java |  3 ---
 .../apache/drill/exec/server/rest/QueryWrapper.java   | 19 +++++++++++--------
 .../org/apache/drill/exec/vector/VectorValidator.java |  2 +-
 7 files changed, 14 insertions(+), 17 deletions(-)

commit ab154b5e3acc3461e327643f30211fa5904d462b
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Nov 11 09:45:03 2014 -0800

    Add handling when a null exception is logged.

 .../src/main/java/org/apache/drill/exec/work/ErrorHelper.java         | 4 ++++
 1 file changed, 4 insertions(+)

commit 60736dea0fc7099f3773616c1995df4789221cdb
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Nov 10 22:16:19 2014 -0800

    DRILL-1671, DRILL-1653, DRILL-1652: Fixes for flatten bugs

 .../apache/drill/common/expression/SchemaPath.java |   3 +-
 .../codegen/templates/RepeatedValueVectors.java    |  30 +--
 .../{DrillFlattenPrel.java => FlattenPrel.java}    |  11 +-
 .../physical/visitor/RewriteProjectToFlatten.java  |   4 +-
 .../visitor/SplitUpComplexExpressions.java         |   2 +-
 .../drill/exec/record/MaterializedField.java       |  22 ++-
 .../exec/vector/complex/RepeatedMapVector.java     |  35 +++-
 .../drill/exec/vector/complex/fn/JsonReader.java   |   3 +-
 .../exec/physical/impl/flatten/TestFlatten.java    |  51 ++++++
 .../src/test/resources/flatten/empty-rm.json       |   7 +
 .../src/test/resources/flatten/many-arrays-50.json | 203 +++++++++++++++++++++
 .../src/test/resources/flatten/missing-map.json    |  11 ++
 .../flatten/single-user-transactions.json          |  18 ++
 13 files changed, 373 insertions(+), 27 deletions(-)

commit ed962497f04d432591b33b7532741b07ab46fbfe
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Wed Nov 5 18:11:22 2014 -0800

    DRILL-1643, DRILL-1665: Flatten fixes
     - Fix repeated map vector to correctly report value count
     - Update flatten so init variables are reset for each new batch.

 .../physical/impl/flatten/FlattenRecordBatch.java  |   2 +
 .../physical/impl/flatten/FlattenTemplate.java     |  40 ++++--
 .../exec/physical/impl/flatten/Flattener.java      |   1 +
 .../exec/vector/complex/RepeatedMapVector.java     |   9 +-
 .../exec/physical/impl/flatten/TestFlatten.java    |  99 ++++++++++++++
 .../store/json/test_flatten_mappify2.json          | 148 +++++++++++++++++++++
 6 files changed, 286 insertions(+), 13 deletions(-)

commit 761156bf8b09a9b9cbe801bae730da340ea36d03
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Oct 30 14:05:32 2014 -0700

    DRILL-1647: Enable rewrite rule to allow multiple flattens in s a select clause. Fixes a few outstanding issues that were the reason for disabling it.
    
    Fix for the failed Regression test run. Was an issue with removing cast information, simply needed to return the original expression rather than try to clone it if rewriting was not needed.
    
    Was not visiting the child of a project appropriately, this was causing complex expressions nested inside of a sub-query to fail.

 .../exec/planner/physical/visitor/RexVisitorComplexExprSplitter.java    | 2 +-
 .../drill/exec/planner/physical/visitor/SplitUpComplexExpressions.java  | 2 +-
 .../org/apache/drill/exec/planner/sql/handlers/DefaultSqlHandler.java   | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit e515e6211201ec764d405c9a04b3ce43e4b3259d
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Nov 4 15:08:27 2014 -0800

    DRILL-1648: Fix for fast schema issue that was causing compilation issues in downstream operators.

 .../physical/impl/flatten/FlattenRecordBatch.java  | 60 ++++++++++++++++------
 .../java/org/apache/drill/TestExampleQueries.java  | 18 -------
 .../exec/physical/impl/flatten/TestFlatten.java    | 42 +++++++++++++++
 3 files changed, 87 insertions(+), 33 deletions(-)

commit 2f6efeafed36459d81230009b67fde89d6f69728
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Nov 10 22:46:13 2014 -0800

    DRILL-1659: Increase default maxWidth for sqlline to 10k

 distribution/src/resources/sqlline | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 0085ffb95d0d4cc7e603c93fc7773de73aa4016f
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Oct 28 18:47:16 2014 -0700

    DRILL-1674: Set schema in WriterRecordBatch

 .../org/apache/drill/exec/physical/impl/WriterRecordBatch.java     | 7 +++++++
 1 file changed, 7 insertions(+)

commit 836d38a357baac4da93f5f58f91060d58c761781
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Oct 29 13:42:46 2014 -0700

    DRILL-1675: Add method to get QueryId from DrillResultSet

 .../jdbc/src/main/java/org/apache/drill/jdbc/DrillResultSet.java | 9 +++++++++
 .../test/java/org/apache/drill/jdbc/test/JdbcTestQueryBase.java  | 2 ++
 2 files changed, 11 insertions(+)

commit b5d5148b5e49b7b52927f84edf6901be0892bea1
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Oct 29 01:53:41 2014 -0700

    DRILL-1678: Add fragment and operator id to label in plan visualizer

 exec/java-exec/src/main/resources/rest/www/graph.js | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 25fca623f579570807a6ca8f61b7a81c7b019f4a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Nov 5 08:55:19 2014 -0800

    DRILL-1639: Close Hive resources

 .../java/org/apache/drill/exec/store/hive/HiveRecordReader.java   | 8 ++++++++
 1 file changed, 8 insertions(+)

commit abab3d31d703602219842580d5bd406944adf4df
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Nov 10 12:01:17 2014 -0800

    DRILL-1656: Fix wildcard queries to correctly determine selection root.

 .../org/apache/drill/exec/store/dfs/FileSelection.java  | 17 +++++++++++++++--
 .../test/java/org/apache/drill/TestExampleQueries.java  |  9 ++++++++-
 2 files changed, 23 insertions(+), 3 deletions(-)

commit 0cddfc2228859bb636dcf6ed03a227626f69e480
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Tue Nov 11 15:46:10 2014 -0800

    DRILL-1660: adding a test case to cover an array of empty and null valued objects.
    i) remove redundant guard statement from JsonRecordReader2
    ii) rename unit test suite

 .../apache/drill/exec/store/easy/json/JSONRecordReader2.java   |  2 +-
 ...JsonReaderTests.java => TestJsonReaderWithSparseFiles.java} | 10 +++++-----
 .../test/resources/vector/complex/fn/nested-with-nulls.json    |  3 ++-
 3 files changed, 8 insertions(+), 7 deletions(-)

commit 23d5c38f5379048e2ca69aa99d3720c99a1f677a
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon Nov 10 18:00:02 2014 -0800

    DRILL-1638: display list of files in the logical plan

 .../main/java/org/apache/drill/exec/store/dfs/easy/EasyGroupScan.java  | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c305c794a21d8d657897cbbf85c66fc0d1adc024
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Oct 14 15:26:23 2014 -0700

    DRILL-1592: Detect drillbit failure and cancel the affected running queries.
    
    Revise code based on review comments.
    
    Revise code based on comments: only track the newly dead drillbits.
    
    Remove some debug msg.
    
    Minor code change based on review comments.
    
    clean up.
    
    add comment. Clear listeners when drillbit is unregistered from CC.
    
    Minor code change from review comments.

 .../drill/exec/coord/ClusterCoordinator.java       | 38 ++++++++++++++
 .../drill/exec/coord/zk/ZKClusterCoordinator.java  | 35 ++++++++++++-
 .../org/apache/drill/exec/ops/FragmentContext.java |  2 +
 .../org/apache/drill/exec/ops/QueryContext.java    |  4 ++
 .../exec/work/foreman/DrillbitStatusListener.java  | 44 ++++++++++++++++
 .../apache/drill/exec/work/foreman/Foreman.java    |  5 +-
 .../drill/exec/work/foreman/QueryManager.java      | 61 +++++++++++++++++++---
 .../drill/exec/work/fragment/FragmentExecutor.java | 28 +++++++++-
 8 files changed, 204 insertions(+), 13 deletions(-)

commit 73f9827bff061912d4cc81169488eda4dfa17234
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Nov 4 07:22:43 2014 -0800

    DRILL-1470 : cast into varchar should recognize the length parameter in varchar. Fix casting function implementation: the length parameter should mean # of chars, not # of bytes.
    
    New unit test case to verify the result from cast function.
    
    Fix bug in cast into varchar. When target length = 0, it means we want to keep the input .
    
    code clean up.
    
    Include change for varbinary cast as well.

 exec/java-exec/src/main/codegen/data/Casts.tdd     |  2 ++
 .../CastFunctionsSrcVarLenTargetVarLen.java        | 27 +++++++++++++++++---
 .../exec/expr/ExpressionTreeMaterializer.java      | 14 +++++++----
 .../java/org/apache/drill/TestExampleQueries.java  | 29 ++++++++++++++++++++++
 4 files changed, 64 insertions(+), 8 deletions(-)

commit 66cf6e274af2ac375b20530fd520f3ed32409101
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Fri Nov 7 16:58:08 2014 -0800

    DRILL-1455: enable projection pushdown past join
    
    i) refactor project past filter to remove redundant code
    ii) adding unit tests for projection past join & hybrid cases like projection past filter & join
    iii) disable one TestExampleQueries#testSelectStartSubQueryJoinWithWhereClause until DRILL-1680 is fixed.

 .../exec/planner/logical/DrillConditions.java      |  36 ++++++
 .../logical/DrillPushProjectPastFilterRule.java    |  72 +-----------
 .../logical/DrillPushProjectPastJoinRule.java      |  32 ++++++
 .../drill/exec/planner/logical/DrillRuleSets.java  |  13 ++-
 .../java/org/apache/drill/TestExampleQueries.java  |  23 ++--
 .../java/org/apache/drill/TestProjectPushDown.java | 127 +++++++++++++++++++--
 .../test/resources/project/pushdown/empty0.json    |   0
 .../test/resources/project/pushdown/empty1.json    |   0
 .../test/resources/project/pushdown/empty2.json    |   0
 9 files changed, 215 insertions(+), 88 deletions(-)

commit d5b9b11c9a2337ac1f9c16784c2ae87ead7d1fd9
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Nov 6 11:28:27 2014 -0800

    DRILL-1631: Bump optiq version to r8
    Add test case. Fix is in optiq.

 .../src/test/java/org/apache/drill/TestExampleQueries.java         | 7 +++++++
 pom.xml                                                            | 2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 3430f8112376932c96b4023c666eff2604f00223
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Nov 7 13:55:48 2014 -0800

    DRILL-1663: Fix casting to a variable width type implicitly in a join condition
    
    Factor out logic in ExpressionTreeMaterializer so the same logic can be reused in ChainedHashTable.

 .../exec/expr/ExpressionTreeMaterializer.java      | 146 +++++++++++++--------
 .../physical/impl/common/ChainedHashTable.java     |  25 ++--
 2 files changed, 102 insertions(+), 69 deletions(-)

commit e2ad5b038d35d7ed5161d0cd732287f640c7e608
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Oct 30 20:25:41 2014 -0700

    DRILL-1585: Update user rpc version due to changes in RpcFailure behavior.

 .../src/main/java/org/apache/drill/exec/rpc/data/DataRpcConfig.java     | 2 +-
 .../src/main/java/org/apache/drill/exec/rpc/user/UserRpcConfig.java     | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit a8fd9758b1f77632a038e43c5ac2cc00e1fa459b
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Nov 3 18:14:09 2014 -0800

    DRILL-1661: Fix for setValueLengthSafe method in variable length vectors that was causing a failure in the parquet reader.

 exec/java-exec/src/main/codegen/templates/VariableLengthVectors.java | 5 +++++
 1 file changed, 5 insertions(+)

commit f7570d9a30cefbec9b8ef42db9f395ad6527bd00
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu Oct 16 13:58:51 2014 -0700

    DRILL-1544 : Support escape character in "like" or "similar to" SQL operator.
    
    Conflicts:
            exec/java-exec/src/test/java/org/apache/drill/TestExampleQueries.java

 .../drill/exec/expr/fn/impl/StringFunctions.java   | 44 ++++++++++++++++++++++
 .../java/org/apache/drill/TestExampleQueries.java  | 18 +++++++++
 .../src/test/resources/jsoninput/specialchar.json  |  3 ++
 3 files changed, 65 insertions(+)

commit 797b1bcffbcda4dd5e7c3be1bb3ba1e9593cff16
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Nov 6 20:43:32 2014 -0800

    Update WorkEventBus to immediately fail if Fragment is unavailable.  No need to wait now that we propogate intermediate fragments before leaf fragments.

 .../drill/exec/rpc/control/WorkEventBus.java       | 49 ++++------------------
 1 file changed, 7 insertions(+), 42 deletions(-)

commit 06f0e178e7738dc7ecd81faad8d1f73003c84fb8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Nov 5 18:59:40 2014 -0800

    - Update Parquet writer to always make binary copy of data for statistics holding purposes.  (Fixes JVM crash in certain cases.)
    - Update WriterRecordBatch to stop doing premature cleanup.  In the case that a downstream operator is still holding memory allocated in the writer record batch, it was possible that the operator would try to close the allocator before that memory had been released.

 exec/java-exec/pom.xml                             |  2 +-
 .../exec/physical/impl/WriterRecordBatch.java      | 82 +++++++++++-----------
 2 files changed, 42 insertions(+), 42 deletions(-)

commit 66d5be482b9cf43b490b229ce73f72a9590df3d1
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Fri Oct 31 16:14:49 2014 -0700

    DRILL-1480: Update Netty to 4.0.24.Final

 exec/java-exec/pom.xml | 2 +-
 pom.xml                | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 30c40eac72d53b4c75631a313376a31a1b68efbb
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Thu Nov 6 14:47:26 2014 -0800

    DRILL-1578: Accountor message should be trace messages

 .../org/apache/drill/exec/memory/Accountor.java    | 22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit 1d7f6211c19712f2db12a913ea5cb990d4963ec3
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Thu Nov 6 18:20:17 2014 -0800

    DRILL-1585: C++ Client - Update RPC version and protobuf definitions for RPC version 3

 contrib/native/client/src/include/drill/common.hpp |    2 +-
 .../native/client/src/protobuf/BitControl.pb.cc    |  287 ++++-
 contrib/native/client/src/protobuf/BitControl.pb.h |  117 ++-
 .../native/client/src/protobuf/GeneralRPC.pb.cc    |  399 +------
 contrib/native/client/src/protobuf/GeneralRPC.pb.h |  311 ------
 .../native/client/src/protobuf/UserBitShared.pb.cc | 1106 ++++++++++++++++++--
 .../native/client/src/protobuf/UserBitShared.pb.h  |  795 +++++++++++++-
 7 files changed, 2169 insertions(+), 848 deletions(-)

commit 76df2ffe6a7ad999557fdf5f1bdf3d76288e65a3
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Tue Oct 21 23:16:47 2014 -0700

    DRILL-1539: fix an issue regarding populateEmpties in RepeatedMapVector

 .../java/org/apache/drill/exec/vector/complex/RepeatedMapVector.java   | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 70993d2d44a02c8edc48a7dc2ea0b79bded82d28
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Oct 22 17:35:35 2014 -0700

    DRILL-1417: ensure star column is passed to scan in case non-partition columns are empty

 .../org/apache/drill/exec/store/dfs/easy/EasyFormatPlugin.java    | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit fdbd6a9fc8d846567a272025bd37002d43c7a3fa
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Tue Oct 21 14:30:50 2014 -0700

    DRILL-1566: C++ Client does not handle incoming record batches with zero records

 contrib/native/client/example/querySubmitter.cpp        |  2 +-
 contrib/native/client/src/clientlib/drillClientImpl.cpp | 12 +++++++++---
 contrib/native/client/src/clientlib/recordBatch.cpp     |  5 ++++-
 contrib/native/client/src/include/drill/recordBatch.hpp |  6 ++++--
 4 files changed, 18 insertions(+), 7 deletions(-)

commit 2e07c62f6bd9db240f745b18716b17fecd88d6ef
Author: Mehant <mehantr@gmail.com>
Date:   Thu Aug 28 12:31:32 2014 -0700

    DRILL-1525: Modify hash functions to use XXHash algorithm

 .../drill/exec/expr/fn/impl/HashFunctions.java     |  69 ++++----
 .../org/apache/drill/exec/expr/fn/impl/XXHash.java | 173 +++++++++++++++++++++
 2 files changed, 207 insertions(+), 35 deletions(-)

commit 3b8dd3b48d52c7499bcdff407d4b407d80fa1720
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Nov 4 16:55:24 2014 -0800

    DRILL-1634: Fix issue in complex type expression type resolution, when Drill queries a nested array.
    
    code clean up.
    
    add comment of code change.

 .../drill/exec/vector/complex/AbstractContainerVector.java | 14 ++++++++++----
 .../drill/exec/store/json/JsonRecordReader2Test.java       |  7 +++++++
 .../src/test/resources/jsoninput/nestedArray.json          |  2 ++
 3 files changed, 19 insertions(+), 4 deletions(-)

commit 0f069bad0bbbc1f4f83d9e6a7194654fc5803ff2
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Oct 30 23:02:41 2014 -0700

    DRILL-1619: Fix running and output type for count aggregate function Raise an exception while performing aggregate functions on boolean data type

 .../java-exec/src/main/codegen/data/AggrTypes1.tdd |  8 +--
 .../exec/expr/fn/impl/AggregateErrorFunctions.java | 84 ++++++++++++++++++++++
 2 files changed, 86 insertions(+), 6 deletions(-)

commit 61053a8c9c22e7cce45bb74e3e1894f2cfd42041
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Aug 13 18:50:07 2014 -0700

    DRILL-1324: Add mechanism to detect schema changes when adding a new primitive vector in a Map, RepeatedMap, RepeatedList vector

 .../src/main/codegen/templates/TypeHelper.java     | 10 ++++--
 .../apache/drill/exec/physical/impl/ScanBatch.java |  8 +++--
 .../physical/impl/project/ProjectRecordBatch.java  |  4 +--
 .../exec/record/AbstractSingleRecordBatch.java     | 10 +++++-
 .../apache/drill/exec/record/VectorContainer.java  |  8 ++++-
 .../java/org/apache/drill/exec/util/CallBack.java  | 23 ++++++++++++++
 .../drill/exec/vector/SchemaChangeCallBack.java    | 36 ++++++++++++++++++++++
 .../drill/exec/vector/complex/MapVector.java       | 14 ++++++---
 .../exec/vector/complex/RepeatedListVector.java    | 22 ++++++++-----
 .../exec/vector/complex/RepeatedMapVector.java     | 14 ++++++---
 .../vector/complex/impl/ComplexWriterImpl.java     |  2 +-
 .../vector/complex/impl/VectorContainerWriter.java |  2 +-
 .../exec/vector/complex/writer/TestJsonReader.java |  2 +-
 .../exec/vector/complex/writer/TestRepeated.java   |  2 +-
 14 files changed, 128 insertions(+), 29 deletions(-)

commit c4e1c58f3e418f7c13c7201aac6210ab76fe0e70
Author: Matt Burgess <mburgess@pentaho.com>
Date:   Thu Nov 6 12:30:11 2014 -0500

    DRILL-1640: DrillColumnMetaDataList does not implement List methods

 .../apache/drill/jdbc/DrillColumnMetaDataList.java |  67 +++++-
 .../drill/jdbc/DrillColumnMetaDataListTest.java    | 224 +++++++++++++++++++++
 2 files changed, 285 insertions(+), 6 deletions(-)

commit eeb7160064666f43f4c2543792c703dff7acac8d
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Nov 4 18:28:08 2014 -0800

    DRILL-1635: Propagate detailed error information when Drill sees a SQL parser error.

 .../src/main/java/org/apache/drill/exec/work/foreman/Foreman.java    | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit a8b309a792dae2c85d5fa4d368136cd6e45178ea
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Tue Nov 4 18:38:31 2014 -0800

    DRILL-1548: Remove jdbc-all from default build
    
    * Allow devs to individually disable maven modules from build
    * Removed duplicate dependency "pentaho:mondrian-data-foodmart-json" from exec/java-exec/pom.xml
    * Removed duplicate dependency "com.mapr.hadoop:maprfs" from distribution/pom.xml

 distribution/pom.xml   | 114 ++++++++++++++++++++++++++++++++-----------------
 exec/java-exec/pom.xml |   6 ---
 exec/pom.xml           |  31 ++++++++++++--
 pom.xml                |  14 +++++-
 4 files changed, 114 insertions(+), 51 deletions(-)

commit 5adadfac5fc0f475b12d449eb00af8e9a5daadec
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Nov 4 16:33:54 2014 -0800

    DRILL-1636: Shorten the output of toString() methods of HiveTable and HivePartition.

 .../drill/exec/store/hive/HiveReadEntry.java       | 11 ++++++++++
 .../org/apache/drill/exec/store/hive/HiveScan.java | 21 +++++++------------
 .../apache/drill/exec/store/hive/HiveTable.java    | 24 ++++++++++++++++++++++
 3 files changed, 42 insertions(+), 14 deletions(-)

commit fde819ceef931d3533a4b13cf5ddb4a45545cc59
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Nov 4 14:28:47 2014 -0800

    DRILL-1445: Fix is in Optiq.  Upgrade Optiq version to 0.9-drill-r6.

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 129cb9c84827dda15fcc084c3ede925779cda8da
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Oct 31 09:22:29 2014 -0700

    DRILL-1421: Add unit tests and data.  Bump up drill-optiq version to 0.9-drill-r5.  Fix is in corresponding Optiq version.

 .../test/java/org/apache/drill/TestTextJoin.java   | 45 ++++++++++++++++++++++
 .../src/test/resources/uservisits/rankings.tbl     |  5 +++
 .../src/test/resources/uservisits/temp1.tbl        |  9 +++++
 .../src/test/resources/uservisits/uservisits.tbl   |  4 ++
 pom.xml                                            |  3 +-
 5 files changed, 65 insertions(+), 1 deletion(-)

commit 85ffeef526200157cd2ed38d36d650e2094c91b3
Author: Aditya Kishore <adi@apache.org>
Date:   Mon Nov 3 13:56:37 2014 -0800

    DRILL-1557: Drill build failure
    
    # Moved "MapR Drill Third Party Artifacts" repository above Pentaho's one.

 pom.xml | 22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit 83f3728e7be7c3f99d88a3d8768554454d20f20f
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Sun Oct 19 20:27:52 2014 -0700

    DRILL-1524: Fix Hive Parquet SerDe reading issue when all columns are projected.

 .../java/org/apache/drill/exec/store/hive/HiveRecordReader.java    | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit bf31a9a26d007af837c8fcbe926436f15a553ba0
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Oct 10 17:15:09 2014 -0700

    DRILL-1528: Update HiveRecordReader to read Hive Decimal types with scale and precision.

 .../drill/exec/store/hive/HiveFieldConverter.java  | 109 +++++++++++++++--
 .../drill/exec/store/hive/HiveRecordReader.java    | 131 ++++++++++++++++-----
 .../apache/drill/exec/TestHiveProjectPushDown.java |   8 +-
 .../exec/store/hive/HiveTestDataGenerator.java     |  30 ++++-
 4 files changed, 231 insertions(+), 47 deletions(-)

commit a36ce656017609b5d7893c749d77495b7ed3a0ad
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Aug 28 08:49:35 2014 -0700

    DRILL-1347: Update Hive storage plugin to Hive version 0.13.1 from current version 0.12.0.

 .../main/codegen/templates/ObjectInspectors.java   |  7 +--
 .../apache/drill/exec/expr/fn/HiveFuncHolder.java  |  2 +-
 .../drill/exec/expr/fn/HiveFunctionRegistry.java   |  2 +-
 .../AbstractDrillPrimitiveObjectInspector.java     |  4 +-
 .../drill/exec/store/hive/HiveRecordReader.java    |  5 +-
 .../exec/store/hive/schema/DrillHiveTable.java     |  8 +--
 .../exec/store/hive/HiveTestDataGenerator.java     | 10 ++--
 contrib/storage-hive/hive-exec-shade/pom.xml       | 60 ++++++++++++++++++++--
 distribution/src/assemble/bin.xml                  |  9 ++++
 .../apache/drill/jdbc/test/TestMetadataDDL.java    | 14 +++--
 10 files changed, 94 insertions(+), 27 deletions(-)

commit c6b18184777832de95ba003c91d601a062e5c54a
Author: Aditya Kishore <adi@apache.org>
Date:   Thu Oct 30 09:13:46 2014 -0700

    DRILL-1612: Add maven enforcer rules for maven and Java version
    
    * Allows compilation with JDK version 1.7.x and maven [3.0.4,4) only.
    + Updated maven-enforcer-plugin to 1.3.1.

 pom.xml | 20 +++++++++++++++++++-
 1 file changed, 19 insertions(+), 1 deletion(-)

commit 740aad20d6db735291d4f67958d0d55f5bd633bb
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Wed Oct 22 13:54:53 2014 -0700

    DRILL-1339: Use EStore to track running query status.
    
    Move common code to ZkAbstractStore.
    
    Get full profile from foreman directly.
    
    code cleanup.
    
    code change based on review comments.
    
    ZK store check node exists before delete. Add error message in case of error.
    
    Use a different profile for running queries, so that running query would have different ZK node from completed queries.
    
    More log.  Do not delete query state in EStore. In stead, modify the state in EStore.

 .../store/hbase/config/HBasePStoreProvider.java    |  40 +++++
 .../store/mongo/config/MongoPStoreProvider.java    |  11 ++
 .../drill/exec/server/rest/ProfileResources.java   |  78 ++++++++--
 .../org/apache/drill/exec/store/sys/EStore.java    |  32 ++++
 .../drill/exec/store/sys/EStoreProvider.java       |  29 ++++
 .../drill/exec/store/sys/PStoreProvider.java       |   1 +
 .../exec/store/sys/local/LocalEStoreProvider.java  |  45 ++++++
 .../exec/store/sys/local/LocalPStoreProvider.java  |  12 +-
 .../drill/exec/store/sys/local/MapEStore.java      |  54 +++++++
 .../drill/exec/store/sys/zk/ZkAbstractStore.java   | 164 +++++++++++++++++++++
 .../apache/drill/exec/store/sys/zk/ZkEStore.java   |  56 +++++++
 .../drill/exec/store/sys/zk/ZkEStoreProvider.java  |  39 +++++
 .../apache/drill/exec/store/sys/zk/ZkPStore.java   | 132 ++---------------
 .../drill/exec/store/sys/zk/ZkPStoreProvider.java  |  14 +-
 .../drill/exec/work/batch/ControlHandlerImpl.java  |   2 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |   8 +-
 .../drill/exec/work/foreman/QueryManager.java      |  28 ++--
 .../drill/exec/work/foreman/QueryStatus.java       |  46 ++++--
 .../src/main/resources/rest/profile/list.ftl       |   4 +-
 19 files changed, 624 insertions(+), 171 deletions(-)

commit c967734746dbf34535f9e360d82b66f60db1f4ae
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Oct 28 10:37:43 2014 -0700

    DRILL-1601: Have a minimum allocation for variable length value vectors.
    Improve error messages in PartitionerTemplate and UnorderedRawBatchBuffer.
    Minor change in cleanup for HashJoin.

 .../codegen/templates/VariableLengthVectors.java   |  8 +++++--
 .../org/apache/drill/exec/memory/Accountor.java    | 11 +++------
 .../exec/physical/impl/join/HashJoinBatch.java     |  2 +-
 .../impl/partitionsender/PartitionerTemplate.java  | 28 +++++++++++++++++-----
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |  6 ++++-
 5 files changed, 37 insertions(+), 18 deletions(-)

commit 0ed4fadfec3e8cf8ea79f46b841c76394bb00153
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Oct 29 14:25:27 2014 -0700

    DRILL-1581: Fix overflow check in casting from varchar to int

 .../apache/drill/exec/expr/fn/impl/StringFunctionHelpers.java | 11 ++++-------
 .../src/test/java/org/apache/drill/TestExampleQueries.java    |  5 +++++
 2 files changed, 9 insertions(+), 7 deletions(-)

commit 78609665930a14aff131c7ce47713e3a37b0339b
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Oct 30 14:38:43 2014 -0700

    DRILL-1617: Disable ProducerConsumer

 .../org/apache/drill/exec/planner/sql/handlers/DefaultSqlHandler.java   | 2 ++
 1 file changed, 2 insertions(+)

commit 8573ba12c825938c091ee09c83f2b275c27a74f8
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Oct 29 15:45:26 2014 -0700

    DRILL-1604: Include error info in message sent back to client

 .../org/apache/drill/exec/work/fragment/AbstractStatusReporter.java    | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a1ad598710c71994029ae67798d8d523190158c3
Author: Aditya Kishore <adi@apache.org>
Date:   Wed Oct 29 08:34:37 2014 -0700

    DRILL-1600: Enable Java assertion in unit tests

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2871c3ba515e06cd4bae98742139a99e12e42407
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Oct 9 17:55:45 2014 -0700

    DRILL-1333: Flatten operator for allowing more complex queryies against repeated data.

 .../src/main/codegen/templates/BaseWriter.java     |   3 +-
 .../codegen/templates/RepeatedValueVectors.java    |  17 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   1 +
 .../drill/exec/expr/fn/impl/conv/DummyFlatten.java |  44 +++
 .../org/apache/drill/exec/ops/QueryContext.java    |   2 +-
 .../physical/base/AbstractPhysicalVisitor.java     |   6 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   2 +
 .../drill/exec/physical/config/FlattenPOP.java     |  73 ++++
 .../physical/impl/flatten/FlattenBatchCreator.java |  40 +++
 .../physical/impl/flatten/FlattenRecordBatch.java  | 374 +++++++++++++++++++++
 .../physical/impl/flatten/FlattenTemplate.java     | 119 +++++++
 .../exec/physical/impl/flatten/Flattener.java      |  38 +++
 .../exec/planner/physical/DrillFlattenPrel.java    |  75 +++++
 .../exec/planner/physical/PlannerSettings.java     |   5 +-
 .../drill/exec/planner/physical/ProjectPrel.java   |   2 +-
 .../planner/physical/visitor/BasePrelVisitor.java  |   6 +
 .../exec/planner/physical/visitor/PrelVisitor.java |   2 +
 .../physical/visitor/RewriteProjectToFlatten.java  | 114 +++++++
 .../visitor/RexVisitorComplexExprSplitter.java     | 119 +++++++
 .../visitor/SplitUpComplexExpressions.java         | 146 ++++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    |   9 +
 .../exec/vector/RepeatedFixedWidthVector.java      |   7 +-
 .../exec/vector/RepeatedVariableWidthVector.java   |   4 +-
 .../apache/drill/exec/vector/RepeatedVector.java   |  26 ++
 .../exec/vector/complex/RepeatedListVector.java    |  19 +-
 .../exec/vector/complex/RepeatedMapVector.java     | 137 ++++++--
 .../vector/complex/impl/AbstractBaseWriter.java    |   3 +-
 .../test/java/org/apache/drill/PlanningBase.java   |   2 +-
 .../java/org/apache/drill/TestExampleQueries.java  |  12 +
 .../test/resources/flatten/corrected_physical.json |  81 +++++
 .../resources/flatten/test_flatten_physical.json   |  78 +++++
 .../test/resources/jsoninput/input2_modified.json  | 106 ++++++
 .../resources/jsoninput/repeated_list_bug.json     |   6 +
 .../src/test/resources/store/json/nested_json.json |   8 +
 .../resources/store/json/test_flatten_mapify.json  |  26 ++
 35 files changed, 1665 insertions(+), 47 deletions(-)

commit 7309506226cd5540590eda542a104cf3590dd436
Author: Anbang Xu <axu@maprtech.com>
Date:   Tue Oct 28 17:44:03 2014 -0700

    DRILL-1599: Drill FileSystemPlugin need getOptimizerRules() method to get optimizer rules from format plugin

 .../apache/drill/exec/store/dfs/FileSystemPlugin.java   | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit fdcedf972d30a5d9fc3e1bcaa364d9634235b82b
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Oct 27 23:29:18 2014 -0700

    DRILL-1595: Send intermediate fragments before leaf fragments

 .../drill/exec/work/foreman/QueryManager.java      | 45 +++++++++++++++++-----
 1 file changed, 36 insertions(+), 9 deletions(-)

commit 81e93259a566f3d0c9f80d54f5b49b3c84d92b09
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Oct 27 23:29:36 2014 -0700

    DRILL-1596: Build schema for producer-consumer

 .../apache/drill/exec/physical/impl/producer/ProducerConsumerBatch.java  | 1 +
 1 file changed, 1 insertion(+)

commit 807c4766ad7acc9c269da49d84d149097a11d1b0
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Oct 22 15:05:22 2014 -0700

    DRILL-1435: ensure producer consumer returns the last batch indicator & prevent blocking/leaking producer & consumer threads; fix concurrency issues that drives sqlline & drillbit hanging

 .../impl/producer/ProducerConsumerBatch.java       | 31 ++++++++++++----------
 1 file changed, 17 insertions(+), 14 deletions(-)

commit 5b61b573e5c3c088049b3d3e22327889b8e5f257
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Thu Oct 2 20:44:04 2014 -0700

    DRILL-1459: fix an issue that causes jvm to crash: fix field materialization to include child nodes during materialization; prevent RecordBatchLoader from creating multiple vectors for the same field; fix a test case;

 .../org/apache/drill/exec/record/MaterializedField.java  | 16 +++++++++++-----
 .../org/apache/drill/exec/vector/complex/MapVector.java  |  2 +-
 .../drill/exec/vector/complex/writer/TestJsonReader.java |  3 ---
 3 files changed, 12 insertions(+), 9 deletions(-)

commit 63d3008e120a12d9167208a6db0faa950f9a618b
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri Oct 10 17:03:19 2014 -0700

    DRILL-1382: Fast schema return

 .../org/apache/drill/exec/memory/Accountor.java    |  13 +-
 .../apache/drill/exec/physical/impl/RootExec.java  |   6 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |  44 +++++--
 .../drill/exec/physical/impl/ScreenCreator.java    |  43 ++++--
 .../exec/physical/impl/SingleSenderCreator.java    |  31 +++++
 .../physical/impl/TopN/PriorityQueueTemplate.java  |   1 +
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  47 +++++--
 .../exec/physical/impl/WriterRecordBatch.java      |  53 +++++---
 .../exec/physical/impl/aggregate/HashAggBatch.java |  44 +++++--
 .../physical/impl/aggregate/StreamingAggBatch.java |  24 +++-
 .../impl/aggregate/StreamingAggTemplate.java       |   2 +-
 .../broadcastsender/BroadcastSenderRootExec.java   |  29 +++++
 .../drill/exec/physical/impl/common/HashTable.java |   2 +
 .../physical/impl/common/HashTableTemplate.java    |   9 +-
 .../physical/impl/filter/FilterRecordBatch.java    |  17 ++-
 .../exec/physical/impl/join/HashJoinBatch.java     |  85 ++++++------
 .../physical/impl/join/HashJoinProbeTemplate.java  |  14 +-
 .../drill/exec/physical/impl/join/JoinStatus.java  |   8 ++
 .../exec/physical/impl/join/MergeJoinBatch.java    | 144 ++++++++++++---------
 .../exec/physical/impl/limit/LimitRecordBatch.java |  38 ++----
 .../impl/mergereceiver/MergingRecordBatch.java     |  42 +++---
 .../partitionsender/PartitionSenderRootExec.java   |  21 +++
 .../impl/partitionsender/PartitionerTemplate.java  |  12 +-
 .../impl/producer/ProducerConsumerBatch.java       |  25 ++++
 .../physical/impl/project/ProjectRecordBatch.java  |  53 ++++++--
 .../impl/svremover/RemovingRecordBatch.java        |  36 +++---
 .../exec/physical/impl/trace/TraceRecordBatch.java |   4 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |  15 +++
 .../unorderedreceiver/UnorderedReceiverBatch.java  |   5 +
 .../validate/IteratorValidatorBatchIterator.java   |  19 ++-
 .../window/StreamingWindowFrameRecordBatch.java    |  17 ++-
 .../physical/impl/xsort/ExternalSortBatch.java     |  34 ++++-
 .../drill/exec/record/AbstractRecordBatch.java     |   6 +
 .../exec/record/AbstractSingleRecordBatch.java     |  16 ++-
 .../exec/record/ExpandableHyperContainer.java      |  14 ++
 .../drill/exec/record/FragmentWritableBatch.java   |  11 ++
 .../org/apache/drill/exec/record/RecordBatch.java  |   9 ++
 .../apache/drill/exec/record/VectorContainer.java  |  56 +++++++-
 .../drill/exec/work/fragment/FragmentExecutor.java |   1 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |   4 +-
 .../java/org/apache/drill/TestExampleQueries.java  |   2 +-
 .../drill/exec/fn/impl/TestAggregateFunction.java  |   2 +-
 .../drill/exec/fn/impl/TestDateFunctions.java      |   2 +-
 .../drill/exec/fn/impl/TestMultiInputAdd.java      |   2 +-
 .../exec/fn/impl/TestNewAggregateFunctions.java    |   2 +-
 .../drill/exec/fn/impl/TestNewMathFunctions.java   |   3 +-
 .../drill/exec/physical/impl/SimpleRootExec.java   |  15 +++
 .../exec/physical/impl/TestCastFunctions.java      |   2 +-
 .../physical/impl/TestCastVarCharToBigInt.java     |   2 +-
 .../drill/exec/physical/impl/TestDecimal.java      |  12 +-
 .../exec/physical/impl/TestExtractFunctions.java   |   2 +-
 .../physical/impl/TestImplicitCastFunctions.java   |   1 +
 .../exec/physical/impl/TestSimpleFragmentRun.java  |   8 +-
 .../exec/physical/impl/TestStringFunctions.java    |   1 +
 .../exec/physical/impl/TopN/TestSimpleTopN.java    |   2 +-
 .../exec/physical/impl/join/TestHashJoin.java      |   4 +-
 .../exec/physical/impl/sort/TestSimpleSort.java    |   2 +
 .../exec/physical/impl/window/TestWindowFrame.java |  12 +-
 .../exec/physical/impl/writer/TestWriter.java      |   2 +-
 .../drill/exec/record/vector/TestDateTypes.java    |  12 +-
 .../exec/vector/complex/writer/TestJsonReader.java |   8 +-
 exec/java-exec/src/test/resources/agg/test1.json   |   2 +-
 exec/java-exec/src/test/resources/agg/twokey.json  |   2 +-
 .../decimal/test_decimal_sort_complex.json         |   2 +-
 .../functions/cast/testICastConstant.json          |   4 +-
 .../functions/date/interval_arithmetic.json        |   2 +-
 .../functions/string/testRegexpReplace.json        |   4 +-
 .../src/test/resources/join/join_batchsize.json    |   4 +-
 .../test/resources/join/mj_multi_condition.json    |   4 +-
 .../test/resources/mergerecv/merging_receiver.json |   2 +-
 .../resources/mergerecv/multiple_providers.json    |   2 +-
 .../resources/record/vector/test_sort_date.json    |   2 +-
 .../src/test/resources/window/oneKeyCount.json     |   2 +-
 .../resources/window/oneKeyCountMultiBatch.json    |   2 +-
 .../src/test/resources/window/twoKeys.json         |   2 +-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |   1 +
 76 files changed, 841 insertions(+), 348 deletions(-)

commit 451dd608a62c08dde26a2da2f085ab11a218ee72
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Oct 19 10:46:25 2014 -0700

    DRILL-1436: Remove use of UDP based cache for purposes of intermediate PlanFragment distribution
    
    Includes:
    - Remove dependency on Infinispan
    - Update initialize fragments to send in batches.
    - Update RPC layer to capture UserRpcExceptions and propagate back.
    - Send full stack trace in DrillPBError and let foreman node decide on formatting.
    - Increment control rpc version
    - Update systables to report current drillbit and version

 exec/java-exec/pom.xml                             |   15 -
 .../apache/drill/exec/cache/infinispan/ICache.java |  339 ---
 .../infinispan/JacksonAdvancedExternalizer.java    |   71 -
 .../infinispan/ProtobufAdvancedExternalizer.java   |   66 -
 .../cache/infinispan/VAAdvancedExternalizer.java   |   71 -
 .../exec/cache/infinispan/ZookeeperCacheStore.java |   66 -
 .../apache/drill/exec/cache/local/LocalCache.java  |  407 ---
 .../drill/exec/compile/ClassTransformer.java       |    5 +-
 .../apache/drill/exec/compile/CodeCompiler.java    |   10 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |    4 +-
 .../org/apache/drill/exec/ops/FragmentStats.java   |    9 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |    6 -
 .../drill/exec/physical/impl/ScreenCreator.java    |    4 +-
 .../broadcastsender/BroadcastSenderRootExec.java   |    4 +-
 .../OrderedPartitionRecordBatch.java               |    2 +-
 .../impl/partitionsender/StatusHandler.java        |    5 +-
 .../drill/exec/rpc/BaseRpcOutcomeListener.java     |    2 +
 .../apache/drill/exec/rpc/CoordinationQueue.java   |    4 +-
 .../apache/drill/exec/rpc/OutboundRpcMessage.java  |    9 +-
 .../apache/drill/exec/rpc/RemoteRpcException.java  |   17 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |   51 +-
 .../java/org/apache/drill/exec/rpc/RpcEncoder.java |    1 +
 .../org/apache/drill/exec/rpc/RpcException.java    |    8 +
 .../apache/drill/exec/rpc/UserRpcException.java    |   49 +
 .../drill/exec/rpc/control/ControlRpcConfig.java   |    6 +-
 .../drill/exec/rpc/control/ControlTunnel.java      |   15 +-
 .../drill/exec/rpc/control/WorkEventBus.java       |  102 +-
 .../org/apache/drill/exec/rpc/data/DataServer.java |    2 +-
 .../org/apache/drill/exec/server/Drillbit.java     |   13 +-
 .../apache/drill/exec/server/DrillbitContext.java  |   11 +-
 .../apache/drill/exec/server/RemoteServiceSet.java |   23 +-
 .../exec/server/options/SystemOptionManager.java   |    7 -
 .../drill/exec/store/sys/DrillbitIterator.java     |    4 +
 .../apache/drill/exec/store/sys/SystemTable.java   |    3 +-
 .../drill/exec/store/sys/SystemTablePlugin.java    |    2 +
 .../drill/exec/store/sys/VersionIterator.java      |   78 +
 .../org/apache/drill/exec/work/ErrorHelper.java    |  215 +-
 .../org/apache/drill/exec/work/WorkManager.java    |    5 +-
 .../drill/exec/work/batch/ControlHandlerImpl.java  |   50 +-
 .../exec/work/batch/ControlMessageHandler.java     |    5 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |   50 +-
 .../drill/exec/work/foreman/FragmentData.java      |    6 +-
 .../drill/exec/work/foreman/QueryManager.java      |   49 +-
 .../exec/work/fragment/AbstractStatusReporter.java |    3 +-
 .../test/java/org/apache/drill/PlanningBase.java   |    8 -
 .../test/java/org/apache/drill/TestBugFixes.java   |    9 +
 .../drill/exec/cache/TestCacheSerialization.java   |  150 -
 .../exec/compile/TestClassTransformation.java      |    3 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   17 +-
 .../TestOrderedPartitionExchange.java              |    2 +
 .../org/apache/drill/exec/server/TestBitRpc.java   |    2 +-
 .../exec/vector/complex/writer/TestJsonReader.java |    4 +-
 .../java/org/apache/drill/jdbc/DrillCursor.java    |    2 +-
 .../org/apache/drill/exec/proto/BitControl.java    |  755 ++++-
 .../apache/drill/exec/proto/GeneralRPCProtos.java  |  882 +-----
 .../apache/drill/exec/proto/SchemaBitControl.java  |  113 +
 .../drill/exec/proto/SchemaGeneralRPCProtos.java   |  132 -
 .../drill/exec/proto/SchemaUserBitShared.java      |  290 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 2982 +++++++++++++++++---
 .../drill/exec/proto/beans/DrillPBError.java       |   30 +-
 .../drill/exec/proto/beans/ExceptionWrapper.java   |  243 ++
 .../exec/proto/beans/InitializeFragments.java      |  175 ++
 .../exec/proto/beans/StackTraceElementWrapper.java |  251 ++
 protocol/src/main/protobuf/BitControl.proto        |    6 +-
 protocol/src/main/protobuf/GeneralRPC.proto        |    8 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   19 +-
 66 files changed, 5045 insertions(+), 2912 deletions(-)

commit 6dca24af0bec007a94c260bd84fbc99abd40d580
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Oct 24 00:49:15 2014 -0700

    DRILL-1575: skip creating "key" field for null values in kvgen()

 .../apache/drill/exec/expr/fn/impl/MappifyUtility.java   | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 47a92c7a71565334ce60de5225cd05a4fdf0ee8f
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Oct 24 15:43:48 2014 -0700

    DRILL-1582: Fix TestMetadataDDL failure

 .../src/test/java/org/apache/drill/jdbc/test/TestMetadataDDL.java  | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit b956e45e65cbbe347dbfdbeda5302ba7aeff6ed7
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Oct 17 19:22:01 2014 -0700

    DRILL-1543: Implement partition pruning for Hive tables

 .../exec/planner/sql/HivePartitionDescriptor.java  |  56 ++++++++
 .../logical/HivePushPartitionFilterIntoScan.java   | 142 +++++++++++++++++++++
 .../drill/exec/store/hive/HiveReadEntry.java       |  13 ++
 .../org/apache/drill/exec/store/hive/HiveScan.java |  13 +-
 .../drill/exec/store/hive/HiveStoragePlugin.java   |   8 +-
 .../drill/exec/TestHivePartitionPruning.java       |  69 ++++++++++
 .../exec/store/hive/HiveTestDataGenerator.java     |  13 ++
 .../planner/FileSystemPartitionDescriptor.java     |  48 +++++++
 .../drill/exec/planner/PartitionDescriptor.java    |  36 ++++++
 .../drill/exec/planner/logical/DirPathBuilder.java |  29 +++--
 .../logical/DrillPushPartitionFilterIntoScan.java  |  67 ++--------
 .../exec/planner/logical/PartitionPruningUtil.java |  78 +++++++++++
 .../test/java/org/apache/drill/PlanTestBase.java   |   2 +-
 13 files changed, 502 insertions(+), 72 deletions(-)

commit eff3764f226a81394f9220400d4b2d50f514137d
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Thu Oct 2 18:27:01 2014 -0700

    DRILL-1484: shutdown executors when connection is closed

 .../main/java/org/apache/drill/exec/client/DrillClient.java  | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit e764479c1fafacb1bd529841b19ed56b1c9e1998
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Tue Oct 21 23:37:20 2014 -0700

    DRILL-1547: enforce writers to explicitly check for buffer bounds to avoid IndexOutOfBounds errors; make writer hierarchy to stop immediately in case of a write error

 .../src/main/codegen/templates/BaseWriter.java     |   1 +
 .../src/main/codegen/templates/ComplexWriters.java |   4 +
 .../src/main/codegen/templates/ListWriters.java    |   8 +-
 .../src/main/codegen/templates/MapWriters.java     |   6 +
 .../exec/store/easy/json/JSONRecordReader2.java    |   3 -
 .../drill/exec/util/JsonStringArrayList.java       |  11 ++
 .../apache/drill/exec/util/JsonStringHashMap.java  |  11 ++
 .../drill/exec/vector/complex/MapVector.java       |  17 ++-
 .../exec/vector/complex/RepeatedMapVector.java     |   4 +-
 .../drill/exec/vector/complex/fn/JsonReader.java   |  20 +++-
 .../vector/complex/impl/ComplexWriterImpl.java     |   5 +
 .../vector/complex/impl/VectorContainerWriter.java |   5 +
 .../drill/exec/work/fragment/FragmentExecutor.java |   2 +-
 .../exec/vector/complex/fn/JsonReaderTests.java    | 127 +++++++++++++++++++++
 .../vector/complex/fn/nested-with-nulls.json       |   3 +
 .../test/resources/vector/complex/fn/sparse.json   |   4 +
 16 files changed, 218 insertions(+), 13 deletions(-)

commit 71f5ad447823cba96cf73fb6709f8ed6cc0b63e9
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Oct 21 23:54:01 2014 -0700

    DRILL-1508: Implement pushdown for LIKE operator in HBase storage engine

 .../test/java/org/apache/drill/test/DrillTest.java |   9 ++
 .../store/hbase/CompareFunctionsProcessor.java     |   6 +-
 .../drill/exec/store/hbase/HBaseFilterBuilder.java |  68 ++++++++-
 .../drill/exec/store/hbase/HBaseRegexParser.java   | 165 +++++++++++++++++++++
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |  10 --
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |   7 +-
 .../drill/hbase/TestHBaseFilterPushDown.java       |  36 +++++
 .../apache/drill/hbase/TestHBaseRegexParser.java   |  65 ++++++++
 .../org/apache/drill/hbase/TestTableGenerator.java |  45 ++++++
 9 files changed, 393 insertions(+), 18 deletions(-)

commit 67df8cfa27041c9696255ee96e2d066e034f6f58
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Oct 21 20:53:39 2014 -0700

    DRILL-1567 - Pushdown fails with WHERE clause with more than one AND or OR operator of same type

 .../drill/exec/store/hbase/HBaseFilterBuilder.java    | 19 +++++++++++--------
 1 file changed, 11 insertions(+), 8 deletions(-)

commit 958de3d62082ac1a70fd2a29c8f4b5eca3a78f91
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Oct 15 19:23:30 2014 -0700

    DRILL-1540: Provide a fallback data format in case Drill is unable to determine one
    
    + added "storageformat" to ignored list to avoid failure in existing cluster.

 .../drill/exec/store/dfs/FileSystemPlugin.java     | 33 ++++++++++------------
 .../drill/exec/store/dfs/WorkspaceConfig.java      | 15 +++++-----
 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 26 +++++++++++------
 .../main/resources/bootstrap-storage-plugins.json  |  3 +-
 .../test/resources/bootstrap-storage-plugins.json  |  3 +-
 .../largefiles/merging_receiver_large_data.json    |  6 ++--
 .../test/resources/writer/simple_csv_writer.json   |  6 ++--
 7 files changed, 47 insertions(+), 45 deletions(-)

commit ae2790ed8b2bf2293e85b79ce4344ba3f8910cf9
Author: Xiao Meng <xiaom.cs@gmail.com>
Date:   Wed Sep 17 12:39:48 2014 -0700

    DRILL-1305: C++ Client. Consume QueryState message from the Drillbit.

 contrib/native/client/example/querySubmitter.cpp   |  17 ++-
 .../client/src/clientlib/drillClientImpl.cpp       | 140 ++++++++++++++++-----
 .../client/src/clientlib/drillClientImpl.hpp       |  14 ++-
 contrib/native/client/src/clientlib/errmsgs.cpp    |   6 +-
 contrib/native/client/src/clientlib/errmsgs.hpp    |   4 +-
 contrib/native/client/src/include/drill/common.hpp |  10 +-
 6 files changed, 148 insertions(+), 43 deletions(-)

commit b7aebbd7b6e4c5de83e7c26ca63a216dfd910c33
Author: Xiao Meng <xiaom.cs@gmail.com>
Date:   Wed Oct 8 12:51:12 2014 -0700

    DRILL-1511: C++ Client. Fix compiling issues in DRILL-1297 patch.
    
    - Remove forward enum type declaration (not allowed in C++ 03).
    - Add space between `<` and `::` to fix compilation of clang

 contrib/native/client/src/clientlib/drillClient.cpp     | 4 ++--
 contrib/native/client/src/include/drill/drillClient.hpp | 1 -
 2 files changed, 2 insertions(+), 3 deletions(-)

commit fd7aee133a5c55a61c1b2b31a4e27e074c669278
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sat Oct 11 22:35:22 2014 -0700

    DRILL-1534: Implement Mappify UDF to transform map into a repeated map with key, value pairs

 .../apache/drill/exec/expr/fn/impl/Mappify.java    |  67 ++++++
 .../drill/exec/expr/fn/impl/MappifyUtility.java    |  87 ++++++++
 .../drill/exec/vector/complex/MapUtility.java      | 228 +++++++++++++++++++++
 .../complex/writer/TestComplexTypeReader.java      |   5 +
 .../src/test/resources/jsoninput/input3.json       |  42 ++++
 5 files changed, 429 insertions(+)

commit 8dedd718230e1f655643f67194a57ce3f83f0e36
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Oct 14 13:40:35 2014 -0700

    DRILL-1549: Partition pruning for simple IN filters.

 .../drill/exec/planner/logical/DirPathBuilder.java |   8 +-
 .../java/org/apache/drill/TestPartitionFilter.java |  18 ++++
 .../multilevel/csv/1996/Q1/orders_96_q1.csv        |  10 ++
 .../multilevel/csv/1996/Q2/orders_96_q2.csv        |  10 ++
 .../multilevel/csv/1996/Q3/orders_96_q3.csv        |  10 ++
 .../multilevel/csv/1996/Q4/orders_96_q4.csv        |  10 ++
 .../multilevel/json/1996/Q1/orders_96_q1.json      | 101 +++++++++++++++++++++
 .../multilevel/json/1996/Q2/orders_96_q2.json      | 101 +++++++++++++++++++++
 .../multilevel/json/1996/Q3/orders_96_q3.json      | 101 +++++++++++++++++++++
 .../multilevel/json/1996/Q4/orders_96_q4.json      | 101 +++++++++++++++++++++
 .../parquet/1996/Q1/orders_96_q1.parquet           | Bin 0 -> 1928 bytes
 .../parquet/1996/Q2/orders_96_q2.parquet           | Bin 0 -> 1899 bytes
 .../parquet/1996/Q3/orders_96_q3.parquet           | Bin 0 -> 2034 bytes
 .../parquet/1996/Q4/orders_96_q4.parquet           | Bin 0 -> 1999 bytes
 14 files changed, 467 insertions(+), 3 deletions(-)

commit 6bb12162173c0a86a5c48372ae49e484174e8bfa
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Oct 15 17:01:39 2014 -0700

    DRILL-1541: Add big endian version of convert to/from for double and float

 .../expr/fn/impl/conv/DoubleBEConvertFrom.java     | 47 ++++++++++++++++++
 .../exec/expr/fn/impl/conv/DoubleBEConvertTo.java  | 55 ++++++++++++++++++++++
 .../exec/expr/fn/impl/conv/FloatBEConvertFrom.java | 47 ++++++++++++++++++
 .../exec/expr/fn/impl/conv/FloatBEConvertTo.java   | 55 ++++++++++++++++++++++
 .../exec/physical/impl/TestConvertFunctions.java   | 11 +++++
 5 files changed, 215 insertions(+)

commit 337e9f65e32514235205121841032acdd08b4a37
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu Oct 16 10:55:18 2014 -0700

    Grammar fix in project description. Also fixes the hangout info to no longer indicate that they are weekly.

 README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5d3a22911db55e2fac750025acd57e02689430ad
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Thu Sep 25 12:01:06 2014 -0700

    DRILL-1504: Enabling fragment memory limit causes out of memory error

 .../org/apache/drill/exec/memory/Accountor.java    | 61 +++++++++++++++++-----
 .../drill/exec/rpc/control/WorkEventBus.java       | 35 ++++++++++---
 .../apache/drill/exec/memory/TestAllocators.java   |  6 +--
 3 files changed, 79 insertions(+), 23 deletions(-)

commit e302d98150d85a69ae08aba4cbf025c3bf032344
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Thu Aug 21 22:22:15 2014 -0700

    DRILL-1303 - Fix Drill Client assertion on getting bad metadata

 contrib/native/client/example/querySubmitter.cpp                    | 4 ++--
 contrib/native/client/src/include/drill/recordBatch.hpp             | 6 ++++--
 exec/java-exec/src/main/codegen/templates/NullableValueVectors.java | 1 +
 exec/java-exec/src/main/codegen/templates/RepeatedValueVectors.java | 5 ++++-
 .../src/main/java/org/apache/drill/exec/vector/BitVector.java       | 1 +
 5 files changed, 12 insertions(+), 5 deletions(-)

commit 17a4d921417ff914cb81588926b692d1aea09e56
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Aug 28 18:51:25 2014 -0700

    DRILL-1526: Move casting logic to utility methods.

 .../codegen/templates/CastFunctionsSrcVarLen.java  |  65 +-----------
 .../exec/expr/fn/impl/StringFunctionHelpers.java   | 115 +++++++++++++++++++++
 2 files changed, 119 insertions(+), 61 deletions(-)

commit 38c5d4e4bb693fe65118f84463dce9246d7096fe
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Oct 2 21:07:16 2014 -0700

    DRILL-1393: Set record count before clearing SV2 in RecordBatchData

 .../apache/drill/exec/physical/impl/sort/RecordBatchData.java    | 3 ++-
 .../src/test/java/org/apache/drill/TestExampleQueries.java       | 9 +++++++++
 2 files changed, 11 insertions(+), 1 deletion(-)

commit cd6dd9c6fb364335df5836af3e1f4aef9a3fe8b5
Author: Patrick Wong <pwong@maprtech.com>
Date:   Thu Oct 9 13:20:57 2014 -0700

    DRILL-1516: When searching for the java executable, ignore directories named "java"

 distribution/src/resources/drill-config.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eb8c1c2e1a706eb7854dedb09cc113eb22f49932
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Oct 3 13:44:11 2014 -0700

    DRILL-1492: Update readme with supported versions of Java
    
    * Keeping the supported Java version to 7 until we get all issues around Java 8 resolved.

 INSTALL.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c05dd7568ca57285cdfa87cbab975018a601528d
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Oct 3 15:32:46 2014 -0700

    DRILL-1493: Upgrade ASM to 5.0

 exec/java-exec/pom.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 3ce096977af7ae3339e719469ba7358e63b1bb16
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Oct 3 13:39:03 2014 -0700

    DRILL-1490: Upgrade to ProGaurd 5.0

 exec/jdbc-all/pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d29c7c4ad02462a0d005363393a599a869b09d89
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Oct 3 18:37:01 2014 -0700

    DRILL-1497: Fix test failure in o.a.drill.jdbc.test.TestMetadataDDL

 .../org/apache/drill/jdbc/test/JdbcAssert.java     |  45 +++++-
 .../apache/drill/jdbc/test/TestMetadataDDL.java    | 168 ++++++++++-----------
 2 files changed, 127 insertions(+), 86 deletions(-)

commit 771554335cc3be8329c240baf35c60f4c858faf1
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sat Sep 13 23:02:02 2014 -0700

    DRILL-1409: DbVisualizer fails to connect to Drill using embedded jdbc driver

 .../org/apache/drill/jdbc/DrillConnectionImpl.java    | 19 +++++++++++--------
 1 file changed, 11 insertions(+), 8 deletions(-)

commit dd9fce0e8c480fe0ee3fdffc13b8368fd8de1f0f
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu Oct 2 16:11:04 2014 -0700

    DRILL-1485: tools/verify_release.sh does not have execute permission bit set

 tools/verify_release.sh | 0
 1 file changed, 0 insertions(+), 0 deletions(-)

commit d752487a8298c7a2afda45392246829f97a6e57c
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Oct 3 15:42:26 2014 -0700

    DRILL-1495: Test cases should log relevant message in case of expected failures

 exec/java-exec/src/test/java/org/apache/drill/TestBugFixes.java    | 7 ++++++-
 .../src/test/java/org/apache/drill/TestExampleQueries.java         | 7 ++++++-
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 919baa0b2f17feffd1736a835ba5d35c6c2fa2aa
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Oct 3 15:36:32 2014 -0700

    DRILL-1494: Fix annoying and unnecessary warning 'Failure while trying to load .drill file'

 .../src/main/java/org/apache/drill/exec/store/ClassPathFileSystem.java  | 2 +-
 .../java/org/apache/drill/exec/store/dfs/WorkspaceSchemaFactory.java    | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

commit e93fb456a4ed096836dd2a60f98c281c44de34c3
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Oct 8 11:23:57 2014 -0700

    DRILL-1505: Updating Session Value Doesn't Reflect In 'sys.options' Query Output

 .../main/java/org/apache/drill/exec/server/options/OptionValue.java  | 5 +++++
 .../org/apache/drill/exec/server/options/QueryOptionManager.java     | 5 ++---
 2 files changed, 7 insertions(+), 3 deletions(-)

commit c6ad592a6b2fd042426b3459d56ccae51df1766d
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu Oct 9 13:45:02 2014 -0700

    Adding my public key.

 KEYS | 103 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 103 insertions(+)

commit b8d5c7dd0c9edc2a5ac1465445dd9ca2385c02f0
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Oct 7 21:20:24 2014 -0700

    Setting to SNAPSHOT version, (missed while collecting the stale PRs)

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/interpreter/pom.xml                     | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/pom.xml                                 | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 18 files changed, 18 insertions(+), 18 deletions(-)

commit cba842399d2a1adb0d9b761b1658ed90696d664e
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Oct 7 16:59:32 2014 -0700

    Updating projects version to 0.7.0-incubating-SNAPSHOT.
    
    The following pull requests have been either been merged or closed as of this release.
    
    closes #1  (via 207f2e4)
    closes #3  (*No longer relevant*)
    closes #8  (via cb3132a)
    closes #11 (via 727adb7, a73512d)
    closes #12 (*Issue fixed via DRILL-88*)
    closes #13 (*Closed as Won't Fix*)
    closes #14 (via f0be80d)
    closes #17 (via a38856c)
    closes #35 (via 741aab0)
    closes #60 (via 1648195)
    closes #64 (Resolved as part of other function merges)
    closes #65 (via 28dd76a)
    closes #66 (via 4862b2b)
    closes #67 (via 2ca9c90)

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 contrib/storage-mongo/pom.xml                | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/interpreter/pom.xml                     | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/pom.xml                                 | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 18 files changed, 18 insertions(+), 18 deletions(-)

commit 29dde769bb8c82743b9128c4cc1be4ec149ce939
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Oct 1 15:03:16 2014 -0700

    DRILL-1473: o.a.d.exec.planner.logical.DrillPushPartitionFilterIntoScan asserts on Windows

 .../exec/planner/logical/DrillPushPartitionFilterIntoScan.java     | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit 5c220e35a2b0afd6a360de01efd2525dbd5580a0
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Sep 30 18:33:08 2014 -0700

    DRILL-1461: remove map and list repeated count functions, as they are not working

 .../org/apache/drill/exec/expr/fn/impl/SimpleRepeatedFunctions.java | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 37138810418c25dc455d5fc6c30b33cb612c4c50
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Sep 30 18:17:23 2014 -0700

    DRILL-1476: Clear  transfer pair list when in Limit when schema changes

 .../java/org/apache/drill/exec/physical/impl/limit/LimitRecordBatch.java | 1 +
 1 file changed, 1 insertion(+)

commit d8edf63781192923efb64a03de47df41242f309d
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri Sep 12 00:43:41 2014 -0700

    DRILL-1405: Fix bug when loading repeated vectors with 0 valuecount

 .../src/main/java/org/apache/drill/exec/record/RecordBatchLoader.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit a13fc39b05addabb4328b9211aa897b8e0387dd0
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Sep 29 17:11:05 2014 -0700

    DRILL-1461: Repeated count fails on varchar.
    
    This patch also includes implementations for all of the repeated_contains methods for the basic JSON types.
    
    Small change was made to the unit tests for JSON as the leftover ALL_TEXT_MODE option was causing failures if the test were run in a different order.

 .../exec/expr/fn/impl/SimpleRepeatedFunctions.java | 267 +++++++++++++++++++++
 .../exec/vector/complex/writer/TestJsonReader.java |  22 ++
 .../test/resources/parquet/alltypes_repeated.json  | 110 ++++++++-
 .../store/json/json_basic_repeated_varchar.json    |   4 +
 4 files changed, 390 insertions(+), 13 deletions(-)

commit 10e48476920b57eb8e2ac72d3ba2c48bf158294a
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Sep 23 16:53:43 2014 -0700

    DRILL-1443: Enforce sort order when order by clause is used with select * query.  Fix in optiq.

 exec/java-exec/src/test/java/org/apache/drill/TestExampleQueries.java | 4 ++--
 pom.xml                                                               | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 0f286403c4c239e572c4a34ff2a15e605c0d036b
Author: Kamesh <kam.iitkgp@gmail.com>
Date:   Tue Sep 30 11:49:35 2014 -0700

    DRILL-1433: Fixing Where query on HBase store when row_key doesn't exist in HBase

 .../apache/drill/exec/store/hbase/TableStatsCalculator.java    | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 81fb18a08a07dd2ccf13194f614460cc27a2e2f3
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon Sep 29 18:34:03 2014 -0700

    DRILL-1468: Ensure text reader returns all columns when the
    field `columns` present in projected field list

 .../drill/exec/store/text/DrillTextRecordReader.java     | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 8773cb0c0616d13d055220e6372b3659ecfdfdea
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Mon Sep 29 16:11:14 2014 -0700

    DRILL-1411: Disable feature by default. Add an overcommit factor to the fragment limit. Can be enabled and overcommit factor can be set as bootstrap parameters.

 .../main/java/io/netty/buffer/FakeAllocator.java   |  2 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |  4 ++
 .../org/apache/drill/exec/memory/Accountor.java    | 65 +++++++++++++++++++++-
 .../apache/drill/exec/memory/AtomicRemainder.java  | 13 ++++-
 .../drill/exec/memory/TopLevelAllocator.java       | 12 ++--
 .../apache/drill/exec/memory/TestAllocators.java   |  2 +
 6 files changed, 88 insertions(+), 10 deletions(-)

commit 4862b2b08bf16e9ef8906d257bf547a948939517
Author: Alexander Zarei <azarei@ece.ubc.ca>
Date:   Thu Aug 7 16:32:00 2014 -0700

    DRILL-1297: C++ Client. Hide Dependencies From Public API to enable using C++ Client as a DLL

 contrib/native/client/example/querySubmitter.cpp   | 10 +++---
 contrib/native/client/readme.win.txt               | 25 ++++++++++-----
 contrib/native/client/scripts/cpProtofiles.sh      |  2 --
 .../native/client/src/clientlib/drillClient.cpp    | 11 ++++---
 .../native/client/src/clientlib/recordBatch.cpp    | 33 ++++++++++++++++++++
 .../client/src/include/drill/drillClient.hpp       | 25 +++++++++++----
 contrib/native/client/src/include/drill/drillc.hpp |  1 -
 .../client/src/include/drill/recordBatch.hpp       | 36 +++++++++-------------
 contrib/native/client/src/protobuf/CMakeLists.txt  |  2 +-
 .../src/{include/drill => }/protobuf/User.pb.h     |  0
 10 files changed, 96 insertions(+), 49 deletions(-)

commit ef254649f89617e792a45a3c66d9340b82efa048
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Mon Sep 29 17:34:07 2014 -0700

    DRILL-1368 - Fix to read Parquet Gzip files on systems

 .../java/parquet/hadoop/CodecFactoryExposer.java   | 33 ++++++++++++++++++----
 1 file changed, 27 insertions(+), 6 deletions(-)

commit e12ad40bcd46fc47e9aca731d05617c0cf8d0374
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Sep 29 17:30:48 2014 -0700

    DRILL-1428 - SqlLine fails to start on Windows

 distribution/src/resources/sqlline.bat | 388 ++++++++++++++++-----------------
 1 file changed, 194 insertions(+), 194 deletions(-)

commit 1959ec667658b7d3cbcea57cc66341b531e00658
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sun Sep 28 17:37:42 2014 -0700

    DRILL-1465: Enhance push partition filter rule to handle Filters appearing above a Project. Modify group scans' digests to include number of files being considered.
    
    Resource files for testing partition filter pushdown.

 .../drill/exec/planner/logical/DirPathBuilder.java |   9 +-
 .../logical/DrillPushPartitionFilterIntoScan.java  |  96 ++++++++++++-----
 .../drill/exec/planner/logical/DrillRuleSets.java  |   4 +-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  15 ++-
 .../drill/exec/store/parquet/ParquetGroupScan.java |   1 +
 .../java/org/apache/drill/TestPartitionFilter.java | 113 +++++++++++++++++++++
 .../multilevel/csv/1994/Q1/orders_94_q1.csv        |  10 ++
 .../multilevel/csv/1994/Q2/orders_94_q2.csv        |  10 ++
 .../multilevel/csv/1994/Q3/orders_94_q3.csv        |  10 ++
 .../multilevel/csv/1994/Q4/orders_94_q4.csv        |  10 ++
 .../multilevel/csv/1995/Q1/orders_95_q1.csv        |  10 ++
 .../multilevel/csv/1995/Q2/orders_95_q2.csv        |  10 ++
 .../multilevel/csv/1995/Q3/orders_95_q3.csv        |  10 ++
 .../multilevel/csv/1995/Q4/orders_95_q4.csv        |  10 ++
 .../multilevel/json/1994/Q1/orders_94_q1.json      | 101 ++++++++++++++++++
 .../multilevel/json/1994/Q2/orders_94_q2.json      | 101 ++++++++++++++++++
 .../multilevel/json/1994/Q3/orders_94_q3.json      | 101 ++++++++++++++++++
 .../multilevel/json/1994/Q4/orders_94_q4.json      | 101 ++++++++++++++++++
 .../multilevel/json/1995/Q1/orders_95_q1.json      | 101 ++++++++++++++++++
 .../multilevel/json/1995/Q2/orders_95_q2.json      | 101 ++++++++++++++++++
 .../multilevel/json/1995/Q3/orders_95_q3.json      | 101 ++++++++++++++++++
 .../multilevel/json/1995/Q4/orders_95_q4.json      | 101 ++++++++++++++++++
 .../parquet/1994/Q1/orders_94_q1.parquet           | Bin 0 -> 2015 bytes
 .../parquet/1994/Q2/orders_94_q2.parquet           | Bin 0 -> 2130 bytes
 .../parquet/1994/Q3/orders_94_q3.parquet           | Bin 0 -> 2054 bytes
 .../parquet/1994/Q4/orders_94_q4.parquet           | Bin 0 -> 2056 bytes
 .../parquet/1995/Q1/orders_95_q1.parquet           | Bin 0 -> 2180 bytes
 .../parquet/1995/Q2/orders_95_q2.parquet           | Bin 0 -> 2110 bytes
 .../parquet/1995/Q3/orders_95_q3.parquet           | Bin 0 -> 1902 bytes
 .../parquet/1995/Q4/orders_95_q4.parquet           | Bin 0 -> 2013 bytes
 30 files changed, 1094 insertions(+), 32 deletions(-)

commit f1fd9a9ab61cb9f4ce53be68f82ad7906b58cea4
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Mon Sep 29 17:27:48 2014 -0700

    DRILL-1444: Fix cancel in C++ client library

 contrib/native/client/example/querySubmitter.cpp   | 55 ++++++++++++++--------
 .../client/src/clientlib/drillClientImpl.cpp       | 21 ++++-----
 .../client/src/clientlib/drillClientImpl.hpp       |  4 +-
 3 files changed, 47 insertions(+), 33 deletions(-)

commit ebf4785553488d2262f007458049c4d2ca19b8a6
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Sep 29 14:54:11 2014 -0700

    DRILL-1427: Failure to initialize storage plug-in results in complete failure of drill-bit initialization

 .../apache/drill/exec/store/StoragePluginRegistry.java | 18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit a44cb9170c660cd9ee66750b0917d562942df1fb
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Sep 17 16:50:42 2014 -0700

    DRILL-1432: Propagate user credentials from client to the fragments

 .../org/apache/drill/exec/client/DrillClient.java  | 24 ++++++++++++++++++++--
 .../org/apache/drill/exec/ops/FragmentContext.java |  7 +++++++
 .../exec/planner/fragment/SimpleParallelizer.java  |  9 +++++---
 .../org/apache/drill/exec/rpc/user/UserClient.java |  6 ++++--
 .../apache/drill/exec/rpc/user/UserSession.java    |  4 ++++
 .../apache/drill/exec/work/foreman/Foreman.java    |  2 +-
 .../apache/drill/exec/pop/TestFragmentChecker.java |  5 ++++-
 7 files changed, 48 insertions(+), 9 deletions(-)

commit 1c40b5e745ab20da6725568c9e4790f34ae73c8f
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun Sep 21 15:03:56 2014 -0700

    DRILL-1125: Apply casts to handle different input types in the join condition

 .../exec/expr/ExpressionTreeMaterializer.java      |  7 ++-
 .../physical/impl/common/ChainedHashTable.java     | 61 ++++++++++++++++++++--
 .../apache/drill/exec/resolver/TypeCastRules.java  |  3 +-
 .../java/org/apache/drill/TestExampleQueries.java  |  6 +++
 4 files changed, 70 insertions(+), 7 deletions(-)

commit e22803a1d80fd47a39066c525c5598e7501db73a
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Sep 15 16:49:06 2014 -0700

    Drill 1416: convert_from() on JSON fails - regression

 .../src/main/codegen/templates/NullReader.java     | 14 +++++++-
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 10 +++++-
 .../exec/physical/impl/TestConvertFunctions.java   |  7 ++++
 .../src/test/resources/store/json/input2.json      | 39 ++++++++++++++++++++++
 .../json/json_project_null_object_from_list.json   | 10 ++++++
 5 files changed, 78 insertions(+), 2 deletions(-)

commit 130e24a803d182145f8c657bd272d27bc7d6ad6f
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Sep 15 10:45:45 2014 -0700

    DRILL-1419: JSON reader regression from project pushdown patch.
    
    Patch amended to include a minimal subset of the test file needed to confirm the issue.

 .../apache/drill/exec/store/easy/json/JSONRecordReader2.java  | 11 +++--------
 .../drill/exec/vector/complex/writer/TestJsonReader.java      | 11 ++++++++++-
 exec/java-exec/src/test/resources/store/json/clicks.json      |  5 +++++
 3 files changed, 18 insertions(+), 9 deletions(-)

commit 2fa593685befd55f6e95997be5365fd76bb5873c
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sun Sep 28 22:58:41 2014 -0700

    DRILL-1371: HBase queries fail when hbase.scan.sizecalculator.enabled is set to false

 .../src/main/java/org/apache/drill/exec/store/hbase/HBaseGroupScan.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9ac177c817fcc7d79ae1069e73f7e8cad88dfc99
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri Sep 12 01:37:49 2014 -0700

    DRILL-1407: Add scan size calculator option to HBase storage plugin configuration

 .../org/apache/drill/exec/store/hbase/HBaseGroupScan.java |  2 +-
 .../drill/exec/store/hbase/HBaseStoragePluginConfig.java  | 15 ++++++++++++++-
 .../drill/exec/store/hbase/TableStatsCalculator.java      | 13 +++++--------
 3 files changed, 20 insertions(+), 10 deletions(-)

commit 525bc79da6100af3ba3f264ca9c61d56d7cb11f6
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Sep 9 18:12:27 2014 -0700

    DRILL-1398: Clone HivePartition only when InputSplit has non-null partition in InputSplit->Partition map.

 .../src/main/java/org/apache/drill/exec/store/hive/HiveScan.java    | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 2a45d9597671378d50108ccdcb5abe9cf8c47c08
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Sep 16 17:24:47 2014 -0700

    DRILL-1426: Add IO wait stats to HBaseRecordReader

 .../org/apache/drill/exec/store/hbase/HBaseRecordReader.java  | 11 ++++++++++-
 .../java/org/apache/drill/exec/store/hbase/HBaseSubScan.java  |  3 ++-
 .../java/org/apache/drill/exec/physical/impl/ScanBatch.java   |  1 +
 3 files changed, 13 insertions(+), 2 deletions(-)

commit 2eb04e7b8f103a57312aa5d88a170a6edf398ed6
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Sep 16 17:23:12 2014 -0700

    DRILL-1425: Handle unknown operators in web ui

 .../drill/exec/server/rest/ProfileWrapper.java     |  6 +++--
 .../org/apache/drill/exec/proto/UserBitShared.java | 26 +++++++++++++++-------
 .../drill/exec/proto/beans/CoreOperatorType.java   |  6 +++--
 protocol/src/main/protobuf/UserBitShared.proto     |  3 ++-
 4 files changed, 28 insertions(+), 13 deletions(-)

commit 2ca9c907bff639e08a561eac32e0acab3a0b3304
Author: Kamesh <kam.iitkgp@gmail.com>
Date:   Sat Sep 27 18:35:28 2014 -0700

    DRILL-98: MongoDB storage plugin
    
    This commit disables MongoDB PStore due to changes to the PStore interface.

 contrib/pom.xml                                    |   1 +
 contrib/storage-mongo/pom.xml                      |  85 ++++
 .../exec/store/mongo/DrillMongoConstants.java      |  45 ++
 .../drill/exec/store/mongo/MongoCnxnManager.java   |  73 +++
 .../store/mongo/MongoCompareFunctionProcessor.java | 255 ++++++++++
 .../drill/exec/store/mongo/MongoFilterBuilder.java | 219 +++++++++
 .../drill/exec/store/mongo/MongoGroupScan.java     | 538 +++++++++++++++++++++
 .../store/mongo/MongoPushDownFilterForScan.java    | 103 ++++
 .../drill/exec/store/mongo/MongoRecordReader.java  | 302 ++++++++++++
 .../exec/store/mongo/MongoScanBatchCreator.java    |  68 +++
 .../drill/exec/store/mongo/MongoScanSpec.java      |  62 +++
 .../drill/exec/store/mongo/MongoStoragePlugin.java |  88 ++++
 .../exec/store/mongo/MongoStoragePluginConfig.java |  72 +++
 .../drill/exec/store/mongo/MongoSubScan.java       | 214 ++++++++
 .../apache/drill/exec/store/mongo/MongoUtils.java  |  89 ++++
 .../drill/exec/store/mongo/common/ChunkInfo.java   |  68 +++
 .../exec/store/mongo/common/MongoCompareOp.java    |  34 ++
 .../drill/exec/store/mongo/config/MongoPStore.java | 190 ++++++++
 .../store/mongo/config/MongoPStoreProvider.java    |  76 +++
 .../store/mongo/schema/MongoDatabaseSchema.java    |  59 +++
 .../store/mongo/schema/MongoSchemaFactory.java     | 189 ++++++++
 .../main/resources/bootstrap-storage-plugins.json  |   9 +
 .../src/main/resources/drill-module.conf           |  28 ++
 .../exec/store/mongo/TestMongoChunkAssignment.java | 274 +++++++++++
 distribution/pom.xml                               |   5 +
 distribution/src/assemble/bin.xml                  |   1 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../drill/exec/vector/complex/fn/JsonReader.java   |  16 +-
 .../vector/complex/fn/JsonReaderWithState.java     |  22 +
 30 files changed, 3186 insertions(+), 2 deletions(-)

commit 786fd36eb90676673dd1ccd64ae42ae3e8166df9
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Sep 26 00:42:49 2014 -0700

    DRILL-1414: Move profile storage to DFS rather than using PStore

 .../drill/exec/store/hbase/config/HBasePStore.java | 28 +++++--
 .../store/hbase/config/HBasePStoreProvider.java    |  8 +-
 .../src/resources/drill-override-example.conf      |  4 +
 .../java/org/apache/drill/exec/ExecConstants.java  |  2 +
 .../drill/exec/server/rest/ProfileResources.java   | 31 +++++--
 .../drill/exec/store/dfs/shim/DrillFileSystem.java |  1 +
 .../dfs/shim/fallback/FallbackFileSystem.java      | 10 ++-
 .../org/apache/drill/exec/store/sys/PStore.java    |  2 +
 .../drill/exec/store/sys/local/LocalPStore.java    | 58 +++++++++----
 .../exec/store/sys/local/NoWriteLocalPStore.java   | 15 +++-
 .../apache/drill/exec/store/sys/zk/ZkPStore.java   | 96 ++++++++++++++++------
 .../drill/exec/store/sys/zk/ZkPStoreProvider.java  | 42 +++++++++-
 .../drill/exec/work/foreman/QueryStatus.java       |  6 +-
 .../src/main/resources/rest/profile/list.ftl       | 20 ++++-
 14 files changed, 261 insertions(+), 62 deletions(-)

commit 9628f9bb5b8c5a9d842743bc2d127b3306be5c4b
Author: Aman Sinha <asinha@maprtech.com>
Date:   Thu Sep 11 13:02:16 2014 -0700

    DRILL-1386: Push directory filters into group scan for filesystem queries.

 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +-
 .../exec/physical/base/AbstractFileGroupScan.java  |  43 ++++
 .../exec/physical/base/AbstractGroupScan.java      |   7 +
 .../drill/exec/physical/base/FileGroupScan.java    |  29 +++
 .../apache/drill/exec/physical/base/GroupScan.java |   5 +
 .../exec/planner/common/DrillScanRelBase.java      |  10 +
 .../drill/exec/planner/logical/DirPathBuilder.java | 257 +++++++++++++++++++++
 .../logical/DrillPushPartitionFilterIntoScan.java  | 138 +++++++++++
 .../drill/exec/planner/logical/DrillRuleSets.java  |   1 +
 .../drill/exec/planner/logical/DrillScanRel.java   |  18 +-
 .../exec/planner/physical/PlannerSettings.java     |   4 +
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  34 ++-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  22 +-
 .../java/org/apache/drill/TestExampleQueries.java  |   1 +
 15 files changed, 560 insertions(+), 13 deletions(-)

commit 8def6e91489455c0ae670f49ef5ba51ef71b31bd
Author: Timothy Chen <tnachen@gmail.com>
Date:   Sun Sep 21 23:54:40 2014 -0700

    Patch for DRILL-705
    
    Currently only supports partitioning/ordering, not yet preceding or
    after offsets

 .../drill/common/expression/CastExpression.java    |    4 +-
 .../drill/common/logical/data/AbstractBuilder.java |    5 +
 .../common/logical/data/LogicalOperatorBase.java   |    3 +-
 .../drill/common/logical/data/NamedExpression.java |    2 +-
 .../apache/drill/common/logical/data/Window.java   |  112 +++
 .../drill/common/logical/data/WindowFrame.java     |   98 --
 .../data/visitors/AbstractLogicalVisitor.java      |    6 +-
 .../logical/data/visitors/LogicalVisitor.java      |    5 +-
 .../java-exec/src/main/codegen/data/AggrTypes1.tdd |    6 +-
 .../src/main/codegen/templates/TypeHelper.java     |    5 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |    3 +
 .../org/apache/drill/exec/memory/Accountor.java    |    9 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |   27 +-
 .../physical/base/AbstractPhysicalVisitor.java     |    6 +
 .../drill/exec/physical/base/AbstractSingle.java   |    2 +-
 .../drill/exec/physical/base/PhysicalOperator.java |    2 +-
 .../drill/exec/physical/base/PhysicalVisitor.java  |    2 +
 .../drill/exec/physical/config/WindowPOP.java      |   79 ++
 .../physical/impl/aggregate/InternalBatch.java     |    8 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |    2 -
 .../physical/impl/filter/FilterRecordBatch.java    |    4 +-
 .../exec/physical/impl/limit/LimitRecordBatch.java |    4 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   12 +-
 .../impl/svremover/RemovingRecordBatch.java        |    3 +-
 .../exec/physical/impl/trace/TraceRecordBatch.java |    3 +-
 .../window/StreamingWindowFrameBatchCreator.java   |   36 +
 .../window/StreamingWindowFrameRecordBatch.java    |  268 ++++++
 .../impl/window/StreamingWindowFrameTemplate.java  |  286 ++++++
 .../impl/window/StreamingWindowFramer.java         |   44 +
 .../exec/planner/common/DrillWindowRelBase.java    |   41 +
 .../exec/planner/fragment/StatsCollector.java      |    6 +
 .../exec/planner/logical/DrillAggregateRel.java    |    2 +-
 .../drill/exec/planner/logical/DrillLimitRule.java |    2 +-
 .../planner/logical/DrillPushProjIntoScan.java     |    3 +
 .../drill/exec/planner/logical/DrillRel.java       |    2 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |    6 +
 .../drill/exec/planner/logical/DrillWindowRel.java |  111 +++
 .../exec/planner/logical/DrillWindowRule.java      |   52 +
 .../drill/exec/planner/physical/AggPrelBase.java   |   19 +-
 .../drill/exec/planner/physical/LimitPrel.java     |    8 +-
 .../exec/planner/physical/StreamingWindowPrel.java |  136 +++
 .../planner/physical/StreamingWindowPrule.java     |  133 +++
 .../drill/exec/planner/sql/DrillOperatorTable.java |    7 +-
 .../exec/planner/sql/DrillSqlAggOperator.java      |    2 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   21 +-
 .../planner/sql/handlers/CreateTableHandler.java   |    5 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |   21 +-
 .../planner/sql/handlers/DescribeTableHandler.java |    4 +-
 .../exec/planner/sql/handlers/ExplainHandler.java  |   10 +-
 .../exec/planner/sql/handlers/ShowFileHandler.java |    5 +-
 .../planner/sql/handlers/ShowSchemasHandler.java   |    4 +-
 .../planner/sql/handlers/ShowTablesHandler.java    |    4 +-
 .../planner/sql/handlers/SqlHandlerConfig.java     |   47 +
 .../exec/planner/sql/parser/DrillSqlCall.java      |    6 +-
 .../exec/planner/sql/parser/SqlCreateTable.java    |    6 +-
 .../exec/planner/sql/parser/SqlCreateView.java     |   15 +-
 .../exec/planner/sql/parser/SqlDescribeTable.java  |    6 +-
 .../drill/exec/planner/sql/parser/SqlDropView.java |    6 +-
 .../exec/planner/sql/parser/SqlShowFiles.java      |    6 +-
 .../exec/planner/sql/parser/SqlShowSchemas.java    |    6 +-
 .../exec/planner/sql/parser/SqlShowTables.java     |   13 +-
 .../exec/planner/sql/parser/SqlUseSchema.java      |   14 +-
 .../exec/record/AbstractSingleRecordBatch.java     |    9 +-
 .../apache/drill/exec/record/VectorContainer.java  |   17 +
 .../test/java/org/apache/drill/exec/ExecTest.java  |    2 +-
 .../exec/physical/impl/limit/TestSimpleLimit.java  |    1 +
 .../exec/physical/impl/window/TestWindowFrame.java |  202 ++++
 .../apache/drill/exec/sql/TestWindowFunctions.java |   29 +
 .../src/test/resources/window/mediumData.json      | 1000 ++++++++++++++++++++
 .../src/test/resources/window/oneKeyCount.json     |   43 +
 .../src/test/resources/window/oneKeyCountData.json |    4 +
 .../resources/window/oneKeyCountMultiBatch.json    |   72 ++
 .../src/test/resources/window/twoKeys.json         |   44 +
 .../src/test/resources/window/twoKeysData.json     |    8 +
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  |    2 +-
 .../org/apache/drill/exec/proto/UserBitShared.java |   15 +-
 .../drill/exec/proto/beans/CoreOperatorType.java   |    4 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   11 +-
 78 files changed, 2997 insertions(+), 241 deletions(-)

commit 9bc71fc54b97b52ac5c7335247b6ca7887045fd2
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu Sep 4 20:40:50 2014 -0700

    DRILL-1383: Support interpreted execution for Drill expression tree.
    
    Fix OOM while running InterpreterBuilder

 exec/interpreter/pom.xml                           | 109 +++++++
 .../drill/exec/expr/ExpressionInterpreterTest.java | 201 +++++++++++++
 .../src/main/codegen/templates/TypeHelper.java     | 217 ++++++++++++-
 .../drill/exec/expr/DrillFuncHolderExpr.java       |  10 +
 .../drill/exec/expr/fn/DrillBooleanOPHolder.java   |   2 +-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  25 ++
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |  27 +-
 .../drill/exec/expr/fn/FunctionConverter.java      |   5 +-
 .../expr/fn/interpreter/DrillFuncInterpreter.java  |  26 ++
 .../fn/interpreter/DrillSimpleFuncInterpreter.java |  30 ++
 .../expr/fn/interpreter/InterpreterBuilder.java    |  69 +++++
 .../expr/fn/interpreter/InterpreterEvaluator.java  | 334 +++++++++++++++++++++
 .../expr/fn/interpreter/InterpreterGenerator.java  | 143 +++++++++
 .../drill/exec/vector/ValueHolderHelper.java       |  52 ++++
 exec/pom.xml                                       |   1 +
 15 files changed, 1234 insertions(+), 17 deletions(-)

commit 8b8d78726e3f33b3f57ab9110bd551a7690f0ed7
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon Sep 8 15:37:08 2014 -0700

    DRILL-1391 : Fix compilation error in run-time generated code for several math functions over decimal types.

 .../src/main/codegen/templates/MathFunctions.java  |  6 ++--
 .../drill/exec/physical/impl/TestDecimal.java      | 35 ++++++++++++++++++
 .../resources/decimal/simple_decimal_math.json     | 41 ++++++++++++++++++++++
 3 files changed, 78 insertions(+), 4 deletions(-)

commit 0988c08d29c59c0447b078fc60bb4d01e14fbcbc
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Sat Sep 13 20:29:47 2014 -0700

    DRILL-1411 Fragment memory planning

 .../main/java/io/netty/buffer/FakeAllocator.java   |  22 ++-
 .../org/apache/drill/exec/memory/Accountor.java    | 113 +++++++++++-
 .../apache/drill/exec/memory/AtomicRemainder.java  |  35 +++-
 .../apache/drill/exec/memory/BufferAllocator.java  |  21 ++-
 .../drill/exec/memory/TopLevelAllocator.java       |  71 ++++++--
 .../org/apache/drill/exec/ops/FragmentContext.java |  29 +++-
 .../org/apache/drill/exec/ops/OperatorContext.java |  11 +-
 .../drill/exec/physical/impl/BaseRootExec.java     |  10 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |   3 +-
 .../exec/physical/impl/SingleSenderCreator.java    |   4 +-
 .../broadcastsender/BroadcastSenderRootExec.java   |   4 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |   5 +-
 .../partitionsender/PartitionSenderRootExec.java   |   4 +-
 .../unorderedreceiver/UnorderedReceiverBatch.java  |   8 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |   3 +-
 .../drill/exec/record/AbstractRecordBatch.java     |  12 +-
 .../exec/store/parquet/ParquetRecordWriter.java    |   2 +-
 .../exec/work/batch/SpoolingRawBatchBuffer.java    |   2 +-
 .../drill/exec/work/foreman/QueryManager.java      |   4 +-
 .../apache/drill/exec/memory/TestAllocators.java   | 189 +++++++++++++++++++++
 .../test/resources/physical_allocator_test.json    |  50 ++++++
 21 files changed, 550 insertions(+), 52 deletions(-)

commit 28f5a9ab62f432887e9dbb4c16e831a6d1a76f55
Author: Tomer Shiran <tshiran@gmail.com>
Date:   Fri Sep 19 22:49:33 2014 -0700

    README update.

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9e164662f5296f7048c880c40bc551030fb58cca
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu Sep 11 19:12:33 2014 -0700

    DRILL-1403: HBase predicate pushdown filters are not getting applied

 .../java/org/apache/drill/exec/store/hbase/HBaseFilterBuilder.java  | 6 ++++++
 1 file changed, 6 insertions(+)

commit 676f5df6b14b10ccc3603360e0efee9c745c5b97
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu Sep 11 10:43:08 2014 -0700

    DRILL-1402: Add check-style rules for trailing space, TABs and blocks without braces

 .../java/org/apache/drill/common/JSONOptions.java  |  39 +--
 .../apache/drill/common/config/DrillConfig.java    |  38 +--
 .../common/exceptions/ExecutionSetupException.java |   5 +-
 .../common/expression/ExpressionFunction.java      |   5 +-
 .../common/expression/ExpressionStringBuilder.java |  25 +-
 .../drill/common/expression/FieldReference.java    |  36 +--
 .../drill/common/expression/FunctionCall.java      |   5 +-
 .../common/expression/FunctionCallFactory.java     |   9 +-
 .../expression/FunctionHolderExpression.java       |   5 +-
 .../drill/common/expression/FunctionName.java      |   2 +-
 .../drill/common/expression/IfExpression.java      |  80 +++---
 .../drill/common/expression/LogicalExpression.java |   5 +-
 .../common/expression/LogicalExpressionBase.java   |  28 +-
 .../drill/common/expression/PathSegment.java       |  97 ++++---
 .../apache/drill/common/expression/SchemaPath.java | 107 ++++----
 .../drill/common/expression/fn/CastFunctions.java  |   5 +-
 .../drill/common/expression/types/DataType.java    |  24 +-
 .../expression/visitors/AggregateChecker.java      |  25 +-
 .../expression/visitors/ConstantChecker.java       |  19 +-
 .../apache/drill/common/graph/AdjacencyList.java   |  19 +-
 .../drill/common/graph/AdjacencyListBuilder.java   |   7 +-
 .../org/apache/drill/common/graph/GraphAlgos.java  |  14 +-
 .../drill/common/logical/PlanProperties.java       |  26 +-
 .../apache/drill/common/logical/data/Filter.java   |   8 +-
 .../org/apache/drill/common/logical/data/Join.java |  17 +-
 .../common/logical/data/LogicalOperatorBase.java   |  42 +--
 .../apache/drill/common/logical/data/Project.java  |   4 +-
 .../org/apache/drill/common/logical/data/Scan.java |  11 +-
 .../apache/drill/common/logical/data/Sequence.java |  19 +-
 .../common/logical/data/SingleInputOperator.java   |   5 +-
 .../drill/common/logical/data/Transform.java       |  25 +-
 .../java/org/apache/drill/common/types/Types.java  |  96 ++++---
 .../drill/common/util/ConstructorChecker.java      |  22 +-
 .../apache/drill/common/util/DrillStringUtils.java |   9 +-
 .../org/apache/drill/common/util/FileUtils.java    |   5 +-
 .../org/apache/drill/common/util/PathScanner.java  |  29 +-
 common/src/main/resources/drill-module.conf        |   4 +-
 .../java/org/apache/drill/test/DrillAssert.java    |  13 +-
 common/src/test/resources/basic_physical.json      |  10 +-
 common/src/test/resources/drill-module.conf        |   4 +-
 common/src/test/resources/dsort-logical.json       |   6 +-
 common/src/test/resources/logback.xml              |   4 +-
 common/src/test/resources/simple_plan.json         |  19 +-
 common/src/test/resources/storage_engine_plan.json |   2 +-
 .../drill/exec/store/hbase/HBaseGroupScan.java     |   6 +-
 .../apache/drill/exec/store/hbase/HBaseUtils.java  |  16 +-
 .../drill/hbase/TestHBaseCFAsJSONString.java       |   4 +-
 .../storage-hbase/src/test/resources/logback.xml   |   2 +-
 .../drill/exec/expr/fn/HiveFunctionRegistry.java   |  37 ++-
 .../drill/exec/store/hive/HiveFieldConverter.java  |   4 +-
 .../org/apache/drill/exec/store/hive/HiveScan.java |   9 +-
 .../exec/store/hive/HiveStoragePluginConfig.java   |  13 +-
 .../apache/drill/exec/store/hive/HiveTable.java    |  33 ++-
 .../exec/store/hive/HiveTextRecordReader.java      |   9 +-
 .../exec/store/hive/schema/HiveSchemaFactory.java  |  42 +--
 .../apache/drill/exec/fn/hive/TestHiveUDFs.java    |  18 +-
 .../exec/store/hive/HiveTestDataGenerator.java     |  12 +-
 .../core/src/test/resources/logback.xml            |   2 +-
 .../src/main/java/io/netty/buffer/DrillBuf.java    |  94 +++----
 .../io/netty/buffer/UnsafeDirectLittleEndian.java  |   6 +-
 .../drill/exec/cache/CachedVectorContainer.java    |   6 +-
 .../apache/drill/exec/cache/DistributedCache.java  |  58 ++--
 .../exec/cache/VectorAccessibleSerializable.java   |  28 +-
 .../apache/drill/exec/cache/local/LocalCache.java  |  43 +--
 .../org/apache/drill/exec/client/DrillClient.java  |  37 +--
 .../java/org/apache/drill/exec/client/DumpCat.java |  38 +--
 .../drill/exec/client/PrintingResultsListener.java |   7 +-
 .../apache/drill/exec/client/QuerySubmitter.java   |  17 +-
 .../drill/exec/compile/AbstractClassCompiler.java  |   8 +-
 .../apache/drill/exec/compile/ByteCodeLoader.java  |  10 +-
 .../drill/exec/compile/ClassTransformer.java       |  71 +++--
 .../drill/exec/compile/DrillJavaFileObject.java    |   5 +-
 .../drill/exec/compile/JDKClassCompiler.java       |   8 +-
 .../apache/drill/exec/compile/MergeAdapter.java    |  77 +++---
 .../drill/exec/compile/QueryClassLoader.java       |   8 +-
 .../exec/compile/bytecode/InstructionModifier.java |  43 ++-
 .../exec/compile/bytecode/ValueHolderIden.java     |  54 ++--
 .../exec/compile/sig/CodeGeneratorMethod.java      |  19 +-
 .../apache/drill/exec/compile/sig/MappingSet.java  |   8 +-
 .../drill/exec/compile/sig/SignatureHolder.java    |  37 +--
 .../exec/coord/local/LocalClusterCoordinator.java  |  38 ++-
 .../drill/exec/coord/zk/ZKClusterCoordinator.java  |  17 +-
 .../java/org/apache/drill/exec/dotdrill/View.java  |   5 +-
 .../org/apache/drill/exec/expr/ClassGenerator.java |  99 +++----
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  30 ++-
 .../apache/drill/exec/expr/DirectExpression.java   |  16 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  30 ++-
 .../exec/expr/ExpressionTreeMaterializer.java      |  27 +-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  20 +-
 .../drill/exec/expr/fn/DrillFunctionRegistry.java  |  11 +-
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |  30 ++-
 .../drill/exec/expr/fn/FunctionConverter.java      | 103 +++----
 .../exec/expr/fn/FunctionGenerationHelper.java     |  16 +-
 .../drill/exec/expr/fn/ModifiedUnparseVisitor.java |   4 +-
 .../exec/expr/fn/impl/ByteFunctionHelpers.java     |  14 +-
 .../drill/exec/expr/fn/impl/ByteSubstring.java     |  11 +-
 .../drill/exec/expr/fn/impl/CharSubstring.java     |  10 +-
 .../drill/exec/expr/fn/impl/HashFunctions.java     |  74 +++---
 .../apache/drill/exec/expr/fn/impl/IsFalse.java    |   7 +-
 .../apache/drill/exec/expr/fn/impl/IsNotFalse.java |   7 +-
 .../apache/drill/exec/expr/fn/impl/IsNotTrue.java  |   8 +-
 .../org/apache/drill/exec/expr/fn/impl/IsTrue.java |   8 +-
 .../exec/expr/fn/impl/StringFunctionUtil.java      |  23 +-
 .../drill/exec/expr/fn/impl/StringFunctions.java   | 145 +++++-----
 .../apache/drill/exec/expr/fn/impl/VarHelpers.java |   9 +-
 .../org/apache/drill/exec/memory/Accountor.java    |  49 ++--
 .../apache/drill/exec/memory/AtomicRemainder.java  |  18 +-
 .../drill/exec/memory/TopLevelAllocator.java       |  45 ++--
 .../apache/drill/exec/metrics/DrillMetrics.java    |   6 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  30 ++-
 .../org/apache/drill/exec/ops/OperatorContext.java |  27 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |   4 +-
 .../drill/exec/physical/base/AbstractBase.java     |   8 +-
 .../physical/base/AbstractPhysicalVisitor.java     |   4 +-
 .../apache/drill/exec/physical/config/Screen.java  |   4 +-
 .../exec/physical/config/SingleMergeExchange.java  |   3 +-
 .../drill/exec/physical/config/UnionExchange.java  |   4 +-
 .../drill/exec/physical/impl/ImplCreator.java      |  10 +-
 .../physical/impl/OperatorCreatorRegistry.java     |  11 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  17 +-
 .../exec/physical/impl/SingleSenderCreator.java    |   9 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  31 ++-
 .../drill/exec/physical/impl/TraceInjector.java    |   8 +-
 .../exec/physical/impl/WriterRecordBatch.java      |  13 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java |  43 +--
 .../physical/impl/aggregate/HashAggTemplate.java   |  78 ++++--
 .../physical/impl/aggregate/HashAggregator.java    |   2 +-
 .../physical/impl/aggregate/InternalBatch.java     |  16 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |  71 ++---
 .../impl/aggregate/StreamingAggTemplate.java       | 173 +++++++-----
 .../impl/aggregate/StreamingAggregator.java        |   4 +-
 .../physical/impl/common/ChainedHashTable.java     |  27 +-
 .../physical/impl/common/HashTableTemplate.java    |  68 +++--
 .../physical/impl/filter/FilterRecordBatch.java    |  21 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |  11 +-
 .../physical/impl/join/HashJoinProbeTemplate.java  |  29 +-
 .../drill/exec/physical/impl/join/JoinStatus.java  |  61 +++--
 .../exec/physical/impl/join/JoinTemplate.java      |  27 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  29 +-
 .../physical/impl/join/MergeJoinBatchBuilder.java  |  39 ++-
 .../impl/mergereceiver/MergingRecordBatch.java     |  27 +-
 .../OrderedPartitionRecordBatch.java               |  23 +-
 .../impl/producer/ProducerConsumerBatch.java       |   5 +-
 .../physical/impl/project/ProjectRecordBatch.java  |  75 +++---
 .../physical/impl/project/ProjectorTemplate.java   |  24 +-
 .../exec/physical/impl/sort/RecordBatchData.java   |  12 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |  34 ++-
 .../physical/impl/sort/SortRecordBatchBuilder.java |  60 +++--
 .../exec/physical/impl/trace/TraceRecordBatch.java |  11 +-
 .../validate/IteratorValidatorBatchIterator.java   |  15 +-
 .../impl/validate/IteratorValidatorInjector.java   |   8 +-
 .../drill/exec/physical/impl/xsort/BatchGroup.java |  21 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |  46 ++--
 .../exec/physical/impl/xsort/MSortTemplate.java    |  12 +-
 .../drill/exec/planner/StarColumnHelper.java       |   6 +-
 .../drill/exec/planner/cost/DrillCostBase.java     |  90 +++----
 .../drill/exec/planner/cost/DrillRelOptCost.java   |   3 +-
 .../drill/exec/planner/fragment/Fragment.java      |  69 +++--
 .../planner/fragment/MakeFragmentsVisitor.java     |  14 +-
 .../exec/planner/fragment/SimpleParallelizer.java  |  11 +-
 .../exec/planner/logical/DrillAggregateRel.java    |   9 +-
 .../planner/logical/DrillPushProjIntoScan.java     |  10 +-
 .../drill/exec/planner/logical/DrillTable.java     |  40 +--
 .../drill/exec/planner/logical/ExprHelper.java     |   9 +-
 .../drill/exec/planner/logical/StoragePlugins.java |   6 +-
 .../drill/exec/planner/physical/AggPrelBase.java   |  10 +-
 .../drill/exec/planner/physical/HashAggPrule.java  |   7 +-
 .../drill/exec/planner/physical/HashJoinPrule.java |   4 +-
 .../planner/physical/HashToMergeExchangePrel.java  |   9 +-
 .../planner/physical/HashToRandomExchangePrel.java |   5 +-
 .../drill/exec/planner/physical/JoinPruleBase.java |   5 +-
 .../drill/exec/planner/physical/PrelUtil.java      |  59 ++--
 .../planner/physical/SingleMergeExchangePrel.java  |   9 +-
 .../exec/planner/physical/SubsetTransformer.java   |  14 +-
 .../exec/planner/physical/UnionExchangePrel.java   |   7 +-
 .../planner/physical/explain/PrelSequencer.java    |  83 +++---
 .../visitor/ExcessiveExchangeIdentifier.java       |  28 +-
 .../physical/visitor/FinalColumnReorderer.java     |  21 +-
 .../planner/physical/visitor/RelUniqifier.java     |  14 +-
 .../visitor/SelectionVectorPrelVisitor.java        |  13 +-
 .../physical/visitor/StarColumnConverter.java      |   7 +-
 .../exec/planner/sql/ExpandingConcurrentMap.java   |  31 ++-
 .../planner/sql/handlers/AbstractSqlHandler.java   |  20 +-
 .../planner/sql/handlers/CreateTableHandler.java   |  15 +-
 .../exec/planner/sql/handlers/ExplainHandler.java  |  16 +-
 .../planner/sql/handlers/UseSchemaHandler.java     |   9 +-
 .../exec/planner/sql/handlers/ViewHandler.java     |  21 +-
 .../exec/planner/sql/parser/DrillParserUtil.java   |   4 +-
 .../exec/planner/sql/parser/SqlCreateTable.java    |  11 +-
 .../exec/planner/sql/parser/SqlCreateView.java     |  14 +-
 .../exec/planner/sql/parser/SqlDescribeTable.java  |  11 +-
 .../drill/exec/planner/sql/parser/SqlDropView.java |   6 +-
 .../exec/planner/sql/parser/SqlShowFiles.java      |   8 +-
 .../exec/planner/sql/parser/SqlShowSchemas.java    |   7 +-
 .../exec/planner/sql/parser/SqlShowTables.java     |  11 +-
 .../planner/types/DrillFixedRelDataTypeImpl.java   |   8 +-
 .../exec/planner/types/RelDataTypeDrillImpl.java   |  17 +-
 .../exec/record/AbstractSingleRecordBatch.java     |  13 +-
 .../org/apache/drill/exec/record/BatchSchema.java  |  29 +-
 .../drill/exec/record/HyperVectorWrapper.java      |  31 ++-
 .../apache/drill/exec/record/MajorTypeSerDe.java   |  33 ++-
 .../drill/exec/record/MaterializedField.java       |  54 ++--
 .../apache/drill/exec/record/RawFragmentBatch.java |  12 +-
 .../apache/drill/exec/record/SchemaBuilder.java    |  19 +-
 .../drill/exec/record/SimpleVectorWrapper.java     |  29 +-
 .../org/apache/drill/exec/record/TypedFieldId.java |  99 ++++---
 .../apache/drill/exec/record/VectorContainer.java  |  31 +--
 .../apache/drill/exec/record/WritableBatch.java    |  10 +-
 .../exec/record/selection/SelectionVector4.java    |  24 +-
 .../record/selection/SelectionVector4Builder.java  |  14 +-
 .../exec/resolver/DefaultFunctionResolver.java     |   5 +-
 .../drill/exec/resolver/FunctionResolver.java      |   2 +-
 .../exec/resolver/FunctionResolverFactory.java     |   6 +-
 .../exec/resolver/ResolverTypePrecedence.java      |  40 +--
 .../apache/drill/exec/resolver/TypeCastRules.java  |   4 +-
 .../drill/exec/rpc/AbstractHandshakeHandler.java   |  11 +-
 .../apache/drill/exec/rpc/CoordinationQueue.java   |  24 +-
 .../apache/drill/exec/rpc/DrillRpcFutureImpl.java  |  10 +-
 .../apache/drill/exec/rpc/InboundRpcMessage.java   |  21 +-
 .../apache/drill/exec/rpc/OutboundRpcMessage.java  |  23 +-
 .../drill/exec/rpc/ProtobufLengthDecoder.java      |   8 +-
 .../drill/exec/rpc/ReconnectingConnection.java     |   7 +-
 .../apache/drill/exec/rpc/ResettableBarrier.java   |   7 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |  44 ++-
 .../java/org/apache/drill/exec/rpc/RpcConfig.java  |  61 +++--
 .../java/org/apache/drill/exec/rpc/RpcDecoder.java |  43 ++-
 .../java/org/apache/drill/exec/rpc/RpcEncoder.java |  37 +--
 .../org/apache/drill/exec/rpc/RpcException.java    |  16 +-
 .../rpc/control/ConnectionManagerRegistry.java     |  12 +-
 .../drill/exec/rpc/control/ControlClient.java      |   6 +-
 .../drill/exec/rpc/control/ControlConnection.java  |  21 +-
 .../drill/exec/rpc/control/ControlServer.java      |  11 +-
 .../drill/exec/rpc/control/WorkEventBus.java       |  17 +-
 .../org/apache/drill/exec/rpc/data/DataClient.java |   8 +-
 .../drill/exec/rpc/data/DataClientConnection.java  |  29 +-
 .../org/apache/drill/exec/rpc/data/DataServer.java |  13 +-
 .../drill/exec/rpc/user/QueryResultBatch.java      |  16 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    |  20 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |   3 +-
 .../apache/drill/exec/rpc/user/UserSession.java    |  18 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  17 +-
 .../apache/drill/exec/server/RemoteServiceSet.java |  17 +-
 .../drill/exec/server/options/OptionValue.java     |  48 ++--
 .../exec/server/options/SystemOptionManager.java   |  23 +-
 .../drill/exec/server/options/TypeValidators.java  |  27 +-
 .../drill/exec/store/ResourceInputStream.java      |  18 +-
 .../drill/exec/store/StoragePluginRegistry.java    |  23 +-
 .../drill/exec/store/dfs/BasicFormatMatcher.java   |  40 +--
 .../apache/drill/exec/store/dfs/FileSelection.java |  22 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  29 +-
 .../apache/drill/exec/store/dfs/FormatCreator.java |  44 ++-
 .../drill/exec/store/dfs/WorkspaceConfig.java      |   3 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  39 +--
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  18 +-
 .../exec/store/easy/json/JSONFormatPlugin.java     |   8 +-
 .../exec/store/easy/text/TextFormatPlugin.java     |  12 +-
 .../drill/exec/store/mock/MockGroupScanPOP.java    |  26 +-
 .../drill/exec/store/mock/MockRecordReader.java    |   7 +-
 .../exec/store/mock/MockStorageEngineConfig.java   |  13 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  20 +-
 .../store/parquet/columnreaders/ColumnReader.java  |  15 +-
 .../columnreaders/FixedWidthRepeatedReader.java    |  27 +-
 .../NullableVarLengthValuesColumn.java             |  12 +-
 .../parquet/columnreaders/ParquetRecordReader.java |  25 +-
 .../parquet/columnreaders/VarLenBinaryReader.java  |  10 +-
 .../columnreaders/VarLengthColumnReaders.java      |  18 +-
 .../apache/drill/exec/store/pojo/PojoDataType.java |  30 +--
 .../drill/exec/store/pojo/PojoRecordReader.java    |  67 ++---
 .../org/apache/drill/exec/store/pojo/Writers.java  |  71 +++--
 .../exec/store/schedule/AssignmentCreator.java     |   3 +-
 .../drill/exec/store/schedule/BlockMapBuilder.java |  11 +-
 .../drill/exec/store/sys/local/LocalPStore.java    |  35 +--
 .../exec/store/sys/local/LocalPStoreProvider.java  |  10 +-
 .../exec/store/text/DrillTextRecordWriter.java     |  11 +-
 .../drill/exec/vector/BaseDataValueVector.java     |  16 +-
 .../org/apache/drill/exec/vector/BitVector.java    |  27 +-
 .../vector/complex/AbstractContainerVector.java    |  28 +-
 .../drill/exec/vector/complex/MapVector.java       |  96 ++++---
 .../exec/vector/complex/RepeatedListVector.java    | 101 ++++---
 .../exec/vector/complex/RepeatedMapVector.java     | 138 +++++-----
 .../drill/exec/vector/complex/StateTool.java       |   9 +-
 .../drill/exec/vector/complex/fn/JsonReader.java   |  36 +--
 .../vector/complex/fn/JsonReaderWithState.java     |   5 +-
 .../complex/impl/RepeatedListReaderImpl.java       |  53 ++--
 .../vector/complex/impl/RepeatedMapReaderImpl.java |  63 ++---
 .../vector/complex/impl/SingleListReaderImpl.java  |  28 +-
 .../org/apache/drill/exec/work/ErrorHelper.java    |   7 +-
 .../drill/exec/work/batch/ControlHandlerImpl.java  |  27 +-
 .../drill/exec/work/batch/IncomingBuffers.java     |  20 +-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |  19 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  79 +++---
 .../drill/exec/work/foreman/QueryStatus.java       |  50 ++--
 .../drill/exec/work/fragment/FragmentExecutor.java |  34 ++-
 .../exec/work/fragment/NonRootFragmentManager.java |  24 +-
 .../apache/drill/exec/work/user/UserWorker.java    |  23 +-
 .../java-exec/src/main/resources/drill-module.conf |  22 +-
 .../src/main/resources/rest/profile/profile.ftl    |  12 +-
 .../java-exec/src/main/resources/rest/www/graph.js |   4 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  46 ++--
 .../test/java/org/apache/drill/PlanTestBase.java   |   9 +-
 .../test/java/org/apache/drill/PlanningBase.java   |  12 +-
 .../java/org/apache/drill/TestProjectPushDown.java |   3 +-
 .../org/apache/drill/exec/TestOpSerialization.java |  14 +-
 .../apache/drill/exec/cache/TestWriteToDisk.java   |   5 +-
 .../drill/exec/fn/impl/TestAggregateFunction.java  |  85 +++---
 .../drill/exec/fn/impl/TestNewMathFunctions.java   | 173 ++++++------
 .../drill/exec/physical/impl/SimpleRootExec.java   |  22 +-
 .../exec/physical/impl/TestBroadcastExchange.java  |  17 +-
 .../physical/impl/TestComparisonFunctions.java     |  19 +-
 .../exec/physical/impl/TestConvertFunctions.java   |   7 +-
 .../physical/impl/TestHashToRandomExchange.java    |   8 +-
 .../physical/impl/TestImplicitCastFunctions.java   |  50 ++--
 .../exec/physical/impl/TestSimpleFragmentRun.java  |  16 +-
 .../exec/physical/impl/TestStringFunctions.java    |  24 +-
 .../exec/physical/impl/TestUnionExchange.java      |   8 +-
 .../exec/physical/impl/TopN/TestSimpleTopN.java    |  17 +-
 .../exec/physical/impl/join/TestHashJoin.java      | 296 +++++++++++----------
 .../exec/physical/impl/join/TestMergeJoin.java     |  78 +++---
 .../impl/join/TestMergeJoinMulCondition.java       |  22 +-
 .../impl/mergereceiver/TestMergingReceiver.java    |  37 +--
 .../impl/project/TestSimpleProjection.java         |  15 +-
 .../physical/impl/writer/TestParquetWriter.java    |  31 ++-
 .../exec/physical/impl/writer/TestWriter.java      |   9 +-
 .../impl/xsort/TestSimpleExternalSort.java         |  49 ++--
 .../apache/drill/exec/pop/TestFragmentChecker.java |  13 +-
 .../record/ExpressionTreeMaterializerTest.java     |   4 +-
 .../apache/drill/exec/record/vector/TestLoad.java  |   9 +-
 .../org/apache/drill/exec/server/TestBitRpc.java   |  11 +-
 .../org/apache/drill/exec/store/ByteArrayUtil.java |  65 +++--
 .../drill/exec/store/CachedSingleFileSystem.java   |  23 +-
 .../apache/drill/exec/store/TestOutputMutator.java |  12 +-
 .../store/parquet/ParquetRecordReaderTest.java     |  20 +-
 .../exec/store/parquet/TestFileGenerator.java      |  30 ++-
 .../store/parquet/TestParquetPhysicalPlan.java     |  10 +-
 .../drill/exec/util/MiniZooKeeperCluster.java      |   4 +-
 .../exec/vector/complex/writer/TestJsonReader.java |  17 +-
 .../drill/exec/work/batch/TestSpoolingBuffer.java  |   3 +-
 .../src/test/resources/agg/hashagg/q6.json         |   2 +-
 .../src/test/resources/agg/hashagg/q7_1.json       |   2 +-
 .../src/test/resources/agg/hashagg/q7_2.json       |   2 +-
 .../src/test/resources/agg/hashagg/q7_3.json       |   2 +-
 .../src/test/resources/agg/hashagg/q8_1.json       |   4 +-
 exec/java-exec/src/test/resources/agg/test1.json   |  16 +-
 exec/java-exec/src/test/resources/agg/twokey.json  |  18 +-
 exec/java-exec/src/test/resources/donuts.json      | 249 +++++++++--------
 .../java-exec/src/test/resources/drill-module.conf |  18 +-
 .../test/resources/drill-spool-test-module.conf    |  28 +-
 .../java-exec/src/test/resources/filter/test1.json |  16 +-
 .../src/test/resources/filter/test_sv4.json        |  14 +-
 .../resources/functions/cast/testCastBigInt.json   |  26 +-
 .../resources/functions/cast/testCastFloat4.json   |  28 +-
 .../resources/functions/cast/testCastFloat8.json   |  28 +-
 .../test/resources/functions/cast/testCastInt.json |  26 +-
 .../resources/functions/cast/testCastNested.json   |  24 +-
 .../functions/cast/testCastNumException.json       |  14 +-
 .../functions/cast/testCastVarBinary.json          |  50 ++--
 .../resources/functions/cast/testCastVarChar.json  |  38 +--
 .../functions/cast/testCastVarCharNull.json        |   8 +-
 .../functions/cast/testICastConstant.json          |  54 ++--
 .../resources/functions/cast/testICastMockCol.json |  36 +--
 .../resources/functions/cast/testICastNullExp.json |  34 +--
 .../functions/cast/two_way_implicit_cast.json      |  12 +-
 .../test/resources/functions/comparisonTest.json   |  24 +-
 .../resources/functions/string/testCharLength.json |  34 +--
 .../resources/functions/string/testConcat.json     |  16 +-
 .../test/resources/functions/string/testLeft.json  |  14 +-
 .../test/resources/functions/string/testLike.json  |   8 +-
 .../test/resources/functions/string/testLower.json |  12 +-
 .../test/resources/functions/string/testLpad.json  |  31 ++-
 .../test/resources/functions/string/testLtrim.json |  22 +-
 .../resources/functions/string/testPosition.json   |   8 +-
 .../functions/string/testRegexpReplace.json        |  17 +-
 .../resources/functions/string/testReplace.json    |  22 +-
 .../test/resources/functions/string/testRight.json |  14 +-
 .../test/resources/functions/string/testRpad.json  |  29 +-
 .../test/resources/functions/string/testRtrim.json |  22 +-
 .../resources/functions/string/testSimilar.json    |   8 +-
 .../functions/string/testStringFuncs.json          |   8 +-
 .../resources/functions/string/testSubstr.json     |   8 +-
 .../test/resources/functions/string/testTrim.json  |   8 +-
 .../test/resources/functions/string/testUpper.json |  12 +-
 .../resources/functions/testByteSubstring.json     |  14 +-
 .../test/resources/functions/testSubstring.json    |  14 +-
 .../resources/functions/testSubstringNegative.json |  14 +-
 .../src/test/resources/join/hash_join.json         |  86 +++---
 .../resources/join/hj_multi_condition_join.json    |   2 +-
 .../src/test/resources/join/join_batchsize.json    |  14 +-
 .../resources/join/merge_inner_single_batch.json   |   6 +-
 .../src/test/resources/join/merge_multi_batch.json |   6 +-
 .../test/resources/join/merge_single_batch.json    |   6 +-
 .../src/test/resources/jsoninput/input1.json       |   4 +-
 .../src/test/resources/jsoninput/input2.json       |   8 +-
 .../src/test/resources/jsoninput/vvtypes.json      |   4 +-
 .../src/test/resources/limit/limit_exchanges.json  |   4 +-
 exec/java-exec/src/test/resources/limit/test1.json |  14 +-
 exec/java-exec/src/test/resources/limit/test2.json |  14 +-
 exec/java-exec/src/test/resources/limit/test3.json |  14 +-
 exec/java-exec/src/test/resources/limit/test4.json |  14 +-
 exec/java-exec/src/test/resources/mock-scan.json   |  12 +-
 .../test/resources/physical_double_exchange.json   |  22 +-
 .../src/test/resources/physical_join.json          |   4 +-
 .../test/resources/physical_json_scan_test1.json   |   6 +-
 .../src/test/resources/physical_repeated_1.json    |   6 +-
 .../src/test/resources/physical_test1.json         |  14 +-
 .../src/test/resources/physical_test2.json         |  25 +-
 .../src/test/resources/project/test1.json          |  16 +-
 .../java-exec/src/test/resources/queries/tpch.json |   7 +-
 .../src/test/resources/queries/tpch/04.sql         |   2 +-
 .../src/test/resources/queries/tpch/13.sql         |   6 +-
 .../src/test/resources/queries/tpch/15.sql         |   6 +-
 .../src/test/resources/queries/tpch/19_1.sql       |   4 +-
 .../src/test/resources/remover/test1.json          |  14 +-
 .../src/test/resources/scan_json_test_3.json       |  18 +-
 .../src/test/resources/scan_json_test_6.json       |   6 +-
 .../src/test/resources/scan_screen_logical.json    |   6 +-
 .../test/resources/sender/broadcast_exchange.json  |   6 +-
 .../resources/server/options_session_check.json    |   2 +-
 .../src/test/resources/server/options_set.json     |   3 +-
 exec/java-exec/src/test/resources/simple_plan.json |  19 +-
 .../src/test/resources/sort/one_key_sort.json      |  12 +-
 .../src/test/resources/sort/two_key_sort.json      |  12 +-
 .../src/test/resources/store/text/test.json        |   4 +-
 .../src/test/resources/testRepeatedWrite.json      | 146 +++++-----
 .../src/test/resources/topN/one_key_sort.json      |  12 +-
 .../src/test/resources/topN/two_key_sort.json      |  12 +-
 exec/java-exec/src/test/resources/union/test1.json |  26 +-
 .../resources/xsort/one_key_sort_descending.json   |   4 +-
 .../xsort/one_key_sort_descending_sv2.json         |   4 +-
 .../src/test/resources/xsort/oom_sort_test.json    |   4 +-
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |  32 +--
 .../java/org/apache/drill/jdbc/DrillCursor.java    |  30 ++-
 .../java/org/apache/drill/jdbc/DrillResultSet.java |  17 +-
 .../main/java/org/apache/drill/jdbc/MetaImpl.java  |  34 +--
 .../apache/drill/jdbc/test/JdbcTestActionBase.java |   4 +-
 .../apache/drill/jdbc/test/JdbcTestQueryBase.java  |   6 +-
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  |  10 +-
 exec/jdbc/src/test/resources/test-models.json      |   2 -
 pom.xml                                            |   4 +
 protocol/pom.xml                                   |   8 +
 src/main/resources/assemblies/source-assembly.xml  |  34 +--
 src/main/resources/checkstyle-config.xml           |  27 +-
 src/main/resources/checkstyle-suppressions.xml     |  22 +-
 442 files changed, 6073 insertions(+), 4629 deletions(-)

commit 7ae257c42b2eb4e1db778dca9ba64e2516078b38
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Sep 10 14:27:57 2014 -0700

    DRILL-1400: JsonConvertFrom should use the correct work buffer from JsonReader

 .../org/apache/drill/exec/expr/fn/impl/conv/JsonConvertFrom.java     | 2 ++
 .../java/org/apache/drill/exec/vector/complex/fn/JsonReader.java     | 5 +++++
 2 files changed, 7 insertions(+)

commit fab6815899b32271f29e2541c8f414a207b15282
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Sep 10 13:49:26 2014 -0700

    DRILL-1390: Hive query against an ES data source fails

 .../java/org/apache/drill/exec/store/hive/HiveScan.java     |  2 +-
 .../java/org/apache/drill/exec/store/hive/HiveSubScan.java  | 13 ++++++-------
 2 files changed, 7 insertions(+), 8 deletions(-)

commit e4e22f733c1c7653ce0fb789af274acd8e130a8c
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Sep 9 16:10:14 2014 -0700

    Disable Lilith SOCKET connection by default.

 distribution/src/resources/logback.xml | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 39990292e833bbfb419565a3503312c552110378
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Sep 9 13:26:06 2014 -0700

    DRILL-634: Cleanup/organize Java imports and trailing whitespaces from Drill code

 .../java/com/google/protobuf/WireFormatProxy.java  |  2 +-
 .../java/org/apache/drill/common/JSONOptions.java  | 24 +++---
 .../drill/common/config/CommonConstants.java       |  2 +-
 .../apache/drill/common/exceptions/DrillError.java |  4 +-
 .../drill/common/exceptions/DrillIOException.java  |  4 +-
 .../common/exceptions/ExecutionSetupException.java |  4 +-
 .../exceptions/ExpressionParsingException.java     |  4 +-
 .../exceptions/LogicalPlanParsingException.java    | 12 +--
 .../exceptions/PhysicalOperatorSetupException.java |  4 +-
 .../drill/common/expression/BooleanOperator.java   | 21 +++--
 .../drill/common/expression/CastExpression.java    | 10 +--
 .../drill/common/expression/ConvertExpression.java |  2 +-
 .../drill/common/expression/ErrorCollector.java    |  2 +-
 .../common/expression/ErrorCollectorImpl.java      |  6 +-
 .../common/expression/ExpressionPosition.java      | 12 +--
 .../drill/common/expression/FunctionCall.java      |  8 +-
 .../common/expression/FunctionCallFactory.java     | 10 +--
 .../expression/FunctionHolderExpression.java       |  9 ++-
 .../drill/common/expression/IfExpression.java      | 39 ++++------
 .../drill/common/expression/LogicalExpression.java |  2 +-
 .../common/expression/LogicalExpressionBase.java   | 16 ++--
 .../drill/common/expression/NullExpression.java    |  9 +--
 .../common/expression/OutputTypeDeterminer.java    | 20 ++---
 .../drill/common/expression/PathSegment.java       |  6 ++
 .../apache/drill/common/expression/SchemaPath.java |  1 -
 .../drill/common/expression/TypedNullConstant.java | 17 ++--
 .../drill/common/expression/fn/CastFunctions.java  |  4 +-
 .../drill/common/expression/types/AtomType.java    | 13 ++--
 .../drill/common/expression/types/DataType.java    | 20 ++---
 .../common/expression/types/DataTypeFactory.java   |  2 +-
 .../common/expression/types/LateBindType.java      |  2 +-
 .../expression/visitors/AbstractExprVisitor.java   | 22 +++---
 .../expression/visitors/AggregateChecker.java      | 18 ++---
 .../visitors/ConditionalExprOptimizer.java         | 49 +++++-------
 .../expression/visitors/ConstantChecker.java       | 24 +++---
 .../common/expression/visitors/ExprVisitor.java    | 18 ++---
 .../expression/visitors/ExpressionValidator.java   | 24 +++---
 .../expression/visitors/SimpleExprVisitor.java     | 22 +++---
 .../apache/drill/common/graph/AdjacencyList.java   | 14 ++--
 .../drill/common/graph/AdjacencyListBuilder.java   |  2 +-
 .../java/org/apache/drill/common/graph/Edge.java   |  4 +-
 .../java/org/apache/drill/common/graph/Graph.java  |  4 +-
 .../org/apache/drill/common/graph/GraphAlgos.java  |  2 +-
 .../org/apache/drill/common/graph/GraphValue.java  |  2 +-
 .../drill/common/logical/FormatPluginConfig.java   |  4 +-
 .../common/logical/FormatPluginConfigBase.java     |  9 +--
 .../apache/drill/common/logical/LogicalPlan.java   |  7 +-
 .../drill/common/logical/LogicalPlanBuilder.java   |  4 +-
 .../drill/common/logical/StoragePluginConfig.java  |  1 +
 .../common/logical/StoragePluginConfigBase.java    |  1 +
 .../common/logical/UnexpectedOperatorType.java     |  6 +-
 .../drill/common/logical/data/AbstractBuilder.java |  4 +-
 .../common/logical/data/AbstractSingleBuilder.java |  7 +-
 .../apache/drill/common/logical/data/Constant.java |  4 +-
 .../apache/drill/common/logical/data/Filter.java   | 12 +--
 .../apache/drill/common/logical/data/Flatten.java  |  8 +-
 .../common/logical/data/GroupingAggregate.java     | 27 +++----
 .../org/apache/drill/common/logical/data/Join.java | 22 +++---
 .../drill/common/logical/data/JoinCondition.java   |  2 +-
 .../apache/drill/common/logical/data/Limit.java    |  7 +-
 .../common/logical/data/LogicalOperatorBase.java   | 18 ++---
 .../drill/common/logical/data/NamedExpression.java |  4 +-
 .../apache/drill/common/logical/data/Order.java    | 30 ++++----
 .../apache/drill/common/logical/data/Project.java  |  3 -
 .../common/logical/data/RunningAggregate.java      | 10 +--
 .../org/apache/drill/common/logical/data/Scan.java |  8 +-
 .../apache/drill/common/logical/data/Sequence.java |  6 +-
 .../common/logical/data/SingleInputOperator.java   |  6 +-
 .../drill/common/logical/data/SinkOperator.java    |  2 +-
 .../drill/common/logical/data/SourceOperator.java  |  2 +-
 .../apache/drill/common/logical/data/Store.java    |  7 +-
 .../drill/common/logical/data/Transform.java       | 11 +--
 .../apache/drill/common/logical/data/Union.java    | 12 +--
 .../drill/common/logical/data/WindowFrame.java     | 22 +++---
 .../data/visitors/AbstractLogicalVisitor.java      |  2 +-
 .../java/org/apache/drill/common/types/Types.java  |  4 +-
 .../drill/common/util/AbstractDynamicBean.java     | 16 ++--
 .../drill/common/util/ConstructorChecker.java      | 12 +--
 .../apache/drill/common/util/DrillStringUtils.java |  4 +-
 .../org/apache/drill/common/util/FileUtils.java    |  2 +-
 .../java/org/apache/drill/common/util/Hook.java    |  4 +-
 .../exec/store/hbase/DrillHBaseConstants.java      |  2 +-
 .../drill/exec/store/hbase/HBaseGroupScan.java     |  2 +-
 .../drill/exec/store/hbase/HBaseRecordReader.java  |  3 +-
 .../drill/exec/store/hbase/HBaseStoragePlugin.java |  1 +
 .../exec/store/hbase/TableStatsCalculator.java     |  4 +-
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |  2 -
 .../org/apache/drill/hbase/TestTableGenerator.java |  2 +-
 .../apache/drill/exec/expr/HiveFuncHolderExpr.java |  7 +-
 .../apache/drill/exec/expr/fn/HiveFuncHolder.java  | 25 +++---
 .../drill/exec/expr/fn/HiveFunctionRegistry.java   |  4 +-
 .../drill/exec/store/hive/HiveFieldConverter.java  | 13 ++++
 .../drill/exec/store/hive/HiveRecordReader.java    |  8 +-
 .../org/apache/drill/exec/store/hive/HiveScan.java |  2 +-
 .../exec/store/hive/HiveScanBatchCreator.java      |  7 +-
 .../drill/exec/store/hive/HiveStoragePlugin.java   |  2 -
 .../exec/store/hive/HiveStoragePluginConfig.java   |  9 +--
 .../exec/store/hive/schema/DrillHiveTable.java     |  7 +-
 .../exec/store/hive/schema/DrillHiveViewTable.java |  1 +
 .../exec/store/hive/schema/HiveDatabaseSchema.java |  2 -
 .../exec/store/hive/schema/HiveSchemaFactory.java  |  4 +-
 .../apache/drill/exec/TestHiveProjectPushDown.java |  4 +-
 .../apache/drill/exec/fn/hive/TestHiveUDFs.java    |  5 +-
 .../drill/exec/fn/hive/TestSampleHiveUDFs.java     |  8 +-
 .../exec/store/hive/HiveTestDataGenerator.java     |  9 ++-
 .../io/netty/buffer/UnsafeDirectLittleEndian.java  |  2 -
 .../apache/drill/exec/cache/DistributedCache.java  |  2 -
 .../drill/exec/cache/DistributedMultiMap.java      |  1 -
 .../exec/cache/VectorAccessibleSerializable.java   |  1 -
 .../infinispan/JacksonAdvancedExternalizer.java    |  3 -
 .../infinispan/ProtobufAdvancedExternalizer.java   |  1 -
 .../cache/infinispan/VAAdvancedExternalizer.java   |  1 -
 .../org/apache/drill/exec/client/DrillClient.java  |  3 +-
 .../java/org/apache/drill/exec/client/DumpCat.java |  1 +
 .../apache/drill/exec/compile/ByteCodeLoader.java  |  1 +
 .../drill/exec/compile/ClassBodyBuilder.java       | 10 +--
 .../drill/exec/compile/JDKClassCompiler.java       |  1 +
 .../drill/exec/compile/JaninoClassCompiler.java    |  2 +
 .../apache/drill/exec/compile/MergeAdapter.java    |  4 +-
 .../drill/exec/compile/QueryClassLoader.java       | 19 ++---
 .../exec/compile/bytecode/ReplacingBasicValue.java |  1 +
 .../exec/compile/bytecode/ValueHolderIden.java     |  2 -
 .../exec/compile/sig/CodeGeneratorArgument.java    |  6 +-
 .../compile/sig/ConstantExpressionIdentifier.java  | 24 +++---
 .../apache/drill/exec/compile/sig/VVReadBatch.java |  3 -
 .../drill/exec/compile/sig/VVWriteBatch.java       |  3 -
 .../drill/exec/coord/ClusterCoordinator.java       |  1 -
 .../drill/exec/coord/DrillbitEndpointSerDe.java    | 12 +--
 .../drill/exec/coord/zk/ZKClusterCoordinator.java  |  1 +
 .../drill/exec/coord/zk/ZKRegistrationHandle.java  |  5 +-
 .../exec/coord/zk/ZkDistributedSemaphore.java      |  1 -
 .../java/org/apache/drill/exec/disk/Spool.java     |  2 +-
 .../java/org/apache/drill/exec/dotdrill/View.java  |  2 +-
 .../drill/exec/exception/BitComException.java      |  2 +-
 .../exception/ClassTransformationException.java    |  4 +-
 .../exec/exception/DrillbitStartupException.java   |  4 +-
 .../exec/exception/SchemaChangeException.java      |  2 +-
 .../drill/exec/exception/SetupException.java       |  4 +-
 .../apache/drill/exec/expr/DirectExpression.java   | 12 +--
 .../drill/exec/expr/DrillFuncHolderExpr.java       | 16 ++--
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  2 +-
 .../exec/expr/ExpressionTreeMaterializer.java      | 46 +++++------
 .../exec/expr/HoldingContainerExpression.java      | 17 ++--
 .../drill/exec/expr/SingleClassStringWriter.java   |  8 +-
 .../drill/exec/expr/ValueVectorReadExpression.java | 14 ++--
 .../exec/expr/ValueVectorWriteExpression.java      | 20 ++---
 .../exec/expr/annotations/FunctionTemplate.java    | 18 ++---
 .../drill/exec/expr/annotations/MethodMap.java     |  9 +--
 .../apache/drill/exec/expr/annotations/Param.java  |  3 -
 .../drill/exec/expr/fn/AbstractFuncHolder.java     |  5 +-
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |  4 +-
 .../exec/expr/fn/DrillComplexWriterFuncHolder.java | 44 +++++------
 .../exec/expr/fn/DrillDecimalAddFuncHolder.java    |  1 -
 .../exec/expr/fn/DrillDecimalAggFuncHolder.java    |  6 +-
 .../exec/expr/fn/DrillDecimalCastFuncHolder.java   |  1 -
 .../expr/fn/DrillDecimalDivScaleFuncHolder.java    |  2 +-
 .../expr/fn/DrillDecimalMaxScaleFuncHolder.java    |  1 -
 .../expr/fn/DrillDecimalModScaleFuncHolder.java    |  1 -
 .../expr/fn/DrillDecimalSetScaleFuncHolder.java    |  1 -
 .../exec/expr/fn/DrillDecimalSumAggFuncHolder.java |  6 +-
 .../expr/fn/DrillDecimalZeroScaleFuncHolder.java   |  1 -
 .../drill/exec/expr/fn/DrillFunctionRegistry.java  |  6 +-
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |  5 +-
 .../apache/drill/exec/expr/fn/FunctionBody.java    | 10 +--
 .../exec/expr/fn/FunctionGenerationHelper.java     | 11 +--
 .../expr/fn/FunctionImplementationRegistry.java    | 11 +--
 .../apache/drill/exec/expr/fn/ImportGrabber.java   |  8 +-
 .../drill/exec/expr/fn/MethodGrabbingVisitor.java  | 17 ++--
 .../drill/exec/expr/fn/ModifiedUnparseVisitor.java |  2 +
 .../apache/drill/exec/expr/fn/impl/Alternator.java | 10 +--
 .../drill/exec/expr/fn/impl/BitFunctions.java      | 14 ++--
 .../exec/expr/fn/impl/BooleanAggrFunctions.java    | 18 -----
 .../exec/expr/fn/impl/ByteFunctionHelpers.java     |  5 +-
 .../drill/exec/expr/fn/impl/ByteSubstring.java     |  2 +-
 .../exec/expr/fn/impl/CastBigIntTimeStampTZ.java   |  1 -
 .../drill/exec/expr/fn/impl/CharSubstring.java     |  6 +-
 .../exec/expr/fn/impl/ComparisonFunctions.java     | 44 ++++-------
 .../drill/exec/expr/fn/impl/DateUtility.java       |  2 -
 .../drill/exec/expr/fn/impl/DrillByteArray.java    |  2 +-
 .../apache/drill/exec/expr/fn/impl/HashHelper.java |  4 +-
 .../drill/exec/expr/fn/impl/MathFunctions.java     | 26 +++----
 .../apache/drill/exec/expr/fn/impl/RegexpUtil.java | 12 +--
 .../exec/expr/fn/impl/StringFunctionUtil.java      |  4 +-
 .../exec/expr/fn/impl/conv/BigIntConvertTo.java    |  6 +-
 .../expr/fn/impl/conv/BigIntVLongConvertTo.java    |  6 +-
 .../expr/fn/impl/conv/BooleanByteConvertTo.java    |  6 +-
 .../expr/fn/impl/conv/DateEpochBEConvertTo.java    |  6 +-
 .../exec/expr/fn/impl/conv/DateEpochConvertTo.java |  6 +-
 .../exec/expr/fn/impl/conv/DoubleConvertTo.java    |  6 +-
 .../exec/expr/fn/impl/conv/DummyConvertFrom.java   |  2 +-
 .../exec/expr/fn/impl/conv/DummyConvertTo.java     |  2 +-
 .../exec/expr/fn/impl/conv/FloatConvertTo.java     |  6 +-
 .../exec/expr/fn/impl/conv/IntBEConvertTo.java     |  6 +-
 .../drill/exec/expr/fn/impl/conv/IntConvertTo.java |  6 +-
 .../exec/expr/fn/impl/conv/IntVIntConvertTo.java   |  6 +-
 .../exec/expr/fn/impl/conv/JsonConvertFrom.java    | 15 +---
 .../expr/fn/impl/conv/SmallIntBEConvertTo.java     |  6 +-
 .../exec/expr/fn/impl/conv/SmallIntConvertTo.java  |  6 +-
 .../expr/fn/impl/conv/TimeEpochBEConvertTo.java    |  6 +-
 .../exec/expr/fn/impl/conv/TimeEpochConvertTo.java |  6 +-
 .../exec/expr/fn/impl/conv/TinyIntConvertTo.java   |  6 +-
 .../exec/expr/fn/impl/conv/UInt8ConvertTo.java     |  6 +-
 .../org/apache/drill/exec/memory/Accountor.java    |  2 +-
 .../apache/drill/exec/memory/AtomicRemainder.java  |  3 -
 .../apache/drill/exec/memory/BufferAllocator.java  |  2 +-
 .../drill/exec/memory/OutOfMemoryException.java    | 14 ++--
 .../drill/exec/memory/TopLevelAllocator.java       |  4 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  5 +-
 .../org/apache/drill/exec/ops/OperatorStats.java   |  2 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |  5 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  | 13 ++--
 .../apache/drill/exec/physical/PhysicalPlan.java   | 17 ++--
 .../drill/exec/physical/base/AbstractBase.java     |  1 -
 .../drill/exec/physical/base/AbstractMultiple.java |  4 +-
 .../physical/base/AbstractPhysicalVisitor.java     | 10 +--
 .../drill/exec/physical/base/AbstractSingle.java   |  1 -
 .../drill/exec/physical/base/FragmentRoot.java     |  2 +-
 .../apache/drill/exec/physical/base/GroupScan.java |  2 +-
 .../drill/exec/physical/base/HasAffinity.java      |  2 +-
 .../exec/physical/base/PhysicalOperatorUtil.java   |  4 +-
 .../drill/exec/physical/base/PhysicalVisitor.java  | 10 +--
 .../apache/drill/exec/physical/base/Receiver.java  |  4 +-
 .../apache/drill/exec/physical/base/Sender.java    |  4 +-
 .../org/apache/drill/exec/physical/base/Store.java |  6 +-
 .../drill/exec/physical/config/ExternalSort.java   |  3 +
 .../exec/physical/config/HashToMergeExchange.java  | 10 +--
 .../exec/physical/config/HashToRandomExchange.java |  9 +--
 .../exec/physical/config/MergingReceiverPOP.java   |  2 +-
 .../drill/exec/physical/config/PartitionRange.java |  8 +-
 .../exec/physical/config/ProducerConsumer.java     |  7 +-
 .../apache/drill/exec/physical/config/TopN.java    |  2 +
 .../exec/physical/config/UnorderedReceiver.java    |  2 +-
 .../drill/exec/physical/impl/BatchCreator.java     |  3 +-
 .../drill/exec/physical/impl/ImplCreator.java      |  4 +-
 .../exec/physical/impl/MergingReceiverCreator.java |  8 +-
 .../drill/exec/physical/impl/RootCreator.java      |  2 +-
 .../apache/drill/exec/physical/impl/RootExec.java  |  8 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  1 -
 .../drill/exec/physical/impl/ScreenCreator.java    |  5 +-
 .../drill/exec/physical/impl/SendingAccountor.java |  2 +-
 .../exec/physical/impl/SingleSenderCreator.java    | 26 +++----
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  1 -
 .../physical/impl/TopN/TopNSortBatchCreator.java   | 11 ++-
 .../drill/exec/physical/impl/TraceInjector.java    |  4 +-
 .../exec/physical/impl/WriterRecordBatch.java      |  1 -
 .../physical/impl/aggregate/BatchIterator.java     |  2 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java | 19 ++---
 .../impl/aggregate/HashAggBatchCreator.java        |  5 +-
 .../physical/impl/aggregate/HashAggTemplate.java   |  3 +-
 .../physical/impl/aggregate/HashAggregator.java    | 16 ++--
 .../physical/impl/aggregate/StreamingAggBatch.java |  8 --
 .../impl/aggregate/StreamingAggBatchCreator.java   |  4 +-
 .../impl/aggregate/StreamingAggTemplate.java       |  2 -
 .../impl/aggregate/StreamingAggregator.java        |  1 -
 .../broadcastsender/BroadcastSenderCreator.java    |  5 +-
 .../broadcastsender/BroadcastSenderRootExec.java   | 19 ++---
 .../physical/impl/common/ChainedHashTable.java     | 80 +++++++++----------
 .../drill/exec/physical/impl/common/HashTable.java |  3 -
 .../exec/physical/impl/common/HashTableConfig.java | 10 +--
 .../physical/impl/common/HashTableTemplate.java    |  9 +--
 .../physical/impl/filter/EvaluationPredicate.java  |  6 +-
 .../physical/impl/filter/FilterBatchCreator.java   |  5 +-
 .../physical/impl/filter/FilterRecordBatch.java    |  1 -
 .../exec/physical/impl/filter/FilterSignature.java |  4 +-
 .../exec/physical/impl/filter/FilterTemplate2.java | 10 +--
 .../exec/physical/impl/filter/FilterTemplate4.java |  6 +-
 .../drill/exec/physical/impl/filter/Filterer.java  |  4 +-
 .../impl/filter/ReturnValueExpression.java         | 20 ++---
 .../physical/impl/join/HashJoinBatchCreator.java   |  4 +-
 .../exec/physical/impl/join/HashJoinHelper.java    |  8 +-
 .../exec/physical/impl/join/HashJoinProbe.java     |  7 +-
 .../physical/impl/join/HashJoinProbeTemplate.java  | 10 +--
 .../exec/physical/impl/join/JoinTemplate.java      |  1 -
 .../drill/exec/physical/impl/join/JoinWorker.java  |  6 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  2 +-
 .../exec/physical/impl/join/MergeJoinCreator.java  |  4 +-
 .../physical/impl/limit/LimitBatchCreator.java     |  5 +-
 .../exec/physical/impl/limit/LimitRecordBatch.java | 10 +--
 .../impl/materialize/QueryWritableBatch.java       | 18 ++---
 .../impl/materialize/RecordMaterializer.java       |  4 +-
 .../impl/materialize/VectorRecordMaterializer.java |  2 +-
 .../MergingReceiverGeneratorBase.java              |  8 +-
 .../mergereceiver/MergingReceiverTemplate.java     |  6 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |  4 +-
 .../OrderedPartitionProjector.java                 |  4 +-
 .../OrderedPartitionProjectorTemplate.java         |  8 +-
 .../orderedpartitioner/SampleCopierTemplate.java   | 12 +--
 .../orderedpartitioner/SampleSortTemplate.java     |  8 +-
 .../impl/orderedpartitioner/SampleSorter.java      |  2 +-
 .../partitionsender/PartitionSenderCreator.java    |  3 +-
 .../partitionsender/PartitionSenderRootExec.java   |  6 +-
 .../physical/impl/partitionsender/Partitioner.java |  6 +-
 .../impl/partitionsender/PartitionerTemplate.java  |  3 +-
 .../impl/partitionsender/StatusHandler.java        |  1 +
 .../impl/producer/ProducerConsumerBatch.java       | 14 +---
 .../producer/ProducerConsumerBatchCreator.java     |  7 +-
 .../physical/impl/project/ProjectRecordBatch.java  | 90 +++++++++++-----------
 .../exec/physical/impl/sort/RecordBatchData.java   |  8 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |  1 -
 .../exec/physical/impl/sort/SortBatchCreator.java  |  4 +-
 .../exec/physical/impl/sort/SortTemplate.java      | 15 ++--
 .../drill/exec/physical/impl/sort/Sorter.java      |  3 +-
 .../drill/exec/physical/impl/svremover/Copier.java |  1 -
 .../physical/impl/svremover/CopierTemplate4.java   |  2 -
 .../impl/svremover/RemovingRecordBatch.java        |  8 +-
 .../physical/impl/svremover/SVRemoverCreator.java  |  4 +-
 .../physical/impl/trace/TraceBatchCreator.java     |  6 +-
 .../exec/physical/impl/trace/TraceRecordBatch.java |  2 -
 .../physical/impl/union/UnionAllBatchCreator.java  |  4 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |  2 +-
 .../unorderedreceiver/UnorderedReceiverBatch.java  |  4 +-
 .../UnorderedReceiverCreator.java                  |  6 +-
 .../validate/IteratorValidatorBatchIterator.java   |  3 +-
 .../impl/xsort/ExternalSortBatchCreator.java       |  9 ++-
 .../exec/physical/impl/xsort/MSortTemplate.java    | 16 ++--
 .../drill/exec/physical/impl/xsort/MSorter.java    |  2 +-
 .../physical/impl/xsort/PriorityQueueCopier.java   |  9 +--
 .../impl/xsort/PriorityQueueCopierTemplate.java    |  4 +-
 .../physical/impl/xsort/SingleBatchSorter.java     |  5 +-
 .../impl/xsort/SingleBatchSorterTemplate.java      | 17 ++--
 .../drill/exec/planner/StarColumnHelper.java       | 34 ++++----
 .../exec/planner/common/DrillAggregateRelBase.java |  8 +-
 .../exec/planner/common/DrillFilterRelBase.java    | 20 ++---
 .../exec/planner/common/DrillLimitRelBase.java     | 26 ++-----
 .../exec/planner/common/DrillProjectRelBase.java   | 14 ++--
 .../drill/exec/planner/common/DrillRelOptUtil.java | 10 +--
 .../exec/planner/common/DrillScanRelBase.java      |  6 +-
 .../exec/planner/common/DrillScreenRelBase.java    |  3 +-
 .../exec/planner/common/DrillStoreRelBase.java     |  2 +-
 .../exec/planner/common/DrillUnionRelBase.java     |  8 +-
 .../drill/exec/planner/cost/DrillCostBase.java     | 85 ++++++++++----------
 .../drill/exec/planner/cost/DrillRelOptCost.java   |  2 +-
 .../drill/exec/planner/fragment/Fragment.java      | 23 +++---
 .../planner/fragment/MakeFragmentsVisitor.java     |  8 +-
 .../drill/exec/planner/fragment/PlanningSet.java   |  1 -
 .../exec/planner/logical/CreateTableEntry.java     |  9 ++-
 .../exec/planner/logical/DrillAggregateRel.java    | 15 ++--
 .../drill/exec/planner/logical/DrillFilterRel.java |  2 +-
 .../exec/planner/logical/DrillFilterRule.java      |  1 -
 .../exec/planner/logical/DrillImplementor.java     | 14 ++--
 .../drill/exec/planner/logical/DrillJoinRel.java   |  4 -
 .../drill/exec/planner/logical/DrillLimitRel.java  |  6 +-
 .../planner/logical/DrillMergeProjectRule.java     |  5 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |  2 +-
 .../exec/planner/logical/DrillProjectRel.java      |  1 +
 .../planner/logical/DrillReduceAggregatesRule.java |  2 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  | 29 ++++---
 .../drill/exec/planner/logical/DrillScanRel.java   | 10 +--
 .../drill/exec/planner/logical/DrillScanRule.java  |  2 -
 .../drill/exec/planner/logical/DrillScreenRel.java |  2 +-
 .../drill/exec/planner/logical/DrillSortRel.java   | 14 ++--
 .../drill/exec/planner/logical/DrillStoreRel.java  |  4 +-
 .../drill/exec/planner/logical/DrillTable.java     | 22 +++---
 .../drill/exec/planner/logical/DrillUnionRel.java  |  5 +-
 .../drill/exec/planner/logical/DrillUnionRule.java |  2 +-
 .../exec/planner/logical/DynamicDrillTable.java    |  3 +-
 .../exec/planner/logical/EnumerableDrillRule.java  |  4 +-
 .../drill/exec/planner/logical/ExprHelper.java     |  1 -
 .../logical/FileSystemCreateTableEntry.java        | 11 +--
 .../drill/exec/planner/logical/RelOptHelper.java   |  4 +-
 .../exec/planner/logical/RewriteProjectRel.java    |  6 +-
 .../exec/planner/logical/ScanFieldDeterminer.java  | 11 +--
 .../drill/exec/planner/physical/AggPruleBase.java  |  2 +-
 .../planner/physical/BroadcastExchangePrel.java    |  3 -
 .../exec/planner/physical/ComplexToJsonPrel.java   |  4 +-
 .../planner/physical/ConvertCountToDirectScan.java |  4 -
 .../planner/physical/DrillDistributionTrait.java   |  9 ++-
 .../physical/DrillDistributionTraitDef.java        | 29 ++++---
 .../drill/exec/planner/physical/DrillScanPrel.java |  4 +-
 .../drill/exec/planner/physical/FilterPrel.java    |  7 +-
 .../drill/exec/planner/physical/HashAggPrel.java   |  9 ++-
 .../drill/exec/planner/physical/HashAggPrule.java  |  5 +-
 .../drill/exec/planner/physical/HashJoinPrel.java  |  7 +-
 .../drill/exec/planner/physical/HashJoinPrule.java | 16 ++--
 .../planner/physical/HashToMergeExchangePrel.java  |  4 -
 .../planner/physical/HashToRandomExchangePrel.java |  8 +-
 .../drill/exec/planner/physical/JoinPrel.java      |  4 +-
 .../drill/exec/planner/physical/JoinPruleBase.java |  3 +-
 .../drill/exec/planner/physical/LimitPrel.java     | 11 +--
 .../drill/exec/planner/physical/LimitPrule.java    |  2 -
 .../exec/planner/physical/MergeJoinPrule.java      | 16 ++--
 .../physical/OrderedPartitionExchangePrel.java     |  2 -
 .../exec/planner/physical/PhysicalPlanCreator.java |  1 -
 .../planner/physical/ProducerConsumerPrel.java     | 13 ++--
 .../exec/planner/physical/ProjectAllowDupPrel.java |  2 +-
 .../drill/exec/planner/physical/ProjectPrel.java   |  6 +-
 .../drill/exec/planner/physical/ProjectPrule.java  |  1 -
 .../drill/exec/planner/physical/ScanPrule.java     |  3 -
 .../drill/exec/planner/physical/ScreenPrel.java    |  3 +-
 .../physical/SelectionVectorRemoverPrel.java       |  3 +-
 .../planner/physical/SingleMergeExchangePrel.java  |  1 -
 .../drill/exec/planner/physical/SinglePrel.java    |  1 -
 .../exec/planner/physical/SortConvertPrule.java    | 14 ++--
 .../drill/exec/planner/physical/SortPrel.java      | 11 +--
 .../drill/exec/planner/physical/SortPrule.java     |  5 --
 .../drill/exec/planner/physical/StreamAggPrel.java |  2 +-
 .../exec/planner/physical/StreamAggPrule.java      |  4 +-
 .../drill/exec/planner/physical/TopNPrel.java      |  4 -
 .../drill/exec/planner/physical/UnionAllPrule.java | 12 +--
 .../exec/planner/physical/UnionDistinctPrule.java  | 10 +--
 .../exec/planner/physical/UnionExchangePrel.java   |  3 -
 .../drill/exec/planner/physical/UnionPrel.java     |  3 +-
 .../drill/exec/planner/physical/WriterPrel.java    |  9 +--
 .../drill/exec/planner/physical/WriterPrule.java   | 10 +--
 .../planner/physical/explain/PrelSequencer.java    |  1 -
 .../visitor/ExcessiveExchangeIdentifier.java       |  1 -
 .../physical/visitor/FinalColumnReorderer.java     |  4 +-
 .../visitor/ProducerConsumerPrelVisitor.java       |  7 +-
 .../planner/physical/visitor/RelUniqifier.java     |  2 +-
 .../exec/planner/sql/DrillConvertletTable.java     |  4 +-
 .../exec/planner/sql/DrillExtractConvertlet.java   |  6 +-
 .../drill/exec/planner/sql/DrillOperatorTable.java |  5 --
 .../exec/planner/sql/DrillSqlAggOperator.java      | 19 +----
 .../drill/exec/planner/sql/DrillSqlOperator.java   |  1 -
 .../drill/exec/planner/sql/DynamicReturnType.java  |  4 +-
 .../apache/drill/exec/planner/sql/DynamicType.java |  2 -
 .../apache/drill/exec/planner/sql/FixedRange.java  |  4 +-
 .../planner/sql/handlers/AbstractSqlHandler.java   |  3 +-
 .../planner/sql/handlers/CreateTableHandler.java   |  7 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    | 12 +--
 .../planner/sql/handlers/SetOptionHandler.java     |  5 +-
 .../exec/planner/sql/handlers/ShowFileHandler.java | 14 ++--
 .../sql/handlers/ShowFilesCommandResult.java       |  6 +-
 .../exec/planner/sql/handlers/ViewHandler.java     |  7 +-
 .../sql/parser/DrillCompoundIdentifier.java        |  2 +-
 .../exec/planner/sql/parser/DrillParserUtil.java   |  5 +-
 .../exec/planner/sql/parser/DrillSqlCall.java      |  3 +-
 .../exec/planner/sql/parser/SqlCreateTable.java    |  1 +
 .../exec/planner/sql/parser/SqlCreateView.java     |  1 +
 .../exec/planner/sql/parser/SqlDescribeTable.java  |  1 +
 .../drill/exec/planner/sql/parser/SqlDropView.java |  1 +
 .../exec/planner/sql/parser/SqlShowFiles.java      |  1 +
 .../exec/planner/sql/parser/SqlShowSchemas.java    |  1 +
 .../exec/planner/sql/parser/SqlShowTables.java     |  1 +
 .../exec/planner/sql/parser/SqlUseSchema.java      |  1 +
 .../impl/DrillParserWithCompoundIdConverter.java   |  4 +-
 .../exec/planner/torel/ConversionContext.java      | 26 +++----
 .../planner/types/DrillFixedRelDataTypeImpl.java   |  7 +-
 .../exec/planner/types/RelDataTypeDrillImpl.java   |  6 +-
 .../exec/record/AbstractSingleRecordBatch.java     |  1 -
 .../org/apache/drill/exec/record/BatchSchema.java  |  5 +-
 .../exec/record/ExpandableHyperContainer.java      |  4 -
 .../drill/exec/record/FragmentWritableBatch.java   | 28 +++----
 .../drill/exec/record/HyperVectorWrapper.java      |  6 +-
 .../apache/drill/exec/record/MajorTypeSerDe.java   | 22 +++---
 .../apache/drill/exec/record/RawFragmentBatch.java |  1 -
 .../exec/record/RawFragmentBatchProvider.java      |  6 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |  5 +-
 .../apache/drill/exec/record/SchemaBuilder.java    |  8 +-
 .../org/apache/drill/exec/record/TypedFieldId.java |  1 -
 .../apache/drill/exec/record/VectorAccessible.java |  1 -
 .../apache/drill/exec/record/VectorContainer.java  |  2 +-
 .../exec/record/selection/SelectionVector2.java    |  1 +
 .../exec/record/selection/SelectionVector4.java    | 24 +++---
 .../record/selection/SelectionVector4Builder.java  | 16 ++--
 .../exec/resolver/DefaultFunctionResolver.java     |  8 +-
 .../drill/exec/resolver/FunctionResolver.java      |  2 +-
 .../exec/resolver/FunctionResolverFactory.java     |  2 +-
 .../exec/resolver/ResolverTypePrecedence.java      | 19 +++--
 .../apache/drill/exec/resolver/TypeCastRules.java  |  1 -
 .../drill/exec/rpc/AbstractHandshakeHandler.java   |  6 +-
 .../main/java/org/apache/drill/exec/rpc/Acks.java  |  2 +-
 .../drill/exec/rpc/BaseRpcOutcomeListener.java     |  4 +-
 .../org/apache/drill/exec/rpc/BasicClient.java     |  6 +-
 .../drill/exec/rpc/BasicClientWithConnection.java  | 16 ++--
 .../org/apache/drill/exec/rpc/BasicServer.java     |  4 -
 .../drill/exec/rpc/ChannelClosedException.java     |  2 +-
 .../apache/drill/exec/rpc/CoordinationQueue.java   | 10 +--
 .../org/apache/drill/exec/rpc/DrillRpcFuture.java  |  2 +-
 .../apache/drill/exec/rpc/DrillRpcFutureImpl.java  | 11 +--
 .../apache/drill/exec/rpc/FutureBitCommand.java    |  2 +-
 .../apache/drill/exec/rpc/InboundRpcMessage.java   | 10 ++-
 .../apache/drill/exec/rpc/ListeningCommand.java    |  2 +-
 .../apache/drill/exec/rpc/OutboundRpcMessage.java  | 10 ++-
 .../drill/exec/rpc/PositiveAtomicInteger.java      |  6 +-
 .../drill/exec/rpc/ReconnectingConnection.java     |  4 +-
 .../apache/drill/exec/rpc/RemoteConnection.java    |  4 +-
 .../apache/drill/exec/rpc/RemoteRpcException.java  |  8 +-
 .../apache/drill/exec/rpc/ResettableBarrier.java   |  4 +-
 .../java/org/apache/drill/exec/rpc/Response.java   | 12 +--
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |  4 -
 .../apache/drill/exec/rpc/RpcCheckedFuture.java    |  6 +-
 .../java/org/apache/drill/exec/rpc/RpcCommand.java |  2 -
 .../java/org/apache/drill/exec/rpc/RpcConfig.java  | 30 ++++----
 .../drill/exec/rpc/RpcConnectionHandler.java       |  6 +-
 .../org/apache/drill/exec/rpc/RpcConstants.java    |  4 +-
 .../java/org/apache/drill/exec/rpc/RpcDecoder.java | 16 ++--
 .../java/org/apache/drill/exec/rpc/RpcEncoder.java | 39 +++++-----
 .../apache/drill/exec/rpc/RpcExceptionHandler.java |  6 +-
 .../java/org/apache/drill/exec/rpc/RpcMessage.java | 10 +--
 .../java/org/apache/drill/exec/rpc/RpcOutcome.java |  2 +-
 .../apache/drill/exec/rpc/RpcOutcomeListener.java  |  6 +-
 .../rpc/control/ConnectionManagerRegistry.java     | 12 +--
 .../drill/exec/rpc/control/ControlClient.java      |  6 +-
 .../drill/exec/rpc/control/ControlConnection.java  |  1 +
 .../exec/rpc/control/ControlConnectionManager.java |  8 +-
 .../rpc/control/ControlProtobufLengthDecoder.java  |  3 +-
 .../drill/exec/rpc/control/ControlRpcConfig.java   |  6 +-
 .../drill/exec/rpc/control/ControlServer.java      | 28 +++----
 .../apache/drill/exec/rpc/control/Controller.java  |  5 +-
 .../drill/exec/rpc/control/ControllerImpl.java     |  4 -
 .../exec/rpc/control/DefaultInstanceHandler.java   |  2 +-
 .../drill/exec/rpc/control/WorkEventBus.java       |  5 +-
 .../drill/exec/rpc/data/BitServerConnection.java   |  1 -
 .../org/apache/drill/exec/rpc/data/DataClient.java |  8 +-
 .../drill/exec/rpc/data/DataClientConnection.java  | 16 ++--
 .../drill/exec/rpc/data/DataConnectionManager.java |  4 +-
 .../exec/rpc/data/DataDefaultInstanceHandler.java  |  8 +-
 .../exec/rpc/data/DataProtobufLengthDecoder.java   |  5 +-
 .../apache/drill/exec/rpc/data/DataRpcConfig.java  |  1 -
 .../org/apache/drill/exec/rpc/data/DataServer.java |  2 +-
 .../org/apache/drill/exec/rpc/data/DataTunnel.java |  2 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    |  1 -
 .../org/apache/drill/exec/rpc/user/UserClient.java |  1 +
 .../exec/rpc/user/UserProtobufLengthDecoder.java   |  3 +-
 .../drill/exec/rpc/user/UserResultsListener.java   |  4 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |  1 -
 .../apache/drill/exec/rpc/user/UserSession.java    |  6 +-
 .../org/apache/drill/exec/schema/DataRecord.java   |  6 +-
 .../org/apache/drill/exec/schema/DiffSchema.java   |  4 +-
 .../java/org/apache/drill/exec/schema/Field.java   |  1 -
 .../org/apache/drill/exec/schema/ListSchema.java   |  1 -
 .../org/apache/drill/exec/schema/NamedField.java   |  1 +
 .../org/apache/drill/exec/schema/ObjectSchema.java |  6 +-
 .../java/org/apache/drill/exec/schema/Record.java  |  4 -
 .../exec/schema/json/jackson/JacksonHelper.java    |  7 +-
 .../apache/drill/exec/server/BootStrapContext.java |  3 -
 .../org/apache/drill/exec/server/Drillbit.java     |  2 -
 .../apache/drill/exec/server/StartupOptions.java   |  6 +-
 .../exec/server/options/FragmentOptionManager.java |  9 ++-
 .../exec/server/options/QueryOptionManager.java    |  9 ++-
 .../exec/server/options/SessionOptionManager.java  |  9 ++-
 .../exec/server/options/SystemOptionManager.java   | 11 +--
 .../drill/exec/server/options/TypeValidators.java  |  4 +-
 .../apache/drill/exec/server/rest/DrillRoot.java   | 16 ++--
 .../drill/exec/server/rest/MetricsResources.java   |  4 +-
 .../exec/server/rest/PluginConfigWrapper.java      |  7 +-
 .../drill/exec/server/rest/ProfileWrapper.java     | 23 +++---
 .../drill/exec/server/rest/QueryResources.java     |  1 -
 .../drill/exec/server/rest/QueryWrapper.java       | 22 +++---
 .../drill/exec/server/rest/StatusResources.java    | 20 ++---
 .../drill/exec/server/rest/StorageResources.java   | 33 ++++----
 .../drill/exec/server/rest/ThreadsResources.java   |  4 +-
 .../drill/exec/server/rest/WebResourceServer.java  |  8 +-
 .../apache/drill/exec/service/ServiceEngine.java   |  3 -
 .../drill/exec/store/AbstractRecordReader.java     |  7 +-
 .../apache/drill/exec/store/AbstractSchema.java    |  9 +--
 .../drill/exec/store/AbstractStoragePlugin.java    |  4 +-
 .../drill/exec/store/ClassPathFileSystem.java      | 16 ++--
 .../org/apache/drill/exec/store/RecordReader.java  | 13 ++--
 .../apache/drill/exec/store/RecordRecorder.java    |  8 +-
 .../drill/exec/store/ResourceInputStream.java      |  8 +-
 .../org/apache/drill/exec/store/SchemaFactory.java |  1 -
 .../org/apache/drill/exec/store/StoragePlugin.java |  4 +-
 .../apache/drill/exec/store/SubSchemaWrapper.java  |  8 +-
 .../org/apache/drill/exec/store/VectorHolder.java  |  4 +-
 .../drill/exec/store/dfs/BasicFormatMatcher.java   | 36 ++++-----
 .../apache/drill/exec/store/dfs/FileSelection.java |  6 +-
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  7 +-
 .../apache/drill/exec/store/dfs/FormatCreator.java | 30 ++++----
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |  8 +-
 .../drill/exec/store/dfs/FormatSelection.java      | 12 +--
 .../apache/drill/exec/store/dfs/MagicString.java   | 10 +--
 .../exec/store/dfs/NamedFormatPluginConfig.java    |  1 -
 .../drill/exec/store/dfs/ReadEntryWithPath.java    |  4 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  7 --
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  4 +-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  1 +
 .../drill/exec/store/dfs/easy/EasySubScan.java     |  2 -
 .../apache/drill/exec/store/dfs/easy/FileWork.java |  6 +-
 .../drill/exec/store/dfs/shim/DrillFileSystem.java |  4 +-
 .../exec/store/dfs/shim/DrillInputStream.java      |  4 +-
 .../exec/store/dfs/shim/DrillOutputStream.java     |  2 +-
 .../exec/store/dfs/shim/FileSystemCreator.java     |  5 +-
 .../dfs/shim/fallback/FallbackFileSystem.java      |  6 +-
 .../drill/exec/store/direct/DirectGroupScan.java   |  1 -
 .../exec/store/easy/json/JSONFormatPlugin.java     | 10 +--
 .../exec/store/easy/json/JSONRecordReader2.java    |  7 +-
 .../exec/store/easy/json/JsonRecordWriter.java     | 11 +--
 .../exec/store/easy/text/TextFormatPlugin.java     | 14 ++--
 .../exec/store/ischema/InfoSchemaDrillTable.java   |  2 +-
 .../store/ischema/InfoSchemaStoragePlugin.java     |  3 +-
 .../drill/exec/store/ischema/RecordGenerator.java  |  8 +-
 .../drill/exec/store/ischema/SelectedTable.java    |  8 +-
 .../drill/exec/store/mock/MockGroupScanPOP.java    |  2 -
 .../drill/exec/store/mock/MockRecordReader.java    |  8 +-
 .../drill/exec/store/mock/MockStorageEngine.java   |  1 -
 .../drill/exec/store/parquet/ColumnDataReader.java | 21 ++---
 .../parquet/ParquetDirectByteBufferAllocator.java  |  6 +-
 .../exec/store/parquet/ParquetFormatConfig.java    |  3 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    | 29 ++++---
 .../drill/exec/store/parquet/ParquetGroupScan.java |  1 +
 .../exec/store/parquet/ParquetRecordWriter.java    | 19 ++---
 .../store/parquet/ParquetScanBatchCreator.java     |  7 +-
 .../store/parquet/ParquetWriterBatchCreator.java   |  4 +-
 .../store/parquet/columnreaders/BitReader.java     |  4 +-
 .../store/parquet/columnreaders/ColumnReader.java  | 12 +--
 .../parquet/columnreaders/ColumnReaderFactory.java |  2 +-
 .../columnreaders/FixedByteAlignedReader.java      |  6 +-
 .../columnreaders/FixedWidthRepeatedReader.java    | 19 ++++-
 .../parquet/columnreaders/NullableBitReader.java   |  1 +
 .../columnreaders/NullableColumnReader.java        |  7 +-
 .../NullableFixedByteAlignedReaders.java           | 16 ++--
 .../NullableVarLengthValuesColumn.java             | 13 +++-
 .../store/parquet/columnreaders/PageReader.java    |  7 +-
 .../ParquetFixedWidthDictionaryReaders.java        |  4 +-
 .../parquet/columnreaders/ParquetRecordReader.java | 15 +---
 .../columnreaders/ParquetToDrillTypeConverter.java |  7 +-
 .../parquet/columnreaders/VarLengthColumn.java     |  7 +-
 .../columnreaders/VarLengthColumnReaders.java      |  5 +-
 .../columnreaders/VarLengthValuesColumn.java       | 10 ++-
 .../exec/store/parquet2/DrillParquetReader.java    | 22 +++---
 .../drill/exec/store/pojo/AbstractWriter.java      |  1 -
 .../org/apache/drill/exec/store/pojo/Writers.java  |  1 +
 .../drill/exec/store/schedule/AffinityCreator.java | 10 +--
 .../exec/store/schedule/AssignmentCreator.java     | 10 +--
 .../drill/exec/store/schedule/BlockMapBuilder.java | 30 ++++----
 .../exec/store/schedule/CompleteFileWork.java      | 10 +--
 .../drill/exec/store/schedule/CompleteWork.java    |  2 +-
 .../exec/store/schedule/EndpointByteMapImpl.java   | 16 ++--
 .../drill/exec/store/schedule/PartialWork.java     | 12 +--
 .../drill/exec/store/sys/PStoreRegistry.java       |  2 +-
 .../drill/exec/store/sys/SystemTablePlugin.java    |  5 +-
 .../drill/exec/store/sys/SystemTableScan.java      |  1 -
 .../exec/store/text/DrillTextRecordReader.java     |  5 --
 .../exec/store/text/DrillTextRecordWriter.java     |  1 -
 .../org/apache/drill/exec/util/AssertionUtil.java  |  8 +-
 .../org/apache/drill/exec/util/AtomicState.java    | 12 +--
 .../org/apache/drill/exec/util/BatchPrinter.java   |  7 +-
 .../org/apache/drill/exec/util/DecimalUtility.java |  1 -
 .../drill/exec/util/JsonStringArrayList.java       |  7 +-
 .../apache/drill/exec/util/JsonStringHashMap.java  |  9 +--
 .../org/apache/drill/exec/util/TextSerializer.java |  7 +-
 .../org/apache/drill/exec/util/VectorUtil.java     |  2 +-
 .../drill/exec/vector/BaseDataValueVector.java     |  4 +-
 .../org/apache/drill/exec/vector/BitVector.java    |  1 +
 .../org/apache/drill/exec/vector/CopyUtil.java     |  7 +-
 .../org/apache/drill/exec/vector/ObjectVector.java |  9 +--
 .../org/apache/drill/exec/vector/ValueVector.java  |  1 -
 .../apache/drill/exec/vector/VectorTrimmer.java    |  2 +-
 .../exec/vector/accessor/AbstractSqlAccessor.java  | 32 ++++----
 .../drill/exec/vector/accessor/SqlAccessor.java    |  6 +-
 .../exec/vector/accessor/sql/TimePrintMillis.java  |  4 +-
 .../vector/allocator/FixedVectorAllocator.java     |  1 +
 .../RepeatedVariableEstimatedAllocator.java        |  4 +-
 .../vector/allocator/RepeatedVectorAllocator.java  |  2 +-
 .../vector/allocator/VariableEstimatedVector.java  |  1 +
 .../vector/allocator/VariableVectorAllocator.java  |  1 +
 .../vector/complex/AbstractContainerVector.java    |  4 +-
 .../drill/exec/vector/complex/MapVector.java       |  5 +-
 .../exec/vector/complex/RepeatedListVector.java    |  3 +-
 .../exec/vector/complex/RepeatedMapVector.java     |  1 +
 .../drill/exec/vector/complex/fn/JsonReader.java   |  7 +-
 .../vector/complex/fn/UTF8JsonRecordSplitter.java  |  1 -
 .../vector/complex/impl/AbstractBaseReader.java    |  1 -
 .../vector/complex/impl/ComplexWriterImpl.java     |  4 +-
 .../complex/impl/RepeatedListReaderImpl.java       |  7 ++
 .../vector/complex/impl/RepeatedMapReaderImpl.java | 13 +++-
 .../vector/complex/impl/SingleListReaderImpl.java  |  5 ++
 .../vector/complex/impl/SingleMapReaderImpl.java   |  6 ++
 .../vector/complex/impl/VectorContainerWriter.java |  2 +-
 .../apache/drill/exec/work/EndpointListener.java   |  4 +-
 .../org/apache/drill/exec/work/ErrorHelper.java    |  3 +-
 .../org/apache/drill/exec/work/QueryWorkUnit.java  | 20 ++---
 .../apache/drill/exec/work/ResourceRequest.java    |  4 +-
 .../org/apache/drill/exec/work/RootNodeDriver.java |  4 +-
 .../exec/work/batch/AbstractDataCollector.java     |  1 -
 .../drill/exec/work/batch/ControlHandlerImpl.java  |  5 --
 .../drill/exec/work/batch/DataCollector.java       |  1 -
 .../drill/exec/work/batch/IncomingBuffers.java     |  1 -
 .../drill/exec/work/batch/MergingCollector.java    |  2 +-
 .../drill/exec/work/batch/RawBatchBuffer.java      |  1 -
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |  3 -
 .../apache/drill/exec/work/foreman/Foreman.java    |  4 +-
 .../exec/work/foreman/FragmentStatusListener.java  |  2 +-
 .../drill/exec/work/foreman/QueryManager.java      |  2 -
 .../drill/exec/work/foreman/QueryStatus.java       | 19 ++---
 .../exec/work/foreman/RootStatusReporter.java      |  4 +-
 .../drill/exec/work/fragment/FragmentManager.java  |  1 -
 .../exec/work/fragment/NonRootFragmentManager.java |  6 --
 .../exec/work/fragment/NonRootStatusReporter.java  |  8 +-
 .../exec/work/fragment/RootFragmentManager.java    |  1 -
 .../java/parquet/hadoop/CodecFactoryExposer.java   |  9 ++-
 .../parquet/hadoop/ColumnChunkIncReadStore.java    | 19 +++--
 .../hadoop/ColumnChunkPageWriteStoreExposer.java   |  5 +-
 .../java/org/apache/drill/ParquetSchemaMerge.java  |  1 -
 .../test/java/org/apache/drill/PlanningBase.java   | 15 ++--
 .../java/org/apache/drill/TestAltSortQueries.java  |  5 --
 .../java/org/apache/drill/TestExampleQueries.java  |  9 +--
 .../java/org/apache/drill/TestProjectPushDown.java |  2 -
 .../java/org/apache/drill/TestTpchDistributed.java |  2 +-
 .../test/java/org/apache/drill/TestUnionAll.java   | 27 ++++---
 .../org/apache/drill/exec/DrillSystemTestBase.java |  4 -
 .../test/java/org/apache/drill/exec/SortTest.java  | 14 ++--
 .../apache/drill/exec/TestQueriesOnLargeFile.java  | 17 ++--
 .../drill/exec/cache/TestCacheSerialization.java   |  3 -
 .../org/apache/drill/exec/client/DumpCatTest.java  |  3 +-
 .../apache/drill/exec/compile/ExampleTemplate.java |  4 +-
 .../exec/compile/ExampleTemplateWithInner.java     | 16 ++--
 .../org/apache/drill/exec/expr/ExpressionTest.java |  1 -
 .../exec/fn/impl/TestByteComparisonFunctions.java  |  2 +-
 .../drill/exec/fn/impl/TestMultiInputAdd.java      | 19 ++---
 .../drill/exec/fn/impl/TestNewMathFunctions.java   |  2 +-
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |  1 -
 .../apache/drill/exec/memory/TestEndianess.java    |  1 -
 .../drill/exec/physical/impl/SimpleRootExec.java   |  1 -
 .../exec/physical/impl/TestCastFunctions.java      |  2 -
 .../physical/impl/TestCastVarCharToBigInt.java     |  2 -
 .../physical/impl/TestComparisonFunctions.java     | 17 ++--
 .../drill/exec/physical/impl/TestDecimal.java      |  2 -
 .../physical/impl/TestHashToRandomExchange.java    |  2 -
 .../physical/impl/TestImplicitCastFunctions.java   |  1 -
 .../drill/exec/physical/impl/TestOptiqPlans.java   |  7 +-
 .../physical/impl/TestReverseImplicitCast.java     | 17 ++--
 .../exec/physical/impl/TestStringFunctions.java    |  3 -
 .../exec/physical/impl/TestUnionExchange.java      | 12 +--
 .../exec/physical/impl/TopN/TestSimpleTopN.java    | 32 ++------
 .../drill/exec/physical/impl/agg/TestHashAggr.java | 12 +--
 .../exec/physical/impl/join/TestHashJoin.java      |  4 -
 .../exec/physical/impl/join/TestMergeJoin.java     | 12 +--
 .../impl/join/TestMergeJoinMulCondition.java       |  2 -
 .../exec/physical/impl/limit/TestSimpleLimit.java  | 20 ++---
 .../impl/mergereceiver/TestMergingReceiver.java    | 10 +--
 .../TestOrderedPartitionExchange.java              |  1 -
 .../impl/project/TestSimpleProjection.java         | 11 +--
 .../exec/physical/impl/sort/TestSimpleSort.java    |  9 +--
 .../physical/impl/svremover/TestSVRemover.java     | 10 +--
 .../exec/physical/impl/union/TestSimpleUnion.java  | 18 ++---
 .../physical/impl/writer/TestParquetWriter.java    |  4 +-
 .../exec/physical/impl/writer/TestWriter.java      |  1 -
 .../org/apache/drill/exec/pop/PopUnitTestBase.java |  5 --
 .../org/apache/drill/exec/pop/TestFragmenter.java  |  6 +-
 .../drill/exec/store/CachedSingleFileSystem.java   | 11 +--
 .../drill/exec/store/TestAffinityCalculator.java   | 25 +-----
 .../apache/drill/exec/store/TestOutputMutator.java |  1 -
 .../exec/store/json/JsonRecordReader2Test.java     |  1 -
 .../store/parquet/ParquetRecordReaderTest.java     |  4 -
 .../exec/store/parquet/ParquetResultListener.java  |  3 +-
 .../exec/store/parquet/TestFileGenerator.java      |  1 +
 .../store/parquet/TestParquetPhysicalPlan.java     |  2 -
 .../drill/exec/store/text/TestTextColumn.java      | 12 +--
 .../exec/store/text/TextRecordReaderTest.java      | 35 ++-------
 .../drill/exec/vector/TestAdaptiveAllocation.java  | 12 +--
 .../vector/complex/writer/TestComplexToJson.java   |  8 +-
 .../complex/writer/TestComplexTypeWriter.java      | 38 ++++-----
 .../exec/vector/complex/writer/TestJsonReader.java | 10 +--
 .../exec/vector/complex/writer/TestRepeated.java   |  1 -
 .../drill/exec/work/batch/TestSpoolingBuffer.java  | 13 ++--
 .../apache/drill/jdbc/AvaticaDrillSqlAccessor.java |  4 +-
 .../main/java/org/apache/drill/jdbc/BasicList.java |  4 +-
 .../apache/drill/jdbc/DrillColumnMetaDataList.java | 12 ++-
 .../org/apache/drill/jdbc/DrillConnection.java     |  2 +-
 .../apache/drill/jdbc/DrillConnectionConfig.java   | 11 ++-
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |  1 +
 .../java/org/apache/drill/jdbc/DrillCursor.java    |  1 -
 .../org/apache/drill/jdbc/DrillJdbc41Factory.java  |  1 +
 .../org/apache/drill/jdbc/DrillPrepareResult.java  |  2 +-
 .../apache/drill/jdbc/DrillPreparedStatement.java  |  2 +-
 .../apache/drill/jdbc/DrillStatementRegistry.java  |  6 +-
 .../main/java/org/apache/drill/jdbc/Driver.java    |  3 +-
 .../drill/jdbc/GlobalServiceSetReference.java      |  8 +-
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |  8 +-
 .../apache/drill/jdbc/test/JdbcTestQueryBase.java  | 19 ++---
 .../jdbc/test/TestAggregateFunctionsQuery.java     | 19 +----
 .../apache/drill/jdbc/test/TestFunctionsQuery.java |  2 +-
 .../apache/drill/jdbc/test/TestHiveScalarUDFs.java |  4 +-
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  |  6 +-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |  8 +-
 .../apache/drill/jdbc/test/TestMetadataDDL.java    | 13 ++--
 .../java/org/apache/drill/jdbc/test/TestViews.java | 14 ++--
 770 files changed, 2639 insertions(+), 3231 deletions(-)

commit 20d2aa46e2b789d5fe09b1383ec559b4aa8f5316
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Fri Sep 5 15:58:47 2014 -0700

    DRILL-1389: Incorrect results when reading nullable data out of parquet
    
    Fixed numerous issues in the nullable reader for parquet, removed some cruft from previous attempts to fix earlier issues that did not properly address the root causes. The reader overall is simpler and cleaner. Verified against a variety of existing a new files with complete result checks comparing against Steven's parquet reader that uses the higher level interface.
    
    Wrote some new test tooling to allow for comparisons of large result sets.
    
    Re-enabled the fixed binary support that was accidentally removed in some of the last changes before 0.5.
    
    Fixed a bug where we were initializing the column data reader to read the uncompressed size of the column chunk, rather than the on-disk size.

 .../parquet/columnreaders/ColumnReaderFactory.java |  17 +-
 .../columnreaders/NullableColumnReader.java        |  81 ++--
 .../NullableFixedByteAlignedReaders.java           |  14 +-
 .../store/parquet/columnreaders/PageReader.java    |   2 +-
 .../parquet/columnreaders/ParquetRecordReader.java |   2 +-
 .../physical/impl/writer/TestParquetWriter.java    | 427 +++++++++++++++++++--
 .../store/parquet/ParquetRecordReaderTest.java     |  56 ++-
 .../exec/store/parquet/ParquetResultListener.java  | 179 +++++----
 8 files changed, 591 insertions(+), 187 deletions(-)

commit 00431d2c87040e8f5e79ab09753c20e73b56744e
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Sep 9 02:00:56 2014 -0700

    DRILL-1392: Include partition columns in star queries

 .../java/org/apache/drill/exec/store/dfs/easy/EasyFormatPlugin.java    | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit caf2329f415bb25a2e1deb4736186e0377e63203
Author: Patrick Wong <pwong@maprtech.com>
Date:   Mon Sep 8 21:49:20 2014 -0700

    DRILL-1379: MapR profile - use MapR v4.0.1 release

 pom.xml | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 036fe4c33dcef3fc9b4a3a22472b7aec8cfa2fad
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu Sep 11 19:22:07 2014 -0700

    Updating projects version to 0.6.0-incubating-SNAPSHOT.

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/pom.xml                                 | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 16 files changed, 16 insertions(+), 16 deletions(-)

commit 686eb9ef6d5dd425ae2eff4d2da58014b050fe6b
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Sep 3 09:30:56 2014 -0700

    DRILL-1372: Separate category B licenses into their own directory in the binary distribution.
    
    Adding a statement about the category B licensed software in the NOTICE files and adding the appropriate reference to MIT licensed source in the LICENSE file for the source distribution.

 LICENSE                                    |  32 ++++
 distribution/pom.xml                       |  64 +++----
 distribution/src/assemble/bin-mapr.xml     | 180 -------------------
 distribution/src/assemble/bin.xml          | 105 +++++++++--
 distribution/src/resources/LICENSE         | 270 -----------------------------
 distribution/src/resources/NOTICE          |   7 +
 distribution/src/resources/drill-config.sh |   6 +-
 7 files changed, 154 insertions(+), 510 deletions(-)

commit 09b00b1b7d2f65038a7d0da63bac89ab8ba8b4df
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Sep 2 22:00:17 2014 -0700

    DRILL-1369: Constrain code compilation cache.

 .../src/main/java/org/apache/drill/exec/compile/CodeCompiler.java    | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 1ce7c93909561cfd5ec79f2ada6eae47c61454d6
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Aug 31 22:37:41 2014 -0700

    Freeze hive fmpp > freemarker plugin dependency.

 contrib/storage-hive/core/pom.xml | 7 +++++++
 1 file changed, 7 insertions(+)

commit 15c8740b28e50c7ffa4a9241c1a081ba27954d69
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Aug 31 22:28:00 2014 -0700

    Updating fmpp so that is uses a specific version of the free marker plugin, avoiding build failures in situations where freemarker has a failed snapshot release.

 exec/java-exec/pom.xml | 7 +++++++
 1 file changed, 7 insertions(+)

commit b7df73062643be71d5e5a6885dbf7da162690ca8
Author: Jacques Nadeau <jacques.drill@gmail.com>
Date:   Sun Aug 31 10:54:08 2014 -0700

    Update READMEs

 README.md                            |  8 ++-----
 distribution/pom.xml                 |  1 +
 distribution/src/assemble/bin.xml    |  4 ++++
 distribution/src/resources/README.md | 44 ++++++++++++++++++++++++++++++++++++
 4 files changed, 51 insertions(+), 6 deletions(-)

commit b094c4438e92f2a1da8b01b8866193e2f641d252
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sat Aug 30 23:03:34 2014 -0700

    Fix partition bug in hive storage

 .../src/main/java/org/apache/drill/exec/store/hive/HiveScan.java  | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 08837cdb78c0cac32b4462a2e3e9f0a7d471676d
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Aug 30 20:24:06 2014 -0700

    Decrease slice target to 100,000 records.

 exec/java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit da988222c6f133347eccdefb815df4657f2fad8b
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sat Aug 30 19:12:13 2014 -0700

    Fix allocation errors and bug in external sort

 .../java/org/apache/drill/exec/physical/impl/ScanBatch.java   |  1 +
 .../drill/exec/physical/impl/sort/SortRecordBatchBuilder.java | 10 +++++++++-
 .../drill/exec/physical/impl/xsort/ExternalSortBatch.java     | 11 +++++++----
 .../src/main/java/parquet/hadoop/ColumnChunkIncReadStore.java |  1 +
 4 files changed, 18 insertions(+), 5 deletions(-)

commit a0d3906b8ed6dc598ec23b55ca9542180111e910
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Aug 27 13:32:03 2014 -0700

    DRILL-1171: Create Drill's implementation of ReduceAggregatesRule, including a new CastHigh function.
    DRILL-1342: Fix nullability handling of aggregate functions.

 exec/java-exec/src/main/codegen/config.fmpp        |   3 +-
 .../java-exec/src/main/codegen/data/AggrTypes1.tdd |  30 +-
 .../java-exec/src/main/codegen/data/AggrTypes2.tdd |   8 +-
 .../java-exec/src/main/codegen/data/AggrTypes3.tdd |  80 +--
 exec/java-exec/src/main/codegen/data/CastHigh.tdd  |  28 +
 .../src/main/codegen/data/DecimalAggrTypes2.tdd    |   2 +-
 exec/java-exec/src/main/codegen/data/SumZero.tdd   |  20 +-
 .../main/codegen/templates/AggrTypeFunctions1.java |  33 +-
 .../main/codegen/templates/AggrTypeFunctions2.java |  24 +-
 .../main/codegen/templates/AggrTypeFunctions3.java |  33 +-
 .../src/main/codegen/templates/CastHigh.java       |  64 +++
 .../src/main/codegen/templates/SumZeroAggr.java    |  18 +-
 .../exec/planner/common/DrillAggregateRelBase.java |  19 +-
 .../planner/logical/DrillReduceAggregatesRule.java | 602 +++++++++++++++++++++
 .../drill/exec/planner/logical/DrillRuleSets.java  |   4 +-
 .../drill/exec/planner/physical/AggPrelBase.java   |   4 +-
 .../drill/exec/planner/physical/AggPruleBase.java  |   3 +-
 17 files changed, 873 insertions(+), 102 deletions(-)

commit b9e384dc9a8889e5cb1a9ac05b48c6b99096fe73
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Aug 29 19:35:07 2014 -0700

    Maven cleanup & pom fixes

 contrib/storage-hbase/pom.xml |  12 +-
 distribution/pom.xml          | 241 +++-----------------
 exec/java-exec/pom.xml        | 162 ++++---------
 exec/jdbc-all/pom.xml         |  10 +-
 exec/jdbc/pom.xml             |   7 +-
 pom.xml                       | 518 ++++++++++++++++++++++++++++++++++++++----
 6 files changed, 559 insertions(+), 391 deletions(-)

commit 7cd659d24ea47c829f795832b9b9ec90dd31ae7b
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Aug 29 19:36:38 2014 +0530

    DRILL-1366: HBaseRecordReader does not set rowcount correctly if vectors run out of memory in the middle of the row.

 .../main/java/org/apache/drill/exec/store/hbase/HBaseRecordReader.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 749dbe40ae0fcec3a4387c3b7454ba3ad0fe7902
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Fri Aug 29 19:45:22 2014 -0700

    Fix for Parquet reader in larger files brought about by more aggressive memory management.

 .../columnreaders/NullableVarLengthValuesColumn.java     |  6 ++----
 .../exec/physical/impl/writer/TestParquetWriter.java     | 16 ++++++++++++++++
 .../exec/store/parquet/ParquetRecordReaderTest.java      |  5 +++++
 3 files changed, 23 insertions(+), 4 deletions(-)

commit ffbf3ae15a2752acc60693972b9a37eb948ef872
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Fri Aug 29 18:34:07 2014 -0700

    DRILL-1365: output unified coordinates at profile view

 .../drill/exec/server/rest/ProfileWrapper.java     | 229 ++++++++++++++-------
 .../physical/impl/writer/TestParquetWriter.java    |   5 +-
 2 files changed, 152 insertions(+), 82 deletions(-)

commit c1fcb6528cf1d037df91d54629f2c71902cb25cc
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Aug 25 14:56:27 2014 -0700

    DRILL-1307: add support for fixed binary columns in parquet reader.
    
    DRILL-1314: Fix issue reading impala produced files
    
    DRILL-1304: Regression selecting a single column from a parquet file.
    
    Fixed issue with var length dictionary reading.
    
    Reduced memory usage by freeing buffers after we finish reading a page (except for dictionary pages which need to be kept in memory until the entire row group has been read)
    
    Rebased onto merge branch.
    
    Successfully backed out the changes that had changed the structure of the nullable column readers. This re-introduced some redundancy but avoided a bug that was holding up the release. Ended up falling back on the higher level reader API, only in the case where we are reading a dictionary column and then the next page is not dictionary encoded. This can be fixed to use the optimized read instead, but it doesn't conform to the overall structure of the current reader and is a bit difficult to fix.

 .../codegen/templates/NullableValueVectors.java    |   6 +-
 .../store/parquet/columnreaders/ColumnReader.java  |   1 -
 .../parquet/columnreaders/ColumnReaderFactory.java |  19 ++-
 .../columnreaders/FixedByteAlignedReader.java      |  38 +++++-
 .../columnreaders/FixedWidthRepeatedReader.java    |   6 +
 .../NullableFixedByteAlignedReaders.java           |  34 +++++-
 .../NullableVarLengthValuesColumn.java             |   2 +
 .../store/parquet/columnreaders/PageReader.java    |  71 +++++++----
 .../ParquetFixedWidthDictionaryReader.java         |  53 --------
 .../ParquetFixedWidthDictionaryReaders.java        | 133 +++++++++++++++++++++
 .../parquet/columnreaders/ParquetRecordReader.java |  31 +++--
 .../columnreaders/ParquetToDrillTypeConverter.java |   9 +-
 .../columnreaders/VarLengthColumnReaders.java      |  20 ++--
 .../columnreaders/VarLengthValuesColumn.java       |  13 +-
 .../apache/drill/exec/vector/NullableVector.java   |  23 ++++
 .../physical/impl/writer/TestParquetWriter.java    |  15 +++
 .../store/parquet/ParquetRecordReaderTest.java     |  58 ++++++---
 .../apache/drill/jdbc/test/TestFunctionsQuery.java |   1 +
 18 files changed, 399 insertions(+), 134 deletions(-)

commit 42bbf6fdd833b786374d790f3f40320ae75fcb7b
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue Aug 5 09:51:42 2014 -0700

    DRILL-1274: NOTICE and LICENSE for binary distribution (includes DRILL-1267).

 LICENSE                            |  305 ---------
 distribution/src/assemble/bin.xml  |    2 +-
 distribution/src/resources/LICENSE | 1217 ++++++++++++++++++++++++++++++++++++
 distribution/src/resources/NOTICE  |    7 +
 4 files changed, 1225 insertions(+), 306 deletions(-)

commit bea3a35a249092fee24fcff7dfa2121fbb43e63e
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Fri Aug 29 16:51:28 2014 -0700

    DRILL-1334: Make sure to copy operator id while cloning ParquetGroupScan

 .../org/apache/drill/exec/store/parquet/ParquetScanBatchCreator.java    | 2 ++
 1 file changed, 2 insertions(+)

commit 437366f03e5de4c4692703007bff2f5a134720dd
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Aug 18 17:23:23 2014 -0700

    DRILL-1329: External sort memory fixes

 .../drill/exec/store/hbase/HBaseRecordReader.java  |   1 +
 .../codegen/templates/NullableValueVectors.java    |   8 +-
 .../templates/ParquetOutputRecordWriter.java       |   4 +-
 .../codegen/templates/RepeatedValueVectors.java    |  10 +-
 .../codegen/templates/VariableLengthVectors.java   |   8 +-
 .../src/main/java/io/netty/buffer/DrillBuf.java    |   4 +
 .../exec/cache/VectorAccessibleSerializable.java   |  10 +-
 .../org/apache/drill/exec/client/DrillClient.java  |   3 +-
 .../drill/exec/memory/TopLevelAllocator.java       |   2 +-
 .../drill/exec/physical/config/ExternalSort.java   |  13 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  24 ++-
 .../physical/impl/project/ProjectRecordBatch.java  |  12 +-
 .../drill/exec/physical/impl/xsort/BatchGroup.java | 161 ++++------------
 .../physical/impl/xsort/ExternalSortBatch.java     | 206 ++++++++++++---------
 .../physical/impl/xsort/PriorityQueueCopier.java   |   5 +-
 .../impl/xsort/PriorityQueueCopierTemplate.java    |  26 ++-
 .../physical/impl/xsort/PriorityQueueSelector.java |  37 ----
 .../impl/xsort/PriorityQueueSelectorTemplate.java  | 161 ----------------
 .../apache/drill/exec/record/WritableBatch.java    |   2 +-
 .../exec/record/selection/SelectionVector2.java    |  13 +-
 .../drill/exec/store/AbstractRecordReader.java     |  10 +
 .../org/apache/drill/exec/store/RecordReader.java  |   8 +
 .../exec/store/easy/json/JSONRecordReader2.java    |   3 +-
 .../drill/exec/store/mock/MockRecordReader.java    |  16 +-
 .../parquet/columnreaders/ParquetRecordReader.java |  16 ++
 .../exec/store/parquet2/DrillParquetReader.java    |  19 ++
 .../drill/exec/store/pojo/PojoRecordReader.java    |  18 +-
 .../exec/store/text/DrillTextRecordReader.java     |   4 +-
 .../drill/exec/vector/BaseDataValueVector.java     |  17 +-
 .../apache/drill/exec/vector/BaseValueVector.java  |   7 +-
 .../org/apache/drill/exec/vector/ObjectVector.java |   4 +-
 .../org/apache/drill/exec/vector/ValueVector.java  |   8 +-
 .../drill/exec/vector/complex/MapVector.java       |   4 +-
 .../exec/vector/complex/RepeatedListVector.java    |   4 +-
 .../exec/vector/complex/RepeatedMapVector.java     |   6 +-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |   5 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  19 ++
 .../drill/exec/work/fragment/FragmentExecutor.java |   2 +-
 .../physical/impl/writer/TestParquetWriter.java    |   3 +-
 39 files changed, 393 insertions(+), 490 deletions(-)

commit fa3c8d52a9da0913cc734ff8d3f3968d0e25fab8
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Fri Aug 29 14:17:13 2014 -0700

    DRILL-1299: Enable short circuit evaluation for case expressions in the run-time generated code.

 .../java/org/apache/drill/exec/expr/EvaluationVisitor.java     | 10 ++++++++++
 .../src/test/java/org/apache/drill/TestExampleQueries.java     |  4 ++++
 2 files changed, 14 insertions(+)

commit 64e43d2b770cb420b8f4fa9cf390b07efa5da44e
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Aug 29 21:31:07 2014 +0530

    DRILL-1346: Use HBase table size information to improve scan parallelization

 .../drill/exec/store/hbase/HBaseGroupScan.java     |  20 ++-
 .../drill/exec/store/hbase/HBaseScanSpec.java      |   5 +-
 .../exec/store/hbase/TableStatsCalculator.java     | 179 +++++++++++++++++++++
 .../src/main/resources/drill-module.conf           |   6 +-
 .../org/apache/drill/hbase/TestTableGenerator.java |  45 ++++++
 5 files changed, 246 insertions(+), 9 deletions(-)

commit c241137ec0f108709a493f7241446c885e8cd51c
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Aug 29 14:50:52 2014 -0700

    DRILL-1364: Remove extraneous old jersey-* jars from distribution.

 distribution/pom.xml | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 509bcdfa8e0daf913fd13de2652245d8b7185192
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Aug 29 14:09:12 2014 -0700

    DRILL-1315: Allow complex zookeeper string for JDBC connections, same as ODBC.

 .../drill/exec/coord/zk/ZKClusterCoordinator.java   | 21 +++++++++++++++++++--
 1 file changed, 19 insertions(+), 2 deletions(-)

commit 967fef5ade88d7be30f745cc884f34b911f0bbb3
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Aug 28 22:58:31 2014 -0700

    DRILL-1340: Add support for JDBC metadata.

 .../main/java/org/apache/drill/jdbc/MetaImpl.java  | 135 +++++++++++++++++++-
 .../apache/drill/jdbc/test/JdbcTestActionBase.java | 136 +++++++++++++++++++++
 .../apache/drill/jdbc/test/TestJdbcMetadata.java   |  93 ++++++++++++++
 3 files changed, 358 insertions(+), 6 deletions(-)

commit 8bf3c4e0d8f3b2d7dc5b798f31272afa3d7eaf15
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Thu Aug 28 22:23:56 2014 -0700

    DRILL-1359 Fix reading and writing of repeated scalar types in Parquet

 .../templates/ParquetOutputRecordWriter.java       |  4 +-
 .../store/parquet/ParquetScanBatchCreator.java     |  8 +++
 .../physical/impl/writer/TestParquetWriter.java    |  7 ++
 .../src/test/resources/testRepeatedWrite.json      | 74 ++++++++++++++++++++++
 4 files changed, 91 insertions(+), 2 deletions(-)

commit 4dcac1909eb687d226136c5794b2cf0c07e5733a
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu Aug 28 15:27:11 2014 -0700

    DRILL-1265: Drill may incorrectly return null when evaluates an expression of repeated list. The fix is to correctly set offsets vectors for repeated list vector.

 .../org/apache/drill/exec/vector/complex/RepeatedListVector.java    | 3 ++-
 .../drill/exec/vector/complex/writer/TestComplexTypeReader.java     | 6 ++++++
 2 files changed, 8 insertions(+), 1 deletion(-)

commit f7d575b4d2dc9cd4375adca5d26b97b6084df3ec
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Aug 5 18:47:24 2014 -0700

    DRILL-1258 : Fix compile error in generated code when Drill evaluates an expression returning a repeated list

 exec/java-exec/src/main/codegen/templates/BaseReader.java  |  1 +
 exec/java-exec/src/main/codegen/templates/ListWriters.java | 11 ++++++++---
 exec/java-exec/src/main/codegen/templates/NullReader.java  |  4 +++-
 3 files changed, 12 insertions(+), 4 deletions(-)

commit 2754321c46cc34bbf272f456a60f141b8c42ad45
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu Aug 28 07:21:06 2014 -0700

    DRILL-1355: Ensure Drill optimizer will use storage plugin specific rules, when a new storage plugin is added.

 .../drill/exec/planner/sql/DrillSqlWorker.java      | 17 +++++------------
 .../drill/exec/store/StoragePluginRegistry.java     | 21 ++++++++++-----------
 2 files changed, 15 insertions(+), 23 deletions(-)

commit f148694738a84832d75aca4ef69bff47c68b463f
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Thu Aug 28 10:21:07 2014 -0700

    DRILL-1309: Implement ProjectPastFilterPushdown and update DrillScanRel cost model so that exclusive column so that star query is more expensive than exclusive column projection. Various fixes affecting record reaaders to handle `*` column as well as fixes to some test cases.
    
    exclude parquet files from rat check

 .../drill/exec/store/hbase/HBaseGroupScan.java     | 15 ++--
 .../drill/exec/store/hbase/HBaseRecordReader.java  | 68 ++++++++--------
 .../exec/store/hbase/HBaseScanBatchCreator.java    | 10 ++-
 .../drill/exec/store/hive/HiveRecordReader.java    | 12 +--
 .../exec/expr/fn/impl/conv/JsonConvertFrom.java    | 12 ++-
 .../apache/drill/exec/physical/base/GroupScan.java |  3 +
 .../logical/DrillPushProjectPastFilterRule.java    | 94 ++++++++++++++++++++++
 .../drill/exec/planner/logical/DrillRuleSets.java  |  3 +-
 .../drill/exec/planner/logical/DrillScanRel.java   | 57 ++++++++-----
 .../drill/exec/planner/logical/RelOptHelper.java   |  4 +
 .../exec/planner/sql/handlers/ExplainHandler.java  |  2 +-
 .../impl/DrillParserWithCompoundIdConverter.java   |  9 ++-
 .../drill/exec/store/AbstractRecordReader.java     | 62 ++++++++++++++
 .../drill/exec/store/AbstractStoragePlugin.java    |  2 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  5 --
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  2 +-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   | 69 +++++++---------
 .../exec/store/easy/text/TextFormatPlugin.java     |  2 +-
 .../exec/store/parquet/ParquetRowGroupScan.java    | 18 ++---
 .../store/parquet/ParquetScanBatchCreator.java     |  7 +-
 .../parquet/columnreaders/ParquetRecordReader.java | 68 +++++++++-------
 .../exec/store/parquet2/DrillParquetReader.java    | 15 ++--
 .../drill/exec/store/schedule/BlockMapBuilder.java | 28 ++++---
 .../exec/store/text/DrillTextRecordReader.java     | 28 +++----
 .../drill/exec/vector/complex/fn/JsonReader.java   | 24 +++---
 .../vector/complex/fn/JsonReaderWithState.java     |  3 +-
 .../main/resources/bootstrap-storage-plugins.json  |  5 ++
 .../java/org/apache/drill/TestProjectPushDown.java | 48 +++++++++++
 .../exec/vector/complex/writer/TestJsonReader.java |  7 +-
 .../src/test/resources/project/pushdown/empty.csv  |  0
 .../src/test/resources/project/pushdown/empty.json |  0
 .../test/resources/project/pushdown/empty.parquet  |  0
 pom.xml                                            |  1 +
 33 files changed, 470 insertions(+), 213 deletions(-)

commit c1c0eba5bad30a433161ebf4e1b6c36ace2a881e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Aug 28 12:49:44 2014 -0700

    Update to latest parquet zero copy version.

 exec/java-exec/pom.xml | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 46de8816f4b197d54d937d0a190bae293c17d1ac
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Aug 27 16:47:54 2014 -0700

    DRILL-1354: Fix date truncate functions to use toString helper functions.
    Minor cleanup: move the truncate logic in a separate template

 .../DateDateArithmeticFunctions.java               | 40 -----------
 .../DateTruncFunctions.java                        | 84 ++++++++++++++++++++++
 .../src/main/codegen/templates/ValueHolders.java   |  6 +-
 .../apache/drill/jdbc/test/TestFunctionsQuery.java |  1 -
 4 files changed, 89 insertions(+), 42 deletions(-)

commit d8a770fd98be1c1cd4629da98f7dfcb5a775e0ba
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Aug 27 14:27:31 2014 -0700

    DRILL-1353: Fix decimal regressions

 .../templates/Decimal/CastDecimalSimilar.java      |  2 +-
 .../exec/expr/fn/impl/ByteFunctionHelpers.java     | 52 +++++++++++++++++++---
 .../drill/exec/expr/fn/impl/DrillByteArray.java    |  6 ++-
 3 files changed, 52 insertions(+), 8 deletions(-)

commit 528308c325efd7804572e6d34819d8b3da7ff3b4
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Aug 18 16:57:16 2014 -0700

    DRILL-1313: All text mode for json reader
    
    Current implementation handles nulls that appear while in text mode differently depending if they appear in lists or maps. This allows for a null where a list or map is expected to act the same way it does without text mode enabled. For an expected map it just assumes that the field didn't exist, in which case the leaves below become null filled, and for a list it will default to showing an empty list.
    
    If we are actually inside of a list, a null in JSON will be treated the same as the string "null", which improves over the previous behavior of just dropping the null value all together, as we do not support null values within any of the repeated primitive vectors currently.
    
    Patch has been rebased on top of merge branch.

 .../java/org/apache/drill/exec/ExecConstants.java  |  3 +-
 .../exec/expr/fn/impl/conv/JsonConvertFrom.java    |  4 +-
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../exec/store/easy/json/JSONRecordReader2.java    |  4 +-
 .../apache/drill/exec/vector/AllocationHelper.java | 11 +++-
 .../exec/vector/complex/RepeatedMapVector.java     |  2 +-
 .../drill/exec/vector/complex/fn/JsonReader.java   | 76 +++++++++++++++++++---
 .../vector/complex/fn/JsonReaderWithState.java     |  6 +-
 .../exec/vector/complex/writer/TestJsonReader.java | 30 ++++++++-
 .../store/json/null_where_list_expected.json       |  9 +++
 .../store/json/null_where_map_expected.json        |  9 +++
 .../store/json/schema_change_int_to_string.json    |  6 +-
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  |  5 ++
 13 files changed, 140 insertions(+), 26 deletions(-)

commit 929d765afd9da2fb0010a97e90b2ee19f245e37c
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Aug 5 15:44:42 2014 -0700

    DRILL-1283: JSON project pushdown.
    
    Allows for users to avoid reading columns of a JSON file, including those that include elements of JSON that drill does not currently support. This can be used to query a subset of an existing file while avoiding elements like schema changes in some columns or nulls in lists that are currently not compatible with Drill.
    
    Patch was revised based on Hanifi's review comments, and then rebased off of the merge branch.

 .../drill/common/expression/PathSegment.java       |    42 +
 .../apache/drill/common/expression/SchemaPath.java |    16 +
 .../src/main/codegen/templates/BaseWriter.java     |     4 +
 .../src/main/codegen/templates/ComplexWriters.java |    13 +-
 .../main/codegen/templates/FixedValueVectors.java  |     2 +-
 .../src/main/codegen/templates/ListWriters.java    |    10 +-
 .../src/main/codegen/templates/MapWriters.java     |    12 +-
 .../exec/expr/fn/impl/conv/JsonConvertFrom.java    |     4 +-
 .../exec/store/easy/json/JSONFormatPlugin.java     |     2 +-
 .../exec/store/easy/json/JSONRecordReader2.java    |    42 +-
 .../apache/drill/exec/vector/BaseValueVector.java  |     1 +
 .../org/apache/drill/exec/vector/BitVector.java    |     2 +-
 .../drill/exec/vector/complex/fn/JsonReader.java   |   130 +-
 .../vector/complex/fn/JsonReaderWithState.java     |    14 +-
 .../vector/complex/impl/ComplexWriterImpl.java     |     9 +-
 .../vector/complex/impl/VectorContainerWriter.java |     8 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |     2 +-
 .../physical/impl/writer/TestParquetWriter.java    |     3 +
 .../exec/vector/complex/writer/TestJsonReader.java |   160 +-
 .../json/project_pushdown_json_physical_plan.json  |    50 +
 .../store/json/schema_change_int_to_string.json    |    30 +
 .../store/json/single_column_long_file.json        | 13512 +++++++++++++++++++
 .../store/json/test_complex_read_with_star.json    |    24 +
 23 files changed, 14049 insertions(+), 43 deletions(-)

commit cc25504d1bfeb7ac7bc99a6c3ce5285d30e13697
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Wed Aug 27 18:07:35 2014 -0700

    DRILL-1352: C++ Client. Update the decoding of nullable value vectors to read a byte for every nullable bit.

 contrib/native/client/src/include/drill/common.hpp |   2 +-
 .../client/src/include/drill/protobuf/Types.pb.h   |   5 +-
 .../client/src/include/drill/recordBatch.hpp       |  10 +-
 .../native/client/src/protobuf/BitControl.pb.cc    | 305 ++++++++++++++++++++-
 contrib/native/client/src/protobuf/BitControl.pb.h | 194 ++++++++++++-
 contrib/native/client/src/protobuf/Types.pb.cc     |  10 +-
 .../native/client/src/protobuf/UserBitShared.pb.cc |  28 +-
 .../native/client/src/protobuf/UserBitShared.pb.h  |   7 +-
 pom.xml                                            |   1 +
 9 files changed, 517 insertions(+), 45 deletions(-)

commit ceb58c4149f00de4729ff7350b576823e71fbdfc
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Aug 27 17:53:55 2014 -0700

    enable mapr profile hbase

 distribution/pom.xml | 16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit 496b5d0a1a8ce5e1cdaf06d127400f1e7e7687b0
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Aug 27 17:31:59 2014 -0700

    Update RPC version number to correspond to changes in nullable buffer from bitmap to bytes.

 .../main/java/org/apache/drill/exec/rpc/data/DataRpcConfig.java   | 8 ++++----
 .../main/java/org/apache/drill/exec/rpc/user/UserRpcConfig.java   | 6 +++---
 2 files changed, 7 insertions(+), 7 deletions(-)

commit d944918ff8a1f76d9b4c400512a130bff7fb2c5f
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Wed Jun 11 18:10:34 2014 -0700

    DRILL-1021: Windows build

 contrib/native/client/CMakeLists.txt               |  25 ++-
 .../native/client/cmakeModules/FindZookeeper.cmake |  28 +++-
 .../client/patches/zookeeper-3.4.6-x64.patch       | 163 +++++++++++++++++++
 contrib/native/client/readme.win.txt               | 179 +++++++++++++++++++++
 contrib/native/client/src/clientlib/CMakeLists.txt |   5 +
 .../native/client/src/clientlib/drillClient.cpp    |   1 +
 .../client/src/clientlib/drillClientImpl.cpp       |   6 +
 .../client/src/clientlib/drillClientImpl.hpp       |   5 +
 contrib/native/client/src/include/drill/common.hpp |   8 +
 contrib/native/client/src/protobuf/CMakeLists.txt  |   4 +
 pom.xml                                            |   2 +-
 11 files changed, 418 insertions(+), 8 deletions(-)

commit 5a7feb9dca73bc11249210e7a241a11533f6944e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Aug 27 10:31:56 2014 -0700

    DRILL-998: Limit amount of memory used by drill C++ client API

 contrib/native/client/example/querySubmitter.cpp   |  1 +
 contrib/native/client/src/clientlib/CMakeLists.txt |  1 +
 .../native/client/src/clientlib/drillClient.cpp    | 11 ++--
 .../client/src/clientlib/drillClientImpl.cpp       | 50 +++++++++-------
 .../client/src/clientlib/drillClientImpl.hpp       | 12 ++--
 .../native/client/src/clientlib/recordBatch.cpp    |  2 +-
 contrib/native/client/src/clientlib/utils.cpp      | 68 ++++++++++++++++++++++
 contrib/native/client/src/clientlib/utils.hpp      | 31 +++++++---
 contrib/native/client/src/include/drill/common.hpp |  6 ++
 .../client/src/include/drill/recordBatch.hpp       |  8 +--
 10 files changed, 147 insertions(+), 43 deletions(-)

commit cd9eaa88fee4b01706a9237fb160aad5cb59f9c8
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Sat Jun 21 16:04:12 2014 -0700

    DRILL-1335: Fix merge join operator when compare null against null value.

 .../exec/physical/impl/join/MergeJoinBatch.java    |  39 ++---
 .../impl/join/TestMergeJoinMulCondition.java       |  48 +++++-
 .../test/resources/join/merge_join_nullkey.json    | 171 +++++++++++++++++++++
 3 files changed, 228 insertions(+), 30 deletions(-)

commit 746a0c7a6a151cfe97d7f69a4b3395eaf6b5e4b8
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon Aug 25 17:08:49 2014 -0700

    DRILL-1337 : Fix incorrect query result for TPCH Q13. Stop pulling up local filter from an outer join condition.

 .../apache/drill/exec/planner/logical/DrillJoinRule.java |  5 ++++-
 .../src/test/java/org/apache/drill/TestBugFixes.java     | 15 +++++++++++++++
 .../test/java/org/apache/drill/TestExampleQueries.java   | 16 ++++++++--------
 3 files changed, 27 insertions(+), 9 deletions(-)

commit 4f59d4f0f835fec935cbdf05a277015cb763b9e4
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Fri Aug 15 17:21:38 2014 -0700

    DRILL-595, DRILL-811, DRILL-1029: Support select * in view, subquery, table expression in with clause. Most fixes in Optiq.

 .../java/org/apache/drill/exec/dotdrill/View.java  |  10 ++
 .../drill/exec/planner/StarColumnHelper.java       |  10 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |  10 ++
 .../drill/exec/planner/logical/DrillViewTable.java |   3 +-
 .../java/org/apache/drill/TestExampleQueries.java  | 150 +++++++++++++++++++++
 pom.xml                                            |   2 +-
 6 files changed, 182 insertions(+), 3 deletions(-)

commit c4cc9e4a877fd73b2f8c3331720e1a69d7b8074f
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Aug 27 23:35:07 2014 +0530

    Bundle the HBase 0.94 jar compiled with Hadoop 2 profile
    
    + Removed the HBase shaded jar module.

 contrib/hbase-shaded/pom.xml      | 373 --------------------------------------
 contrib/pom.xml                   |   1 -
 distribution/pom.xml              | 110 +++++++++--
 distribution/src/assemble/bin.xml |   1 -
 4 files changed, 99 insertions(+), 386 deletions(-)

commit a99aecad75e1e106adf510274d2bbc642108b167
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Aug 26 02:53:46 2014 -0700

    Support for @inject in aggregation functions

 .../Decimal/DecimalAggrTypeFunctions1.java         | 93 ++++++++++++----------
 .../codegen/templates/VarCharAggrFunctions1.java   | 34 ++++----
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     | 40 +++++++---
 .../exec/expr/fn/impl/ByteFunctionHelpers.java     | 67 +++++++++++++++-
 .../drill/exec/expr/fn/impl/DrillByteArray.java    | 60 ++++++++++++++
 .../exec/expr/fn/impl/StringFunctionHelpers.java   |  2 +-
 .../org/apache/drill/exec/util/DecimalUtility.java | 31 ++++++++
 .../apache/drill/jdbc/test/TestFunctionsQuery.java |  1 +
 8 files changed, 258 insertions(+), 70 deletions(-)

commit 7fc8d6d4dfee9fd37327efa205145e75eaf2cde1
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Aug 25 22:30:37 2014 -0700

    Fix initCap function to set outbound position correctly.

 .../org/apache/drill/exec/expr/fn/impl/StringFunctionHelpers.java   | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 91870359947b8457f4613953fe59948fa9f2fe17
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Aug 25 21:49:46 2014 -0700

    Fix issues with Hive function generation to support DrillBuf

 .../main/codegen/templates/ObjectInspectorHelper.java   | 17 ++++++++++++-----
 .../src/main/codegen/templates/ObjectInspectors.java    | 17 +++++++++++++----
 .../org/apache/drill/exec/expr/fn/HiveFuncHolder.java   |  2 +-
 3 files changed, 26 insertions(+), 10 deletions(-)

commit b5bbed84bccdff39f1b13c4d529fa8dbf8652220
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Aug 25 23:48:18 2014 +0530

    Fix test case failures in TestParquetWriter
    
    * Use different table names for different test cases.

 .../org/apache/drill/exec/physical/impl/writer/TestParquetWriter.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f1a46e687ba5572b1cc0c830a4ea787876d5ad7c
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Aug 25 21:10:36 2014 +0530

    Set the BitVector memory to zero on allocation.

 exec/java-exec/src/main/codegen/templates/NullableValueVectors.java | 6 ++++++
 1 file changed, 6 insertions(+)

commit 45d65377d7de2cd1e58bb4e1b0650bb2c53eeff1
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Aug 25 21:09:16 2014 +0530

    Fixed the index check in DrillBuf.

 exec/java-exec/src/main/java/io/netty/buffer/DrillBuf.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5c5cef06881c0ee8d1c2b203e166dffac69bfd14
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Jul 9 14:01:35 2014 -0700

    Switch to DrillBuf
    Add @Inject DrillBuf
    Move comparison functions to memory sensitive ones
    Add scalar replacement functionality for value holders
    Simplify date parsing function
    Add local compiled code caching

 .../common/expression/ExpressionStringBuilder.java |  19 +-
 .../drill/common/expression/ValueExpressions.java  | 152 ++--
 .../drill/common/util/CoreDecimalUtility.java      |  76 ++
 .../util/DecimalScalePrecisionDivideFunction.java  |   3 +-
 .../util/DecimalScalePrecisionModFunction.java     |   3 +-
 .../main/codegen/templates/ObjectInspectors.java   |   2 +-
 exec/java-exec/pom.xml                             |  18 +-
 exec/java-exec/src/main/codegen/data/Casts.tdd     |   2 +-
 .../src/main/codegen/data/ValueVectorTypes.tdd     |  66 +-
 .../src/main/codegen/includes/vv_imports.ftl       |   4 +-
 .../main/codegen/templates/CastDateVarChar.java    |   7 +-
 .../src/main/codegen/templates/CastFunctions.java  |   2 +
 .../codegen/templates/CastFunctionsSrcVarLen.java  |   2 +
 .../CastFunctionsSrcVarLenTargetVarLen.java        |   2 +
 .../templates/CastFunctionsTargetVarLen.java       |   8 +-
 .../codegen/templates/CastIntervalInterval.java    |   6 +-
 .../codegen/templates/CastIntervalVarChar.java     |  26 +-
 .../main/codegen/templates/CastVarCharDate.java    |  11 +-
 .../codegen/templates/CastVarCharInterval.java     |   6 +-
 .../codegen/templates/ComparisonFunctions.java     |  46 +-
 .../codegen/templates/ConvertToNullableHolder.java |   6 +-
 .../templates/DateIntervalAggrFunctions1.java      |  28 +-
 .../DateDateArithmeticFunctions.java               |   6 +-
 .../DateIntervalArithmeticFunctions.java           |   6 +-
 .../DateToCharFunctions.java                       |   7 +-
 .../DateIntervalFunctionTemplates/Extract.java     |  12 +-
 .../IntervalIntervalArithmetic.java                |  12 +-
 .../IntervalNumericArithmetic.java                 |  10 +-
 .../ToTimeStampFunction.java                       |   2 +-
 .../codegen/templates/DateIntervalFunctions.java   |  28 +-
 .../Decimal/CastDecimalDenseDecimalSparse.java     |  34 +-
 .../templates/Decimal/CastDecimalFloat.java        |  12 +-
 .../codegen/templates/Decimal/CastDecimalInt.java  |  18 +-
 .../templates/Decimal/CastDecimalSimilar.java      |  22 +-
 .../Decimal/CastDecimalSparseDecimalDense.java     |  38 +-
 .../templates/Decimal/CastDecimalVarchar.java      |  51 +-
 .../templates/Decimal/CastDownwardDecimal.java     |  44 +-
 .../templates/Decimal/CastFloatDecimal.java        |  20 +-
 .../codegen/templates/Decimal/CastIntDecimal.java  |  26 +-
 .../templates/Decimal/CastSrcDecimalSimple.java    |  57 +-
 .../templates/Decimal/CastVarCharDecimal.java      |  58 +-
 .../Decimal/DecimalAggrTypeFunctions1.java         |  51 +-
 .../Decimal/DecimalAggrTypeFunctions2.java         |  14 +-
 .../templates/Decimal/DecimalFunctions.java        | 348 +++++----
 .../main/codegen/templates/FixedValueVectors.java  | 221 +++---
 .../main/codegen/templates/HolderReaderImpl.java   |  31 +-
 .../codegen/templates/IntervalAggrFunctions2.java  |   8 +-
 .../codegen/templates/JsonOutputRecordWriter.java  |   2 +-
 .../codegen/templates/NullableValueVectors.java    | 106 ++-
 .../codegen/templates/NumericToCharFunctions.java  |  12 +-
 .../templates/ParquetOutputRecordWriter.java       |   4 +-
 .../codegen/templates/RepeatedValueVectors.java    |  18 +-
 .../src/main/codegen/templates/SqlAccessors.java   |   2 +-
 .../src/main/codegen/templates/ValueHolders.java   | 164 ++--
 .../codegen/templates/VarCharAggrFunctions1.java   |  56 +-
 .../codegen/templates/VariableLengthVectors.java   |  72 +-
 .../java/io/netty/buffer/AccountingByteBuf.java    | 866 ---------------------
 .../src/main/java/io/netty/buffer/DrillBuf.java    | 674 ++++++++++++++++
 .../main/java/io/netty/buffer/FakeAllocator.java   | 137 ++++
 .../io/netty/buffer/PooledByteBufAllocatorL.java   |   2 +-
 .../io/netty/buffer/UnsafeDirectLittleEndian.java  |  24 +-
 .../exec/cache/VectorAccessibleSerializable.java   |   5 +-
 .../apache/drill/exec/compile/ByteCodeLoader.java  |   4 +-
 .../drill/exec/compile/ClassTransformer.java       | 103 +--
 .../apache/drill/exec/compile/CodeCompiler.java    |  89 +++
 .../drill/exec/compile/DrillInitMethodVisitor.java |  44 ++
 .../apache/drill/exec/compile/MergeAdapter.java    | 110 ++-
 .../exec/compile/TemplateClassDefinition.java      |  17 +-
 .../drill/exec/compile/bytecode/DirectSorter.java  |  33 +
 .../exec/compile/bytecode/InstructionModifier.java | 259 ++++++
 .../exec/compile/bytecode/ReplacingBasicValue.java |  57 ++
 .../compile/bytecode/ReplacingInterpreter.java     |  91 +++
 .../compile/bytecode/ScalarReplacementNode.java    |  66 ++
 .../compile/bytecode/ScalarReplacementTypes.java   | 117 +++
 .../compile/bytecode/TrackingInstructionList.java  |  69 ++
 .../exec/compile/bytecode/ValueHolderIden.java     | 223 ++++++
 .../bytecode/ValueHolderReplacementVisitor.java    |  75 ++
 .../exec/compile/sig/CodeGeneratorMethod.java      |  18 +-
 .../drill/exec/compile/sig/GeneratorMapping.java   |  12 +-
 .../apache/drill/exec/compile/sig/MappingSet.java  |   4 +
 .../drill/exec/compile/sig/SignatureHolder.java    |  39 +-
 .../org/apache/drill/exec/expr/ClassGenerator.java |   6 +-
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  61 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 138 ++--
 .../apache/drill/exec/expr/GetSetVectorHelper.java | 175 +++++
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |  70 +-
 .../exec/expr/fn/DrillDecimalAddFuncHolder.java    |   3 +-
 .../expr/fn/DrillDecimalDivScaleFuncHolder.java    |   3 +-
 .../expr/fn/DrillDecimalModScaleFuncHolder.java    |   3 +-
 .../expr/fn/DrillDecimalSumScaleFuncHolder.java    |   3 +-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  35 +-
 .../drill/exec/expr/fn/FunctionConverter.java      |  36 +-
 .../exec/expr/fn/impl/ByteFunctionHelpers.java     |  96 +++
 .../exec/expr/fn/impl/CastVarBinaryToDate.java     |  43 +
 .../exec/expr/fn/impl/CastVarCharVar16Char.java    |  14 +-
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java |  21 +-
 .../drill/exec/expr/fn/impl/HashFunctions.java     |   8 +-
 .../exec/expr/fn/impl/SimpleCastFunctions.java     |  19 +-
 .../exec/expr/fn/impl/StringFunctionHelpers.java   | 125 +++
 .../drill/exec/expr/fn/impl/StringFunctions.java   | 193 ++---
 .../exec/expr/fn/impl/conv/BigIntBEConvertTo.java  |   9 +-
 .../exec/expr/fn/impl/conv/BigIntConvertTo.java    |   8 +-
 .../expr/fn/impl/conv/BigIntVLongConvertTo.java    |   8 +-
 .../expr/fn/impl/conv/BooleanByteConvertTo.java    |   8 +-
 .../expr/fn/impl/conv/DateEpochBEConvertTo.java    |   8 +-
 .../exec/expr/fn/impl/conv/DateEpochConvertTo.java |   8 +-
 .../exec/expr/fn/impl/conv/DoubleConvertTo.java    |   8 +-
 .../exec/expr/fn/impl/conv/FloatConvertTo.java     |   8 +-
 .../exec/expr/fn/impl/conv/IntBEConvertTo.java     |   8 +-
 .../drill/exec/expr/fn/impl/conv/IntConvertTo.java |   8 +-
 .../exec/expr/fn/impl/conv/IntVIntConvertTo.java   |   8 +-
 .../exec/expr/fn/impl/conv/JsonConvertFrom.java    |  20 +-
 .../exec/expr/fn/impl/conv/JsonConvertTo.java      |  25 +-
 .../expr/fn/impl/conv/SmallIntBEConvertTo.java     |   8 +-
 .../exec/expr/fn/impl/conv/SmallIntConvertTo.java  |   8 +-
 .../expr/fn/impl/conv/TimeEpochBEConvertTo.java    |   8 +-
 .../exec/expr/fn/impl/conv/TimeEpochConvertTo.java |   8 +-
 .../exec/expr/fn/impl/conv/TinyIntConvertTo.java   |   8 +-
 .../exec/expr/fn/impl/conv/UInt8ConvertTo.java     |   8 +-
 .../org/apache/drill/exec/memory/Accountor.java    |  10 +-
 .../apache/drill/exec/memory/BufferAllocator.java  |  11 +-
 .../drill/exec/memory/TopLevelAllocator.java       |  59 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  39 +-
 .../org/apache/drill/exec/ops/OperatorContext.java |  29 +
 .../drill/exec/physical/impl/OutputMutator.java    |   8 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  30 +-
 .../physical/impl/aggregate/HashAggTemplate.java   |  47 +-
 .../drill/exec/physical/impl/common/HashTable.java |  10 +-
 .../physical/impl/common/HashTableTemplate.java    |  68 +-
 .../exec/physical/impl/common/IndexPointer.java    |  24 +
 .../exec/physical/impl/join/HashJoinBatch.java     |  15 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |   1 +
 .../java/org/apache/drill/exec/record/DeadBuf.java |  19 +-
 .../apache/drill/exec/record/RawFragmentBatch.java |   7 +-
 .../drill/exec/record/RecordBatchLoader.java       |   7 +-
 .../org/apache/drill/exec/record/TypedFieldId.java |   9 +
 .../apache/drill/exec/record/WritableBatch.java    |  42 +-
 .../exec/record/selection/SelectionVector2.java    |  23 +-
 .../apache/drill/exec/resolver/TypeCastRules.java  |   2 +-
 .../drill/exec/rpc/ProtobufLengthDecoder.java      |  11 +-
 .../drill/exec/rpc/data/DataResponseHandler.java   |   5 +-
 .../exec/rpc/data/DataResponseHandlerImpl.java     |   4 +-
 .../org/apache/drill/exec/rpc/data/DataServer.java |   6 +-
 .../drill/exec/rpc/user/QueryResultBatch.java      |  25 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    |   3 +-
 .../apache/drill/exec/server/DrillbitContext.java  |  11 +-
 .../exec/server/options/SystemOptionManager.java   |   3 +-
 .../exec/store/easy/json/JSONRecordReader2.java    |   6 +-
 .../columnreaders/FixedByteAlignedReader.java      |  13 +-
 .../NullableFixedByteAlignedReaders.java           |  20 +-
 .../NullableVarLengthValuesColumn.java             |   8 +-
 .../store/parquet/columnreaders/PageReader.java    |  12 +-
 .../columnreaders/VarLengthColumnReaders.java      |  77 +-
 .../columnreaders/VarLengthValuesColumn.java       |   8 +-
 .../store/parquet2/DrillParquetGroupConverter.java |  59 +-
 .../exec/store/parquet2/DrillParquetReader.java    |   2 +-
 .../parquet2/DrillParquetRecordMaterializer.java   |  11 +-
 .../drill/exec/store/pojo/PojoRecordReader.java    |  47 +-
 .../org/apache/drill/exec/store/pojo/Writers.java  |  24 +-
 .../org/apache/drill/exec/util/ByteBufUtil.java    |  45 +-
 .../apache/drill/exec}/util/DecimalUtility.java    | 141 ++--
 .../drill/exec/vector/BaseDataValueVector.java     |  27 +-
 .../apache/drill/exec/vector/BaseValueVector.java  |   2 +-
 .../org/apache/drill/exec/vector/BitVector.java    |  11 +-
 .../apache/drill/exec/vector/FixedWidthVector.java |  12 +-
 .../org/apache/drill/exec/vector/ObjectVector.java |   6 +-
 .../exec/vector/RepeatedFixedWidthVector.java      |   6 +-
 .../exec/vector/RepeatedVariableWidthVector.java   |   4 +-
 .../drill/exec/vector/ValueHolderHelper.java       |  43 +-
 .../org/apache/drill/exec/vector/ValueVector.java  |  10 +-
 .../drill/exec/vector/VariableWidthVector.java     |  12 +-
 .../apache/drill/exec/vector/VectorTrimmer.java    |   4 +-
 .../drill/exec/vector/complex/MapVector.java       |  12 +-
 .../exec/vector/complex/RepeatedListVector.java    |   8 +-
 .../exec/vector/complex/RepeatedMapVector.java     |  14 +-
 .../drill/exec/vector/complex/fn/JsonReader.java   |  31 +-
 .../vector/complex/fn/JsonReaderWithState.java     |   8 +-
 .../exec/work/batch/SpoolingRawBatchBuffer.java    |   7 +-
 .../java/org/apache/drill/exec/RunRootExec.java    |  74 ++
 .../org/apache/drill/exec/client/DumpCatTest.java  |   4 +
 .../exec/compile/TestClassTransformation.java      |   9 +-
 .../drill/exec/compile/TestEvaluationVisitor.java  |   2 +-
 .../exec/compile/bytecode/ReplaceMethodInvoke.java | 105 +++
 .../org/apache/drill/exec/expr/ExpressionTest.java |   2 +-
 .../exec/fn/impl/TestByteComparisonFunctions.java  | 129 +++
 .../drill/exec/fn/impl/TestMathFunctions.java      |   2 +
 .../drill/exec/fn/impl/TestNewMathFunctions.java   |   2 +
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |   2 +
 .../exec/physical/impl/TestCastFunctions.java      |  14 +-
 .../physical/impl/TestComparisonFunctions.java     |   2 +
 .../exec/physical/impl/TestConvertFunctions.java   |   6 +-
 .../physical/impl/TestImplicitCastFunctions.java   |   2 +
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   1 +
 .../exec/physical/impl/TestSimpleFunctions.java    |  11 +-
 .../exec/physical/impl/TestStringFunctions.java    |   8 +-
 .../drill/exec/physical/impl/agg/TestAgg.java      |   2 +
 .../exec/physical/impl/common/TestHashTable.java   |   2 +
 .../physical/impl/filter/TestSimpleFilter.java     |   3 +
 .../exec/physical/impl/join/TestHashJoin.java      |   6 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |   8 +-
 .../exec/physical/impl/limit/TestSimpleLimit.java  |   4 +
 .../impl/project/TestSimpleProjection.java         |   2 +
 .../exec/physical/impl/sort/TestSimpleSort.java    |   3 +
 .../physical/impl/svremover/TestSVRemover.java     |   2 +
 .../impl/trace/TestTraceMultiRecordBatch.java      |   6 +
 .../physical/impl/trace/TestTraceOutputDump.java   |   2 +
 .../exec/physical/impl/union/TestSimpleUnion.java  |   2 +
 .../apache/drill/exec/record/vector/TestLoad.java  |   3 +-
 .../org/apache/drill/exec/server/TestBitRpc.java   |   3 +-
 .../apache/drill/exec/store/TestOutputMutator.java |   7 +
 .../store/parquet/ParquetRecordReaderTest.java     |   9 +
 .../exec/vector/complex/writer/TestJsonReader.java |   7 +-
 exec/java-exec/src/test/sh/runexec                 |  33 +
 213 files changed, 5257 insertions(+), 2879 deletions(-)

commit fb93576a34367f38b9d040b36262bd20d88fbd35
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Fri Aug 15 09:31:19 2014 -0700

    DRILL-982: Return nulls for non-existent columns in parquet reader.

 .../parquet/columnreaders/ParquetRecordReader.java | 69 +++++++++++++++++-----
 .../store/parquet/ParquetRecordReaderTest.java     | 24 ++++++++
 2 files changed, 78 insertions(+), 15 deletions(-)

commit c3e97fdfab67ff5d81d478e26534c3937fada07c
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Aug 21 17:31:33 2014 -0700

    DRILL-1312: Use correct index to get partition vectors in ScanBatch

 .../main/java/org/apache/drill/exec/physical/impl/ScanBatch.java    | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit a6d74f5d1ea03314119a1b404a515251fd246a3f
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Aug 22 12:01:39 2014 -0700

    DRILL-1132: WriterPrel should not care about collation trait of the child.

 .../org/apache/drill/exec/planner/physical/WriterPrule.java   | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit de05070cc41271ba12ae5bfede27ab12993be564
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon Aug 18 16:32:20 2014 -0700

    DRILL-1310: Fix assertion in ProjectRecordBatch for certain types of star queries.

 .../physical/impl/project/ProjectRecordBatch.java  | 50 +++++++++++++++++-----
 1 file changed, 40 insertions(+), 10 deletions(-)

commit 2275da9c2c0aaf072172bff302f8b11800989e35
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Aug 22 01:03:47 2014 -0700

    DRILL-1322: Fix memory leak when all records in a batch are filtered

 .../src/main/java/org/apache/drill/exec/record/WritableBatch.java     | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit f1136ab94c8cf64218e7ad4952c5d0b2cf6c3434
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Aug 24 12:02:30 2014 -0700

    Update TestViewSupport so that it doesn't have a null column.

 .../src/test/java/org/apache/drill/exec/sql/TestViewSupport.java      | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3529650119a0096f1b98748ace7c800d019fe905
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Aug 24 10:45:01 2014 -0700

    Turn off proguard verbose output.

 exec/jdbc-all/pom.xml | 1 -
 1 file changed, 1 deletion(-)

commit 15eeb9d38af517bc294d6c37c3f7dae82a33665f
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Aug 24 10:04:47 2014 -0700

    Fix issue introduced by DRILL-1202 where allocators are being closed after reporting success.
    Update ScreenRoot to cleanup before returning success.
    Update ScanBatch to cleanup reader in case of limit query to avoid memory leak in ParquetReader.
    Update allocators so that we don't have memory leak when using debug options.
    Update project record batch so that it doesn't try to return a released remainder.

 .../drill/exec/memory/TopLevelAllocator.java       |  9 ++++--
 .../org/apache/drill/exec/ops/FragmentContext.java |  2 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  4 +++
 .../drill/exec/physical/impl/ScreenCreator.java    | 21 ++++++++-----
 .../physical/impl/project/ProjectRecordBatch.java  |  8 +++++
 .../drill/exec/work/fragment/FragmentExecutor.java | 36 ++++++++++++++++------
 .../java/org/apache/drill/TestExampleQueries.java  | 13 ++++++++
 7 files changed, 73 insertions(+), 20 deletions(-)

commit 4216e0e2c60cf17caa678cee685cbfc2ca4e819a
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Sat Aug 23 21:48:04 2014 -0700

    Pass correct uncompressed data size to BytesInput ctor in ComplexParquetReader

 .../java-exec/src/main/java/parquet/hadoop/ColumnChunkIncReadStore.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ed72c1370fe98de28bebc587e063e1728a8027c3
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Aug 24 08:28:25 2014 -0700

    Skip static fields in PojoDataType.

 .../src/main/java/org/apache/drill/exec/store/pojo/PojoDataType.java   | 3 +++
 1 file changed, 3 insertions(+)

commit fab96c34cfc392b60fffc75b09c5d1927a72f33a
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Wed Aug 20 13:37:27 2014 -0700

    Use Direct Memory in Parquet Writer

 exec/java-exec/pom.xml                             | 12 ++--
 .../parquet/ParquetDirectByteBufferAllocator.java  | 73 ++++++++++++++++++++++
 .../exec/store/parquet/ParquetFormatPlugin.java    |  8 ++-
 .../exec/store/parquet/ParquetRecordWriter.java    | 47 ++++++++++----
 .../hadoop/ColumnChunkPageWriteStoreExposer.java   | 16 ++++-
 .../exec/store/parquet/TestFileGenerator.java      | 11 +++-
 6 files changed, 142 insertions(+), 25 deletions(-)

commit a0a8256c0f054e3754e9da18411859da27f9a1ca
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Aug 18 14:16:26 2014 -0700

    DRILL-1281: Shaded hbase jar

 contrib/hbase-shaded/pom.xml           | 373 +++++++++++++++++++++++++++++++++
 contrib/pom.xml                        |   1 +
 distribution/pom.xml                   | 217 ++++++++++++++++---
 distribution/src/assemble/bin-mapr.xml | 180 ++++++++++++++++
 distribution/src/assemble/bin.xml      |   1 +
 pom.xml                                |  15 ++
 6 files changed, 753 insertions(+), 34 deletions(-)

commit c3b15af0292270e75a3f98a9225e7dceb24c96c3
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Aug 11 11:58:43 2014 -0700

    DRILL-1281: Use ByteBuffer read codepath in complex parquet reader

 contrib/storage-hbase/pom.xml                      | 26 ++++++++++-
 distribution/pom.xml                               | 13 +++---
 distribution/src/assemble/bin.xml                  |  2 +-
 distribution/src/resources/drill-config.sh         | 27 ------------
 exec/java-exec/pom.xml                             | 50 ++++++++++++++++++++++
 .../exec/store/parquet2/DrillParquetReader.java    | 11 ++++-
 .../parquet/hadoop/ColumnChunkIncReadStore.java    | 46 +++++++++++++-------
 pom.xml                                            |  4 +-
 8 files changed, 125 insertions(+), 54 deletions(-)

commit 02e4824ed9da6e15b5f974f16b15b408695c8ada
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Mon Jul 28 13:44:52 2014 -0700

    DRILL-1281: Read into Direct Memory in Parquet Reader. Requires Hadoop 2.4 or above

 .../apache/drill/common/util/DecimalUtility.java   |   9 +-
 contrib/storage-hbase/pom.xml                      |  48 ++++++
 .../drill/exec/store/hbase/HBaseRecordReader.java  |  14 ++
 .../drill/exec/store/hive/HiveRecordReader.java    |  13 ++
 exec/java-exec/pom.xml                             | 112 +++++++++++--
 .../main/codegen/templates/HolderReaderImpl.java   |   1 -
 .../apache/drill/exec/physical/impl/ScanBatch.java |   6 +-
 .../drill/exec/store/LocalSyncableFileSystem.java  |  12 ++
 .../org/apache/drill/exec/store/RecordReader.java  |   9 ++
 .../exec/store/easy/json/JSONRecordReader2.java    |  14 ++
 .../drill/exec/store/mock/MockRecordReader.java    |  13 ++
 .../drill/exec/store/parquet/ColumnDataReader.java |  26 ++-
 .../store/parquet/ParquetScanBatchCreator.java     |   8 +-
 .../store/parquet/columnreaders/BitReader.java     |  11 +-
 .../store/parquet/columnreaders/ColumnReader.java  |   8 +-
 .../columnreaders/FixedByteAlignedReader.java      |  15 +-
 .../NullableFixedByteAlignedReaders.java           |  33 ++--
 .../NullableVarLengthValuesColumn.java             |   5 +-
 .../store/parquet/columnreaders/PageReader.java    | 127 ++++++++++++---
 .../parquet/columnreaders/ParquetRecordReader.java |  13 ++
 .../columnreaders/VarLengthColumnReaders.java      |  98 ++++++++---
 .../columnreaders/VarLengthValuesColumn.java       |   5 +-
 .../exec/store/parquet2/DrillParquetReader.java    |   9 ++
 .../drill/exec/store/pojo/PojoRecordReader.java    |  10 ++
 .../exec/store/text/DrillTextRecordReader.java     |  14 +-
 .../java/parquet/hadoop/CodecFactoryExposer.java   |  96 ++++++++++-
 .../physical/impl/writer/TestParquetWriter.java    |   4 +-
 exec/jdbc/pom.xml                                  |  14 +-
 pom.xml                                            | 180 ++++++++++++---------
 29 files changed, 747 insertions(+), 180 deletions(-)

commit 654c879f7caa13925edca911de1b59d04d8f1a8b
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sat Aug 16 17:15:33 2014 -0700

    DRILL-1295: Select returns null for non pivot fields with a nested select
    
    * Fix DrillTextRecordReader to handle the case when requested columns includes the entire group and a subset.

 .../exec/store/text/DrillTextRecordReader.java     | 12 ++++++++++-
 .../java/org/apache/drill/TestExampleQueries.java  |  8 +++++++
 .../src/test/resources/store/text/data/nations.csv | 25 ++++++++++++++++++++++
 3 files changed, 44 insertions(+), 1 deletion(-)

commit bc06b4cca703f9b3bbcbf39faf803c06ce31a6b4
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon Aug 4 09:59:50 2014 -0700

    DRILL-1293: Fix assertion when selecting star column from view that also has star column.

 .../drill/exec/physical/impl/project/ProjectRecordBatch.java       | 5 +++--
 .../src/test/java/org/apache/drill/TestExampleQueries.java         | 7 +++++++
 2 files changed, 10 insertions(+), 2 deletions(-)

commit 1994fd408b63ad723173b9cd93c611e88b002c32
Author: Patrick Wong <pwong@maprtech.com>
Date:   Tue Aug 12 18:02:50 2014 -0700

    DRILL-1292: Standalone JDBC jar is in distribution.
    
    * The code was already there, it just needed to be uncommented.

 distribution/pom.xml              | 4 ++--
 distribution/src/assemble/bin.xml | 8 ++++----
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 81bd7527846318610a3367e4bd756d269fedfb9c
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Aug 11 18:04:30 2014 -0700

    DRILL-1278: Fix selecting scalar field from a map with join clause.

 .../apache/drill/exec/physical/impl/project/ProjectRecordBatch.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d4a07dbc6e492f5c9a071772c470b6f4b54c10d1
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Aug 11 11:37:06 2014 -0700

    DRILL-1277: Rewrite compound identifiers in 'ON' clause as item operator

 .../drill/exec/planner/sql/parser/CompoundIdentifierConverter.java      | 2 ++
 1 file changed, 2 insertions(+)

commit a74fe3da3976f2ce02ffbf0c37a116f6fa485191
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon Aug 11 16:54:42 2014 -0700

    DRILL-1275: Added disclaimer file.

 DISCLAIMER                        | 5 +++++
 distribution/src/assemble/bin.xml | 4 ++++
 2 files changed, 9 insertions(+)

commit cca9ce18110bfba7658f2874091f36f2976e47b8
Author: Aman Sinha <asinha@maprtech.com>
Date:   Thu Aug 14 16:22:39 2014 -0700

    DRILL-1241: Ensure that Limit produces at least 1 batch with the output schema.

 .../exec/physical/impl/limit/LimitRecordBatch.java | 34 ++++++++++++++++++++++
 .../java/org/apache/drill/TestExampleQueries.java  | 10 +++++++
 2 files changed, 44 insertions(+)

commit c2df1460cf06a909692272e3a8136d945c4c7d5c
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon Aug 11 16:49:16 2014 -0700

    DRILL-1240: Updated NOTICE to 2013-2014.

 NOTICE | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 88c1b92fe6750a1224cfd2530d9d024e1f9aa453
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Tue Aug 12 18:57:51 2014 -0700

    DRILL-1205: group by causes access to DeadBuf
    
    * Fix an issue that causes calls to splitAndTransferTo malfunction on repeated vector types

 .../codegen/templates/RepeatedValueVectors.java    | 33 +++++++++++-----------
 1 file changed, 16 insertions(+), 17 deletions(-)

commit db7627434a313d2af926cbd5977eddaccacc60b6
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Fri Aug 1 16:28:39 2014 -0700

    DRILL-1178: Double copy in setSafe for VariableLengthVectors

 exec/java-exec/src/main/codegen/templates/VariableLengthVectors.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ba027c7f555782a0369aeffaeee1dd0bd60072df
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue Aug 12 22:37:44 2014 +0530

    DRILL-1163: Estimate memory and re-planning query + system options UI.

 .../java/org/apache/drill/exec/ExecConstants.java  | 33 ++++++++
 .../drill/exec/compile/QueryClassLoader.java       | 25 +++---
 .../org/apache/drill/exec/ops/FragmentContext.java | 26 +++---
 .../org/apache/drill/exec/ops/QueryContext.java    | 16 ++--
 .../org/apache/drill/exec/opt/BasicOptimizer.java  | 15 ++--
 .../drill/exec/planner/cost/DrillCostBase.java     | 33 ++++++--
 .../drill/exec/planner/physical/HashAggPrel.java   | 42 +++++-----
 .../drill/exec/planner/physical/HashAggPrule.java  | 10 ++-
 .../drill/exec/planner/physical/HashJoinPrel.java  | 27 ++++--
 .../drill/exec/planner/physical/HashJoinPrule.java | 13 ++-
 .../exec/planner/physical/PlannerSettings.java     |  8 ++
 .../drill/exec/planner/physical/SortPrel.java      | 21 +++--
 .../physical/visitor/MemoryEstimationVisitor.java  | 66 +++++++++++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    | 33 +++++---
 .../planner/sql/handlers/SetOptionHandler.java     | 32 +++----
 .../apache/drill/exec/rpc/user/UserSession.java    | 14 ++--
 ...ionsManager.java => FragmentOptionManager.java} | 21 ++---
 .../drill/exec/server/options/OptionManager.java   |  4 +-
 .../drill/exec/server/options/OptionValue.java     | 33 +++++++-
 .../exec/server/options/QueryOptionManager.java    | 97 ++++++++++++++++++++++
 .../exec/server/options/SessionOptionManager.java  | 43 +++++-----
 .../exec/server/options/SystemOptionManager.java   | 36 ++++----
 .../drill/exec/server/options/TypeValidators.java  | 30 +++++--
 .../apache/drill/exec/server/rest/DrillRoot.java   | 62 +++++++++++++-
 .../drill/exec/server/rest/StatusResources.java    | 96 ++++++++++++++++++++-
 .../apache/drill/exec/work/foreman/Foreman.java    |  2 +-
 exec/java-exec/src/main/resources/rest/generic.ftl |  6 +-
 exec/java-exec/src/main/resources/rest/index.ftl   | 13 ++-
 exec/java-exec/src/main/resources/rest/options.ftl | 47 +++++++++++
 exec/java-exec/src/main/resources/rest/status.ftl  |  1 +
 .../test/java/org/apache/drill/PlanningBase.java   | 29 ++++---
 31 files changed, 729 insertions(+), 205 deletions(-)

commit bb212634aa358a60c4d9f271cb13746130a6b0fa
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Aug 15 17:04:41 2014 -0700

    DRILL-1039: Preserve schema even when no rows are copied in RemovingRecordBatch

 .../physical/impl/svremover/RemovingRecordBatch.java   | 18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

commit 687b9b0b6e8d30fcf2a1e4fc8f34ddc6728b1f69
Author: norrislee <norrislee18@hotmail.com>
Date:   Wed Jul 30 13:31:20 2014 -0700

    DRILL-1226: C++ Client Decimal ignores leading zeros for decimal 9 and 18

 contrib/native/client/src/include/drill/recordBatch.hpp | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit 90cd1949274aad87626083b835fc966b7f422777
Author: Xiao Meng <xiaom.cs@gmail.com>
Date:   Tue Jul 29 15:10:10 2014 -0700

    DRILL-1222: C++ Client. Fix DRILL-1144 compilation on Mac OS

 contrib/native/client/src/include/drill/recordBatch.hpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 323084b0b9ff53d9f0737748dc920ad9ca4611d0
Author: Xiao Meng <xiaom.cs@gmail.com>
Date:   Fri Jul 11 16:26:16 2014 -0700

    DRILL-1137: C++ Client. Support setting default schema in the connection phase.

 contrib/native/client/example/querySubmitter.cpp   |  4 ++-
 .../native/client/src/clientlib/drillClient.cpp    |  4 +--
 .../client/src/clientlib/drillClientImpl.cpp       | 13 ++++++++-
 .../client/src/clientlib/drillClientImpl.hpp       |  4 +--
 .../client/src/include/drill/drillClient.hpp       | 31 ++++++++++++++++++++--
 5 files changed, 48 insertions(+), 8 deletions(-)

commit 441886430e8cc77b60b7b90123fd2443304b7924
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon Aug 11 15:55:20 2014 -0700

    DRILL-1245: throw more descriptive error messages if i) json file is invalid ii) also display max record size allowed

 .../exec/store/easy/json/JSONRecordReader2.java    | 35 ++++++++++++++--------
 .../drill/exec/vector/complex/fn/JsonReader.java   |  4 ++-
 .../vector/complex/fn/JsonRecordSplitterBase.java  | 12 ++++++--
 3 files changed, 34 insertions(+), 17 deletions(-)

commit 1620d503e59a1f6cea8584b6ba3b25759d6fd131
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon Aug 11 11:40:54 2014 -0700

    DRILL-1249: ensure ResultBatchLoader to check group count to determine if incoming batch has empty values for repeated fields

 .../src/main/java/org/apache/drill/exec/record/RecordBatchLoader.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d215801022def22c4dce3f58751ab4dc2853482d
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Aug 10 15:14:08 2014 -0700

    Reenable producer/consumer.

 .../apache/drill/exec/planner/sql/handlers/DefaultSqlHandler.java  | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit 8c66525735d011c763a4ed913d46e07cd60aea23
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Aug 5 13:13:52 2014 -0700

    DRILL-1250 : Fix compilation error in generated code when Drill evaluates an expression that returns a repeated scalar value.

 .../src/main/java/org/apache/drill/exec/expr/EvaluationVisitor.java | 6 +++---
 .../drill/exec/vector/complex/writer/TestComplexTypeReader.java     | 6 ++++++
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 49d238eea601a6764129b9d64cf9bca440209e12
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Jul 31 23:46:26 2014 -0700

    DRILL-1252: Implement Complex parquet and json writers

 .../codegen/templates/AbstractRecordWriter.java    |  21 ++-
 .../codegen/templates/EventBasedRecordWriter.java  | 128 +++++++------
 .../codegen/templates/JsonOutputRecordWriter.java  | 171 +++++++++++++++++
 .../templates/ParquetOutputRecordWriter.java       | 119 +++++++-----
 .../codegen/templates/RecordValueAccessor.java     |   6 +
 .../src/main/codegen/templates/RecordWriter.java   |   9 +-
 .../templates/StringOutputRecordWriter.java        |  73 +++++---
 .../exec/physical/impl/WriterRecordBatch.java      |   5 +-
 .../drill/exec/record/MaterializedField.java       |   4 +
 .../exec/store/easy/json/JSONFormatPlugin.java     |  24 ++-
 .../exec/store/easy/json/JsonRecordWriter.java     | 205 +++++++++++++++++++++
 .../exec/store/parquet/ParquetRecordWriter.java    | 112 ++++++++++-
 .../exec/store/text/DrillTextRecordWriter.java     |  30 +++
 .../exec/vector/complex/RepeatedMapVector.java     |   4 +
 .../vector/complex/impl/RepeatedMapReaderImpl.java |   5 +-
 .../physical/impl/writer/TestParquetWriter.java    |   9 +-
 exec/java-exec/src/test/resources/donuts.json      | 132 +++++++++++++
 .../org/apache/drill/common/types/MinorType.java   |   4 +-
 18 files changed, 905 insertions(+), 156 deletions(-)

commit 450d891eb9cc9a77e537537e5d70ecb94de697b8
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Aug 6 15:20:25 2014 -0700

    DRILL-1270: Resize buffers used in workspace vectors for aggregate functions dynamically

 .../java-exec/src/main/codegen/data/AggrTypes1.tdd | 16 ++---
 .../codegen/templates/VarCharAggrFunctions1.java   | 70 ++++++++++++----------
 2 files changed, 46 insertions(+), 40 deletions(-)

commit c6904f91a2a7a4909def300594399688840ea545
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Tue Aug 5 17:05:54 2014 -0700

    DRILL-1239: stop writing to vector if the vector runs out of memory

 exec/java-exec/src/main/codegen/templates/ComplexWriters.java | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 711d621b4706c3586e256593909c7c154652a6a7
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sat Aug 2 23:12:24 2014 -0700

    DRILL-632: JDBC single jar build failing, too many classes

 .../apache/drill/common/config/DrillConfig.java    |  11 +-
 exec/jdbc-all/pom.xml                              | 252 ++++++++++++++-------
 exec/pom.xml                                       |   1 +
 3 files changed, 176 insertions(+), 88 deletions(-)

commit e71a5059f87aefc23a8e6811cbb5f078281c9549
Author: akumarb2010 <akumarb2010@gmail.com>
Date:   Fri Aug 1 18:28:20 2014 +0530

    DRILL-1235: Fix null handling in REST interface

 .../main/java/org/apache/drill/exec/server/rest/QueryWrapper.java | 8 ++++++--
 exec/java-exec/src/main/resources/rest/query/result.ftl           | 2 +-
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 2d10e8b8feaf48429d7fa7324b15ba9949f41378
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu Jul 31 15:24:14 2014 -0700

    DRILL-1236: Create script to verify release artifacts

 tools/verify_release.sh | 103 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 103 insertions(+)

commit 28fbdad886583bc7193833abb06deea327ec8fbe
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Tue Jul 29 18:39:11 2014 -0700

    DRILL-1202: fixes memory leak issues: i) ProducerConsumerBatch should clean up resources ii) FragmentExecutor should clean up gracefully at faulty & non-faulty runs regardless

 .../impl/producer/ProducerConsumerBatch.java       | 75 +++++++++++-----------
 .../drill/exec/work/fragment/FragmentExecutor.java | 68 ++++++--------------
 2 files changed, 58 insertions(+), 85 deletions(-)

commit 90c4ef6471376cffd5ad792f2a270d34b7c8c346
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Aug 6 00:39:13 2014 -0700

    DRILL-1253: Allocate new container for workspace vectors before exhausting the current container.

 .../exec/physical/impl/aggregate/HashAggTemplate.java      | 14 ++++++++++++--
 .../apache/drill/exec/physical/impl/common/HashTable.java  |  2 ++
 .../drill/exec/physical/impl/common/HashTableTemplate.java |  6 ++++++
 3 files changed, 20 insertions(+), 2 deletions(-)

commit d07fee4e1da4219799fe9374bdf7029827c2d287
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Aug 5 21:38:55 2014 -0700

    DRILL-1214: Disable SV4 handling in FilterRecordBatch

 .../apache/drill/exec/physical/impl/filter/FilterRecordBatch.java  | 7 +++++++
 .../java/org/apache/drill/exec/planner/physical/FilterPrel.java    | 4 +---
 .../apache/drill/exec/physical/impl/filter/TestSimpleFilter.java   | 2 ++
 3 files changed, 10 insertions(+), 3 deletions(-)

commit 4c91094671ed7b018a1d2ebf3a05871bfd6a10ed
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Aug 4 23:29:36 2014 -0700

    DRILL-1207: Use similar initial allocation size in ObjectVector as used by other vectors

 .../src/main/java/org/apache/drill/exec/vector/ObjectVector.java    | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 07483f2226f2b07b0ebc98cfc213077de3adcb22
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Aug 1 17:35:14 2014 -0700

    DRILL-1232: Fix unsupported exception while using 'where' clause with partition names

 .../org/apache/drill/exec/store/dfs/easy/EasyFormatPlugin.java    | 8 +++++++-
 .../apache/drill/exec/store/parquet/ParquetScanBatchCreator.java  | 8 +++++---
 2 files changed, 12 insertions(+), 4 deletions(-)

commit 3da5d70bc84678416c96be95e2b3fef7e1a3a52b
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jul 31 19:22:06 2014 -0700

    DRILL-1247: Override toString() method in Time (java.sql.Time) class to print millis

 .../src/main/codegen/includes/vv_imports.ftl       |  2 ++
 .../src/main/codegen/templates/SqlAccessors.java   |  2 +-
 .../exec/vector/accessor/sql/TimePrintMillis.java  | 42 ++++++++++++++++++++++
 3 files changed, 45 insertions(+), 1 deletion(-)

commit abaf5c494eb97643385f93496eac4d18cf285ec6
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jul 31 18:22:34 2014 -0700

    DRILL-1246: Fix rounding when scale is zero while casting from varchar ->decimal28/decimal38

 .../main/codegen/templates/Decimal/CastVarCharDecimal.java   | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 66c055ee5ed2d000b7bd6997875cad18616bccb6
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Jul 30 16:43:14 2014 -0700

    DRILL-1216: Fix decimal multiplication when precision can exceed 38

 .../codegen/templates/Decimal/DecimalFunctions.java  | 20 +++++++++++---------
 1 file changed, 11 insertions(+), 9 deletions(-)

commit 5873442da4b88e7cc4a97f99b02c0f684eec0f01
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Jul 30 20:21:02 2014 -0700

    DRILL-1233: Use ObjectHolder interface for Max, Min decimal aggregate functions

 .../src/main/codegen/data/DecimalAggrTypes1.tdd    |  14 +--
 .../Decimal/DecimalAggrTypeFunctions1.java         | 115 ++++++++++-----------
 2 files changed, 57 insertions(+), 72 deletions(-)

commit 4a70d568e0c0a3c69ef977bacd98e6740cd8bfee
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Aug 6 12:40:04 2014 -0700

    DRILL-1063: Fix bug in merge join when value is repeating across batch boundary

 .../java/org/apache/drill/exec/physical/impl/join/JoinTemplate.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a564da9e55eab2e85bb38827bc577fbdfea78576
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu Jul 31 10:33:16 2014 -0700

    DRILL-1234: Building Drill from source distribution fails [addendum]

 pom.xml | 17 +++++++++++++++--
 1 file changed, 15 insertions(+), 2 deletions(-)

commit 5dca307d1234999e2313b43fe00368a461c096be
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu Jul 31 02:02:45 2014 -0700

    DRILL-1234: Building Drill from source distribution fails

 distribution/src/assemble/bin.xml | 2 +-
 pom.xml                           | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 70c2e5e02746a4e71f5e8f07c3b22ab9536bc14f
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Aug 6 16:42:23 2014 -0700

    Move to 0.5.0-incubating-SNAPSHOT

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/pom.xml                                 | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 16 files changed, 16 insertions(+), 16 deletions(-)

commit 98b208e262dd9b54988f5eeffacea7d0e83c958c
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Jul 30 18:53:28 2014 -0700

    Fix regression in field aliasing.

 .../physical/visitor/StarColumnConverter.java      | 87 +++++++++++-----------
 1 file changed, 45 insertions(+), 42 deletions(-)

commit cea40d2eafd7cdf3a29f86f4fcd23ed2a026d08b
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Jul 30 16:50:53 2014 -0700

    DRILL-1230: Add project url, description and mailing lists to Drill pom.xml

 pom.xml | 31 +++++++++++++++++++++++++++++++
 1 file changed, 31 insertions(+)

commit 714447af0ed0196112b44057731fe71984af7318
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Jul 30 14:52:04 2014 -0700

    DRILL-1229: Integration with 'apache-release' profile

 distribution/pom.xml                               | 37 +----------
 pom.xml                                            | 76 +++-------------------
 .../resources/assemblies}/source-assembly.xml      |  0
 3 files changed, 9 insertions(+), 104 deletions(-)

commit 42438596cb118f10bb0b8b483df17142c7948d8e
Author: Cliff Buchanan <cbuchanan@maprtech.com>
Date:   Wed Jul 30 13:41:25 2014 -0700

    DRILL-1227: Compatibility for non-firefox browsers.

 exec/java-exec/src/main/resources/rest/www/graph.js | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 0d6befca0bd98ad14cd2bb6700cdee5172cd8f90
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sun May 18 00:46:02 2014 -0700

    DRILL-1058: Read complex types in parquet

 distribution/src/resources/hadoop-excludes.txt     |   1 +
 .../src/main/codegen/templates/ComplexWriters.java |   4 +
 .../codegen/templates/NullableValueVectors.java    |  15 +-
 .../codegen/templates/RepeatedValueVectors.java    |   8 +
 .../codegen/templates/VariableLengthVectors.java   |   4 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |  12 +
 .../exec/server/options/SystemOptionManager.java   |   1 +
 .../store/parquet/ParquetScanBatchCreator.java     |  46 ++-
 .../store/parquet2/DrillParquetGroupConverter.java | 439 +++++++++++++++++++++
 .../exec/store/parquet2/DrillParquetReader.java    | 204 ++++++++++
 .../parquet2/DrillParquetRecordMaterializer.java   |  57 +++
 .../drill/exec/vector/BaseDataValueVector.java     |   9 +
 .../apache/drill/exec/vector/BaseValueVector.java  |   3 +
 .../org/apache/drill/exec/vector/ObjectVector.java |   9 +
 .../drill/exec/vector/VariableWidthVector.java     |   2 +
 .../vector/complex/AbstractContainerVector.java    |   4 +
 .../drill/exec/vector/complex/MapVector.java       |  16 +
 .../exec/vector/complex/RepeatedListVector.java    |  14 +
 .../exec/vector/complex/RepeatedMapVector.java     |  17 +
 .../vector/complex/impl/VectorContainerWriter.java |   4 +
 .../java/parquet/hadoop/CodecFactoryExposer.java   |   5 +
 .../parquet/hadoop/ColumnChunkIncReadStore.java    | 190 +++++++++
 .../java/org/apache/drill/ParquetSchemaMerge.java  |  48 +++
 .../java/org/apache/drill/TestExampleQueries.java  |   7 +
 .../src/test/resources/parquet/complex.parquet     | Bin 0 -> 862 bytes
 26 files changed, 1111 insertions(+), 10 deletions(-)

commit 48229ec90359226638e3f7c274c7adadfc95952d
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jul 29 20:14:22 2014 -0700

    Switch TPC-H to use typed data output

 contrib/data/tpch-sample-data/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 95c5b5698abf0facac127a35c0d960fac1e286b2
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Jul 29 19:14:16 2014 -0700

    Allow implicit cast of VARCHAR type arg to VAR16CHAR type when resolving Hive UDFs

 .../apache/drill/exec/expr/fn/HiveFuncHolder.java  | 10 ++++
 .../drill/exec/expr/fn/HiveFunctionRegistry.java   | 25 ++++++++-
 .../drill/exec/fn/hive/TestSampleHiveUDFs.java     |  3 +-
 .../exec/expr/ExpressionTreeMaterializer.java      | 17 +++++-
 .../drill/exec/expr/fn/AbstractFuncHolder.java     |  5 ++
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  2 +
 .../exec/expr/fn/impl/CastVarCharVar16Char.java    | 61 ++++++++++++++++++++++
 7 files changed, 119 insertions(+), 4 deletions(-)

commit 6e65f0405fc68294d82085f0a71f56207f06da01
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jul 29 19:55:55 2014 -0700

    Update version to 0.4.0-incubating-SNAPSHOT

 common/pom.xml                               | 2 +-
 contrib/data/pom.xml                         | 2 +-
 contrib/data/tpch-sample-data/pom.xml        | 2 +-
 contrib/pom.xml                              | 2 +-
 contrib/sqlline/pom.xml                      | 2 +-
 contrib/storage-hbase/pom.xml                | 2 +-
 contrib/storage-hive/core/pom.xml            | 2 +-
 contrib/storage-hive/hive-exec-shade/pom.xml | 2 +-
 contrib/storage-hive/pom.xml                 | 2 +-
 distribution/pom.xml                         | 2 +-
 exec/java-exec/pom.xml                       | 2 +-
 exec/jdbc-all/pom.xml                        | 2 +-
 exec/jdbc/pom.xml                            | 2 +-
 exec/pom.xml                                 | 2 +-
 pom.xml                                      | 2 +-
 protocol/pom.xml                             | 2 +-
 16 files changed, 16 insertions(+), 16 deletions(-)

commit e90408d778dea36811efe67c069a4ebe820336c2
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue Jul 29 19:30:27 2014 -0700

    DRILL-1225: Update license for all third party dependencies.

 LICENSE | 744 ++++++++++++++++++++++++----------------------------------------
 1 file changed, 273 insertions(+), 471 deletions(-)

commit bded94a2a1ff46c5b2e0c07ff5816e3aae8b8537
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Jul 29 13:23:25 2014 -0700

    DRILL-1218: 'sqlline.bat' file should use JAVA_HOME if set

 distribution/src/resources/sqlline.bat | 49 +++++++++++++++++++++++++++++-----
 1 file changed, 43 insertions(+), 6 deletions(-)

commit c2e32ac00e850e1ab6bee81e81070dfde4a48d9b
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Jul 29 17:07:34 2014 -0500

    DRILL 1221: Update for changes in Parquet-12 for new converted types. Also converted existing binary files in the test-data directory.

 .../main/codegen/templates/ParquetTypeHelper.java  |   6 ++---
 .../columnreaders/ParquetToDrillTypeConverter.java |  25 +++++++++++----------
 sample-data/nation.parquet                         | Bin 3109 -> 1210 bytes
 sample-data/nationsMF/nation.parquet               | Bin 3109 -> 0 bytes
 sample-data/nationsMF/nation2.parquet              | Bin 3109 -> 0 bytes
 sample-data/nationsMF/nationsMF.parquet            | Bin 0 -> 1302 bytes
 sample-data/nationsSF/nation.parquet               | Bin 3109 -> 0 bytes
 sample-data/nationsSF/nationsSF.parquet            | Bin 0 -> 1210 bytes
 sample-data/region.parquet                         | Bin 819 -> 455 bytes
 sample-data/regionsMF/region.parquet               | Bin 819 -> 0 bytes
 sample-data/regionsMF/region2.parquet              | Bin 819 -> 0 bytes
 sample-data/regionsMF/regionsMF_Typed.parquet      | Bin 0 -> 468 bytes
 sample-data/regionsSF/region.parquet               | Bin 819 -> 0 bytes
 sample-data/regionsSF/regionsSF.parquet            | Bin 0 -> 455 bytes
 14 files changed, 16 insertions(+), 15 deletions(-)

commit 5bae9c8f94da0feda0baf32b22c92826bb3067f1
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jul 29 15:52:45 2014 -0700

    Add Drill icon

 exec/java-exec/src/main/resources/rest/generic.ftl   |   1 +
 exec/java-exec/src/main/resources/rest/www/drill.ico | Bin 0 -> 580 bytes
 2 files changed, 1 insertion(+)

commit 6d5ccc81881ad779f276bed03cf8c5246e214e1f
Author: Cliff Buchanan <cbuchanan@maprtech.com>
Date:   Mon Jul 28 10:01:15 2014 -0700

    DRILL-1217: Enhance execution stats web UI
    
    Added Gantt chart
    Improved organization
    Decrease number of tables and overall page size
    Implement general javascript functions for profile processing

 .../drill/exec/server/rest/ProfileWrapper.java     | 361 ++++++++++---------
 .../src/main/resources/rest/profile/profile.ftl    | 177 +++++++---
 .../java-exec/src/main/resources/rest/www/graph.js | 383 ++++++++++++++++-----
 .../src/main/resources/rest/www/style.css          |  27 --
 4 files changed, 640 insertions(+), 308 deletions(-)

commit 204aa5d255fda7d98a4dc9a01756070167846f63
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sun Jul 27 16:22:53 2014 -0700

    DRILL-1220: Process the star columns in ProjectRecordBatch by classifying the expressions appropriately based on the annotated expressions created by planner.

 .../physical/impl/project/ProjectRecordBatch.java  | 387 ++++++++++++++++++---
 .../java/org/apache/drill/TestExampleQueries.java  |  11 -
 .../src/test/resources/join/hj_exchanges.json      |   3 -
 .../src/test/resources/join/hj_exchanges1.json     |   6 -
 4 files changed, 329 insertions(+), 78 deletions(-)

commit 0a87076b51f54b8fa5bbc42d613279b09c4dc786
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jul 29 15:27:00 2014 -0700

    Update Drill default settings

 distribution/src/resources/drill-env.sh | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 0d328d5ad91fef6dd9f93f95d324a6e74193c2c6
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Jul 28 19:00:33 2014 -0700

    DRILL-1172: Consider Hive override config given in storage plugin for reading data in Hive tables

 .../org/apache/drill/exec/store/hive/HiveReadEntry.java   |  8 +++++++-
 .../apache/drill/exec/store/hive/HiveRecordReader.java    |  7 ++++++-
 .../java/org/apache/drill/exec/store/hive/HiveScan.java   |  6 ++++++
 .../drill/exec/store/hive/HiveScanBatchCreator.java       |  5 +++--
 .../apache/drill/exec/store/hive/HiveStoragePlugin.java   |  2 +-
 .../drill/exec/store/hive/HiveStoragePluginConfig.java    | 15 ++-------------
 .../drill/exec/store/hive/HiveTextRecordReader.java       |  2 +-
 .../drill/exec/store/hive/schema/HiveSchemaFactory.java   | 14 ++++++++++++--
 8 files changed, 38 insertions(+), 21 deletions(-)

commit d2d047ab81be473d8ba2e792e0b1ec52b2763e97
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Jul 28 18:45:48 2014 -0700

    DRILL-1151: Update 'lastSet' in repeated map vector while performing copy

 .../java/org/apache/drill/exec/vector/complex/RepeatedMapVector.java   | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a74401054907b1a924bdb1d819d50c6df7ea7046
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Jul 28 17:37:39 2014 -0700

    DRILL-1195: Querying nested array elements in JSON returns only null values

 .../vector/complex/AbstractContainerVector.java    | 62 +++++++++++-----------
 .../drill/exec/nested/TestNestedComplexSchema.java | 40 ++++++++++++++
 .../src/test/resources/nested/nested_1.json        |  5 ++
 .../src/test/resources/nested/nested_2.json        |  5 ++
 .../src/test/resources/nested/nested_3.json        |  5 ++
 5 files changed, 87 insertions(+), 30 deletions(-)

commit cfa0b639b233321f531a6d1356ae3e1f4f96161b
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jul 29 07:07:49 2014 -0700

    Disable select * tests until project enhancements merged.

 .../java/org/apache/drill/TestExampleQueries.java  | 36 ++++++++++++++--------
 1 file changed, 23 insertions(+), 13 deletions(-)

commit 13560cbfbc82fb876d3b2418535907990053f7ea
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Jul 28 15:00:24 2014 -0700

    DRILL-1213: Use scale when deriving row type for views.

 exec/java-exec/src/main/java/org/apache/drill/exec/dotdrill/View.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5b73c2140f100bb74cbf4a20cd31d13ebf5a4b88
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Jul 22 13:08:33 2014 -0500

    DRILL-945: Implementation of repeated reader and writer for parquet. Includes a fairly substantial refactoring of the overall reader structure.
    
    Fix records counts expected in parquet read tests, previously the wrong records counts were being expected and messages were sent to the logger, but in the form of debug messages. not errors, so they were not flagging when the tests were failing.
    
    After review: Rename PageReadStatus to PageReader, removed underscore from package name column_readers, address review comment from parth in VarLengthColumnReaders.
    
    Fix regression in nullable varlength reader for parquet. Change output names in parquet writer/reader tests to prevent issues with files not being deleted correctly during tests.

 .../codegen/templates/NullableValueVectors.java    |    19 +-
 .../templates/ParquetOutputRecordWriter.java       |     4 +
 .../codegen/templates/RepeatedValueVectors.java    |    28 +-
 .../codegen/templates/VariableLengthVectors.java   |    18 +-
 .../drill/exec/store/parquet/ColumnDataReader.java |     6 +-
 .../parquet/NullableFixedByteAlignedReader.java    |   156 -
 .../parquet/NullableFixedByteAlignedReaders.java   |   169 -
 .../exec/store/parquet/ParquetFormatPlugin.java    |     2 +-
 .../exec/store/parquet/ParquetRecordReader.java    |   711 -
 .../exec/store/parquet/ParquetRecordWriter.java    |     3 +-
 .../store/parquet/ParquetScanBatchCreator.java     |     2 +-
 .../exec/store/parquet/VarLenBinaryReader.java     |   190 -
 .../parquet/{ => columnreaders}/BitReader.java     |    35 +-
 .../parquet/{ => columnreaders}/ColumnReader.java  |   156 +-
 .../parquet/columnreaders/ColumnReaderFactory.java |   175 +
 .../FixedByteAlignedReader.java                    |    32 +-
 .../columnreaders/FixedWidthRepeatedReader.java    |   213 +
 .../{ => columnreaders}/NullableBitReader.java     |    17 +-
 .../{ => columnreaders}/NullableColumnReader.java  |    51 +-
 .../NullableFixedByteAlignedReaders.java           |   238 +
 .../NullableVarLengthValuesColumn.java             |   130 +
 .../PageReader.java}                               |    64 +-
 .../ParquetFixedWidthDictionaryReader.java         |    13 +-
 .../parquet/columnreaders/ParquetRecordReader.java |   361 +
 .../columnreaders/ParquetToDrillTypeConverter.java |   236 +
 .../parquet/columnreaders/VarLenBinaryReader.java  |    81 +
 .../parquet/columnreaders/VarLengthColumn.java     |    60 +
 .../VarLengthColumnReaders.java                    |   107 +-
 .../columnreaders/VarLengthValuesColumn.java       |    96 +
 .../exec/vector/RepeatedFixedWidthVector.java      |    13 +
 .../exec/vector/RepeatedVariableWidthVector.java   |     2 +
 .../drill/exec/vector/VariableWidthVector.java     |    12 +-
 .../exec/vector/complex/RepeatedListVector.java    |    28 +-
 .../exec/vector/complex/RepeatedMapVector.java     |    29 +-
 .../physical/impl/writer/TestParquetWriter.java    |    88 +-
 .../store/parquet/ParquetRecordReaderTest.java     |   100 +-
 .../exec/store/parquet/ParquetResultListener.java  |    45 +-
 .../exec/store/parquet/TestFileGenerator.java      |    49 +-
 .../test/resources/parquet/alltypes_repeated.json  |    28 +
 .../src/test/resources/parquet/basic_repeated.json |     9 +
 .../src/test/resources/parquet/null_test_data.json |    26 +
 ...rquet_repeated_performance_test_input_data.json |  2041 +
 .../test/resources/parquet/repeated_bool_data.json | 73572 +++++++++++++++++++
 .../resources/parquet/repeated_double_data.json    |  2041 +
 .../resources/parquet/repeated_integer_data.json   | 18481 +++++
 45 files changed, 98382 insertions(+), 1555 deletions(-)

commit 686a282c93f3412ca4f977a4c32c44264f8b9a23
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon Jul 28 14:11:17 2014 -0700

    DRILL-1212: Propagate trait in 2 phase aggregation rule, to avoid adding unnecessary exchange operator.

 .../main/java/org/apache/drill/exec/planner/physical/HashAggPrule.java  | 2 +-
 .../java/org/apache/drill/exec/planner/physical/StreamAggPrule.java     | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 91b33f98501cab8081f9cf2dce74418b4a018019
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu Jul 24 11:51:35 2014 -0700

    DRILL-931: Support select * query in Drill planner. (Part of change is in Optiq).

 .../drill/common/expression/TypedNullConstant.java |  10 ++
 .../drill/exec/planner/StarColumnHelper.java       |  72 ++++++++
 .../exec/planner/common/DrillProjectRelBase.java   |  25 ++-
 .../exec/planner/physical/ProjectAllowDupPrel.java |  67 ++++++++
 .../physical/visitor/JoinPrelRenameVisitor.java    |   1 -
 .../physical/visitor/StarColumnConverter.java      | 182 +++++++++++++++++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    |  10 ++
 .../java/org/apache/drill/TestExampleQueries.java  |  52 ++++++
 8 files changed, 416 insertions(+), 3 deletions(-)

commit deaca5d8ec81ed03b0ad6a187c16723717ba2c51
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sun Jul 27 17:32:21 2014 -0700

    Temporarily disable ProducerConsumer operator until DRILL-1202 is fixed.

 .../org/apache/drill/exec/planner/sql/handlers/DefaultSqlHandler.java  | 3 +++
 1 file changed, 3 insertions(+)

commit 0a603df36f53cf7a8d6025745cafd3f30843b5be
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Jul 27 14:45:10 2014 -0700

    DRILL-1153: Add $sum0 implementations

 exec/java-exec/src/main/codegen/config.fmpp        |  1 +
 exec/java-exec/src/main/codegen/data/SumZero.tdd   | 31 +++++++
 .../src/main/codegen/templates/SumZeroAggr.java    | 96 ++++++++++++++++++++++
 3 files changed, 128 insertions(+)

commit 913fad858bbb751cde47b15a2cffda7f4797bcad
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jul 26 21:36:53 2014 -0700

    Refactor trait pull up to common SubsetTransformer. Update Prules to use new class and update FilterPrule to use all instead of best to work with Optiq 0.9.

 .../drill/exec/planner/physical/FilterPrule.java   |  31 +++---
 .../drill/exec/planner/physical/HashAggPrule.java  |  64 +++++++------
 .../drill/exec/planner/physical/JoinPruleBase.java |  82 ++++++++--------
 .../drill/exec/planner/physical/ProjectPrule.java  |  39 ++++----
 .../exec/planner/physical/StreamAggPrule.java      | 106 ++++++++++-----------
 .../exec/planner/physical/SubsetTransformer.java   |  69 ++++++++++++++
 .../drill/exec/planner/physical/WriterPrule.java   |  34 ++++---
 .../java/org/apache/drill/TestTpchExplain.java     |   6 ++
 8 files changed, 257 insertions(+), 174 deletions(-)

commit 0cbf6ad30cc7f1dd2d751ba5d4d6d4e8dad5e09d
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Jul 14 08:19:29 2014 -0700

    Add a check to validate given subschema name in HiveSchema.getSubSchema()

 .../org/apache/drill/exec/store/hive/schema/HiveSchemaFactory.java   | 5 +++++
 1 file changed, 5 insertions(+)

commit e52d2b66bdd2750dc2bb3c98fa937e8984b93c12
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jul 5 08:57:59 2014 -0700

    move to optiq 0.9

 .../org/apache/drill/exec/ops/FragmentContext.java |  4 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |  4 +-
 .../drill/exec/planner/logical/DrillJoinRel.java   |  4 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |  7 +-
 .../drill/exec/planner/physical/HashJoinPrel.java  |  2 +-
 .../drill/exec/planner/physical/MergeJoinPrel.java |  2 +-
 .../exec/planner/physical/PlannerSettings.java     |  7 +-
 .../drill/exec/planner/physical/PrelUtil.java      |  6 +-
 .../exec/planner/physical/StreamAggPrule.java      | 66 ++++++++--------
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  4 +-
 .../apache/drill/exec/store/AbstractSchema.java    |  7 ++
 .../apache/drill/exec/store/SubSchemaWrapper.java  |  1 +
 .../test/java/org/apache/drill/PlanningBase.java   |  3 +-
 .../drill/exec/sql/TestSqlBracketlessSyntax.java   |  7 +-
 .../apache/drill/jdbc/DrillColumnMetaDataList.java | 91 +++++++++++++++++++++-
 .../java/org/apache/drill/jdbc/DrillCursor.java    | 26 ++++---
 pom.xml                                            |  2 +-
 17 files changed, 171 insertions(+), 72 deletions(-)

commit caa8b78c5c31c44e59b5ff1bdf6f1900d14b1a1a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jul 26 10:45:12 2014 -0700

    Disable tests that require specific timezones.

 .../src/test/java/org/apache/drill/exec/fn/hive/TestSampleHiveUDFs.java | 2 ++
 1 file changed, 2 insertions(+)

commit 1fe9c21a83e7642e31827bc6c582bf6ea0e22bf3
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Fri Jul 25 18:55:03 2014 -0700

    DRILL-1153: skip brackets, braces & respect escape chars in literal strings while splitting JSON records

 .../vector/complex/fn/JsonRecordSplitterBase.java  | 117 +++++++++++++++++++
 .../complex/fn/ReaderJSONRecordSplitter.java       | 112 ++++--------------
 .../vector/complex/fn/UTF8JsonRecordSplitter.java  | 125 +++++++--------------
 3 files changed, 178 insertions(+), 176 deletions(-)

commit 846e291d5f6966a9fdf2b590c597b79b3205bb68
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Jul 25 19:39:30 2014 -0700

    DRILL-1180: Add casts to case expression to ensure all branches have same output type

 .../drill/common/expression/parser/ExprParser.g    |   8 +-
 .../common/expression/ExpressionStringBuilder.java |  19 ++-
 .../drill/common/expression/IfExpression.java      |  44 +++----
 .../expression/visitors/AggregateChecker.java      |   5 +-
 .../visitors/ConditionalExprOptimizer.java         |  14 +--
 .../expression/visitors/ConstantChecker.java       |   8 +-
 .../expression/visitors/ExpressionValidator.java   |  53 ++++-----
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  41 ++++---
 .../exec/expr/ExpressionTreeMaterializer.java      | 130 +++++++++++----------
 .../drill/exec/planner/logical/DrillOptiq.java     |   2 +-
 .../apache/drill/exec/resolver/TypeCastRules.java  |  45 ++++++-
 .../record/ExpressionTreeMaterializerTest.java     |  35 +++---
 12 files changed, 208 insertions(+), 196 deletions(-)

commit b6410ff846217ebffda23528bb46619248b1675a
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri Jul 25 18:48:05 2014 -0700

    DRILL-1130: Leading / in a select query should be rooted from the workspace rather than from the file system

 .../java/org/apache/drill/exec/store/dfs/FileSelection.java | 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit c331aed81e73d16ea29bf8c94863591b212aa644
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Jul 23 20:03:07 2014 -0700

    DRILL-991: Limit should terminate upstream fragments immediately upon completion

 .../drill/exec/physical/impl/BaseRootExec.java     |   6 +
 .../apache/drill/exec/physical/impl/RootExec.java  |   8 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |   8 +-
 .../exec/physical/impl/SingleSenderCreator.java    |  20 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  13 +-
 .../exec/physical/impl/WriterRecordBatch.java      |   6 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java |   6 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |   6 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |   9 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  10 +-
 .../exec/physical/impl/limit/LimitRecordBatch.java |   4 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |  52 +-
 .../OrderedPartitionRecordBatch.java               |  12 +-
 ...StatsBatch.java => PartitionOutgoingBatch.java} |   4 +-
 .../partitionsender/PartitionSenderRootExec.java   |  57 +-
 .../physical/impl/partitionsender/Partitioner.java |   3 +-
 .../impl/partitionsender/PartitionerTemplate.java  |  27 +-
 .../impl/producer/ProducerConsumerBatch.java       |   2 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |  11 +-
 .../physical/impl/union/UnionAllRecordBatch.java   |  10 +-
 .../unorderedreceiver/UnorderedReceiverBatch.java  |  47 +-
 .../validate/IteratorValidatorBatchIterator.java   |   4 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |  10 +-
 .../exec/planner/physical/PlannerSettings.java     |   2 +-
 .../drill/exec/record/AbstractRecordBatch.java     |   6 +-
 .../exec/record/AbstractSingleRecordBatch.java     |   6 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |   2 +-
 .../drill/exec/rpc/control/ControlRpcConfig.java   |   2 +
 .../drill/exec/rpc/control/ControlTunnel.java      |  22 +-
 .../drill/exec/work/batch/ControlHandlerImpl.java  |  22 +
 .../drill/exec/work/fragment/FragmentExecutor.java |   5 +
 .../drill/exec/physical/impl/SimpleRootExec.java   |   6 +
 .../org/apache/drill/exec/proto/BitControl.java    | 810 +++++++++++++++++++--
 .../apache/drill/exec/proto/SchemaBitControl.java  | 122 ++++
 .../drill/exec/proto/beans/FinishedReceiver.java   | 189 +++++
 protocol/src/main/protobuf/BitControl.proto        |  20 +-
 36 files changed, 1395 insertions(+), 154 deletions(-)

commit 5e482c17d20bcc957be50d570d03f1a5fdfca75e
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Jul 22 18:11:44 2014 -0700

    DRILL-939: Add support for query cancellation

 .../org/apache/drill/exec/client/DrillClient.java  |   6 +-
 .../drill/exec/client/PrintingResultsListener.java |   6 ++
 .../org/apache/drill/exec/ops/FragmentContext.java |   9 ++
 .../exec/physical/impl/SingleSenderCreator.java    |   4 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |  12 +++
 .../partitionsender/PartitionSenderRootExec.java   |   2 +-
 .../impl/producer/ProducerConsumerBatch.java       |  44 +++++---
 .../unorderedreceiver/UnorderedReceiverBatch.java  |   3 +
 .../drill/exec/proto/helper/QueryIdHelper.java     |   5 +
 .../drill/exec/record/AbstractRecordBatch.java     |   4 +
 .../drill/exec/rpc/control/ControlTunnel.java      |  13 ++-
 .../drill/exec/rpc/control/WorkEventBus.java       |  19 +++-
 .../org/apache/drill/exec/rpc/data/DataServer.java |   5 +
 .../apache/drill/exec/rpc/user/UserRpcConfig.java  |   1 +
 .../org/apache/drill/exec/rpc/user/UserServer.java |  20 +++-
 .../drill/exec/server/rest/ProfileResources.java   |  17 +++
 .../drill/exec/server/rest/ProfileWrapper.java     |   7 ++
 .../org/apache/drill/exec/work/WorkManager.java    |  12 ++-
 .../drill/exec/work/batch/ControlHandlerImpl.java  |   2 +-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |   4 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |   2 +-
 .../drill/exec/work/foreman/QueryManager.java      |  59 ++++++----
 .../drill/exec/work/foreman/QueryStatus.java       |  10 ++
 .../drill/exec/work/fragment/FragmentExecutor.java | 119 ++++++++++++---------
 .../exec/work/fragment/NonRootFragmentManager.java |   8 +-
 .../src/main/resources/rest/profile/profile.ftl    |   3 +
 26 files changed, 284 insertions(+), 112 deletions(-)

commit 1e9930fbae8279afe3eed9e7f18392fb1a08688a
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Jul 23 09:33:15 2014 -0700

    DRILL-1192: Hive Scalar UDFs: Add Date, TimeStamp and Decimal type support
    
    Also following refactoring:
    + Minimize the number of variables in HiveTypes.tdd
    + Make use of Hive TypeEntries and Hive AbstractPrimitiveObjectInspector to simplify Drill ObjectInspectors implementations.
    
    Test:
    + Add Hive UDF test implementations and testcases to cover all supported types (passing data into Hive UDF and reading data returned from Hive UDF).

 contrib/storage-hive/core/pom.xml                  |   8 +
 .../core/src/main/codegen/data/HiveTypes.tdd       |  58 +++--
 .../codegen/templates/ObjectInspectorHelper.java   |  45 ++--
 .../main/codegen/templates/ObjectInspectors.java   | 223 ++++++++++++++-----
 .../apache/drill/exec/expr/fn/HiveFuncHolder.java  |   6 +-
 .../drill/exec/expr/fn/HiveFunctionRegistry.java   |  11 +-
 ... => AbstractDrillPrimitiveObjectInspector.java} |  41 +---
 .../apache/drill/exec/TestHiveProjectPushDown.java |   8 +-
 .../drill/exec/fn/hive/HiveTestUDFImpls.java       | 237 +++++++++++++++++++++
 .../drill/exec/fn/hive/TestSampleHiveUDFs.java     | 154 +++++++++++++
 .../exec/store/hive/HiveTestDataGenerator.java     |   1 +
 .../core/src/test/resources/drill-module.conf      |   5 +
 .../org/apache/drill/exec/util/VectorUtil.java     |  35 +++
 .../test/java/org/apache/drill/BaseTestQuery.java  |  19 ++
 14 files changed, 717 insertions(+), 134 deletions(-)

commit 9b2eae24a1b667e7e23c1a490803565722083882
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Jul 24 11:41:01 2014 -0700

    DRILL-1186: Check for null values in Nullable Date/Time/TimeStamp SqlAccessors

 .../src/main/codegen/templates/SqlAccessors.java          | 15 +++++++++++++++
 .../org/apache/drill/jdbc/test/TestFunctionsQuery.java    | 10 ++++++++++
 2 files changed, 25 insertions(+)

commit 3a73b3eb1050e9f58f8cb324e897a51226f448bb
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Jul 21 22:45:45 2014 -0700

    DRILL-1167: Split large runtime generated functions into a chain of functions
    
    + Modified few operators' (CopyUtil, TopNBatch, ExternalSortBatch) runtime code generators to start a code block for each value vector.
    + With this change, we are able to project 2000+ expressions, sort on 500+, group by on 200+, filter on 150+ and join on 100+ columns.
    + The test cases added with this patch adds 3 minutes to the test run and hence I have excluded them from default run. They can be enabled using 'largeTests' maven profile.

 exec/java-exec/pom.xml                             |  46 ++++++++
 .../org/apache/drill/exec/expr/ClassGenerator.java |  57 +++++++---
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |   2 +
 .../physical/impl/xsort/ExternalSortBatch.java     |   4 +
 .../org/apache/drill/exec/vector/CopyUtil.java     |   7 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  15 +++
 .../exec/compile/TestLargeFileCompilation.java     | 122 ++++++++++++++++-----
 7 files changed, 208 insertions(+), 45 deletions(-)

commit 97a9a4c155da4f5a3604c24db7e8ab5ec47797ce
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Jul 21 16:09:44 2014 -0700

    DRILL-1166: Session option to enable/disable debug information in runtime generated Java code
    
    + By default, debug options are enabled but can be disabled by setting the session option `exec.java_compiler_debug` to false.
    + Allow the defaults for compiler options to be set through configuration.

 .../drill/exec/compile/AbstractClassCompiler.java  | 29 +++------
 .../apache/drill/exec/compile/ClassCompiler.java   | 30 ---------
 .../drill/exec/compile/JDKClassCompiler.java       | 20 ++----
 .../drill/exec/compile/JaninoClassCompiler.java    |  5 +-
 .../drill/exec/compile/QueryClassLoader.java       | 33 +++++++---
 .../org/apache/drill/exec/ops/FragmentContext.java |  2 +-
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../java-exec/src/main/resources/drill-module.conf |  5 ++
 .../exec/compile/TestClassTransformation.java      | 76 ++++++++++++++++------
 .../exec/compile/TestLargeFileCompilation.java     |  8 ++-
 .../drill/exec/fn/impl/TestNewMathFunctions.java   |  1 +
 .../physical/impl/TestComparisonFunctions.java     |  1 +
 .../physical/impl/TestImplicitCastFunctions.java   |  1 +
 .../exec/physical/impl/TestSimpleFunctions.java    |  3 +
 .../exec/physical/impl/TestStringFunctions.java    |  1 +
 .../exec/physical/impl/common/TestHashTable.java   |  1 +
 .../physical/impl/filter/TestSimpleFilter.java     |  2 +
 .../exec/physical/impl/join/TestMergeJoin.java     |  1 +
 .../exec/physical/impl/limit/TestSimpleLimit.java  |  3 +
 .../impl/project/TestSimpleProjection.java         |  1 +
 .../exec/physical/impl/sort/TestSimpleSort.java    |  2 +
 .../physical/impl/svremover/TestSVRemover.java     |  1 +
 .../exec/physical/impl/union/TestSimpleUnion.java  |  1 +
 .../apache/drill/jdbc/test/JdbcTestQueryBase.java  |  2 +-
 24 files changed, 132 insertions(+), 98 deletions(-)

commit 2a4d6f1911d86f6a58a175cd1278c06a2d7cade9
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu Jul 24 20:07:21 2014 -0700

    DRILL-785: org.apache.drill.exec.rpc.bit.ListenerPool leak suspects

 .../main/java/org/apache/drill/exec/rpc/control/WorkEventBus.java   | 6 +++---
 .../main/java/org/apache/drill/exec/work/foreman/QueryManager.java  | 2 ++
 2 files changed, 5 insertions(+), 3 deletions(-)

commit dab9629ae58c7e5e0cf56d76477e0afdb1c2f371
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jul 24 10:36:10 2014 -0700

    Fix regression caused by DRILL-1126

 .../main/codegen/templates/Decimal/DecimalAggrTypeFunctions1.java    | 5 +++++
 .../main/codegen/templates/Decimal/DecimalAggrTypeFunctions2.java    | 4 ++++
 2 files changed, 9 insertions(+)

commit 4ac898c578d724b156cf4773644547b993407487
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Wed Jul 23 18:29:59 2014 -0700

    DRILL-1181: Generate user friendly error messages
    
    Conflicts:
            exec/java-exec/src/main/java/org/apache/drill/exec/server/options/SystemOptionManager.java

 .../java/org/apache/drill/exec/ExecConstants.java  |  3 ++
 .../org/apache/drill/exec/ops/QueryContext.java    |  1 +
 .../drill/exec/physical/impl/ScreenCreator.java    | 11 +++--
 .../broadcastsender/BroadcastSenderRootExec.java   |  5 ++-
 .../impl/partitionsender/StatusHandler.java        |  5 ++-
 .../drill/exec/rpc/user/QueryResultHandler.java    | 18 ++++++--
 .../exec/server/options/SystemOptionManager.java   |  5 ++-
 .../org/apache/drill/exec/work/ErrorHelper.java    | 51 ++++++++++++++--------
 .../apache/drill/exec/work/foreman/Foreman.java    |  5 ++-
 .../exec/work/fragment/AbstractStatusReporter.java |  4 +-
 .../java/org/apache/drill/jdbc/DrillResultSet.java |  2 +-
 11 files changed, 80 insertions(+), 30 deletions(-)

commit 6d48ff8c22bf91a4acfcd55bfe7fb220b38387c4
Author: norrislee <norrislee18@hotmail.com>
Date:   Tue Jul 15 13:03:01 2014 -0700

    DRILL-1144 Fix cases where leading zeros are ignored in decimals

 contrib/native/client/src/include/drill/recordBatch.hpp | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit d59536313365b826f8d1e075a17d33411605ebf1
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Tue Jul 15 19:15:51 2014 -0700

    DRILL-1119: updated error message thrown when schema is immutable

 .../java/org/apache/drill/exec/planner/sql/handlers/ViewHandler.java  | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a7d21d6f777d79f0a527ced9115a73decec37c40
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon Jul 21 15:08:13 2014 -0700

    DRILL-1096: Stop ScanBatch if read fails and pass failure context to the client, break the producer loop when iter outcome is stop

 .../src/main/java/org/apache/drill/exec/physical/impl/ScanBatch.java  | 4 ++++
 .../drill/exec/physical/impl/producer/ProducerConsumerBatch.java      | 3 +++
 2 files changed, 7 insertions(+)

commit 015680c810dedd12aae3a8135f9fb52af8c65fb6
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon Jul 21 14:08:57 2014 -0700

    DRILL-1090: Shutdown Drillbit if start-up fails

 .../src/main/java/org/apache/drill/exec/server/Drillbit.java      | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 9ed654bffba9934f2d480ff5206581a29b3ef80c
Author: Hanifi Gunes <hgunes@maprtech.com>
Date:   Mon Jul 21 11:46:49 2014 -0700

    DRILL-1086: invalidate PStore to drop a view in case it is not in the underlying fs

 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 27 +++++++++++++++++++---
 1 file changed, 24 insertions(+), 3 deletions(-)

commit 6e2442314f81ccd0c1c3d6e7b6b15485f63b6608
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Jul 23 13:22:16 2014 -0700

    DRILL-1177: Check if setsafe() succeeded while performing HashAggregation

 .../org/apache/drill/exec/expr/fn/DrillAggFuncHolder.java   | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 669bd04d4d0ade9533fb72228e57624bd457e580
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Jul 22 19:42:08 2014 -0700

    DRILL-1126: Support generic objects as workspace variables in UDAF

 .../Decimal/DecimalAggrTypeFunctions1.java         |  28 +--
 .../Decimal/DecimalAggrTypeFunctions2.java         |  25 ++-
 .../src/main/codegen/templates/TypeHelper.java     |  14 ++
 .../codegen/templates/VarCharAggrFunctions1.java   |  46 +++--
 .../drill/exec/expr/holders/ObjectHolder.java      |  37 ++++
 .../org/apache/drill/exec/vector/ObjectVector.java | 216 +++++++++++++++++++++
 .../test/java/org/apache/drill/TestBugFixes.java   |   6 +
 .../org/apache/drill/common/types/TypeProtos.java  |  19 +-
 protocol/src/main/protobuf/Types.proto             |   1 +
 9 files changed, 343 insertions(+), 49 deletions(-)

commit e7b3d56e716067ec2134003b7a154177c27290cf
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Jul 21 15:10:46 2014 -0700

    DRILL-1164: Use FQCN while casting Timestamp to Date

 exec/java-exec/src/main/codegen/templates/CastDateDate.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a0a65117534753c79d68d6d0c5d91327631b9dd6
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Jul 18 11:23:58 2014 -0700

    DRILL-1061: Disable MergeProjectRule if project expression has complex output type

 .../expr/fn/FunctionImplementationRegistry.java    | 11 ++++
 .../planner/logical/DrillMergeProjectRule.java     | 72 ++++++++++++++++++++++
 .../drill/exec/planner/logical/DrillRuleSets.java  | 17 +++--
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  2 +-
 .../test/java/org/apache/drill/TestBugFixes.java   |  6 ++
 5 files changed, 101 insertions(+), 7 deletions(-)

commit 3c2402c951a761e489241e768f551ff2c2cf8ea6
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jul 17 16:59:12 2014 -0700

    Rewrite convert_from/ convert_to functions to actual function implementations

 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |   8 ++
 .../org/apache/drill/exec/ops/QueryContext.java    |   7 ++
 .../exec/planner/logical/RewriteProjectRel.java    | 106 +++++++++++++++++++++
 .../drill/exec/planner/sql/DrillOperatorTable.java |   5 +
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   3 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  10 +-
 .../test/java/org/apache/drill/PlanningBase.java   |   4 +
 7 files changed, 140 insertions(+), 3 deletions(-)

commit 415506b1056093a62ae5dd7a8df7faa704ff77c3
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu Jul 17 09:31:10 2014 -0700

    DRILL-1150: Only push expressions in equal join predicate down into projects. Fix is in Optiq.

 .../java/org/apache/drill/TestExampleQueries.java  | 36 ++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit a4c0ba72defc87871ce4613260e94f726f8049a8
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Wed Jun 25 15:09:46 2014 -0700

    DRILL-1108: Fix run-time code Generator Mapping when join condition is a compound expression containing constants.

 .../physical/impl/common/ChainedHashTable.java     |  28 ++--
 .../exec/physical/impl/join/HashJoinBatch.java     |  16 ++-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  12 +-
 .../exec/physical/impl/join/TestHashJoin.java      |  23 ++++
 .../exec/physical/impl/join/TestMergeJoin.java     |  21 +++
 .../src/test/resources/join/hashJoinExpr.json      | 109 ++++++++++++++++
 .../src/test/resources/join/mergeJoinExpr.json     | 143 +++++++++++++++++++++
 7 files changed, 334 insertions(+), 18 deletions(-)

commit 2ab3dfab97a4cd58699919f7c647a7762662759a
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon Jul 14 16:42:27 2014 -0700

    DRILL-1134 : Fix compilation exception in run-time code, when filter uses two or more array types.

 .../apache/drill/exec/expr/EvaluationVisitor.java  | 55 +++++++++++++++-------
 .../java/org/apache/drill/TestExampleQueries.java  | 12 ++++-
 .../complex/writer/TestComplexTypeReader.java      |  7 +++
 3 files changed, 54 insertions(+), 20 deletions(-)

commit e5c2da0eb95df1a93d4ad909d5553757201dc903
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Jul 16 00:04:15 2014 -0700

    DRILL-1145: Add testcase. Fix is in Optiq.

 .../java/org/apache/drill/jdbc/test/TestViews.java | 58 ++++++++++++++++++++++
 1 file changed, 58 insertions(+)

commit fffd0d38af93aee16e0103a3133306c0eb07092e
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Jul 15 09:02:46 2014 -0700

    DRILL-1136: Check for existance of view before creating one when no OR REPLACE clause is provided

 .../exec/planner/sql/handlers/ViewHandler.java     |  4 ++
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  5 +++
 .../org/apache/drill/exec/sql/TestViewSupport.java |  2 +-
 .../java/org/apache/drill/jdbc/test/TestViews.java | 47 ++++++++++++++++++++++
 4 files changed, 57 insertions(+), 1 deletion(-)

commit 7e561def4bceca83a302d85154274eec199cdd9c
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Jul 15 08:10:13 2014 -0700

    DRILL-1114: Fix a bug in resolving tables in schema where view is created
    
    Store the current schema path where view is created within view and use that schema path when expanding the view as part of query planning.

 .../java/org/apache/drill/exec/dotdrill/View.java  | 18 ++++++++-
 .../drill/exec/planner/logical/DrillViewTable.java |  4 +-
 .../exec/planner/sql/handlers/ViewHandler.java     | 13 ++++++-
 .../java/org/apache/drill/jdbc/test/TestViews.java | 43 +++++++++++++++++++++-
 4 files changed, 69 insertions(+), 9 deletions(-)

commit d39986188d17af92fc8c91b61a0f086a65f95d1a
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Jul 14 18:32:57 2014 -0700

    DRILL-990: Add schema mutability property to InfoSchema.SCHEMATA table.

 .../drill/exec/store/ischema/InfoSchemaTable.java     |  3 ++-
 .../drill/exec/store/ischema/RecordGenerator.java     |  2 +-
 .../org/apache/drill/exec/store/ischema/Records.java  |  4 +++-
 .../org/apache/drill/jdbc/test/TestMetadataDDL.java   | 19 +++++++++++++++++++
 4 files changed, 25 insertions(+), 3 deletions(-)

commit 111c1a8adf537e8f368de96c4be4c73327451202
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Jun 17 17:56:45 2014 -0700

    DRILL-1143: Enable project pushdown into HiveRecordReader

 .../drill/exec/store/hive/HiveRecordReader.java    |  2 +-
 .../org/apache/drill/exec/store/hive/HiveScan.java | 11 ++-
 .../drill/exec/store/hive/HiveStoragePlugin.java   |  2 +-
 .../apache/drill/exec/TestHiveProjectPushDown.java | 91 ++++++++++++++++++++++
 .../exec/store/hive/HiveTestDataGenerator.java     | 21 ++++-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  4 +
 6 files changed, 125 insertions(+), 6 deletions(-)

commit 65c835824c864192cbd8612b14d08d816360d31e
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue Jul 8 17:23:57 2014 -0700

    DRILL-77: REST API implemented using jersey and jackson + graph viz.

 .../drill/exec/server/rest/DrillRestServer.java    |   1 +
 .../exec/server/rest/PluginConfigWrapper.java      |  78 +++++++
 .../drill/exec/server/rest/ProfileResources.java   | 155 +++++++++-----
 .../drill/exec/server/rest/QueryResources.java     | 115 +++--------
 .../drill/exec/server/rest/QueryWrapper.java       | 165 +++++++++++++++
 .../drill/exec/server/rest/StorageResources.java   | 228 ++++++++++++---------
 .../drill/exec/server/rest/WebResourceServer.java  |  71 +++++++
 exec/java-exec/src/main/resources/rest/generic.ftl |   3 +-
 .../src/main/resources/rest/metrics/metrics.ftl    |  16 +-
 .../src/main/resources/rest/profile/list.ftl       |  63 +++---
 .../src/main/resources/rest/profile/profile.ftl    |  33 ++-
 .../src/main/resources/rest/query/query.ftl        |   6 +-
 .../src/main/resources/rest/query/result.ftl       |  32 ++-
 .../src/main/resources/rest/storage/list.ftl       |  84 ++++----
 .../src/main/resources/rest/storage/update.ftl     |  54 +++--
 .../java-exec/src/main/resources/rest/www/graph.js |  82 ++++++++
 .../src/main/resources/rest/www/style.css          |  27 +++
 17 files changed, 867 insertions(+), 346 deletions(-)

commit 02f1c82d8d7c87ed416a19b7a13463fdbffeb86d
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu Jul 10 01:31:39 2014 -0700

    DRILL-1155: Add option to use JDK compiler and use it for runtime generated code over a certain threshold
    
    + Updating Janino to 2.7.4 (from 2.6.1).
    + Added session options `exec.java_compiler`:[DEFAULT, JDK, JANINO] and `exec.java_compiler_janino_maxsize`(256k).
    + Fix a bug in FragmentExecutor.java(125) where the root operator is not stopped in case of fragment failure.
    + Print Java stack trace of the allocator code if a TLA detects that any of the ChildAllocator is not closed.

 .../apache/drill/common/config/DrillConfig.java    |   3 +
 .../apache/drill/common/util/DrillStringUtils.java |  14 +
 .../test/java/org/apache/drill/test/DrillTest.java |  16 +-
 exec/java-exec/pom.xml                             |   7 +-
 .../drill/exec/compile/AbstractClassCompiler.java  |  75 ++
 .../apache/drill/exec/compile/ClassCompiler.java   |   3 +-
 .../drill/exec/compile/ClassTransformer.java       | 100 +--
 .../exec/compile/DrillDiagnosticListener.java      |  49 ++
 .../drill/exec/compile/DrillJavaFileManager.java   |  69 ++
 .../drill/exec/compile/DrillJavaFileObject.java    | 109 +++
 .../drill/exec/compile/JDKClassCompiler.java       |  96 ++
 .../drill/exec/compile/JaninoClassCompiler.java    |  47 +-
 .../drill/exec/compile/QueryClassLoader.java       |  93 +-
 .../drill/exec/expr/fn/ModifiedUnparseVisitor.java | 976 ++-------------------
 .../drill/exec/memory/TopLevelAllocator.java       |  24 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  10 +-
 .../server/options/FragmentOptionsManager.java     |   2 +-
 .../exec/server/options/SessionOptionManager.java  |   5 +-
 .../exec/server/options/SystemOptionManager.java   |   5 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |   1 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |   2 +-
 .../exec/compile/TestClassTransformation.java      |  51 +-
 .../exec/compile/TestLargeFileCompilation.java     |  63 ++
 23 files changed, 773 insertions(+), 1047 deletions(-)

commit 2beeda036dda40b17d8f9fc440ff0d3e2309d314
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Jul 15 01:33:36 2014 -0700

    DRILL-1140: Add cast function from Timestamp to Time

 .../apache/drill/common/expression/ValueExpressions.java  |  7 ++++++-
 .../apache/drill/exec/expr/fn/impl/DateTypeFunctions.java | 15 +++++++++++++++
 2 files changed, 21 insertions(+), 1 deletion(-)

commit c9242731096fd83315614fcaf11d6ea5c7a28eae
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Jul 14 02:23:19 2014 -0700

    DRILL-1138: Explicit casting to boolean fails
    
    + Renamed ConvertUtil to ByteBufUtil

 .../drill/common/expression/fn/CastFunctions.java  |  1 +
 .../exec/expr/fn/impl/SimpleCastFunctions.java     | 75 ++++++++++++++++++++++
 .../expr/fn/impl/conv/BigIntBEConvertFrom.java     |  2 +-
 .../exec/expr/fn/impl/conv/BigIntBEConvertTo.java  |  2 +-
 .../exec/expr/fn/impl/conv/BigIntConvertFrom.java  |  2 +-
 .../exec/expr/fn/impl/conv/BigIntConvertTo.java    |  2 +-
 .../expr/fn/impl/conv/BigIntVLongConvertFrom.java  |  2 +-
 .../expr/fn/impl/conv/BigIntVLongConvertTo.java    |  4 +-
 .../expr/fn/impl/conv/BooleanByteConvertFrom.java  |  2 +-
 .../expr/fn/impl/conv/BooleanByteConvertTo.java    |  2 +-
 .../expr/fn/impl/conv/DateEpochBEConvertFrom.java  |  2 +-
 .../expr/fn/impl/conv/DateEpochBEConvertTo.java    |  2 +-
 .../expr/fn/impl/conv/DateEpochConvertFrom.java    |  2 +-
 .../exec/expr/fn/impl/conv/DateEpochConvertTo.java |  2 +-
 .../exec/expr/fn/impl/conv/DoubleConvertFrom.java  |  2 +-
 .../exec/expr/fn/impl/conv/DoubleConvertTo.java    |  2 +-
 .../exec/expr/fn/impl/conv/FloatConvertFrom.java   |  2 +-
 .../exec/expr/fn/impl/conv/FloatConvertTo.java     |  2 +-
 .../exec/expr/fn/impl/conv/IntBEConvertFrom.java   |  2 +-
 .../exec/expr/fn/impl/conv/IntBEConvertTo.java     |  2 +-
 .../exec/expr/fn/impl/conv/IntConvertFrom.java     |  2 +-
 .../drill/exec/expr/fn/impl/conv/IntConvertTo.java |  2 +-
 .../exec/expr/fn/impl/conv/IntVIntConvertFrom.java |  2 +-
 .../exec/expr/fn/impl/conv/IntVIntConvertTo.java   |  4 +-
 .../exec/expr/fn/impl/conv/JsonConvertTo.java      |  4 +-
 .../expr/fn/impl/conv/SmallIntBEConvertFrom.java   |  2 +-
 .../expr/fn/impl/conv/SmallIntBEConvertTo.java     |  2 +-
 .../expr/fn/impl/conv/SmallIntConvertFrom.java     |  2 +-
 .../exec/expr/fn/impl/conv/SmallIntConvertTo.java  |  2 +-
 .../expr/fn/impl/conv/TimeEpochBEConvertFrom.java  |  2 +-
 .../expr/fn/impl/conv/TimeEpochBEConvertTo.java    |  2 +-
 .../expr/fn/impl/conv/TimeEpochConvertFrom.java    |  2 +-
 .../exec/expr/fn/impl/conv/TimeEpochConvertTo.java |  2 +-
 .../exec/expr/fn/impl/conv/TinyIntConvertFrom.java |  2 +-
 .../exec/expr/fn/impl/conv/TinyIntConvertTo.java   |  2 +-
 .../exec/expr/fn/impl/conv/UInt8ConvertFrom.java   |  2 +-
 .../exec/expr/fn/impl/conv/UInt8ConvertTo.java     |  2 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |  1 +
 .../util/{ConvertUtil.java => ByteBufUtil.java}    | 14 +++-
 .../exec/physical/impl/TestConvertFunctions.java   |  6 +-
 .../drill/exec/sql/TestSimpleCastFunctions.java    | 35 ++++++++++
 41 files changed, 165 insertions(+), 43 deletions(-)

commit c4a82f5ee4f461e85e82c9d8af01756340526db9
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Jul 11 15:31:37 2014 -0700

    DRILL-1123: Use double type for decimal division

 .../src/main/codegen/templates/Decimal/DecimalFunctions.java          | 4 ++--
 .../src/test/java/org/apache/drill/jdbc/test/TestFunctionsQuery.java  | 1 +
 2 files changed, 3 insertions(+), 2 deletions(-)

commit a6e296cde2523976218f5ca5064a8c8b93b3d5e2
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jul 10 23:23:17 2014 -0700

    DRILL-1121: Round up digits while performing mod, decimal division

 .../src/main/codegen/templates/Decimal/DecimalFunctions.java      | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 1a9637441b0436bae7159324ad3177ddd17133b0
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jul 10 23:58:39 2014 -0700

    DRILL-1120: Use DecimalScalePrecisionModFunction to compute scale & precision for mod function

 .../src/main/codegen/templates/Decimal/DecimalFunctions.java      | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 5080585b6e2f69f49931e860de1cd4e27d08af2a
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Jul 14 23:28:04 2014 -0700

    DRILL-1092: Ensure we have enough records while performing merge and spill in ExternalSortBatch

 .../drill/exec/physical/impl/xsort/ExternalSortBatch.java     | 11 +++++++----
 .../drill/exec/physical/impl/xsort/PriorityQueueCopier.java   |  2 +-
 .../exec/physical/impl/xsort/PriorityQueueCopierTemplate.java |  7 ++++++-
 3 files changed, 14 insertions(+), 6 deletions(-)

commit 19dbb02361cea87f679a9b65abfecc6d5541aff0
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sun Jul 13 17:16:53 2014 -0700

    DRILL-979: For Union-All don't do final column re-ordering since the ordering is already decided by the left input of the Union.

 .../apache/drill/exec/planner/physical/AggPrelBase.java   |  5 +++++
 .../drill/exec/planner/physical/ComplexToJsonPrel.java    |  5 +++++
 .../apache/drill/exec/planner/physical/FilterPrel.java    |  5 +++++
 .../org/apache/drill/exec/planner/physical/JoinPrel.java  |  5 +++++
 .../org/apache/drill/exec/planner/physical/LimitPrel.java |  5 +++++
 .../java/org/apache/drill/exec/planner/physical/Prel.java |  1 +
 .../drill/exec/planner/physical/ProducerConsumerPrel.java |  6 ++++++
 .../apache/drill/exec/planner/physical/ProjectPrel.java   |  6 +++++-
 .../org/apache/drill/exec/planner/physical/ScanPrel.java  |  4 ++++
 .../apache/drill/exec/planner/physical/ScreenPrel.java    |  5 +++++
 .../apache/drill/exec/planner/physical/SinglePrel.java    |  4 ++++
 .../org/apache/drill/exec/planner/physical/SortPrel.java  |  6 ++++++
 .../org/apache/drill/exec/planner/physical/UnionPrel.java |  5 +++++
 .../apache/drill/exec/planner/physical/WriterPrel.java    |  7 ++++++-
 .../planner/physical/visitor/FinalColumnReorderer.java    |  5 +++++
 .../src/test/java/org/apache/drill/TestUnionAll.java      | 15 +++++++--------
 16 files changed, 79 insertions(+), 10 deletions(-)

commit 1fb5840313327930d01374a5a47b3734b8a70299
Author: Yash Sharma <yash.sharma@snapdeal.com>
Date:   Sat Jun 14 23:31:34 2014 +0530

    DRILL-706, DRILL-524 : div and mod funnc bugfix DRILL-706,524,988: Review Comments DRILL-706,524,988: Added Testcase

 exec/java-exec/src/main/codegen/data/MathFunc.tdd  | 10 +++---
 .../src/main/codegen/templates/MathFunctions.java  | 20 ++++++++++--
 .../drill/exec/fn/impl/TestNewMathFunctions.java   | 13 ++++----
 .../functions/testDivModTruncFunctions.json        | 38 ++++++++++++++++++++++
 4 files changed, 67 insertions(+), 14 deletions(-)

commit 785aa5a254254e782d13fba562ec47ec0be7676d
Author: Yash Sharma <yash.sharma@snapdeal.com>
Date:   Thu May 29 00:29:11 2014 +0530

    DRILL-988: trunc(num) bugfix handle data loss

 exec/java-exec/src/main/codegen/data/MathFunc.tdd            | 4 ++--
 exec/java-exec/src/main/codegen/templates/MathFunctions.java | 6 ++++++
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 699851b8d791f61c687fa3aac94340c78beb92da
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sat Jul 12 17:23:11 2014 -0700

    DRILL-1133: Default cp and dfs storage plugin instances do not appear in Drill Web UI after installing Drill.
    
    * Modified StoragePluginRegistry to scan for ALL 'bootstrap-storage-plugins.json' files in the classpath instead of only the first one.
    * Moved 'hbase' and 'hive' plugin instance definitions to their own module from 'java-exec'.
    * Renamed the test storage plugin instances to 'dfs_test' and 'hive_test' and updated the test cases to reflect this change.

 .../resources/bootstrap-storage-plugins.json       |  0
 .../main/resources/bootstrap-storage-plugins.json  | 11 +++
 .../java/org/apache/drill/exec/ExecConstants.java  |  1 +
 .../drill/exec/store/StoragePluginRegistry.java    | 46 ++++++------
 .../main/resources/bootstrap-storage-plugins.json  | 30 ++------
 .../java/org/apache/drill/TestAltSortQueries.java  |  8 +-
 .../java/org/apache/drill/TestExampleQueries.java  |  8 +-
 .../java/org/apache/drill/TestProjectPushDown.java |  4 +-
 .../apache/drill/exec/TestQueriesOnLargeFile.java  |  2 +-
 .../physical/impl/writer/TestParquetWriter.java    |  2 +-
 .../exec/physical/impl/writer/TestWriter.java      | 14 ++--
 .../org/apache/drill/exec/sql/TestViewSupport.java |  4 +-
 .../store/parquet/ParquetRecordReaderTest.java     |  2 +-
 .../drill/exec/store/text/TestTextColumn.java      |  6 +-
 .../vector/complex/writer/TestComplexToJson.java   |  4 +-
 .../test/resources/bootstrap-storage-plugins.json  | 56 ++++++--------
 .../test/resources/parquet/parquet_nullable.json   |  6 +-
 .../resources/parquet/parquet_nullable_varlen.json |  6 +-
 .../resources/parquet/parquet_scan_screen.json     |  6 +-
 .../src/test/resources/queries/tpch/15.sql         |  2 +-
 .../src/test/resources/store/text/test.json        |  2 +-
 .../apache/drill/jdbc/test/TestFunctionsQuery.java | 24 +++---
 .../apache/drill/jdbc/test/TestHiveStorage.java    | 16 ++--
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  | 40 +++++-----
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 12 +--
 .../apache/drill/jdbc/test/TestMetadataDDL.java    | 87 +++++++++++-----------
 .../java/org/apache/drill/jdbc/test/TestViews.java | 54 +++++++-------
 .../test/resources/bootstrap-storage-plugins.json  | 62 +++------------
 28 files changed, 233 insertions(+), 282 deletions(-)

commit 8289f726cf8d8407e8bcf7c797f301f4fc2950bd
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Jul 11 21:48:00 2014 -0700

    DRILL-1112: UI changes to storage plugins only take effect after a drillbit restart.

 distribution/src/assemble/bin.xml                  |  7 ++++
 .../drill/exec/server/rest/StorageResources.java   | 33 +++++++++++----
 .../drill/exec/store/StoragePluginRegistry.java    | 47 ++++++++++++++++------
 .../src/main/resources/rest/storage/list.ftl       | 37 +++++++++++------
 .../src/main/resources/rest/storage/update.ftl     |  2 +-
 5 files changed, 92 insertions(+), 34 deletions(-)

commit 0a3ae106e947132ac2f44cd37367f8509ff0b07a
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu Jul 10 13:27:54 2014 -0700

    DRILL-882 : Fix CanNotPlanException when join two different storage sources (hive vs parquet). Code fix in Optiq.

 .../src/test/java/org/apache/drill/TestExampleQueries.java   | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 5b57294bfab1c9a6b82f7ad31189eef2b579abc5
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Jul 1 11:10:29 2014 -0700

    DRILL-1060: Support ComplexToJson for Array Data Type

 ...ngularReaderImpl.java => HolderReaderImpl.java} | 221 +++++++++++++--------
 .../src/main/codegen/templates/TypeHelper.java     |   8 +-
 .../drill/exec/compile/JaninoClassCompiler.java    |   2 +-
 .../org/apache/drill/exec/expr/ClassGenerator.java |  27 ++-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   2 +-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  13 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   2 +-
 .../org/apache/drill/exec/util/VectorUtil.java     |   2 +-
 .../vector/complex/writer/TestComplexToJson.java   |  77 +++++++
 9 files changed, 240 insertions(+), 114 deletions(-)

commit 2dcf8cb8ab53379f077979ecf3fe38b34994bf7c
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Jul 7 15:03:12 2014 -0700

    DRILL-1113: Add configuration in DrillClient to encode complex/repeated types as JSON string

 .../java/org/apache/drill/hbase/BaseHBaseTest.java | 27 --------------------
 .../drill/hbase/TestHBaseCFAsJSONString.java       |  2 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |  2 +-
 .../org/apache/drill/exec/client/DrillClient.java  |  8 +++---
 .../org/apache/drill/exec/rpc/user/UserClient.java | 17 ++-----------
 .../java-exec/src/main/resources/drill-module.conf |  4 +++
 .../test/java/org/apache/drill/BaseTestQuery.java  | 29 ++++++++++++++++++++++
 7 files changed, 42 insertions(+), 47 deletions(-)

commit 9abffa177d017e2b781c48003401196a596987be
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Jul 8 16:51:04 2014 -0700

    DRILL-1118: In case of error, always set QueryState to FAILED
    
    + Added a null check in o.a.d.exec.physical.impl.producer.ProducerConsumerBatch.clearQueue()

 .../org/apache/drill/exec/client/DrillClient.java  |  3 ---
 .../drill/exec/physical/impl/ScreenCreator.java    |  2 ++
 .../impl/producer/ProducerConsumerBatch.java       |  4 +++-
 .../drill/exec/rpc/user/QueryResultHandler.java    | 26 +++++++++++-----------
 4 files changed, 18 insertions(+), 17 deletions(-)

commit d22f325c395c22b3c5a5762e7aa1c379cfda7893
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon Jul 7 23:17:11 2014 -0700

    DRILL-1101: For Union-All, allow strings of different lengths on either side of the union to be treated as compatible.

 .../drill/exec/planner/common/DrillRelOptUtil.java | 71 +++++++++++++++++++++
 .../exec/planner/common/DrillUnionRelBase.java     | 19 +++++-
 .../drill/exec/planner/physical/UnionAllPrule.java |  2 +-
 .../java/org/apache/drill/TestExampleQueries.java  | 35 +----------
 .../test/java/org/apache/drill/TestUnionAll.java   | 73 ++++++++++++++++++++++
 5 files changed, 164 insertions(+), 36 deletions(-)

commit 9921547d31c0c9cdb8f3916f1d2d8bf51ffce7bf
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Jul 7 20:14:38 2014 -0700

    DRILL-755: Show files without FROM clause should display files in default workspace

 .../src/main/codegen/includes/parserImpls.ftl        |  4 +++-
 .../exec/planner/sql/handlers/ShowFileHandler.java   | 20 +++++++++++++-------
 2 files changed, 16 insertions(+), 8 deletions(-)

commit b81f50008982fc8bb355b3fbaa91c7b4dcfada1c
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Jul 7 19:25:29 2014 -0700

    DRILL-879: Fix show files to treat '/' as a root of workspace instead of FS

 .../drill/exec/planner/sql/handlers/ShowFileHandler.java  | 15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit e29d2fc2477a7b91d92b197991328d091640e2ff
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Jul 7 23:39:49 2014 -0700

    DRILL-1117: Fix stats in partition sender

 .../exec/physical/impl/partitionsender/PartitionSenderRootExec.java    | 3 ---
 .../drill/exec/physical/impl/partitionsender/PartitionerTemplate.java  | 2 ++
 2 files changed, 2 insertions(+), 3 deletions(-)

commit de00d6f52e98432280bf8d509fc1ecee79a365a8
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Jul 8 00:16:56 2014 -0700

    DRILL-1116: Flush batch when copy fails due to insufficient space

 .../exec/physical/impl/partitionsender/PartitionerTemplate.java      | 5 +++++
 1 file changed, 5 insertions(+)

commit 84dc2dec1cf19b6d4253314418033835b1be6707
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Jul 7 16:42:28 2014 -0700

    DRILL-1107: Fix possible infinite loop in merging receiver
    
    This bug was introduced in previous patch.

 .../physical/impl/mergereceiver/MergingRecordBatch.java   | 15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit 810a20409089a10ae984807ff4418bfe7ee18957
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Jul 7 14:26:00 2014 -0700

    DRILL-1107: Fix regression from first patch

 .../impl/mergereceiver/MergingRecordBatch.java     | 28 +++++++++++++++++++---
 1 file changed, 25 insertions(+), 3 deletions(-)

commit 0b905fe1b4d7a225ef4264ffd09f35fd7d876f73
Author: Cliff Buchanan <cbuchanan@maprtech.com>
Date:   Thu Jun 26 14:35:03 2014 -0700

    DRILL-1088: implemented date_trunc use TestFunctionsQuery instead of TestDateFunctions

 .../DateDateArithmeticFunctions.java               | 50 ++++++++++++++++++++--
 .../apache/drill/jdbc/test/TestFunctionsQuery.java | 21 +++++++++
 2 files changed, 68 insertions(+), 3 deletions(-)

commit 53a89d69dad990be4b64998bfc89d46fadfc8a0a
Author: Yash Sharma <yash360@gmail.com>
Date:   Sat Jul 5 17:50:50 2014 +0530

    DRILL-743: New String Functions

 .../exec/expr/fn/impl/StringFunctionUtil.java      |  15 +++
 .../drill/exec/expr/fn/impl/StringFunctions.java   | 134 +++++++++++++++++++++
 .../exec/physical/impl/TestStringFunctions.java    |   8 +-
 .../functions/string/testStringFuncs.json          |  44 +++++++
 4 files changed, 198 insertions(+), 3 deletions(-)

commit fed331b393a90ad575a4ad3765e0981094f3c541
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun Jul 6 21:40:16 2014 -0700

    DRILL-1109: Implement downward casting functions for decimal data type.

 exec/java-exec/src/main/codegen/data/Casts.tdd     |  12 +-
 .../templates/Decimal/CastDownwardDecimal.java     | 176 +++++++++++++++++++++
 .../apache/drill/jdbc/test/TestFunctionsQuery.java |  21 +++
 3 files changed, 208 insertions(+), 1 deletion(-)

commit ae7387519cac382f2e1789c00b7f843ca0b28a5b
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun Jul 6 19:02:56 2014 -0700

    DRILL-730: Initialize the buffer while creating sparse representation from BigDecimal

 .../org/apache/drill/common/util/DecimalUtility.java   |  5 +++++
 .../codegen/templates/Decimal/CastFloatDecimal.java    | 10 +---------
 .../templates/Decimal/DecimalAggrTypeFunctions1.java   |  3 ---
 .../templates/Decimal/DecimalAggrTypeFunctions2.java   |  3 ---
 .../codegen/templates/Decimal/DecimalFunctions.java    | 18 ------------------
 5 files changed, 6 insertions(+), 33 deletions(-)

commit e1cf5c2e930e645c7085aae318796bf536ea8c10
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun Jul 6 09:57:01 2014 -0700

    DRILL-1110: Output precision of functions should always be greater or equal to input precision

 .../util/DecimalScalePrecisionDivideFunction.java  |  5 +-
 .../util/DecimalScalePrecisionModFunction.java     | 43 ++++++++++++
 .../templates/Decimal/DecimalFunctions.java        |  4 +-
 .../exec/expr/annotations/FunctionTemplate.java    |  1 +
 .../expr/fn/DrillDecimalModScaleFuncHolder.java    | 79 ++++++++++++++++++++++
 .../drill/exec/expr/fn/FunctionConverter.java      |  3 +
 6 files changed, 132 insertions(+), 3 deletions(-)

commit e987e06c7e9de907a689e658768d38b4f2dc5bd7
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jul 3 14:35:13 2014 -0700

    DRILL-861: Implement sum, avg for decimal data type.

 .../apache/drill/common/util/DecimalUtility.java   |  10 ++
 exec/java-exec/src/main/codegen/config.fmpp        |   1 +
 .../src/main/codegen/data/DecimalAggrTypes1.tdd    |  13 ++-
 .../src/main/codegen/data/DecimalAggrTypes2.tdd    |  31 ++++++
 .../{ => Decimal}/DecimalAggrTypeFunctions1.java   |  42 ++++++-
 .../Decimal/DecimalAggrTypeFunctions2.java         | 123 +++++++++++++++++++++
 .../exec/expr/annotations/FunctionTemplate.java    |   1 +
 .../exec/expr/fn/DrillDecimalSumAggFuncHolder.java |  46 ++++++++
 .../drill/exec/expr/fn/FunctionConverter.java      |   3 +
 9 files changed, 266 insertions(+), 4 deletions(-)

commit cd4f7267de975f89aef775860532d49220ee8e88
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jul 3 00:09:17 2014 -0700

    DRILL-1098: Add test for trim(), substring() function.
    Actual fix is in OPTIQ-331

 .../java/org/apache/drill/jdbc/test/TestFunctionsQuery.java   | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit dcc94a3980498761f81d8e87cc04097ebcfdb3f7
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Jun 25 09:00:16 2014 -0700

    DRILL-1111: 1. Create new batch holder for hash table if an insertion fails due to space constraints in existing batch holder. 2. Use allocateNew() for hash aggr and hash table allocations. 3. Create new output batch if output values fails the first time due to space constraints. 4. Use splitAndTransfer to transfer the keys from hash table's container to the output batch.

 .../exec/physical/impl/aggregate/HashAggBatch.java |   9 +-
 .../physical/impl/aggregate/HashAggTemplate.java   | 152 +++++++++++----------
 .../physical/impl/aggregate/HashAggregator.java    |   3 +-
 .../physical/impl/common/ChainedHashTable.java     |   2 +-
 .../drill/exec/physical/impl/common/HashTable.java |   5 +-
 .../physical/impl/common/HashTableTemplate.java    |  57 ++++++--
 .../exec/physical/impl/join/HashJoinBatch.java     |   2 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |   2 +-
 8 files changed, 139 insertions(+), 93 deletions(-)

commit a59debbb2f1562c357d2f444f89cc3887e36319b
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sun Jun 29 16:02:42 2014 -0700

    Drill-1091: Make filter propagate best rel's collation trait. Fix StreamingAggPrule and HashAggPrule's pattern matching to look for child RelNodes.
    
    Added variation of TPCH 19 and enabled the modified version in test suite.

 .../drill/exec/planner/physical/FilterPrule.java   | 23 +++++++-------
 .../drill/exec/planner/physical/HashAggPrule.java  |  3 +-
 .../exec/planner/physical/StreamAggPrule.java      |  5 +---
 .../java/org/apache/drill/TestTpchDistributed.java |  5 ++++
 .../java/org/apache/drill/TestTpchExplain.java     |  1 +
 .../java/org/apache/drill/TestTpchSingleMode.java  |  1 +
 .../src/test/resources/queries/tpch/19_1.sql       | 35 ++++++++++++++++++++++
 7 files changed, 56 insertions(+), 17 deletions(-)

commit 790a2adf007e25d10cf7eeb1b086698cd5137b47
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Jul 1 14:19:52 2014 -0700

    DRILL-1102: Use same set of keys to distribute left and right side of join operator. Add option of hashing on single join key.

 .../planner/physical/DrillDistributionTrait.java   | 11 +++---
 .../drill/exec/planner/physical/HashJoinPrule.java |  4 +-
 .../planner/physical/HashToRandomExchangePrel.java |  6 ++-
 .../drill/exec/planner/physical/JoinPruleBase.java | 46 ++++++++++++++++++++--
 .../exec/planner/physical/MergeJoinPrule.java      |  4 +-
 .../exec/planner/physical/PlannerSettings.java     |  5 +++
 .../exec/server/options/SystemOptionManager.java   |  1 +
 .../java/org/apache/drill/TestTpchDistributed.java |  1 +
 8 files changed, 64 insertions(+), 14 deletions(-)

commit e0de4650a112eba6db31685152c132cf6015cc56
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Jul 2 23:47:53 2014 -0700

    DRILL-1107: Handle case in Hash join where first batch has zero records
    
    Handle case in merging receiver when first batch has zero records

 .../exec/physical/impl/join/HashJoinBatch.java     | 10 +++++++-
 .../physical/impl/join/HashJoinProbeTemplate.java  |  2 +-
 .../impl/mergereceiver/MergingRecordBatch.java     | 28 +++++++++++++++-------
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |  7 +++++-
 4 files changed, 36 insertions(+), 11 deletions(-)

commit 1e1e438db84648217b785c020c0e79968b3c50c9
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Jul 2 23:46:27 2014 -0700

    DRILL-1106: Fix race condition in incoming buffers

 .../exec/work/batch/AbstractDataCollector.java     | 13 +++----
 .../drill/exec/work/batch/MergingCollector.java    |  9 -----
 .../exec/work/batch/PartitionedCollector.java      |  9 -----
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   | 40 +++++++++++++++++++++-
 4 files changed, 43 insertions(+), 28 deletions(-)

commit 22709c2185778a61b10ab96fe8b04b170dc25c68
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Jul 2 02:29:54 2014 -0700

    DRILL-1085: Round up while casting to int/bigint from float/double/decimal

 .../apache/drill/common/util/DecimalUtility.java   | 25 ++++++++++++++++++++++
 exec/java-exec/src/main/codegen/data/Casts.tdd     |  8 +++----
 .../src/main/codegen/templates/CastFunctions.java  | 15 ++++++++++++-
 .../codegen/templates/Decimal/CastDecimalInt.java  | 10 ++++++++-
 .../drill/exec/planner/logical/DrillOptiq.java     |  4 ++--
 5 files changed, 54 insertions(+), 8 deletions(-)

commit de8f3592ee716351b1694f48b797c89e2837caa7
Author: Cliff Buchanan <cbuchanan@maprtech.com>
Date:   Wed Jul 2 13:20:37 2014 -0700

    DRILL-1099: Inject space (' ') as the default second argument to [lbr]trim
    
    * Optiq already handles this for "trim".

 .../main/java/org/apache/drill/exec/planner/logical/DrillOptiq.java  | 5 +++++
 1 file changed, 5 insertions(+)

commit dedff8ca8559dba758326bf8cec95b6a4be05416
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Jun 30 14:05:31 2014 -0700

    DRILL-1105: Fix bug in streaming aggregate when first batch is empty

 .../impl/aggregate/StreamingAggTemplate.java       | 29 ++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit 405abb2e3cb348c6089e77ff5c1314d5260b42a3
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Jun 30 18:39:20 2014 -0700

    DRILL-1074: Fix computation of scale for divide function.

 .../util/DecimalScalePrecisionDivideFunction.java  | 20 +++++-----
 .../apache/drill/jdbc/test/TestFunctionsQuery.java | 44 +++++++++++-----------
 2 files changed, 32 insertions(+), 32 deletions(-)

commit d5dbe2c7ccc0f4376edc447385ee75bc714d50a5
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Thu May 29 11:30:24 2014 -0700

    DRILL-967: Age and shift functions.

 exec/java-exec/src/main/codegen/data/MathFunc.tdd  | 24 +++++-
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java | 86 +++++++++++++++++++++-
 .../drill/exec/fn/impl/TestDateFunctions.java      |  9 +++
 .../src/test/resources/functions/date/age.json     | 36 +++++++++
 4 files changed, 153 insertions(+), 2 deletions(-)

commit 1e420874a358a0696519f994728b47ab2c4f3ac5
Author: Yash Sharma <yash.sharma@snapdeal.com>
Date:   Tue Jun 17 21:36:32 2014 +0530

    DRILL-923: Bit-wise and logical Aggregate functions

 .../drill/common/expression/fn/CastFunctions.java  |   1 +
 exec/java-exec/src/main/codegen/config.fmpp        |   1 +
 .../main/codegen/data/AggrBitwiseLogicalTypes.tdd  |  58 ++++++
 exec/java-exec/src/main/codegen/data/Casts.tdd     |   2 +
 .../templates/AggrBitwiseLogicalTypeFunctions.java | 132 ++++++++++++++
 .../exec/expr/fn/impl/BooleanAggrFunctions.java    | 202 +++++++++++++++++++++
 .../exec/fn/impl/TestNewAggregateFunctions.java    |  90 +++++++++
 .../resources/functions/test_logical_aggr.json     |  80 ++++++++
 .../src/test/resources/logical_aggr_input.json     |   4 +
 9 files changed, 570 insertions(+)

commit 67c303cb96103afa790d73d740a544917d67757e
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Jul 2 00:13:38 2014 -0700

    DRILL-794: Fix IOB while performing decimal subtraction

 .../util/DecimalScalePrecisionAddFunction.java     |  40 ++++++
 .../util/DecimalScalePrecisionDivideFunction.java  |  20 ++-
 .../util/DecimalScalePrecisionMulFunction.java     |  17 +--
 .../util/DrillBaseComputeScalePrecision.java       |  37 ++++++
 .../templates/Decimal/DecimalFunctions.java        | 143 ++++++++++-----------
 .../exec/expr/annotations/FunctionTemplate.java    |   3 +-
 .../exec/expr/fn/DrillDecimalAddFuncHolder.java    |  79 ++++++++++++
 .../drill/exec/expr/fn/FunctionConverter.java      |   5 +-
 .../resources/decimal/test_decimal_complex.json    |   2 +-
 .../apache/drill/jdbc/test/TestFunctionsQuery.java |   4 +-
 10 files changed, 246 insertions(+), 104 deletions(-)

commit 85b8ceffe7ca5b976acc25b7c11c0c288110e7bf
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Jun 30 20:46:07 2014 -0700

    DRILL-1104: Increase MaxDirectMemorySize to 3G for unit tests

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 67b9fe83a0cf7eb5c8fc8887aef3533afff0340a
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Jun 27 16:28:32 2014 -0700

    DRILL-1103: Cleanup java-exec POM to make it more eclipse friendly
    
    * Replaced maven-antrun-plugin with maven-resource-plugin
    * Altered the execution life-cycle of some of the plugin execution.

 exec/java-exec/pom.xml | 59 ++++++++++++++++++++++++--------------------------
 1 file changed, 28 insertions(+), 31 deletions(-)

commit a1a6144690d922deec0fb3138fa8814a00b0be44
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon Jun 16 12:52:47 2014 -0700

    DRILL-841: Using BigDecimal to round and truncate.

 exec/java-exec/src/main/codegen/data/MathFunc.tdd  | 28 ++++++++++
 .../src/main/codegen/templates/MathFunctions.java  | 21 ++++++++
 .../apache/drill/jdbc/test/TestFunctionsQuery.java | 62 ++++++++++++++++++++++
 3 files changed, 111 insertions(+)

commit 37eb6566e69f853ec18032eee5ec45a5c9caedfe
Author: Cliff Buchanan <cbuchanan@maprtech.com>
Date:   Thu Jun 26 15:45:14 2014 -0700

    DRILL-561: Implement btrim/trim
    
    Make use of existing UTF8 function
    
    Added test for btrim

 .../exec/expr/fn/impl/StringFunctionUtil.java      |  2 +-
 .../drill/exec/expr/fn/impl/StringFunctions.java   | 88 ++++++++++++----------
 .../drill/exec/planner/logical/DrillOptiq.java     | 23 ++++++
 .../exec/physical/impl/TestStringFunctions.java    |  8 ++
 .../test/resources/functions/string/testTrim.json  | 39 ++++++++++
 5 files changed, 119 insertions(+), 41 deletions(-)

commit 3e6ff2cc6e35c4a488f6c9d16a13256ef82a24d1
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Thu Jun 26 09:37:58 2014 -0700

    DRILL-1078: Added metrics to unordered receiver (+ renaming) and merging receiver.

 .../exec/physical/config/MergingReceiverPOP.java   |  6 ++++
 .../exec/physical/config/UnorderedReceiver.java    |  8 ++++-
 .../impl/mergereceiver/MergingRecordBatch.java     |  4 +++
 .../unorderedreceiver/UnorderedReceiverBatch.java  | 37 ++++++++++++---------
 .../apache/drill/exec/record/RawFragmentBatch.java |  4 +++
 .../org/apache/drill/exec/proto/UserBitShared.java | 38 +++++++++++-----------
 .../drill/exec/proto/beans/CoreOperatorType.java   |  4 +--
 7 files changed, 64 insertions(+), 37 deletions(-)

commit de0bd7d27f3545f82541f8d98719042718923c14
Author: Cliff Buchanan <cbuchanan@maprtech.com>
Date:   Wed Jun 25 14:31:30 2014 -0700

    DRILL-1077: OperationStats enhancements 
    
    Add setLongStat and setDoubleStat to set metrics directly.
    Remove shared HashTableMetrics class
    Add ResizeTime for hash aggregate and hash join.
    Not all RootExec should report the metrics in SenderStats. Break up into RootExec specific MetricDefs.
    Add BYTES_SENT metric for all RootExec
    Rename N_SENDERS to N_RECEIVERS

 .../org/apache/drill/exec/ops/OperatorStats.java   |  8 +++
 .../org/apache/drill/exec/ops/SenderStats.java     | 74 ----------------------
 .../drill/exec/physical/impl/BaseRootExec.java     |  8 ++-
 .../drill/exec/physical/impl/ScreenCreator.java    | 15 +++++
 .../exec/physical/impl/SingleSenderCreator.java    | 17 ++++-
 .../physical/impl/aggregate/HashAggTemplate.java   | 25 ++++++--
 .../broadcastsender/BroadcastSenderRootExec.java   | 18 +++++-
 .../physical/impl/common/HashTableMetrics.java     | 33 ----------
 .../exec/physical/impl/common/HashTableStats.java  |  1 +
 .../physical/impl/common/HashTableTemplate.java    |  7 +-
 .../exec/physical/impl/join/HashJoinBatch.java     | 24 +++++--
 .../impl/materialize/QueryWritableBatch.java       |  8 +++
 .../partitionsender/PartitionSenderRootExec.java   | 41 +++++++++++-
 .../impl/partitionsender/PartitionSenderStats.java | 35 ----------
 .../impl/partitionsender/PartitionerTemplate.java  |  6 ++
 .../drill/exec/record/FragmentWritableBatch.java   |  8 +++
 16 files changed, 170 insertions(+), 158 deletions(-)

commit df8d4e6b62ec0908766508e417ac44b2688eb137
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Jun 26 17:29:17 2014 -0700

    DRILL-519: Fix regression with decorrelation in tpch21 (based on updated fix for correlation bug in Optiq, allow PushFilterThroughJoin to be applied to JoinRelBase.)

 exec/java-exec/src/test/java/org/apache/drill/TestTpchDistributed.java | 1 -
 exec/java-exec/src/test/java/org/apache/drill/TestTpchExplain.java     | 1 -
 exec/java-exec/src/test/java/org/apache/drill/TestTpchSingleMode.java  | 1 -
 3 files changed, 3 deletions(-)

commit 3ea8eb51091199860382bc43313f1b2375505495
Author: Yash Sharma <yash.sharma@snapdeal.com>
Date:   Fri Jun 27 02:01:11 2014 +0530

    DRILL-1083: Fix Travis integration

 .travis.yml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2aef4897855ce89e70a2862f7ae8bf2628eb497a
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Jun 25 17:58:24 2014 -0700

    Add vector validator to IteratorValidator

 .../validate/IteratorValidatorBatchIterator.java   |  7 +++
 .../apache/drill/exec/vector/VectorValidator.java  | 73 ++++++++++++++++++++++
 2 files changed, 80 insertions(+)

commit d5967c564b4cce933210d2e673f128431c632441
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Jun 25 20:00:25 2014 -0700

    DRILL-1081: Always return OK_NEW_SCHEMA on first batch in Streaming Agg

 .../apache/drill/exec/physical/impl/aggregate/StreamingAggBatch.java | 2 ++
 .../drill/exec/physical/impl/aggregate/StreamingAggTemplate.java     | 5 ++++-
 .../exec/physical/impl/validate/IteratorValidatorBatchIterator.java  | 4 ++++
 3 files changed, 10 insertions(+), 1 deletion(-)

commit b8d457666de8ab3fd122e839d7553a094a2f44be
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Jun 25 17:07:50 2014 -0700

    DRILL-1080: Handle out of space condition in Hash join probe

 .../drill/exec/physical/impl/join/HashJoinProbeTemplate.java | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 70e71fc0acab044cb5eb63e39aa0eaf750d0aa5e
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Jun 20 20:15:04 2014 -0700

    DRILL-605: Round up decimal when truncating fractional part

 .../apache/drill/common/util/DecimalUtility.java   |  6 +--
 .../templates/Decimal/CastVarCharDecimal.java      | 61 ++++++++++++++++++++--
 .../drill/exec/physical/impl/TestDecimal.java      |  6 +--
 3 files changed, 63 insertions(+), 10 deletions(-)

commit 69a07888f5629b9871d4d2214926c1643706572f
Author: norrislee <norrislee18@hotmail.com>
Date:   Thu Jun 19 18:12:25 2014 -0700

    DRILL-1045: C++ Client Properly shutdown sockets

 contrib/native/client/src/clientlib/drillClientImpl.cpp | 2 ++
 contrib/native/client/src/clientlib/drillClientImpl.hpp | 4 ++++
 2 files changed, 6 insertions(+)

commit a299123e9f4a18ec4a1680eb630cd4cf1948ea92
Author: Xiao Meng <xiaom.cs@gmail.com>
Date:   Fri Jun 20 13:52:38 2014 -0700

    DRILL-1052: C++ Client. Update protocol buffer generated code.

 .../client/src/clientlib/drillClientImpl.cpp       |   14 +-
 .../client/src/clientlib/drillClientImpl.hpp       |    4 +-
 .../client/src/include/drill/protobuf/User.pb.h    |  712 +-------
 .../client/src/include/drill/recordBatch.hpp       |    6 +-
 .../native/client/src/protobuf/BitControl.pb.cc    |   45 +-
 contrib/native/client/src/protobuf/BitControl.pb.h |   18 +-
 contrib/native/client/src/protobuf/User.pb.cc      | 1049 +----------
 .../native/client/src/protobuf/UserBitShared.pb.cc | 1873 ++++++++++++++++----
 .../native/client/src/protobuf/UserBitShared.pb.h  |  912 +++++++++-
 9 files changed, 2559 insertions(+), 2074 deletions(-)

commit d84190f22c57e78f2e236afa5f5b03b179b031d9
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue Jun 17 14:21:38 2014 -0700

    DRILL-972: Add newline if no delimiter is specified; avoid rescanning (contains DRILL-950).

 .../exec/store/easy/text/TextFormatPlugin.java     |  2 +-
 .../exec/store/text/DrillTextRecordReader.java     | 14 ++++-
 .../drill/exec/store/text/TestTextColumn.java      | 73 ++++++++++++++++++++++
 .../test/resources/bootstrap-storage-plugins.json  |  4 ++
 .../src/test/resources/store/text/data/letters.csv |  3 +
 .../src/test/resources/store/text/data/letters.txt |  3 +
 pom.xml                                            |  1 +
 7 files changed, 96 insertions(+), 4 deletions(-)

commit dbaec9dd54dbba65cb4eecb48bd1f063df13d2ec
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Wed Jun 18 16:03:33 2014 -0700

    DRILL-997: Basic metrics and threads UI.

 .../drill/exec/server/rest/DrillRestServer.java    |   6 +-
 .../drill/exec/server/rest/MetricsResources.java   |  13 ++
 .../drill/exec/server/rest/ThreadsResources.java   |  37 +++++
 exec/java-exec/src/main/resources/rest/generic.ftl |   4 +-
 .../src/main/resources/rest/metrics/metrics.ftl    | 164 +++++++++++++++++++++
 .../src/main/resources/rest/threads/threads.ftl    |  35 +++++
 6 files changed, 253 insertions(+), 6 deletions(-)

commit 80c6ebb64c50b5af7ff8805a1179137c7ec48b1d
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sat Jun 21 17:41:21 2014 -0700

    DRILL-1054: Handle return statement in function templates

 .../drill/exec/expr/fn/ModifiedUnparseVisitor.java | 10 +++++-
 .../drill/exec/expr/fn/impl/MathFunctions.java     |  1 +
 .../apache/drill/jdbc/test/TestFunctionsQuery.java | 41 ++++++++++++++++++++++
 3 files changed, 51 insertions(+), 1 deletion(-)

commit 827e51f726dee202c090addfcbf3a8aab669ee4e
Author: Cliff Buchanan <cbuchanan@maprtech.com>
Date:   Wed Jun 25 09:34:19 2014 -0700

    DRILL-1057: Support partial profiles in query profile interface

 .../drill/exec/server/rest/ProfileWrapper.java     | 114 +++++++++++++++------
 1 file changed, 83 insertions(+), 31 deletions(-)

commit 26edabbae8e2ab9a107dce9ff3405241890c4401
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Wed Jun 18 13:29:46 2014 -0700

    DRILL-1013: Changed type of monthsToMillis to long.

 .../src/main/java/org/apache/drill/exec/expr/fn/impl/DateUtility.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 718f4a27bd6d89b221b77491a57646dce3719879
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Jun 20 19:06:27 2014 -0700

    DRILL-1053: Check file if it exists on filesystem before adding it to FileInputFormat

 .../org/apache/drill/exec/store/hive/HiveScan.java | 29 ++++++++++++++--------
 .../exec/store/hive/HiveTestDataGenerator.java     |  5 ++++
 2 files changed, 23 insertions(+), 11 deletions(-)

commit 8a22910f2aa1ea933e122357f52e13b68801d2b6
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Jun 24 19:21:03 2014 -0700

    DRILL-1073: Include intermediate fragments when initializing remainingFragmentCount
    
    Ignore QueryState.COMPLETED messages in jdbc.
    
    This was causing the Query Complete message to get sent before the query had actually completed.

 .../main/java/org/apache/drill/exec/work/foreman/QueryManager.java  | 2 +-
 exec/jdbc/src/main/java/org/apache/drill/jdbc/DrillResultSet.java   | 6 ++++++
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 33c28f624df83bfc7195ad33877b3be7c963e0b5
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Jun 25 09:00:16 2014 -0700

    Remove deprecated settings from java-exec's drill-module.conf

 exec/java-exec/src/main/resources/drill-module.conf | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 45ce71ca0a530de55f35d9086f5326a135b22448
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jun 24 15:06:42 2014 -0700

    Fix some EPOLL bugs and disable for now.

 .../main/java/org/apache/drill/exec/rpc/BasicClient.java   |  6 +++---
 .../main/java/org/apache/drill/exec/rpc/BasicServer.java   |  6 +++---
 .../java/org/apache/drill/exec/rpc/TransportCheck.java     |  2 +-
 .../java/org/apache/drill/exec/service/ServiceEngine.java  |  4 ++--
 .../exec/physical/impl/xsort/TestSimpleExternalSort.java   | 14 +++++++-------
 5 files changed, 16 insertions(+), 16 deletions(-)

commit 0b296c82e5e7b07de1266221f42761a590a476fa
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Jun 23 12:11:19 2014 -0700

    Fix for sort ordering: canonicalize incoming batches in top-n

 .../java/org/apache/drill/exec/physical/impl/TopN/TopNBatch.java  | 7 +++++--
 .../org/apache/drill/exec/physical/impl/sort/RecordBatchData.java | 6 ++++++
 .../drill/exec/physical/impl/sort/SortRecordBatchBuilder.java     | 8 +++++++-
 exec/java-exec/src/main/resources/drill-module.conf               | 2 +-
 4 files changed, 19 insertions(+), 4 deletions(-)

commit 63d79a1d205c4be40cdf773e2b5c89869e284463
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sat Jun 21 22:38:14 2014 -0700

    Small UI Fix: fix max batches and record counts

 .../org/apache/drill/exec/server/rest/ProfileWrapper.java  | 14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 208d511beebf2369ff453df09843e16f1433fd36
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sat Jun 21 17:11:31 2014 -0700

    DRILL-1055: Add ProducerConsumer operator to scans
    
    This can be disabled. The queue size is configurable

 .../physical/base/AbstractPhysicalVisitor.java     |   6 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   2 +
 .../exec/physical/config/ProducerConsumer.java     |  58 ++++++
 .../impl/producer/ProducerConsumerBatch.java       | 199 +++++++++++++++++++++
 .../producer/ProducerConsumerBatchCreator.java     |  36 ++++
 .../exec/planner/physical/PlannerSettings.java     |   3 +
 .../planner/physical/ProducerConsumerPrel.java     |  78 ++++++++
 .../drill/exec/planner/physical/ScanPrel.java      |   2 +-
 .../visitor/ProducerConsumerPrelVisitor.java       |  59 ++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    |  13 +-
 .../exec/server/options/SystemOptionManager.java   |   2 +
 .../org/apache/drill/exec/proto/UserBitShared.java |  16 +-
 .../drill/exec/proto/beans/CoreOperatorType.java   |   4 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   1 +
 14 files changed, 473 insertions(+), 6 deletions(-)

commit af29c2557b296b9bb33107edd02f8066950184f3
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jun 21 17:59:56 2014 -0700

    DRILL-1067: RPC layer improvements
    - Unfork Netty and upgrade to 4.0.20.Final
    - Create support for EPOLL native impl on Linux (disable by providing -Ddrill.exec.disable_linux_epoll=false)
    - Move BitData connection to Multiplex with DataTunnel level backpressure

 distribution/pom.xml                               |   5 -
 distribution/src/assemble/bin.xml                  |   1 -
 exec/bufferl/pom.xml                               |  33 --
 .../src/main/java/io/netty/buffer/PoolArenaL.java  | 575 ---------------------
 .../src/main/java/io/netty/buffer/PoolChunkL.java  | 548 --------------------
 .../main/java/io/netty/buffer/PoolChunkListL.java  | 212 --------
 .../main/java/io/netty/buffer/PoolSubpageL.java    | 207 --------
 .../io/netty/buffer/PooledByteBufAllocatorL.java   | 287 ----------
 .../main/java/io/netty/buffer/PooledByteBufL.java  | 229 --------
 .../java/io/netty/buffer/PooledHeapBufferL.java    | 299 -----------
 .../netty/buffer/PooledUnsafeDirectByteBufL.java   | 348 -------------
 .../main/java/io/netty/buffer/package-info.java    |  73 ---
 .../java/io/netty/buffer/TestPoolChunkTrim.java    | 218 --------
 exec/java-exec/pom.xml                             |  16 +-
 .../src/main/codegen/includes/vv_imports.ftl       |   6 +-
 .../main/codegen/templates/FixedValueVectors.java  |  15 +-
 .../codegen/templates/VariableLengthVectors.java   |   5 +-
 .../netty/buffer}/AccountingByteBuf.java           |  51 +-
 .../io/netty/buffer/PooledByteBufAllocatorL.java   |  85 +++
 .../io/netty/buffer/UnsafeDirectLittleEndian.java  | 179 +++++++
 .../org/apache/drill/exec/client/DrillClient.java  |   6 +-
 .../drill/exec/coord/zk/ZKClusterCoordinator.java  |   2 +-
 .../org/apache/drill/exec/memory/Accountor.java    |  20 +-
 .../apache/drill/exec/memory/AtomicRemainder.java  |  15 +-
 .../apache/drill/exec/memory/BufferAllocator.java  |  15 +-
 .../drill/exec/memory/TopLevelAllocator.java       |  21 +-
 .../drill/exec/proto/helper/QueryIdHelper.java     |  15 +-
 .../apache/drill/exec/record/RawFragmentBatch.java |  17 +-
 .../org/apache/drill/exec/rpc/BasicClient.java     |  11 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |  16 +-
 .../ResponseSender.java}                           |   9 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |  46 +-
 .../org/apache/drill/exec/rpc/TransportCheck.java  |  78 +++
 .../drill/exec/rpc/data/BitServerConnection.java   |  94 +---
 .../drill/exec/rpc/data/DataConnectionCreator.java |  12 +-
 .../drill/exec/rpc/data/DataResponseHandler.java   |   6 +-
 .../exec/rpc/data/DataResponseHandlerImpl.java     |  15 +-
 .../org/apache/drill/exec/rpc/data/DataServer.java |  49 +-
 .../org/apache/drill/exec/rpc/data/DataTunnel.java |  51 +-
 .../apache/drill/exec/server/BootStrapContext.java |  15 +-
 .../apache/drill/exec/server/DrillbitContext.java  |   4 +-
 .../org/apache/drill/exec/vector/BitVector.java    |   8 +-
 .../apache/drill/exec/vector/VectorTrimmer.java}   |  23 +-
 .../exec/work/batch/AbstractDataCollector.java     |  31 +-
 .../drill/exec/work/batch/DataCollector.java       |   1 +
 .../drill/exec/work/batch/IncomingBuffers.java     |   9 +-
 .../drill/exec/work/batch/RawBatchBuffer.java      |   3 +-
 .../drill/exec/work/batch/ResponseSenderQueue.java |  45 ++
 .../exec/work/batch/SpoolingRawBatchBuffer.java    |  10 +-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |  28 +-
 .../drill/exec/work/fragment/FragmentManager.java  |   7 +-
 .../exec/work/fragment/NonRootFragmentManager.java |   3 +-
 .../exec/work/fragment/RootFragmentManager.java    |   9 +-
 .../org/apache/drill/exec/server/TestBitRpc.java   |  33 +-
 exec/pom.xml                                       |   2 -
 pom.xml                                            |   2 +-
 56 files changed, 757 insertions(+), 3366 deletions(-)

commit c3eea13ce4c45e6bcd0b6863571e1561a9fa1931
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jun 21 13:01:43 2014 -0700

    DRILL-1068: Reduce memory consumption of various operators.  Add more memory stats to query profile.

 .../org/apache/drill/exec/ops/FragmentStats.java   |  6 +-
 .../org/apache/drill/exec/ops/OperatorContext.java |  2 +-
 .../org/apache/drill/exec/ops/OperatorStats.java   | 16 +++--
 .../org/apache/drill/exec/ops/SenderStats.java     | 11 +--
 .../drill/exec/physical/impl/BaseRootExec.java     |  4 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  6 +-
 .../physical/impl/aggregate/HashAggTemplate.java   | 66 ++++++++---------
 .../physical/impl/aggregate/StreamingAggBatch.java |  5 +-
 .../impl/aggregate/StreamingAggTemplate.java       | 14 ++--
 .../impl/aggregate/StreamingAggregator.java        |  5 +-
 .../physical/impl/filter/FilterRecordBatch.java    |  7 +-
 .../exec/physical/impl/join/HashJoinBatch.java     | 17 ++---
 .../physical/impl/join/HashJoinProbeTemplate.java  | 82 +++++++++++++---------
 .../impl/mergereceiver/MergingRecordBatch.java     | 28 +++-----
 .../partitionsender/PartitionSenderRootExec.java   |  4 +-
 .../impl/partitionsender/PartitionerTemplate.java  |  7 +-
 .../drill/exec/physical/impl/svremover/Copier.java |  2 +-
 .../physical/impl/svremover/CopierTemplate2.java   |  9 +--
 .../physical/impl/svremover/CopierTemplate4.java   |  7 +-
 .../impl/svremover/RemovingRecordBatch.java        | 17 ++---
 .../exec/planner/fragment/SimpleParallelizer.java  |  3 +-
 .../apache/drill/exec/record/VectorContainer.java  | 21 ++++--
 .../exec/vector/allocator/VectorAllocator.java     | 29 ++++----
 23 files changed, 184 insertions(+), 184 deletions(-)

commit 0dfeac8f8e8ad9cde3741b3a246d88bd11f0593e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jun 21 11:26:25 2014 -0700

    DRILL-1071: Update local pstore provider to hold data when running in write disabled mode.  Allows use of web guy for profile viewing while debugging.

 .../drill/exec/store/sys/local/LocalPStoreProvider.java      | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit bfb422ed63597b99e875d13e50764335a29a8a11
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jun 21 11:25:19 2014 -0700

    DRILL-1070: Update work manager to capture errors in Foreman and Fragment threads rather than drop to JVM.

 .../org/apache/drill/exec/work/WorkManager.java    | 138 +++++++++++++--------
 1 file changed, 84 insertions(+), 54 deletions(-)

commit 16808f4a485418d2974b0be17c2aa9fab2514d38
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jun 21 11:24:42 2014 -0700

    DRILL-1069: Rename RandomReceiver to UnorderedRecevier.

 .../drill/exec/physical/base/AbstractPhysicalVisitor.java   |  4 ++--
 .../apache/drill/exec/physical/base/PhysicalVisitor.java    |  4 ++--
 .../drill/exec/physical/config/BroadcastExchange.java       |  2 +-
 .../drill/exec/physical/config/HashToRandomExchange.java    |  2 +-
 .../exec/physical/config/OrderedPartitionExchange.java      |  2 +-
 .../apache/drill/exec/physical/config/UnionExchange.java    |  2 +-
 .../config/{RandomReceiver.java => UnorderedReceiver.java}  | 10 +++++-----
 .../UnorderedReceiverBatch.java}                            | 12 ++++++------
 .../UnorderedReceiverCreator.java}                          | 13 +++++++------
 protocol/src/main/protobuf/UserBitShared.proto              |  2 +-
 10 files changed, 27 insertions(+), 26 deletions(-)

commit 8773f84b7b8b238f9653b05607e153438a624777
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Jun 20 17:59:02 2014 -0700

    Small stats fix: add current Exchange to the parent fragment stat.

 .../drill/exec/planner/physical/visitor/ExcessiveExchangeIdentifier.java | 1 +
 1 file changed, 1 insertion(+)

commit 0c9d4ebbf5e0c2a5f9b3a554f4a051568efa46e7
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Jun 20 00:06:07 2014 -0700

    DRILL-938: Set the links entry correctly when resizing when hash chains cross batch boundaries.

 .../physical/impl/common/HashTableTemplate.java    | 84 ++++++++++++++--------
 1 file changed, 53 insertions(+), 31 deletions(-)

commit 79c1502c1e96596d4db302c2dd1c9f78d0f4d43d
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Jun 20 14:36:51 2014 -0700

    Fix RangeDoubleValidator to correctly order constructor arguments.

 .../main/java/org/apache/drill/exec/server/options/TypeValidators.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit efa3274bdb0b7f91e8b5877a966a22fb4c59dfd8
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Jun 20 12:05:05 2014 -0700

    Allocate buffers when the data empty so that downstream operators do not fail in VV transfer

 .../java/org/apache/drill/exec/store/hive/HiveRecordReader.java   | 8 ++++----
 .../main/java/org/apache/drill/exec/physical/impl/ScanBatch.java  | 2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 65f6bcbfc32a8dd3c69e1de127ad79ece0556b20
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Jun 20 07:18:35 2014 -0700

    DRILL-650: Left outer join sometimes fails sometimes with Failure while setting up Foreman error

 .../exec/planner/types/RelDataTypeDrillImpl.java   | 23 ++++++++++++++++++++++
 .../exec/planner/types/RelDataTypeHolder.java      | 15 +++++++++++++-
 2 files changed, 37 insertions(+), 1 deletion(-)

commit 4d13046dddef73b960bbcba1958a2a262b1e02d6
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Jun 20 10:04:11 2014 -0700

    DRILL-1049: Handle few types missing in ExpressionStringBuilder and ExpressionTreeMaterializer.castEqual

 .../common/expression/ExpressionStringBuilder.java |  2 ++
 .../exec/expr/ExpressionTreeMaterializer.java      | 28 ++++++++++++++--------
 2 files changed, 20 insertions(+), 10 deletions(-)

commit 980dc87b5c2293e3ed60f588dcef67a6382e3715
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Jun 18 11:35:23 2014 -0700

    DRILL-1024: Move hive storage code out of 'exec/java-exec' into 'contrib/storage-hive' module.
    
    + Create two modules in contrib/storage-hive
      ++ contrib/storage-hive/hive-exec-shade: creates shaded hive-exec.jar
      ++ contrib/storage-hive/core: contains Hive storage code (schema, record reader and functions)
    + Update TestHiveUDFs.java to use BaseTestQuery instead of SimpleRootExec

 contrib/storage-hive/core/pom.xml                  | 128 ++++++++++++++++
 .../storage-hive/core/src/main/codegen/config.fmpp |  22 +++
 .../core}/src/main/codegen/data/HiveTypes.tdd      |   0
 .../core/src/main/codegen/includes/license.ftl     |  18 +++
 .../codegen/templates/ObjectInspectorHelper.java   |   0
 .../main/codegen/templates/ObjectInspectors.java   |   0
 .../apache/drill/exec/expr/HiveFuncHolderExpr.java |   0
 .../apache/drill/exec/expr/fn/HiveFuncHolder.java  |   0
 .../drill/exec/expr/fn/HiveFunctionRegistry.java   |   1 -
 .../hive/AbstractPrimitiveObjectInspector.java     |   0
 .../expr/fn/impl/hive/DrillDeferredObject.java     |   0
 .../drill/exec/planner/sql/HiveUDFOperator.java    |   0
 .../drill/exec/store/hive/HiveFieldConverter.java  |   0
 .../drill/exec/store/hive/HiveReadEntry.java       |   0
 .../drill/exec/store/hive/HiveRecordReader.java    |   0
 .../org/apache/drill/exec/store/hive/HiveScan.java |   0
 .../exec/store/hive/HiveScanBatchCreator.java      |   0
 .../drill/exec/store/hive/HiveStoragePlugin.java   |   0
 .../exec/store/hive/HiveStoragePluginConfig.java   |   0
 .../apache/drill/exec/store/hive/HiveSubScan.java  |   0
 .../apache/drill/exec/store/hive/HiveTable.java    |   0
 .../exec/store/hive/HiveTextRecordReader.java      |   0
 .../exec/store/hive/schema/DrillHiveTable.java     |   0
 .../exec/store/hive/schema/DrillHiveViewTable.java |   0
 .../exec/store/hive/schema/HiveDatabaseSchema.java |   0
 .../exec/store/hive/schema/HiveSchemaFactory.java  |   0
 .../main/resources/bootstrap-storage-plugins.json  |   4 +
 .../src/main/resources/drill-module.conf           |   0
 .../apache/drill/exec/fn/hive}/TestHiveUDFs.java   | 152 +++++++-----------
 .../exec/store/hive/HiveTestDataGenerator.java     |   0
 .../test/resources/functions/hive/GenericUDF.json  |   2 +-
 .../src/test/resources/functions/hive/UDF.json     |   2 +-
 .../core/src/test/resources/logback.xml            |  64 ++++++++
 contrib/storage-hive/hive-exec-shade/pom.xml       | 169 +++++++++++++++++++++
 .../src/main/resources/drill-module.conf           |   5 +
 contrib/storage-hive/pom.xml                       | 147 ++----------------
 distribution/pom.xml                               |  16 +-
 distribution/src/assemble/bin.xml                  |   7 +-
 exec/java-exec/pom.xml                             |  16 --
 exec/java-exec/src/main/codegen/config.fmpp        |   3 +-
 .../drill/exec/record/RecordBatchLoader.java       |   2 -
 .../apache/drill/exec/record/WritableBatch.java    |   2 -
 exec/jdbc/pom.xml                                  |  11 ++
 43 files changed, 499 insertions(+), 272 deletions(-)

commit 026d51a2755faed38df1b0c7ecd84c5c1dab687b
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Sun Jun 15 23:49:00 2014 -0700

    DRILL-1025: Refactoring - Define function holder and registry interfaces
    
    This change is needed in order to pull out Hive storage/function source code out of
    'exec/java-exec' moudle into 'contrib/storage-hive' module. Currently 'exec/java-exec'
    depends on 'contrib/storage-hive' (which currently just builds a shaded hive-exec jar).
    Ideally 'contrib/storage-hive' should contain the Hive storage/function source code so
    that there is a clear separation between core execution engine and Hive storage engine
    code.

 .../expression/FunctionHolderExpression.java       |   5 +-
 .../drill/common/expression/fn/FuncHolder.java     |  23 +++++
 .../drill/exec/expr/DrillFuncHolderExpr.java       |   9 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  51 +++-------
 .../exec/expr/ExpressionTreeMaterializer.java      |  32 +++---
 .../apache/drill/exec/expr/HiveFuncHolderExpr.java |   3 +-
 .../drill/exec/expr/fn/AbstractFuncHolder.java     |  45 +++++++++
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  14 ++-
 ...ionRegistry.java => DrillFunctionRegistry.java} |  35 +++++--
 .../exec/expr/fn/FunctionGenerationHelper.java     |  12 +--
 .../expr/fn/FunctionImplementationRegistry.java    | 107 +++++++++++++++++++--
 .../apache/drill/exec/expr/fn/HiveFuncHolder.java  |  16 ++-
 ...tionRegistry.java => HiveFunctionRegistry.java} |  26 ++---
 .../exec/expr/fn/PluggableFunctionRegistry.java    |  39 ++++++++
 .../drill/exec/planner/sql/DrillOperatorTable.java |  29 +-----
 .../exec/planner/sql/DrillSqlAggOperator.java      |   2 +-
 .../drill/exec/planner/sql/DrillSqlOperator.java   |   2 +-
 .../exec/physical/impl/TestSimpleFunctions.java    |   2 +-
 18 files changed, 325 insertions(+), 127 deletions(-)

commit 136614fdc9bac95d48590cb39ec531da345b88fb
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Jun 19 18:36:27 2014 -0700

    DRILL-1015: Move compound identifier converter step into Sql parser.
    
    Currently compound identifiers are converted in DrillSqlWorker after
    parsing the query, but when views are expanded, we don't apply the
    conversion process as the view expander code is in Optiq. Fix is to
    move the conversion process to Sql parser it self, so that whenever
    a query string is parsed output SqlNode will have compound
    identifiers converted.

 .../drill/exec/planner/sql/DrillSqlWorker.java     |  8 ++--
 .../impl/DrillParserWithCompoundIdConverter.java   | 53 ++++++++++++++++++++++
 exec/jdbc/pom.xml                                  |  1 +
 .../java/org/apache/drill/jdbc/test/TestViews.java | 16 +++++++
 exec/jdbc/src/test/resources/nation/nation.tbl     | 25 ++++++++++
 5 files changed, 98 insertions(+), 5 deletions(-)

commit 2060506781a6b5f9c2dc5ce244ffb532fed556a8
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Jun 18 02:13:51 2014 -0700

    DRILL-1019: Handle multilpication overflow for decimal38 data type

 .../templates/Decimal/DecimalFunctions.java        | 63 +++++++++++++++++++---
 .../apache/drill/jdbc/test/TestFunctionsQuery.java | 17 +++++-
 2 files changed, 73 insertions(+), 7 deletions(-)

commit da618239d7f1347706e0e183ed0547e6e257762f
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Jun 18 22:16:36 2014 -0700

    DRILL-1016: Propagate negative sign while casting from decimal18 to decimal38

 .../main/codegen/templates/Decimal/CastSrcDecimalSimple.java  |  3 ++-
 .../java/org/apache/drill/jdbc/test/TestFunctionsQuery.java   | 11 +++++++++++
 2 files changed, 13 insertions(+), 1 deletion(-)

commit 43bb57e758495d6c3e47e29b27e1f97b9f81f268
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Wed Jun 18 07:11:54 2014 -0700

    DRILL-1044: Optimize boolean and/or operators by short-circuit and fast-success / fast-fail approach.

 .../drill/common/expression/parser/ExprParser.g    |   4 +-
 .../drill/common/expression/BooleanOperator.java   |  72 ++++++++++
 .../common/expression/ExpressionStringBuilder.java |   5 +
 .../common/expression/FunctionCallFactory.java     |  23 +++-
 .../expression/FunctionHolderExpression.java       |   6 +
 .../drill/common/expression/IfExpression.java      |  18 +++
 .../drill/common/expression/LogicalExpression.java |   3 +
 .../common/expression/LogicalExpressionBase.java   |  14 +-
 .../drill/common/expression/NullExpression.java    |   6 +
 .../drill/common/expression/ValueExpressions.java  | 145 ++++++++++++++++++++-
 .../expression/visitors/AbstractExprVisitor.java   |   6 +
 .../expression/visitors/AggregateChecker.java      |  11 ++
 .../visitors/ConditionalExprOptimizer.java         | 125 ++++++++++++++++++
 .../expression/visitors/ConstantChecker.java       |  10 ++
 .../common/expression/visitors/ExprVisitor.java    |   2 +
 .../expression/visitors/ExpressionValidator.java   |  20 +++
 .../java/org/apache/drill/common/types/Types.java  |   1 +
 .../src/main/codegen/templates/CastDateDate.java   |   3 +-
 .../main/codegen/templates/CastDateVarChar.java    |   4 +-
 .../codegen/templates/CastIntervalVarChar.java     |   8 +-
 .../main/codegen/templates/CastVarCharDate.java    |   4 +-
 .../codegen/templates/DateIntervalFunctions.java   |  25 ++--
 .../compile/sig/ConstantExpressionIdentifier.java  |   8 +-
 .../drill/exec/expr/DrillFuncHolderExpr.java       |  23 ++++
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  51 +++++---
 .../exec/expr/ExpressionTreeMaterializer.java      |  20 +++
 .../apache/drill/exec/expr/HiveFuncHolderExpr.java |   6 +
 .../exec/expr/HoldingContainerExpression.java      |  12 ++
 .../drill/exec/expr/ValueVectorReadExpression.java |  13 +-
 .../exec/expr/ValueVectorWriteExpression.java      |  10 ++
 .../exec/expr/annotations/FunctionTemplate.java    |  21 +++
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |  11 +-
 ...leanOPHolder.java => DrillBooleanOPHolder.java} |   7 +-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |   9 +-
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |  10 +-
 .../drill/exec/expr/fn/FunctionConverter.java      |   6 +-
 .../impl/filter/ReturnValueExpression.java         |   7 +
 .../drill/exec/planner/logical/DrillOptiq.java     |  18 ++-
 .../java/org/apache/drill/TestExampleQueries.java  |   5 -
 pom.xml                                            |   1 +
 40 files changed, 689 insertions(+), 64 deletions(-)

commit a314c824ba99edf0c29b004c121904847bab2c15
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Jun 4 22:24:12 2014 -0700

    DRILL-884: Always return a schema, even when there are no records

 .../apache/drill/exec/physical/impl/ScanBatch.java | 18 ++++++++--
 .../drill/exec/physical/impl/ScreenCreator.java    | 22 ++++++++----
 .../exec/physical/impl/SingleSenderCreator.java    |  6 ++--
 .../drill/exec/physical/impl/TopN/TopNBatch.java   | 11 +++++-
 .../drill/exec/physical/impl/WireRecordBatch.java  | 12 ++++++-
 .../exec/physical/impl/aggregate/HashAggBatch.java | 25 +++++++++++--
 .../physical/impl/aggregate/HashAggTemplate.java   |  2 +-
 .../physical/impl/aggregate/StreamingAggBatch.java | 27 ++++++++++----
 .../impl/aggregate/StreamingAggTemplate.java       |  9 +++--
 .../exec/physical/impl/join/HashJoinBatch.java     |  5 ++-
 .../exec/physical/impl/join/MergeJoinBatch.java    | 29 ++++++++-------
 .../impl/materialize/QueryWritableBatch.java       | 24 ++++++++++++-
 .../impl/mergereceiver/MergingRecordBatch.java     | 24 +++++++++++++
 .../partitionsender/PartitionSenderRootExec.java   |  5 ++-
 .../physical/impl/project/ProjectRecordBatch.java  |  1 +
 .../physical/impl/sort/SortRecordBatchBuilder.java | 10 +++---
 .../validate/IteratorValidatorBatchIterator.java   |  6 +++-
 .../physical/impl/xsort/ExternalSortBatch.java     | 40 +++++++++++++++------
 .../impl/xsort/SingleBatchSorterTemplate.java      |  4 ++-
 .../exec/record/AbstractSingleRecordBatch.java     | 11 ++++--
 .../org/apache/drill/exec/record/BatchSchema.java  |  9 +++++
 .../drill/exec/record/FragmentWritableBatch.java   | 16 +++++++++
 .../drill/exec/record/RecordBatchLoader.java       |  4 ++-
 .../apache/drill/exec/record/SchemaBuilder.java    |  8 +++++
 .../java/org/apache/drill/TestExampleQueries.java  |  8 ++++-
 .../src/test/resources/mergerecv/empty_batch.json  |  2 +-
 .../java/org/apache/drill/jdbc/DrillCursor.java    | 17 ++++++---
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  | 42 +++++++++++++++++-----
 .../test/resources/bootstrap-storage-plugins.json  |  3 ++
 29 files changed, 322 insertions(+), 78 deletions(-)

commit a3bf05d3e1750187406b19f471570d93f9adde50
Author: Xiao Meng <xiaom.cs@gmail.com>
Date:   Sat May 31 17:40:10 2014 -0700

    DRILL-898: C++ Client. Fix decimal data type.

 .../native/client/src/clientlib/decimalUtils.cpp   |  2 +-
 .../native/client/src/clientlib/recordBatch.cpp    | 12 +++++++++
 contrib/native/client/src/include/drill/drillc.hpp |  4 +--
 .../client/src/include/drill/recordBatch.hpp       | 30 +++++++++++++++++-----
 4 files changed, 38 insertions(+), 10 deletions(-)

commit 632f5ca9cb8f096c1f70265ecd37d97aed17089e
Author: Xiao Meng <xiaom.cs@gmail.com>
Date:   Fri May 30 13:12:46 2014 -0700

    DRILL-870: C++ Client. Support negative interval types.

 .../native/client/src/clientlib/recordBatch.cpp    | 60 +++++++++++++++-------
 .../client/src/include/drill/recordBatch.hpp       | 26 +++++-----
 2 files changed, 55 insertions(+), 31 deletions(-)

commit b90956e3afc96df3968d2e7882b449c506ea0924
Author: Xiao Meng <xiaom.cs@gmail.com>
Date:   Fri May 30 11:31:44 2014 -0700

    DRILL-748: C++ Client. Support timestamp/date before unix time and handle y2028 problem.

 LICENSE                                            |  26 +
 contrib/native/client/CMakeLists.txt               |   9 +-
 contrib/native/client/src/clientlib/CMakeLists.txt |   2 +-
 .../native/client/src/clientlib/recordBatch.cpp    |  80 +-
 .../client/src/clientlib/y2038/CMakeLists.txt      |  40 +
 contrib/native/client/src/clientlib/y2038/time64.c | 830 +++++++++++++++++++++
 contrib/native/client/src/clientlib/y2038/time64.h | 110 +++
 .../client/src/clientlib/y2038/time64_config.h     | 107 +++
 .../client/src/clientlib/y2038/time64_limits.h     | 124 +++
 contrib/native/client/src/include/drill/drillc.hpp |   2 +-
 .../client/src/include/drill/recordBatch.hpp       |  23 +-
 11 files changed, 1318 insertions(+), 35 deletions(-)

commit aaa4db74b215e03ad0e1334cfc18964972d93a3b
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Fri May 30 11:17:40 2014 -0700

    DRILL-875: Fixes for DRILL-707, DRILL-780, DRILL-835 (Schema change), DRILL-852, DRILL-876, DRILL_877, DRILL-878, DRILL-890

 contrib/native/client/CMakeLists.txt               |   25 +-
 contrib/native/client/example/querySubmitter.cpp   |   75 +-
 contrib/native/client/readme.linux                 |   96 +
 .../parquet_scan_union_screen_physical.json        |    2 +-
 contrib/native/client/resources/simple_plan.json   |   12 +-
 contrib/native/client/scripts/fixProtodefs.sh      |    2 +-
 contrib/native/client/src/clientlib/CMakeLists.txt |   15 +-
 .../native/client/src/clientlib/decimalUtils.cpp   |    2 +-
 .../native/client/src/clientlib/drillClient.cpp    |  126 +-
 .../client/src/clientlib/drillClientImpl.cpp       |  539 ++--
 .../client/src/clientlib/drillClientImpl.hpp       |  163 +-
 contrib/native/client/src/clientlib/errmsgs.cpp    |    6 +-
 contrib/native/client/src/clientlib/errmsgs.hpp    |   44 +-
 contrib/native/client/src/clientlib/logger.cpp     |   69 +
 contrib/native/client/src/clientlib/logger.hpp     |   72 +
 .../native/client/src/clientlib/recordBatch.cpp    |  109 +-
 contrib/native/client/src/clientlib/rpcDecoder.cpp |    2 +
 contrib/native/client/src/clientlib/rpcEncoder.cpp |    3 +
 contrib/native/client/src/clientlib/utils.hpp      |   47 +
 contrib/native/client/src/include/drill/common.hpp |   25 +-
 .../client/src/include/drill/drillClient.hpp       |   73 +-
 .../client/src/include/drill/protobuf/User.pb.h    |   40 +-
 .../client/src/include/drill/recordBatch.hpp       |  100 +-
 .../native/client/src/protobuf/BitControl.pb.cc    |  458 +--
 contrib/native/client/src/protobuf/BitControl.pb.h |  370 +--
 contrib/native/client/src/protobuf/CMakeLists.txt  |   56 +-
 contrib/native/client/src/protobuf/User.pb.cc      |   80 +-
 .../native/client/src/protobuf/UserBitShared.pb.cc | 2618 ++++++++++++++++-
 .../native/client/src/protobuf/UserBitShared.pb.h  | 2969 ++++++++++++++++----
 29 files changed, 6260 insertions(+), 1938 deletions(-)

commit ff39fb8383e038aadbf4810a6b4ad5f22d25a181
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Jun 17 22:41:14 2014 -0700

    DRILL-1022: Increase default min hash table size and allow setting min/max size for hash table.

 .../main/java/org/apache/drill/exec/ExecConstants.java  |  9 +++++++++
 .../drill/exec/physical/config/HashAggregate.java       | 17 -----------------
 .../exec/physical/impl/aggregate/HashAggBatch.java      | 10 +++++++++-
 .../exec/physical/impl/aggregate/HashAggTemplate.java   |  5 +++--
 .../exec/physical/impl/aggregate/HashAggregator.java    |  3 ++-
 .../drill/exec/physical/impl/common/HashTable.java      |  2 +-
 .../drill/exec/physical/impl/join/HashJoinBatch.java    |  5 ++++-
 .../drill/exec/server/options/SystemOptionManager.java  |  5 +++--
 .../drill/exec/physical/impl/join/TestHashJoin.java     | 13 +++++++++++--
 9 files changed, 42 insertions(+), 27 deletions(-)

commit 4243f54d16a5595f0a09f6f01a9c9426651d95b2
Author: Patrick Wong <pwong@maprtech.com>
Date:   Wed Jun 18 21:57:35 2014 +0000

    DRILL-953: Handle the case in which /var/log/drill does not exist

 distribution/src/resources/drill-config.sh | 6 ++++++
 1 file changed, 6 insertions(+)

commit 7d436697c0d27b0fb6863b8a37efe1e1952ffc28
Author: Patrick Wong <pwong@maprtech.com>
Date:   Wed Jun 18 00:22:51 2014 +0000

    DRILL-1008: Update the way that Windows sqlline.bat composes its classpath

 distribution/src/resources/sqlline.bat | 23 +++++++++++++----------
 1 file changed, 13 insertions(+), 10 deletions(-)

commit a88ebb27d405305f41a72efe2fbee7305dc25ba8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jun 17 16:02:54 2014 -0700

    DRILL-1023: Fix issue where joins are over estimated causing excess parallelization.  Use correct interfaces for retrieving row counts.

 .../drill/exec/planner/common/DrillJoinRelBase.java   |  9 +++++++--
 .../drill/exec/planner/physical/AggPruleBase.java     |  2 +-
 .../exec/planner/physical/PhysicalPlanCreator.java    |  2 +-
 .../drill/exec/planner/physical/PlannerSettings.java  |  6 ++++++
 .../physical/visitor/ExcessiveExchangeIdentifier.java |  3 +--
 .../exec/server/options/SystemOptionManager.java      |  1 +
 .../drill/exec/server/options/TypeValidators.java     | 19 +++++++++++++++++++
 7 files changed, 36 insertions(+), 6 deletions(-)

commit 0dec032fb922b8eaae975d33adeb06e2407797ed
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Jun 17 19:06:48 2014 -0700

    DRILL-1007: Unify handling of negative values in Decimal28 and Decimal38 data type

 .../codegen/templates/ConvertToNullableHolder.java |  2 +-
 .../Decimal/CastDecimalDenseDecimalSparse.java     |  2 +-
 .../codegen/templates/Decimal/CastDecimalInt.java  |  2 +-
 .../templates/Decimal/CastDecimalSimilar.java      |  3 +-
 .../Decimal/CastDecimalSparseDecimalDense.java     |  3 +-
 .../templates/Decimal/CastDecimalVarchar.java      |  2 +-
 .../templates/Decimal/CastFloatDecimal.java        |  8 +-
 .../codegen/templates/Decimal/CastIntDecimal.java  |  2 +-
 .../templates/Decimal/CastSrcDecimalSimple.java    |  4 +-
 .../templates/Decimal/CastVarCharDecimal.java      |  4 +-
 .../templates/Decimal/DecimalFunctions.java        | 69 +++++++++-------
 .../templates/DecimalAggrTypeFunctions1.java       | 30 +++----
 .../main/codegen/templates/FixedValueVectors.java  | 42 ----------
 .../templates/ParquetOutputRecordWriter.java       |  2 +-
 .../src/main/codegen/templates/ValueHolders.java   | 13 +++-
 .../drill/exec/vector/ValueHolderHelper.java       |  4 +-
 .../drill/exec/physical/impl/TestDecimal.java      | 91 ----------------------
 17 files changed, 87 insertions(+), 196 deletions(-)

commit 199f46741fe26e87ac840c6b3ae5398f5f5fae79
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Jun 18 01:57:04 2014 -0700

    DRILL-1009: Remove 'HBasePStoreProvider' from HBase storage module's drill-module.conf

 contrib/storage-hbase/src/main/resources/drill-module.conf           | 5 +++--
 .../main/java/org/apache/drill/exec/store/sys/PStoreRegistry.java    | 1 +
 2 files changed, 4 insertions(+), 2 deletions(-)

commit c7712f8053a7bcf5028028db68a4a5580c442a00
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Jun 17 03:14:04 2014 -0700

    DRILL-1020: Fix bug in dynamic allocation

 .../main/codegen/templates/FixedValueVectors.java  | 45 +++++++++------
 .../codegen/templates/NullableValueVectors.java    |  4 +-
 .../codegen/templates/VariableLengthVectors.java   | 38 +++++++-----
 .../org/apache/drill/exec/vector/BitVector.java    | 45 +++++++++++----
 .../drill/exec/vector/TestAdaptiveAllocation.java  | 67 +++++++++++++++++-----
 5 files changed, 144 insertions(+), 55 deletions(-)

commit c373a278f637235e989787517416f141d42b2d29
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Jun 17 13:12:05 2014 -0700

    DRILL-1006 : Fix case expression when conditions are expression of nullable types.

 .../drill/common/expression/visitors/ExpressionValidator.java  |  6 +++---
 .../java/org/apache/drill/exec/expr/EvaluationVisitor.java     | 10 +++++-----
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 42057800b1f2a4f1bdf771760c9c33a822fc435b
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Jun 17 16:31:32 2014 -0700

    DRILL-772 :  Change comparison operator to use NULL_IF_NULL policy, when inputs are nullable type.

 .../codegen/templates/ComparisonFunctions.java     | 109 +++------------------
 1 file changed, 15 insertions(+), 94 deletions(-)

commit 27d3e7145a7b1a43015fd4cb745e425443411b8c
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Jun 17 15:02:32 2014 -0700

    DRILL-993: Remove redundant comparison in comparison operator generated by FreeMarker template.

 .../codegen/templates/ComparisonFunctions.java     | 56 +++++++++++--
 .../codegen/templates/DateIntervalFunctions.java   | 91 ++++++++++------------
 2 files changed, 94 insertions(+), 53 deletions(-)

commit 894037ab693dea425e88fb3ec3aff73ea5b15eb1
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jun 17 19:41:15 2014 -0700

    Improve OperatorStats to avoid leaking state.  Fix issue where HashJoinBatch throws NPE in stats tracking if we don't have HashTable.

 .../java/org/apache/drill/exec/ops/OperatorStats.java     | 15 +++++++++------
 .../drill/exec/physical/impl/WriterRecordBatch.java       |  3 ++-
 .../drill/exec/physical/impl/aggregate/HashAggBatch.java  |  4 ++--
 .../exec/physical/impl/aggregate/StreamingAggBatch.java   |  3 ++-
 .../drill/exec/physical/impl/join/HashJoinBatch.java      | 13 +++++++------
 .../drill/exec/physical/impl/join/MergeJoinBatch.java     |  4 ++--
 .../org/apache/drill/exec/record/AbstractRecordBatch.java | 10 +++++++---
 7 files changed, 31 insertions(+), 21 deletions(-)

commit 28992889090c000104bd549230f8a7fe4ee0558c
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sat Jun 14 23:40:57 2014 -0700

    Enhancements to capture HashAggregate and HashJoin runtime metrics.

 .../exec/physical/impl/aggregate/HashAggBatch.java |  3 +-
 .../physical/impl/aggregate/HashAggTemplate.java   | 21 ++++++++++++--
 .../physical/impl/aggregate/HashAggregator.java    |  4 ++-
 .../drill/exec/physical/impl/common/HashTable.java |  2 ++
 .../physical/impl/common/HashTableMetrics.java     | 33 ++++++++++++++++++++++
 .../exec/physical/impl/common/HashTableStats.java  | 30 ++++++++++++++++++++
 .../physical/impl/common/HashTableTemplate.java    | 15 ++++++++++
 .../exec/physical/impl/join/HashJoinBatch.java     | 16 ++++++++++-
 .../java/org/apache/drill/TestExampleQueries.java  |  2 +-
 9 files changed, 120 insertions(+), 6 deletions(-)

commit e170cf0b302e8f6b625e0f96a66d70da680c594e
Author: Yash Sharma <yash.sharma@snapdeal.com>
Date:   Tue Jun 17 16:25:01 2014 -0700

    DRILL-842: Aggregate function for correlation coefficient calculation

 exec/java-exec/src/main/codegen/config.fmpp        |   6 +-
 .../src/main/codegen/data/CorrelationTypes.tdd     |  43 ++++++
 .../java-exec/src/main/codegen/data/CovarTypes.tdd |  66 +++++++++
 .../templates/CorrelationTypeFunctions.java        | 156 +++++++++++++++++++++
 .../main/codegen/templates/CovarTypeFunctions.java | 149 ++++++++++++++++++++
 .../drill/exec/fn/impl/TestAggregateFunction.java  |  39 ++++--
 .../src/test/resources/covariance_input.json       |   8 ++
 .../test/resources/functions/test_covariance.json  |  85 +++++++++++
 8 files changed, 534 insertions(+), 18 deletions(-)

commit 7fe8a15b1e638dcad5787360d5b9b955d4dd2f8c
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Jun 16 16:52:28 2014 -0700

    DRILL-699: Allow case insensitive function names in queries.

 .../apache/drill/exec/expr/ExpressionTreeMaterializer.java  |  6 +++---
 .../exec/expr/fn/DrillFunctionImplementationRegistry.java   |  8 +++++++-
 .../apache/drill/exec/expr/fn/FunctionGenerationHelper.java |  2 +-
 .../exec/expr/fn/HiveFunctionImplementationRegistry.java    | 13 +++++--------
 .../apache/drill/exec/planner/sql/DrillOperatorTable.java   |  2 +-
 .../drill/exec/physical/impl/TestSimpleFunctions.java       |  2 +-
 .../java/org/apache/drill/jdbc/test/TestFunctionsQuery.java | 11 +++++++++++
 7 files changed, 29 insertions(+), 15 deletions(-)

commit 5bd7f5ff2f12958fd51cbf1cb932f3bf71af43da
Author: Cliff Buchanan <cbuchanan@maprtech.com>
Date:   Tue Jun 17 09:17:03 2014 -0700

    DRILL-1001: Expanded ProfileWrapper content and formatting.

 .../drill/exec/server/rest/ProfileWrapper.java     | 402 ++++++++++++++-------
 .../src/main/resources/rest/profile/profile.ftl    |   2 +-
 2 files changed, 279 insertions(+), 125 deletions(-)

commit d7a75ddaf9e2f2e998b071fc1f3fad1b3579f01c
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jun 17 09:28:09 2014 -0700

    Improve error messaging for OperatorStats assertion messages.

 .../main/java/org/apache/drill/exec/ops/OperatorStats.java   | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit e2f57b46b97b1831c21dbfa07fd831abedf2020e
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon Jun 16 14:42:02 2014 -0700

    DRILL-995: Removed inner form (which is not allowed). Fixed NPE and URLs.

 .../drill/exec/server/rest/StorageResources.java   | 27 +++++++++++-----------
 .../src/main/resources/rest/storage/list.ftl       |  6 ++---
 .../src/main/resources/rest/storage/update.ftl     | 13 ++++-------
 3 files changed, 20 insertions(+), 26 deletions(-)

commit 219e4fa3f2ec5346ab2480cd5fece220638e80b4
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Jun 17 02:11:55 2014 -0700

    DRILL-976: Fix extract second to return only second portion of interval; exclude hours, minutes

 .../templates/DateIntervalFunctionTemplates/Extract.java       |  6 ++++--
 .../java/org/apache/drill/jdbc/test/TestFunctionsQuery.java    | 10 ++++++++++
 2 files changed, 14 insertions(+), 2 deletions(-)

commit 5e357fd5177222b7582688bd0e7a04ed32bb782f
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Jun 17 01:31:18 2014 -0700

    Add alias names date_diff, date_sub alias to date subtraction functions

 .../DateIntervalFunctionTemplates/DateDateArithmeticFunctions.java    | 2 +-
 .../DateIntervalArithmeticFunctions.java                              | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 1465e11ca58fc139ae2f444b236c2db514276687
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jun 12 18:09:57 2014 -0700

    DRILL-793: Fix output type's scale and precision for math functions.

 .../util/DecimalScalePrecisionDivideFunction.java  | 65 +++++++++++++++
 .../util/DecimalScalePrecisionMulFunction.java     | 52 ++++++++++++
 .../apache/drill/common/util/DecimalUtility.java   | 38 +++++++++
 .../templates/Decimal/DecimalFunctions.java        | 97 +++++++++++++++++-----
 .../expr/fn/DrillDecimalDivScaleFuncHolder.java    | 28 +++++--
 .../expr/fn/DrillDecimalSumScaleFuncHolder.java    | 25 ++++--
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  2 +-
 .../apache/drill/exec/resolver/TypeCastRules.java  | 15 ++--
 .../drill/exec/physical/impl/TestDecimal.java      |  5 +-
 .../resources/decimal/test_decimal_complex.json    |  8 +-
 .../apache/drill/jdbc/test/TestFunctionsQuery.java | 15 ++++
 11 files changed, 299 insertions(+), 51 deletions(-)

commit 5079f8b868841f4f632f5d4ef869defc02bb9c31
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Jun 17 00:43:02 2014 -0700

    Commit dd2ae0ae got lost during merge, reintroducing the race condition.

 .../src/main/java/org/apache/drill/exec/work/foreman/Foreman.java   | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 2e07b0b8ab4fe7fdb1ad51ee47ab10aeec94b7f9
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Jun 16 15:01:11 2014 -0700

    DRILL-836: [addendum] Drill needs to return complex types (e.g., map and array) as a JSON string
    
    * This contains additional changes to the original patch which was merged.
    + Renamed "flatten" to "complex-to-json"
    + With the new patch, we return VARCHAR instead of VARBINARY.
    + Added test case.
    + Minor code re-factoring.

 .gitignore                                         |   1 +
 .../apache/drill/common/util/DrillStringUtils.java | 176 +++++++++++++++++++++
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |  28 +++-
 .../apache/drill/hbase/HBaseRecordReaderTest.java  |   6 +-
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |   6 +-
 .../drill/hbase/TestHBaseCFAsJSONString.java       |  54 +++++++
 .../drill/hbase/TestHBaseFilterPushDown.java       |  12 +-
 .../drill/hbase/TestHBaseProjectPushDown.java      |   8 +-
 .../test/resources/bootstrap-storage-plugins.json  |   1 +
 .../src/main/codegen/includes/vv_imports.ftl       |   1 +
 .../src/main/codegen/templates/SqlAccessors.java   |   2 +-
 .../org/apache/drill/exec/client/DrillClient.java  |  16 +-
 .../exec/expr/fn/impl/StringFunctionUtil.java      |  71 ---------
 .../drill/exec/expr/fn/impl/StringFunctions.java   |   2 +-
 .../config/{Flatten.java => ComplexToJson.java}    |  12 +-
 ...Creator.java => ComplexToJsonBatchCreator.java} |   8 +-
 .../physical/impl/project/ProjectBatchCreator.java |   3 +-
 .../physical/impl/project/ProjectRecordBatch.java  |  62 +++++---
 .../exec/planner/fragment/SimpleParallelizer.java  |   6 +-
 .../{FlattenPrel.java => ComplexToJsonPrel.java}   |  16 +-
 ...lVisitor.java => ComplexToJsonPrelVisitor.java} |  10 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |   6 +-
 .../org/apache/drill/exec/rpc/BasicClient.java     |   4 +-
 .../org/apache/drill/exec/rpc/RpcException.java    |   4 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |  20 ++-
 .../org/apache/drill/exec/rpc/user/UserServer.java |   8 +-
 .../apache/drill/exec/rpc/user/UserSession.java    |  65 +++++---
 .../org/apache/drill/exec/util/ConvertUtil.java    |   7 +-
 .../org/apache/drill/exec/util/VectorUtil.java     |  21 ++-
 .../test/java/org/apache/drill/PlanningBase.java   |   5 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   2 +-
 exec/jdbc/pom.xml                                  |   1 +
 .../org/apache/drill/exec/proto/UserBitShared.java |  18 +--
 .../drill/exec/proto/beans/CoreOperatorType.java   |   4 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   2 +-
 35 files changed, 462 insertions(+), 206 deletions(-)

commit 4d17aeab866a50bfe3a5d43b3fc874ae2ca84c8a
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Jun 16 23:18:02 2014 -0700

    DRILL-1002: Fix TestSqlBracketlessSyntax.checkComplexExpressionParsing() on Windows

 .../java/org/apache/drill/test/DrillAssert.java    | 60 ++++++++++++++++++++++
 .../drill/exec/sql/TestSqlBracketlessSyntax.java   |  4 +-
 .../java/org/apache/drill/jdbc/test/TestViews.java | 10 ++--
 3 files changed, 67 insertions(+), 7 deletions(-)

commit f86639c31a61592eb320f7ebc833c84eff199c43
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Jun 16 09:45:51 2014 -0700

    Merge fixes.

 .../apache/drill/common/logical/data/Flatten.java  | 24 ++++++-------
 .../apache/drill/exec/cache/infinispan/ICache.java |  6 +++-
 .../apache/drill/exec/cache/local/LocalCache.java  |  8 +++--
 .../apache/drill/exec/physical/config/Flatten.java | 12 -------
 .../drill/exec/physical/impl/WireRecordBatch.java  |  3 +-
 .../partitionsender/PartitionSenderRootExec.java   |  1 -
 .../drill/exec/planner/fragment/PlanningSet.java   | 41 ++++++++++++++--------
 .../drill/exec/planner/physical/FlattenPrel.java   |  3 +-
 .../exec/planner/sql/parser/SqlCreateTable.java    |  5 +--
 .../exec/planner/sql/parser/SqlCreateView.java     |  7 ++--
 .../exec/planner/sql/parser/SqlDescribeTable.java  |  4 ++-
 .../drill/exec/planner/sql/parser/SqlDropView.java |  3 ++
 .../exec/planner/sql/parser/SqlShowFiles.java      |  5 +--
 .../exec/planner/sql/parser/SqlShowSchemas.java    |  2 ++
 .../exec/planner/sql/parser/SqlShowTables.java     |  2 ++
 .../drill/exec/store/hive/HiveFieldConverter.java  |  5 +--
 .../apache/drill/exec/work/foreman/Foreman.java    | 10 +++---
 .../drill/exec/cache/TestCacheSerialization.java   | 10 +++---
 .../drill/exec/physical/impl/SimpleRootExec.java   |  5 +--
 .../exec/physical/impl/TestCastFunctions.java      | 14 ++++++++
 20 files changed, 102 insertions(+), 68 deletions(-)

commit 38dde9e9d780aa3dba6faa1c44d6669e7f4bb202
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Sun Jun 15 14:28:12 2014 -0700

    DRILL-937: Optimize boolean and/or operator with short circuit  evaluation in run-time generated code.

 .../org/apache/drill/exec/expr/ClassGenerator.java |  16 +++
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 136 +++++++++++++++++++++
 .../exec/expr/annotations/FunctionTemplate.java    |   3 +-
 .../drill/exec/expr/fn/DrillSCBooleanOPHolder.java |  35 ++++++
 .../drill/exec/expr/fn/FunctionConverter.java      |   6 +
 .../drill/exec/expr/fn/impl/BitFunctions.java      |   4 +-
 6 files changed, 197 insertions(+), 3 deletions(-)

commit 1568fc63e4fa2e6c12cc38012334357fc0439da2
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Jun 9 02:35:09 2014 -0700

    Switch Infinispan to SYNC mode and add cache future handling.

 .../apache/drill/exec/cache/DistributedMap.java    |  9 ++--
 .../drill/exec/cache/DistributedMultiMap.java      |  4 +-
 .../apache/drill/exec/cache/infinispan/ICache.java | 62 +++++++++++++++++-----
 .../apache/drill/exec/cache/local/LocalCache.java  | 53 +++++++++++++++---
 .../apache/drill/exec/work/foreman/Foreman.java    | 24 +++++++--
 5 files changed, 123 insertions(+), 29 deletions(-)

commit 6b9a1c53ea60ac1896fa6224ddacde73bb830dfd
Author: Yash Sharma <yash.sharma@snapdeal.com>
Date:   Sun May 18 12:45:21 2014 +0530

    DRILL-247: Math Functions List of math functions : rand,cbrt, exp, log(a), log(a,base), pi, degrees, radians Code formatting Review Comments: Removed rand function, Moved pi away from codegen Implemented Decimal9 & Decimal18 support for math functions Drill:247: Code Cleanup

 exec/java-exec/src/main/codegen/data/MathFunc.tdd  | 109 +++++++++++++++++++-
 .../src/main/codegen/templates/MathFunctions.java  | 110 +++++++++++++++++++++
 .../drill/exec/expr/fn/impl/MathFunctions.java     |  14 +++
 .../drill/exec/fn/impl/TestNewMathFunctions.java   |  13 +++
 .../functions/testExtendedMathFunctions.json       |  44 +++++++++
 5 files changed, 285 insertions(+), 5 deletions(-)

commit c022b403e8fef15797f0ad6b9290a304f6de0c5c
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Sat Jun 14 22:30:16 2014 -0500

    DRILL-958: Fix Parquet bug with fixed width nullable column.

 .../apache/drill/exec/store/parquet/NullableColumnReader.java |  3 ++-
 .../drill/exec/store/parquet/ParquetRecordReaderTest.java     | 11 +++++++++++
 2 files changed, 13 insertions(+), 1 deletion(-)

commit 9e7b14a559e9361e7b6a43cd625571c0c3a72b2e
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jun 12 18:09:57 2014 -0700

    DRILL-978: Consider output type when we cost matching FunctionCall to FunctionHolder

 .../java/org/apache/drill/exec/expr/fn/DrillFuncHolder.java    |  8 ++++++++
 .../java/org/apache/drill/exec/resolver/TypeCastRules.java     | 10 ++++++++++
 2 files changed, 18 insertions(+)

commit c8db3462d7403094f2ab1578d9bc5e4bec8a55d1
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Jun 16 08:46:03 2014 -0700

    Update ControlConnection so that we don't block on backup.  Control messages should be allowed in band.

 .../java/org/apache/drill/exec/rpc/control/ControlConnection.java | 5 +++++
 .../java/org/apache/drill/exec/rpc/control/ControlTunnel.java     | 8 ++++----
 2 files changed, 9 insertions(+), 4 deletions(-)

commit 6f54ab01a87f1bcf07ac502ea57b874fe3ddd9ac
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Jun 13 09:34:07 2014 -0700

    DRILL-933: Remove old physical operator cost & size concepts, add automatic size-based parallelization

 .../drill/exec/store/hbase/HBaseGroupScan.java     |  19 +---
 .../drill/exec/store/hbase/HBaseSubScan.java       |  12 ---
 .../java/org/apache/drill/exec/ExecConstants.java  |  60 +++++++++--
 .../apache/drill/exec/physical/OperatorCost.java   |  74 --------------
 .../apache/drill/exec/physical/RecordField.java    |  60 -----------
 .../drill/exec/physical/base/AbstractBase.java     |   9 ++
 .../drill/exec/physical/base/AbstractExchange.java |  25 -----
 .../exec/physical/base/AbstractGroupScan.java      |   8 --
 .../drill/exec/physical/base/AbstractMultiple.java |  17 +---
 .../drill/exec/physical/base/AbstractReceiver.java |   9 +-
 .../drill/exec/physical/base/AbstractSender.java   |  15 +--
 .../drill/exec/physical/base/AbstractSingle.java   |  19 ++--
 .../drill/exec/physical/base/AbstractSubScan.java  |  13 +--
 .../apache/drill/exec/physical/base/Exchange.java  |  26 ++---
 .../drill/exec/physical/base/ExchangeCost.java     |  68 -------------
 .../apache/drill/exec/physical/base/GroupScan.java |  31 +-----
 .../drill/exec/physical/base/PhysicalOperator.java |  22 ++--
 .../apache/drill/exec/physical/base/ScanStats.java |  82 +++++++++++++++
 .../org/apache/drill/exec/physical/base/Size.java  |  48 ---------
 .../exec/physical/config/BroadcastSender.java      |  18 +---
 .../drill/exec/physical/config/ExternalSort.java   |  27 +----
 .../apache/drill/exec/physical/config/Filter.java  |  12 ---
 .../drill/exec/physical/config/HashAggregate.java  |  30 ------
 .../drill/exec/physical/config/HashJoinPOP.java    |  26 +----
 .../exec/physical/config/IteratorValidator.java    |   7 --
 .../apache/drill/exec/physical/config/Limit.java   |  15 +--
 .../drill/exec/physical/config/MergeJoinPOP.java   |  15 +--
 .../exec/physical/config/MergingReceiverPOP.java   |  14 ---
 .../physical/config/OrderedPartitionSender.java    |  15 +--
 .../apache/drill/exec/physical/config/Project.java |  13 ---
 .../drill/exec/physical/config/RandomReceiver.java |  18 ----
 .../apache/drill/exec/physical/config/Screen.java  |   9 --
 .../physical/config/SelectionVectorRemover.java    |  12 ---
 .../drill/exec/physical/config/SingleSender.java   |   8 --
 .../apache/drill/exec/physical/config/Sort.java    |  19 ----
 .../exec/physical/config/StreamingAggregate.java   |  13 ---
 .../apache/drill/exec/physical/config/TopN.java    |  28 +-----
 .../apache/drill/exec/physical/config/Trace.java   |  17 ----
 .../drill/exec/physical/config/UnionAll.java       |  11 --
 .../drill/exec/physical/config/UnionExchange.java  |   7 +-
 .../org/apache/drill/exec/planner/ExecPlanner.java |  34 -------
 .../drill/exec/planner/SimpleExecPlanner.java      |  59 -----------
 .../planner/fragment/MaterializedFragment.java     |  69 -------------
 .../exec/planner/fragment/SimpleParallelizer.java  |  70 +++++--------
 .../apache/drill/exec/planner/fragment/Stats.java  |  43 ++------
 .../exec/planner/fragment/StatsCollector.java      |   6 +-
 .../drill/exec/planner/logical/DrillScanRel.java   |  12 +--
 .../drill/exec/planner/physical/AggPruleBase.java  |   6 +-
 .../planner/physical/BroadcastExchangePrel.java    |   4 +-
 .../planner/physical/ConvertCountToDirectScan.java |   4 +-
 .../drill/exec/planner/physical/FilterPrel.java    |   3 +-
 .../drill/exec/planner/physical/HashAggPrel.java   |   4 +-
 .../drill/exec/planner/physical/HashJoinPrel.java  |   4 +-
 .../planner/physical/HashToMergeExchangePrel.java  |   4 +-
 .../planner/physical/HashToRandomExchangePrel.java |   4 +-
 .../drill/exec/planner/physical/LimitPrel.java     |   4 +-
 .../drill/exec/planner/physical/MergeJoinPrel.java |   4 +-
 .../exec/planner/physical/PhysicalPlanCreator.java |  12 ++-
 .../exec/planner/physical/PlannerSettings.java     |   5 +
 .../apache/drill/exec/planner/physical/Prel.java   |   1 -
 .../drill/exec/planner/physical/ProjectPrel.java   |   4 +-
 .../drill/exec/planner/physical/ScanPrel.java      |  24 ++---
 .../drill/exec/planner/physical/ScreenPrel.java    |   4 +-
 .../physical/SelectionVectorRemoverPrel.java       |   4 +-
 .../planner/physical/SingleMergeExchangePrel.java  |   4 +-
 .../drill/exec/planner/physical/SortPrel.java      |   4 +-
 .../drill/exec/planner/physical/StreamAggPrel.java |   3 +-
 .../drill/exec/planner/physical/TopNPrel.java      |   4 +-
 .../drill/exec/planner/physical/UnionAllPrel.java  |   6 +-
 .../exec/planner/physical/UnionDistinctPrel.java   |   6 +-
 .../exec/planner/physical/UnionExchangePrel.java   |   3 +-
 .../drill/exec/planner/physical/WriterPrel.java    |   4 +-
 .../planner/physical/visitor/BasePrelVisitor.java  |   7 ++
 .../visitor/ExcessiveExchangeIdentifier.java       | 112 +++++++++++++++++++++
 .../exec/planner/physical/visitor/PrelVisitor.java |   3 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  22 +++-
 .../drill/exec/rpc/control/WorkEventBus.java       |   4 +-
 .../exec/server/options/SystemOptionManager.java   |  16 ++-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  22 ++--
 .../drill/exec/store/dfs/easy/EasyWriter.java      |   9 +-
 .../drill/exec/store/direct/DirectGroupScan.java   |  14 +--
 .../drill/exec/store/hive/HiveReadEntry.java       |   3 +-
 .../org/apache/drill/exec/store/hive/HiveScan.java |  25 +++--
 .../apache/drill/exec/store/hive/HiveSubScan.java  |  13 ---
 .../exec/store/ischema/InfoSchemaGroupScan.java    |  19 +---
 .../drill/exec/store/mock/MockGroupScanPOP.java    |  40 ++------
 .../apache/drill/exec/store/mock/MockStorePOP.java |   7 --
 .../drill/exec/store/mock/MockSubScanPOP.java      |  12 ---
 .../drill/exec/store/parquet/ParquetGroupScan.java |  32 +-----
 .../exec/store/parquet/ParquetRowGroupScan.java    |  13 ---
 .../drill/exec/store/parquet/ParquetWriter.java    |   7 --
 .../drill/exec/store/sys/SystemTableScan.java      |  14 +--
 .../apache/drill/exec/work/foreman/Foreman.java    |  59 +++++++++--
 .../test/java/org/apache/drill/BaseTestQuery.java  |   7 ++
 .../java/org/apache/drill/TestTpchDistributed.java |   2 +-
 .../apache/drill/exec/pop/TestFragmentChecker.java |   3 +-
 96 files changed, 570 insertions(+), 1268 deletions(-)

commit e9ab7aa6f303fccce22cfb83c44ce3edae526768
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jun 10 20:24:56 2014 -0700

    DRILL-932: Add support for bracketless complex expressions in SQL queries.

 .../drill/common/expression/FieldReference.java    |  16 ++-
 .../drill/hbase/TestHBaseFilterPushDown.java       |   4 +-
 .../drill/hbase/TestHBaseProjectPushDown.java      |   8 +-
 exec/java-exec/src/main/codegen/data/Parser.tdd    |   4 +
 .../main/codegen/includes/compoundIdentifier.ftl   |  45 ++++++
 .../exec/planner/common/DrillProjectRelBase.java   |   8 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |   2 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   4 +-
 .../sql/parser/CompoundIdentifierConverter.java    | 154 +++++++++++++++++++++
 .../sql/parser/DrillCompoundIdentifier.java        | 144 +++++++++++++++++++
 .../exec/planner/sql/parser/SqlCreateTable.java    |  16 ++-
 .../exec/planner/sql/parser/SqlCreateView.java     |  25 +++-
 .../exec/planner/sql/parser/SqlDescribeTable.java  |  12 +-
 .../drill/exec/planner/sql/parser/SqlDropView.java |   8 +-
 .../exec/planner/sql/parser/SqlShowFiles.java      |  10 +-
 .../exec/planner/sql/parser/SqlShowSchemas.java    |  10 +-
 .../exec/planner/sql/parser/SqlShowTables.java     |  12 +-
 .../exec/planner/sql/parser/SqlUseSchema.java      |  14 +-
 .../drill/exec/sql/TestSqlBracketlessSyntax.java   |  68 +++++++++
 .../org/apache/drill/exec/sql/TestWithClause.java  |  42 ++++++
 .../complex/writer/TestComplexTypeReader.java      |  36 ++---
 21 files changed, 579 insertions(+), 63 deletions(-)

commit 78bc8563eb546f7c484b341b181a626294f8cfcd
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Thu Jun 12 15:07:21 2014 -0700

    DRILL-977: changed container style to fluid. Added column filter.

 exec/java-exec/src/main/resources/rest/generic.ftl      |  4 ++--
 exec/java-exec/src/main/resources/rest/query/result.ftl | 14 ++++++++++----
 2 files changed, 12 insertions(+), 6 deletions(-)

commit 7821b51bded2ed016d4926a280fb3638e767fc8c
Author: Patrick Wong <pwong@maprtech.com>
Date:   Thu Jun 12 17:55:54 2014 +0000

    DRILL-974: Windows sqlline.bat - Correctly handle spaces in the path to the Drill directory. Previously, if Drill was on a path such as for example, C:\My Home Dir\Drill Work\apache-drill-1.0.0-m2-incubating-SNAPSHOT, then sqlline.bat would not correctly parse this path and be unable to start.
    
    original fix by David Kewley ( dkewley@maprtech.com )

 distribution/src/resources/sqlline.bat | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ebe49ea2b606bb610c5242e61b7e5c61dd86e62a
Author: Aman Sinha <asinha@maprtech.com>
Date:   Thu Jun 12 19:04:04 2014 -0700

    DRILL-727: During logical transformation phase use the Project's traits instead of input traits when creating a DrillProjectRel.

 .../org/apache/drill/exec/planner/logical/DrillProjectRule.java   | 4 ++--
 .../src/test/java/org/apache/drill/TestExampleQueries.java        | 8 ++++++++
 2 files changed, 10 insertions(+), 2 deletions(-)

commit 0648c9e9fb3c6fa607e8b46f4062ff6453b6a634
Author: Cliff Buchanan <cbuchanan@maprtech.com>
Date:   Mon Jun 16 08:14:13 2014 -0700

    DRILL-585: Switch getObject in SQL accessors to return java.sql.* types.

 .../src/main/codegen/includes/vv_imports.ftl       |  1 +
 .../src/main/codegen/templates/SqlAccessors.java   | 22 ++++++++++++++++++++++
 .../exec/vector/accessor/AbstractSqlAccessor.java  |  2 +-
 .../jdbc/test/TestAggregateFunctionsQuery.java     | 11 +++++++----
 4 files changed, 31 insertions(+), 5 deletions(-)

commit 2b5ae075f75f51b81fa39b14c6a96090c2673ba0
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sat Jun 14 14:10:06 2014 -0700

    More stats fixes: In PlanningSet, get majorFragmentId from the physical plan.
    
    This is so the majorFragmentIds in the profiles will match those in the physical plan.

 .../java/org/apache/drill/exec/planner/fragment/PlanningSet.java    | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 57a86d4a2c434d997e610016f2fa266108799c93
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Jun 13 18:23:53 2014 -0700

    More stats fixes: Ensure we are calling the stats enabled next() method in the template classes for HashJoin, HashAggregate and StreamingAggregate.

 .../drill/exec/physical/impl/aggregate/HashAggTemplate.java |  6 +++---
 .../drill/exec/physical/impl/aggregate/HashAggregator.java  |  2 +-
 .../exec/physical/impl/aggregate/StreamingAggTemplate.java  |  6 +++---
 .../exec/physical/impl/aggregate/StreamingAggregator.java   |  2 +-
 .../apache/drill/exec/physical/impl/join/HashJoinBatch.java | 13 +++++--------
 .../drill/exec/physical/impl/join/HashJoinHelper.java       |  3 +++
 .../apache/drill/exec/physical/impl/join/HashJoinProbe.java |  2 +-
 .../exec/physical/impl/join/HashJoinProbeTemplate.java      |  8 ++++++--
 8 files changed, 23 insertions(+), 19 deletions(-)

commit fc1a7778e2af3b07117f99070530dd5a296ebc6d
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri Jun 13 13:14:12 2014 -0700

    Fix and improve runtime stats profiles
    - Stop stats processing while waiting for next.
    - Fix stats collection in PartitionSender and ScanBatch
    - Add stats to all senders
    - Add wait time to operator profile.

 .../org/apache/drill/exec/ops/OperatorStats.java   |  20 ++-
 .../drill/exec/physical/impl/BaseRootExec.java     |  36 ++++-
 .../exec/physical/impl/RandomReceiverCreator.java  |   2 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  58 ++++---
 .../drill/exec/physical/impl/ScreenCreator.java    |  39 +++--
 .../exec/physical/impl/SingleSenderCreator.java    |  29 +++-
 .../drill/exec/physical/impl/WireRecordBatch.java  |  25 ++-
 .../broadcastsender/BroadcastSenderRootExec.java   |  28 +++-
 .../impl/mergereceiver/MergingRecordBatch.java     |  15 +-
 .../partitionsender/PartitionSenderRootExec.java   |  18 +--
 .../impl/partitionsender/PartitionerTemplate.java  |  14 +-
 .../drill/exec/record/AbstractRecordBatch.java     |   2 +
 .../drill/exec/server/rest/ProfileWrapper.java     | 177 +++++++++++++--------
 .../drill/exec/proto/SchemaUserBitShared.java      |   7 +
 .../org/apache/drill/exec/proto/UserBitShared.java | 138 ++++++++++++----
 .../drill/exec/proto/beans/OperatorProfile.java    |  22 +++
 protocol/src/main/protobuf/UserBitShared.proto     |   1 +
 17 files changed, 466 insertions(+), 165 deletions(-)

commit 49a9ff27f283cbc1c8749989ff408440a0275e7d
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri Jun 13 00:17:47 2014 -0700

    DRILL-980: Add profile summary to web ui

 .../drill/exec/server/rest/ProfileResources.java   |   4 +-
 .../drill/exec/server/rest/ProfileWrapper.java     | 148 +++++++++++++++++++++
 .../drill/exec/work/foreman/FragmentData.java      |   2 +-
 .../exec/work/fragment/AbstractStatusReporter.java |   1 +
 .../src/main/resources/rest/profile/profile.ftl    |  10 +-
 5 files changed, 160 insertions(+), 5 deletions(-)

commit 6801a5dc8b48c24b8fabab63945af70787a4a3be
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Jun 12 13:33:11 2014 -0700

    DRILL-954: Exclude servlet-api from classpath, and exclude duplicate servlet-api dependencies

 contrib/storage-hbase/pom.xml                  |  8 +++++++
 contrib/storage-hive/pom.xml                   |  4 ++++
 distribution/src/resources/hadoop-excludes.txt |  1 +
 pom.xml                                        | 32 ++++++++++++++++++++++++++
 4 files changed, 45 insertions(+)

commit 989d336406237593434af939771f2f06637e378b
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Jun 12 11:57:20 2014 -0700

    DRILL-534: Re-enable TPCH04

 exec/java-exec/src/test/java/org/apache/drill/TestTpchDistributed.java | 1 -
 1 file changed, 1 deletion(-)

commit 817bea53995f7d003ffa30d67d2dbf237d430a3c
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Fri Jun 13 13:27:31 2014 -0700

    DRILL-482 : Return null value if cast function input is a null expression.

 .../org/apache/drill/exec/expr/ExpressionTreeMaterializer.java    | 7 +++++--
 .../src/test/java/org/apache/drill/TestExampleQueries.java        | 8 +++++++-
 2 files changed, 12 insertions(+), 3 deletions(-)

commit bc0bb4d5012a9d51cdcfa0002a7b8b8753f01775
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Fri Jun 13 09:01:27 2014 -0700

    DRILL-981: Display content of map object in the same order of original JSON object.

 .../src/main/java/org/apache/drill/exec/util/JsonStringHashMap.java   | 4 +++-
 .../src/main/java/org/apache/drill/exec/vector/complex/MapVector.java | 2 +-
 .../java/org/apache/drill/exec/vector/complex/RepeatedMapVector.java  | 4 ++--
 3 files changed, 6 insertions(+), 4 deletions(-)

commit c789f1c8ace3e12d81ccae05e79e4539cf9c829c
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon Jun 9 13:02:52 2014 -0700

    DRILL-935: Run-time code generation support for function which decodes string/varbinary into complex JSON object.

 .../java/org/apache/drill/common/types/Types.java  |   2 +-
 .../src/main/codegen/templates/BaseWriter.java     |   4 +
 .../src/main/codegen/templates/ListWriters.java    |   3 +-
 .../drill/exec/client/PrintingResultsListener.java |   1 +
 .../drill/exec/expr/DrillFuncHolderExpr.java       |   7 +-
 .../exec/expr/ExpressionTreeMaterializer.java      |  17 +++-
 .../exec/expr/fn/DrillComplexWriterFuncHolder.java | 107 +++++++++++++++++++
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  16 ++-
 .../drill/exec/expr/fn/FunctionConverter.java      |  30 ++++--
 .../exec/expr/fn/impl/conv/JsonConvertFrom.java    | 101 ++++++++++++++++++
 .../apache/drill/exec/physical/impl/ScanBatch.java |   5 +
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |   6 ++
 .../drill/exec/physical/impl/WireRecordBatch.java  |   5 +
 .../physical/impl/project/ProjectRecordBatch.java  | 105 +++++++++++++------
 .../validate/IteratorValidatorBatchIterator.java   |   6 ++
 .../drill/exec/record/AbstractRecordBatch.java     |   9 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |   3 +
 .../apache/drill/exec/record/VectorContainer.java  |  23 ++++-
 .../exec/store/easy/json/JSONRecordReader2.java    |   5 +-
 .../drill/exec/vector/complex/fn/JsonReader.java   |  30 ++----
 .../vector/complex/fn/JsonReaderWithState.java     |  62 +++++++++++
 .../vector/complex/impl/ComplexWriterImpl.java     |  30 +++++-
 .../complex/writer/TestComplexTypeWriter.java      | 113 +++++++++++++++++++++
 .../exec/vector/complex/writer/TestJsonReader.java |   3 +-
 24 files changed, 614 insertions(+), 79 deletions(-)

commit aaaca6a7829733a120018e1388c68672d035820b
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Sat Jun 14 18:32:18 2014 -0700

    DRILL-957: Fix schema failures when querying a partitioned Avro table in Hive.
    
    When initializing SerDe in HiveRecordReader, we are not passing the properties
    from Table to SerDe. As schema is in table properties, Avro SerDe fails to find
    the schema and throws errors. For non-partitioned tables this is ok, as the
    MetaStoreUtils.getTableMetadata already adds Table properties, but not for
    partitioned Avro tables. Fix is to pass table properties to SerDe if the
    table is partitioned.

 .../org/apache/drill/exec/store/hive/HiveRecordReader.java     | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 3bcead76387e0cc63d2dde04bce28db5b1cf0942
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Jun 13 14:44:12 2014 -0700

    DRILL-735: Add a unittest to test reading from Hive table with all supported data types of partitions and fields.

 .../exec/store/hive/HiveTestDataGenerator.java     | 76 +++++++++++++++++++---
 .../apache/drill/jdbc/test/TestHiveStorage.java    | 52 ++++++++++++++-
 .../apache/drill/jdbc/test/TestMetadataDDL.java    | 10 +--
 3 files changed, 123 insertions(+), 15 deletions(-)

commit c3dfe379e58a9dab5341cbd3a25267eed5ac9bc0
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Jun 13 11:35:56 2014 -0700

    DRILL-735: Refactor Hive storage testcases into a separate test class

 .../apache/drill/jdbc/test/JdbcTestQueryBase.java  | 12 ------
 .../apache/drill/jdbc/test/TestHiveStorage.java    | 49 ++++++++++++++++++++++
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 24 ++---------
 .../apache/drill/jdbc/test/TestMetadataDDL.java    |  9 ++++
 .../java/org/apache/drill/jdbc/test/TestViews.java | 16 +++++++
 5 files changed, 78 insertions(+), 32 deletions(-)

commit e31ef0788ce09b12b03371bc4f4482079c0de365
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Jun 12 14:07:40 2014 -0700

    DRILL-735: Refactor HiveRecordReader
    
    + Create HiveFieldConverter classes for each Hive data type to extract value from Hive
      ObjectInspectorand set it in Drill ValueVector. These objects are created in setup.
      This way we avoid the switch case evalulation of type for each field in each row.
    
    + Use one form of Hive data type (TypeInfo) instead of two forms (string based type and type
      from ObjectInspector). This simplifies the converter functions such as getMinorTypeFromHiveType,
      convertPartitionType, etc.
    
    + Handle few primitive types that were not handled. Reading complex types is still a TODO.
    
    + Don't use HiveTextRecordReader as it is not completely implemented (few types are not handled)
    
    + Remove unused code: HiveInputReader.java

 .../drill/exec/store/hive/HiveFieldConverter.java  | 199 +++++++++
 .../drill/exec/store/hive/HiveInputReader.java     | 173 --------
 .../drill/exec/store/hive/HiveRecordReader.java    | 448 +++++++++++----------
 .../exec/store/hive/HiveScanBatchCreator.java      |  44 +-
 .../exec/store/hive/HiveTextRecordReader.java      |  16 +-
 5 files changed, 461 insertions(+), 419 deletions(-)

commit fc00bc4bc20f34b24df43a30c1340e5f1f96de54
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu Jun 12 14:50:28 2014 -0700

    DRILL-836: Drill needs to return complex types (e.g., map and array) as a JSON string

 .../apache/drill/exec/physical/config/Flatten.java |  71 +++++++++++++
 .../physical/impl/project/FlattenBatchCreator.java |  42 ++++++++
 .../physical/impl/project/ProjectRecordBatch.java  |  26 ++++-
 .../drill/exec/planner/physical/FlattenPrel.java   |  62 +++++++++++
 .../physical/visitor/FlattenPrelVisitor.java       |  40 ++++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    |  45 ++++++--
 .../org/apache/drill/exec/rpc/user/UserClient.java |   6 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |  29 +++---
 .../apache/drill/exec/rpc/user/UserSession.java    |  11 +-
 .../test/java/org/apache/drill/PlanningBase.java   |   4 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   2 +-
 .../apache/drill/exec/proto/SchemaUserProtos.java  |   7 ++
 .../org/apache/drill/exec/proto/UserBitShared.java |  15 ++-
 .../org/apache/drill/exec/proto/UserProtos.java    | 114 ++++++++++++++++++---
 .../drill/exec/proto/beans/CoreOperatorType.java   |   4 +-
 .../drill/exec/proto/beans/UserToBitHandshake.java |  23 +++++
 protocol/src/main/protobuf/User.proto              |  49 ++++-----
 protocol/src/main/protobuf/UserBitShared.proto     |   1 +
 18 files changed, 471 insertions(+), 80 deletions(-)

commit 5da52cb510b58f9f9022608cbdb4f7d9e2d5d368
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Jun 11 20:09:10 2014 -0700

    DRILL-968: Use checkstyle plugin to prevent inadvertent use of shaded Guava classes
    
    + Disallow non-static '*' imports in handwritten code.
    + Updated the current code to be in compliance.
    + Run 'rat' plugin in 'validate' phase.

 .../apache/drill/common/config/DrillConfig.java    |  1 -
 .../apache/drill/common/config/NestedConfig.java   | 10 +++-
 .../drill/common/logical/data/LogicalOperator.java | 11 ++--
 .../data/visitors/AbstractLogicalVisitor.java      | 18 +++++-
 .../drill/common/util/DataInputInputStream.java    |  7 ++-
 .../apache/drill/common/util/DecimalUtility.java   |  5 +-
 .../apache/drill/hbase/TestHBaseTableProvider.java |  9 ---
 distribution/pom.xml                               |  1 +
 .../apache/drill/exec/cache/infinispan/ICache.java |  2 +-
 .../drill/exec/compile/ClassTransformer.java       |  6 +-
 .../drill/exec/compile/sig/SignatureHolder.java    |  4 +-
 .../org/apache/drill/exec/expr/ClassGenerator.java |  5 +-
 .../drill/exec/expr/fn/FunctionConverter.java      |  2 +-
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java | 15 ++---
 .../drill/exec/expr/fn/impl/HashFunctions.java     | 31 ++++++++++-
 .../apache/drill/exec/expr/fn/impl/IsFalse.java    |  7 ++-
 .../apache/drill/exec/expr/fn/impl/IsNotFalse.java |  7 ++-
 .../apache/drill/exec/expr/fn/impl/IsNotTrue.java  |  7 ++-
 .../org/apache/drill/exec/expr/fn/impl/IsTrue.java |  7 ++-
 .../org/apache/drill/exec/ops/FragmentContext.java |  3 +-
 .../physical/base/AbstractPhysicalVisitor.java     | 22 +++++++-
 .../drill/exec/physical/base/PhysicalVisitor.java  | 22 +++++++-
 .../exec/physical/config/BroadcastExchange.java    | 12 ++--
 .../drill/exec/physical/config/UnionAll.java       | 12 ++--
 .../physical/impl/TopN/PriorityQueueTemplate.java  | 16 ++++--
 .../drill/exec/physical/impl/TopN/TopNBatch.java   | 35 +++++++-----
 .../drill/exec/physical/impl/WireRecordBatch.java  |  9 ++-
 .../exec/physical/impl/WriterRecordBatch.java      | 10 +++-
 .../physical/impl/filter/FilterRecordBatch.java    |  9 +--
 .../exec/physical/impl/join/MergeJoinBatch.java    | 13 +++--
 .../physical/impl/join/MergeJoinBatchBuilder.java  | 12 ++--
 .../exec/physical/impl/limit/LimitRecordBatch.java | 13 +++--
 .../impl/mergereceiver/MergingRecordBatch.java     | 22 +++++---
 .../partitionsender/PartitionSenderRootExec.java   | 13 ++---
 .../impl/partitionsender/PartitionerTemplate.java  | 27 +++++----
 .../exec/physical/impl/sort/RecordBatchData.java   |  6 +-
 .../impl/svremover/RemovingRecordBatch.java        | 16 ++++--
 .../physical/impl/union/UnionAllRecordBatch.java   | 15 +++--
 .../drill/exec/physical/impl/xsort/BatchGroup.java | 17 ++++--
 .../physical/impl/xsort/ExternalSortBatch.java     | 34 ++++++++----
 .../impl/xsort/PriorityQueueCopierTemplate.java    | 18 ++----
 .../drill/exec/planner/fragment/Materializer.java  |  6 +-
 .../exec/planner/fragment/StatsCollector.java      |  6 +-
 .../exec/planner/logical/DrillAggregateRule.java   |  9 ++-
 .../drill/exec/planner/logical/DrillJoinRule.java  | 13 +++--
 .../drill/exec/planner/logical/DrillRuleSets.java  | 19 ++++++-
 .../drill/exec/planner/logical/DrillSortRule.java  |  7 ++-
 .../drill/exec/planner/logical/DrillUnionRule.java | 15 +++--
 .../exec/planner/logical/DrillValuesRule.java      |  5 +-
 .../drill/exec/planner/physical/AggPrelBase.java   |  2 +-
 .../planner/sql/handlers/DescribeTableHandler.java | 16 ++++--
 .../planner/sql/handlers/ShowSchemasHandler.java   | 11 +++-
 .../planner/sql/handlers/ShowTablesHandler.java    | 18 ++++--
 .../exec/planner/sql/parser/SqlCreateTable.java    | 18 ++++--
 .../exec/planner/sql/parser/SqlCreateView.java     | 17 ++++--
 .../exec/planner/sql/parser/SqlDescribeTable.java  | 15 +++--
 .../drill/exec/planner/sql/parser/SqlDropView.java | 13 ++++-
 .../exec/planner/sql/parser/SqlShowFiles.java      | 14 +++--
 .../exec/planner/sql/parser/SqlShowSchemas.java    | 14 +++--
 .../exec/planner/sql/parser/SqlShowTables.java     | 15 +++--
 .../exec/planner/sql/parser/SqlUseSchema.java      | 13 ++++-
 .../drill/exec/rpc/control/ControlClient.java      |  8 ++-
 .../drill/exec/rpc/control/ControlServer.java      |  6 +-
 .../org/apache/drill/exec/rpc/data/DataClient.java |  8 ++-
 .../org/apache/drill/exec/rpc/data/DataServer.java |  6 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |  7 ++-
 .../org/apache/drill/exec/rpc/user/UserServer.java |  9 ++-
 .../drill/exec/store/LocalSyncableFileSystem.java  | 25 +++++++--
 .../org/apache/drill/exec/store/VectorHolder.java  |  6 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  5 +-
 .../drill/exec/store/hive/HiveInputReader.java     | 30 +++++-----
 .../apache/drill/exec/store/hive/HiveSubScan.java  | 28 ++++++----
 .../apache/drill/exec/store/hive/HiveTable.java    | 16 ++++--
 .../exec/store/hive/HiveTextRecordReader.java      | 14 +++--
 .../drill/exec/store/ischema/InfoSchemaTable.java  |  7 ++-
 .../parquet/NullableFixedByteAlignedReaders.java   |  5 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    | 11 +++-
 .../exec/store/parquet/ParquetRecordReader.java    | 29 +++++++---
 .../drill/exec/store/parquet/ParquetWriter.java    | 10 +++-
 .../exec/store/parquet/VarLenBinaryReader.java     |  8 ++-
 .../exec/store/parquet/VarLengthColumnReaders.java | 13 +++--
 .../exec/store/sys/local/NoWriteLocalPStore.java   |  2 +-
 .../vector/complex/impl/RepeatedMapReaderImpl.java | 64 ++--------------------
 .../vector/complex/impl/SingleMapReaderImpl.java   | 58 +-------------------
 .../apache/drill/exec/cache/TestWriteToDisk.java   | 10 +++-
 .../drill/exec/fn/impl/GeneratorFunctions.java     |  7 ++-
 .../drill/exec/fn/impl/TestDateFunctions.java      | 16 +++---
 .../drill/exec/fn/impl/TestMathFunctions.java      | 12 ++--
 .../exec/physical/impl/TestExtractFunctions.java   |  8 +--
 .../exec/physical/impl/TestSimpleFragmentRun.java  | 11 +---
 .../exec/physical/impl/TestSimpleFunctions.java    | 21 ++++---
 .../drill/exec/physical/impl/agg/TestAgg.java      | 13 ++---
 .../exec/physical/impl/common/TestHashTable.java   | 16 +-----
 .../physical/impl/filter/TestSimpleFilter.java     | 15 ++---
 .../impl/trace/TestTraceMultiRecordBatch.java      | 11 ++--
 .../physical/impl/trace/TestTraceOutputDump.java   | 12 ++--
 .../apache/drill/exec/pop/TestInjectionValue.java  |  2 +-
 .../drill/exec/record/vector/TestDateTypes.java    | 33 +----------
 .../drill/exec/util/MiniZooKeeperCluster.java      | 21 ++++---
 .../org/apache/drill/exec/work/batch/FileTest.java | 13 +++--
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 27 +--------
 pom.xml                                            | 28 +++++++++-
 src/main/resources/checkstyle-config.xml           | 31 +++++++++++
 src/main/resources/checkstyle-suppressions.xml     | 19 +++++++
 104 files changed, 860 insertions(+), 598 deletions(-)

commit 4198a17a8b8ba9fd109e7f8a55c66d466a895c18
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Jun 11 23:41:26 2014 -0700

    Fix execution of tests that are run multiple times.
    
    Due to separation of some test in TestJdbcQuery into TestViews and TestMetadataDDL
    which are derived from TestJdbcQuery, all tests in TestJdbcQuery are run thrice.

 .../apache/drill/jdbc/test/JdbcTestQueryBase.java  | 98 ++++++++++++++++++++++
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 61 +-------------
 .../apache/drill/jdbc/test/TestMetadataDDL.java    |  2 +-
 .../java/org/apache/drill/jdbc/test/TestViews.java |  2 +-
 4 files changed, 101 insertions(+), 62 deletions(-)

commit fcd5988de7edcb1d2b72377b1637e7c7b88a3d77
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Jun 11 23:05:52 2014 -0700

    Fix regression caused by DRILL-521
    
    DRILL-521 moved to metastore.api.Table from ql.metadata.Table which caused
    failures when reading Hive tables that have schema given in SerDe properties
    such as avro. Revert to using ql.metadata.Table.

 .../org/apache/drill/exec/store/hive/schema/DrillHiveTable.java     | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 21d9fb79da6810170dea668f1884cc73e4676410
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Jun 11 17:09:26 2014 -0700

    DRILL-956: Fix issue where LocalPStore provider doesn't have correct Constructor signature

 .../drill/exec/store/hbase/config/HBasePStoreProvider.java     |  8 ++++++++
 .../java/org/apache/drill/hbase/TestHBaseTableProvider.java    | 10 ++--------
 distribution/src/resources/drill-override-example.conf         |  3 ++-
 .../java/org/apache/drill/exec/store/sys/PStoreRegistry.java   |  8 ++++----
 .../apache/drill/exec/store/sys/local/LocalPStoreProvider.java | 10 +++++++---
 5 files changed, 23 insertions(+), 16 deletions(-)

commit 53e218ef6f81eed4c72dcc253ea961348310f199
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue Jun 10 14:54:09 2014 -0700

    DRILL-600: Support planning for Union-All.  Added infrastructure for planning Union-Distinct (not enabled yet).

 .../physical/base/AbstractPhysicalVisitor.java     |  2 +-
 .../drill/exec/physical/base/PhysicalVisitor.java  |  2 +-
 .../physical/config/{Union.java => UnionAll.java}  |  8 +-
 ...BatchCreator.java => UnionAllBatchCreator.java} | 10 +--
 ...onRecordBatch.java => UnionAllRecordBatch.java} | 21 +++--
 .../exec/planner/common/DrillUnionRelBase.java     |  7 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |  2 +
 .../drill/exec/planner/logical/DrillUnionRel.java  |  8 +-
 .../drill/exec/planner/logical/DrillUnionRule.java | 10 ++-
 .../drill/exec/planner/physical/PrelUtil.java      |  4 +
 .../drill/exec/planner/physical/UnionAllPrel.java  | 94 +++++++++++++++++++++
 .../drill/exec/planner/physical/UnionAllPrule.java | 72 ++++++++++++++++
 .../exec/planner/physical/UnionDistinctPrel.java   | 95 ++++++++++++++++++++++
 .../exec/planner/physical/UnionDistinctPrule.java  | 72 ++++++++++++++++
 .../drill/exec/planner/physical/UnionPrel.java     | 48 +++++++++++
 .../java/org/apache/drill/TestExampleQueries.java  | 35 +++++++-
 exec/java-exec/src/test/resources/union/test1.json |  4 +-
 17 files changed, 469 insertions(+), 25 deletions(-)

commit d9a2f1c9ac45ff31742282b6319891bec08de745
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Jun 11 18:57:08 2014 -0700

    DRILL-909: Handle OOM in UnlimitedRawBatchBuffer

 .../physical/impl/xsort/ExternalSortBatch.java     |  2 +-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   | 23 ++++++++++++++++++++++
 .../impl/xsort/TestSimpleExternalSort.java         |  1 -
 3 files changed, 24 insertions(+), 2 deletions(-)

commit 7c1ee01caa30758a88e78143c068ec126c8fb42a
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Jun 11 02:17:38 2014 -0700

    DRILL-548: Re-enable tpch13
    
    I am no longer seeing the IOOB exception.

 exec/java-exec/src/test/java/org/apache/drill/TestTpchDistributed.java | 1 -
 1 file changed, 1 deletion(-)

commit 930bc0f0bf06824c43563d8f1ed18b27e1f26c96
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Jun 11 02:14:56 2014 -0700

    DRILL-863: Sort column IDs in text reader
    
    Without this, if the columns passed to the reader are not in order, the reader does not read them correctly.

 .../java/org/apache/drill/exec/store/text/DrillTextRecordReader.java    | 2 ++
 1 file changed, 2 insertions(+)

commit 2712c3c35f8fc1e5bd7443c7e40d6b76fad9d49d
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Jun 9 16:39:56 2014 -0700

    DRILL-969: Improvements to ValueVector allocations

 .../main/codegen/templates/FixedValueVectors.java  | 15 ++++---
 .../codegen/templates/RepeatedValueVectors.java    |  9 +++--
 .../codegen/templates/VariableLengthVectors.java   | 23 ++++++-----
 .../impl/svremover/RemovingRecordBatch.java        | 46 ++++++++++++++++------
 .../exec/record/AbstractSingleRecordBatch.java     |  7 ++++
 .../exec/store/text/DrillTextRecordReader.java     | 13 ++++--
 6 files changed, 78 insertions(+), 35 deletions(-)

commit 734f9a8dc6f24c9121877fa841b4815dc80fe346
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Jun 11 19:10:06 2014 -0700

    DRILL-946: Fix minor bug in casting decimal to double

 .../src/main/codegen/templates/Decimal/CastDecimalFloat.java  |  2 +-
 .../java/org/apache/drill/jdbc/test/TestFunctionsQuery.java   | 11 +++++++++++
 2 files changed, 12 insertions(+), 1 deletion(-)

commit 60a429fb7815c655234055ded237dbda1af2d769
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Jun 11 17:13:59 2014 -0700

    DRILL-858: Fix bugs in handling Hive views in INFORMATION_SCHEMA generation.
    
    Also:
    - Added a new interface DrillViewInfoProvider which provides view related info to
      components such as InfoSchema. Drill or Hive view table implement this interface.
    - Throw UnsupportedOperationException if any queries use Hive views
      as querying Hive views is not supported in current version.

 .../planner/logical/DrillViewInfoProvider.java     | 28 +++++++++++++++
 .../drill/exec/planner/logical/DrillViewTable.java |  3 +-
 .../drill/exec/store/hive/HiveReadEntry.java       |  9 +++++
 .../drill/exec/store/hive/HiveStoragePlugin.java   |  5 +++
 .../exec/store/hive/schema/DrillHiveTable.java     |  2 +-
 .../exec/store/hive/schema/DrillHiveViewTable.java | 40 ++++++++++++++++++++++
 .../exec/store/hive/schema/HiveSchemaFactory.java  |  7 +++-
 .../drill/exec/store/ischema/RecordGenerator.java  |  4 +--
 .../exec/store/hive/HiveTestDataGenerator.java     |  3 ++
 .../apache/drill/jdbc/test/TestMetadataDDL.java    |  2 ++
 .../java/org/apache/drill/jdbc/test/TestViews.java |  8 +++++
 11 files changed, 106 insertions(+), 5 deletions(-)

commit b328d7b718b59dc7aa98543f02163940d75100b6
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Jun 10 18:32:14 2014 -0700

    DRILL-965: Close underlying buffers/channels when FragmentContext is closed.
    
    * Fixes unit test failures due race condition between closing the allocator and last message handling.

 .../org/apache/drill/exec/ops/FragmentContext.java |  4 ++
 .../apache/drill/exec/rpc/RemoteConnection.java    | 43 +++++++++++++---------
 .../exec/work/batch/AbstractDataCollector.java     | 10 +++++
 .../drill/exec/work/batch/DataCollector.java       |  6 +--
 .../drill/exec/work/batch/IncomingBuffers.java     | 22 +++++++----
 5 files changed, 56 insertions(+), 29 deletions(-)

commit 0879f830068e0282884b55812f4a4fba0311a63f
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Tue Jun 10 12:13:56 2014 -0700

    DRILL-964: Allow enabling/disabling storage plugin instance from UI
    
    + Creating a client per request (to avoid issues with multiple connections).
    + Correcting the links.
    + Searchable result table.
    + Minor UI tweaks.
    
    Squashed commits:
    [461182d]
    [99a678a]
    [2c16c3a]

 .../drill/exec/server/rest/DrillRestServer.java    |  5 ---
 .../drill/exec/server/rest/QueryResources.java     | 10 ++++--
 .../drill/exec/server/rest/StatusResources.java    |  2 +-
 .../drill/exec/server/rest/StorageResources.java   | 29 +++++++++++++--
 exec/java-exec/src/main/resources/rest/generic.ftl |  6 ++--
 .../src/main/resources/rest/profile/list.ftl       |  4 +--
 .../src/main/resources/rest/profile/profile.ftl    |  4 ---
 .../src/main/resources/rest/query/result.ftl       | 33 +++++++++++++----
 .../src/main/resources/rest/storage/list.ftl       | 22 +++++-------
 .../src/main/resources/rest/storage/update.ftl     | 41 +++++++++++-----------
 10 files changed, 95 insertions(+), 61 deletions(-)

commit 2903ed3a0c129396fb50a5e60a79f632a06fc944
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Jun 10 15:52:28 2014 -0700

    DRILL-963: Fix Hive test [TestViews.testInfoSchemaWithView()] on Windows

 exec/jdbc/src/test/java/org/apache/drill/jdbc/test/TestViews.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 4773b57abc04321e03f4b365a029ee593143513d
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Jun 11 14:14:56 2014 -0700

    DRILL-678: Fix maxLen of varchar and precision of decimal type in InfoSchema.
    
    Derive maxLen of Hive string/varchar and precision of decimal from Hive table metadata.

 .../drill/exec/store/hive/schema/DrillHiveTable.java      |  6 ++++--
 .../java/org/apache/drill/exec/store/ischema/Records.java | 12 ++++++++++--
 .../java/org/apache/drill/jdbc/test/TestMetadataDDL.java  | 15 +++++++++++++++
 3 files changed, 29 insertions(+), 4 deletions(-)

commit 68b9778d1bcf45fda30bf3017371f9e0705d0de5
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Jun 11 13:14:56 2014 -0700

    DRILL-677: Convert Hive data types to nullable SQL types in metadata conversion.

 .../apache/drill/exec/store/hive/schema/DrillHiveTable.java   |  9 +++++++--
 .../test/java/org/apache/drill/jdbc/test/TestMetadataDDL.java | 11 +++++++++++
 2 files changed, 18 insertions(+), 2 deletions(-)

commit 71432fd1ed7659aec118514bdf822043da293992
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Jun 11 12:44:26 2014 -0700

    DRILL-521: Fix failures in metadata conversion of Hive tables for INFORMATION_SCHEMA
    
    - Instead of converting two forms of Hive types info (string and ObjectInspector), switch
      to using only one form of type info TypeInfo.
    - Add missing mappings of Hive data type to Sql data type.

 .../exec/store/hive/schema/DrillHiveTable.java     | 148 ++++++++++-----------
 .../apache/drill/exec/store/ischema/Records.java   |  12 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |   4 +-
 .../exec/store/hive/HiveTestDataGenerator.java     |  29 +++-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |   2 +-
 .../apache/drill/jdbc/test/TestMetadataDDL.java    |   6 +-
 6 files changed, 116 insertions(+), 85 deletions(-)

commit 9f3b9d298d68bc6cfc1aae512a0d1addc27810b6
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Jun 10 16:09:08 2014 -0700

    DRILL-537: Add a unittest that reads from a Hive table which has all supported data types in Hive->Drill.

 .../exec/store/hive/HiveTestDataGenerator.java     | 39 +++++++++++++++-------
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |  1 +
 .../apache/drill/jdbc/test/TestMetadataDDL.java    |  2 ++
 3 files changed, 30 insertions(+), 12 deletions(-)

commit 72084e32c08d3136de4d6940c0965c0c8ed6b04a
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Jun 10 17:40:42 2014 -0700

    DRILL-944: Fix overflow while adding Time + Interval data type

 .../DateIntervalArithmeticFunctions.java           | 23 ++++++++--------------
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 14 +++++++++++--
 2 files changed, 20 insertions(+), 17 deletions(-)

commit 564f9690c9f41b456751b4c3fcda4e547195b375
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Jun 10 16:04:12 2014 -0700

    DRILL-720: Add secondary cast rules to be able to implicitly cast to VARBINARY (from VARCHAR, INT, BIGINT, FLOAT4, FLOAT8)

 .../apache/drill/exec/resolver/ResolverTypePrecedence.java   | 12 +++++++++++-
 .../java/org/apache/drill/exec/resolver/TypeCastRules.java   |  1 +
 .../test/java/org/apache/drill/jdbc/test/TestJdbcQuery.java  | 10 +++++++++-
 3 files changed, 21 insertions(+), 2 deletions(-)

commit fc54e8eef99410d43d584d1d270430ebbd652d62
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Jun 10 14:07:11 2014 -0700

    DRILL-738: Add test for left, right and replace function from sql

 .../test/java/org/apache/drill/jdbc/test/TestJdbcQuery.java | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit ba4d1a6dd3448d115709e9f8548fba2a25eef10b
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Jun 10 13:14:11 2014 -0700

    DRILL-773: Add test for aggregate function with drill custom function
    The actual fix is in Optiq.

 .../test/java/org/apache/drill/jdbc/test/TestJdbcQuery.java   | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit b900be20d666009b07c486253748e8ff3a5a23e6
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Jun 9 23:57:45 2014 -0700

    DRILL-502: Fix running sum type for average function.

 exec/java-exec/src/main/codegen/data/AggrTypes2.tdd | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit ce15e931ff0aa1969fa7c75d2ce184ca59458004
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Jun 10 11:51:41 2014 -0700

    DRILL-660: Fix errors when querying a hive table with no data.

 .../drill/exec/store/hive/HiveRecordReader.java    | 43 +++++++++++++---------
 .../exec/store/hive/HiveScanBatchCreator.java      |  7 ++++
 .../exec/store/hive/HiveTestDataGenerator.java     |  2 +
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 13 +++----
 .../apache/drill/jdbc/test/TestMetadataDDL.java    |  2 +
 5 files changed, 42 insertions(+), 25 deletions(-)

commit dd650cc96f655d5c84603cf8e0ad53b4fc3c37ff
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Jun 10 10:23:47 2014 -0700

    DRILL-790: In FragmentExecutor if operator tree init fails notify failure to root fragment to avoid query hangs.

 .../main/java/org/apache/drill/exec/work/fragment/FragmentExecutor.java | 2 ++
 1 file changed, 2 insertions(+)

commit 27a9c98a52aa76e236f41d19068ae59042d5cb4c
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jun 10 20:25:56 2014 -0700

    Disable ParquetWriter test due to memory consumption.

 .../org/apache/drill/exec/physical/impl/writer/TestParquetWriter.java    | 1 +
 1 file changed, 1 insertion(+)

commit 3e78cbf3dd7cd671cac36b48f0ce949f1e7d94b7
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jun 10 18:05:07 2014 -0700

    Fix regression with using views inside and outside schema due to persistent changes.

 .../drill/exec/planner/logical/DrillViewTable.java | 10 +++--
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  2 +-
 .../org/apache/drill/exec/sql/TestViewSupport.java | 44 ++++++++++++++++++++++
 3 files changed, 52 insertions(+), 4 deletions(-)

commit 99313db729c4068ced765745dfe8e866dd16c938
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jun 10 14:11:16 2014 -0700

    revert accidental merge of direct memory test settings

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 63b5ad7bc709149c9f4097c6d61403137d7c247a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jun 10 11:19:31 2014 -0700

    Disable failing test and increase testing memory allocation

 .../exec/physical/impl/writer/TestParquetWriter.java    | 17 +++++++++++------
 pom.xml                                                 |  2 +-
 2 files changed, 12 insertions(+), 7 deletions(-)

commit 22b39922996b156ff3aed3c9a2d7b491f7e921a8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jun 10 08:36:57 2014 -0700

    Remove value count assertion in iterator validator until things fixed.

 .../physical/impl/validate/IteratorValidatorBatchIterator.java    | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 20cb63c4ed3089fef4ff6806ca18b42c19145b8c
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Jun 9 18:37:07 2014 -0700

    DRILL-943 - Enable/disable Storage Plugin Instance

 .../drill/common/logical/StoragePluginConfig.java  |  15 ++-
 .../common/logical/StoragePluginConfigBase.java    |   9 +-
 .../exec/store/hbase/HBaseStoragePluginConfig.java |   2 +-
 .../drill/exec/store/NamedStoragePluginConfig.java |   8 +-
 .../drill/exec/store/StoragePluginRegistry.java    | 109 +++++++++++----------
 .../drill/exec/store/dfs/FileSystemConfig.java     |   3 +-
 .../exec/store/dfs/FileSystemFormatConfig.java     |  10 +-
 .../drill/exec/store/ischema/InfoSchemaConfig.java |   2 +-
 .../exec/store/sys/SystemTablePluginConfig.java    |   8 +-
 .../main/resources/bootstrap-storage-plugins.json  |  27 +++--
 10 files changed, 110 insertions(+), 83 deletions(-)

commit 8b4a2105490d8e9954cabff7b31f30592307ad6f
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Jun 9 19:00:26 2014 -0700

    Adding License headers.

 distribution/src/resources/sqlline.bat | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 359eccb328171436d25da181946024410cdc4afc
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Mon Jun 9 11:32:58 2014 -0700

    Split UI endpoints into multiple resources.
    
    + Corrected the allocator object and injecting the client.

 .../drill/exec/server/rest/DrillRestServer.java    | 11 +++-
 .../apache/drill/exec/server/rest/DrillRoot.java   | 10 ----
 .../drill/exec/server/rest/MetricsResources.java   | 24 +++++++++
 .../drill/exec/server/rest/ProfileResources.java   | 17 +++++++
 .../drill/exec/server/rest/QueryResources.java     | 59 +++++++++++++---------
 .../drill/exec/server/rest/StatusResources.java    | 38 ++++++++++++++
 exec/java-exec/src/main/resources/rest/generic.ftl |  2 +-
 exec/java-exec/src/main/resources/rest/index.ftl   |  4 --
 .../src/main/resources/rest/profile/list.ftl       |  6 +--
 .../src/main/resources/rest/profile/profile.ftl    | 10 ++--
 .../src/main/resources/rest/query/list.ftl         | 23 +++++++++
 .../src/main/resources/rest/query/query.ftl        |  4 --
 .../src/main/resources/rest/query/result.ftl       |  8 +--
 exec/java-exec/src/main/resources/rest/status.ftl  |  4 --
 14 files changed, 152 insertions(+), 68 deletions(-)

commit ab9b2fe933ec5b05cabfab94c837f24db83e3ba9
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Jun 8 21:38:01 2014 -0700

    web cleanup, enable multiphase and increase broadcast threshold

 .../exec/planner/physical/PlannerSettings.java     |   4 +-
 .../drill/exec/server/rest/DrillRestServer.java    |   2 +
 .../apache/drill/exec/server/rest/DrillRoot.java   | 195 +--------------------
 .../drill/exec/server/rest/ProfileResources.java   | 104 +++++++++++
 .../drill/exec/server/rest/QueryResources.java     | 131 ++++++++++++++
 .../src/main/resources/rest/{status => }/error.ftl |   0
 exec/java-exec/src/main/resources/rest/generic.ftl |   4 +-
 .../src/main/resources/rest/{status => }/index.ftl |   0
 .../resources/rest/{status => profile}/list.ftl    |   0
 .../resources/rest/{status => profile}/profile.ftl |   0
 .../resources/rest/{status => query}/query.ftl     |   0
 .../resources/rest/{status => query}/result.ftl    |   4 +-
 .../main/resources/rest/{status => }/status.ftl    |   0
 13 files changed, 246 insertions(+), 198 deletions(-)

commit c6eb0bae588c561408564bd2b88bae2843b43f61
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Jun 9 16:40:17 2014 -0700

    DRILL-666: Show Tables should only list tables in the current database.
    
    If no default database in selected throw an error to select a
    default database using USE command.

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f1c6b9849ebffff592f940e6c03e0e48b2bf7a85
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Sun Jun 8 16:50:55 2014 -0700

    DRILL-930: Support date read/write in parquet.

 .../templates/ParquetOutputRecordWriter.java       | 23 ++++++++++++++++-
 .../main/codegen/templates/ParquetTypeHelper.java  |  2 +-
 .../exec/store/parquet/FixedByteAlignedReader.java | 22 ++++++++++++++++
 .../exec/store/parquet/NullableColumnReader.java   |  3 +--
 .../parquet/NullableFixedByteAlignedReader.java    | 30 ++++++++++++++++++++++
 .../exec/store/parquet/ParquetRecordReader.java    |  8 ++++--
 .../physical/impl/writer/TestParquetWriter.java    | 22 +++++++++++++++-
 7 files changed, 103 insertions(+), 7 deletions(-)

commit 84040683f0e76c69816ecb513757d7ce35c5c346
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Sat Jun 7 19:18:25 2014 -0700

    DRILL-929: Fix for bug in transferTo leading to incorrect value counts and Deadbufs downstream.
    
    Includes new assert in IteratorValidatorBatchIterator to catch future problems with batches leaving operators with inconsistent value counts.
    
    Also includes better tests for parquet writer/reader compatibility that were previously ignored.

 .../main/codegen/templates/FixedValueVectors.java  |   8 +-
 .../codegen/templates/VariableLengthVectors.java   |   3 +-
 .../validate/IteratorValidatorBatchIterator.java   |   8 +-
 .../physical/impl/writer/TestParquetWriter.java    | 199 +++++++++++++++------
 4 files changed, 159 insertions(+), 59 deletions(-)

commit 564febcf273b0c8b0950971b6126e6682d897f3e
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Jun 6 18:53:54 2014 -0700

    DRILL-914: Return milliseconds and second component in extract(second from date_time_types) functions.

 .../DateIntervalFunctionTemplates/Extract.java     | 17 +++++----
 .../exec/physical/impl/TestExtractFunctions.java   | 42 +++++++++++-----------
 .../src/test/resources/functions/extractFrom.json  |  1 -
 .../apache/drill/jdbc/test/TestFunctionsQuery.java | 14 ++++++++
 4 files changed, 46 insertions(+), 28 deletions(-)

commit 443f99014caf64a79f097bce73d702ecd8286c18
Author: Patrick Wong <pwong@maprtech.com>
Date:   Wed Jun 4 17:04:54 2014 -0700

    DRILL-905: sqlline.bat for Windows - updated

 distribution/src/assemble/bin.xml      |   4 +
 distribution/src/resources/sqlline.bat | 136 +++++++++++++++++++++++++++++++++
 2 files changed, 140 insertions(+)

commit f99310a91707dbef53bc8b7554ebc5405b4c6366
Author: Patrick Wong <pwong@maprtech.com>
Date:   Thu May 15 14:40:45 2014 -0700

    DRILL-753: change hdp profile - version of hadoop-common being used was deprecated

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 31b5962250675c45bcbe3c3fe6babeba5deb21fc
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Fri May 30 11:07:03 2014 -0700

    DRILL-927: Run-time code generation support for reading Complex Type.
    
    Fix in RepeatedMapVector.

 .../java/org/apache/drill/common/types/Types.java  |   6 +
 .../src/main/codegen/templates/BaseReader.java     |   1 +
 .../src/main/codegen/templates/NullReader.java     |   7 +
 .../codegen/templates/RepeatedValueVectors.java    |  30 ++-
 .../main/codegen/templates/SingularReaderImpl.java | 210 +++++++++++++++
 .../src/main/codegen/templates/TypeHelper.java     |  30 ++-
 .../src/main/codegen/templates/ValueHolders.java   |  21 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 285 ++++++++++++---------
 .../exec/expr/ExpressionTreeMaterializer.java      |   6 +-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  28 +-
 .../drill/exec/expr/fn/FunctionConverter.java      |  99 +++----
 .../exec/expr/fn/impl/conv/JsonConvertTo.java      |  81 ++++++
 .../drill/exec/record/SimpleVectorWrapper.java     |   2 +
 .../org/apache/drill/exec/record/TypedFieldId.java |  14 +-
 .../apache/drill/exec/resolver/TypeCastRules.java  |  11 +-
 .../vector/complex/AbstractContainerVector.java    |  38 ++-
 .../drill/exec/vector/complex/MapVector.java       |   3 +-
 .../exec/vector/complex/RepeatedMapVector.java     |   4 +-
 .../drill/exec/vector/complex/fn/JsonWriter.java   |  11 +-
 .../complex/impl/RepeatedListReaderImpl.java       |   5 +-
 .../vector/complex/impl/RepeatedMapReaderImpl.java |  14 +-
 .../impl/SingleLikeRepeatedMapReaderImpl.java      |  89 +++++++
 .../complex/writer/TestComplexTypeReader.java      | 167 ++++++++++++
 .../src/test/resources/jsoninput/vvtypes.json      | 140 ++++++++++
 24 files changed, 1092 insertions(+), 210 deletions(-)

commit 1226af8bf7b131097c1c6c724d67d126a344570d
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Jun 9 14:50:11 2014 -0700

    Allow specifying lilith's log appender endpoint using environment variable 'LILITH_HOSTNAME'

 common/src/test/resources/logback.xml              |  8 ++---
 .../storage-hbase/src/test/resources/logback.xml   |  2 +-
 distribution/src/resources/logback.xml             |  2 +-
 exec/java-exec/src/main/resources/logback.xml      |  2 +-
 exec/java-exec/src/test/resources/logback.xml      | 36 +++++++++----------
 exec/java-exec/src/test/sh/logback.xml             | 40 +++++++++++-----------
 exec/jdbc/src/test/resources/logback.xml           |  6 ++--
 7 files changed, 48 insertions(+), 48 deletions(-)

commit dd2ae0aec74adc225b8381b8f4ba0b929d55fea0
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Jun 9 14:40:53 2014 -0700

    Fix race condition in Foreman.runPhysicalPlan() between setting total fragment count and increment finished fragments
    
    by calling QueryStatus.setTotalFragments() before fragmentManager.runFragments()
    
    Conflicts:
            exec/java-exec/src/main/java/org/apache/drill/exec/work/foreman/Foreman.java

 .../main/java/org/apache/drill/exec/work/foreman/Foreman.java    | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit e4101807728c06b62bb38e2871374215113cb2ef
Author: Yash Sharma <yash.sharma@snapdeal.com>
Date:   Thu Jun 5 07:54:24 2014 -0700

    DRILL-630: Substr() function

 .../drill/exec/expr/fn/impl/StringFunctions.java   | 415 +++++++++++----------
 .../exec/physical/impl/TestStringFunctions.java    |   4 +-
 .../resources/functions/string/testSubstr.json     |   7 +-
 3 files changed, 233 insertions(+), 193 deletions(-)

commit 9b827b5700e91f498d165632a9fdca05f13d98d9
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Jun 9 16:40:17 2014 -0700

    DRILL-666: Show Tables should only list tables in the current database.
    
    If no default database in selected throw an error to select a
    default database using USE command.

 .../planner/sql/handlers/ShowTablesHandler.java    | 33 ++++++++++++++++++----
 .../apache/drill/jdbc/test/TestMetadataDDL.java    | 16 +++--------
 2 files changed, 32 insertions(+), 17 deletions(-)

commit 299d1bf1c053da7bcf9902e7bf1ad870b9337c61
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Jun 9 15:48:55 2014 -0700

    DRILL-736: Fix DESCRIBE issues when the selected table exists in more than one schema.

 .../planner/sql/handlers/AbstractSqlHandler.java   |  4 ++
 .../planner/sql/handlers/DescribeTableHandler.java | 81 +++++++++++++---------
 .../apache/drill/jdbc/test/TestMetadataDDL.java    | 43 +++++++++++-
 3 files changed, 93 insertions(+), 35 deletions(-)

commit 0c3bad9803c4b8fbc82da889ea434ecbfd49083b
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Jun 9 10:25:41 2014 -0700

    DRILL-751/DRILL-806: View info in INFORMATION_SCHEMA
    
    Fixes are already part of the DRILL-760 (InfoSchema POJO conversion).
    This patch includes testcases and refactoring of view tests into a separate file.

 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 335 ------------------
 .../java/org/apache/drill/jdbc/test/TestViews.java | 385 +++++++++++++++++++++
 2 files changed, 385 insertions(+), 335 deletions(-)

commit 0dde773b7f7a56fda4490f98175d71271b10bf41
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Jun 5 07:54:24 2014 -0700

    DRILL-760: Move information schema to use POJO record reader

 .../drill/exec/planner/logical/DrillViewTable.java |   4 +
 .../drill/exec/store/ischema/EmptyVectorSet.java   | 240 ---------------
 .../drill/exec/store/ischema/FixedTable.java       |  93 ------
 .../exec/store/ischema/InfoSchemaBatchCreator.java |   2 +-
 .../exec/store/ischema/InfoSchemaGroupScan.java    |   1 -
 .../store/ischema/InfoSchemaStoragePlugin.java     |   3 -
 .../drill/exec/store/ischema/InfoSchemaTable.java  | 221 ++++++++------
 .../drill/exec/store/ischema/OptiqProvider.java    | 246 ---------------
 .../drill/exec/store/ischema/PipeProvider.java     |  80 -----
 .../drill/exec/store/ischema/RecordGenerator.java  | 171 +++++++++++
 .../apache/drill/exec/store/ischema/Records.java   | 117 +++++++
 .../drill/exec/store/ischema/RowProvider.java      |  27 --
 .../drill/exec/store/ischema/RowRecordReader.java  | 133 --------
 .../drill/exec/store/ischema/SelectedTable.java    |  32 +-
 .../apache/drill/exec/store/ischema/VectorSet.java |  38 ---
 .../drill/exec/store/ischema/OrphanSchema.java     |  94 ------
 .../drill/exec/store/ischema/TestOrphanSchema.java | 167 ----------
 .../exec/store/ischema/TestTableProvider.java      | 171 -----------
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 318 +------------------
 .../apache/drill/jdbc/test/TestMetadataDDL.java    | 337 +++++++++++++++++++++
 20 files changed, 766 insertions(+), 1729 deletions(-)

commit 9b22d2c37d638451149270a19fe1b2e63d8ea670
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri May 23 10:29:48 2014 -0700

    Add BaseRootExec which will enable collection of stats for Senders
    Add SenderStats that collects stats specific to senders.

 .../org/apache/drill/exec/ops/FragmentStats.java   |  4 ++
 .../org/apache/drill/exec/ops/OpProfileDef.java    |  5 ++
 .../org/apache/drill/exec/ops/OperatorContext.java | 13 ++--
 .../org/apache/drill/exec/ops/OperatorStats.java   | 32 +++++++---
 .../org/apache/drill/exec/ops/SenderStats.java     | 73 ++++++++++++++++++++++
 .../drill/exec/physical/impl/BaseRootExec.java     | 21 +++----
 .../partitionsender/PartitionSenderRootExec.java   | 12 +++-
 .../impl/partitionsender/PartitionSenderStats.java |  5 +-
 .../impl/partitionsender/PartitionStatsBatch.java  | 24 +++++++
 .../physical/impl/partitionsender/Partitioner.java |  3 +
 .../impl/partitionsender/PartitionerTemplate.java  | 15 ++++-
 11 files changed, 175 insertions(+), 32 deletions(-)

commit 3e98ffcbaa5b3ae26db6cfac3d223049b1ad9358
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed May 21 23:47:08 2014 -0700

    DRILL-865: Interface changes to AbstractRecordBatch to enable easy collection of stats.
    Add BaseRootExec as a wrapper to collect stats for senders.

 .../drill/exec/physical/impl/BaseRootExec.java     |  48 ++++++
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |   2 +-
 .../exec/physical/impl/WriterRecordBatch.java      | 155 +++++++++---------
 .../exec/physical/impl/aggregate/HashAggBatch.java |  97 ++++++------
 .../physical/impl/aggregate/StreamingAggBatch.java |  79 +++++-----
 .../exec/physical/impl/join/HashJoinBatch.java     |   6 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    | 141 ++++++++---------
 .../exec/physical/impl/limit/LimitRecordBatch.java |   4 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |  10 +-
 .../OrderedPartitionRecordBatch.java               | 173 ++++++++++-----------
 .../partitionsender/PartitionSenderRootExec.java   |  10 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   4 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   2 +-
 .../impl/svremover/RemovingRecordBatch.java        |   4 +-
 .../exec/physical/impl/union/UnionRecordBatch.java |   2 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |   2 +-
 .../drill/exec/record/AbstractRecordBatch.java     |  40 ++---
 .../exec/record/AbstractSingleRecordBatch.java     |  71 ++++-----
 18 files changed, 426 insertions(+), 424 deletions(-)

commit 83fb40e9aa05380f30ea18f92d6d0f8715c03204
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sat Jun 7 13:50:18 2014 -0700

    Curator needs to be started before ServiceCache can be built.

 .../main/java/org/apache/drill/exec/coord/zk/ZKClusterCoordinator.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit ffdeab09a0b2ddb6fe65b4ccb5fc27e7e0c0e7d8
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sat Jun 7 13:35:26 2014 -0700

    Do not uppercase storage plugin configuration names.

 .../main/java/org/apache/drill/exec/server/rest/StorageResources.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 292c2d1487f5bcadef62ce4a6f0ddfb5e0b7f128
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sat Jun 7 13:01:38 2014 -0700

    Added 'extlib' folder which will contain 3rd party jars which override jars from other (Hadoop, HBase) projects.

 distribution/src/assemble/bin.xml          | 41 +++++++++++++++++---------
 distribution/src/resources/drill-config.sh | 46 +++++++++++++++++++++++-------
 2 files changed, 63 insertions(+), 24 deletions(-)

commit 4eea03a052d1b0a9190b9d1512088da9f81cc037
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jun 7 08:38:55 2014 -0700

    add servlets to expose server level metrics.

 exec/java-exec/pom.xml                             |  5 ++
 .../apache/drill/exec/metrics/DrillMetrics.java    | 84 ++++++++++++++++------
 .../apache/drill/exec/server/BootStrapContext.java |  3 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  7 ++
 .../org/apache/drill/exec/work/WorkManager.java    | 16 +++++
 .../test/java/org/apache/drill/exec/ExecTest.java  |  6 ++
 6 files changed, 98 insertions(+), 23 deletions(-)

commit ed260f1d023d23dc78c7c98f0dd40d9d0e021750
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sat May 31 17:47:24 2014 -0700

    DRILL-925: fix issues with dynamic memory allocation

 .../main/codegen/templates/FixedValueVectors.java  | 60 +++++++++++++++++-----
 .../codegen/templates/VariableLengthVectors.java   | 10 +++-
 .../drill/exec/record/RecordBatchLoader.java       |  1 +
 3 files changed, 57 insertions(+), 14 deletions(-)

commit 2dec152b44ba2db5c4bde94e1184131e98a3942b
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri May 30 16:21:49 2014 -0700

    Use PStore for profiles, partial profiles on running queries
    
    Full profiles through rpc layer

 .../drill/exec/physical/impl/ScreenCreator.java    |    3 +-
 .../impl/materialize/QueryWritableBatch.java       |    3 +-
 .../impl/materialize/VectorRecordMaterializer.java |    3 +-
 .../drill/exec/rpc/control/ControlRpcConfig.java   |    3 +
 .../drill/exec/rpc/control/ControlTunnel.java      |   22 +
 .../exec/rpc/control/DefaultInstanceHandler.java   |    5 +-
 .../drill/exec/rpc/user/QueryResultBatch.java      |    2 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    |    4 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |    2 +-
 .../apache/drill/exec/rpc/user/UserRpcConfig.java  |    2 +-
 .../apache/drill/exec/server/rest/DrillRoot.java   |   55 +-
 .../org/apache/drill/exec/work/WorkManager.java    |    5 +
 .../drill/exec/work/batch/ControlHandlerImpl.java  |   20 +
 .../apache/drill/exec/work/foreman/Foreman.java    |   28 +-
 .../drill/exec/work/foreman/QueryManager.java      |   36 +-
 .../drill/exec/work/foreman/QueryStatus.java       |  109 +-
 .../apache/drill/exec/work/user/UserWorker.java    |    4 +-
 .../src/main/resources/rest/status/error.ftl       |   21 +
 .../src/main/resources/rest/status/list.ftl        |   27 +-
 .../org/apache/drill/exec/proto/BitControl.java    |   63 +-
 .../org/apache/drill/exec/proto/ExecProtos.java    |  643 +---
 .../apache/drill/exec/proto/SchemaExecProtos.java  |  118 -
 .../drill/exec/proto/SchemaUserBitShared.java      |  343 +-
 .../apache/drill/exec/proto/SchemaUserProtos.java  |  307 --
 .../org/apache/drill/exec/proto/UserBitShared.java | 3299 +++++++++++++++++++-
 .../org/apache/drill/exec/proto/UserProtos.java    | 2645 +---------------
 .../drill/exec/proto/beans/QueryProfile.java       |   96 +-
 protocol/src/main/protobuf/BitControl.proto        |   10 +-
 protocol/src/main/protobuf/User.proto              |   27 -
 protocol/src/main/protobuf/UserBitShared.proto     |   33 +-
 30 files changed, 3987 insertions(+), 3951 deletions(-)

commit 02263ed8ce086800b8c9e0d8657d00f565d001a9
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Jun 6 19:56:22 2014 -0700

    Log Drillbit environment at start up.

 .../src/main/java/org/apache/drill/exec/server/Drillbit.java       | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit c04e1a817d5f2ef8c5474cb153c0c8d3a8bfc2f0
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Jun 6 19:40:00 2014 -0700

    Disable store persistence for unit tests.

 .../apache/drill/common/config/DrillConfig.java    | 22 +++++++++++++++-------
 .../apache/drill/hbase/TestHBaseTableProvider.java |  4 +++-
 .../test/java/org/apache/drill/BaseTestQuery.java  | 10 +++++++++-
 3 files changed, 27 insertions(+), 9 deletions(-)

commit 41f661609ca716553e9ad1e099f75cf17678397c
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Jun 6 16:31:31 2014 -0700

    Drill configuration changes
    
    + Moved bootstrap-storage-plugins.json from "conf/" to "java-exec" jar.
    + Cleared drill-override.conf and added drill-override-example.conf
    + Updated maven assembly descriptor.

 distribution/src/assemble/bin.xml                  |   2 +-
 .../src/resources/drill-override-example.conf      | 146 +++++++++++++++++++++
 distribution/src/resources/drill-override.conf     | 138 +++----------------
 .../main}/resources/bootstrap-storage-plugins.json |   0
 .../java-exec/src/main/resources/drill-module.conf |   8 +-
 5 files changed, 171 insertions(+), 123 deletions(-)

commit fd1be925e6b8ef27b9ee86d11fb1942aac2d2558
Author: Sudheesh Katkam <skatkam@maprtech.com>
Date:   Fri May 30 15:56:55 2014 -0700

    Add Web UIs using templates.
    
    * Added GUI to storage.
    * Query submission and sorted results.

 .../apache/drill/exec/server/DrillbitContext.java  |   4 +
 .../apache/drill/exec/server/rest/DrillRoot.java   | 155 ++++++++++++++++++---
 .../drill/exec/server/rest/StorageResources.java   |   2 +-
 exec/java-exec/src/main/resources/rest/generic.ftl |  72 ++++++++++
 .../src/main/resources/rest/status/index.ftl       |  27 ++++
 .../src/main/resources/rest/status/list.ftl        |  43 +++++-
 .../src/main/resources/rest/status/profile.ftl     |  69 ++++++---
 .../src/main/resources/rest/status/query.ftl       |  54 +++++++
 .../src/main/resources/rest/status/result.ftl      |  40 ++++++
 .../src/main/resources/rest/status/status.ftl      |  29 ++++
 .../src/main/resources/rest/storage/list.ftl       |  63 +++++++--
 .../src/main/resources/rest/storage/update.ftl     |  52 ++++---
 12 files changed, 540 insertions(+), 70 deletions(-)

commit 4847a31fc3a48c3f6551daa71793b75a27d1df67
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Jun 4 19:56:21 2014 -0700

    DRILL-909: TestSimpleExternalSort.outOfMemoryExternalSort() hangs with use of UnlimitedRawBatchBuffer
    
    - *Not a fix*. Disabling the failing test until a fix is checked in.

 .../apache/drill/exec/physical/impl/xsort/TestSimpleExternalSort.java   | 2 ++
 1 file changed, 2 insertions(+)

commit e46f1beb3234cdf66b507db9932fd0dc569557c0
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jun 3 09:00:21 2014 -0700

    Enable editing of storage plugin via http

 distribution/src/resources/drill-override.conf     |   4 +-
 exec/java-exec/pom.xml                             |   9 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  11 +-
 .../drill/exec/server/rest/DrillRestServer.java    |  35 +++++-
 .../apache/drill/exec/server/rest/DrillRoot.java   |   7 ++
 .../drill/exec/server/rest/StorageResources.java   | 137 +++++++++++++++++++++
 .../drill/exec/store/StoragePluginRegistry.java    |  75 +++++++++--
 .../src/main/resources/rest/storage/list.ftl       |  22 ++++
 .../src/main/resources/rest/storage/update.ftl     |  33 +++++
 protocol/src/main/protobuf/ExecutionProtos.proto   |   6 -
 10 files changed, 311 insertions(+), 28 deletions(-)

commit 6de54c450cdc5638f65a62b8c01551d79bfb59ed
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Jun 2 19:58:08 2014 -0700

    Delete views after test and close ResultSet objects after use

 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 36 ++++++++++++++++++++--
 1 file changed, 34 insertions(+), 2 deletions(-)

commit 76d0e6f2355496393fe5dd945137633ea5043c80
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Jun 2 23:06:53 2014 -0700

    Adding HBase Persistent Store.
    
    + Modified some interfaces and configuration keys.
    
    Conflicts:
            exec/java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java

 .../exec/store/hbase/DrillHBaseConstants.java      |  15 +-
 .../exec/store/hbase/HBaseStoragePluginConfig.java |  10 +
 .../drill/exec/store/hbase/config/HBasePStore.java | 212 +++++++++++++++++++++
 .../store/hbase/config/HBasePStoreProvider.java    | 115 +++++++++++
 .../src/main/resources/drill-module.conf           |  34 +++-
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |   3 +-
 .../hbase/TestHBaseRegionScanAssignments.java      |   6 +
 .../apache/drill/hbase/TestHBaseTableProvider.java | 101 ++++++++++
 distribution/src/assemble/bin.xml                  |   2 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   5 +-
 .../drill/exec/coord/zk/ZKClusterCoordinator.java  |   1 +
 .../org/apache/drill/exec/ops/QueryContext.java    |   6 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  28 +--
 .../apache/drill/exec/server/DrillbitContext.java  |   9 +-
 .../exec/server/options/SystemOptionManager.java   |  18 +-
 .../drill/exec/store/StoragePluginRegistry.java    |  10 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |   6 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  12 +-
 .../exec/store/sys/{PTable.java => PStore.java}    |   2 +-
 .../sys/{PTableConfig.java => PStoreConfig.java}   |  25 +--
 .../{TableProvider.java => PStoreProvider.java}    |   6 +-
 .../drill/exec/store/sys/PStoreRegistry.java       |  63 ++++++
 .../local/{LocalTable.java => LocalPStore.java}    |  12 +-
 ...TableProvider.java => LocalPStoreProvider.java} |  26 +--
 ...riteLocalTable.java => NoWriteLocalPStore.java} |   9 +-
 .../store/sys/zk/{ZkPTable.java => ZkPStore.java}  |  16 +-
 ...{ZkTableProvider.java => ZkPStoreProvider.java} |  29 ++-
 .../org/apache/drill/exec/work/WorkManager.java    |   8 +-
 .../java-exec/src/main/resources/drill-module.conf |   3 +-
 .../test/java/org/apache/drill/PlanningBase.java   |   6 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   4 +-
 .../{PTableTestUtil.java => PStoreTestUtil.java}   |  16 +-
 ...ableProviders.java => TestPStoreProviders.java} |  22 +--
 pom.xml                                            |   2 +-
 34 files changed, 698 insertions(+), 144 deletions(-)

commit 872d0abf5218ea7da6a22f42a5917e8a88447e26
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu May 29 16:44:32 2014 -0700

    Enable View persistence, Storage Plugin and System option persistence.
    
    Conflicts:
            exec/java-exec/src/main/java/org/apache/drill/exec/ExecConstants.java
            exec/java-exec/src/test/java/org/apache/drill/exec/cache/TestCacheSerialization.java

 .../drill/common/expression/parser/ExprParser.g    |    2 +
 .../drill/common/logical/PlanProperties.java       |   13 +-
 ...plugins.json => bootstrap-storage-plugins.json} |    0
 ...plugins.json => bootstrap-storage-plugins.json} |    0
 exec/java-exec/pom.xml                             |   20 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |    2 +
 .../apache/drill/exec/cache/DistributedCache.java  |  165 +-
 .../apache/drill/exec/cache/DistributedMap.java    |   13 +-
 .../drill/exec/cache/DistributedMultiMap.java      |    6 +-
 .../exec/cache/JacksonAdvancedSerializer.java      |   65 -
 .../drill/exec/cache/JacksonDrillSerializable.java |   77 -
 .../drill/exec/cache/JacksonSerializable.java      |   68 -
 .../apache/drill/exec/cache/ProtoSerializable.java |   90 -
 .../exec/cache/ProtobufDrillSerializable.java      |   73 -
 .../drill/exec/cache/SerializationDefinition.java  |    7 +-
 .../exec/cache/VectorAccessibleSerializable.java   |    2 +-
 .../cache/hazel/HCVectorAccessibleSerializer.java  |   58 -
 .../apache/drill/exec/cache/hazel/HazelCache.java  |  260 --
 .../drill/exec/cache/hazel/ProtoBufImpl.java       |   49 -
 .../drill/exec/cache/hazel/ProtoBufWrap.java       |   67 -
 .../apache/drill/exec/cache/hazel/ProtoMap.java    |   52 -
 .../apache/drill/exec/cache/infinispan/ICache.java |  172 +-
 .../apache/drill/exec/cache/local/LocalCache.java  |  271 +-
 .../org/apache/drill/exec/client/DrillClient.java  |    2 +-
 .../apache/drill/exec/client/QuerySubmitter.java   |    2 +-
 .../drill/exec/coord/ClusterCoordinator.java       |    6 +-
 .../drill/exec/coord/DistributedSemaphore.java     |   26 +
 .../exec/coord/DrillServiceInstanceHelper.java     |   13 +-
 .../coord/{ => local}/LocalClusterCoordinator.java |   57 +-
 .../exec/coord/{ => zk}/ZKClusterCoordinator.java  |   58 +-
 .../exec/coord/{ => zk}/ZKRegistrationHandle.java  |    3 +-
 .../exec/coord/zk/ZkDistributedSemaphore.java      |   61 +
 .../apache/drill/exec/dotdrill/DotDrillFile.java   |   58 +
 .../apache/drill/exec/dotdrill/DotDrillType.java   |   52 +
 .../apache/drill/exec/dotdrill/DotDrillUtil.java   |   61 +
 .../java/org/apache/drill/exec/dotdrill/View.java  |  146 +
 .../org/apache/drill/exec/ops/QueryContext.java    |   10 +-
 .../OrderedPartitionRecordBatch.java               |   23 +-
 .../drill/exec/physical/impl/xsort/BatchGroup.java |    2 +-
 .../drill/exec/planner/logical/DrillViewTable.java |   53 +-
 .../drill/exec/planner/logical/StoragePlugins.java |    3 +-
 .../exec/planner/sql/ExpandingConcurrentMap.java   |   23 +-
 .../exec/planner/sql/handlers/ViewHandler.java     |   19 +-
 .../apache/drill/exec/record/WritableBatch.java    |    4 +-
 .../drill/exec/rpc/control/WorkEventBus.java       |   15 +-
 .../apache/drill/exec/rpc/user/UserSession.java    |    3 -
 .../org/apache/drill/exec/rpc/user/ViewStore.java  |   93 -
 .../org/apache/drill/exec/server/Drillbit.java     |   16 +-
 .../apache/drill/exec/server/DrillbitContext.java  |   12 +-
 .../apache/drill/exec/server/RemoteServiceSet.java |    4 +-
 .../drill/exec/server/options/OptionValue.java     |    8 +-
 .../exec/server/options/SystemOptionManager.java   |   39 +-
 .../apache/drill/exec/server/rest/DrillRoot.java   |   14 +-
 .../drill/exec/store/StoragePluginRegistry.java    |  102 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |    8 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  127 +-
 .../org/apache/drill/exec/store/sys/PTable.java    |   27 +
 .../apache/drill/exec/store/sys/PTableConfig.java  |   77 +
 .../sys/TableProvider.java}                        |   12 +-
 .../drill/exec/store/sys/local/LocalTable.java     |  179 ++
 .../exec/store/sys/local/LocalTableProvider.java   |   61 +
 .../exec/store/sys/local/NoWriteLocalTable.java    |   63 +
 .../store/sys/serialize/JacksonSerializer.java     |   46 +
 .../sys/serialize/PClassSerializer.java}           |   16 +-
 .../exec/store/sys/serialize/ProtoSerializer.java  |   55 +
 .../apache/drill/exec/store/sys/zk/ZkPTable.java   |  182 ++
 .../drill/exec/store/sys/zk/ZkTableProvider.java   |   50 +
 .../org/apache/drill/exec/work/WorkManager.java    |    5 +-
 .../exec/work/batch/SpoolingRawBatchBuffer.java    |    1 +
 .../apache/drill/exec/work/foreman/Foreman.java    |   12 +-
 .../drill/exec/work/foreman/QueryStatus.java       |   14 +-
 .../java-exec/src/main/resources/drill-module.conf |   12 +-
 .../test/java/org/apache/drill/PlanningBase.java   |    8 +-
 .../org/apache/drill/exec/DrillSystemTestBase.java |   44 +-
 .../org/apache/drill/exec/TestWithZookeeper.java   |   81 +
 .../java/org/apache/drill/exec/cache/ISpan.java    |   94 -
 .../drill/exec/cache/TestCacheSerialization.java   |   68 +-
 .../drill/exec/client/DrillClientSystemTest.java   |    6 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |    3 +-
 .../apache/drill/exec/store/TestOrphanSchema.java  |   85 -
 .../drill/exec/store/sys/PTableTestUtil.java       |   66 +
 .../drill/exec/store/sys/TestTableProviders.java   |   58 +
 ...plugins.json => bootstrap-storage-plugins.json} |    0
 .../java-exec/src/test/resources/drill-module.conf |    2 +-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |    9 +-
 ...plugins.json => bootstrap-storage-plugins.json} |    0
 pom.xml                                            |    2 +-
 .../drill/exec/proto/BitControlHandshake.java      |  206 ++
 .../org/apache/drill/exec/proto/BitStatus.java     |  174 ++
 .../apache/drill/exec/proto/FragmentStatus.java    |  187 ++
 .../org/apache/drill/exec/proto/PlanFragment.java  |  466 +++
 protocol/org/apache/drill/exec/proto/RpcType.java  |   65 +
 .../apache/drill/exec/proto/WorkQueueStatus.java   |  206 ++
 protocol/output                                    | 3076 ++++++++++++++++++++
 protocol/pom.xml                                   |   93 +-
 .../org/apache/drill/common/types/DataMode.java    |   51 +
 .../org/apache/drill/common/types/MajorType.java   |  273 ++
 .../org/apache/drill/common/types/MinorType.java   |  117 +
 .../drill/common/types/SchemaTypeProtos.java       |  173 ++
 .../org/apache/drill/exec/proto/BitControl.java    |   60 +-
 .../org/apache/drill/exec/proto/ExecProtos.java    |  643 +++-
 .../apache/drill/exec/proto/SchemaBitControl.java  |  733 +++++
 .../org/apache/drill/exec/proto/SchemaBitData.java |  415 +++
 .../drill/exec/proto/SchemaCoordinationProtos.java |  434 +++
 .../apache/drill/exec/proto/SchemaExecProtos.java  |  272 ++
 .../drill/exec/proto/SchemaGeneralRPCProtos.java   |  524 ++++
 .../drill/exec/proto/SchemaSchemaDefProtos.java    |   26 +
 .../drill/exec/proto/SchemaUserBitShared.java      | 1801 ++++++++++++
 .../apache/drill/exec/proto/SchemaUserProtos.java  | 1064 +++++++
 .../org/apache/drill/exec/proto/UserBitShared.java |  190 +-
 .../org/apache/drill/exec/proto/beans/Ack.java     |  163 ++
 .../drill/exec/proto/beans/BitClientHandshake.java |  209 ++
 .../exec/proto/beans/BitControlHandshake.java      |  209 ++
 .../drill/exec/proto/beans/BitServerHandshake.java |  163 ++
 .../apache/drill/exec/proto/beans/BitStatus.java   |  175 ++
 .../drill/exec/proto/beans/BitToUserHandshake.java |  163 ++
 .../drill/exec/proto/beans/CompleteRpcMessage.java |  210 ++
 .../drill/exec/proto/beans/CoreOperatorType.java   |  107 +
 .../drill/exec/proto/beans/DrillPBError.java       |  265 ++
 .../exec/proto/beans/DrillServiceInstance.java     |  209 ++
 .../drill/exec/proto/beans/DrillbitEndpoint.java   |  253 ++
 .../drill/exec/proto/beans/FragmentHandle.java     |  209 ++
 .../exec/proto/beans/FragmentRecordBatch.java      |  278 ++
 .../drill/exec/proto/beans/FragmentState.java      |   57 +
 .../drill/exec/proto/beans/FragmentStatus.java     |  189 ++
 .../exec/proto/beans/MajorFragmentProfile.java     |  197 ++
 .../apache/drill/exec/proto/beans/MetricValue.java |  207 ++
 .../exec/proto/beans/MinorFragmentProfile.java     |  355 +++
 .../apache/drill/exec/proto/beans/NamePart.java    |  237 ++
 .../apache/drill/exec/proto/beans/NodeStatus.java  |  185 ++
 .../drill/exec/proto/beans/OperatorProfile.java    |  317 ++
 .../drill/exec/proto/beans/ParsingError.java       |  229 ++
 .../drill/exec/proto/beans/PlanFragment.java       |  481 +++
 .../apache/drill/exec/proto/beans/Property.java    |  199 ++
 .../org/apache/drill/exec/proto/beans/QueryId.java |  185 ++
 .../drill/exec/proto/beans/QueryProfile.java       |  309 ++
 .../apache/drill/exec/proto/beans/QueryResult.java |  445 +++
 .../drill/exec/proto/beans/QueryResultsMode.java   |   47 +
 .../apache/drill/exec/proto/beans/QueryType.java   |   51 +
 .../drill/exec/proto/beans/RecordBatchDef.java     |  219 ++
 .../drill/exec/proto/beans/RequestResults.java     |  187 ++
 .../org/apache/drill/exec/proto/beans/Roles.java   |  256 ++
 .../apache/drill/exec/proto/beans/RpcChannel.java  |   51 +
 .../apache/drill/exec/proto/beans/RpcFailure.java  |  229 ++
 .../apache/drill/exec/proto/beans/RpcHeader.java   |  207 ++
 .../org/apache/drill/exec/proto/beans/RpcMode.java |   51 +
 .../org/apache/drill/exec/proto/beans/RpcType.java |   65 +
 .../apache/drill/exec/proto/beans/RunQuery.java    |  207 ++
 .../drill/exec/proto/beans/SerializedField.java    |  311 ++
 .../drill/exec/proto/beans/StreamProfile.java      |  207 ++
 .../drill/exec/proto/beans/UserCredentials.java    |  163 ++
 .../drill/exec/proto/beans/UserProperties.java     |  175 ++
 .../drill/exec/proto/beans/UserToBitHandshake.java |  255 ++
 .../apache/drill/exec/proto/beans/ValueMode.java   |   51 +
 .../apache/drill/exec/proto/beans/ViewPointer.java |  185 ++
 .../drill/exec/proto/beans/WorkQueueStatus.java    |  209 ++
 protocol/src/main/protobuf/BitControl.proto        |    2 +-
 protocol/src/main/protobuf/ExecutionProtos.proto   |    6 +
 protocol/src/main/protobuf/UserBitShared.proto     |    2 +-
 159 files changed, 22746 insertions(+), 1837 deletions(-)

commit 37a47765542047d04690f88854b0353cffe067fc
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Jun 2 13:58:11 2014 -0700

    DRILL-887: TestQueriesOnLargeFile.testMergingReceiver fails on Windows

 common/src/test/java/org/apache/drill/test/DrillTest.java | 15 ++++++++++++++-
 .../org/apache/drill/exec/TestQueriesOnLargeFile.java     |  2 +-
 .../resources/largefiles/merging_receiver_large_data.json |  4 ++--
 3 files changed, 17 insertions(+), 4 deletions(-)

commit 1c53c2d324810cc7a9efe8c5e82b7aa43a7c7bde
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Jun 8 19:12:08 2014 -0700

    reduce logging statement overhead in removing record batch

 .../apache/drill/exec/physical/impl/svremover/RemovingRecordBatch.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fb2091ad74bc677b309e5d32d375729dd5bf45bc
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Jun 8 09:35:28 2014 -0700

    Update Data Collection and batch buffers to one or all streams for auto read depending on use.

 .../drill/exec/planner/logical/DrillJoinRule.java  |  2 +-
 .../exec/work/batch/AbstractDataCollector.java     | 39 +++++++++++++---
 .../drill/exec/work/batch/RawBatchBuffer.java      |  2 +-
 .../drill/exec/work/batch/ReadController.java      | 23 ++++++++++
 .../exec/work/batch/SpoolingRawBatchBuffer.java    |  4 +-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   | 53 ++++++++++++++--------
 6 files changed, 93 insertions(+), 30 deletions(-)

commit 8adb52733601a8dfc5ca01eebdd944cabf709f0d
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sat Jun 7 23:11:52 2014 -0700

    Make sure all minorFragments get work in scan

 .../apache/drill/exec/store/schedule/AssignmentCreator.java    | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit e7115e91875b5453ca24e7e5995c5eba5f452e29
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sat Jun 7 19:41:54 2014 -0700

    Fix an issue with keys output for multiple output batches of hash aggregate.

 .../physical/impl/aggregate/HashAggTemplate.java   | 52 ++++++----------------
 .../physical/impl/common/HashTableTemplate.java    | 21 +++------
 2 files changed, 19 insertions(+), 54 deletions(-)

commit 5baa4ad10eccbc6829effd1c697fee34b3466c15
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sat Jun 7 19:41:01 2014 -0700

    Disable EXTRA_DEBUG in streaming agg

 .../apache/drill/exec/physical/impl/aggregate/StreamingAggTemplate.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 734387b875e1e45211899a59cfe476b198d011ba
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sat Jun 7 19:36:21 2014 -0700

    Reset outputCount on each outgoing batch in Streaming Aggregate

 .../drill/exec/physical/impl/aggregate/StreamingAggTemplate.java       | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 4cc4b21ed4e731bfa9c8fab992ba63be5d98ec09
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jun 7 18:30:24 2014 -0700

    add additional logging messages.

 .../exec/physical/impl/aggregate/StreamingAggTemplate.java     |  1 +
 .../drill/exec/vector/allocator/FixedVectorAllocator.java      |  8 ++++----
 .../drill/exec/vector/allocator/RepeatedVectorAllocator.java   |  7 +++++++
 .../drill/exec/vector/allocator/VariableEstimatedVector.java   | 10 ++++++++--
 .../drill/exec/vector/allocator/VariableVectorAllocator.java   |  9 ++++++++-
 5 files changed, 28 insertions(+), 7 deletions(-)

commit f39acf641cd6b23486d98a4269db83722de0ae08
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jun 7 18:01:56 2014 -0700

    enable extra debug on stream agg

 .../apache/drill/exec/physical/impl/aggregate/StreamingAggTemplate.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 31283c32299fd9607f870ceb95518e0c33515132
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jun 7 17:56:21 2014 -0700

    more logging in streaming agg

 .../impl/aggregate/StreamingAggTemplate.java       | 86 ++++++++++++----------
 1 file changed, 47 insertions(+), 39 deletions(-)

commit 4935b19b184f3036c7eff12025dc67cf1e0a49e1
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sat Jun 7 17:29:21 2014 -0700

    Reset fragment allocation for each minor fragment

 .../org/apache/drill/exec/planner/fragment/SimpleParallelizer.java   | 1 +
 .../main/java/org/apache/drill/exec/planner/fragment/Wrapper.java    | 5 +++++
 2 files changed, 6 insertions(+)

commit 3c47c07e318e610cd99b557b16ef6f96810617f1
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sat Jun 7 13:57:50 2014 -0700

    Logging to track allocator initial reservation

 .../src/main/java/org/apache/drill/exec/memory/TopLevelAllocator.java   | 2 ++
 .../src/main/java/org/apache/drill/exec/planner/fragment/Wrapper.java   | 1 +
 2 files changed, 3 insertions(+)

commit 0ad7124eff4cb3ee5c6b68070c9f78ae7dcc7aac
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Jun 6 17:27:47 2014 -0700

    Fix DRILL-926: Index out of bound exception when creating outgoing filter record batch when incoming SV mode is NONE.

 .../apache/drill/exec/physical/impl/filter/FilterTemplate2.java  | 9 +++++----
 .../src/main/java/org/apache/drill/exec/record/RecordBatch.java  | 2 +-
 2 files changed, 6 insertions(+), 5 deletions(-)

commit cca3cec18914f7b25481f57ad2fe422a8ec3d475
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Jun 6 10:52:01 2014 -0700

    DRILL-924: Update trim so that it synchronized within the arena to avoid inconsistent state.

 .../main/java/io/netty/buffer/PoolChunkListL.java  | 49 +++++++++++-----------
 1 file changed, 25 insertions(+), 24 deletions(-)

commit e830f7faa1c36fd0915146fea771009c3d4f90b3
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jun 5 12:10:11 2014 -0700

    DRILL-913: Fix IOOB in HashJoinProbe when input is empty batch

 .../apache/drill/exec/physical/impl/join/HashJoinProbeTemplate.java   | 4 ++++
 1 file changed, 4 insertions(+)

commit aad2c4ff29a5246b55b1640a29e04fc51066a63b
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jun 5 09:23:28 2014 -0700

    DRILL-799: Use static constants instead of Math.pow() to compute powers of 10 while adjusting scale of decimal data type.

 .../apache/drill/common/util/DecimalUtility.java   | 54 ++++++++++++++++++++++
 exec/java-exec/src/main/codegen/data/Casts.tdd     |  4 +-
 .../templates/Decimal/CastDecimalFloat.java        |  2 +-
 .../codegen/templates/Decimal/CastDecimalInt.java  |  2 +-
 .../templates/Decimal/CastDecimalVarchar.java      |  4 +-
 .../codegen/templates/Decimal/CastIntDecimal.java  |  2 +-
 .../templates/Decimal/CastSrcDecimalSimple.java    |  6 +--
 .../templates/Decimal/CastVarCharDecimal.java      |  6 +--
 .../templates/Decimal/DecimalFunctions.java        | 29 ++++++------
 9 files changed, 82 insertions(+), 27 deletions(-)

commit 5746032b78438e4c772ed2c6da6c7f7b2e70c868
Author: Aman Sinha <asinha@maprtech.com>
Date:   Thu Jun 5 18:58:43 2014 -0700

    DRILL-918: During Sort, handle the case where the child SelectionVector produces 0 records.

 .../drill/exec/physical/impl/xsort/ExternalSortBatch.java     | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 3db1d5a320ab089b27ac189e114ff87a7d4492e5
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Jun 5 19:19:10 2014 -0700

    disable failing time stamp conversion on linux

 .../apache/drill/jdbc/test/TestFunctionsQuery.java | 24 ++--------------------
 1 file changed, 2 insertions(+), 22 deletions(-)

commit 56a34fda6a837da597333d16b8d2c96afb830528
Author: Harold Dost <harolddost@gmail.com>
Date:   Tue Jun 3 09:50:24 2014 -0400

    DRILL-894: Update Dependency of com.googlecode.maven-download-plugin:download-maven-plugin:jar:1.2.0-SNAPSHOT to com.googlecode.maven-download-plugin:download-maven-plugin:jar:1.2.0

 contrib/data/tpch-sample-data/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 188aeed7261597d1ed091ee4284f06117bad0333
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Jun 5 15:45:06 2014 -0700

    disable multiphase aggregate by default

 .../java/org/apache/drill/exec/planner/physical/PlannerSettings.java  | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9601d8334970dbc873edf3b13c419ae10f804410
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Jun 5 11:09:35 2014 -0700

    Turn off invalid project push down tests until DRILL-912 is fixed.

 .../java-exec/src/test/java/org/apache/drill/TestProjectPushDown.java | 4 ++++
 1 file changed, 4 insertions(+)

commit 163219c2a802481cbd90171912540250d4059ea8
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Wed Jun 4 11:21:32 2014 -0700

    DRILL-901: Fix Parquet read bug with VarBinary.
    
    Also now throw an exception if parquet reader is not passed any columns found in the file. Previously a NPE was thrown as the setup method exited early, skipping an object initialization that manifested in the first call to the next method.

 .../drill/exec/store/parquet/PageReadStatus.java   |  2 +-
 .../exec/store/parquet/ParquetRecordReader.java    |  2 +-
 .../store/parquet/ParquetRecordReaderTest.java     |  9 ++++++++
 .../test/resources/parquet/par_writer_test.json    | 26 ++++++++++++++++++++++
 4 files changed, 37 insertions(+), 2 deletions(-)

commit 393adee7e441cb5b03b4489e1497282c68ffbf52
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Jun 5 00:22:42 2014 -0700

    DRILL-574: Fix RPAD to truncate from right, when desired length is smaller than input length.

 .../java/org/apache/drill/exec/expr/fn/impl/StringFunctions.java   | 6 +++---
 .../org/apache/drill/exec/physical/impl/TestStringFunctions.java   | 2 +-
 .../test/java/org/apache/drill/jdbc/test/TestFunctionsQuery.java   | 7 +++++--
 3 files changed, 9 insertions(+), 6 deletions(-)

commit 1726d734a8e7e90cdb12ad092c0b79eb6e4f3cb2
Author: Aman Sinha <asinha@maprtech.com>
Date:   Thu May 15 16:41:24 2014 -0700

    Support multiple output batches for hash aggr.

 .../exec/physical/impl/aggregate/HashAggBatch.java |  24 ++-
 .../physical/impl/aggregate/HashAggTemplate.java   | 173 +++++++++++++++++----
 .../physical/impl/aggregate/HashAggregator.java    |   5 +
 .../drill/exec/physical/impl/common/HashTable.java |   2 +-
 .../physical/impl/common/HashTableTemplate.java    |  16 ++
 .../org/apache/drill/exec/record/RecordBatch.java  |   4 +-
 6 files changed, 174 insertions(+), 50 deletions(-)

commit 3f21451e9cb9d9303afc933a7767a1c774234991
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Jun 5 09:36:21 2014 -0700

    Enable FragmentExecutor to catch assertion errors and return to client.

 .../main/java/org/apache/drill/exec/work/fragment/FragmentExecutor.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e62c3650d2c882bd2cf354d7a0dbc506a58fc051
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Jun 2 17:43:57 2014 -0700

    DRILL-892: Send Batch is leaking memory when send fails to establish connection to remote fragment.
    
    Also:
    1. Maitain one StatusHandler for all OutgoingRecordBatches in Partitioner.
    2. In FragmentExecutor check for failures set in FragementContext.

 .../impl/partitionsender/PartitionSenderRootExec.java    |  9 ++++++++-
 .../exec/physical/impl/partitionsender/Partitioner.java  |  3 ++-
 .../impl/partitionsender/PartitionerTemplate.java        | 16 ++++++++--------
 .../java/org/apache/drill/exec/rpc/data/DataTunnel.java  | 11 +++++++++--
 .../drill/exec/work/fragment/FragmentExecutor.java       | 16 ++++++++++++----
 5 files changed, 39 insertions(+), 16 deletions(-)

commit c6c3cd581f7ec845bf8b21ce1c776e2fecbab291
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri May 30 10:31:38 2014 -0700

    DRILL-869: ExprParser fails when operators have space in name.

 .../java/org/apache/drill/common/expression/FunctionCallFactory.java  | 4 ++++
 1 file changed, 4 insertions(+)

commit 21a32838af08480ac470745f2e73e9d1041f4b74
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Jun 5 09:05:10 2014 -0700

    DRILL-903: Cleanup exising ValueVectors before allocating new ones in StringOutputRecordWriter.updateSchema.

 .../src/main/codegen/templates/StringOutputRecordWriter.java | 12 ++++++++++--
 .../apache/drill/exec/physical/impl/writer/TestWriter.java   |  1 -
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 6c8ce4f3642db2d29a10a3c0ca29e2a1e266b2da
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu Jun 5 02:50:01 2014 -0700

    DRILL-904: Fixes in project push down are causing HBase Filter pushdown to plan indefinitely.

 .../main/java/org/apache/drill/exec/store/hbase/HBaseGroupScan.java   | 1 +
 .../java/org/apache/drill/exec/store/hbase/HBaseStoragePlugin.java    | 4 +---
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 2f098639e73c6cddbc31f9fc1867281c409938a8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Jun 4 21:29:27 2014 -0700

    Disable TPCH13 due to flapping ioob

 exec/java-exec/src/test/java/org/apache/drill/TestTpchDistributed.java | 1 +
 1 file changed, 1 insertion(+)

commit 61dea8957c3e2c08cffb9a8536dcc90095decfa6
Author: Patrick Wong <pwong@maprtech.com>
Date:   Mon Jun 2 20:15:57 2014 +0000

    DRILL-322 - drill_dumpcat script works more like the other scripts now

 distribution/src/resources/drill_dumpcat | 31 -------------------------------
 1 file changed, 31 deletions(-)

commit ce007db51d6bf57ad081d39d615c071ba8f4540c
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Wed Jun 4 18:28:38 2014 -0700

    DRILL-908: NullableValueVector bug causes all values pulled out to be reported as non-null

 exec/java-exec/src/main/codegen/templates/NullableValueVectors.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c7bdf57e5fb5ae09acb653265427bdac80d55ed4
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Jun 4 18:50:28 2014 -0700

    Small fix to date casting function.  Make cartesian join infinite cost (not supported yet).  Enable additional running TPCH queries.

 .../drill/exec/expr/fn/impl/DateUtility.java       |  9 +++++---
 .../exec/planner/common/DrillJoinRelBase.java      | 26 +++++++++++++---------
 .../java/org/apache/drill/TestTpchDistributed.java | 12 ++++------
 .../java/org/apache/drill/TestTpchExplain.java     |  8 ++-----
 .../java/org/apache/drill/TestTpchSingleMode.java  |  9 ++------
 .../src/test/resources/queries/tpch/15.sql         |  2 +-
 6 files changed, 30 insertions(+), 36 deletions(-)

commit 9d3f95dfe2d227e9dc60e79bf7065d443e19cb3a
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Jun 4 13:09:58 2014 -0700

    DRILL-575: Modify rpad, lpad functions in DrillOptiq to add default padding parameter if one isn't specified.

 .../org/apache/drill/exec/planner/logical/DrillOptiq.java  |  7 +++++++
 .../org/apache/drill/jdbc/test/TestFunctionsQuery.java     | 14 ++++++++++++++
 2 files changed, 21 insertions(+)

commit 3168986b77504daf91018f654db9f5e065e755f6
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Jun 4 11:11:07 2014 -0700

    DRILL-758: Implement to_timestamp that accepts seconds from epoch as input.

 .../ToTimeStampFunction.java                       | 76 ++++++++++++++++++++++
 .../apache/drill/jdbc/test/TestFunctionsQuery.java | 21 ++++++
 2 files changed, 97 insertions(+)

commit 61fc5ea82ea32e327f5ce5f556826e615a71233c
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Jun 3 22:15:31 2014 -0700

    DRILL-710: Fix sign function to always return integer type.

 exec/java-exec/src/main/codegen/data/MathFunc.tdd      | 18 +++++++++---------
 .../org/apache/drill/jdbc/test/TestFunctionsQuery.java | 13 +++++++++++++
 2 files changed, 22 insertions(+), 9 deletions(-)

commit fd6cdf843b8629c5066dda147a8253525d613fca
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun Jun 1 16:44:44 2014 -0700

    DRILL-893: Remove unnecessary extract functions from time data type causing implicit cast errors.
    Enable tpch07.

 .../main/codegen/templates/DateIntervalFunctionTemplates/Extract.java   | 2 ++
 exec/java-exec/src/test/java/org/apache/drill/TestTpchDistributed.java  | 1 -
 exec/java-exec/src/test/java/org/apache/drill/TestTpchSingleMode.java   | 1 -
 3 files changed, 2 insertions(+), 2 deletions(-)

commit cec3fa559bab9a1378fc17b96294373325db72c1
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Jun 4 15:43:29 2014 -0700

    Update projection pushdown so that it rewrites row type of scan.

 .../drill/exec/store/hbase/HBaseStoragePlugin.java |   4 +-
 .../planner/logical/DrillPushProjIntoScan.java     |  27 ++--
 .../drill/exec/planner/physical/PrelUtil.java      | 172 +++++++++++++++++++--
 .../planner/physical/visitor/RelUniqifier.java     |   4 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   2 +
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |   3 +-
 .../drill/exec/store/direct/DirectGroupScan.java   |   2 +-
 .../exec/store/easy/json/JSONFormatPlugin.java     |   5 +
 .../exec/store/easy/text/TextFormatPlugin.java     |   5 +
 .../org/apache/drill/exec/store/hive/HiveScan.java |   2 +-
 .../test/java/org/apache/drill/PlanTestBase.java   |   2 +-
 .../drill/exec/cache/TestCacheSerialization.java   |   2 +-
 .../exec/physical/impl/writer/TestWriter.java      |  17 +-
 13 files changed, 206 insertions(+), 41 deletions(-)

commit 69e5d68640f45f60c1b47e187731c84eb9d90775
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Jun 4 09:31:55 2014 -0700

    add digest of group scan to scan rel.

 .../drill/exec/store/hbase/HBaseGroupScan.java     |  3 +-
 .../drill/exec/planner/logical/DrillScanRel.java   | 45 ++++++++++++------
 .../drill/exec/planner/physical/ScanPrel.java      | 18 ++++++--
 .../planner/physical/visitor/RelUniqifier.java     | 54 ++++++++++++++++++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    |  4 ++
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  2 +-
 .../drill/exec/store/direct/DirectGroupScan.java   |  2 +-
 .../exec/store/ischema/InfoSchemaGroupScan.java    |  2 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  3 +-
 .../drill/exec/store/sys/SystemTableScan.java      |  2 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  2 +-
 .../test/java/org/apache/drill/TestBugFixes.java   | 51 ++++++++++++++++++++
 12 files changed, 161 insertions(+), 27 deletions(-)

commit 65b36e83168507e9bd2ee62320deef08f6fb585c
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jun 3 17:02:38 2014 -0700

    Allow disabling of memory leak query termination using -Ddrill.exec.debug.error_on_leak=false

 .../templates/StringOutputRecordWriter.java        |  9 ++-
 .../java/org/apache/drill/exec/ExecConstants.java  |  3 +-
 .../apache/drill/exec/cache/local/LocalCache.java  |  2 +-
 .../org/apache/drill/exec/client/DrillClient.java  |  2 +-
 .../drill/exec/client/PrintingResultsListener.java |  6 +-
 .../apache/drill/exec/client/QuerySubmitter.java   |  2 +-
 .../org/apache/drill/exec/memory/Accountor.java    | 19 +++++--
 .../apache/drill/exec/memory/AtomicRemainder.java  | 15 +++--
 .../drill/exec/memory/TopLevelAllocator.java       | 65 ++++++++++++++--------
 .../apache/drill/exec/physical/impl/ScanBatch.java | 27 ++++-----
 .../apache/drill/exec/server/BootStrapContext.java |  8 +--
 .../exec/store/easy/text/TextFormatPlugin.java     |  2 +-
 .../exec/store/text/DrillTextRecordWriter.java     | 18 ++++--
 .../java-exec/src/main/resources/drill-module.conf |  3 +-
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |  7 ++-
 15 files changed, 118 insertions(+), 70 deletions(-)

commit 8490d7433f9d9171971ae6e1af02cb67215cd8ce
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed May 28 04:57:07 2014 -0700

    DRILL-672: Queries against HBase table do not close after the data is returned.

 .../drill/exec/store/hbase/HBaseGroupScan.java     | 215 ++++++++++++---
 .../drill/exec/store/hbase/HBaseRecordReader.java  |   4 +-
 .../drill/exec/store/hbase/HBaseSubScan.java       |  14 +-
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |  17 +-
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |   8 +-
 .../hbase/TestHBaseRegionScanAssignments.java      | 299 +++++++++++++++++++++
 6 files changed, 505 insertions(+), 52 deletions(-)

commit d929faace270302c5e00e272775be98d5a8f83e1
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed May 28 04:56:46 2014 -0700

    DRILL-855: Improve work assignment parallelization

 distribution/src/resources/drill-override.conf     |  1 +
 .../java/org/apache/drill/exec/ExecConstants.java  |  1 +
 .../drill/exec/physical/EndpointAffinity.java      | 20 ++++---
 .../drill/exec/planner/SimpleExecPlanner.java      |  8 +--
 .../exec/planner/fragment/SimpleParallelizer.java  | 47 +++++++++++----
 .../drill/exec/planner/fragment/Wrapper.java       | 68 ++++++++++++----------
 .../apache/drill/exec/work/foreman/Foreman.java    | 29 ++-------
 .../java-exec/src/main/resources/drill-module.conf | 16 +++++
 .../apache/drill/exec/pop/TestFragmentChecker.java |  4 +-
 9 files changed, 116 insertions(+), 78 deletions(-)

commit 292765e7211d6ddddb64e67bdcff64829a60a615
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun Jun 1 15:29:32 2014 -0700

    DRILL-818: Fix output type while adding date and interval types.

 .../DateIntervalArithmeticFunctions.java                  |  4 ++++
 .../apache/drill/exec/record/vector/TestDateTypes.java    |  2 +-
 .../java/org/apache/drill/jdbc/test/TestJdbcQuery.java    | 15 +++++++++++++--
 3 files changed, 18 insertions(+), 3 deletions(-)

commit d52e3251ba30edb7a5ab2fcc0e876fa8e1125bfd
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Sun Jun 1 11:06:29 2014 -0700

    DRILL-874 : Fix code to handle splitAndTransferTo in BitVector, when copy is required.

 .../org/apache/drill/exec/vector/BitVector.java    | 29 ++++++++++++----------
 1 file changed, 16 insertions(+), 13 deletions(-)

commit 760cbd421c131ed43f5011764c7e244b661bd84b
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed May 28 17:32:05 2014 -0700

    DRILL-853: Enable broadcast joins and fix some issues with BroadcastExchange and ScreenCreator.

 .../drill/exec/physical/impl/ScreenCreator.java    |  4 +-
 .../broadcastsender/BroadcastSenderRootExec.java   | 51 +++++++++++++++++-----
 .../exec/planner/physical/PlannerSettings.java     | 11 +++--
 .../apache/drill/exec/record/WritableBatch.java    |  6 +++
 .../org/apache/drill/exec/rpc/data/DataTunnel.java | 12 ++---
 .../exec/server/options/SystemOptionManager.java   |  1 +
 6 files changed, 63 insertions(+), 22 deletions(-)

commit 623a52e11e94cdfeac1bb734890ec7155cc760d5
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu May 29 17:23:05 2014 -0700

    DRILL-864: MergeJoinBatch fails to set record count in ValueVectors in container

 .../apache/drill/exec/physical/impl/join/MergeJoinBatch.java  | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit e1e5ea0eddd9199672ab01c5ae31f7a3c0a57249
Author: Parth Chandra <pchandra@maprtech.com>
Date:   Tue May 20 09:42:10 2014 -0700

    DRILL-423: C++ Client. Initial implementation (reviewed)

 .gitignore                                         |    7 +
 contrib/native/client/CMakeLists.txt               |   75 +
 .../native/client/cmakeModules/FindZookeeper.cmake |   44 +
 contrib/native/client/example/querySubmitter.cpp   |  312 +++
 .../parquet_scan_union_screen_physical.json        |   40 +
 contrib/native/client/resources/simple_plan.json   |   94 +
 contrib/native/client/resources/testTypes.json     |   30 +
 contrib/native/client/scripts/cpProtofiles.sh      |   48 +
 contrib/native/client/scripts/fixProtodefs.sh      |   58 +
 contrib/native/client/src/clientlib/CMakeLists.txt |   43 +
 .../native/client/src/clientlib/decimalUtils.cpp   |  168 ++
 .../native/client/src/clientlib/drillClient.cpp    |  288 ++
 .../client/src/clientlib/drillClientImpl.cpp       |  857 ++++++
 .../client/src/clientlib/drillClientImpl.hpp       |  316 +++
 contrib/native/client/src/clientlib/errmsgs.cpp    |   75 +
 contrib/native/client/src/clientlib/errmsgs.hpp    |   87 +
 .../native/client/src/clientlib/recordBatch.cpp    |  464 +++
 contrib/native/client/src/clientlib/rpcDecoder.cpp |  149 +
 contrib/native/client/src/clientlib/rpcDecoder.hpp |   38 +
 contrib/native/client/src/clientlib/rpcEncoder.cpp |  106 +
 contrib/native/client/src/clientlib/rpcEncoder.hpp |   55 +
 contrib/native/client/src/clientlib/rpcMessage.hpp |   50 +
 contrib/native/client/src/include/drill/common.hpp |   84 +
 .../client/src/include/drill/decimalUtils.hpp      |   61 +
 .../client/src/include/drill/drillClient.hpp       |  230 ++
 contrib/native/client/src/include/drill/drillc.hpp |   29 +
 .../client/src/include/drill/protobuf/Types.pb.h   |  409 +++
 .../client/src/include/drill/protobuf/User.pb.h    | 1944 +++++++++++++
 .../client/src/include/drill/recordBatch.hpp       |  873 ++++++
 .../native/client/src/protobuf/BitControl.pb.cc    | 2486 +++++++++++++++++
 contrib/native/client/src/protobuf/BitControl.pb.h | 1785 ++++++++++++
 contrib/native/client/src/protobuf/BitData.pb.cc   | 1116 ++++++++
 contrib/native/client/src/protobuf/BitData.pb.h    |  695 +++++
 contrib/native/client/src/protobuf/CMakeLists.txt  |  112 +
 .../native/client/src/protobuf/Coordination.pb.cc  | 1227 ++++++++
 .../native/client/src/protobuf/Coordination.pb.h   |  845 ++++++
 .../client/src/protobuf/ExecutionProtos.pb.cc      |  404 +++
 .../client/src/protobuf/ExecutionProtos.pb.h       |  251 ++
 .../native/client/src/protobuf/GeneralRPC.pb.cc    | 1381 +++++++++
 contrib/native/client/src/protobuf/GeneralRPC.pb.h |  975 +++++++
 contrib/native/client/src/protobuf/SchemaDef.pb.cc |   97 +
 contrib/native/client/src/protobuf/SchemaDef.pb.h  |   85 +
 contrib/native/client/src/protobuf/Types.pb.cc     |  611 ++++
 contrib/native/client/src/protobuf/User.pb.cc      | 2940 ++++++++++++++++++++
 .../native/client/src/protobuf/UserBitShared.pb.cc | 2596 +++++++++++++++++
 .../native/client/src/protobuf/UserBitShared.pb.h  | 1775 ++++++++++++
 pom.xml                                            |    2 +
 47 files changed, 26417 insertions(+)

commit b1d91c8187d197991306b4d054db135121ceca85
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu May 29 03:18:28 2014 -0700

    DRILL-856: Reduce code-generation size for MergingReceiver

 .../MergingReceiverGeneratorBase.java              |  13 +-
 .../mergereceiver/MergingReceiverTemplate.java     |  33 +--
 .../impl/mergereceiver/MergingRecordBatch.java     | 314 ++++-----------------
 3 files changed, 75 insertions(+), 285 deletions(-)

commit 58cf129bb801c40410b22f300150185fde857ce7
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed May 28 22:12:42 2014 -0700

    DRILL-854: PartitionSender generated code is too large

 .../impl/partitionsender/OutgoingRecordBatch.java  | 262 --------------------
 .../partitionsender/PartitionSenderRootExec.java   | 252 +++++--------------
 .../physical/impl/partitionsender/Partitioner.java |  18 +-
 .../impl/partitionsender/PartitionerTemplate.java  | 272 +++++++++++++++++++--
 .../impl/partitionsender/StatusHandler.java        |  64 +++++
 .../impl/svremover/RemovingRecordBatch.java        |  46 +---
 .../physical/impl/xsort/ExternalSortBatch.java     |   3 +-
 .../org/apache/drill/exec/vector/CopyUtil.java     |  65 +++++
 8 files changed, 469 insertions(+), 513 deletions(-)

commit c8a08c3e793d53ae4c445f07caa639269c8b51b7
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue May 27 18:49:50 2014 -0700

    DRILL-665: Handle null values in case expressions (contd).
    
    1. Added functions for converting REQUIRED holder into NULLABLE holder where the minorType is same.
    2. Update in Optiq->Drill literal conversion. First check if it null type, before parsing the literal value. Parsing literal value will cause NPE if the type is NULL.
    3. Changed getReturnType of IfExpression to consider the nullable types of THEN and ELSE expressions.
    4. Added testcases.

 .../drill/common/expression/IfExpression.java      | 21 +++++-
 .../codegen/templates/ConvertToNullableHolder.java | 80 +++++++++++++++++++++
 .../exec/expr/ExpressionTreeMaterializer.java      | 36 ++++++++++
 .../drill/exec/planner/logical/DrillOptiq.java     | 82 ++++++++++++++++------
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 48 +++++++++++++
 5 files changed, 245 insertions(+), 22 deletions(-)

commit 2cdbd6000abc33965f1f7b960b954fd6a4f7b58f
Author: tnachen <tnachen@apache.org>
Date:   Tue Feb 18 14:45:22 2014 -0800

    DRILL-665: Handle null values in case expressions.
    
    Signed-off-by: vkorukanti <venki.korukanti@gmail.com>

 .../common/expression/ExpressionStringBuilder.java | 11 ++++
 .../drill/common/expression}/NullExpression.java   | 10 ++--
 .../drill/common/expression/TypedNullConstant.java |  2 +-
 .../expression/visitors/AbstractExprVisitor.java   | 12 ++++
 .../expression/visitors/AggregateChecker.java      | 11 ++++
 .../expression/visitors/ConstantChecker.java       | 12 ++++
 .../common/expression/visitors/ExprVisitor.java    |  5 +-
 .../expression/visitors/ExpressionValidator.java   | 18 +++++-
 .../compile/sig/ConstantExpressionIdentifier.java  | 12 ++++
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  6 +-
 .../exec/expr/ExpressionTreeMaterializer.java      | 66 +++++++++++++++++++++-
 .../drill/exec/planner/logical/DrillOptiq.java     | 52 ++++++++++-------
 12 files changed, 184 insertions(+), 33 deletions(-)

commit 1012784682a3e9ed27076bfa33b8c4cb2361a542
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Fri May 23 11:14:52 2014 -0500

    DRILL-827: Fix bug in reading dictionary encoded columns in parquet.

 .../drill/exec/store/parquet/PageReadStatus.java   |  2 +-
 .../exec/store/parquet/ParquetRecordReader.java    |  2 +-
 .../exec/store/parquet/VarLenBinaryReader.java     |  7 +++++-
 .../store/parquet/ParquetRecordReaderTest.java     | 27 ++++++++++++++++------
 .../exec/store/parquet/ParquetResultListener.java  | 16 +++++++------
 5 files changed, 37 insertions(+), 17 deletions(-)

commit 602f8173ee9852bb386b5b1751b919396e63387c
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue May 27 11:07:36 2014 -0700

    DRILL-847: Handle different schemas for Merging receiver.

 .../impl/mergereceiver/MergingRecordBatch.java     | 29 ++++++++++++++++++++++
 .../drill/exec/record/RecordBatchLoader.java       | 14 +++++++++++
 .../apache/drill/exec/record/VectorContainer.java  | 26 ++++++++++++++++++-
 3 files changed, 68 insertions(+), 1 deletion(-)

commit 01bf8496b217781521c943cc1a9a38ed9f841288
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue May 27 15:26:14 2014 -0700

    DRILL-648: Multiple sort failure in single mode when running TPCH queries

 .../physical/impl/xsort/ExternalSortBatch.java     |   7 +-
 .../drill/exec/planner/physical/SortPrel.java      |   2 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |   3 +
 .../impl/xsort/TestSimpleExternalSort.java         | 101 +++++++++++++--------
 .../xsort/one_key_sort_descending_sv2.json         |  54 +++++++++++
 5 files changed, 126 insertions(+), 41 deletions(-)

commit 5484a552c8252dc8ee283ad4d45285232f9d1ada
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue May 27 15:46:09 2014 -0700

    Fix runtime generated code for HashJoinProbeTemplate.
    Use logger level ERROR when a fragment failure occurs

 .../src/main/java/org/apache/drill/exec/ops/FragmentContext.java    | 2 +-
 .../org/apache/drill/exec/physical/impl/join/HashJoinBatch.java     | 6 ++----
 .../apache/drill/exec/physical/impl/join/HashJoinProbeTemplate.java | 6 ++++--
 .../src/test/java/org/apache/drill/TestAltSortQueries.java          | 1 -
 .../src/test/java/org/apache/drill/TestTpchDistributed.java         | 1 -
 5 files changed, 7 insertions(+), 9 deletions(-)

commit 5c8061e0356e0ac231c315b5fc035ea60f482f2f
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri May 23 12:09:14 2014 -0700

    DRILL-829: Use ISO8601 date/time format in log file

 distribution/src/resources/logback.xml        | 70 +++++++++++++++------------
 exec/java-exec/src/main/resources/logback.xml | 42 ++++++++--------
 2 files changed, 59 insertions(+), 53 deletions(-)

commit 06de999eb51bbba286b7a6441ed517f737a4529f
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue May 27 22:37:38 2014 -0700

    DRILL-843: Drillbit goes down after running a large number of queries in a series

 distribution/src/resources/drill-env.sh | 6 +++++-
 distribution/src/resources/runbit       | 4 +++-
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 6dd3ff9cb3fbfe4748cfe6f64d4ba1d4ecc404f2
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu May 22 18:26:38 2014 -0700

    DRILL-800: Partitioner is dropping records that can't fit in the available space of ValueVectors in OutgoingRecordBatch.

 .../impl/partitionsender/OutgoingRecordBatch.java  | 20 +++---
 .../partitionsender/PartitionSenderRootExec.java   | 36 ++++------
 .../physical/impl/partitionsender/Partitioner.java |  5 --
 .../partitionsender/PartitionerSV2Template.java    | 60 -----------------
 .../partitionsender/PartitionerSV4Template.java    | 61 -----------------
 .../impl/partitionsender/PartitionerTemplate.java  | 77 +++++++++++++++++++---
 6 files changed, 89 insertions(+), 170 deletions(-)

commit ef28054b4f8eb9f9b4fbaa069089e18536394632
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri May 23 09:53:38 2014 -0700

    DRILL-824: MergingRecordBatch.next() fails to reallocate the outgoing vectors if copyFromSafe returns false.

 .../impl/mergereceiver/MergingRecordBatch.java     |   4 +-
 ...rLargeFile.java => TestQueriesOnLargeFile.java} |  41 +++++---
 .../largefiles/merging_receiver_large_data.json    | 113 +++++++++++++++++++++
 3 files changed, 145 insertions(+), 13 deletions(-)

commit e6a665298558ea4e6ae72b8efb9ce9c7a97d2680
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri May 23 11:13:39 2014 -0700

    DRILL-831: Execute the probe phase for outer joins if the build side is empty (fix for NOT IN bug).

 .../java/org/apache/drill/exec/physical/impl/join/HashJoinBatch.java  | 3 ++-
 .../apache/drill/exec/physical/impl/join/HashJoinProbeTemplate.java   | 4 +++-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 5b8f8d8c76091817b2c2598b61b93374e9721668
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri May 23 10:06:09 2014 -0700

    Rebase fixes

 .../drill/exec/planner/physical/AggPrelBase.java   | 83 +++++++++++-----------
 .../drill/exec/planner/physical/HashAggPrel.java   |  2 +-
 .../drill/exec/planner/physical/StreamAggPrel.java |  1 +
 .../exec/physical/impl/TestConvertFunctions.java   |  2 +-
 4 files changed, 45 insertions(+), 43 deletions(-)

commit 710eeeec24c7f820fb9298d259d8c1a09253e11d
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed May 21 18:14:26 2014 -0700

    Serialization/Deserialization fixes

 .../cache/LoopedAbstractDrillSerializable.java     |   2 +-
 .../apache/drill/exec/cache/ProtoSerializable.java |  29 +++-
 .../apache/drill/exec/cache/infinispan/ICache.java |   3 +-
 .../infinispan/JacksonAdvancedExternalizer.java    |   8 +-
 .../infinispan/ProtobufAdvancedExternalizer.java   |   2 +-
 .../org/apache/drill/exec/client/DrillClient.java  |  13 +-
 .../apache/drill/exec/server/RemoteServiceSet.java |   8 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  14 +-
 .../drill/exec/cache/TestCacheSerialization.java   | 193 +++++++++++++++++++++
 .../apache/drill/exec/cache/TestVectorCache.java   | 129 --------------
 10 files changed, 260 insertions(+), 141 deletions(-)

commit 24e3af2c609a76e388388309bc9066efd2b51d6b
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed May 21 17:29:41 2014 -0700

    exclude jersey 1.8 from base client dependency list.

 contrib/storage-hbase/pom.xml | 32 ++++++++++++++++++++++++++++++++
 1 file changed, 32 insertions(+)

commit b94fb52febd01a573c461932a789e61d992e49e3
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed May 21 17:06:03 2014 -0700

    Disable SV2 for Project until wildcard is fixed.  Remove spurious test.

 .../drill/exec/planner/physical/ProjectPrel.java   |  2 +-
 .../org/apache/drill/exec/server/TestJersey.java   | 65 ----------------------
 2 files changed, 1 insertion(+), 66 deletions(-)

commit f0864716607ea28134528d247d19081d2bcf03dd
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed May 21 13:34:40 2014 -0700

    Remove references to jcommander's copy of Guava's Lists class.

 .../java-exec/src/main/java/org/apache/drill/exec/client/DumpCat.java | 2 +-
 .../src/main/java/org/apache/drill/exec/compile/ClassTransformer.java | 2 +-
 .../apache/drill/exec/compile/sig/ConstantExpressionIdentifier.java   | 2 +-
 .../main/java/org/apache/drill/exec/compile/sig/SignatureHolder.java  | 2 +-
 .../src/main/java/org/apache/drill/exec/expr/ClassGenerator.java      | 2 +-
 .../src/main/java/org/apache/drill/exec/ops/FragmentContext.java      | 2 +-
 .../src/main/java/org/apache/drill/exec/opt/BasicOptimizer.java       | 2 +-
 .../main/java/org/apache/drill/exec/physical/config/HashJoinPOP.java  | 4 ++--
 .../main/java/org/apache/drill/exec/physical/config/MergeJoinPOP.java | 4 ++--
 .../org/apache/drill/exec/physical/config/OrderedPartitionSender.java | 2 +-
 .../org/apache/drill/exec/physical/impl/limit/LimitRecordBatch.java   | 2 +-
 .../drill/exec/physical/impl/xsort/PriorityQueueCopierTemplate.java   | 2 +-
 .../java/org/apache/drill/exec/planner/logical/DrillJoinRule.java     | 2 +-
 .../main/java/org/apache/drill/exec/planner/physical/HashAggPrel.java | 2 +-
 .../java/org/apache/drill/exec/planner/physical/HashJoinPrel.java     | 2 +-
 .../java/org/apache/drill/exec/planner/physical/MergeJoinPrel.java    | 2 +-
 .../main/java/org/apache/drill/exec/planner/physical/PrelUtil.java    | 2 +-
 .../org/apache/drill/exec/planner/sql/parser/DrillParserUtil.java     | 2 +-
 .../src/main/java/org/apache/drill/exec/record/VectorContainer.java   | 2 +-
 .../main/java/org/apache/drill/exec/store/dfs/BasicFormatMatcher.java | 2 +-
 .../main/java/org/apache/drill/exec/store/dfs/FileSystemPlugin.java   | 2 +-
 .../java/org/apache/drill/exec/store/dfs/easy/EasyFormatPlugin.java   | 2 +-
 .../main/java/org/apache/drill/exec/store/dfs/easy/EasyGroupScan.java | 2 +-
 .../java/org/apache/drill/exec/store/hive/HiveScanBatchCreator.java   | 2 +-
 .../src/main/java/org/apache/drill/exec/store/hive/HiveTable.java     | 2 +-
 .../java/org/apache/drill/exec/store/schedule/AffinityCreator.java    | 2 +-
 .../java/org/apache/drill/exec/store/schedule/BlockMapBuilder.java    | 2 +-
 .../src/main/java/org/apache/drill/exec/util/BatchPrinter.java        | 2 +-
 .../src/main/java/org/apache/drill/exec/util/VectorUtil.java          | 2 +-
 .../src/test/java/org/apache/drill/exec/cache/TestVectorCache.java    | 2 +-
 .../src/test/java/org/apache/drill/exec/cache/TestWriteToDisk.java    | 2 +-
 .../test/java/org/apache/drill/exec/physical/impl/SimpleRootExec.java | 2 +-
 .../java/org/apache/drill/exec/physical/impl/join/TestMergeJoin.java  | 2 +-
 .../drill/exec/physical/impl/mergereceiver/TestMergingReceiver.java   | 2 +-
 34 files changed, 36 insertions(+), 36 deletions(-)

commit 73ec53775c8de8a4577e9edcee2f9c2bad76c10b
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed May 21 13:32:23 2014 -0700

    Remove references to hive12 Guava.

 .../src/main/java/org/apache/drill/exec/ops/FragmentStats.java          | 2 +-
 .../java/org/apache/drill/exec/planner/common/DrillWriterRelBase.java   | 2 +-
 .../main/java/org/apache/drill/exec/planner/logical/DrillJoinRel.java   | 2 +-
 .../org/apache/drill/exec/planner/physical/PhysicalPlanCreator.java     | 2 +-
 .../main/java/org/apache/drill/exec/planner/physical/WriterPrel.java    | 2 +-
 .../java/org/apache/drill/exec/planner/sql/DrillSqlAggOperator.java     | 2 +-
 .../src/main/java/org/apache/drill/exec/record/MaterializedField.java   | 2 +-
 .../java/org/apache/drill/exec/store/easy/json/JSONRecordReader2.java   | 2 +-
 .../src/main/java/org/apache/drill/exec/vector/BaseDataValueVector.java | 2 +-
 .../src/main/java/org/apache/drill/exec/vector/BaseValueVector.java     | 2 +-
 .../src/main/java/org/apache/drill/exec/vector/complex/MapVector.java   | 2 +-
 .../java/org/apache/drill/exec/vector/complex/RepeatedListVector.java   | 2 +-
 .../org/apache/drill/exec/vector/complex/impl/ComplexWriterImpl.java    | 2 +-
 .../src/test/java/org/apache/drill/exec/TestOpSerialization.java        | 2 +-
 exec/java-exec/src/test/java/org/apache/drill/exec/cache/ISpan.java     | 2 +-
 .../org/apache/drill/exec/vector/complex/writer/TestJsonReader.java     | 2 +-
 16 files changed, 16 insertions(+), 16 deletions(-)

commit c56f1a66736f496c593626c5bf8058b25a7e8ccb
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue May 20 16:39:48 2014 -0700

    Fix for project column ordering is wrong.

 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +
 .../drill/exec/cache/CachedVectorContainer.java    |  24 +++-
 .../apache/drill/exec/cache/local/LocalCache.java  |   7 +-
 .../org/apache/drill/exec/client/DrillClient.java  |   2 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   3 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    | 132 +++++++++++----------
 .../physical/impl/project/ProjectRecordBatch.java  |   7 +-
 .../exec/planner/common/DrillWriterRelBase.java    |  15 +++
 .../drill/exec/planner/logical/DrillWriterRel.java |   1 +
 .../drill/exec/planner/physical/ExchangePrel.java  |   1 +
 .../drill/exec/planner/physical/FilterPrel.java    |   1 +
 .../drill/exec/planner/physical/HashAggPrel.java   |   1 +
 .../drill/exec/planner/physical/JoinPrel.java      |   1 +
 .../drill/exec/planner/physical/LimitPrel.java     |   1 +
 .../apache/drill/exec/planner/physical/Prel.java   |   1 +
 .../drill/exec/planner/physical/ProjectPrel.java   |   1 +
 .../drill/exec/planner/physical/ScanPrel.java      |   1 +
 .../drill/exec/planner/physical/ScreenPrel.java    |   5 +-
 .../drill/exec/planner/physical/SinglePrel.java    |   1 +
 .../drill/exec/planner/physical/SortPrel.java      |   1 +
 .../drill/exec/planner/physical/StreamAggPrel.java |  12 ++
 .../drill/exec/planner/physical/WriterPrel.java    |  15 ++-
 .../planner/physical/explain/PrelSequencer.java    |   9 +-
 .../planner/physical/visitor/BasePrelVisitor.java  |  53 +++++++++
 .../physical/visitor/FinalColumnReorderer.java     |  88 ++++++++++++++
 .../{ => visitor}/JoinPrelRenameVisitor.java       |  12 +-
 .../physical/{ => visitor}/PrelVisitor.java        |  10 +-
 .../{ => visitor}/SelectionVectorPrelVisitor.java  |  16 +--
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   2 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  18 ++-
 .../exec/planner/sql/handlers/ExplainHandler.java  |   3 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |   5 +-
 .../drill/exec/rpc/control/ControllerImpl.java     |   6 +-
 .../drill/exec/rpc/data/DataConnectionCreator.java |   6 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  17 ++-
 .../apache/drill/exec/service/ServiceEngine.java   |  18 +--
 .../drill/exec/store/sys/SystemTableScan.java      |   6 +
 .../java-exec/src/main/resources/drill-module.conf |   4 +
 .../org/apache/drill/exec/server/TestBitRpc.java   |   2 +-
 .../exec/store/json/JsonRecordReader2Test.java     |   4 +-
 exec/java-exec/src/test/resources/logback.xml      |   2 +-
 pom.xml                                            |   2 +-
 42 files changed, 387 insertions(+), 132 deletions(-)

commit 3355d0824d829ff15ddb7a0057ca5d33348f8250
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun May 4 16:58:41 2014 -0700

    Switch distributed cache to Infinispan
    Add Operator level metrics

 .../drill/exec/store/hbase/HBaseSubScan.java       |    5 +
 exec/java-exec/pom.xml                             |   15 +
 .../src/main/codegen/templates/TypeHelper.java     |    1 -
 .../drill/exec/cache/AbstractDataSerializable.java |   33 +
 .../exec/cache/AbstractStreamSerializable.java     |   34 +
 .../drill/exec/cache/CachedVectorContainer.java    |   77 +
 .../apache/drill/exec/cache/DistributedCache.java  |    4 +-
 .../apache/drill/exec/cache/DrillSerializable.java |   17 +-
 .../drill/exec/cache/JacksonDrillSerializable.java |   48 +-
 .../drill/exec/cache/JacksonSerializable.java      |   20 +-
 .../cache/LoopedAbstractDrillSerializable.java     |   80 +
 .../apache/drill/exec/cache/ProtoSerializable.java |   65 +
 .../exec/cache/ProtobufDrillSerializable.java      |   73 +
 .../drill/exec/cache/SerializationDefinition.java  |    4 +-
 .../exec/cache/VectorAccessibleSerializable.java   |   19 +-
 .../{ => hazel}/HCVectorAccessibleSerializer.java  |    4 +-
 .../drill/exec/cache/{ => hazel}/HazelCache.java   |   14 +-
 .../drill/exec/cache/{ => hazel}/ProtoBufImpl.java |    2 +-
 .../drill/exec/cache/{ => hazel}/ProtoBufWrap.java |    2 +-
 .../drill/exec/cache/{ => hazel}/ProtoMap.java     |    2 +-
 .../apache/drill/exec/cache/infinispan/ICache.java |  286 ++++
 .../infinispan/JacksonAdvancedExternalizer.java    |   70 +
 .../infinispan/ProtobufAdvancedExternalizer.java   |   67 +
 .../cache/infinispan/VAAdvancedExternalizer.java   |   72 +
 .../exec/cache/infinispan/ZookeeperCacheStore.java |   66 +
 .../drill/exec/cache/{ => local}/LocalCache.java   |    8 +-
 .../org/apache/drill/exec/ops/FragmentStats.java   |   36 +-
 .../java/org/apache/drill/exec/ops/MetricDef.java  |   17 +
 .../org/apache/drill/exec/ops/OpProfileDef.java    |   17 +
 .../org/apache/drill/exec/ops/OperatorContext.java |    6 +-
 .../org/apache/drill/exec/ops/OperatorStats.java   |   12 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |   38 +-
 .../drill/exec/physical/impl/TraceInjector.java    |    1 +
 .../exec/physical/impl/join/HashJoinBatch.java     |    4 +-
 .../OrderedPartitionRecordBatch.java               |   20 +-
 .../impl/partitionsender/OutgoingRecordBatch.java  |   12 +-
 .../partitionsender/PartitionSenderRootExec.java   |   13 +-
 .../impl/partitionsender/PartitionSenderStats.java |   32 +
 .../impl/validate/IteratorValidatorInjector.java   |   15 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   19 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |   10 +-
 .../drill/exec/record/AbstractRecordBatch.java     |   27 +-
 .../exec/record/AbstractSingleRecordBatch.java     |    4 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |    4 +-
 .../org/apache/drill/exec/server/Drillbit.java     |   39 +-
 .../apache/drill/exec/server/RemoteServiceSet.java |   17 +-
 .../drill/exec/server/rest/DrillRestServer.java    |   45 +
 .../apache/drill/exec/server/rest/DrillRoot.java   |   77 +
 .../drill/exec/util/JsonStringArrayList.java       |    2 +-
 .../apache/drill/exec/util/JsonStringHashMap.java  |    2 +-
 .../java/org/apache/drill/exec/util/Pointer.java   |   28 +
 .../org/apache/drill/exec/work/WorkManager.java    |   52 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |   22 +-
 .../drill/exec/work/foreman/FragmentData.java      |   34 +-
 .../drill/exec/work/foreman/QueryManager.java      |   33 +-
 .../drill/exec/work/foreman/QueryStatus.java       |  147 +-
 .../exec/work/fragment/AbstractStatusReporter.java |   37 +-
 .../drill/exec/work/fragment/FragmentExecutor.java |   39 +-
 .../exec/work/fragment/NonRootFragmentManager.java |   13 +-
 .../drill/exec/work/fragment/StatusReporter.java   |    2 +-
 .../src/main/resources/rest/status/list.ftl        |   20 +
 .../src/main/resources/rest/status/profile.ftl     |   30 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |    2 +-
 .../test/java/org/apache/drill/PlanTestBase.java   |    2 +-
 .../test/java/org/apache/drill/PlanningBase.java   |    2 +-
 .../java/org/apache/drill/exec/cache/ISpan.java    |   94 ++
 .../apache/drill/exec/cache/TestVectorCache.java   |  138 +-
 .../drill/exec/client/DrillClientSystemTest.java   |    2 +-
 .../drill/exec/fn/impl/TestAggregateFunction.java  |    5 +-
 .../drill/exec/fn/impl/TestDateFunctions.java      |    2 +-
 .../drill/exec/fn/impl/TestMultiInputAdd.java      |    2 +-
 .../exec/physical/impl/TestCastFunctions.java      |    2 +-
 .../physical/impl/TestCastVarCharToBigInt.java     |    2 +-
 .../drill/exec/physical/impl/TestDecimal.java      |   14 +-
 .../physical/impl/TestDistributedFragmentRun.java  |    8 +-
 .../exec/physical/impl/TestExtractFunctions.java   |    2 +-
 .../physical/impl/TestHashToRandomExchange.java    |    2 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   10 +-
 .../physical/impl/TestReverseImplicitCast.java     |    2 +-
 .../exec/physical/impl/TestSimpleFragmentRun.java  |    2 +-
 .../exec/physical/impl/TestUnionExchange.java      |    2 +-
 .../exec/physical/impl/TopN/TestSimpleTopN.java    |    2 +-
 .../exec/physical/impl/join/TestHashJoin.java      |    8 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |    6 +-
 .../impl/join/TestMergeJoinMulCondition.java       |    2 +-
 .../impl/mergereceiver/TestMergingReceiver.java    |    6 +-
 .../TestOrderedPartitionExchange.java              |    2 +-
 .../impl/xsort/TestSimpleExternalSort.java         |    6 +-
 .../drill/exec/record/vector/TestDateTypes.java    |   12 +-
 .../drill/exec/server/DrillClientFactory.java      |   17 +
 .../apache/drill/exec/server/HelloResource.java    |   17 +
 .../org/apache/drill/exec/server/TestJersey.java   |   17 +
 .../drill/exec/server/rest/RootResource.java       |   17 +
 .../apache/drill/exec/store/TestOrphanSchema.java  |    2 +-
 .../drill/exec/store/ischema/OrphanSchema.java     |    9 +-
 .../store/parquet/ParquetRecordReaderTest.java     |    8 +-
 .../store/parquet/TestParquetPhysicalPlan.java     |    4 +-
 .../exec/store/text/TextRecordReaderTest.java      |    2 +-
 .../drill/exec/work/batch/TestSpoolingBuffer.java  |    2 +-
 exec/java-exec/src/test/resources/logback.xml      |    2 +-
 .../org/apache/drill/exec/proto/BitControl.java    | 1263 +++------------
 .../org/apache/drill/exec/proto/UserBitShared.java | 1682 ++++++++++++++------
 protocol/src/main/protobuf/BitControl.proto        |   23 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   25 +-
 104 files changed, 3429 insertions(+), 2014 deletions(-)

commit 669efeb37bd1a6448392ce5dece34b392abb11ca
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon May 19 07:57:25 2014 -0700

    status changes

 .../java/org/apache/drill/common/types/Types.java  |    5 +-
 exec/java-exec/pom.xml                             |   58 +-
 .../org/apache/drill/exec/client/DrillClient.java  |    2 +-
 .../apache/drill/exec/client/QuerySubmitter.java   |   10 +-
 .../org/apache/drill/exec/ops/FragmentStats.java   |   37 +-
 .../java/org/apache/drill/exec/ops/MetricDef.java  |    6 +
 .../org/apache/drill/exec/ops/OpProfileDef.java    |   20 +
 .../org/apache/drill/exec/ops/OperatorContext.java |   25 +
 .../org/apache/drill/exec/ops/OperatorStats.java   |  117 +-
 .../drill/exec/physical/base/AbstractExchange.java |   12 +-
 .../exec/physical/base/AbstractGroupScan.java      |    4 +
 .../drill/exec/physical/base/PhysicalOperator.java |    3 +
 .../exec/physical/config/BroadcastSender.java      |    9 +
 .../drill/exec/physical/config/ExternalSort.java   |   19 +-
 .../apache/drill/exec/physical/config/Filter.java  |   13 +-
 .../drill/exec/physical/config/HashAggregate.java  |   30 +-
 .../drill/exec/physical/config/HashJoinPOP.java    |    8 +-
 .../exec/physical/config/HashPartitionSender.java  |    9 +-
 .../exec/physical/config/IteratorValidator.java    |    7 +-
 .../apache/drill/exec/physical/config/Limit.java   |    5 +
 .../drill/exec/physical/config/MergeJoinPOP.java   |    6 +
 .../exec/physical/config/MergingReceiverPOP.java   |    5 +
 .../physical/config/OrderedPartitionSender.java    |    9 +-
 .../apache/drill/exec/physical/config/Project.java |   12 +-
 .../drill/exec/physical/config/RandomReceiver.java |   14 +-
 .../drill/exec/physical/config/RangeSender.java    |   10 +-
 .../apache/drill/exec/physical/config/Screen.java  |    7 +-
 .../physical/config/SelectionVectorRemover.java    |    8 +-
 .../drill/exec/physical/config/SingleSender.java   |   13 +-
 .../apache/drill/exec/physical/config/Sort.java    |   20 +-
 .../exec/physical/config/StreamingAggregate.java   |   13 +-
 .../apache/drill/exec/physical/config/TopN.java    |   18 +-
 .../apache/drill/exec/physical/config/Trace.java   |    6 +
 .../apache/drill/exec/physical/config/Union.java   |    6 +
 .../exec/physical/impl/WriterRecordBatch.java      |  153 +-
 .../exec/physical/impl/aggregate/HashAggBatch.java |  126 +-
 .../physical/impl/aggregate/StreamingAggBatch.java |  141 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |  668 ++-
 .../drill/exec/physical/impl/join/JoinStatus.java  |   19 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |   81 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |   50 +-
 .../OrderedPartitionRecordBatch.java               |  173 +-
 .../drill/exec/record/AbstractRecordBatch.java     |   27 +-
 .../exec/record/AbstractSingleRecordBatch.java     |   68 +-
 .../org/apache/drill/exec/server/Drillbit.java     |   20 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   16 +-
 .../drill/exec/store/dfs/easy/EasySubScan.java     |   17 +-
 .../drill/exec/store/dfs/easy/EasyWriter.java      |    5 +
 .../drill/exec/store/direct/DirectSubScan.java     |    7 +
 .../exec/store/easy/json/JSONFormatPlugin.java     |   14 +
 .../exec/store/easy/text/TextFormatPlugin.java     |   15 +-
 .../apache/drill/exec/store/hive/HiveSubScan.java  |    7 +
 .../exec/store/ischema/InfoSchemaSubScan.java      |   13 +-
 .../apache/drill/exec/store/mock/MockStorePOP.java |    8 +-
 .../drill/exec/store/mock/MockSubScanPOP.java      |    8 +-
 .../exec/store/parquet/ParquetRowGroupScan.java    |    6 +
 .../drill/exec/store/parquet/ParquetWriter.java    |    8 +
 .../apache/drill/exec/work/foreman/Foreman.java    |    4 +-
 .../drill/exec/work/foreman/FragmentData.java      |   43 +
 .../drill/exec/work/foreman/QueryManager.java      |  106 +-
 .../drill/exec/work/foreman/QueryStatus.java       |   33 +
 .../drill/exec/physical/impl/PerformanceTests.java |   31 -
 .../exec/physical/impl/TestBroadcastExchange.java  |   19 +-
 .../physical/impl/TestExecutionAbstractions.java   |  225 -
 .../drill/exec/server/DrillClientFactory.java      |   21 +
 .../apache/drill/exec/server/HelloResource.java    |   22 +
 .../org/apache/drill/exec/server/TestJersey.java   |   48 +
 .../drill/exec/server/rest/RootResource.java       |    9 +
 exec/java-exec/src/test/resources/logback.xml      |    2 +-
 .../java/org/apache/drill/jdbc/DrillResultSet.java |   26 +-
 .../org/apache/drill/common/types/TypeProtos.java  |  117 +-
 .../org/apache/drill/exec/proto/BitControl.java    |  245 +-
 .../org/apache/drill/exec/proto/UserBitShared.java | 6290 +++++++++++++++++++-
 .../org/apache/drill/exec/proto/UserProtos.java    |  184 +-
 protocol/src/main/protobuf/BitControl.proto        |    1 +
 protocol/src/main/protobuf/User.proto              |    8 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   88 +
 77 files changed, 8274 insertions(+), 1444 deletions(-)

commit 33a3e4b15a394286b3dd41bba70266680207d770
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Fri May 16 16:02:53 2014 -0700

    Use PrelVisitor to add Project when Join has conflicting names from inputs. Move common code of MergeJoin, HashJoin to base class.

 .../exec/planner/logical/DrillProjectRel.java      |  6 +-
 .../drill/exec/planner/physical/ExchangePrel.java  | 18 ++++
 .../drill/exec/planner/physical/HashJoinPrel.java  | 64 +-------------
 .../drill/exec/planner/physical/JoinPrel.java      | 98 ++++++++++++++++++++++
 .../planner/physical/JoinPrelRenameVisitor.java    | 75 +++++++++++++++++
 .../drill/exec/planner/physical/MergeJoinPrel.java | 67 +--------------
 .../drill/exec/planner/physical/PrelVisitor.java   |  3 +
 .../physical/SelectionVectorPrelVisitor.java       |  5 ++
 .../physical/SelectionVectorRemoverPrel.java       | 14 ++++
 .../planner/physical/explain/PrelSequencer.java    |  6 ++
 .../planner/sql/handlers/DefaultSqlHandler.java    |  5 ++
 .../org/apache/drill/exec/TestOpSerialization.java | 18 ++++
 12 files changed, 250 insertions(+), 129 deletions(-)

commit 1157abb476d10d0ecf281cd325a15eac4569b790
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri May 16 08:47:51 2014 -0700

    Enhance PhysicalOperator to use OperatorIds for references rather than random ids.

 .../drill/exec/physical/base/AbstractBase.java     | 21 +++++--
 .../drill/exec/physical/base/PhysicalOperator.java | 21 ++++---
 .../drill/exec/planner/fragment/Materializer.java  | 27 +++++---
 .../planner/physical/BroadcastExchangePrel.java    |  2 +
 .../drill/exec/planner/physical/FilterPrel.java    |  2 +-
 .../drill/exec/planner/physical/HashAggPrel.java   |  2 +
 .../drill/exec/planner/physical/HashJoinPrel.java  |  1 +
 .../planner/physical/HashToMergeExchangePrel.java  |  1 +
 .../planner/physical/HashToRandomExchangePrel.java |  2 +
 .../drill/exec/planner/physical/LimitPrel.java     |  1 +
 .../drill/exec/planner/physical/MergeJoinPrel.java |  1 +
 .../exec/planner/physical/PhysicalPlanCreator.java | 14 ++++-
 .../drill/exec/planner/physical/ProjectPrel.java   |  1 +
 .../drill/exec/planner/physical/ScanPrel.java      |  1 +
 .../drill/exec/planner/physical/ScreenPrel.java    |  2 +
 .../physical/SelectionVectorRemoverPrel.java       |  5 +-
 .../planner/physical/SingleMergeExchangePrel.java  |  2 +
 .../drill/exec/planner/physical/SortPrel.java      |  1 +
 .../drill/exec/planner/physical/StreamAggPrel.java |  9 +--
 .../drill/exec/planner/physical/TopNPrel.java      |  1 +
 .../exec/planner/physical/UnionExchangePrel.java   |  1 +
 .../drill/exec/planner/physical/WriterPrel.java    |  5 +-
 .../planner/physical/explain/PrelSequencer.java    | 46 +++++++++++---
 .../planner/sql/handlers/DefaultSqlHandler.java    |  3 +-
 .../org/apache/drill/exec/TestOpSerialization.java | 71 ++++++++++++++++++++++
 25 files changed, 199 insertions(+), 44 deletions(-)

commit 2ba40e3cca57139f68ebc4531c4ba2a2134c1789
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri May 16 08:47:19 2014 -0700

    Enhance plan format to number operator ids and fragment ids.

 .../planner/physical/BroadcastExchangePrel.java    |   2 +-
 .../drill/exec/planner/physical/ExchangePrel.java  |  18 ++
 .../planner/physical/HashToMergeExchangePrel.java  |   2 +-
 .../planner/physical/HashToRandomExchangePrel.java |   2 +-
 .../physical/OrderedPartitionExchangePrel.java     |   2 +-
 .../drill/exec/planner/physical/PrelVisitor.java   |   1 +
 .../physical/SelectionVectorPrelVisitor.java       |   5 +
 .../planner/physical/SingleMergeExchangePrel.java  |   2 +-
 .../exec/planner/physical/UnionExchangePrel.java   |   2 +-
 .../physical/explain/NumberingRelWriter.java       | 193 ++++++++++++++++++
 .../planner/physical/explain/PrelSequencer.java    | 222 +++++++++++++++++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    |   7 +
 12 files changed, 452 insertions(+), 6 deletions(-)

commit 92408f193043fa3049d114930a97ecf2332e08c0
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu May 22 20:42:14 2014 -0700

    Update client and server to wait to close before returning to avoid spurious allocator test failures.

 .../java/org/apache/drill/exec/rpc/BasicClient.java  | 20 +++++++++++++-------
 .../java/org/apache/drill/exec/rpc/BasicServer.java  |  7 ++++++-
 2 files changed, 19 insertions(+), 8 deletions(-)

commit 85703655866aa7cf30a978ce2b181a38d7b9f602
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu May 22 16:55:04 2014 -0700

    Fix serialization of IntervalYear in ExpressionStringBuilder
    
    Increase average bytes allocated for key vectors in HashAggBatch

 .../org/apache/drill/common/expression/ExpressionStringBuilder.java   | 2 +-
 .../org/apache/drill/exec/physical/impl/aggregate/HashAggBatch.java   | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit f948d710e9647cf3d0b7d3a8edfb968dd137056f
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu May 22 19:37:24 2014 -0700

    DRILL-826: Improve efficiency of BitVector when getting and setting

 .../org/apache/drill/exec/vector/BitVector.java    | 26 +++++++++++-----------
 1 file changed, 13 insertions(+), 13 deletions(-)

commit ab2795173c5acdae7c8c443b842f502f3c482105
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Thu May 22 12:22:01 2014 -0500

    DRILL-816: Fix bug with reading nullable columns resulting in mismatched number of records in vectors.

 .../drill/exec/store/parquet/ColumnReader.java      |  4 ++++
 .../exec/store/parquet/NullableColumnReader.java    |  7 +++----
 .../drill/exec/store/parquet/PageReadStatus.java    |  7 ++-----
 .../exec/store/parquet/VarLenBinaryReader.java      | 10 +++++++++-
 .../exec/store/parquet/ParquetResultListener.java   | 21 +++++++++++++++++++--
 5 files changed, 37 insertions(+), 12 deletions(-)

commit 28dd76af303169a2fd4269d24c7b6cfa505c25eb
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Fri May 16 23:19:51 2014 -0500

    DRILL-649: Reading impala and avro generated parquet files
    
    Implemented dictionary encoding for the non-varlength types.

 .../drill/exec/store/parquet/ColumnReader.java     |   1 +
 .../exec/store/parquet/NullableColumnReader.java   |   9 +-
 .../parquet/NullableFixedByteAlignedReaders.java   | 170 +++++++++++++++++++++
 .../drill/exec/store/parquet/PageReadStatus.java   |  39 +++--
 .../parquet/ParquetFixedWidthDictionaryReader.java |  54 +++++++
 .../exec/store/parquet/ParquetRecordReader.java    |  20 +--
 .../exec/store/parquet/VarLenBinaryReader.java     |   2 +-
 .../exec/store/parquet/VarLengthColumnReaders.java |   2 -
 .../store/parquet/ParquetRecordReaderTest.java     |  31 +++-
 .../exec/store/parquet/ParquetResultListener.java  |   2 +-
 10 files changed, 296 insertions(+), 34 deletions(-)

commit cd7aeebe65ccb4e8829282aa6e6cae6ed867796b
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu May 22 18:37:59 2014 -0700

    DRILL-825: MaterializedField is mutable and is not suitable as a KEY in a MAP
    
    + Minor optimization/cleanup in HBaseRecordReader

 .../exec/store/hbase/DrillHBaseConstants.java      |   9 ++
 .../drill/exec/store/hbase/HBaseRecordReader.java  |  17 ++--
 .../apache/drill/exec/physical/impl/ScanBatch.java |  36 +++----
 .../drill/exec/record/MaterializedField.java       | 110 +++++++++++++++------
 4 files changed, 113 insertions(+), 59 deletions(-)

commit 84390e8f0f692138b97fc2cbdd1570eddf7f3081
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed May 21 20:34:55 2014 -0700

    DRILL-796: Selecting * from HBase tables filtered with 'row_key' returns empty arrays

 .../src/main/java/org/apache/drill/exec/vector/complex/MapVector.java   | 2 ++
 1 file changed, 2 insertions(+)

commit 46a0503078bf20ed75b7e3530db0c75cc194afa0
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed May 21 18:21:53 2014 -0700

    DRILL-802: convert_to(int_field, 'INT_HADOOPV') throws IndexOutOfBoundsException

 .../org/apache/drill/exec/expr/fn/impl/conv/BigIntVLongConvertTo.java    | 1 +
 .../java/org/apache/drill/exec/expr/fn/impl/conv/IntVIntConvertTo.java   | 1 +
 2 files changed, 2 insertions(+)

commit d616259d30ac0fbafc56637df53207a9464bbc6e
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu May 22 17:27:52 2014 -0700

    copy unmerged records in merge sort to new buffer

 .../org/apache/drill/exec/physical/impl/xsort/MSortTemplate.java | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 05c9e4255c5dad160a2467c8873948a7d8f3d5a8
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu May 22 08:04:32 2014 -0700

    Bug fixes in Project operator. Use allocateNewSafe() to allocate space for outgoing batch in Project.
    
    Reenable testcase.

 .../exec/physical/impl/project/ProjectRecordBatch.java  | 17 +++++++++--------
 .../exec/physical/impl/project/ProjectorTemplate.java   |  7 ++++---
 .../drill/exec/physical/impl/limit/TestSimpleLimit.java |  6 ++++++
 3 files changed, 19 insertions(+), 11 deletions(-)

commit 6c3d59e558210fd570bd9e95108de22456b178f4
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu May 22 07:57:07 2014 -0700

    setSafe() in variable length vector should check has capacity to hold new value.

 .../src/main/codegen/templates/VariableLengthVectors.java         | 3 +++
 .../java/org/apache/drill/exec/physical/impl/WireRecordBatch.java | 4 +++-
 .../apache/drill/exec/store/parquet/VarLengthColumnReaders.java   | 8 ++++++++
 3 files changed, 14 insertions(+), 1 deletion(-)

commit 27e22131e2e89aca34d3093ee227249e1d8e8a73
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Wed May 21 22:11:42 2014 -0700

    DRILL-810 : add isSafe() to Nullable value vector. Check nullable value vector has capacity for new value in run-time code.

 exec/java-exec/src/main/codegen/templates/NullableValueVectors.java   | 4 ++++
 .../src/main/java/org/apache/drill/exec/expr/EvaluationVisitor.java   | 3 +++
 2 files changed, 7 insertions(+)

commit f7688be48ad93ffae4351199d4ac4ec363aa3599
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed May 21 20:04:29 2014 -0700

    DRILL-809: BitVector.allocateNewSafe fixes.

 .../exec/store/easy/json/JSONRecordReader2.java    |   5 +-
 .../org/apache/drill/exec/vector/BitVector.java    |   4 +-
 .../complex/writer/TestJsonReaderLargeFile.java    | 101 +++++++++++++++++++++
 .../src/test/resources/storage-plugins.json        |   3 +
 4 files changed, 110 insertions(+), 3 deletions(-)

commit 0f8be869f67a2c76b3550d7ee6b58fb13225e227
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed May 21 17:57:38 2014 -0700

    DRILL-789: Left outer join returns "null" values for columns from the right table
    
    The problem is that the "lastSet" field is not set on the Nullable mutator when the vector is loaded off the wire. The fix here is to make sure this gets set.
    
    At the same time, this wouldn't be a problem, except for the fact that we fill in empty values when setValueCount is called, and if "lastSet" is not correct, we end up clobbering the existing data. We shouldn't need to call setValueCount on a transferred vector, so I am making this change in project record batch.

 .../src/main/codegen/templates/FixedValueVectors.java    |  3 +++
 .../src/main/codegen/templates/NullableValueVectors.java |  1 +
 .../exec/physical/impl/project/ProjectRecordBatch.java   | 16 ++++++++--------
 3 files changed, 12 insertions(+), 8 deletions(-)

commit 2fad21d5a6ec43bb68fb989e48b6da180f23f73a
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed May 21 11:51:00 2014 -0700

    DRILL-797: Fix Sql type returned for TimeStamp

 .../java/org/apache/drill/common/types/Types.java  |  3 +--
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 25 ++++++++++++++++++++++
 2 files changed, 26 insertions(+), 2 deletions(-)

commit ae570aad8b572a5c1fe612f79fe2524cb5e4e879
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue May 20 06:34:48 2014 -0700

    DRILL-680: INFORMATION_SCHEMA.COLUMNS does not display HBase column families
    
    + Enhanced result layout with option to set output width on per column basis.
    + Pretty print plan fragments.

 .../drill/exec/store/hbase/DrillHBaseTable.java    | 62 ++++++++++++++++++++++
 .../drill/exec/store/hbase/HBaseSchemaFactory.java |  6 +--
 .../java/org/apache/drill/hbase/BaseHBaseTest.java | 12 +++--
 .../drill/hbase/TestHBaseFilterPushDown.java       |  6 +++
 .../drill/hbase/TestHBaseProjectPushDown.java      |  8 +--
 .../exec/planner/fragment/SimpleParallelizer.java  |  8 ++-
 .../org/apache/drill/exec/rpc/RpcException.java    | 10 ++--
 .../org/apache/drill/exec/util/VectorUtil.java     | 52 +++++++++++-------
 8 files changed, 126 insertions(+), 38 deletions(-)

commit ea1ab62bc5b60fad4c306062b92f91eb429954a5
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed May 21 01:22:39 2014 -0700

    DRILL-763: Handle SubSchemaWrapper correctly in ShowFileHandler.

 .../exec/planner/sql/handlers/ShowFileHandler.java | 50 +++++++++++-----------
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  6 +--
 .../drill/exec/store/dfs/HasFileSystemSchema.java  | 26 -----------
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  7 ++-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |  3 +-
 5 files changed, 33 insertions(+), 59 deletions(-)

commit 935095ef15ecef13eac194bdcc48314f1d59a270
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue May 20 15:26:01 2014 -0700

    Fix ExprLexer to correctly deserialize decimal data type.

 .../org/apache/drill/common/expression/parser/ExprLexer.g    | 12 ++++++------
 .../src/test/resources/decimal/cast_float_decimal.json       |  2 +-
 .../src/test/resources/decimal/cast_simple_decimal.json      | 10 +++++-----
 .../resources/decimal/test_decimal_sparse_dense_dense.json   | 10 +++++-----
 4 files changed, 17 insertions(+), 17 deletions(-)

commit 68f4bdb403225d58a5d9d68b4de361d18d3a8bc3
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon May 19 17:23:51 2014 -0700

    DRILL-784: Implement min, max, count for VarChar and VarBinary data type. Re-enable aggregate function tests.

 .../java-exec/src/main/codegen/data/AggrTypes1.tdd |  18 ++-
 .../codegen/templates/VarCharAggrFunctions1.java   | 158 +++++++++++++++++++++
 .../jdbc/test/TestAggregateFunctionsQuery.java     |  32 ++++-
 3 files changed, 198 insertions(+), 10 deletions(-)

commit 37c1d067436f03347ccc7a69eada0bc5fd6a8558
Author: Aman Sinha <asinha@maprtech.com>
Date:   Tue May 20 13:40:39 2014 -0700

    Fix DRILL-791: In Phase 1of2 use the agg expr ordinal and create new AggregateCall for non-COUNT functions.

 .../org/apache/drill/exec/planner/physical/AggPrelBase.java    | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 5d7e3d3ab548eb2b23607df46ea843a9c1532b72
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon May 19 15:28:09 2014 -0700

    DRILL-781: Use MapVector as the top level vector for HBase Column Families

 .../drill/exec/store/hbase/HBaseRecordReader.java  | 160 +++++++--------------
 .../drill/exec/store/hbase/HBaseSchemaFactory.java |   1 -
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |   1 -
 .../drill/hbase/TestHBaseFilterPushDown.java       |  16 ++-
 .../drill/hbase/TestHBaseProjectPushDown.java      |   7 +-
 .../drill/exec/record/MaterializedField.java       |   3 +-
 6 files changed, 69 insertions(+), 119 deletions(-)

commit e9e63c4a7f3ac354dc346799f19bdccc56d8bd0e
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri May 16 17:48:55 2014 -0700

    DRILL-783: Convert function support in HBase filter push down.
    
    + Enable HBase test suit (failures fixed by DRILL-761).

 .../drill/common/expression/ConvertExpression.java |  23 +-
 .../common/expression/ExpressionStringBuilder.java |   2 +-
 .../store/hbase/CompareFunctionsProcessor.java     | 232 +++++++++++++++++++++
 .../drill/exec/store/hbase/HBaseFilterBuilder.java |  74 +++----
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |   1 -
 .../drill/hbase/TestHBaseFilterPushDown.java       |   9 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   2 +-
 .../exec/expr/ExpressionTreeMaterializer.java      |   2 +-
 8 files changed, 278 insertions(+), 67 deletions(-)

commit 6d4dc8fe00d4aea7f7e6a8e67ea404933d326bcf
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri May 16 18:18:47 2014 -0700

    DRILL-671: Select against hbase table with filter against row_key fails

 .../java/org/apache/drill/exec/store/hbase/HBaseFilterBuilder.java     | 3 ++-
 .../src/test/java/org/apache/drill/hbase/BaseHBaseTest.java            | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 738815061432fb610962bc72bebda3f52d5b148a
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri May 16 17:13:44 2014 -0700

    DRILL-764: Add support for 'convert_to()' and 'convert_from()' functions from SQL

 .../exec/expr/fn/impl/conv/DummyConvertFrom.java   |  43 ++++++
 .../exec/expr/fn/impl/conv/DummyConvertTo.java     |  43 ++++++
 .../drill/exec/planner/logical/DrillOptiq.java     |   3 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |   2 +-
 .../exec/physical/impl/TestConvertFunctions.java   | 147 ++++++++++++---------
 5 files changed, 176 insertions(+), 62 deletions(-)

commit 4b0d060a913e8ccb25131c805a8dc0c170ddf191
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon May 19 17:31:23 2014 -0700

    enable multi-phase aggregate by default

 .../exec/planner/physical/PlannerSettings.java     | 38 +++++++++++-----------
 1 file changed, 19 insertions(+), 19 deletions(-)

commit 78ae26589745b0ed538a15644f6fd6897cb9e5ad
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri May 16 10:33:10 2014 -0700

    DRILL-768: Support 2 phase COUNT() aggregates.
    
    Create a new SUM aggregate function whose return type is non-nullable to match the return type of COUNT.

 .../drill/exec/planner/physical/AggPrelBase.java   | 180 +++++++++++++++++++++
 .../drill/exec/planner/physical/AggPruleBase.java  |   2 +-
 .../drill/exec/planner/physical/HashAggPrel.java   |  51 +-----
 .../drill/exec/planner/physical/HashAggPrule.java  |  10 +-
 .../drill/exec/planner/physical/StreamAggPrel.java |  72 ++-------
 .../exec/planner/physical/StreamAggPrule.java      |  21 ++-
 6 files changed, 221 insertions(+), 115 deletions(-)

commit e9ac37dbff8f0b606673bb5827c0daac1d3275b0
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon May 19 08:35:34 2014 -0700

    DRILL-776: Support SelectionVector SV2 and SV4 in Partition Sender.

 .../partitionsender/PartitionSenderRootExec.java   | 69 ++++++++++++++++------
 .../physical/impl/partitionsender/Partitioner.java |  5 ++
 .../partitionsender/PartitionerSV2Template.java    | 60 +++++++++++++++++++
 .../partitionsender/PartitionerSV4Template.java    | 61 +++++++++++++++++++
 .../planner/physical/HashToRandomExchangePrel.java |  5 ++
 .../java/org/apache/drill/TestExampleQueries.java  | 10 ++++
 6 files changed, 193 insertions(+), 17 deletions(-)

commit c40735ed0e582aba66d27b00a929bae173e8a6a9
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon May 19 11:32:59 2014 -0700

    DRILL-588: Ignore leading zeroes while determining if digits will fit in a given precision

 .../codegen/templates/Decimal/CastVarCharDecimal.java | 19 +++++++++++++++++--
 1 file changed, 17 insertions(+), 2 deletions(-)

commit 492ec59c17d718bfb0891a249f9e7a841372fad8
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun May 18 19:18:51 2014 -0700

    DRILL-771: Remove explicit cast to varchar for concat() function; implicit cast will be used.

 .../java/org/apache/drill/exec/planner/logical/DrillOptiq.java     | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 62c0b1ba384fd2b3c7a9af12ed75341a4294f331
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun May 18 18:31:57 2014 -0700

    DRILL-770: Fix decimal math functions with constants

 .../main/codegen/templates/Decimal/DecimalFunctions.java  |  2 ++
 .../org/apache/drill/exec/resolver/TypeCastRules.java     |  6 ------
 .../org/apache/drill/jdbc/test/TestFunctionsQuery.java    | 15 +++++++++++++++
 3 files changed, 17 insertions(+), 6 deletions(-)

commit 5a78ff8c546b80b0f747c558688786714eb09b20
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun May 18 16:54:39 2014 -0700

    DRILL-769: Remove swapping using decimal holders.

 .../templates/Decimal/DecimalFunctions.java        | 78 ++++++++++------------
 .../src/main/codegen/templates/ValueHolders.java   | 27 --------
 .../apache/drill/jdbc/test/TestFunctionsQuery.java | 13 ++++
 3 files changed, 50 insertions(+), 68 deletions(-)

commit 828a5c69501fd94a64359c6e3abd474f138dc92f
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu May 15 18:03:28 2014 -0700

    DRILL-757: Output mutator interface changes
    - Output mutator manages schema changes instead of record readers
    - Removed usages of deprecated interface

 .../drill/exec/store/hbase/HBaseRecordReader.java  |  4 -
 .../drill/exec/physical/impl/OutputMutator.java    | 14 +--
 .../apache/drill/exec/physical/impl/ScanBatch.java | 99 +++++++++++++---------
 .../exec/store/easy/json/JSONRecordReader2.java    |  3 +-
 .../drill/exec/store/hive/HiveRecordReader.java    |  7 +-
 .../drill/exec/store/ischema/RowRecordReader.java  | 17 +---
 .../drill/exec/store/mock/MockRecordReader.java    | 18 ++--
 .../exec/store/parquet/ParquetRecordReader.java    | 11 ---
 .../drill/exec/store/pojo/PojoRecordReader.java    |  2 -
 .../exec/store/text/DrillTextRecordReader.java     |  6 +-
 .../apache/drill/exec/store/TestOutputMutator.java | 28 +++---
 .../drill/exec/store/ischema/TestOrphanSchema.java | 19 ++++-
 .../exec/store/ischema/TestTableProvider.java      | 22 +++--
 .../store/parquet/ParquetRecordReaderTest.java     | 29 +++----
 14 files changed, 136 insertions(+), 143 deletions(-)

commit cb0d46f69df2d89601f56b257f3f6c1d97eedc6e
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun May 18 01:52:03 2014 -0700

    Fix alignment in Hash Join code

 .../exec/physical/impl/join/HashJoinBatch.java     | 634 ++++++++++-----------
 .../physical/impl/join/HashJoinBatchCreator.java   |  10 +-
 .../exec/physical/impl/join/HashJoinHelper.java    | 278 ++++-----
 .../exec/physical/impl/join/HashJoinProbe.java     |  38 +-
 .../physical/impl/join/HashJoinProbeTemplate.java  | 310 +++++-----
 5 files changed, 635 insertions(+), 635 deletions(-)

commit 1f4276e909e1629f359f7ccaa2c777b6dce0e6d9
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun May 18 01:33:53 2014 -0700

    DRILL-713: Fix resizing of the hash table.

 .../drill/exec/physical/impl/common/HashTableTemplate.java  | 13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit 70fab8c968a6dc05471aa1f32009cd15945d4f3d
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue May 6 21:14:26 2014 -0700

    DRILL-652: Include drillbit log path when running drillbit.sh

 distribution/src/resources/drillbit.sh | 2 +-
 distribution/src/resources/runbit      | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 1ba1603472a0d4aa639af213f68d98229a9bbbeb
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri May 16 13:02:46 2014 -0700

    DRILL-761: Fix IOBE while dealing with 'null' in VarBinary vector

 exec/java-exec/src/main/codegen/templates/NullableValueVectors.java | 1 +
 1 file changed, 1 insertion(+)

commit 5770568d88a6a219a854ca5c72f2e6c19164845a
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed May 14 18:52:04 2014 -0700

    DRILL-653: Fix serialization of HiveSubScan

 .../org/apache/drill/exec/store/hive/HiveScan.java |  2 +-
 .../exec/store/hive/HiveScanBatchCreator.java      |  6 +-
 .../apache/drill/exec/store/hive/HiveSubScan.java  | 81 ++++++++++++++--------
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |  1 +
 4 files changed, 57 insertions(+), 33 deletions(-)

commit 8a37b949dc087fe5f5e43fad917ce1713cee8e44
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue May 13 17:27:15 2014 -0700

    DRILL-729: Hash functions for Date, Time and Decimal data types

 .../drill/exec/expr/fn/impl/HashFunctions.java     | 250 +++++++++++++++++++++
 .../apache/drill/jdbc/test/TestFunctionsQuery.java |   9 +
 2 files changed, 259 insertions(+)

commit 4ea36c3f18841b229aca5048b7d162ea16bfd5a1
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri May 16 20:31:20 2014 +0000

    Disable tests that rely on Pacific timezone until fixes can be made

 .../src/test/java/org/apache/drill/exec/fn/impl/TestDateFunctions.java | 3 +++
 .../src/test/java/org/apache/drill/jdbc/test/TestHiveScalarUDFs.java   | 3 ++-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 62a8bf2f582acb28d35b704a12e1b75ecbc8aa9f
Author: Aman Sinha <asinha@maprtech.com>
Date:   Thu May 15 18:19:27 2014 -0700

    Create 2 phase plan for qualified plain aggregates (no group-by).

 .../exec/planner/physical/StreamAggPrule.java      | 36 ++++++++++++++++++++--
 1 file changed, 33 insertions(+), 3 deletions(-)

commit cdd2ce90578cca21974f343b87513d1fa0a33f38
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu May 15 15:48:21 2014 -0700

    DRILL-754: Scan of HBase table timed out
    
    + RAT: Ignore "*.patch" file in the project root directory.

 .../drill/exec/store/hbase/HBaseRecordReader.java  | 89 +++++++++++-----------
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |  6 +-
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |  1 +
 pom.xml                                            |  1 +
 4 files changed, 50 insertions(+), 47 deletions(-)

commit cc99b97db1d2de47fb012c6157de5b96b4f2a5b9
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu May 15 16:11:04 2014 -0700

    Fix bug in MergeJoin when there are repeating values across left batches.  Ensure join type is specified. Add join type to some physical plan in unit test case.
    
    Re-enable a testcase for MergeJoin. +

 .../java/org/apache/drill/exec/physical/config/HashJoinPOP.java  | 1 +
 .../java/org/apache/drill/exec/physical/config/MergeJoinPOP.java | 9 +++++----
 .../org/apache/drill/exec/physical/impl/join/JoinTemplate.java   | 3 ++-
 .../drill/exec/physical/impl/join/TestMergeJoinMulCondition.java | 2 +-
 exec/java-exec/src/test/resources/join/hash_join.json            | 3 ++-
 .../java-exec/src/test/resources/join/hash_join_multi_batch.json | 3 ++-
 .../src/test/resources/join/hj_multi_condition_join.json         | 3 ++-
 exec/java-exec/src/test/resources/join/join_batchsize.json       | 3 ++-
 8 files changed, 17 insertions(+), 10 deletions(-)

commit 74c1d1b843d25f58b9b8271c0dedfef2c9e21432
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu May 15 16:59:28 2014 -0700

    increase timeout for External sort test.

 .../drill/exec/physical/impl/xsort/TestSimpleExternalSort.java     | 7 +++++++
 1 file changed, 7 insertions(+)

commit b4bdc37fed20f279169616c69020d69ad734ac0f
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu May 15 15:12:57 2014 -0700

    clear sv2 in FilterBatch when new schema

 .../org/apache/drill/exec/physical/impl/filter/FilterRecordBatch.java  | 3 +++
 1 file changed, 3 insertions(+)

commit d08b8b80880e12d29aa29bd0087c66554db166e4
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu May 15 12:14:06 2014 -0700

    Fix minor bugs in ParquetWriter.

 .../java/org/apache/drill/exec/store/parquet/ParquetRecordWriter.java | 4 +++-
 .../main/java/org/apache/drill/exec/store/parquet/ParquetWriter.java  | 2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit b879e42b7fc6947be59969dac8022844847e564e
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu May 15 12:13:32 2014 -0700

    Enable sv2 support for project operator.
    
    Currently, this will do copies for all vectors if their is incoming sv2.

 .../org/apache/drill/exec/physical/impl/project/ProjectRecordBatch.java | 2 +-
 .../main/java/org/apache/drill/exec/planner/physical/ProjectPrel.java   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit e03651583c77d494e972c5ceb2bb442b6bcd26b4
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed May 14 23:36:38 2014 -0700

    DRILL-384: Move some Fragment initialization work to run() method

 .../drill/exec/work/batch/ControlHandlerImpl.java     | 10 ++--------
 .../apache/drill/exec/work/foreman/QueryManager.java  |  5 +----
 .../drill/exec/work/fragment/FragmentExecutor.java    | 19 ++++++++++++++++---
 .../exec/work/fragment/NonRootFragmentManager.java    | 12 ++++++------
 4 files changed, 25 insertions(+), 21 deletions(-)

commit af7f917675d64da575bc8a7414c419e140ca2ff8
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu May 15 13:04:11 2014 -0700

    Disabling HBaseTestsSuite, will enable after ValueVector fix.
    
    + Reduced the memory requirements of the test.

 .../src/test/java/org/apache/drill/hbase/HBaseTestsSuite.java           | 2 ++
 pom.xml                                                                 | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 919121e9acf5d3eac34be19b4d80aedba7ea7bdb
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu May 15 10:45:40 2014 -0700

    Disable failing test

 .../apache/drill/exec/physical/impl/join/TestMergeJoinMulCondition.java | 2 ++
 1 file changed, 2 insertions(+)

commit 39ca36bad6bc32a396c6e9a4b6f0752676a389e7
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu May 15 10:20:51 2014 -0700

    Additional comments regarding DRILL-728

 .../planner/sql/handlers/DefaultSqlHandler.java    | 51 ++++++++++++----------
 1 file changed, 27 insertions(+), 24 deletions(-)

commit 557c4882f46f2acb75da313799efc66641c0d106
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Wed May 14 18:16:33 2014 -0700

    Fix bug in SVR, handling the remaining copy.

 .../drill/exec/physical/impl/svremover/RemovingRecordBatch.java       | 4 ++--
 .../impl/orderedpartitioner/TestOrderedPartitionExchange.java         | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 86e565a0b4fe4111ec328bb06933678fa0133393
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue May 13 20:01:55 2014 -0700

    DRILL-712: Right side of Left join has zero values when should be null

 .../java/org/apache/drill/common/types/Types.java  |  4 ++
 .../exec/physical/impl/join/HashJoinBatch.java     | 29 ++++++++++---
 .../exec/physical/impl/join/MergeJoinBatch.java    | 50 ++++++++++++++++------
 3 files changed, 66 insertions(+), 17 deletions(-)

commit 85a2e0427a91f39d94a77d6aa4af25f895ec93d7
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu May 15 09:18:39 2014 -0700

    Zero out RepeatedMap and RepeatedList offset vectors.  Advance var* lastSet when using copy safe.

 .../codegen/templates/NullableValueVectors.java    | 55 ++++++++++------------
 .../exec/vector/complex/RepeatedListVector.java    |  1 +
 .../exec/vector/complex/RepeatedMapVector.java     |  4 ++
 .../exec/store/json/JsonRecordReader2Test.java     |  8 ++--
 pom.xml                                            |  4 +-
 5 files changed, 37 insertions(+), 35 deletions(-)

commit d468f6d6e6f15417b56f87bbdfbfdcc182bf0d4e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue May 13 17:26:05 2014 -0700

    DRILL-728: Show SelectionVectorRemover and single mode changes in text plan output.

 .../drill/exec/planner/physical/AggPruleBase.java  | 23 +++----
 .../planner/physical/BroadcastExchangePrel.java    | 32 +++++++---
 .../planner/physical/ConvertCountToDirectScan.java |  2 +-
 .../drill/exec/planner/physical/FilterPrel.java    | 28 +++++++-
 .../drill/exec/planner/physical/FilterPrule.java   |  8 +--
 .../drill/exec/planner/physical/HashAggPrel.java   | 49 ++++++++++----
 .../drill/exec/planner/physical/HashAggPrule.java  | 38 +++++------
 .../drill/exec/planner/physical/HashJoinPrel.java  | 43 ++++++++-----
 .../planner/physical/HashToMergeExchangePrel.java  | 40 ++++++------
 .../planner/physical/HashToRandomExchangePrel.java | 37 ++++++-----
 .../drill/exec/planner/physical/JoinPruleBase.java | 74 +++++++++++-----------
 .../drill/exec/planner/physical/LimitPrel.java     | 22 +++++++
 .../drill/exec/planner/physical/LimitPrule.java    | 10 +--
 .../drill/exec/planner/physical/MergeJoinPrel.java | 37 +++++++----
 .../physical/OrderedPartitionExchangePrel.java     | 20 ++++--
 .../apache/drill/exec/planner/physical/Prel.java   | 16 +++--
 .../drill/exec/planner/physical/PrelUtil.java      | 30 +++++++--
 .../drill/exec/planner/physical/PrelVisitor.java   | 26 ++++++++
 .../drill/exec/planner/physical/ProjectPrel.java   | 25 +++++++-
 .../drill/exec/planner/physical/ProjectPrule.java  |  2 +-
 .../apache/drill/exec/planner/physical/Prule.java  | 50 +++++++++++++++
 .../exec/planner/physical/PushLimitToTopN.java     | 16 ++---
 .../drill/exec/planner/physical/ScanPrel.java      | 44 +++++++++----
 .../drill/exec/planner/physical/ScanPrule.java     |  2 +-
 .../drill/exec/planner/physical/ScreenPrel.java    | 24 ++++++-
 .../drill/exec/planner/physical/ScreenPrule.java   | 10 +--
 .../physical/SelectionVectorPrelVisitor.java       | 56 ++++++++++++++++
 .../physical/SelectionVectorRemoverPrel.java       | 44 +++++++++++++
 .../planner/physical/SingleMergeExchangePrel.java  | 39 +++++++-----
 .../drill/exec/planner/physical/SinglePrel.java    | 50 +++++++++++++++
 .../drill/exec/planner/physical/SortPrel.java      | 33 +++++++---
 .../drill/exec/planner/physical/SortPrule.java     | 35 +++++-----
 .../drill/exec/planner/physical/StreamAggPrel.java | 28 ++++++--
 .../drill/exec/planner/physical/TopNPrel.java      | 30 ++++++---
 .../exec/planner/physical/UnionExchangePrel.java   | 35 +++++-----
 .../drill/exec/planner/physical/WriterPrel.java    | 22 +++++++
 .../drill/exec/planner/physical/WriterPrule.java   |  2 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  3 +-
 .../org/apache/drill/exec/record/BatchSchema.java  | 11 +++-
 .../java/org/apache/drill/TestTpchSingleMode.java  |  1 -
 40 files changed, 805 insertions(+), 292 deletions(-)

commit c7746ed518adcacd844c9c5e35dcefa52949a773
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue May 13 17:20:56 2014 -0700

    DRILL-707 : Replace ValueAllocator with allocateNewSafe() in SVR. WIP.
    
    remove valueallocator in SVR.
    
    SV for Limit OP.
    
    Selection vector remover. More WIP.
    
    code clean up.
    
    reverse rule change.

 .../apache/drill/exec/physical/config/Limit.java   |  8 ++++++
 .../physical/impl/svremover/CopierTemplate2.java   | 30 ++++++++++-----------
 .../physical/impl/svremover/CopierTemplate4.java   | 26 +++++++++---------
 .../impl/svremover/RemovingRecordBatch.java        | 31 +++++++++++++---------
 .../java/org/apache/drill/TestExampleQueries.java  | 23 +++++++++++++++-
 .../exec/store/json/JsonRecordReader2Test.java     |  2 +-
 6 files changed, 76 insertions(+), 44 deletions(-)

commit 850f8c68b2e3de582527cbcc46aaded96a35d2b9
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed May 14 19:22:01 2014 -0700

    DRILL-750: Use a singleton PooledByteBufAllocatorL instance for all TopLevelAllocator instances

 .../src/main/java/org/apache/drill/exec/memory/TopLevelAllocator.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a9e6a545c6c8617e9e49a2308c437edcb048954a
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue May 13 19:57:30 2014 -0700

    DRILL-733: Reduce memory footprint of unit tests

 .../test/java/org/apache/drill/test/DrillTest.java | 102 ++++++++++++++-------
 .../drill/exec/client/PrintingResultsListener.java |   2 +-
 .../drill/exec/physical/impl/WireRecordBatch.java  |   1 +
 .../test/java/org/apache/drill/BaseTestQuery.java  |  47 +++++++++-
 .../test/java/org/apache/drill/PlanTestBase.java   |   2 +
 .../drill/exec/client/DrillClientSystemTest.java   |  14 ++-
 .../org/apache/drill/exec/client/DumpCatTest.java  |   5 -
 .../org/apache/drill/exec/expr/ExpressionTest.java |   5 -
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |   5 -
 .../exec/physical/impl/TestCastFunctions.java      |   5 -
 .../physical/impl/TestComparisonFunctions.java     |   9 +-
 .../exec/physical/impl/TestConvertFunctions.java   |   9 +-
 .../drill/exec/physical/impl/TestDecimal.java      |  39 +++++++-
 .../physical/impl/TestImplicitCastFunctions.java   |   6 --
 .../drill/exec/physical/impl/TestOptiqPlans.java   |  15 ++-
 .../physical/impl/TestReverseImplicitCast.java     |   5 +
 .../exec/physical/impl/TestSimpleFragmentRun.java  |   1 +
 .../exec/physical/impl/TestSimpleFunctions.java    |   5 -
 .../drill/exec/physical/impl/agg/TestAgg.java      |   5 -
 .../physical/impl/filter/TestSimpleFilter.java     |   5 -
 .../exec/physical/impl/join/TestHashJoin.java      |  12 +++
 .../exec/physical/impl/join/TestMergeJoin.java     |  13 +--
 .../impl/project/TestSimpleProjection.java         |   5 -
 .../exec/physical/impl/sort/TestSimpleSort.java    |   5 -
 .../physical/impl/svremover/TestSVRemover.java     |   5 -
 .../physical/impl/trace/TestTraceOutputDump.java   |   5 -
 .../exec/physical/impl/union/TestSimpleUnion.java  |   5 -
 .../physical/impl/writer/TestParquetWriter.java    |   6 ++
 .../exec/physical/impl/writer/TestWriter.java      |  17 ++--
 .../apache/drill/exec/record/vector/TestLoad.java  |   2 +
 .../drill/exec/record/vector/TestValueVector.java  |   2 -
 .../exec/store/parquet/ParquetResultListener.java  |   6 +-
 .../store/parquet/TestParquetPhysicalPlan.java     |   8 +-
 .../exec/store/text/TextRecordReaderTest.java      |   2 +
 34 files changed, 224 insertions(+), 156 deletions(-)

commit 1cc8ceec68a61b14e3452301aa7cf19407ae03c0
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed May 14 19:16:49 2014 -0700

    Disabling intermittently failing JsonRecordReader2Test.

 .../java/org/apache/drill/exec/store/json/JsonRecordReader2Test.java    | 2 ++
 1 file changed, 2 insertions(+)

commit 98edd62697b52906562599a468c41a77615f1ce5
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed May 14 17:43:10 2014 -0700

    DRILL-749: Zero-fill the Offset Vectors buffer contents

 .../src/main/codegen/templates/FixedValueVectors.java    | 15 +++++++++++----
 .../src/main/codegen/templates/NullableValueVectors.java |  9 ++++++++-
 .../src/main/codegen/templates/RepeatedValueVectors.java |  5 ++++-
 .../main/codegen/templates/VariableLengthVectors.java    |  4 ++--
 .../java/org/apache/drill/exec/vector/BitVector.java     | 16 ++++++++++------
 .../org/apache/drill/exec/vector/FixedWidthVector.java   |  5 +++++
 6 files changed, 40 insertions(+), 14 deletions(-)

commit 616cc5e7e2ff75225b9e45a0d1ddbe4efaff2bcd
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue May 13 18:13:24 2014 -0700

    DRILL-731: Speedup TestConvertFunctions test case

 .../exec/physical/impl/TestConvertFunctions.java   | 326 ++++++++-------------
 .../conv/conversionTestWithPhysicalPlan.json       |   2 +-
 2 files changed, 121 insertions(+), 207 deletions(-)

commit ea72a380e875aaaa126510116742be659016d98f
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue May 13 15:07:54 2014 -0700

    DRILL-718: Return complex types as JSON string.

 .../src/main/codegen/includes/vv_imports.ftl       |  1 +
 .../codegen/templates/RepeatedValueVectors.java    |  2 +-
 .../src/main/codegen/templates/TypeHelper.java     |  5 +++
 .../drill/exec/util/JsonStringArrayList.java       | 46 ++++++++++++++++++++
 .../apache/drill/exec/util/JsonStringHashMap.java  | 50 ++++++++++++++++++++++
 .../org/apache/drill/exec/util/TextSerializer.java | 38 ++++++++++++++++
 .../drill/exec/vector/complex/MapVector.java       |  3 +-
 .../exec/vector/complex/RepeatedListVector.java    |  3 +-
 .../exec/vector/complex/RepeatedMapVector.java     |  3 +-
 .../drill/exec/vector/complex/fn/JsonReader.java   |  2 +-
 .../exec/store/json/JsonRecordReader2Test.java     |  2 +
 11 files changed, 150 insertions(+), 5 deletions(-)

commit 4b57652f1ea0b9d6b68826b5f07d624eabf043f3
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon May 12 12:48:28 2014 -0700

    DRILL-700: Extend AvaticaDrillSqlAccessor to support getDate(), getTime() and getTimestamp()
    
     + Added accessor methods for getDate(), getTime() and getTimeStamp() in each of the data type's accessor class.

 .../main/codegen/templates/FixedValueVectors.java  | 17 +++++++++++-
 .../codegen/templates/NullableValueVectors.java    | 10 +++++++
 .../src/main/codegen/templates/SqlAccessors.java   | 27 ++++++++++++++++--
 .../apache/drill/jdbc/AvaticaDrillSqlAccessor.java |  6 ++--
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 32 ++++++++++++++++++++++
 5 files changed, 85 insertions(+), 7 deletions(-)

commit 8e1865c0e4986b4bc361ef295f77ce9e9833c94a
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon May 12 13:19:55 2014 -0700

    DRILL-635: Fix run-time code generation bug for case expression, when the holder of return type does not have value field.

 .../apache/drill/exec/expr/EvaluationVisitor.java  | 23 +++++++-------
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  | 35 ++++++++++++----------
 .../java/org/apache/drill/TestExampleQueries.java  | 10 +++++++
 3 files changed, 40 insertions(+), 28 deletions(-)

commit a4a02ef4733b31e03f7402e611e73252945953eb
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon May 12 16:03:47 2014 -0700

    DRILL-604: Add schema type to INFORMATION_SCHEMA.SCHEMATA.
    
    Modification for SubSchemaWrapper.

 .../drill/exec/store/hbase/HBaseSchemaFactory.java  |  7 +++++++
 .../exec/store/hbase/HBaseStoragePluginConfig.java  |  4 +++-
 .../org/apache/drill/exec/store/AbstractSchema.java |  2 ++
 .../apache/drill/exec/store/SubSchemaWrapper.java   |  5 +++++
 .../drill/exec/store/dfs/FileSystemConfig.java      |  4 ++--
 .../exec/store/dfs/FileSystemSchemaFactory.java     |  9 ++++++++-
 .../exec/store/dfs/WorkspaceSchemaFactory.java      |  9 ++++++++-
 .../exec/store/hive/HiveStoragePluginConfig.java    |  5 ++++-
 .../exec/store/hive/schema/HiveDatabaseSchema.java  | 10 +++++++++-
 .../exec/store/hive/schema/HiveSchemaFactory.java   |  8 ++++++++
 .../drill/exec/store/ischema/InfoSchemaConfig.java  |  8 +++++---
 .../exec/store/ischema/InfoSchemaStoragePlugin.java | 10 ++++++++--
 .../drill/exec/store/ischema/InfoSchemaTable.java   | 21 +++++++++++----------
 .../drill/exec/store/ischema/OptiqProvider.java     |  3 ++-
 .../exec/store/mock/MockStorageEngineConfig.java    |  6 ++++--
 .../drill/exec/store/sys/SystemTablePlugin.java     |  5 +++++
 .../exec/store/sys/SystemTablePluginConfig.java     |  2 +-
 17 files changed, 92 insertions(+), 26 deletions(-)

commit e7a486d784c072458d44b7692ea0262da368f001
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue May 13 02:11:51 2014 -0700

    Disabling intermittently failing TestParquetWriter

 .../org/apache/drill/exec/physical/impl/writer/TestParquetWriter.java    | 1 +
 1 file changed, 1 insertion(+)

commit f1eaadea87558bbb96bdc01fc69b78879fd65037
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sat May 10 18:05:14 2014 -0700

    DRILL-646: Broadcast-inner plans for Hash Join and Merge Join.
    
     - Consolidated planning methods in base class.
     - Add option to enable/disable broadcast join. Default is disabled for now.

 .../drill/exec/planner/physical/HashJoinPrule.java |  48 +++------
 .../drill/exec/planner/physical/JoinPruleBase.java | 115 +++++++++++++++++++++
 .../exec/planner/physical/MergeJoinPrule.java      |  37 ++-----
 .../exec/planner/physical/PlannerSettings.java     |  12 ++-
 .../exec/server/options/SystemOptionManager.java   |   1 +
 5 files changed, 146 insertions(+), 67 deletions(-)

commit d414d5dccbda7b901260d66448367678bdced235
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon May 12 17:33:41 2014 -0700

    DRILL-623: Unable to run query containing quoted schema name

 .../apache/drill/exec/store/AbstractSchema.java    |  4 +
 .../drill/exec/store/StoragePluginRegistry.java    | 48 +++++++++++-
 .../apache/drill/exec/store/SubSchemaWrapper.java  | 87 ++++++++++++++++++++++
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  5 ++
 .../exec/store/hive/schema/HiveSchemaFactory.java  |  4 +
 .../drill/exec/store/ischema/OptiqProvider.java    | 21 ++++--
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 53 ++++++++++---
 7 files changed, 204 insertions(+), 18 deletions(-)

commit c5f5e282b20838d75f58f42f27403b18f15f9a22
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon May 12 12:29:32 2014 -0700

    Remove the *.orig files lying in the repo.

 .../exec/expr/fn/impl/HashFunctions.java.orig      | 252 ---------------------
 .../apache/drill/exec/ops/QueryContext.java.orig   | 135 -----------
 .../apache/drill/exec/server/Drillbit.java.orig    | 141 ------------
 .../drill/exec/server/DrillbitContext.java.orig    | 157 -------------
 .../exec/store/StoragePluginRegistry.java.orig     | 243 --------------------
 5 files changed, 928 deletions(-)

commit 26fee8a2a2050c49de98ea20d4d05be27d840892
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Apr 22 20:47:43 2014 -0700

    DRILL-558: Remove workaround in OptiqScanner for skipping "metadata" subschema.

 .../src/main/java/org/apache/drill/exec/ops/FragmentContext.java   | 2 +-
 .../src/main/java/org/apache/drill/exec/ops/QueryContext.java      | 2 +-
 .../java/org/apache/drill/exec/store/ischema/OptiqProvider.java    | 7 ++-----
 exec/java-exec/src/test/java/org/apache/drill/PlanningBase.java    | 2 +-
 .../test/java/org/apache/drill/exec/store/TestOrphanSchema.java    | 2 +-
 .../java/org/apache/drill/exec/store/ischema/OrphanSchema.java     | 2 +-
 6 files changed, 7 insertions(+), 10 deletions(-)

commit b75782dc2851bd3ce224945604efe7c5f289c339
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon May 12 17:53:17 2014 -0700

    DRILL-608: Fix casting to decimal data types with difference scales.

 .../apache/drill/common/util/DecimalUtility.java   | 102 +++++++++++++++++++++
 .../templates/Decimal/CastDecimalSimilar.java      |   5 +
 .../templates/Decimal/CastSrcDecimalSimple.java    |   5 +
 .../templates/Decimal/DecimalFunctions.java        | 100 +-------------------
 4 files changed, 113 insertions(+), 99 deletions(-)

commit 2631bbce6dcb1e5120462e3496ee9c4ae4caa71e
Author: mehant <mehantr@gmail.com>
Date:   Wed May 7 01:45:04 2014 -0700

    DRILL-607, DRILL-593: Fix casting from Int, BigInt to Decimal28, Decimal38

 .../src/main/codegen/templates/Decimal/CastIntDecimal.java | 11 ++---------
 .../org/apache/drill/jdbc/test/TestFunctionsQuery.java     | 14 ++++++++++++++
 2 files changed, 16 insertions(+), 9 deletions(-)

commit 63b0346761692f0a4c851e7910791c028dc3cded
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon May 12 02:56:25 2014 -0700

    DRILL-694: Implement parquet writer.
    
    Enable "CREATE TABLE AS" with parquet as the output format.
    
    Add decimal metadata support to parquet reader and writer.

 .../java/org/apache/drill/common/types/Types.java  |   4 +
 .../apache/drill/common/util/DecimalUtility.java   |  11 +-
 exec/java-exec/pom.xml                             |   4 +-
 .../codegen/templates/EventBasedRecordWriter.java  |   6 +-
 .../templates/ParquetOutputRecordWriter.java       | 189 +++++++++++++
 .../main/codegen/templates/ParquetTypeHelper.java  | 155 +++++++++++
 .../java/org/apache/drill/exec/ExecConstants.java  |   8 +
 .../exec/server/options/SystemOptionManager.java   |   5 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |   9 +-
 .../apache/drill/exec/store/parquet/BitReader.java |   5 +-
 .../drill/exec/store/parquet/ColumnReader.java     |  14 +-
 .../exec/store/parquet/FixedByteAlignedReader.java |  87 +++++-
 .../exec/store/parquet/NullableBitReader.java      |   5 +-
 .../exec/store/parquet/NullableColumnReader.java   |   5 +-
 .../parquet/NullableFixedByteAlignedReader.java    |  81 +++++-
 .../exec/store/parquet/ParquetFormatPlugin.java    |  48 +++-
 .../exec/store/parquet/ParquetRecordReader.java    | 310 +++++++++++++++------
 .../exec/store/parquet/ParquetRecordWriter.java    | 185 ++++++++++++
 .../drill/exec/store/parquet/ParquetWriter.java    |  91 ++++++
 .../store/parquet/ParquetWriterBatchCreator.java   |  36 +++
 .../exec/store/parquet/VarLengthColumnReaders.java | 182 +++++++++---
 .../hadoop/ColumnChunkPageWriteStoreExposer.java   |  39 +++
 .../physical/impl/writer/TestParquetWriter.java    | 163 +++++++++++
 .../exec/physical/impl/writer/TestWriter.java      |  19 +-
 24 files changed, 1510 insertions(+), 151 deletions(-)

commit 14c628ccd69caeea70754eafb525ca2d3d2f1401
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue May 6 04:42:30 2014 -0700

    DRILL-693: Include system and session options in fragment options

 .../drill/exec/server/options/FragmentOptionsManager.java      |  6 +++++-
 .../java/org/apache/drill/exec/server/options/OptionValue.java |  2 +-
 .../org/apache/drill/exec/server/options/TypeValidators.java   | 10 ++++++++--
 3 files changed, 14 insertions(+), 4 deletions(-)

commit 1b20b6e9e9f98dc7fea14e23f80f152b08971628
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon May 12 17:54:31 2014 -0700

    Enable class unloading in unit test.

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f7b7b1a0211bef4cf663546e1d32cfb2a384222f
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon May 12 17:54:01 2014 -0700

    Disable multiphase aggregation.

 .../java/org/apache/drill/exec/planner/physical/PlannerSettings.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e4d3c7ca9e2cc20defb5fae7c0373d982147cabb
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sun May 11 17:57:09 2014 -0700

    DRILL-690: Generate 2 phase plans for Hash Aggr and Streaming Aggr only if the aggr functions are SUM, MIN, MAX.
    
    Added session options for enabling/disabling aggrs, joins and multiphase aggrs.  Modified DrillRuleSet to populate the rules based on options rather than from static list.  Added matches() implementation for join and aggr rules.

 .../drill/exec/planner/logical/DrillRuleSets.java  | 55 ++++++++++++++----
 .../drill/exec/planner/physical/AggPruleBase.java  | 18 ++++++
 .../drill/exec/planner/physical/HashAggPrule.java  | 56 ++++++++++++++----
 .../drill/exec/planner/physical/HashJoinPrule.java |  5 ++
 .../exec/planner/physical/MergeJoinPrule.java      |  5 ++
 .../exec/planner/physical/PlannerSettings.java     | 29 +++++++++-
 .../drill/exec/planner/physical/PrelUtil.java      |  5 ++
 .../exec/planner/physical/StreamAggPrule.java      | 67 ++++++++++++++--------
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 12 ++--
 .../exec/server/options/SystemOptionManager.java   |  7 ++-
 10 files changed, 204 insertions(+), 55 deletions(-)

commit a50ab2b9bf2131ba44dd566343a1cac0d751319d
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun May 11 18:18:48 2014 -0700

    DRILL-691: Function alias to be able to cast to TIMESTAMPTZ data type

 exec/java-exec/src/main/codegen/data/Casts.tdd                 | 8 ++++----
 exec/java-exec/src/main/codegen/templates/CastVarCharDate.java | 2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 8a290ea6fe873db446970293679ed0d81ee55911
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu Apr 24 14:32:54 2014 -0700

    DRILL-567: Maven RAT plugin - Ignore all files inside a hidden directory ".*/**"

 pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit fb973c66eb538ba5e780fe1f6369f13fa242f1de
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Apr 15 16:59:47 2014 -0700

    DRILL-529: 'atom' rule in Antlr grammar uses wrong token for calculating ExpressionPosition

 .../antlr3/org/apache/drill/common/expression/parser/ExprParser.g   | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit fafb57615d4efba8a31516c66d86df5926d3595f
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sat May 10 17:20:55 2014 -0700

    DRILL-695: Push down column value predicates into HBase scan

 .../drill/exec/store/hbase/HBaseFilterBuilder.java | 215 ++++++++++++++++-----
 .../drill/exec/store/hbase/HBaseGroupScan.java     |  23 +++
 .../exec/store/hbase/HBasePushFilterIntoScan.java  |  34 +++-
 .../drill/exec/store/hbase/HBaseRecordReader.java  |  15 +-
 .../apache/drill/exec/store/hbase/HBaseUtils.java  |  71 ++++++-
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |  11 +-
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |   7 +-
 .../drill/hbase/TestHBaseFilterPushDown.java       |  45 ++++-
 .../drill/hbase/TestHBaseProjectPushDown.java      |   2 +-
 .../org/apache/drill/hbase/TestTableGenerator.java |   6 +-
 10 files changed, 353 insertions(+), 76 deletions(-)

commit 6e6c661fd8099fb7f385346ba38e2026c84fc67a
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sun May 11 03:19:43 2014 -0700

    DRILL-696: Use standard HBase configuration name/value in HBaseStoragePluginConfig

 .../exec/store/hbase/HBaseStoragePluginConfig.java | 52 ++++++++++++----------
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |  2 +-
 .../org/apache/drill/hbase/HBaseTestsSuite.java    | 13 +++---
 .../hbase/hbase_scan_screen_physical.json          |  6 ++-
 .../hbase_scan_screen_physical_column_select.json  |  6 ++-
 .../hbase_scan_screen_physical_family_select.json  |  6 ++-
 .../src/test/resources/storage-plugins.json        | 39 +++-------------
 distribution/src/resources/storage-plugins.json    |  8 ++--
 8 files changed, 58 insertions(+), 74 deletions(-)

commit 508cb5dea9deb66661267abd174d54db99dc6bfa
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sat May 10 18:07:10 2014 -0700

    DRILL-686: Verify the operands while extracting projects that can be pushed into a scan

 .../apache/drill/exec/planner/physical/PrelUtil.java   | 18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit 49d533355e6cb98c623f68c3b90331c62ecbc270
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sat May 10 02:19:36 2014 -0700

    DRILL-683: Qualify HBase scan with specified columns even if row_key is required.
    
     + Added some log messages

 .../drill/exec/store/hbase/DrillHBaseConstants.java |  2 ++
 .../drill/exec/store/hbase/HBaseRecordReader.java   | 21 ++++++---------------
 .../exec/store/hbase/HBaseScanBatchCreator.java     |  7 +++----
 .../exec/store/hbase/HBaseStoragePluginConfig.java  | 12 ++++++++----
 .../apache/drill/exec/store/hbase/HBaseSubScan.java |  8 ++++----
 .../hbase_scan_screen_physical_column_select.json   |  2 +-
 6 files changed, 24 insertions(+), 28 deletions(-)

commit e602b2a9cd2e7550be4c2fd38e2b5942dc623d41
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Sat May 10 12:24:55 2014 -0700

    DRILL-692: Add Hive UDFs to Drill SQL operator table.

 .../codegen/templates/ObjectInspectorHelper.java   | 10 +++-
 .../exec/expr/ExpressionTreeMaterializer.java      |  2 +-
 .../fn/HiveFunctionImplementationRegistry.java     | 17 +++++-
 .../drill/exec/planner/sql/DrillOperatorTable.java | 13 ++--
 .../drill/exec/planner/sql/HiveUDFOperator.java    | 70 ++++++++++++++++++++++
 .../drill/exec/physical/impl/TestHiveUDFs.java     | 10 +---
 .../record/ExpressionTreeMaterializerTest.java     |  3 +-
 .../test/resources/functions/hive/GenericUDF.json  |  6 +-
 .../apache/drill/jdbc/test/TestHiveScalarUDFs.java | 57 ++++++++++++++++++
 9 files changed, 169 insertions(+), 19 deletions(-)

commit cdc5daed5218ed70445d178f5fc25df09c573001
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun May 11 15:12:19 2014 -0700

    Add support for RepeatedMapVector, MapVector and RepeatedListVector.

 .../drill/common/expression/PathSegment.java       |   13 +-
 .../apache/drill/common/expression/SchemaPath.java |   68 +
 .../java/org/apache/drill/common/types/Types.java  |   72 +-
 .../org/apache/drill/common/util/PathScanner.java  |   23 +-
 .../src/main/codegen/data/ValueVectorTypes.tdd     |   49 +-
 .../src/main/codegen/includes/vv_imports.ftl       |   15 +-
 .../codegen/templates/AbstractFieldReader.java     |  114 +
 .../codegen/templates/AbstractFieldWriter.java     |  104 +
 .../src/main/codegen/templates/BaseReader.java     |   65 +
 .../src/main/codegen/templates/BaseWriter.java     |   79 +
 .../src/main/codegen/templates/ComplexReaders.java |  172 ++
 .../src/main/codegen/templates/ComplexWriters.java |  130 +
 .../main/codegen/templates/FixedValueVectors.java  |  123 +-
 .../src/main/codegen/templates/ListWriters.java    |  180 ++
 .../src/main/codegen/templates/MapWriters.java     |  172 ++
 .../src/main/codegen/templates/NullReader.java     |  113 +
 .../codegen/templates/NullableValueVectors.java    |  107 +-
 .../codegen/templates/ObjectInspectorHelper.java   |    2 +-
 .../main/codegen/templates/ObjectInspectors.java   |    4 +-
 .../codegen/templates/RecordValueAccessor.java     |    2 +-
 .../codegen/templates/RepeatedValueVectors.java    |  124 +-
 .../src/main/codegen/templates/SqlAccessors.java   |    4 +-
 .../src/main/codegen/templates/TypeHelper.java     |  133 +-
 .../codegen/templates/VariableLengthVectors.java   |   57 +-
 .../exec/cache/VectorAccessibleSerializable.java   |   38 +-
 .../org/apache/drill/exec/expr/ClassGenerator.java |  135 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  246 +-
 .../exec/expr/ExpressionTreeMaterializer.java      |   40 +-
 .../drill/exec/expr/ValueVectorReadExpression.java |   45 +-
 .../exec/expr/fn/impl/HashFunctions.java.orig      |  252 ++
 .../drill/exec/expr/holders/ComplexHolder.java     |   25 +
 .../exec/expr/holders/RepeatedListHolder.java      |   23 +
 .../drill/exec/expr/holders/RepeatedMapHolder.java |   23 +
 .../exec/memory/OutOfMemoryRuntimeException.java   |   49 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |    4 +-
 .../physical/impl/TopN/PriorityQueueTemplate.java  |    4 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |   30 +-
 .../drill/exec/physical/impl/WireRecordBatch.java  |   12 +-
 .../physical/impl/aggregate/HashAggTemplate.java   |   96 +-
 .../physical/impl/aggregate/InternalBatch.java     |   14 +-
 .../exec/physical/impl/join/HashJoinBatch.java     |    8 +-
 .../drill/exec/physical/impl/join/JoinStatus.java  |   14 +-
 .../exec/physical/impl/join/JoinTemplate.java      |   16 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |   18 +-
 .../OrderedPartitionProjectorTemplate.java         |    4 +-
 .../impl/partitionsender/OutgoingRecordBatch.java  |    4 +-
 .../partitionsender/PartitionSenderRootExec.java   |   18 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   25 +-
 .../physical/impl/project/ProjectorTemplate.java   |   23 +-
 .../impl/svremover/RemovingRecordBatch.java        |   38 +-
 .../validate/IteratorValidatorBatchIterator.java   |    4 +-
 .../drill/exec/physical/impl/xsort/BatchGroup.java |    4 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |   12 +-
 .../drill/exec/record/AbstractRecordBatch.java     |   18 +-
 .../drill/exec/record/HyperVectorWrapper.java      |   56 +-
 .../drill/exec/record/MaterializedField.java       |  152 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |   18 +-
 .../drill/exec/record/RecordBatchLoader.java       |   22 +-
 .../drill/exec/record/SimpleVectorWrapper.java     |   61 +-
 .../org/apache/drill/exec/record/TransferPair.java |    2 +-
 .../org/apache/drill/exec/record/TypedFieldId.java |  196 +-
 .../apache/drill/exec/record/VectorAccessible.java |    2 +-
 .../apache/drill/exec/record/VectorContainer.java  |   36 +-
 .../apache/drill/exec/record/VectorWrapper.java    |   10 +
 .../apache/drill/exec/record/WritableBatch.java    |   15 +-
 .../exec/store/easy/json/JSONFormatPlugin.java     |   10 +-
 .../exec/store/easy/json/JSONRecordReader.java     |  532 ----
 .../exec/store/easy/json/JSONRecordReader2.java    |  116 +
 .../drill/exec/store/hive/HiveRecordReader.java    |    2 +-
 .../drill/exec/store/mock/MockRecordReader.java    |    2 +-
 .../exec/store/parquet/ParquetRecordReader.java    |    7 +-
 .../apache/drill/exec/vector/AllocationHelper.java |    6 +-
 .../drill/exec/vector/BaseDataValueVector.java     |   26 +-
 .../apache/drill/exec/vector/BaseValueVector.java  |   31 +-
 .../org/apache/drill/exec/vector/BitVector.java    |   50 +-
 .../apache/drill/exec/vector/RepeatedMutator.java  |    2 +-
 .../org/apache/drill/exec/vector/ValueVector.java  |   75 +-
 .../exec/vector/accessor/GenericAccessor.java      |    2 +-
 .../vector/complex/AbstractContainerVector.java    |  113 +
 .../exec/vector/complex/AbstractMapVector.java     |   22 +
 .../drill/exec/vector/complex/MapVector.java       |  391 +++
 .../drill/exec/vector/complex/Positionable.java    |   22 +
 .../exec/vector/complex/RepeatedListVector.java    |  407 +++
 .../exec/vector/complex/RepeatedMapVector.java     |  478 ++++
 .../drill/exec/vector/complex/StateTool.java       |   31 +
 .../drill/exec/vector/complex/WriteState.java      |   46 +
 .../drill/exec/vector/complex/fn/JsonReader.java   |  231 ++
 .../exec/vector/complex/fn/JsonRecordSplitter.java |   27 +
 .../drill/exec/vector/complex/fn/JsonWriter.java   |  258 ++
 .../complex/fn/ReaderJSONRecordSplitter.java       |  178 ++
 .../vector/complex/fn/UTF8JsonRecordSplitter.java  |  150 ++
 .../vector/complex/impl/AbstractBaseReader.java    |   63 +
 .../vector/complex/impl/AbstractBaseWriter.java    |   72 +
 .../vector/complex/impl/ComplexWriterImpl.java     |  164 ++
 .../complex/impl/RepeatedListReaderImpl.java       |  113 +
 .../vector/complex/impl/RepeatedMapReaderImpl.java |  205 ++
 .../vector/complex/impl/SingleListReaderImpl.java  |   92 +
 .../vector/complex/impl/SingleMapReaderImpl.java   |  154 ++
 .../vector/complex/impl/VectorContainerWriter.java |  104 +
 .../exec/vector/complex/reader/FieldReader.java    |   29 +
 .../exec/vector/complex/writer/FieldWriter.java    |   29 +
 .../test/java/org/apache/drill/PlanTestBase.java   |    7 +-
 .../drill/exec/compile/TestEvaluationVisitor.java  |   91 +
 .../org/apache/drill/exec/expr/ExpressionTest.java |    6 +-
 .../drill/exec/fn/impl/TestDateFunctions.java      |   74 +-
 .../drill/exec/physical/impl/SimpleRootExec.java   |    2 +-
 .../exec/physical/impl/TestCastFunctions.java      |    2 +-
 .../exec/physical/impl/TestConvertFunctions.java   |   22 +-
 .../drill/exec/physical/impl/TestDecimal.java      |   20 +-
 .../exec/physical/impl/TestExtractFunctions.java   |    2 +-
 .../physical/impl/TestImplicitCastFunctions.java   |    4 +-
 .../physical/impl/TestReverseImplicitCast.java     |    2 +-
 .../exec/physical/impl/TopN/TestSimpleTopN.java    |    2 +-
 .../drill/exec/physical/impl/agg/TestAgg.java      |   12 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |    1 +
 .../TestOrderedPartitionExchange.java              |   12 +-
 .../exec/physical/impl/writer/TestWriter.java      |    6 +-
 .../impl/xsort/TestSimpleExternalSort.java         |    6 +-
 .../record/ExpressionTreeMaterializerTest.java     |    5 +-
 .../drill/exec/record/vector/TestDateTypes.java    |   60 +-
 .../drill/exec/record/vector/TestValueVector.java  |   16 +-
 .../exec/store/json/JSONRecordReaderTest.java      |  395 ---
 .../exec/store/json/JsonRecordReader2Test.java     |   42 +
 .../exec/vector/complex/writer/TestJsonReader.java |  162 ++
 .../exec/vector/complex/writer/TestRepeated.java   |  264 ++
 .../src/test/resources/jsoninput/input2.json       |   40 +
 .../org/apache/drill/jdbc/DrillAccessorList.java   |   10 +-
 .../jdbc/test/TestAggregateFunctionsQuery.java     |    1 +
 .../apache/drill/jdbc/test/TestFunctionsQuery.java |    1 +
 pom.xml                                            |    1 +
 .../org/apache/drill/common/types/TypeProtos.java  |   17 +-
 .../apache/drill/exec/proto/SchemaDefProtos.java   | 1766 +------------
 .../org/apache/drill/exec/proto/UserBitShared.java | 2582 ++++++++++++++------
 protocol/src/main/protobuf/SchemaDef.proto         |   17 -
 protocol/src/main/protobuf/Types.proto             |    3 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   33 +-
 136 files changed, 9300 insertions(+), 4363 deletions(-)

commit 4ffef0183cbe336e30503ceee647b21128ba7738
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun May 11 02:08:31 2014 -0700

    DRILL-689: Disable dense decimal data type

 .../codegen/templates/DecimalAggrTypeFunctions1.java   | 10 +++++++---
 .../apache/drill/exec/planner/logical/DrillOptiq.java  | 18 ++++++------------
 2 files changed, 13 insertions(+), 15 deletions(-)

commit 45e14df5a83196d6c042a92a9de3f6bb893fa6e1
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun May 11 00:58:24 2014 -0700

    DRILL-688: Fix timestamp constant serialization

 .../common/expression/ExpressionStringBuilder.java    | 19 ++-----------------
 .../apache/drill/jdbc/test/TestFunctionsQuery.java    | 14 ++++++++++++++
 2 files changed, 16 insertions(+), 17 deletions(-)

commit 0493582fe4cdc7bc37a852aeb523ed5e1816ef09
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sat May 10 19:19:09 2014 -0700

    DRILL-687: Support selecting Date, Timestamp, Decimal data types from Hive into Drill
    
    Add unit test

 .../drill/exec/store/hive/HiveRecordReader.java    | 54 ++++++++++++++++++++--
 .../exec/store/hive/HiveTestDataGenerator.java     | 36 +++++++++++++++
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 13 +++++-
 3 files changed, 97 insertions(+), 6 deletions(-)

commit c7fa50fd3db2f93559d893cefdaa415511c18b44
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Sat May 10 16:39:58 2014 -0700

    In Logical rule, use child's trait when convert child to logical.  Propagate traits from child to parent, for Project/Filter etc.
    
    Clean up in TestJdbcDistQuery test case.

 .../exec/planner/logical/DrillAggregateRule.java   |  4 ++--
 .../exec/planner/logical/DrillFilterRule.java      |  6 ++---
 .../drill/exec/planner/logical/DrillJoinRule.java  | 28 +++++++++++-----------
 .../drill/exec/planner/logical/DrillLimitRule.java |  2 +-
 .../exec/planner/logical/DrillProjectRule.java     |  4 ++--
 .../drill/exec/planner/logical/DrillUnionRule.java |  2 +-
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  |  6 -----
 7 files changed, 23 insertions(+), 29 deletions(-)

commit cf2b8889a0514db6e236d348389b8b095147eaff
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Apr 29 15:04:43 2014 -0700

    Join order: Use parquet row count as the basis of scan cost. Transform select count(*)/count(columnName) into DirectGroupScan when possible.
    
    Nullable return type for extract function.
    
    Fix a bug in DrillProjectRule. Fix bug in ProjectPrule, set Direction for RelCollation trait.
    
    Set nullable properly for extract function's  return type and 'any' type in view DDL or table field lists.

 .../exec/physical/base/AbstractGroupScan.java      |  16 ++
 .../apache/drill/exec/physical/base/GroupScan.java |  34 ++++
 .../drill/exec/planner/logical/DrillJoinRel.java   |  18 +--
 .../exec/planner/logical/DrillProjectRule.java     |   2 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |   6 +
 .../planner/physical/ConvertCountToDirectScan.java | 174 +++++++++++++++++++++
 .../drill/exec/planner/physical/ProjectPrel.java   |   2 +-
 .../drill/exec/planner/physical/ProjectPrule.java  |  38 ++---
 .../exec/planner/sql/DrillExtractConvertlet.java   |   6 +-
 .../planner/types/DrillFixedRelDataTypeImpl.java   |   4 +-
 .../exec/planner/types/RelDataTypeHolder.java      |   2 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  60 ++++++-
 .../test/java/org/apache/drill/PlanTestBase.java   |  84 +++++++++-
 .../java/org/apache/drill/TestExampleQueries.java  |  25 +++
 14 files changed, 428 insertions(+), 43 deletions(-)

commit 3eaf6d6348d05e5c8a2f1d60fd3c19df5b4889b6
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Sat May 10 16:02:03 2014 -0700

    Fix hash join functions for variable types to use the correct buffer.

 .../drill/exec/expr/fn/impl/HashFunctions.java     | 37 ++++++++++++++--
 .../exec/physical/impl/writer/TestWriter.java      | 49 +++++++++++++++-------
 2 files changed, 68 insertions(+), 18 deletions(-)

commit a694c0a8776d6f9f4ade99d018d3557390d60d0f
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri May 9 18:41:11 2014 -0700

    DRILL-674: Consider the view/table identifier given in CREATE VIEW/TABLE statements.

 .../planner/sql/handlers/AbstractSqlHandler.java   | 39 ++++++++++--
 .../planner/sql/handlers/CreateTableHandler.java   | 17 ++++--
 .../exec/planner/sql/handlers/ViewHandler.java     | 42 ++++++++-----
 .../exec/planner/sql/parser/SqlCreateTable.java    | 15 ++++-
 .../exec/planner/sql/parser/SqlCreateView.java     | 15 ++++-
 .../drill/exec/planner/sql/parser/SqlDropView.java | 15 ++++-
 .../apache/drill/exec/store/AbstractSchema.java    |  5 ++
 .../exec/physical/impl/writer/TestWriter.java      |  6 ++
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 70 ++++++++++++++++++++++
 9 files changed, 195 insertions(+), 29 deletions(-)

commit 5b7f351e3bbc26d5e9a686cd5b0c636bb0b94b2e
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri May 9 23:17:00 2014 -0700

    DRILL-679: Support create table as query (CTAS) (contd.).
    
    Continuation to e19606593f3173d8f82ca3074186e9ca7a960ce2.
    Refactoring and align the writer interfaces similar to reader interfaces at the storage and file format level.

 exec/java-exec/src/main/codegen/data/Parser.tdd    |  3 +-
 .../templates/StringOutputRecordWriter.java        |  5 +-
 .../drill/exec/physical/base/AbstractWriter.java   | 30 +++++++
 .../base/Writer.java}                              | 17 +---
 .../apache/drill/exec/physical/config/Writer.java  | 69 ---------------
 .../impl/{writer => }/WriterRecordBatch.java       | 87 +++++++++----------
 .../exec/planner/logical/CreateTableEntry.java     |  5 +-
 .../logical/FileSystemCreateTableEntry.java        | 73 ++++++++--------
 .../drill/exec/planner/physical/WriterPrel.java    |  3 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  4 +-
 .../{SqlHandler.java => AbstractSqlHandler.java}   |  4 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  2 +-
 .../planner/sql/handlers/SetOptionHandler.java     |  2 +-
 .../planner/sql/handlers/UseSchemaHandler.java     |  2 +-
 .../exec/planner/sql/handlers/ViewHandler.java     |  2 +-
 .../exec/planner/sql/parser/DrillSqlCall.java      |  4 +-
 .../exec/planner/sql/parser/SqlCreateTable.java    |  4 +-
 .../exec/planner/sql/parser/SqlCreateView.java     |  4 +-
 .../exec/planner/sql/parser/SqlDescribeTable.java  |  4 +-
 .../drill/exec/planner/sql/parser/SqlDropView.java |  4 +-
 .../exec/planner/sql/parser/SqlShowFiles.java      |  4 +-
 .../exec/planner/sql/parser/SqlShowSchemas.java    |  4 +-
 .../exec/planner/sql/parser/SqlShowTables.java     |  4 +-
 .../exec/planner/sql/parser/SqlUseSchema.java      |  4 +-
 .../drill/exec/store/RecordWriterRegistry.java     | 91 --------------------
 .../drill/exec/store/dfs/FileSystemConfig.java     |  1 -
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  4 -
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  6 ++
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |  4 +
 .../drill/exec/store/dfs}/WorkspaceConfig.java     |  2 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 23 +++--
 .../exec/store/dfs/easy/EasyFormatPlugin.java      | 25 +++++-
 ...tchCreator.java => EasyReaderBatchCreator.java} |  8 +-
 .../drill/exec/store/dfs/easy/EasyWriter.java      | 97 ++++++++++++++++++++++
 .../dfs/easy/EasyWriterBatchCreator.java}          | 14 ++--
 .../exec/store/easy/json/JSONFormatPlugin.java     |  8 ++
 .../exec/store/easy/text/TextFormatPlugin.java     | 34 ++++++--
 .../exec/store/parquet/ParquetFormatPlugin.java    |  7 ++
 .../DrillTextRecordWriter.java}                    | 52 ++++++------
 .../exec/physical/impl/writer/TestWriter.java      | 54 +++++++++++-
 .../src/test/resources/storage-plugins.json        | 15 +++-
 .../test/resources/writer/simple_csv_writer.json   | 87 +++++++++++--------
 42 files changed, 487 insertions(+), 389 deletions(-)

commit 6dad590324f9a38f87925e23af0c4f7ce8c15a26
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri May 9 11:07:28 2014 -0700

    DRILL-675: Views created in dfs (with no workspace subschema) schema are not found when queried.

 .../drill/exec/planner/sql/handlers/SqlHandler.java       |  1 +
 .../java/org/apache/drill/exec/store/AbstractSchema.java  | 15 +++++++++++++++
 .../drill/exec/store/dfs/FileSystemSchemaFactory.java     |  5 +++++
 .../drill/exec/store/hive/schema/HiveSchemaFactory.java   |  4 ++++
 .../java/org/apache/drill/jdbc/test/TestJdbcQuery.java    |  8 +++-----
 5 files changed, 28 insertions(+), 5 deletions(-)

commit e19606593f3173d8f82ca3074186e9ca7a960ce2
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Apr 30 16:46:59 2014 -0700

    DRILL-679: Support create table as query (CTAS).

 .../drill/common/logical/WorkspaceConfig.java      |  72 +++++++++
 .../apache/drill/common/logical/data/Writer.java   |  61 +++++++
 .../data/visitors/AbstractLogicalVisitor.java      |   7 +-
 .../logical/data/visitors/LogicalVisitor.java      |   2 +
 .../drill/exec/store/hbase/HBaseSchemaFactory.java |   2 +-
 distribution/src/resources/storage-plugins.json    |  11 ++
 exec/java-exec/src/main/codegen/data/Parser.tdd    |   2 +
 .../src/main/codegen/includes/parserImpls.ftl      |  63 ++++++--
 .../codegen/templates/AbstractRecordWriter.java    |  42 +++++
 .../codegen/templates/EventBasedRecordWriter.java  | 132 +++++++++++++++
 .../codegen/templates/RecordValueAccessor.java     |  75 +++++++++
 .../src/main/codegen/templates/RecordWriter.java   |  73 +++++++++
 .../templates/StringOutputRecordWriter.java        | 132 +++++++++++++++
 .../physical/base/AbstractPhysicalVisitor.java     |   5 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   2 +-
 .../apache/drill/exec/physical/config/Writer.java  |  69 ++++++++
 .../physical/impl/writer/WriterBatchCreator.java   |  36 +++++
 .../physical/impl/writer/WriterRecordBatch.java    | 179 +++++++++++++++++++++
 .../exec/planner/common/DrillWriterRelBase.java    |  42 +++++
 .../exec/planner/logical/CreateTableEntry.java     |  39 +++++
 .../drill/exec/planner/logical/DrillRuleSets.java  |   2 +-
 .../drill/exec/planner/logical/DrillWriterRel.java |  49 ++++++
 .../exec/planner/logical/DynamicDrillTable.java    |   2 +-
 .../logical/FileSystemCreateTableEntry.java        |  72 +++++++++
 .../drill/exec/planner/physical/WriterPrel.java    |  48 ++++++
 .../drill/exec/planner/physical/WriterPrule.java   |  69 ++++++++
 .../planner/sql/handlers/CreateTableHandler.java   | 121 ++++++++++++++
 .../planner/sql/handlers/DefaultSqlHandler.java    |  10 +-
 .../planner/sql/handlers/SetOptionHandler.java     |   4 +-
 .../exec/planner/sql/handlers/SqlHandler.java      |  35 +++-
 .../planner/sql/handlers/UseSchemaHandler.java     |   4 +-
 .../exec/planner/sql/handlers/ViewHandler.java     |  26 +--
 .../exec/planner/sql/parser/SqlCreateTable.java    |  92 +++++++++++
 .../apache/drill/exec/store/AbstractSchema.java    |   8 +-
 .../drill/exec/store/AbstractStoragePlugin.java    |   1 -
 .../drill/exec/store/RecordWriterRegistry.java     |  91 +++++++++++
 .../drill/exec/store/StoragePluginRegistry.java    |   1 +
 .../apache/drill/exec/store/dfs/FileSelection.java |   2 +-
 .../drill/exec/store/dfs/FileSystemConfig.java     |   3 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  13 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  42 ++---
 .../exec/store/writer/RecordWriterTemplate.java    |  35 ++++
 .../exec/store/writer/csv/CSVRecordWriter.java     | 131 +++++++++++++++
 .../exec/physical/impl/writer/TestWriter.java      |  83 ++++++++++
 .../src/test/resources/join/hj_exchanges.json      |  20 ++-
 .../test/resources/writer/simple_csv_writer.json   |  66 ++++++++
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |  11 +-
 exec/jdbc/src/test/resources/storage-plugins.json  |  10 +-
 48 files changed, 2001 insertions(+), 96 deletions(-)

commit 379f1f387c2b35f4eec8ea02a64188b3fbeed5b0
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri May 9 01:40:50 2014 -0700

    Cleanup DateUtility to use time zone list once

 .../drill/exec/expr/fn/impl/DateUtility.java       | 577 +--------------------
 1 file changed, 3 insertions(+), 574 deletions(-)

commit fe2986dceb4558e7ee6f2b55ebf4ad59815d880d
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri May 9 00:56:41 2014 -0700

    DRILL-601: Support for 'Show files' command

 exec/java-exec/src/main/codegen/data/Parser.tdd    |  6 +-
 .../src/main/codegen/includes/parserImpls.ftl      | 19 +++++
 .../exec/planner/sql/handlers/ShowFileHandler.java | 96 ++++++++++++++++++++++
 .../sql/handlers/ShowFilesCommandResult.java       | 85 +++++++++++++++++++
 .../exec/planner/sql/parser/SqlShowFiles.java      | 71 ++++++++++++++++
 .../exec/store/dfs/FileSystemSchemaFactory.java    | 11 ++-
 .../drill/exec/store/dfs/HasFileSystemSchema.java  | 26 ++++++
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  8 +-
 .../apache/drill/exec/store/pojo/PojoDataType.java |  3 +
 .../drill/exec/store/pojo/PojoRecordReader.java    |  4 +
 .../org/apache/drill/exec/store/pojo/Writers.java  | 19 +++++
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 37 ++++++++-
 12 files changed, 378 insertions(+), 7 deletions(-)

commit 88e3153425bbc99f6766d192c7c8c8d6e2f7b398
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Apr 29 19:39:22 2014 -0700

    DRILL-619: Implement Decimal functions abs ceil floor round truncate divide modulo Fix resolver type precedence Fix bug in multiplication of large decimals Add tests
    
    Added following misc functions
    concat
    length
    to_char
    to_number
    
    Aggregate functions for decimal

 .../apache/drill/common/util/DecimalUtility.java   |  199 ++++
 exec/java-exec/src/main/codegen/config.fmpp        |    4 +-
 exec/java-exec/src/main/codegen/data/Casts.tdd     |    4 +
 .../src/main/codegen/data/DecimalAggrTypes1.tdd    |   65 ++
 .../src/main/codegen/data/NumericTypes.tdd         |   20 +
 .../templates/DateIntervalAggrFunctions1.java      |    4 +-
 .../templates/Decimal/CastDecimalFloat.java        |    4 +
 .../templates/Decimal/DecimalFunctions.java        | 1034 +++++++++++++++-----
 .../templates/DecimalAggrTypeFunctions1.java       |  200 ++++
 .../main/codegen/templates/FixedValueVectors.java  |    2 +-
 .../codegen/templates/NumericToCharFunctions.java  |   83 ++
 .../exec/expr/annotations/FunctionTemplate.java    |   12 +-
 .../exec/expr/fn/DrillDecimalAggFuncHolder.java    |   46 +
 .../expr/fn/DrillDecimalDivScaleFuncHolder.java    |   64 ++
 .../expr/fn/DrillDecimalSetScaleFuncHolder.java    |   69 ++
 .../expr/fn/DrillDecimalZeroScaleFuncHolder.java   |   60 ++
 .../drill/exec/expr/fn/FunctionConverter.java      |   12 +
 .../drill/exec/expr/fn/impl/MathFunctions.java     |   40 +-
 .../drill/exec/expr/fn/impl/StringFunctions.java   |  101 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |   42 +-
 .../exec/resolver/ResolverTypePrecedence.java      |   10 +-
 ...ction.java => TestAggregateFunctionsQuery.java} |   27 +-
 .../apache/drill/jdbc/test/TestFunctionsQuery.java |  404 ++++++++
 23 files changed, 2265 insertions(+), 241 deletions(-)

commit 05e67e7dfd6b9a83ad3c2495dc56836ad13b27a8
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed May 7 17:41:14 2014 -0700

    DRILL-682: Improve HBase storage engine test execution

 contrib/storage-hbase/pom.xml                      |  17 ++-
 .../exec/store/hbase/HBaseStoragePluginConfig.java |   9 ++
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |  62 +++++++++--
 .../apache/drill/hbase/HBaseRecordReaderTest.java  |  80 +-------------
 .../org/apache/drill/hbase/HBaseTestsSuite.java    | 118 +++++++++++++++------
 .../drill/hbase/TestHBaseFilterPushDown.java       |   8 +-
 .../drill/hbase/TestHBaseProjectPushDown.java      |  34 +++++-
 .../org/apache/drill/hbase/TestTableGenerator.java |  18 ++--
 .../src/test/resources/hbase-site.xml              |   2 +-
 .../hbase/hbase_scan_screen_physical.json          |   2 +-
 .../hbase_scan_screen_physical_column_select.json  |   2 +-
 .../hbase_scan_screen_physical_family_select.json  |   2 +-
 .../storage-hbase/src/test/resources/logback.xml   |  20 +++-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  10 +-
 14 files changed, 234 insertions(+), 150 deletions(-)

commit f2ebfc6fa94b85ea1caaa35b2c3637b2d36c3265
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sat May 3 16:38:11 2014 -0700

    DRILL-633: Fix toString() for DrillFuncHolder and few other types.
    
     - Added o.a.d.common.types.Types.toString(MajorType) method to convert a MajorType to string without the line breaks.
     - Log a trace message with all registered Drill functions.

 .../drill/common/logical/data/NamedExpression.java    |  7 ++++++-
 .../java/org/apache/drill/common/types/Types.java     |  6 ++++++
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java    | 19 +++++++++++--------
 .../expr/fn/DrillFunctionImplementationRegistry.java  |  8 +++++++-
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java     | 11 +----------
 5 files changed, 31 insertions(+), 20 deletions(-)

commit acc45fed6d48700cef456eaca13d748760886c68
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu May 8 05:40:28 2014 -0700

    DRILL-664: Improve Rpc error message display

 .../src/main/java/org/apache/drill/exec/rpc/RpcException.java    | 9 +++++++--
 .../src/main/java/org/apache/drill/exec/work/ErrorHelper.java    | 5 ++++-
 2 files changed, 11 insertions(+), 3 deletions(-)

commit 612527bd22c27aa92363d2297a9c2b4a05475fd0
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sat May 3 16:39:21 2014 -0700

    DRILL-626: Project push down into HBase scan

 .../common/exceptions/DrillRuntimeException.java   |  11 +-
 .../drill/exec/store/hbase/HBaseGroupScan.java     |  90 +++++----
 .../drill/exec/store/hbase/HBaseRecordReader.java  | 221 +++++++++++----------
 .../drill/exec/store/hbase/HBaseSchemaFactory.java |   6 +-
 .../drill/exec/store/hbase/HBaseStoragePlugin.java |   6 +-
 .../drill/exec/store/hbase/HBaseSubScan.java       |  10 +
 .../java/org/apache/drill/hbase/BaseHBaseTest.java |  72 +++++++
 .../drill/hbase/TestHBaseFilterPushDown.java       |  52 +----
 .../drill/hbase/TestHBaseProjectPushDown.java      |  35 ++++
 .../hbase_scan_screen_physical_column_select.json  |   2 +-
 .../exec/physical/base/AbstractGroupScan.java      |  13 +-
 .../apache/drill/exec/physical/base/GroupScan.java |   8 +-
 .../planner/logical/DrillPushProjIntoScan.java     | 118 ++---------
 .../drill/exec/planner/physical/PrelUtil.java      |  85 ++++++--
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  10 +-
 .../org/apache/drill/exec/store/hive/HiveScan.java |   4 +-
 .../exec/store/ischema/InfoSchemaGroupScan.java    |   4 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  11 +-
 18 files changed, 415 insertions(+), 343 deletions(-)

commit 42763b650e7abbc8c8974fe5a7486fa32c5fb192
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed May 7 07:37:27 2014 -0700

    DRILL-655: Miscellaneous fixes for SchemaPath
    
     - Fixed equals() and hashCode().
     - Made PathSegment immutable outside of package.
     - Made ArraySegment and NameSegment final.

 .../drill/common/expression/PathSegment.java       | 88 ++++++++++++++++------
 .../apache/drill/common/expression/SchemaPath.java | 19 ++---
 2 files changed, 69 insertions(+), 38 deletions(-)

commit 16dc94fbe18ef4cac1a1e055eb9b5cefe7c7061c
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed May 7 07:32:35 2014 -0700

    DRILL-654: Fix for MaterializedField.getAsSchemaPath()

 .../src/main/java/org/apache/drill/exec/record/MaterializedField.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a925c27897ae983b3bf8d04741f86b8292b23699
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed May 7 08:34:16 2014 -0700

    DRILL-656: Fix for test case failure in TestPoolChunkTrim

 exec/bufferl/src/test/java/io/netty/buffer/TestPoolChunkTrim.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 3fa1322b31605de1e47e70912ad5aadf598c4e99
Author: Aman Sinha <asinha@mapr.com>
Date:   Fri Apr 4 11:56:44 2014 -0700

    DRILL-576: Add costing
    - new plans for joins and aggregations, including distributions.
    - Utilize GroupScan getSize() for costing
    - Add cleanup() methods to MergeJoinBatch and HashJoinBatch.
    - Don't match hash aggr rule if number of grouping cols is 0.
    - Fix initialization of maxOccupiedIndex in HashAggr and HashTable.
    - Fix less-than comparison for cost when row counts are the same.
    - Improve fragment identification for better debugging.

 .../org/apache/drill/exec/ops/QueryContext.java    |   1 +
 .../apache/drill/exec/physical/base/Exchange.java  |   9 -
 .../exec/physical/config/BroadcastExchange.java    |   5 -
 .../exec/physical/config/HashToMergeExchange.java  |  93 ++++++
 .../exec/physical/config/HashToRandomExchange.java |   5 -
 .../physical/config/OrderedPartitionExchange.java  |  10 -
 .../exec/physical/config/SingleMergeExchange.java  |   7 +-
 .../drill/exec/physical/config/UnionExchange.java  |   6 -
 .../exec/physical/impl/aggregate/HashAggBatch.java |   6 +-
 .../physical/impl/aggregate/HashAggTemplate.java   |   9 +-
 .../physical/impl/common/HashTableTemplate.java    |   2 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  11 +-
 .../exec/planner/common/DrillFilterRelBase.java    |  23 +-
 .../exec/planner/common/DrillLimitRelBase.java     |  20 ++
 .../exec/planner/common/DrillProjectRelBase.java   |  14 +-
 .../exec/planner/common/DrillScanRelBase.java      |   5 +-
 .../exec/planner/common/DrillScreenRelBase.java    |  12 +-
 .../drill/exec/planner/cost/DrillCostBase.java     | 311 +++++++++++++++++++++
 .../drill/exec/planner/cost/DrillRelOptCost.java   |  28 ++
 .../exec/planner/cost/DrillRelOptCostFactory.java  |  31 ++
 .../exec/planner/logical/DrillAggregateRel.java    |   5 -
 .../exec/planner/logical/DrillAggregateRule.java   |   6 +
 .../drill/exec/planner/logical/DrillRuleSets.java  |  15 +-
 .../drill/exec/planner/logical/DrillScanRel.java   |  43 ++-
 .../drill/exec/planner/physical/AggPruleBase.java  |  57 ++++
 .../planner/physical/BroadcastExchangePrel.java    |  83 ++++++
 .../planner/physical/DrillDistributionTrait.java   |   5 +-
 .../physical/DrillDistributionTraitDef.java        |  17 +-
 .../drill/exec/planner/physical/FilterPrel.java    |   8 +-
 .../drill/exec/planner/physical/HashAggPrel.java   | 127 +++++++++
 .../drill/exec/planner/physical/HashAggPrule.java  |  93 ++++++
 .../drill/exec/planner/physical/HashJoinPrel.java  | 166 +++++++++++
 .../drill/exec/planner/physical/HashJoinPrule.java |  92 ++++++
 .../planner/physical/HashToMergeExchangePrel.java  | 106 +++++++
 .../planner/physical/HashToRandomExchangePrel.java |  35 ++-
 .../drill/exec/planner/physical/JoinPruleBase.java |  66 +++++
 .../drill/exec/planner/physical/MergeJoinPrel.java |  21 +-
 .../exec/planner/physical/MergeJoinPrule.java      |  75 ++---
 .../physical/OrderedPartitionExchangePrel.java     |  18 +-
 .../exec/planner/physical/PlannerSettings.java     |  18 ++
 .../drill/exec/planner/physical/ScanPrel.java      |  53 +++-
 .../planner/physical/SingleMergeExchangePrel.java  |  37 ++-
 .../drill/exec/planner/physical/SortPrel.java      |  27 +-
 .../drill/exec/planner/physical/StreamAggPrel.java |  26 +-
 .../exec/planner/physical/StreamAggPrule.java      | 103 ++++---
 .../drill/exec/planner/physical/TopNPrel.java      |  23 +-
 .../exec/planner/physical/UnionExchangePrel.java   |  27 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  14 +
 .../org/apache/drill/exec/work/WorkManager.java    |   3 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |   7 +
 .../drill/exec/work/fragment/FragmentExecutor.java |   9 +
 .../java/org/apache/drill/TestAltSortQueries.java  |   2 +
 .../java/org/apache/drill/TestTpchDistributed.java |   1 +
 pom.xml                                            |   2 +-
 54 files changed, 1792 insertions(+), 206 deletions(-)

commit b7bf00cbbdc410861061e59b122a40083b527564
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Apr 24 11:57:44 2014 -0700

    DRILL-438: Add support for Views (CREATE, DROP and select)

 .../drill/exec/store/hbase/HBaseSchemaFactory.java |  11 +-
 .../drill/exec/store/hbase/HBaseStoragePlugin.java |   5 +-
 exec/java-exec/src/main/codegen/data/Parser.tdd    |   7 +-
 .../src/main/codegen/includes/parserImpls.ftl      |  52 +++++
 .../org/apache/drill/exec/ops/FragmentContext.java |  12 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |   2 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |   1 +
 .../drill/exec/planner/logical/DrillViewTable.java |  66 ++++++
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  17 +-
 .../exec/planner/sql/handlers/ViewHandler.java     | 146 ++++++++++++
 .../exec/planner/sql/parser/DrillSqlCall.java      |  39 ++++
 .../exec/planner/sql/parser/SqlCreateView.java     | 100 ++++++++
 .../exec/planner/sql/parser/SqlDescribeTable.java  |  11 +-
 .../drill/exec/planner/sql/parser/SqlDropView.java |  65 ++++++
 .../exec/planner/sql/parser/SqlShowSchemas.java    |  10 +-
 .../exec/planner/sql/parser/SqlShowTables.java     |  11 +-
 .../exec/planner/sql/parser/SqlUseSchema.java      |  11 +-
 .../planner/types/DrillFixedRelDataTypeImpl.java   | 104 +++++++++
 .../apache/drill/exec/rpc/user/UserSession.java    |   5 +
 .../org/apache/drill/exec/rpc/user/ViewStore.java  |  93 ++++++++
 .../apache/drill/exec/store/AbstractSchema.java    |  17 +-
 .../org/apache/drill/exec/store/SchemaFactory.java |   3 +-
 .../drill/exec/store/StoragePluginRegistry.java    |   5 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  10 +-
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  19 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  35 ++-
 .../drill/exec/store/hive/HiveStoragePlugin.java   |   6 +-
 .../exec/store/hive/schema/HiveDatabaseSchema.java |   5 +-
 .../exec/store/hive/schema/HiveSchemaFactory.java  |   8 +-
 .../store/ischema/InfoSchemaStoragePlugin.java     |   9 +-
 .../drill/exec/store/mock/MockStorageEngine.java   |   3 +-
 .../drill/exec/store/sys/SystemTablePlugin.java    |   7 +-
 .../test/java/org/apache/drill/PlanningBase.java   |   2 +-
 .../java/org/apache/drill/TestTpchSingleMode.java  |   2 +-
 .../apache/drill/exec/store/TestOrphanSchema.java  |   3 +-
 .../drill/exec/store/ischema/OrphanSchema.java     |   3 +-
 .../src/test/resources/queries/tpch/15.sql         |   2 +
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 251 ++++++++++++++++++++-
 38 files changed, 1082 insertions(+), 76 deletions(-)

commit cd4f281e0c41707f79ccf3777d6245a13befeb18
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed May 7 12:25:39 2014 -0700

    DRILL-577: Two way implicit casts

 .../exec/expr/ExpressionTreeMaterializer.java      | 10 ++-
 .../exec/resolver/ResolverTypePrecedence.java      | 55 ++++++++++++++-
 .../apache/drill/exec/resolver/TypeCastRules.java  | 45 +++++++++++--
 .../physical/impl/TestReverseImplicitCast.java     | 78 ++++++++++++++++++++++
 .../functions/cast/two_way_implicit_cast.json      | 36 ++++++++++
 5 files changed, 217 insertions(+), 7 deletions(-)

commit f2ff2c9d2aad429f042da8250ca6e1ef1f160318
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon May 5 14:48:18 2014 -0700

    DRILL-640: Fix memory leak in limit operator

 .../exec/physical/impl/limit/LimitRecordBatch.java | 12 +++
 .../impl/limit/TestLimitWithExchanges.java         | 29 ++++++++
 .../src/test/resources/limit/limit_exchanges.json  | 87 ++++++++++++++++++++++
 3 files changed, 128 insertions(+)

commit d870b6e0ccd5765ca0738b3642ee459a1d15cceb
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sun May 4 13:52:08 2014 -0700

    DRILL-627: Fix memory leaks in hash join and hash aggregate

 .../physical/impl/aggregate/HashAggTemplate.java   |   4 +
 .../exec/physical/impl/join/HashJoinBatch.java     |  71 +++++---
 .../physical/impl/join/HashJoinProbeTemplate.java  |  16 +-
 .../exec/physical/impl/join/TestHashJoin.java      |  33 +++-
 .../src/test/resources/join/hj_exchanges1.json     | 197 +++++++++++++++++++++
 5 files changed, 287 insertions(+), 34 deletions(-)

commit 85d52c744753b54964d655af2e2a7e45f14c989c
Author: Yash Sharma <yash.sharma@snapdeal.com>
Date:   Tue May 6 19:02:38 2014 -0700

    DRILL-219: Math Trigonometric functions

 exec/java-exec/src/main/codegen/data/MathFunc.tdd  | 124 ++++++++++++++++++++-
 .../src/main/codegen/templates/MathFunctions.java  |  61 ++++++++++
 .../drill/exec/fn/impl/TestNewMathFunctions.java   | 119 ++++++++++++++++++++
 .../functions/testTrigoMathFunctions.json          |  40 +++++++
 4 files changed, 342 insertions(+), 2 deletions(-)

commit 08923cb82a007171e699f5ac0b4e4380b3a5a448
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Sat Mar 29 15:02:58 2014 -0500

    DRILL-381: Implement SYSTEM and SESSION options.

 .../drill/common/logical/PlanProperties.java       |  24 +-
 .../apache/drill/exec/cache/DistributedCache.java  |   9 +-
 .../apache/drill/exec/cache/DistributedMap.java    |   3 +-
 .../exec/cache/DistributedMapDeserializer.java     |  28 +++
 .../org/apache/drill/exec/cache/HazelCache.java    |  55 ++++-
 .../exec/cache/JacksonAdvancedSerializer.java      |  65 ++++++
 .../drill/exec/cache/JacksonDrillSerializable.java |  17 --
 .../drill/exec/cache/JacksonSerializable.java      |  54 +++++
 .../org/apache/drill/exec/cache/LocalCache.java    |  94 +++++++-
 .../drill/exec/cache/SerializationDefinition.java  |  36 +++
 .../org/apache/drill/exec/ops/FragmentContext.java |  22 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |   9 +-
 .../apache/drill/exec/ops/QueryContext.java.orig   | 135 ++++++++++++
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  63 +++++-
 .../java/org/apache/drill/exec/opt/Optimizer.java  |  12 +-
 .../drill/exec/planner/PhysicalPlanReader.java     |  14 +-
 .../drill/exec/planner/SimpleExecPlanner.java      |  15 +-
 .../exec/planner/fragment/SimpleParallelizer.java  |  11 +-
 .../drill/exec/planner/logical/StoragePlugins.java |  13 +-
 .../exec/planner/physical/PlannerSettings.java     |  17 +-
 .../planner/sql/handlers/DefaultSqlHandler.java    |   4 +-
 .../exec/planner/sql/handlers/ExplainHandler.java  |  12 +-
 .../planner/sql/handlers/SetOptionHandler.java     |  20 +-
 .../planner/sql/handlers/SimpleCommandResult.java  |   1 -
 .../org/apache/drill/exec/rpc/user/UserServer.java |  10 +-
 .../apache/drill/exec/rpc/user/UserSession.java    |  16 +-
 .../org/apache/drill/exec/server/Drillbit.java     |   2 +
 .../apache/drill/exec/server/Drillbit.java.orig    | 141 ++++++++++++
 .../apache/drill/exec/server/DrillbitContext.java  |  12 +-
 .../drill/exec/server/DrillbitContext.java.orig    | 157 +++++++++++++
 .../exec/server/options/DrillConfigIterator.java   |  85 +++++++
 .../server/options/FragmentOptionsManager.java     |  81 +++++++
 .../drill/exec/server/options/OptionList.java      |  23 ++
 .../drill/exec/server/options/OptionManager.java   |  37 ++++
 .../drill/exec/server/options/OptionValidator.java |  65 ++++++
 .../drill/exec/server/options/OptionValue.java     | 130 +++++++++++
 .../exec/server/options/SessionOptionManager.java  |  98 +++++++++
 .../exec/server/options/SetOptionException.java    |  62 ++++++
 .../exec/server/options/SystemOptionManager.java   | 154 +++++++++++++
 .../drill/exec/server/options/TypeValidators.java  | 132 +++++++++++
 .../drill/exec/store/StoragePluginRegistry.java    |  34 +--
 .../exec/store/StoragePluginRegistry.java.orig     | 243 +++++++++++++++++++++
 .../drill/exec/store/direct/DirectGroupScan.java   |   7 +
 .../drill/exec/store/mock/MockGroupScanPOP.java    |  27 ++-
 .../drill/exec/store/pojo/AbstractWriter.java      |   2 +-
 .../apache/drill/exec/store/pojo/PojoDataType.java |  72 ++++++
 .../drill/exec/store/pojo/PojoRecordReader.java    |  20 +-
 .../org/apache/drill/exec/store/pojo/Writers.java  | 133 ++++++++++-
 .../drill/exec/store/sys/DrillbitIterator.java     |  61 ++++++
 .../drill/exec/store/sys/StaticDrillTable.java     |  41 ++++
 .../apache/drill/exec/store/sys/SystemTable.java   |  55 +++++
 .../exec/store/sys/SystemTableBatchCreator.java    |  44 ++++
 .../drill/exec/store/sys/SystemTablePlugin.java    | 118 ++++++++++
 .../exec/store/sys/SystemTablePluginConfig.java    |  32 +++
 .../drill/exec/store/sys/SystemTableScan.java      | 128 +++++++++++
 .../drill/exec/work/batch/ControlHandlerImpl.java  |  40 ++--
 .../exec/work/batch/ControlMessageHandler.java     |   4 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  12 +-
 .../exec/work/fragment/NonRootFragmentManager.java |   6 +-
 .../apache/drill/exec/work/user/UserWorker.java    |   5 +
 .../test/java/org/apache/drill/PlanningBase.java   |  18 +-
 .../java/org/apache/drill/TestTpchSingleMode.java  |   3 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   6 +-
 .../apache/drill/exec/pop/TestFragmentChecker.java |  29 +--
 .../org/apache/drill/exec/server/TestOptions.java  |  41 ++++
 .../resources/server/options_session_check.json    |  20 ++
 .../src/test/resources/server/options_set.json     |  24 ++
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |   3 +
 .../org/apache/drill/exec/proto/BitControl.java    | 181 ++++++++++++++-
 protocol/src/main/protobuf/BitControl.proto        |   1 +
 70 files changed, 3142 insertions(+), 206 deletions(-)

commit 9b34f23dd8291c7c4c88e0421d02d56e65ae0cd2
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue May 6 02:42:59 2014 -0700

    DRILL-645: Correct string encodings in code template

 .../main/codegen/templates/CastFunctionsSrcVarLen.java   | 16 ++++++++--------
 .../src/main/codegen/templates/CastVarCharDate.java      |  2 +-
 .../src/main/codegen/templates/CastVarCharInterval.java  |  2 +-
 .../DateToCharFunctions.java                             |  2 +-
 .../ToDateTypeFunctions.java                             |  4 ++--
 .../codegen/templates/Decimal/CastVarCharDecimal.java    | 10 +++++-----
 .../main/codegen/templates/ObjectInspectorHelper.java    |  4 +++-
 .../src/main/codegen/templates/ValueHolders.java         | 10 +++++++++-
 .../main/codegen/templates/VariableLengthVectors.java    | 12 ++++++++++--
 .../apache/drill/exec/physical/impl/TestHiveUDFs.java    | 14 +++++++-------
 10 files changed, 47 insertions(+), 29 deletions(-)

commit 0f65fd8d3bb40300e5455f31603d41dd9a149bb6
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue May 6 01:25:09 2014 -0700

    DRILL-644: Fix char length and position calculation for UTF-8 strings in StringFunctionUtil

 .../exec/expr/fn/impl/StringFunctionUtil.java      | 48 ++++++++++++----------
 .../exec/physical/impl/TestStringFunctions.java    | 37 +++++++----------
 .../resources/functions/string/testSubstr.json     |  9 ++--
 3 files changed, 46 insertions(+), 48 deletions(-)

commit 3af2344f27749d63890a379c5b9ed4d92b142a73
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue May 6 01:17:18 2014 -0700

    DRILL-643: Fix ByteBuf allocation in o.a.d.exec.vector.ValueHolderHelper.getVarCharHolder()

 .../apache/drill/exec/vector/ValueHolderHelper.java   | 19 +++++++++----------
 1 file changed, 9 insertions(+), 10 deletions(-)

commit e790e79622f3b835ca6694d94435b3397a630725
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Sun May 4 12:12:18 2014 -0700

    DRILL-631 : do not push projects down if scan does not support .
    
    DRILL-631 : more work.
    
    DRILL-631: Groupscan by default does not support project pushdown into scan.

 .../drill/exec/store/hbase/HBaseGroupScan.java     |  8 ++++-
 .../exec/physical/base/AbstractGroupScan.java      | 13 ++++++-
 .../apache/drill/exec/physical/base/GroupScan.java | 15 ++++++--
 .../planner/logical/DrillPushProjIntoScan.java     | 40 +++++++++++++++++-----
 .../drill/exec/planner/logical/DrillRuleSets.java  |  8 ++---
 .../drill/exec/planner/logical/DrillScanRel.java   | 17 ++++++---
 .../drill/exec/planner/physical/PrelUtil.java      | 25 ++++++++------
 .../drill/exec/planner/physical/ScanPrule.java     |  5 +--
 .../exec/planner/sql/handlers/ExplainHandler.java  |  4 +++
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   | 39 ++++++++++++---------
 .../drill/exec/store/direct/DirectGroupScan.java   |  2 +-
 .../exec/store/ischema/InfoSchemaGroupScan.java    | 15 ++++----
 .../drill/exec/store/parquet/ParquetGroupScan.java | 31 ++++++++++-------
 .../java/org/apache/drill/TestProjectPushDown.java |  2 +-
 14 files changed, 150 insertions(+), 74 deletions(-)

commit 0b9893c88d5274b6576a22e4e88509cc0e4b2d8d
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu Apr 24 19:33:09 2014 -0700

    Exchange optiq rules: no need to specify child operand in Drill logical/physical rules.
    
    Add child specification to Project and Filter physical rules.

 .../java/org/apache/drill/exec/planner/logical/DrillFilterRule.java | 4 ++--
 .../java/org/apache/drill/exec/planner/logical/DrillJoinRule.java   | 6 +++---
 .../java/org/apache/drill/exec/planner/logical/DrillLimitRule.java  | 2 +-
 .../org/apache/drill/exec/planner/logical/DrillProjectRule.java     | 4 ++--
 .../java/org/apache/drill/exec/planner/logical/DrillSortRule.java   | 4 ++--
 .../java/org/apache/drill/exec/planner/physical/FilterPrule.java    | 2 +-
 .../java/org/apache/drill/exec/planner/physical/LimitPrule.java     | 4 ++--
 .../java/org/apache/drill/exec/planner/physical/MergeJoinPrule.java | 6 +++---
 .../java/org/apache/drill/exec/planner/physical/ProjectPrule.java   | 4 ++--
 .../main/java/org/apache/drill/exec/planner/physical/SortPrule.java | 4 ++--
 .../java/org/apache/drill/exec/planner/physical/StreamAggPrule.java | 4 ++--
 11 files changed, 22 insertions(+), 22 deletions(-)

commit 2fdb1a1392253506c04b797783cf52c418f80e7f
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue May 6 14:41:32 2014 -0700

    Create DrillConfig.createClient() which gives a smaller and faster config object used in client-only situations.

 .../apache/drill/common/config/DrillConfig.java    | 41 ++++++++++++++--------
 .../org/apache/drill/jdbc/DrillConnectionImpl.java | 30 ++++++++--------
 .../main/java/org/apache/drill/jdbc/Driver.java    | 10 ++----
 3 files changed, 45 insertions(+), 36 deletions(-)

commit c0927ea4b9340794b313eabb85060382c4d01995
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue May 6 14:40:40 2014 -0700

    Fix tests that have extraneous warnings, move VectorContainer from warning to exception when wrong vector type is requested.

 .../apache/drill/exec/record/VectorContainer.java  |  3 +-
 .../drill/exec/fn/impl/TestAggregateFunction.java  | 35 ++--------------
 .../physical/impl/TestCastVarCharToBigInt.java     | 33 ++-------------
 .../drill/exec/physical/impl/TestDecimal.java      | 14 -------
 .../exec/physical/impl/join/TestHashJoin.java      | 49 +++++-----------------
 .../drill/exec/record/vector/TestDateTypes.java    | 10 -----
 6 files changed, 17 insertions(+), 127 deletions(-)

commit 3cbcfaa4b0ff15ede9894185c015f52660a703d4
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue May 6 11:01:33 2014 -0700

    Fixes for memory management and hbase reader.

 .../drill/exec/store/hbase/HBaseRecordReader.java  | 25 +++++++++-------------
 .../apache/drill/hbase/HBaseRecordReaderTest.java  |  1 +
 .../org/apache/drill/exec/vector/BitVector.java    | 15 +++++++------
 3 files changed, 19 insertions(+), 22 deletions(-)

commit 7f0491ceaa223ba5c3d7c0ccb61bfd7ef46c78c7
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue May 6 09:18:46 2014 -0700

    DRILL-642: Fix for sqlline pom

 contrib/sqlline/pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 793a00d96f361762e5e8084f831597ee5cfef578
Author: Pradeep Chanumolu <pchanumolu@maprtech.com>
Date:   Mon May 5 13:43:31 2014 -0700

    DRILL-639: Adding status command to DrillBit daemon
    
    Currently we have only start,stop, restart commands for Drillbit
    daemon. Adding status command to DrillBit daemon.

 distribution/src/resources/drillbit.sh | 23 ++++++++++++++++++++---
 1 file changed, 20 insertions(+), 3 deletions(-)

commit 3fb8fb68d4e21ef1743f7f29de95e408f0d7e08e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue May 6 09:13:00 2014 -0700

    Fix flapping test

 exec/java-exec/src/test/java/org/apache/drill/TestTpchPlanning.java | 1 +
 1 file changed, 1 insertion(+)

commit b8731b68bdc23d5f7766f45c47ca3b7257789df7
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Mar 31 10:57:48 2014 -0700

    Drill 419 - enable dictionary encoding in parquet reader.

 .../drill/exec/store/parquet/ColumnDataReader.java |  10 +-
 .../drill/exec/store/parquet/ColumnReader.java     |   5 +
 .../exec/store/parquet/NullableColumnReader.java   |   3 +-
 .../drill/exec/store/parquet/PageReadStatus.java   |  68 +++++-
 .../exec/store/parquet/ParquetRecordReader.java    |  29 ++-
 .../exec/store/parquet/VarLenBinaryReader.java     | 184 +--------------
 .../exec/store/parquet/VarLengthColumnReaders.java | 250 +++++++++++++++++++++
 .../store/parquet/ParquetRecordReaderTest.java     |  15 +-
 8 files changed, 364 insertions(+), 200 deletions(-)

commit f071aca7f8c85eace6f96d931068bceabdb2c419
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Apr 22 21:31:14 2014 -0500

    Drill-400 change parquet reader to place varbinary fields into VarCharVectors, allowing them to be returned by default as UTF-8 Strings. Note that this will only be the case with newer parquet files that were produced after Converted Types were added to the format. This metadata stores the desired intrepertation of a column, but was not originally in the format. For older files you will still need to case binary data to Varchar.

 exec/java-exec/pom.xml                             |   4 +-
 .../apache/drill/exec/store/parquet/BitReader.java |   9 +-
 .../drill/exec/store/parquet/ColumnReader.java     |  20 ++-
 .../exec/store/parquet/FixedByteAlignedReader.java |   5 +-
 .../exec/store/parquet/NullableBitReader.java      |   7 +-
 .../exec/store/parquet/NullableColumnReader.java   |  19 +--
 .../parquet/NullableFixedByteAlignedReader.java    |   5 +-
 .../drill/exec/store/parquet/PageReadStatus.java   |   6 +-
 .../exec/store/parquet/ParquetRecordReader.java    | 106 ++++++++++---
 .../exec/store/parquet/VarLenBinaryReader.java     | 176 ++++++++++++++++++---
 .../store/parquet/ParquetRecordReaderTest.java     |  21 ++-
 .../exec/store/parquet/ParquetResultListener.java  |  31 +---
 12 files changed, 305 insertions(+), 104 deletions(-)

commit a2355d42dbff51b858fc28540915cf793f1c0fac
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri Apr 11 18:41:03 2014 -0700

    DRILL-620: Memory consumption fixes
    
    accounting fixes
    
    trim buffers
    
    switch to using setSafe and copySafe methods only
    
    adaptive allocation
    
    operator based allocator wip
    
    handle OOM
    
    Operator Context

 .../drill/exec/store/hbase/HBaseRecordReader.java  | 12 ++-
 .../exec/store/hbase/HBaseScanBatchCreator.java    |  2 +-
 .../main/java/io/netty/buffer/PooledByteBufL.java  |  4 +
 .../src/main/codegen/includes/vv_imports.ftl       |  1 +
 .../main/codegen/templates/FixedValueVectors.java  | 98 +++++++++++++++++-----
 .../codegen/templates/NullableValueVectors.java    | 69 ++++++++++++---
 .../codegen/templates/RepeatedValueVectors.java    | 44 ++++++++--
 .../src/main/codegen/templates/TypeHelper.java     |  4 +-
 .../codegen/templates/VariableLengthVectors.java   | 98 ++++++++++++++++++----
 .../java/org/apache/drill/exec/ExecConstants.java  |  3 +-
 .../exec/cache/VectorAccessibleSerializable.java   |  3 +-
 .../org/apache/drill/exec/client/DrillClient.java  |  3 +
 .../org/apache/drill/exec/memory/Accountor.java    | 17 ++--
 .../apache/drill/exec/memory/AtomicRemainder.java  | 43 ++++++++--
 .../drill/exec/memory/TopLevelAllocator.java       | 54 ++++++++++--
 .../org/apache/drill/exec/ops/FragmentContext.java |  7 ++
 .../org/apache/drill/exec/ops/OperatorContext.java | 60 +++++++++++++
 .../drill/exec/physical/base/AbstractBase.java     | 12 +++
 .../exec/physical/base/AbstractGroupScan.java      | 15 +++-
 .../drill/exec/physical/base/AbstractSubScan.java  |  3 +-
 .../drill/exec/physical/base/PhysicalOperator.java | 10 +++
 .../drill/exec/physical/impl/BatchCreator.java     |  1 +
 .../apache/drill/exec/physical/impl/ScanBatch.java | 29 ++++---
 .../drill/exec/physical/impl/ScreenCreator.java    | 11 +--
 .../exec/physical/impl/SingleSenderCreator.java    |  2 +-
 .../exec/physical/impl/TopN/PriorityQueue.java     |  3 +-
 .../physical/impl/TopN/PriorityQueueTemplate.java  | 10 ++-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   | 22 ++---
 .../drill/exec/physical/impl/WireRecordBatch.java  | 32 ++++---
 .../exec/physical/impl/aggregate/HashAggBatch.java | 10 ++-
 .../physical/impl/aggregate/HashAggTemplate.java   | 12 ++-
 .../physical/impl/aggregate/HashAggregator.java    |  3 +-
 .../physical/impl/aggregate/StreamingAggBatch.java | 15 ++--
 .../broadcastsender/BroadcastSenderRootExec.java   |  2 +-
 .../physical/impl/common/ChainedHashTable.java     |  8 +-
 .../drill/exec/physical/impl/common/HashTable.java |  3 +-
 .../physical/impl/common/HashTableTemplate.java    | 36 ++++----
 .../physical/impl/filter/FilterBatchCreator.java   |  1 +
 .../physical/impl/filter/FilterRecordBatch.java    | 20 +++--
 .../exec/physical/impl/join/HashJoinBatch.java     | 37 ++++----
 .../exec/physical/impl/join/HashJoinHelper.java    |  7 +-
 .../exec/physical/impl/join/HashJoinProbe.java     |  4 +-
 .../physical/impl/join/HashJoinProbeTemplate.java  | 16 ++--
 .../exec/physical/impl/join/MergeJoinBatch.java    | 17 ++--
 .../physical/impl/join/MergeJoinBatchBuilder.java  |  5 +-
 .../exec/physical/impl/limit/LimitRecordBatch.java | 10 +--
 .../MergingReceiverGeneratorBase.java              |  2 +-
 .../mergereceiver/MergingReceiverTemplate.java     |  2 +-
 .../impl/mergereceiver/MergingRecordBatch.java     | 62 +++++++++-----
 .../OrderedPartitionProjectorTemplate.java         |  4 +-
 .../OrderedPartitionRecordBatch.java               | 75 ++++++++++++-----
 .../impl/orderedpartitioner/SampleCopier.java      |  2 +-
 .../orderedpartitioner/SampleCopierTemplate.java   |  9 +-
 .../impl/partitionsender/OutgoingRecordBatch.java  | 10 ++-
 .../partitionsender/PartitionSenderRootExec.java   | 19 +++--
 .../physical/impl/project/ProjectRecordBatch.java  | 89 +++++++++++++++++---
 .../exec/physical/impl/project/Projector.java      |  2 +-
 .../physical/impl/project/ProjectorTemplate.java   | 17 +++-
 .../drill/exec/physical/impl/sort/SortBatch.java   | 10 +--
 .../drill/exec/physical/impl/svremover/Copier.java |  2 +-
 .../physical/impl/svremover/CopierTemplate2.java   | 16 ++--
 .../physical/impl/svremover/CopierTemplate4.java   | 17 ++--
 .../impl/svremover/RemovingRecordBatch.java        | 92 ++++++++++++++++----
 .../exec/physical/impl/trace/TraceRecordBatch.java |  6 +-
 .../exec/physical/impl/union/UnionRecordBatch.java | 13 +--
 .../drill/exec/physical/impl/xsort/BatchGroup.java |  2 +-
 .../physical/impl/xsort/ExternalSortBatch.java     | 66 +++++++++++----
 .../exec/physical/impl/xsort/MSortTemplate.java    | 11 ++-
 .../drill/exec/physical/impl/xsort/MSorter.java    |  3 +-
 .../physical/impl/xsort/PriorityQueueCopier.java   |  3 +-
 .../impl/xsort/PriorityQueueCopierTemplate.java    | 17 ++--
 .../physical/impl/xsort/PriorityQueueSelector.java |  3 +-
 .../impl/xsort/PriorityQueueSelectorTemplate.java  |  7 +-
 .../impl/xsort/SingleBatchSorterTemplate.java      |  5 ++
 .../drill/exec/planner/fragment/Materializer.java  |  9 ++
 .../exec/planner/fragment/SimpleParallelizer.java  |  4 +-
 .../exec/planner/fragment/StatsCollector.java      |  8 +-
 .../drill/exec/planner/fragment/Wrapper.java       | 15 ++++
 .../drill/exec/planner/logical/DrillRuleSets.java  | 14 +---
 .../drill/exec/planner/physical/SortPrel.java      |  8 +-
 .../drill/exec/record/AbstractRecordBatch.java     | 14 ++--
 .../exec/record/AbstractSingleRecordBatch.java     | 16 +++-
 .../exec/record/RawFragmentBatchProvider.java      |  2 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |  3 +-
 .../org/apache/drill/exec/record/TransferPair.java |  1 +
 .../apache/drill/exec/record/WritableBatch.java    |  6 +-
 .../exec/record/selection/SelectionVector2.java    | 10 ++-
 .../drill/exec/rpc/BasicClientWithConnection.java  |  2 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |  8 +-
 .../apache/drill/exec/rpc/InboundRpcMessage.java   |  2 +-
 .../apache/drill/exec/rpc/OutOfMemoryHandler.java  | 31 +++++++
 .../drill/exec/rpc/ProtobufLengthDecoder.java      | 14 +++-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |  3 +-
 .../drill/exec/rpc/control/ControlClient.java      |  9 +-
 .../rpc/control/ControlProtobufLengthDecoder.java  |  5 +-
 .../drill/exec/rpc/control/ControlServer.java      |  9 +-
 .../drill/exec/rpc/data/BitServerConnection.java   | 83 ++++++++++++++++--
 .../org/apache/drill/exec/rpc/data/DataClient.java |  8 +-
 .../exec/rpc/data/DataProtobufLengthDecoder.java   |  5 +-
 .../org/apache/drill/exec/rpc/data/DataServer.java | 33 ++++++--
 .../drill/exec/rpc/user/QueryResultHandler.java    | 11 ++-
 .../org/apache/drill/exec/rpc/user/UserClient.java |  8 +-
 .../exec/rpc/user/UserProtobufLengthDecoder.java   |  5 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java | 12 +--
 .../org/apache/drill/exec/store/RecordReader.java  |  3 +
 .../org/apache/drill/exec/store/VectorHolder.java  | 11 +++
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  2 +-
 .../exec/store/direct/DirectBatchCreator.java      |  2 +-
 .../exec/store/easy/json/JSONRecordReader.java     | 21 ++---
 .../drill/exec/store/hive/HiveRecordReader.java    | 23 ++---
 .../exec/store/hive/HiveScanBatchCreator.java      |  2 +-
 .../exec/store/hive/HiveTextRecordReader.java      |  6 +-
 .../exec/store/ischema/InfoSchemaBatchCreator.java |  2 +-
 .../drill/exec/store/ischema/RowRecordReader.java  | 14 +++-
 .../drill/exec/store/mock/MockRecordReader.java    | 16 ++--
 .../exec/store/mock/MockScanBatchCreator.java      |  2 +-
 .../exec/store/parquet/NullableBitReader.java      |  6 +-
 .../exec/store/parquet/ParquetRecordReader.java    | 20 ++---
 .../store/parquet/ParquetScanBatchCreator.java     |  2 +-
 .../apache/drill/exec/vector/AllocationHelper.java |  2 +-
 .../org/apache/drill/exec/vector/BitVector.java    | 67 ++++++++++++++-
 .../org/apache/drill/exec/vector/ValueVector.java  |  5 ++
 .../org/apache/drill/exec/work/WorkManager.java    | 13 +--
 .../exec/work/batch/AbstractDataCollector.java     |  5 ++
 .../drill/exec/work/batch/IncomingBuffers.java     | 10 +++
 .../exec/work/batch/SpoolingRawBatchBuffer.java    | 65 ++++++++++++--
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |  5 ++
 .../drill/exec/work/fragment/FragmentManager.java  |  9 ++
 .../exec/work/fragment/NonRootFragmentManager.java | 19 ++++-
 .../exec/work/fragment/RootFragmentManager.java    | 21 ++++-
 .../java-exec/src/main/resources/drill-module.conf | 11 +++
 .../apache/drill/exec/cache/TestVectorCache.java   |  8 +-
 .../apache/drill/exec/cache/TestWriteToDisk.java   |  8 +-
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |  1 +
 .../drill/exec/physical/impl/SimpleRootExec.java   |  2 +-
 .../exec/physical/impl/TestCastFunctions.java      |  8 ++
 .../physical/impl/TestComparisonFunctions.java     |  5 ++
 .../exec/physical/impl/TestConvertFunctions.java   |  4 +
 .../drill/exec/physical/impl/TestDecimal.java      |  5 +-
 .../drill/exec/physical/impl/agg/TestAgg.java      |  1 +
 .../physical/impl/filter/TestSimpleFilter.java     |  5 ++
 .../exec/physical/impl/join/TestHashJoin.java      |  5 +-
 .../impl/project/TestSimpleProjection.java         | 15 ++--
 .../impl/trace/TestTraceMultiRecordBatch.java      |  2 +
 .../physical/impl/trace/TestTraceOutputDump.java   |  2 +
 .../impl/xsort/TestSimpleExternalSort.java         | 51 ++++++++++-
 .../org/apache/drill/exec/pop/PopUnitTestBase.java |  1 +
 .../drill/exec/record/vector/TestValueVector.java  | 10 +--
 .../drill/exec/store/ischema/TestOrphanSchema.java | 15 ++--
 .../exec/store/ischema/TestTableProvider.java      | 12 +--
 .../exec/store/json/JSONRecordReaderTest.java      | 90 +++++++-------------
 .../drill/exec/vector/TestAdaptiveAllocation.java  | 71 ++++++++++++++++
 .../drill/exec/vector/TestSplitAndTransfer.java    | 75 +++++++++++++++++
 .../src/test/resources/drill-oom-xsort.conf        | 18 ++++
 .../src/test/resources/project/test1.json          |  9 +-
 .../src/test/resources/xsort/oom_sort_test.json    | 57 +++++++++++++
 pom.xml                                            |  4 +-
 .../java/org/apache/drill/exec/proto/BitData.java  | 94 +++++++++++++++++++--
 protocol/src/main/protobuf/BitData.proto           |  1 +
 159 files changed, 2083 insertions(+), 662 deletions(-)

commit 70dddc54a73183e58f5493b13b1b19e51162f752
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Mar 3 22:22:59 2014 -0800

    Updates for memory issues (WIP)

 .../src/main/java/io/netty/buffer/PoolArenaL.java  |  7 +-
 .../io/netty/buffer/PooledByteBufAllocatorL.java   |  7 ++
 .../drill/exec/memory/AccountingByteBuf.java       |  4 +-
 .../org/apache/drill/exec/memory/Accountor.java    | 11 ++-
 .../apache/drill/exec/memory/AtomicRemainder.java  | 93 ++++++++++++++--------
 .../drill/exec/memory/TopLevelAllocator.java       | 40 ++++++----
 .../drill/exec/rpc/ProtobufLengthDecoder.java      |  2 +-
 .../drill/exec/work/batch/ControlHandlerImpl.java  |  2 +-
 8 files changed, 104 insertions(+), 62 deletions(-)

commit e80c32eeb43e872f0c104b5f352bc5914235c030
Author: John Morris <jmorris@maprtech.com>
Date:   Fri Jan 31 08:00:56 2014 -0800

    DRILL-336: Modified the netty direct memory manager to:
       1) Efficiently reduce ("trim") the size of a memory buffer, releasing the extra memory back to the memory manager.
       2) Opportunistically allocate larger buffers if it can be done efficiently.
       3) Raise a warning exception if resizing a buffer copies more than 1 page of data.
       4) Added Javadocs and some in-code comments.
       5) Created a Junit test to verify basic functionality.
    
    The "trim" and allocation changes are primarily in PoolChunkL,
    which breaks a "chunk" into runs of pages using a buddy system.
    
    Take advantage of memory interface changes.
    Memory fixes

 .../src/main/java/io/netty/buffer/PoolArenaL.java  | 203 +++++++++++--
 .../src/main/java/io/netty/buffer/PoolChunkL.java  | 317 +++++++++++++++++----
 .../main/java/io/netty/buffer/PoolChunkListL.java  |  89 +++++-
 .../main/java/io/netty/buffer/PoolSubpageL.java    |  17 +-
 .../io/netty/buffer/PooledByteBufAllocatorL.java   |  20 +-
 .../main/java/io/netty/buffer/PooledByteBufL.java  |  64 ++++-
 .../netty/buffer/PooledUnsafeDirectByteBufL.java   |   4 +
 .../main/java/io/netty/buffer/package-info.java    |  73 +++++
 .../java/io/netty/buffer/TestPoolChunkTrim.java    | 216 ++++++++++++++
 .../drill/exec/memory/AccountingByteBuf.java       |  24 +-
 .../org/apache/drill/exec/memory/Accountor.java    |  31 +-
 .../apache/drill/exec/memory/BufferAllocator.java  |  54 ++--
 .../drill/exec/memory/TopLevelAllocator.java       |  28 +-
 13 files changed, 985 insertions(+), 155 deletions(-)

commit 8cc45c9e04a1d11947364e0db5d6ca5a716c19e9
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun May 4 10:42:49 2014 -0700

    Fix sqlline shell invocation so that it doesn't scan for a billion classes to find the match for the jdbc:drill: url.

 distribution/src/resources/sqlline | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2ae4a5f0fca4eab83b5c7dd2ab91d0386842422b
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun May 4 09:33:48 2014 -0700

    Rename SQLParser to exec/jdbc.  Rename jdbc-all to exec/jdbc-all

 distribution/pom.xml                               |  9 +++--
 distribution/src/assemble/bin.xml                  | 12 +++++--
 .../jdbc-all}/example-conf/drill-module.conf       |  0
 {jdbc-all => exec/jdbc-all}/pom.xml                | 10 +++---
 {sqlparser => exec/jdbc}/pom.xml                   |  8 ++---
 .../apache/drill/jdbc/AvaticaDrillSqlAccessor.java |  0
 .../main/java/org/apache/drill/jdbc/BasicList.java |  0
 .../org/apache/drill/jdbc/DrillAccessorList.java   |  0
 .../apache/drill/jdbc/DrillColumnMetaDataList.java |  0
 .../org/apache/drill/jdbc/DrillConnection.java     |  0
 .../apache/drill/jdbc/DrillConnectionConfig.java   |  0
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |  0
 .../java/org/apache/drill/jdbc/DrillCursor.java    |  0
 .../java/org/apache/drill/jdbc/DrillFactory.java   |  0
 .../java/org/apache/drill/jdbc/DrillHandler.java   |  0
 .../org/apache/drill/jdbc/DrillJdbc40Factory.java  |  0
 .../org/apache/drill/jdbc/DrillJdbc41Factory.java  |  0
 .../org/apache/drill/jdbc/DrillPrepareResult.java  |  0
 .../apache/drill/jdbc/DrillPreparedStatement.java  |  0
 .../apache/drill/jdbc/DrillRemoteStatement.java    |  0
 .../java/org/apache/drill/jdbc/DrillResultSet.java |  0
 .../java/org/apache/drill/jdbc/DrillStatement.java |  0
 .../apache/drill/jdbc/DrillStatementRegistry.java  |  0
 .../main/java/org/apache/drill/jdbc/Driver.java    |  0
 .../drill/jdbc/GlobalServiceSetReference.java      |  0
 .../main/java/org/apache/drill/jdbc/MetaImpl.java  |  0
 .../apache/drill/jdbc/SchemaChangeListener.java    |  0
 .../org/apache/drill/jdbc/SqlTimeoutException.java |  0
 .../java/org/apache/drill/jdbc/package-info.java   |  0
 .../test/java/org/apache/drill/jdbc/JdbcTest.java  |  0
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |  0
 .../org/apache/drill/jdbc/test/JdbcDataTest.java   |  0
 .../drill/jdbc/test/TestDateAggregateFunction.java |  0
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  | 40 +++++++++++-----------
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 14 ++++----
 .../src/test/resources/donuts-output-data.txt      |  0
 .../jdbc}/src/test/resources/full-model.json       |  0
 .../jdbc}/src/test/resources/logback.xml           |  0
 .../jdbc}/src/test/resources/storage-plugins.json  |  0
 .../jdbc}/src/test/resources/test-models.json      |  0
 .../jdbc}/src/test/resources/test_null_op.json     |  0
 .../src/test/resources/test_true_false_op.json     |  0
 exec/pom.xml                                       |  2 ++
 pom.xml                                            |  3 +-
 44 files changed, 56 insertions(+), 42 deletions(-)

commit fe19f5f63e16af1094fa6278442127adc34d4dd8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat May 3 20:14:14 2014 -0700

    Disable project pushdown rules as it causes regression in INFORMATION_SCHEMA.
    Update HiveTextRecordReader to support nullable types.

 .../java/org/apache/drill/exec/planner/logical/DrillRuleSets.java | 8 ++++----
 .../java/org/apache/drill/exec/planner/physical/ScanPrule.java    | 1 +
 .../org/apache/drill/exec/store/hive/HiveTextRecordReader.java    | 6 +++---
 .../src/test/java/org/apache/drill/TestProjectPushDown.java       | 2 ++
 4 files changed, 10 insertions(+), 7 deletions(-)

commit f7b66b4486e3fde18664f742021c014fb35d4822
Author: Patrick Wong <pwong@maprtech.com>
Date:   Mon Apr 28 11:52:50 2014 -0700

    DRILL-582: generate a standalone fat JDBC jar

 jdbc-all/example-conf/drill-module.conf |  13 ++
 jdbc-all/pom.xml                        | 259 ++++++++++++++++++++++++++++++++
 2 files changed, 272 insertions(+)

commit ec3b8fc992df8a2c742d2b424cfe4fea64083c24
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu Apr 24 02:13:30 2014 -0700

    DRILL-565: Remove spurious insertion into IdentityHashMap in ConstantExpressionIdentifier.visitFloatConstant()

 .../org/apache/drill/exec/compile/sig/ConstantExpressionIdentifier.java  | 1 -
 1 file changed, 1 deletion(-)

commit 8109f1733bcebc02b10222fcce3be756a5562f83
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Thu Apr 24 01:45:43 2014 -0700

    DRILL-564: DRILL-442 broke DRILL-433 aka custom column width while printing results

 exec/java-exec/src/main/java/org/apache/drill/exec/util/VectorUtil.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ed51b3f95ee4eaa3694629b1181b9e8cd13b932e
Author: Kamesh <kam.iitkgp@gmail.com>
Date:   Wed Apr 23 23:06:00 2014 +0530

    DRILL-559: Fix NPE in dumpcat when arguments are not provided

 exec/java-exec/src/main/java/org/apache/drill/exec/client/DumpCat.java | 1 -
 1 file changed, 1 deletion(-)

commit 3f92e56aeb768cac90495951befaa0f03f13372e
Author: Mehant Baid <mehantr@gmail.com>
Date:   Sat Apr 26 03:52:59 2014 -0700

    DRILL-516: Use custom convertlet table to support extract() functions

 .../drill/exec/planner/logical/DrillOptiq.java     | 30 ++++++++++-
 .../exec/planner/sql/DrillConvertletTable.java     | 53 ++++++++++++++++++
 .../exec/planner/sql/DrillExtractConvertlet.java   | 63 ++++++++++++++++++++++
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  2 +-
 .../java/org/apache/drill/TestTpchPlanning.java    |  5 +-
 5 files changed, 148 insertions(+), 5 deletions(-)

commit a3ad881293f39e965e26095693864cb94e2b7c13
Author: Anil Kumar <akumarb2010@gmail.com>
Date:   Thu Apr 24 00:45:19 2014 +0530

    DRILL-469: Enable nulls in HiveRecordReader

 .../drill/exec/store/hive/HiveRecordReader.java    | 82 ++++++++++++++--------
 1 file changed, 51 insertions(+), 31 deletions(-)

commit 5603a633f1de15af05e011ab6216300c6b0bd775
Author: Mehant Baid <mehantr@gmail.com>
Date:   Wed Apr 23 16:12:04 2014 -0700

    DRILL-578: Performance fixes in Hash Join.
    
    Includes a few minor fixes when hash join receives empty batches on build / probe side

 .../drill/exec/physical/config/HashJoinPOP.java    |  22 ----
 .../exec/physical/impl/join/HashJoinBatch.java     | 115 +++++++++++++++------
 .../exec/physical/impl/join/HashJoinHelper.java    |  38 ++++---
 .../exec/physical/impl/join/HashJoinProbe.java     |   3 +-
 .../physical/impl/join/HashJoinProbeTemplate.java  |   6 +-
 .../exec/physical/impl/join/TestHashJoin.java      |  26 +++++
 .../src/test/resources/join/hj_exchanges.json      |  96 +++++++++++++++++
 7 files changed, 231 insertions(+), 75 deletions(-)

commit beeaf9e8fb482cc2bde1838e5f152bff130d4135
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Apr 25 16:02:32 2014 -0700

    DRILL-452: Conversion functions for external data types
    
    * Length need not be a parameter in varchar* functions.
    * Added test cases for UTF8 conversion.

 .../org/apache/drill/exec/expr/fn/impl/conv/UTF16ConvertFrom.java | 8 +-------
 .../org/apache/drill/exec/expr/fn/impl/conv/UTF16ConvertTo.java   | 8 +-------
 .../org/apache/drill/exec/expr/fn/impl/conv/UTF8ConvertFrom.java  | 8 +-------
 .../org/apache/drill/exec/expr/fn/impl/conv/UTF8ConvertTo.java    | 8 +-------
 .../org/apache/drill/exec/physical/impl/TestConvertFunctions.java | 7 +++++++
 5 files changed, 11 insertions(+), 28 deletions(-)

commit 2bfa2c122511891b03aeea8cf88aa1fe4660ab31
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat May 3 18:44:01 2014 -0700

    Increase TPCHTestPlanning timeout

 exec/java-exec/src/test/java/org/apache/drill/TestTpchPlanning.java | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit eedb4d7c47c0cc021f8c434e6910a8574104531e
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Apr 22 16:42:06 2014 -0700

    DRILL-556: Implement the following aggregate functions.
    stddev()
    stddev_samp()
    stddev_pop()
    variance()
    var_samp()
    var_pop()
    
    Implement aggregate functions (max, min, sum, avg, count) for Date, Time, TimeStamp, TimeStampTZ, Interval, IntervalDay, IntervalYear

 exec/java-exec/src/main/codegen/config.fmpp        |   1 +
 .../java-exec/src/main/codegen/data/AggrTypes1.tdd | 128 ++++++++-----
 .../java-exec/src/main/codegen/data/AggrTypes2.tdd |  22 ++-
 .../java-exec/src/main/codegen/data/AggrTypes3.tdd | 115 ++++++++++++
 .../main/codegen/templates/AggrTypeFunctions1.java |   3 +-
 .../main/codegen/templates/AggrTypeFunctions2.java |   3 +-
 .../main/codegen/templates/AggrTypeFunctions3.java | 126 +++++++++++++
 .../templates/DateIntervalAggrFunctions1.java      | 198 +++++++++++++++++++++
 .../codegen/templates/IntervalAggrFunctions2.java  | 127 +++++++++++++
 .../drill/exec/expr/fn/impl/DateUtility.java       |   4 +-
 .../drill/exec/fn/impl/TestAggregateFunction.java  | 110 ++++++++++++
 .../resources/functions/test_stddev_variance.json  |  56 ++++++
 .../resources/simple_stddev_variance_input.json    |   8 +
 .../drill/jdbc/test/TestDateAggregateFunction.java |  75 ++++++++
 14 files changed, 925 insertions(+), 51 deletions(-)

commit 22eab58756ffe2e99aaeffd8535fe7be1e187d27
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Apr 17 19:02:25 2014 -0700

    DRILL-549: Implement functions for date and interval data types
    
    Jira, DRILL-549 has the complete list of functions implemented.

 exec/java-exec/src/main/codegen/config.fmpp        |   5 +-
 .../src/main/codegen/data/DateIntervalFunc.tdd     |  19 ++
 .../src/main/codegen/data/ExtractTypes.tdd         |   2 +-
 .../src/main/codegen/data/IntervalNumericTypes.tdd |  19 ++
 .../main/codegen/templates/CastVarCharDate.java    |   2 +-
 .../DateDateArithmeticFunctions.java               |  75 +++++++
 .../DateIntervalArithmeticFunctions.java           | 242 +++++++++++++++++++++
 .../DateToCharFunctions.java                       |  79 +++++++
 .../Extract.java                                   |   7 +-
 .../IntervalIntervalArithmetic.java                | 117 ++++++++++
 .../IntervalNumericArithmetic.java                 | 146 +++++++++++++
 .../ToDateTypeFunctions.java                       |  77 +++++++
 .../main/codegen/templates/FixedValueVectors.java  |   2 +-
 .../drill/exec/expr/fn/impl/CastBigIntDate.java    |   2 +-
 .../exec/expr/fn/impl/CastBigIntTimeStamp.java     |   2 +-
 .../exec/expr/fn/impl/CastBigIntTimeStampTZ.java   |  55 +++++
 .../drill/exec/expr/fn/impl/CastIntTime.java       |  46 ++++
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java | 201 ++++++++++-------
 .../drill/exec/expr/fn/impl/DateUtility.java       |   2 +
 .../org/apache/drill/exec/ops/FragmentContext.java |   8 +-
 .../exec/planner/fragment/SimpleParallelizer.java  |   5 +
 .../drill/exec/planner/logical/DrillOptiq.java     |  19 ++
 .../drill/exec/fn/impl/TestDateFunctions.java      | 143 ++++++++++++
 .../functions/date/date_difference_arithmetic.json |  36 +++
 .../functions/date/date_interval_arithmetic.json   |  46 ++++
 .../functions/date/interval_arithmetic.json        |  44 ++++
 .../src/test/resources/functions/date/to_char.json |  36 +++
 .../resources/functions/date/to_date_type.json     |  36 +++
 .../org/apache/drill/exec/proto/BitControl.java    | 107 +++++++--
 protocol/src/main/protobuf/BitControl.proto        |   3 +-
 30 files changed, 1479 insertions(+), 104 deletions(-)

commit a3d1472037892a3ce2cf86a282cb67c43b488d62
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Apr 29 15:04:43 2014 -0700

    DRILL-491: project pushdown into scan. Add base test class for testing plan.
    
    Project pushdown.  Add a plan base test class.  Add a clone method for GroupScan.
    
    Minor change to DrillScanRel.getGroupScan().
    
    Project push down : skip trivial project.
    
    Enable the rule to remove trivial project in logical planning phase.

 .../drill/exec/store/hbase/HBaseGroupScan.java     |  18 ++
 .../exec/store/hbase/HBasePushFilterIntoScan.java  |   2 +-
 .../drill/exec/store/hbase/HBaseStoragePlugin.java |   3 +
 .../exec/physical/base/AbstractGroupScan.java      |   7 +
 .../apache/drill/exec/physical/base/GroupScan.java |   7 +
 .../exec/planner/common/DrillScanRelBase.java      |   1 -
 .../exec/planner/logical/DrillProjectRel.java      |   5 +-
 .../planner/logical/DrillPushProjIntoScan.java     | 138 +++++++++++++++
 .../drill/exec/planner/logical/DrillRuleSets.java  |  10 +-
 .../drill/exec/planner/logical/DrillScanRel.java   |  64 ++++++-
 .../drill/exec/planner/physical/DrillScanPrel.java |  26 +++
 .../drill/exec/planner/physical/PrelUtil.java      |  21 ++-
 .../drill/exec/planner/physical/ScanPrel.java      |  65 ++++---
 .../drill/exec/planner/physical/ScanPrule.java     |  39 ++---
 .../exec/planner/sql/handlers/ExplainHandler.java  |   8 +-
 .../drill/exec/store/AbstractStoragePlugin.java    |  11 +-
 .../org/apache/drill/exec/store/StoragePlugin.java |  29 +++-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |   8 +-
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |   6 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |   5 +
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  21 ++-
 .../exec/store/easy/text/TextFormatPlugin.java     |  10 ++
 .../drill/exec/store/hive/HiveRecordReader.java    |  10 +-
 .../org/apache/drill/exec/store/hive/HiveScan.java |  62 +++++--
 .../drill/exec/store/hive/HiveStoragePlugin.java   |   6 +-
 .../apache/drill/exec/store/hive/HiveSubScan.java  |   8 +-
 .../exec/store/hive/HiveTextRecordReader.java      |   4 +-
 .../exec/store/ischema/InfoSchemaGroupScan.java    |  26 ++-
 .../store/ischema/InfoSchemaStoragePlugin.java     |   6 +-
 .../drill/exec/store/mock/MockStorageEngine.java   |   4 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    |   9 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  27 ++-
 .../exec/store/text/DrillTextRecordReader.java     |  30 ++--
 .../test/java/org/apache/drill/PlanTestBase.java   | 192 +++++++++++++++++++++
 .../java/org/apache/drill/TestProjectPushDown.java | 113 ++++++++++++
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |   8 +-
 36 files changed, 879 insertions(+), 130 deletions(-)

commit 69d90bbcd7e274d68bb41c4922e48dd51f44ef2b
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sun Apr 27 22:26:24 2014 -0700

    DRILL-571: Predicate push down into HBase scan

 ...ableReadEntry.java => DrillHBaseConstants.java} |  17 +--
 .../drill/exec/store/hbase/HBaseFilterBuilder.java | 132 +++++++++++++++++++++
 .../drill/exec/store/hbase/HBaseGroupScan.java     | 126 +++++++++++++-------
 .../exec/store/hbase/HBasePushFilterIntoScan.java  |  65 ++++++++++
 .../drill/exec/store/hbase/HBaseRecordReader.java  |  14 +--
 .../exec/store/hbase/HBaseScanBatchCreator.java    |   4 +-
 .../drill/exec/store/hbase/HBaseScanSpec.java      |  96 +++++++++++++++
 .../drill/exec/store/hbase/HBaseSchemaFactory.java |   4 +-
 .../drill/exec/store/hbase/HBaseStoragePlugin.java |  12 +-
 .../exec/store/hbase/HBaseStoragePluginConfig.java |  45 +++----
 .../drill/exec/store/hbase/HBaseSubScan.java       |  99 ++++++++++++----
 .../apache/drill/exec/store/hbase/HBaseUtils.java  |  69 +++++++++++
 .../apache/drill/hbase/HBaseRecordReaderTest.java  |  28 +----
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |   9 +-
 .../drill/hbase/TestHBaseFilterPushDown.java       | 106 +++++++++++++++++
 .../org/apache/drill/hbase/TestTableGenerator.java |  11 +-
 .../hbase/hbase_scan_screen_physical.json          |   5 +-
 .../hbase_scan_screen_physical_column_select.json  |   5 +-
 .../hbase_scan_screen_physical_family_select.json  |   5 +-
 .../src/test/resources/storage-plugins.json        |  40 +++++++
 distribution/src/resources/storage-plugins.json    |   8 ++
 21 files changed, 742 insertions(+), 158 deletions(-)

commit bcc3c731caa2094ea046fdab2c9707e9084c39a9
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Apr 7 23:37:42 2014 -0700

    DRILL-494: Support for Storage Plugin Optimizer Rules

 .../drill/exec/store/hbase/HBaseGroupScan.java     |  5 +++
 .../apache/drill/exec/physical/base/GroupScan.java |  7 ++++
 .../drill/exec/planner/logical/DrillRuleSets.java  | 21 ++++++++---
 .../drill/exec/planner/physical/ScanPrel.java      | 43 +++++++++++++++++-----
 .../drill/exec/planner/physical/ScanPrule.java     | 19 +++-------
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 33 +++++++++++++++--
 .../drill/exec/store/AbstractStoragePlugin.java    |  9 +++--
 .../org/apache/drill/exec/store/StoragePlugin.java |  4 +-
 ...erRule.java => StoragePluginOptimizerRule.java} | 10 ++++-
 .../drill/exec/store/StoragePluginRegistry.java    | 30 +++++++++++++--
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |  7 ++--
 .../drill/exec/store/dfs/ReadEntryWithPath.java    |  5 +++
 .../exec/store/dfs/easy/EasyFormatPlugin.java      | 15 ++++----
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   | 12 +++++-
 .../drill/exec/store/direct/DirectGroupScan.java   |  5 +++
 .../org/apache/drill/exec/store/hive/HiveScan.java | 14 +++++++
 .../exec/store/ischema/InfoSchemaGroupScan.java    |  6 +++
 .../drill/exec/store/mock/MockGroupScanPOP.java    | 22 +++++++++++
 .../exec/store/parquet/ParquetFormatPlugin.java    | 21 +++++++----
 .../drill/exec/store/parquet/ParquetGroupScan.java | 12 ++++++
 .../test/java/org/apache/drill/PlanningBase.java   |  4 +-
 21 files changed, 240 insertions(+), 64 deletions(-)

commit 1e0e4dfc96c8e7eb83659784dfbb85cd83d7d243
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Apr 24 17:37:49 2014 -0700

    Fix schema path to work with array paths

 .../apache/drill/common/expression/SchemaPath.java | 14 +++++-----
 .../drill/exec/planner/logical/DrillOptiq.java     | 29 +++++++++++++--------
 .../drill/exec/store/text/TestTextColumn.java      | 30 ++++++++++++++++++++++
 3 files changed, 57 insertions(+), 16 deletions(-)

commit eba37b519073a48c59cb0b5e33bfc9bd70075214
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Apr 24 15:22:57 2014 -0700

    HazelCast subnets and honor cluster-id

 .../src/main/java/org/apache/drill/exec/ExecConstants.java          | 1 +
 .../src/main/java/org/apache/drill/exec/cache/HazelCache.java       | 6 ++++++
 2 files changed, 7 insertions(+)

commit 9906e06e0ded610059226f1934025611063bcfaf
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Apr 24 00:06:59 2014 -0700

    Fixes for DRILL-514, increase HashJoin timeout and cleanup PopUnitTestBase

 contrib/storage-hbase/pom.xml                                    | 9 +++++++++
 .../org/apache/drill/exec/physical/impl/join/TestHashJoin.java   | 8 ++++++++
 .../src/test/java/org/apache/drill/exec/pop/PopUnitTestBase.java | 5 -----
 3 files changed, 17 insertions(+), 5 deletions(-)

commit c10ece07165988e354b2add40de067dd8e8dd437
Author: Patrick Wong <pwong@maprtech.com>
Date:   Wed Apr 23 12:15:40 2014 -0700

    DRILL-514: improvements for unit tests on MapR profile

 contrib/storage-hbase/pom.xml | 186 +++++++++++++++++++++++++++++-------------
 1 file changed, 128 insertions(+), 58 deletions(-)

commit 3a1e6c9fa9df30e14945ff78afd8049e6185bba3
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Mar 25 01:21:50 2014 -0700

    DRILL-452: Conversion functions for external data types

 .../drill/common/expression/parser/ExprLexer.g     |   1 +
 .../drill/common/expression/parser/ExprParser.g    |   8 +-
 .../drill/common/expression/ConvertExpression.java |  82 ++++
 .../common/expression/ExpressionStringBuilder.java |  11 +-
 .../common/expression/FunctionCallFactory.java     |   4 +
 .../expression/visitors/AbstractExprVisitor.java   |   6 +
 .../expression/visitors/AggregateChecker.java      |   9 +
 .../expression/visitors/ConstantChecker.java       |   5 +
 .../common/expression/visitors/ExprVisitor.java    |   3 +-
 .../expression/visitors/ExpressionValidator.java   |   9 +-
 .../java/org/apache/drill/common/types/Types.java  |  54 ++-
 .../compile/sig/ConstantExpressionIdentifier.java  |   8 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  12 +
 .../exec/expr/ExpressionTreeMaterializer.java      |  12 +
 .../expr/fn/impl/conv/BigIntBEConvertFrom.java     |  46 ++
 .../exec/expr/fn/impl/conv/BigIntBEConvertTo.java  |  53 +++
 .../exec/expr/fn/impl/conv/BigIntConvertFrom.java  |  47 ++
 .../exec/expr/fn/impl/conv/BigIntConvertTo.java    |  54 +++
 .../expr/fn/impl/conv/BigIntVLongConvertFrom.java  |  43 ++
 .../expr/fn/impl/conv/BigIntVLongConvertTo.java    |  55 +++
 .../expr/fn/impl/conv/BooleanByteConvertFrom.java  |  47 ++
 .../expr/fn/impl/conv/BooleanByteConvertTo.java    |  54 +++
 .../expr/fn/impl/conv/DateEpochBEConvertFrom.java  |  48 ++
 .../expr/fn/impl/conv/DateEpochBEConvertTo.java    |  53 +++
 .../expr/fn/impl/conv/DateEpochConvertFrom.java    |  49 ++
 .../exec/expr/fn/impl/conv/DateEpochConvertTo.java |  54 +++
 .../exec/expr/fn/impl/conv/DoubleConvertFrom.java  |  47 ++
 .../exec/expr/fn/impl/conv/DoubleConvertTo.java    |  54 +++
 .../exec/expr/fn/impl/conv/FloatConvertFrom.java   |  47 ++
 .../exec/expr/fn/impl/conv/FloatConvertTo.java     |  54 +++
 .../exec/expr/fn/impl/conv/IntBEConvertFrom.java   |  46 ++
 .../exec/expr/fn/impl/conv/IntBEConvertTo.java     |  53 +++
 .../exec/expr/fn/impl/conv/IntConvertFrom.java     |  47 ++
 .../drill/exec/expr/fn/impl/conv/IntConvertTo.java |  54 +++
 .../exec/expr/fn/impl/conv/IntVIntConvertFrom.java |  43 ++
 .../exec/expr/fn/impl/conv/IntVIntConvertTo.java   |  55 +++
 .../expr/fn/impl/conv/SmallIntBEConvertFrom.java   |  47 ++
 .../expr/fn/impl/conv/SmallIntBEConvertTo.java     |  54 +++
 .../expr/fn/impl/conv/SmallIntConvertFrom.java     |  47 ++
 .../exec/expr/fn/impl/conv/SmallIntConvertTo.java  |  54 +++
 .../expr/fn/impl/conv/TimeEpochBEConvertFrom.java  |  47 ++
 .../expr/fn/impl/conv/TimeEpochBEConvertTo.java    |  53 +++
 .../expr/fn/impl/conv/TimeEpochConvertFrom.java    |  48 ++
 .../exec/expr/fn/impl/conv/TimeEpochConvertTo.java |  54 +++
 .../exec/expr/fn/impl/conv/TinyIntConvertFrom.java |  48 ++
 .../exec/expr/fn/impl/conv/TinyIntConvertTo.java   |  55 +++
 .../exec/expr/fn/impl/conv/UInt8ConvertFrom.java   |  47 ++
 .../exec/expr/fn/impl/conv/UInt8ConvertTo.java     |  54 +++
 .../exec/expr/fn/impl/conv/UTF16ConvertFrom.java   |  52 +++
 .../exec/expr/fn/impl/conv/UTF16ConvertTo.java     |  52 +++
 .../exec/expr/fn/impl/conv/UTF8ConvertFrom.java    |  52 +++
 .../exec/expr/fn/impl/conv/UTF8ConvertTo.java      |  52 +++
 .../apache/drill/exec/resolver/TypeCastRules.java  | 112 +++++
 .../drill/exec/store/hive/HiveRecordReader.java    |  31 +-
 .../org/apache/drill/exec/util/ConvertUtil.java    | 209 +++++++++
 .../exec/physical/impl/TestConvertFunctions.java   | 498 +++++++++++++++++++++
 .../conv/conversionTestWithLogicalPlan.json        |  61 +++
 .../conv/conversionTestWithPhysicalPlan.json       |  36 ++
 58 files changed, 3052 insertions(+), 38 deletions(-)

commit 166079b2248f6e62d6cf105599e2e341f1f9868a
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Apr 1 02:57:23 2014 -0700

    DRILL-474: Long.MIN_VALUE is not parsed as BIGINT but as a Double

 .../org/apache/drill/common/expression/parser/ExprParser.g    |  6 +++---
 .../org/apache/drill/common/expression/ValueExpressions.java  | 11 ++++++-----
 2 files changed, 9 insertions(+), 8 deletions(-)

commit 164819513a5915a43103017fe699cc073b53284a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Apr 21 17:19:02 2014 -0700

    Make tests extend shared base class.  Add additional tracking in base class around memory usage per test.

 .../org/apache/drill/common/util/TestTools.java    |  31 -----
 .../drill/common/expression/parser/TreeTest.java   |   5 +-
 .../apache/drill/storage/CheckStorageConfig.java   |   7 +-
 .../test/java/org/apache/drill/test/DrillTest.java | 134 +++++++++++++++++++++
 contrib/storage-hbase/pom.xml                      |   7 ++
 .../test/java/org/apache/drill/BaseTestQuery.java  |  16 +--
 .../test/java/org/apache/drill/PlanningBase.java   |   4 +-
 .../org/apache/drill/exec/DrillSystemTestBase.java |  17 +--
 .../test/java/org/apache/drill/exec/ExecTest.java  |  25 ++++
 .../apache/drill/exec/cache/TestVectorCache.java   |   4 +-
 .../apache/drill/exec/cache/TestWriteToDisk.java   |   4 +-
 .../org/apache/drill/exec/client/DumpCatTest.java  |  11 +-
 .../exec/compile/TestClassCompilationTypes.java    |   7 +-
 .../exec/compile/TestClassTransformation.java      |  17 +--
 .../org/apache/drill/exec/expr/EscapeTest1.java    |  76 ++++++------
 .../org/apache/drill/exec/expr/ExpressionTest.java |  11 +-
 .../drill/exec/fn/impl/GeneratorFunctions.java     |   3 +-
 .../drill/exec/fn/impl/TestMathFunctions.java      |   6 +-
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |  31 ++---
 .../apache/drill/exec/memory/TestEndianess.java    |   7 +-
 .../apache/drill/exec/opt/BasicOptimizerTest.java  |  10 +-
 .../physical/config/TestParsePhysicalPlan.java     |   9 +-
 .../physical/impl/TestComparisonFunctions.java     |   3 +-
 .../drill/exec/physical/impl/TestHiveUDFs.java     |   3 +-
 .../physical/impl/TestImplicitCastFunctions.java   |  49 ++++----
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   3 +-
 .../exec/physical/impl/TestSimpleFunctions.java    |   5 +-
 .../exec/physical/impl/TestStringFunctions.java    | 129 ++++++++++----------
 .../drill/exec/physical/impl/agg/TestAgg.java      |   3 +-
 .../exec/physical/impl/common/TestHashTable.java   |   9 +-
 .../physical/impl/filter/TestSimpleFilter.java     |  15 +--
 .../exec/physical/impl/limit/TestSimpleLimit.java  |   7 +-
 .../impl/project/TestSimpleProjection.java         |  17 +--
 .../exec/physical/impl/sort/TestSimpleSort.java    |  53 ++++----
 .../physical/impl/svremover/TestSVRemover.java     |  15 +--
 .../impl/trace/TestTraceMultiRecordBatch.java      |   3 +-
 .../physical/impl/trace/TestTraceOutputDump.java   |   3 +-
 .../exec/physical/impl/union/TestSimpleUnion.java  |  21 ++--
 .../org/apache/drill/exec/pop/PopUnitTestBase.java |   7 +-
 .../apache/drill/exec/pop/TestInjectionValue.java  |  13 +-
 .../record/ExpressionTreeMaterializerTest.java     |   8 +-
 .../apache/drill/exec/record/vector/TestLoad.java  |   4 +-
 .../drill/exec/record/vector/TestValueVector.java  |  33 ++---
 .../org/apache/drill/exec/server/TestBitRpc.java   |   3 +-
 .../drill/exec/store/TestAffinityCalculator.java   |   3 +-
 .../apache/drill/exec/store/TestOrphanSchema.java  |   6 +-
 .../drill/exec/store/ischema/TestOrphanSchema.java |   3 +-
 .../exec/store/ischema/TestTableProvider.java      |   3 +-
 .../exec/store/json/JSONRecordReaderTest.java      |   3 +-
 .../store/parquet/TestParquetPhysicalPlan.java     |   3 +-
 .../drill/exec/work/batch/TestSpoolingBuffer.java  |   4 +-
 sqlparser/pom.xml                                  |   8 +-
 .../test/java/org/apache/drill/jdbc/JdbcTest.java  |  17 +--
 .../jdbc/test/{JdbcTest.java => JdbcDataTest.java} |  13 +-
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  |  78 ++++++------
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |   6 +-
 56 files changed, 575 insertions(+), 420 deletions(-)

commit f836d5e80f071ff859202379368fd6a1c989bb22
Author: Patrick Wong <pwong@maprtech.com>
Date:   Wed Apr 23 12:52:05 2014 -0700

    DRILL-327: - Use sqlline 1.1.6, and change the license file accordingly. Original patch by B Anil Kumar.

 LICENSE | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 059caed97a91a0f62235f00266113e86077de1e3
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Apr 22 03:01:08 2014 -0700

    DRILL-554: maven-compiler-plugin only supports 'm' suffix for 'maxmem' option

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 70e909fa76be561773f118a86e1ba66089140a49
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Apr 22 20:43:31 2014 -0700

    DRILL-557: Fix mismatch between Jackson annotations and field names.

 .../main/java/org/apache/drill/exec/physical/config/HashJoinPOP.java  | 4 ++--
 .../main/java/org/apache/drill/exec/physical/config/MergeJoinPOP.java | 4 ++--
 exec/java-exec/src/test/resources/join/hash_join.json                 | 2 +-
 exec/java-exec/src/test/resources/join/hash_join_multi_batch.json     | 2 +-
 exec/java-exec/src/test/resources/join/hj_left_outer_multi_batch.json | 4 ++--
 exec/java-exec/src/test/resources/join/hj_multi_condition_join.json   | 2 +-
 .../java-exec/src/test/resources/join/hj_right_outer_multi_batch.json | 4 ++--
 exec/java-exec/src/test/resources/join/join_batchsize.json            | 2 +-
 exec/java-exec/src/test/resources/join/merge_inner_single_batch.json  | 4 ++--
 exec/java-exec/src/test/resources/join/merge_join.json                | 2 +-
 exec/java-exec/src/test/resources/join/merge_join_empty_batch.json    | 4 ++--
 exec/java-exec/src/test/resources/join/merge_multi_batch.json         | 4 ++--
 exec/java-exec/src/test/resources/join/merge_single_batch.json        | 4 ++--
 exec/java-exec/src/test/resources/sender/broadcast_exchange.json      | 4 ++--
 14 files changed, 23 insertions(+), 23 deletions(-)

commit 7a4fee42406516e729b9bdae31945cec4858a332
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Apr 16 10:32:24 2014 -0700

    DRILL-533: Queries fail with NPE if dfs/cp schema has no default workspace but has non-default workspace
    
    We currently add the "default" workspace only if there are no workspaces defined, but we always choose the workspace with "default" name as the default workspace. As in the repro case there is no default workspace, we end with a null.
    
    Fix: Add default workspace if there is no "default" given in storage-engines.json

 .../main/java/org/apache/drill/exec/store/dfs/FileSystemPlugin.java  | 5 +++++
 sqlparser/src/test/resources/storage-plugins.json                    | 3 +--
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 69c571ccd841b7bcda1c38979716862690cba696
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Mar 26 11:50:04 2014 -0700

    DRILL-468 Support for FileSystem partitions

 distribution/src/resources/drill-override.conf     |  5 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |  5 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java | 69 +++++++++++++++++++++-
 .../drill/exec/store/dfs/DrillPathFilter.java      | 31 ++++++++++
 .../apache/drill/exec/store/dfs/FileSelection.java | 31 +++++++---
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  2 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      | 52 ++++++++++++++--
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   | 18 ++++--
 .../drill/exec/store/dfs/easy/EasySubScan.java     | 14 ++++-
 .../dfs/shim/fallback/FallbackFileSystem.java      |  9 ++-
 .../exec/store/parquet/ParquetFormatPlugin.java    | 20 +------
 .../drill/exec/store/parquet/ParquetGroupScan.java | 19 ++++--
 .../exec/store/parquet/ParquetRowGroupScan.java    | 17 ++++--
 .../store/parquet/ParquetScanBatchCreator.java     | 60 +++++++++++++++----
 .../java-exec/src/main/resources/drill-module.conf |  3 +-
 .../java/org/apache/drill/TestExampleQueries.java  | 15 +++++
 .../exec/store/text/TextRecordReaderTest.java      |  2 +-
 .../src/test/resources/storage-engines.json        | 13 ----
 .../resources/store/text/{ => data/d1}/regions.csv |  0
 .../src/test/resources/store/text/data/regions.csv |  5 ++
 pom.xml                                            |  2 +-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |  1 +
 22 files changed, 308 insertions(+), 85 deletions(-)

commit 54287d0761f97f337035aa8988faf380178aba08
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sun Mar 16 18:56:50 2014 -0700

    DRILL-442: Implement text format plugin
    
    rename storage-engines.json storage-plugins.json
    allow reading a particular value in a repeated vector
    fix test caused by change that allows selecting element of repeated record
    set def recordCount for explain query
    fix bug loading repeated vectors
    storage plugin/format plugin changes. store storage plugin configuration in distributed cache.
    add repeated vector allocators
    add support for for reading compressed files.

 .../drill/common/util/DataInputInputStream.java    |  15 +-
 .../drill/exec/store/hbase/HBaseGroupScan.java     |   9 +-
 .../drill/exec/store/hbase/HBaseSubScan.java       |   2 +-
 .../hbase_scan_screen_physical_column_select.json  |   2 +-
 distribution/src/assemble/bin.xml                  |   2 +-
 distribution/src/resources/drill-override.conf     |  36 ++++-
 .../{storage-engines.json => storage-plugins.json} |  25 ++-
 .../codegen/templates/RepeatedValueVectors.java    |  60 ++++++--
 .../codegen/templates/VariableLengthVectors.java   |   4 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +
 .../apache/drill/exec/cache/DrillSerializable.java |   8 +-
 .../drill/exec/cache/JacksonDrillSerializable.java |  86 +++++++++++
 .../org/apache/drill/exec/cache/LocalCache.java    |  18 ++-
 .../exec/cache/VectorAccessibleSerializable.java   |   6 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   8 +-
 .../exec/expr/ExpressionTreeMaterializer.java      |  31 +++-
 .../drill/exec/expr/ValueVectorReadExpression.java |  28 +++-
 .../apache/drill/exec/expr/fn/impl/Alternator.java |   4 +
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |   6 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   8 +-
 .../impl/svremover/RemovingRecordBatch.java        |   8 +-
 .../drill/exec/planner/PhysicalPlanReader.java     |   4 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |   2 +-
 .../{StorageEngines.java => StoragePlugins.java}   |  27 +++-
 .../org/apache/drill/exec/server/Drillbit.java     |   1 +
 .../drill/exec/store/StoragePluginRegistry.java    | 119 +++++++++------
 .../drill/exec/store/dfs/BasicFormatMatcher.java   |  44 +++++-
 .../drill/exec/store/dfs/FileSystemConfig.java     |  13 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     |   2 +
 .../apache/drill/exec/store/dfs/FormatCreator.java |   5 +-
 .../exec/store/dfs/NamedFormatPluginConfig.java    |   3 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  24 ++-
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  36 +++--
 .../drill/exec/store/dfs/easy/EasySubScan.java     |  12 +-
 .../exec/store/easy/json/JSONFormatPlugin.java     |   4 +-
 .../exec/store/easy/text/TextFormatPlugin.java     |  98 ++++++++++++
 .../org/apache/drill/exec/store/hive/HiveScan.java |  10 +-
 .../exec/store/parquet/ParquetFormatConfig.java    |   1 +
 .../drill/exec/store/parquet/ParquetGroupScan.java |   2 +-
 .../exec/store/schedule/AssignmentCreator.java     |   2 +
 .../drill/exec/store/schedule/BlockMapBuilder.java |  10 +-
 .../exec/store/schedule/CompleteFileWork.java      |   5 +
 .../exec/store/text/DrillTextRecordReader.java     | 169 +++++++++++++++++++++
 .../org/apache/drill/exec/util/VectorUtil.java     |   5 +-
 .../exec/vector/RepeatedVariableWidthVector.java   |   8 +-
 .../RepeatedVariableEstimatedAllocator.java        |  36 +++++
 .../vector/allocator/RepeatedVectorAllocator.java  |  36 +++++
 .../exec/vector/allocator/VectorAllocator.java     |   7 +-
 .../java-exec/src/main/resources/drill-module.conf |   8 +-
 .../test/java/org/apache/drill/PlanningBase.java   |  10 ++
 .../exec/physical/impl/join/TestMergeJoin.java     |   3 +
 .../record/ExpressionTreeMaterializerTest.java     |   9 +-
 .../apache/drill/exec/store/TestOrphanSchema.java  |   9 +-
 .../drill/exec/store/ischema/OrphanSchema.java     |  11 +-
 .../drill/exec/store/ischema/TestOrphanSchema.java |   8 +-
 .../exec/store/text/TextRecordReaderTest.java      |  88 +++++++++++
 .../src/test/resources/storage-plugins.json        |  40 +++++
 .../src/test/resources/store/text/regions.csv      |   5 +
 .../src/test/resources/store/text/test.json        |  40 +++++
 pom.xml                                            |   1 +
 .../{storage-engines.json => storage-plugins.json} |  20 +++
 61 files changed, 1158 insertions(+), 147 deletions(-)

commit 7b6c7a12576546266bcf5ea109eb71adb0f30cc5
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Apr 21 20:15:39 2014 -0700

    DRILL-553: simple query fails sometimes
    
    Initialize lastSet variable in NullableVarLength vectors to -1. Also reset when reallocating.

 .../src/main/codegen/templates/NullableValueVectors.java  |  3 ++-
 .../test/java/org/apache/drill/TestExampleQueries.java    | 15 +++++++++++++++
 2 files changed, 17 insertions(+), 1 deletion(-)

commit 43615c8d085afe762bccd8814891779c60861bbb
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Apr 22 00:30:19 2014 -0700

    DRILL-323: Handle multiple inputs to math operators correctly.

 .../common/expression/FunctionCallFactory.java     |  2 +-
 .../drill/exec/fn/impl/TestMultiInputAdd.java      | 86 ++++++++++++++++++++++
 .../resources/functions/multi_input_add_test.json  | 30 ++++++++
 3 files changed, 117 insertions(+), 1 deletion(-)

commit a5ee8f84653d3dff64d83821fc14007514493382
Author: Mehant Baid <mehantr@gmail.com>
Date:   Thu Apr 17 00:21:39 2014 -0700

    DRILL-332: Support for decimal data type

 .../drill/common/expression/parser/ExprLexer.g     |    9 +-
 .../drill/common/expression/parser/ExprParser.g    |   18 +-
 .../common/expression/ExpressionStringBuilder.java |   49 +
 .../drill/common/expression/ValueExpressions.java  |  166 ++-
 .../drill/common/expression/fn/CastFunctions.java  |    6 +
 .../expression/visitors/AbstractExprVisitor.java   |   25 +
 .../expression/visitors/AggregateChecker.java      |   22 +
 .../expression/visitors/ConstantChecker.java       |   24 +
 .../common/expression/visitors/ExprVisitor.java    |    8 +
 .../expression/visitors/ExpressionValidator.java   |   24 +
 .../expression/visitors/SimpleExprVisitor.java     |   28 +
 .../java/org/apache/drill/common/types/Types.java  |   21 +-
 .../apache/drill/common/util/DecimalUtility.java   |  291 ++++++
 exec/java-exec/pom.xml                             |    5 -
 exec/java-exec/src/main/codegen/config.fmpp        |    3 +-
 exec/java-exec/src/main/codegen/data/Casts.tdd     |   72 ++
 .../src/main/codegen/data/DecimalTypes.tdd         |   26 +
 .../src/main/codegen/data/ValueVectorTypes.tdd     |   33 +-
 .../src/main/codegen/includes/vv_imports.ftl       |    2 +
 .../Decimal/CastDecimalDenseDecimalSparse.java     |  160 +++
 .../templates/Decimal/CastDecimalFloat.java        |   95 ++
 .../codegen/templates/Decimal/CastDecimalInt.java  |  106 ++
 .../templates/Decimal/CastDecimalSimilar.java      |   80 ++
 .../Decimal/CastDecimalSparseDecimalDense.java     |  175 ++++
 .../templates/Decimal/CastDecimalVarchar.java      |  212 ++++
 .../templates/Decimal/CastFloatDecimal.java        |   92 ++
 .../codegen/templates/Decimal/CastIntDecimal.java  |  105 ++
 .../templates/Decimal/CastSrcDecimalSimple.java    |  256 +++++
 .../templates/Decimal/CastVarCharDecimal.java      |  331 ++++++
 .../templates/Decimal/DecimalFunctions.java        | 1078 ++++++++++++++++++++
 .../main/codegen/templates/FixedValueVectors.java  |  143 ++-
 .../codegen/templates/NullableValueVectors.java    |   32 +-
 .../src/main/codegen/templates/SqlAccessors.java   |    5 +
 .../src/main/codegen/templates/TypeHelper.java     |    5 +-
 .../src/main/codegen/templates/ValueHolders.java   |   71 +-
 .../compile/sig/ConstantExpressionIdentifier.java  |   24 +
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  131 ++-
 .../exec/expr/ExpressionTreeMaterializer.java      |   95 +-
 .../exec/expr/annotations/FunctionTemplate.java    |    2 +-
 .../exec/expr/fn/DrillDecimalCastFuncHolder.java   |   68 ++
 .../expr/fn/DrillDecimalMaxScaleFuncHolder.java    |   58 ++
 .../expr/fn/DrillDecimalSumScaleFuncHolder.java    |   58 ++
 .../drill/exec/expr/fn/FunctionConverter.java      |   10 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |   52 +-
 .../drill/exec/record/MaterializedField.java       |    9 +
 .../exec/resolver/ResolverTypePrecedence.java      |   11 +-
 .../apache/drill/exec/resolver/TypeCastRules.java  |  250 +++--
 .../drill/exec/store/hive/HiveRecordReader.java    |    4 +-
 .../drill/exec/vector/ValueHolderHelper.java       |   68 +-
 .../drill/exec/physical/impl/TestDecimal.java      |  357 +++++++
 .../test/resources/decimal/cast_float_decimal.json |   47 +
 .../resources/decimal/cast_simple_decimal.json     |   47 +
 .../decimal/simple_decimal_arithmetic.json         |   55 +
 .../resources/decimal/test_decimal_complex.json    |   61 ++
 .../decimal/test_decimal_dense_sparse.json         |   78 ++
 .../decimal/test_decimal_sort_complex.json         |   56 +
 .../decimal/test_decimal_sparse_dense_dense.json   |   56 +
 .../src/test/resources/input_complex_decimal.json  |   28 +
 .../src/test/resources/input_simple_decimal.json   |   24 +
 .../test/resources/input_sort_complex_decimal.json |   30 +
 pom.xml                                            |    6 +
 .../org/apache/drill/common/types/TypeProtos.java  |  127 ++-
 protocol/src/main/protobuf/Types.proto             |   12 +-
 63 files changed, 5365 insertions(+), 237 deletions(-)

commit 50cc90e5e4fa3839019ec55204af4e6652b187a0
Author: Kamesh <kam.iitkgp@gmail.com>
Date:   Tue Apr 22 13:44:46 2014 +0530

    DRILL-466: fixing when submit_plan fails does not terminate the program

 .../src/main/java/org/apache/drill/exec/client/QuerySubmitter.java     | 3 +++
 1 file changed, 3 insertions(+)

commit 4a8ae53cc5ed41bf9cae436eebbb29fa5f518327
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Apr 21 11:28:55 2014 -0700

    Fix SchemaPath compound constructor to correctly build tree.

 common/src/main/java/org/apache/drill/common/expression/SchemaPath.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 18ac7b4e682656137f3a0d12c2011fa45176f57d
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Apr 21 09:35:52 2014 -0700

    DRILL-399: Support USE SCHEMA. Also fixes bugs found in using default schema in queries.

 exec/java-exec/src/main/codegen/data/Parser.tdd    |    4 +-
 .../src/main/codegen/includes/parserImpls.ftl      |   13 +
 .../org/apache/drill/exec/client/DrillClient.java  |   22 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |    8 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |    1 +
 .../planner/sql/handlers/UseSchemaHandler.java     |   51 +
 .../exec/planner/sql/parser/SqlUseSchema.java      |   65 +
 .../org/apache/drill/exec/rpc/user/UserClient.java |   14 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |   13 +-
 .../apache/drill/exec/rpc/user/UserSession.java    |   59 +-
 .../exec/store/dfs/FileSystemSchemaFactory.java    |    4 +-
 .../test/java/org/apache/drill/PlanningBase.java   |    2 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |    2 +-
 .../exec/store/hive/HiveTestDataGenerator.java     |   24 +-
 .../org/apache/drill/exec/proto/UserProtos.java    | 1638 +++++++++++++++++++-
 protocol/src/main/protobuf/User.proto              |   11 +-
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |    4 +-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |   95 +-
 18 files changed, 1941 insertions(+), 89 deletions(-)

commit 84fa4f10112dc81539c9bf0dcc62c49b7810971d
Author: mehant <mehantr@gmail.com>
Date:   Sun Apr 20 17:39:22 2014 -0700

    DRILL-550: Fix NPE while using custom Drill functions

 .../java/org/apache/drill/exec/planner/sql/DrillSqlAggOperator.java   | 2 +-
 .../main/java/org/apache/drill/exec/planner/sql/DrillSqlOperator.java | 4 +++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 946bdb5cc1ef360318f9b29c072faff43f194ef6
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Apr 10 13:41:11 2014 -0700

    DRILL-392: Support SHOW TABLES/SCHEMAS and DESCRIBE TABLE.
    
    Use Optiq parser template to generate Drill parser
    a) exec/java-exec/pom.xml changes:
    1. Write a plugin to move current existing codegen directory to target
    (fmpp can't handle more than one directory as template input dir).
    2. Change template directory path in fmpp plugin.
    3. Extract CombinedParser.jj into target/codegen/templates directory.
    4. Plugin to compile CombinedParser.jj using javacc.
    
    b) Add parser.tdd to define values for freemarker variables in CombinedParser.jj template.
    c) Define grammar and SqlCall types for new DDL statements.
    d) Handlers to rewrite newly added SqlCall DDL statements as select queries from INFORMATION_SCHEMA.

 exec/java-exec/pom.xml                             |  77 ++++++++++-
 exec/java-exec/src/main/codegen/config.fmpp        |   5 +-
 exec/java-exec/src/main/codegen/data/Parser.tdd    |  60 +++++++++
 .../src/main/codegen/includes/parserImpls.ftl      | 102 +++++++++++++++
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  15 ++-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  18 ++-
 .../planner/sql/handlers/DescribeTableHandler.java |  88 +++++++++++++
 .../exec/planner/sql/handlers/ExplainHandler.java  |   9 +-
 .../planner/sql/handlers/ShowSchemasHandler.java   |  59 +++++++++
 .../planner/sql/handlers/ShowTablesHandler.java    |  79 +++++++++++
 .../exec/planner/sql/parser/DrillParserUtil.java   |  49 +++++++
 .../exec/planner/sql/parser/SqlDescribeTable.java  |  72 +++++++++++
 .../exec/planner/sql/parser/SqlShowSchemas.java    |  73 +++++++++++
 .../exec/planner/sql/parser/SqlShowTables.java     |  75 +++++++++++
 .../drill/exec/store/ischema/OptiqProvider.java    |   7 +-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 144 ++++++++++++++++++++-
 16 files changed, 908 insertions(+), 24 deletions(-)

commit 6d26f23ce0b9840b28b38a5ee4a343607811761b
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Apr 21 09:22:32 2014 -0700

    Update VectorUtil to print out unescaped schema paths.

 .../apache/drill/common/expression/SchemaPath.java    | 19 +++++++++++++++++++
 .../java/org/apache/drill/exec/util/VectorUtil.java   |  4 ++--
 2 files changed, 21 insertions(+), 2 deletions(-)

commit 58d33c8af3e8c4caf5ef0cfc77c8f6f2d88ef1ca
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Apr 21 09:21:30 2014 -0700

    Switch to Optiq 0.7-SNAPSHOT.  Add use of FrameworkContext and FrameworkConfig.  Move PlannerSettings to FrameworkContext usage model.

 .../org/apache/drill/exec/ops/QueryContext.java    | 10 +++++++-
 .../planner/physical/HashToRandomExchangePrel.java |  2 +-
 ...{PlanningSettings.java => PlannerSettings.java} | 30 +++++++---------------
 .../drill/exec/planner/physical/PrelUtil.java      |  4 +++
 .../planner/physical/SingleMergeExchangePrel.java  |  2 +-
 .../exec/planner/physical/UnionExchangePrel.java   |  2 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 13 +++++++++-
 .../planner/sql/handlers/DefaultSqlHandler.java    |  7 +----
 .../planner/sql/handlers/SetOptionHandler.java     |  2 +-
 .../apache/drill/exec/rpc/user/UserSession.java    |  9 -------
 .../test/java/org/apache/drill/PlanningBase.java   |  3 +++
 pom.xml                                            |  4 ++-
 12 files changed, 45 insertions(+), 43 deletions(-)

commit a88102bfa05d3e5eddbb08d6534a41f8221f2690
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Apr 19 20:57:10 2014 -0700

    Merge fixes for HashJoin

 exec/java-exec/src/test/resources/join/hash_join.json             | 8 ++++----
 .../src/test/resources/join/hj_multi_condition_join.json          | 8 ++++----
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 1fc7b982414bc0dcd29b1d31e312d2207971933a
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Feb 25 01:09:06 2014 -0800

    DRILL-505: Hash Join
    
    Support for left outer, right outer and full joins
    
    Support for multiple join conditions
    
    Add following tests
     - Multiple condition join
     - Join on JSON scan
     - Multi batch join
     - Simple equality join

 .../physical/base/AbstractPhysicalVisitor.java     |   5 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   1 +
 .../drill/exec/physical/config/HashJoinPOP.java    | 143 +++++++++
 .../physical/impl/common/ChainedHashTable.java     |  40 ++-
 .../drill/exec/physical/impl/common/HashTable.java |   2 +-
 .../physical/impl/common/HashTableTemplate.java    |  11 +-
 .../exec/physical/impl/join/HashJoinBatch.java     | 355 +++++++++++++++++++++
 .../physical/impl/join/HashJoinBatchCreator.java   |  37 +++
 .../exec/physical/impl/join/HashJoinHelper.java    | 222 +++++++++++++
 .../exec/physical/impl/join/HashJoinProbe.java     |  56 ++++
 .../physical/impl/join/HashJoinProbeTemplate.java  | 226 +++++++++++++
 .../exec/physical/impl/join/TestHashJoin.java      | 216 +++++++++++++
 .../org/apache/drill/exec/pop/PopUnitTestBase.java |   2 +-
 .../src/test/resources/build_side_input.json       |  24 ++
 .../src/test/resources/join/hash_join.json         |  63 ++++
 .../test/resources/join/hash_join_multi_batch.json |  47 +++
 .../resources/join/hj_left_outer_multi_batch.json  |  48 +++
 .../resources/join/hj_multi_condition_join.json    |  66 ++++
 .../resources/join/hj_right_outer_multi_batch.json |  48 +++
 .../src/test/resources/probe_side_input.json       |  28 ++
 20 files changed, 1618 insertions(+), 22 deletions(-)

commit c7cb7baec66230e117d10494549586f987277510
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Apr 2 00:26:46 2014 -0700

    DRILL-476: Create binary_string() function to convert encoded binary string to sequence of bytes

 .../exec/expr/fn/impl/StringFunctionUtil.java      | 118 +++++++++++++++++----
 .../drill/exec/expr/fn/impl/StringFunctions.java   |  21 ++++
 2 files changed, 116 insertions(+), 23 deletions(-)

commit 025538cb20b9ec83cc01555938efa5d04d336f24
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Apr 2 01:02:43 2014 -0700

    DRILL-477: o.a.d.exec.vector.ValueHolderHelper.getVarCharHolder() creates a BigEndian buffer

 .../src/main/java/org/apache/drill/exec/vector/ValueHolderHelper.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9c701e13c5500ab0da77ebf1d1661077720b25ad
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Apr 2 02:26:30 2014 -0700

    DRILL-475: TestJdbcQuery fails on Windows due to resource leak

 sqlparser/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e2bb54188e060b79bc8bc478390af01a7ab91f10
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Apr 9 20:03:37 2014 -0700

    DRILL-498: cast to varchar only returns one row

 .../exec/store/parquet/VarLenBinaryReader.java     | 51 +++++++++++-----------
 1 file changed, 25 insertions(+), 26 deletions(-)

commit 7ec866968b8691f346523e583252462515279844
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Apr 9 15:14:49 2014 -0700

    DRILL-496: drill stuck in loop when query parquet file and eventually ran out of memory
    
    Added condition in NullableColumnReader to break out of loop when there are no more pages to read.

 .../org/apache/drill/exec/store/parquet/NullableColumnReader.java     | 4 +++-
 .../main/java/org/apache/drill/exec/store/parquet/PageReadStatus.java | 2 ++
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 171217d0ed205cc1f80f90fb3f915bc1c8b16337
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Apr 2 17:48:33 2014 -0700

    DRILL-478: sqlline fails with latest build
    
    Exclude jruby-complete in hbase pom

 contrib/storage-hbase/pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit ddb2933e99f821518fa85e7024aba7e5f6957a7b
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Apr 19 19:07:09 2014 -0700

    Merge fixes for HashAgg test

 exec/java-exec/src/test/resources/agg/hashagg/q7_3.json | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d9095509d8624683b25fa1ca6a0c2a8c97faf2fe
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Jan 29 16:47:51 2014 -0800

    DRILL-358: Fix bug in stream aggregate with sv2

 .../apache/drill/exec/physical/impl/aggregate/StreamingAggBatch.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fefda25e71da4f764a8559cf511441392b2258a8
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Mar 27 14:07:00 2014 -0700

    DRILL-405: Fix for not able to query directory containing json files

 .../java/org/apache/drill/exec/store/easy/json/JSONRecordReader.java     | 1 +
 1 file changed, 1 insertion(+)

commit 9d7bb0625b9194014b5b26f3e7cb7b5618dc1a3f
Author: Aman Sinha <asinha@maprtech.com>
Date:   Mon Apr 14 15:30:09 2014 -0700

    DRILL-456: Remove extra row in the output of grouped aggregate query.

 .../drill/exec/physical/impl/aggregate/StreamingAggTemplate.java  | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 41dcf20499ad62601b84cce16baf39e8887b7194
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Apr 2 18:19:03 2014 -0700

    DRILL-481: libthrift-0.8.0 causes drillbit to fail while querying Hive tables
    
    exclude lib thrift in hbase pom

 contrib/storage-hbase/pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit 05710a66e0249e34442de1cdc684334281842563
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Apr 3 18:44:32 2014 -0700

    DRILL-486: Add hbase classpath to drillbit classpath

 distribution/src/resources/drill-config.sh | 3 +++
 1 file changed, 3 insertions(+)

commit f8f12df99399fb0097ac4c1388d5ccce9a36d48d
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Apr 3 18:38:27 2014 -0700

    DRILL-483: Fix NPE when scanning table region on node without drillbit

 .../apache/drill/exec/store/hbase/HBaseGroupScan.java | 19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

commit ed5d7c91a6eeded6a5b0aec713e58bd2c654a87b
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Apr 16 11:28:22 2014 -0700

    Add tests for POSTFIX operators added in 097fc00b375b8a171a53e8062d03f06b350ae14e

 .../exec/physical/impl/TestSimpleFunctions.java    | 56 ------------------
 .../test/resources/functions/testIsNotNull.json    | 35 -----------
 .../src/test/resources/functions/testIsNull.json   | 35 -----------
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 68 ++++++++++++++++++++++
 sqlparser/src/test/resources/test_null_op.json     | 10 ++++
 .../src/test/resources/test_true_false_op.json     | 11 ++++
 6 files changed, 89 insertions(+), 126 deletions(-)

commit 8296be5594fa98da5a1d37a5fde871b6de4bca00
Author: Aman Sinha <asinha@maprtech.com>
Date:   Wed Apr 16 19:10:21 2014 -0700

    DRILL-536: Check for number of aggregate functions.

 .../exec/physical/impl/aggregate/HashAggBatch.java | 12 +++--
 .../physical/impl/aggregate/HashAggTemplate.java   | 21 +++++---
 .../drill/exec/physical/impl/agg/TestHashAggr.java |  5 ++
 .../src/test/resources/agg/hashagg/q7_3.json       | 56 ++++++++++++++++++++++
 4 files changed, 82 insertions(+), 12 deletions(-)

commit ecaa838fe7194c197884f0a1b6fb6f8a9683cede
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Apr 14 07:37:02 2014 -0700

    Move to Optiq 0.6
    Also includes:
    -improve exception catching
    -move schema path parsing to Antlr
    -close zookeeper connection on if client created
    -enhance BaseTestQuery and have other query tests utilize it
    -Various test fixes for better memory release.  still needs client allocator to be closed.
    -refactor DrillSqlWorker and create multiple SqlHandlers
    -Add PojoRecordReader and DirectPlan capabilities
    -Update Antlr to use same quoting rules as SQL: single quote for quoted strings, back ticks for identifiers
    -Move back to old Sorts until bugs are fixed
    -Refector SelectionVector management within Prels
    -Add support for NO_EXCHANGES option
    -Extract SchemaFactories to use Optiq's new Schema handling capabilities
    -Add basic handling of cancel in UserServer
    -Remove output requirement from Project
    -Add start of usercredentials to User communication

 .../drill/common/expression/parser/ExprLexer.g     |  25 +-
 .../drill/common/expression/parser/ExprParser.g    |  20 +-
 .../apache/drill/common/config/DrillConfig.java    |  48 +-
 .../common/expression/ExpressionStringBuilder.java |  64 ++-
 .../drill/common/expression/FieldReference.java    |  31 +-
 .../drill/common/expression/LogicalExpression.java |   2 +
 .../drill/common/expression/PathSegment.java       | 110 +++--
 .../apache/drill/common/expression/SchemaPath.java | 179 ++++---
 .../drill/common/expression/ValueExpressions.java  |  56 +--
 .../apache/drill/common/logical/data/Project.java  |  22 +-
 .../org/apache/drill/common/util/TestTools.java    |  46 +-
 .../drill/common/expression/parser/TreeTest.java   | 102 +++-
 .../drill/exec/store/hbase/HBaseRecordReader.java  |  40 +-
 .../drill/exec/store/hbase/HBaseSchemaFactory.java |   6 +-
 .../drill/exec/store/hbase/HBaseStoragePlugin.java |   7 +-
 distribution/src/resources/drill-env.sh            |   4 +-
 .../org/apache/drill/exec/client/DrillClient.java  |  46 +-
 .../java/org/apache/drill/exec/client/DumpCat.java |  12 +-
 .../drill/exec/client/PrintingResultsListener.java | 100 ++++
 .../apache/drill/exec/client/QuerySubmitter.java   | 184 +++----
 .../apache/drill/exec/compile/MergeAdapter.java    |  42 +-
 .../org/apache/drill/exec/memory/Accountor.java    |  17 +-
 .../apache/drill/exec/memory/AtomicRemainder.java  |  15 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  15 +-
 .../java/org/apache/drill/exec/ops/Multitimer.java |  42 ++
 .../org/apache/drill/exec/ops/QueryContext.java    |  59 ++-
 .../java/org/apache/drill/exec/ops/QuerySetup.java |  26 +
 .../drill/exec/physical/impl/OutputMutator.java    |   4 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |  12 +-
 .../physical/impl/TopN/PriorityQueueTemplate.java  |  10 +-
 .../physical/impl/common/HashTableTemplate.java    | 125 +++--
 .../OrderedPartitionRecordBatch.java               |  42 +-
 .../impl/partitionsender/OutgoingRecordBatch.java  |  14 +-
 .../physical/impl/project/ProjectRecordBatch.java  |  53 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |  40 +-
 .../physical/impl/sort/SortRecordBatchBuilder.java |  34 +-
 .../validate/IteratorValidatorBatchIterator.java   |  35 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |  12 +-
 .../exec/planner/common/DrillProjectRelBase.java   |   4 +-
 .../exec/planner/logical/DrillProjectRel.java      |   4 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |  27 +-
 .../drill/exec/planner/logical/ExprHelper.java     |   8 +-
 .../planner/physical/DrillDistributionTrait.java   |  35 +-
 .../drill/exec/planner/physical/FilterPrel.java    |  15 +-
 .../planner/physical/HashToRandomExchangePrel.java |  28 +-
 .../drill/exec/planner/physical/LimitPrel.java     |  14 +-
 .../drill/exec/planner/physical/MergeJoinPrel.java |  57 +--
 .../exec/planner/physical/PhysicalPlanCreator.java |  24 +-
 .../exec/planner/physical/PlanningSettings.java    |  57 +++
 .../drill/exec/planner/physical/PrelUtil.java      |  39 +-
 .../drill/exec/planner/physical/ProjectPrel.java   |  18 +-
 .../drill/exec/planner/physical/ScanPrel.java      |  11 +-
 .../drill/exec/planner/physical/ScreenPrel.java    |  18 +-
 .../planner/physical/SingleMergeExchangePrel.java  |  30 +-
 .../drill/exec/planner/physical/SortPrel.java      |  26 +-
 .../drill/exec/planner/physical/StreamAggPrel.java |  19 +-
 .../drill/exec/planner/physical/TopNPrel.java      |  16 +-
 .../exec/planner/physical/UnionExchangePrel.java   |  20 +-
 .../apache/drill/exec/planner/sql/DirectPlan.java  |  63 +++
 .../drill/exec/planner/sql/DrillOperatorTable.java |  26 +-
 .../drill/exec/planner/sql/DrillParserFactory.java |  82 ----
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 213 ++-------
 .../planner/sql/handlers/DefaultSqlHandler.java    | 173 +++++++
 .../exec/planner/sql/handlers/ExplainHandler.java  | 116 +++++
 .../planner/sql/handlers/SetOptionHandler.java     |  58 +++
 .../planner/sql/handlers/SimpleCommandResult.java  |  32 ++
 .../exec/planner/sql/handlers/SqlHandler.java      |  32 ++
 .../exec/planner/types/RelDataTypeHolder.java      |  17 +-
 .../drill/exec/record/MaterializedField.java       |  80 +++-
 .../drill/exec/record/RecordBatchLoader.java       |  15 +-
 .../apache/drill/exec/record/VectorContainer.java  |  11 +-
 .../org/apache/drill/exec/rpc/user/DrillUser.java  |  36 ++
 .../org/apache/drill/exec/rpc/user/UserServer.java |  29 +-
 .../apache/drill/exec/rpc/user/UserSession.java    |  80 ++++
 .../java/org/apache/drill/exec/schema/Field.java   |   5 +-
 .../apache/drill/exec/server/DrillbitContext.java  |  30 +-
 .../org/apache/drill/exec/store/SchemaFactory.java |   7 +-
 .../org/apache/drill/exec/store/StoragePlugin.java |   9 +-
 .../drill/exec/store/StoragePluginRegistry.java    | 162 +------
 .../drill/exec/store/dfs/FileSystemPlugin.java     |  24 +-
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  16 +-
 .../exec/store/direct/DirectBatchCreator.java      |  37 ++
 .../drill/exec/store/direct/DirectGroupScan.java   |  81 ++++
 .../drill/exec/store/direct/DirectSubScan.java     |  37 ++
 .../exec/store/easy/json/JSONRecordReader.java     |   7 +-
 .../drill/exec/store/hive/HiveRecordReader.java    |   6 +-
 .../drill/exec/store/hive/HiveStoragePlugin.java   |   9 +-
 .../exec/store/hive/schema/HiveSchemaFactory.java  |  24 +-
 .../drill/exec/store/ischema/EmptyVectorSet.java   |  72 +--
 .../store/ischema/InfoSchemaStoragePlugin.java     |  21 +-
 .../drill/exec/store/ischema/OptiqProvider.java    |  24 +-
 .../drill/exec/store/mock/MockRecordReader.java    |  12 +-
 .../drill/exec/store/mock/MockStorageEngine.java   |   9 +-
 .../exec/store/parquet/ParquetRecordReader.java    |   6 +-
 .../drill/exec/store/pojo/AbstractWriter.java      |  63 +++
 .../drill/exec/store/pojo/PojoRecordReader.java    | 131 +++++
 .../apache/drill/exec/store/pojo/PojoWriter.java   |  29 ++
 .../org/apache/drill/exec/store/pojo/Writers.java  | 127 +++++
 .../org/apache/drill/exec/util/BatchPrinter.java   |   6 +-
 .../org/apache/drill/exec/util/VectorUtil.java     |   8 +-
 .../apache/drill/exec/work/foreman/Foreman.java    | 158 +++---
 .../apache/drill/exec/work/user/UserWorker.java    |  13 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  | 152 ++++--
 .../test/java/org/apache/drill/PlanningBase.java   | 114 +++++
 .../java/org/apache/drill/TestAltSortQueries.java  |  48 +-
 .../java/org/apache/drill/TestExampleQueries.java  |  52 +-
 ...stTpchQueries.java => TestTpchDistributed.java} | 130 +++--
 .../java/org/apache/drill/TestTpchExplain.java     | 155 ++++++
 .../java/org/apache/drill/TestTpchPlanning.java    | 150 ++++++
 .../java/org/apache/drill/TestTpchSingleMode.java  | 157 ++++++
 .../apache/drill/exec/cache/TestVectorCache.java   |   2 +-
 .../drill/exec/physical/impl/SimpleRootExec.java   |  15 +-
 .../exec/physical/impl/TestBroadcastExchange.java  |   8 +-
 .../exec/physical/impl/TestCastFunctions.java      | 151 +++---
 .../physical/impl/TestCastVarCharToBigInt.java     |   5 +
 .../physical/impl/TestDistributedFragmentRun.java  |  10 +-
 .../exec/physical/impl/TestExtractFunctions.java   |   5 +
 .../physical/impl/TestHashToRandomExchange.java    |   1 +
 .../drill/exec/physical/impl/TestOptiqPlans.java   |  13 +-
 .../exec/physical/impl/TestSimpleFragmentRun.java  |  13 +-
 .../exec/physical/impl/TestUnionExchange.java      |   1 +
 .../exec/physical/impl/TopN/TestSimpleTopN.java    |  10 +-
 .../drill/exec/physical/impl/agg/TestAgg.java      |  34 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |  20 +-
 .../impl/join/TestMergeJoinMulCondition.java       |  10 +-
 .../impl/mergereceiver/TestMergingReceiver.java    |  14 +-
 .../TestOrderedPartitionExchange.java              |   3 +
 .../impl/xsort/TestSimpleExternalSort.java         |   8 +-
 .../drill/exec/record/vector/TestDateTypes.java    |  30 ++
 .../apache/drill/exec/record/vector/TestLoad.java  |   4 +-
 .../apache/drill/exec/store/TestOrphanSchema.java  |  22 +-
 .../apache/drill/exec/store/TestOutputMutator.java |  15 +
 .../drill/exec/store/ischema/OrphanSchema.java     |  33 +-
 .../drill/exec/store/ischema/TestOrphanSchema.java |  49 +-
 .../exec/store/ischema/TestTableProvider.java      |  57 ++-
 .../exec/store/json/JSONRecordReaderTest.java      |  17 +-
 .../store/parquet/ParquetRecordReaderTest.java     | 131 +++--
 .../exec/store/parquet/ParquetResultListener.java  |  30 +-
 .../store/parquet/TestParquetPhysicalPlan.java     |   2 +-
 .../drill/exec/work/batch/TestSpoolingBuffer.java  |   1 +
 .../src/test/resources/agg/hashagg/q6.json         |   4 +-
 .../src/test/resources/agg/hashagg/q7_1.json       |   6 +-
 .../src/test/resources/agg/hashagg/q7_2.json       |   6 +-
 .../src/test/resources/agg/hashagg/q8.json         |   4 +-
 .../src/test/resources/agg/hashagg/q8_1.json       |   4 +-
 .../resources/functions/cast/testCastBigInt.json   |   2 +-
 .../resources/functions/cast/testCastFloat4.json   |   4 +-
 .../resources/functions/cast/testCastFloat8.json   |   4 +-
 .../test/resources/functions/cast/testCastInt.json |   2 +-
 .../resources/functions/cast/testCastNested.json   |   2 +-
 .../functions/cast/testCastNumException.json       |   2 +-
 .../functions/cast/testICastConstant.json          |  36 +-
 .../resources/functions/simple_math_functions.json |   8 +-
 .../resources/functions/string/testCharLength.json |  12 +-
 .../resources/functions/string/testConcat.json     |   8 +-
 .../test/resources/functions/string/testLeft.json  |  14 +-
 .../test/resources/functions/string/testLike.json  |   8 +-
 .../test/resources/functions/string/testLower.json |   6 +-
 .../test/resources/functions/string/testLpad.json  |  20 +-
 .../test/resources/functions/string/testLtrim.json |  12 +-
 .../resources/functions/string/testPosition.json   |  16 +-
 .../functions/string/testRegexpReplace.json        |   6 +-
 .../resources/functions/string/testReplace.json    |  12 +-
 .../test/resources/functions/string/testRight.json |  14 +-
 .../test/resources/functions/string/testRpad.json  |  20 +-
 .../test/resources/functions/string/testRtrim.json |  12 +-
 .../resources/functions/string/testSimilar.json    |   8 +-
 .../test/resources/functions/string/testUpper.json |   6 +-
 .../test/resources/join/mj_multi_condition.json    |  12 +-
 .../src/test/resources/logical_string_filter.json  |   2 +-
 exec/java-exec/src/test/resources/simple_plan.json |  12 +-
 pom.xml                                            |   8 +-
 .../org/apache/drill/exec/proto/BitControl.java    | 218 ++++++++-
 .../org/apache/drill/exec/proto/UserBitShared.java | 531 ++++++++++++++++++++-
 .../org/apache/drill/exec/proto/UserProtos.java    | 258 ++++++++--
 protocol/src/main/protobuf/BitControl.proto        |   1 +
 protocol/src/main/protobuf/User.proto              |   2 +
 protocol/src/main/protobuf/UserBitShared.proto     |   6 +-
 sqlparser/pom.xml                                  |   8 +
 .../apache/drill/jdbc/DrillColumnMetaDataList.java |  14 +-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |  28 +-
 181 files changed, 5087 insertions(+), 2310 deletions(-)

commit ba0a6393cea74c89c6f286a88984de6e3ec3762a
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Apr 10 12:11:43 2014 -0700

    fix cleanup methods in ExternalSortBatch and TopNBatch.

 .../java/org/apache/drill/exec/physical/impl/TopN/TopNBatch.java  | 8 ++++++--
 .../apache/drill/exec/physical/impl/xsort/ExternalSortBatch.java  | 4 +++-
 2 files changed, 9 insertions(+), 3 deletions(-)

commit ecd64102f7514113c22b5286e6258495b5ec2707
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Wed Apr 9 12:33:31 2014 -0700

    AltSort: Replace sort with ExternalSort, Limit + sort with Limit + topN in the generated physical plan.

 .../exec/planner/common/DrillLimitRelBase.java     |  9 +++
 .../drill/exec/planner/logical/DrillRuleSets.java  |  4 +-
 .../planner/physical/DrillDistributionTrait.java   |  2 +-
 .../planner/physical/HashToRandomExchangePrel.java | 12 ++++
 .../exec/planner/physical/PushLimitToTopN.java     | 52 ++++++++++++++
 .../planner/physical/SingleMergeExchangePrel.java  | 18 ++++-
 .../drill/exec/planner/physical/SortPrel.java      | 10 ++-
 .../drill/exec/planner/physical/TopNPrel.java      | 78 ++++++++++++++++++++
 .../java/org/apache/drill/TestAltSortQueries.java  | 83 ++++++++++++++++++++++
 .../java/org/apache/drill/TestExampleQueries.java  |  2 +-
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  |  2 +
 11 files changed, 267 insertions(+), 5 deletions(-)

commit 4f98a4f41802771a487671382c3b189cd9660b1b
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Wed Apr 9 16:18:50 2014 -0700

    Fix EXPLAIN plan which was broken in recent change, add test case for EXPLAIN.  Move debug msg in DrillSqlWorker to logger.

 .../drill/exec/planner/sql/DrillSqlWorker.java     | 115 +++++++++++++++------
 .../apache/drill/exec/work/foreman/Foreman.java    |  18 +++-
 .../java/org/apache/drill/TestExampleQueries.java  |  10 ++
 3 files changed, 108 insertions(+), 35 deletions(-)

commit 56411a570a3516e4e10942c63f6cf00866e0ab05
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Fri Apr 4 11:56:44 2014 -0700

    Specify target traits based on converted RelNode's trait, in stead of empty trait sets, when call planner to get the logical plan.
    
    Add back RemoveSortRule to Logical rulesets.

 .../java/org/apache/drill/exec/planner/logical/DrillRuleSets.java     | 2 +-
 .../main/java/org/apache/drill/exec/planner/sql/DrillSqlWorker.java   | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 63287658c0628ecfbc56d0d33618ad2219fef438
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Apr 4 10:08:24 2014 -0700

    Add support for non-equijoins in the presence of other equijoins between the same tables.

 .../exec/planner/common/DrillJoinRelBase.java      |  4 +-
 .../drill/exec/planner/logical/DrillJoinRel.java   | 27 +++++++++-
 .../drill/exec/planner/logical/DrillJoinRule.java  | 63 +++++++++++++++++++++-
 .../drill/exec/planner/logical/DrillRuleSets.java  |  4 +-
 .../drill/exec/planner/physical/MergeJoinPrel.java |  2 +-
 5 files changed, 91 insertions(+), 9 deletions(-)

commit 4cfdb3b653ba4db664abc14c4b1d51e4cec5c668
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri Apr 4 02:51:42 2014 -0700

    fix NPE in merging receiver

 .../physical/impl/mergereceiver/MergingRecordBatch.java   | 15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit 0b1df5dfad13ab82ca95287eec2bf1ed960aee87
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu Apr 3 16:51:01 2014 -0700

    Remove RemoveSortRule and PushSortPastProjectRule during Drill Logical planning phase.

 .../java/org/apache/drill/exec/planner/logical/DrillRuleSets.java     | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ef8b59a2cc84bb8ce9ac474239db278abc9e70d9
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Thu Apr 3 00:46:57 2014 -0700

    Extract functions: avoid creating joda objects for each row

 .../src/main/codegen/templates/Extract.java        | 99 ++++++++++++----------
 1 file changed, 52 insertions(+), 47 deletions(-)

commit 63b0da38b5db8e5a6d00e5552b009fd2c543bd75
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Apr 2 22:21:25 2014 -0700

    lower quantity threshold in tpch query 18 so that more than zero records are returned

 exec/java-exec/src/test/resources/queries/tpch/18.sql | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ba123e69da6bdf4977e9db151236c3903ebcc028
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Apr 2 22:20:25 2014 -0700

    fix merge join to handle case where right batch has zero records

 .../drill/exec/physical/config/MergeJoinPOP.java   |   1 +
 .../drill/exec/physical/impl/join/JoinStatus.java  |  20 +++-
 .../exec/physical/impl/join/MergeJoinBatch.java    | 107 +++++++++++++--------
 .../exec/physical/impl/join/TestMergeJoin.java     |  55 ++++++++++-
 .../resources/join/merge_join_empty_batch.json     |   1 +
 5 files changed, 135 insertions(+), 49 deletions(-)

commit dcc102a2a4303d64e919b24d8990c2e115492402
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Wed Apr 2 18:48:27 2014 -0700

    Add extract functions

 exec/java-exec/src/main/codegen/config.fmpp        |   1 +
 .../src/main/codegen/data/ExtractTypes.tdd         |  20 +++
 .../src/main/codegen/templates/Extract.java        | 118 ++++++++++++++++++
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  16 +--
 .../exec/expr/ExpressionTreeMaterializer.java      | 113 ++++++++---------
 .../exec/physical/impl/TestExtractFunctions.java   | 136 +++++++++++++++++++++
 .../src/test/resources/functions/extractFrom.json  |  46 +++++++
 .../src/test/resources/test_simple_time.json       |   3 +
 8 files changed, 381 insertions(+), 72 deletions(-)

commit 3efba1e281b6e47a9b1f3ad47882ffadc97b4335
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Apr 2 16:28:42 2014 -0700

    initialize min and max functions for bit

 exec/java-exec/src/main/codegen/templates/AggrTypeFunctions1.java | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 9d233cb7a0a9d3fac52b55fe0b4611ad281d6121
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Apr 2 16:17:21 2014 -0700

    fix bug introduced in AggTypes

 exec/java-exec/src/main/codegen/data/AggrTypes1.tdd | 3 ---
 1 file changed, 3 deletions(-)

commit bfbc83f907d38d2bcee6e0e1c2b22242326d22a4
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Apr 2 15:35:50 2014 -0700

    in merge receiver, handle case where no records are returned

 .../exec/physical/impl/mergereceiver/MergingRecordBatch.java     | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit ca58de14810c7556c507dd1013aa488f0cafb6bb
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Apr 2 15:02:01 2014 -0700

    not function implementation

 .../org/apache/drill/exec/expr/fn/impl/Not.java    | 57 ++++++++++++++++++++++
 1 file changed, 57 insertions(+)

commit 8e2b95057d9e46cc7cfed699eb93c47c386f2e6b
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Apr 2 15:01:29 2014 -0700

    bit agg functions

 exec/java-exec/src/main/codegen/data/AggrTypes1.tdd         | 13 ++++++++++++-
 .../main/java/org/apache/drill/exec/vector/BitVector.java   | 12 ++++++++++++
 2 files changed, 24 insertions(+), 1 deletion(-)

commit d91a01a122fa91bed06cafa4a53aaf99770e8423
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Wed Apr 2 12:12:13 2014 -0700

    Fix the duplicate field names in join operator.  Work in progress for column star.

 .../physical/config/SelectionVectorRemover.java    |  7 ++-
 .../drill/exec/planner/physical/MergeJoinPrel.java | 73 +++++++++++++++++-----
 .../exec/planner/types/RelDataTypeDrillImpl.java   |  3 +-
 .../exec/planner/types/RelDataTypeHolder.java      | 16 +++--
 4 files changed, 76 insertions(+), 23 deletions(-)

commit 31d199461aaa7bdebe66415bf78b76c98d0fd637
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Apr 2 12:10:12 2014 -0700

    handle double project by copying

 .../exec/physical/impl/project/ProjectRecordBatch.java | 18 ++++++++++++++----
 1 file changed, 14 insertions(+), 4 deletions(-)

commit 2038bc629abb2a9620c8aade2be7bdf4d5f097a6
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Apr 1 15:18:36 2014 -0700

    Add couple of optiq rule into logical plan phase. Add operator mapping for is not null, is true.

 .../common/expression/FunctionCallFactory.java     |  4 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  | 61 ++++++++++++++++------
 2 files changed, 49 insertions(+), 16 deletions(-)

commit eeb853573fbb908f765c6718b193b96d6e829531
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Apr 1 15:08:16 2014 -0700

    Revert "Create CastExpression and traverse visitor pattern while performing implicit cast in ExpressionTreeMaterializer."
    
    This reverts commit b7c76c218a7359e99140bc8ee8eeef65f950d7ee.

 .../exec/expr/ExpressionTreeMaterializer.java      | 23 ++++++++++++++--------
 1 file changed, 15 insertions(+), 8 deletions(-)

commit 342f3fd0d5ded9063f4e8ecacdcf23f7c85b9fa7
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Tue Apr 1 11:17:52 2014 -0700

    Adjust project's trait field id based on the mapping from input to output.   Output Rel and Logicl Rel for debug purpose.

 .../planner/physical/DrillDistributionTrait.java   |  3 +
 .../drill/exec/planner/physical/ProjectPrule.java  | 86 +++++++++++++++++++++-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  7 +-
 3 files changed, 94 insertions(+), 2 deletions(-)

commit d3c7abeb556cbb91af81746ed9397af366e5cfd3
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Apr 1 12:08:20 2014 -0700

    DRILL-437: Add support for POSTFIX operators.
    1. IS NULL/IS NOT NULL
    2. IS TRUE/IS FALSE
    3. IS NOT TRUE/IS NOT FALSE

 .../src/main/codegen/templates/NullOperator.java   | 75 ++++++++++++++++++++++
 .../apache/drill/exec/expr/fn/impl/IsFalse.java    | 57 ++++++++++++++++
 .../apache/drill/exec/expr/fn/impl/IsNotFalse.java | 57 ++++++++++++++++
 .../apache/drill/exec/expr/fn/impl/IsNotTrue.java  | 56 ++++++++++++++++
 .../org/apache/drill/exec/expr/fn/impl/IsNull.java | 40 ------------
 .../expr/fn/impl/{IsNotNull.java => IsTrue.java}   | 42 ++++++++----
 .../drill/exec/planner/logical/DrillOptiq.java     | 11 ++++
 .../apache/drill/exec/resolver/TypeCastRules.java  |  8 ++-
 8 files changed, 290 insertions(+), 56 deletions(-)

commit f48d9988f9d77d95fbc89fbdf5e8c06672948568
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Apr 1 11:45:04 2014 -0700

    allocate 100 bytes/record for variable length in partition sender

 .../drill/exec/physical/impl/partitionsender/OutgoingRecordBatch.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f2f889c1dab3ab256e9b38914b12c91fac5146e2
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Apr 1 11:18:34 2014 -0700

    Bug in DrillOptiq while generating cast functions to Float, Double, IntervalYear and IntervalDay

 .../apache/drill/common/expression/ExpressionStringBuilder.java   | 4 ++--
 .../java/org/apache/drill/exec/planner/logical/DrillOptiq.java    | 8 ++++----
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 443e4e9fe012147efc0671f9539052ca2b191aeb
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Mar 31 21:10:51 2014 -0700

    Create CastExpression and traverse visitor pattern while performing implicit cast in ExpressionTreeMaterializer.

 .../exec/expr/ExpressionTreeMaterializer.java      | 23 ++++++++--------------
 1 file changed, 8 insertions(+), 15 deletions(-)

commit db0ff6364ee3ff27f6fe4a9a506617ee47c88ae5
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Mar 31 20:41:06 2014 -0700

    Build the IfExpression correcty in ExpressionStringBuilder
    Use IntExpression instead of LongExpression for integers

 .../common/expression/ExpressionStringBuilder.java |  3 +++
 .../drill/common/expression/ValueExpressions.java  |  8 ++++++-
 .../compile/sig/ConstantExpressionIdentifier.java  |  1 -
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 25 +++++++++++++++++++++-
 .../drill/exec/fn/impl/TestMathFunctions.java      |  5 +++--
 5 files changed, 37 insertions(+), 5 deletions(-)

commit 6976f92adeaf5e82729a0ff5f8581a0c405a6fec
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Mar 20 01:01:19 2014 -0700

    set def recordCount for explain

 .../src/main/java/org/apache/drill/exec/work/foreman/Foreman.java       | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d37d9241e63a0160cd8d03610326c927b60ea1d0
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Mar 31 19:45:10 2014 -0700

    in partition sender, release incoming vectors after partitioning

 .../exec/physical/impl/partitionsender/PartitionSenderRootExec.java    | 3 +++
 1 file changed, 3 insertions(+)

commit e28e1ef346b2e29862fb760be973c9145b55b761
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Mar 31 17:47:56 2014 -0700

    in partition sender, on Iteroutcome.STOP, cleanup without flushing

 .../physical/impl/partitionsender/PartitionSenderRootExec.java     | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit bf3fa6607290a4d5a976bf48a16927690a981da8
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Mar 31 16:33:05 2014 -0700

    fix merging receiver

 .../exec/physical/impl/mergereceiver/MergingRecordBatch.java      | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 02b206819f0c3c8b390ee81858315ea9d44fb9ea
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Mar 31 16:38:47 2014 -0700

    Add the date expressions in the tpch queries

 exec/java-exec/src/test/resources/queries/tpch/03.sql | 4 ++--
 exec/java-exec/src/test/resources/queries/tpch/05.sql | 4 ++--
 exec/java-exec/src/test/resources/queries/tpch/07.sql | 2 +-
 exec/java-exec/src/test/resources/queries/tpch/12.sql | 4 ++--
 4 files changed, 7 insertions(+), 7 deletions(-)

commit 029c5b8980b3cfa0f82ac4461b405e82b650120f
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Mar 31 16:32:07 2014 -0700

    fix or, query uncomment and add absolute reference.

 .../org/apache/drill/common/expression/FunctionCallFactory.java     | 3 ++-
 .../main/java/org/apache/drill/exec/expr/fn/impl/BitFunctions.java  | 2 +-
 exec/java-exec/src/test/resources/queries/tpch/06.sql               | 6 +++---
 exec/java-exec/src/test/resources/queries/tpch/16.sql               | 6 +++---
 4 files changed, 9 insertions(+), 8 deletions(-)

commit 255d528ef93c2fe34c6c5fa4051b711daa4b8271
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Mar 31 16:20:19 2014 -0700

    implement function to cast from long to date, timestamp

 .../drill/exec/expr/fn/impl/CastBigIntDate.java    | 46 ++++++++++++++++++++++
 .../exec/expr/fn/impl/CastBigIntTimeStamp.java     | 46 ++++++++++++++++++++++
 2 files changed, 92 insertions(+)

commit 2faf6ef0253d6d3a8e3ce4d34ccc96c5a8590a74
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Mar 31 16:19:49 2014 -0700

    Expression string builder bug, JODA cannot handle white space

 .../org/apache/drill/common/expression/ExpressionStringBuilder.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8c51248948474c2fc114b23d2f1521e8734b934f
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Mar 31 15:57:12 2014 -0700

    serialize "and" function as "booleanAnd" to not confuse parser

 .../java/org/apache/drill/common/expression/FunctionCallFactory.java   | 3 ++-
 .../src/main/java/org/apache/drill/exec/expr/fn/impl/BitFunctions.java | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 18a24dacd487dde8040d2d4434ba375cba34d838
Author: Mehant Baid <mehantr@gmail.com>
Date:   Mon Mar 31 15:48:47 2014 -0700

    Use RexLiteral.type and RexLiteral.typeName while converting from Optiq to Drill literals.
    Use IntExpressions for integer as opposed to DoubleExpression

 .../java/org/apache/drill/exec/planner/logical/DrillOptiq.java    | 4 +++-
 .../src/test/java/org/apache/drill/jdbc/test/TestJdbcQuery.java   | 8 ++++++++
 2 files changed, 11 insertions(+), 1 deletion(-)

commit 311fadea6e735c31f9da3a3e4b443872b19480e6
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon Mar 31 14:14:44 2014 -0700

    Modify StreamAggPrule to support no group by key case. Modify MergeJoin to reject cartesian join.

 .../drill/exec/planner/physical/MergeJoinPrel.java |  4 +++
 .../exec/planner/physical/MergeJoinPrule.java      | 32 +++++++++++++---------
 .../exec/planner/physical/StreamAggPrule.java      | 19 +++++++++++--
 3 files changed, 39 insertions(+), 16 deletions(-)

commit 3b9df0de7ae9f6cff0a5726f1ac7929ff5dbcbda
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Mon Mar 31 14:30:55 2014 -0700

    Support CASE statement in query 1. Pending testcases

 .../drill/exec/planner/logical/DrillOptiq.java     | 29 +++++++++++++++++++---
 1 file changed, 25 insertions(+), 4 deletions(-)

commit eae6fa4dd33371f6cf0ae37652b369c21f22efc4
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Mar 31 13:47:25 2014 -0700

    Support identity comparison of RelDataTypeDrillImpl.  Fix tpch query aliases in 04 and 09

 .../exec/planner/types/RelDataTypeHolder.java      | 37 ++++++++--------------
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  3 +-
 .../src/test/resources/queries/tpch/04.sql         | 20 ++++++------
 .../src/test/resources/queries/tpch/09.sql         |  4 +--
 4 files changed, 27 insertions(+), 37 deletions(-)

commit a4a2c533c571f6c0e1b1de82bc4ad1aa299b1cae
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Mar 31 10:06:30 2014 -0700

    Updates for latest Optiq version

 .../drill/exec/store/hbase/HBaseSchemaFactory.java | 16 +++----
 .../apache/drill/exec/store/AbstractSchema.java    | 22 +++------
 .../org/apache/drill/exec/store/SchemaHolder.java  | 44 ------------------
 .../drill/exec/store/StoragePluginRegistry.java    | 52 ++++++----------------
 .../exec/store/dfs/FileSystemSchemaFactory.java    | 18 ++++----
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  9 ++--
 .../exec/store/hive/schema/HiveDatabaseSchema.java |  4 +-
 .../exec/store/hive/schema/HiveSchemaFactory.java  | 18 +++-----
 .../store/ischema/InfoSchemaStoragePlugin.java     |  8 ++--
 .../drill/exec/store/ischema/OptiqProvider.java    |  2 +-
 pom.xml                                            | 14 ++++++
 .../org/apache/drill/exec/proto/UserProtos.java    | 29 +++++++++---
 protocol/src/main/protobuf/User.proto              |  2 -
 13 files changed, 88 insertions(+), 150 deletions(-)

commit 62a786676c12e9ae258ef4eb0bc8322cb1cc7463
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Mar 30 14:52:50 2014 -0700

    - Fixes for more recent optiq snapshot
    - Fix hash rule to insert xor rather than ^
    - Update dates so they write correctly
    - Add DrillSqlOperatorTable that supports resolving calls from Drill Function registry
    - Add Hack SqlParserImplFactory to override default AbstractSqlParserImpl use of Std operator table
    - Remove spaces from function names to make ExprParser work correctly
    - Add VarBinary to Hive object inspectors
    - Update ExpressionTreeMaterializer's visit function call to return NULLExpression instead of null so that FunctionCall constructor's ImmutableList.of() doesn't throw exception on missing cast expression.

 common/pom.xml                                     |   5 +
 .../common/expression/ExpressionStringBuilder.java |  46 ++++++--
 .../common/expression/FunctionCallFactory.java     |  12 +--
 .../drill/common/expression/ValueExpressions.java  |   7 +-
 exec/java-exec/src/main/codegen/data/HiveTypes.tdd |   8 ++
 .../codegen/templates/ComparisonFunctions.java     |  10 +-
 .../codegen/templates/DateIntervalFunctions.java   |  20 ++--
 .../main/codegen/templates/ObjectInspectors.java   |  21 ++++
 .../exec/expr/ExpressionTreeMaterializer.java      |   3 +-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |   2 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |  13 ++-
 .../drill/exec/planner/physical/PrelUtil.java      |   2 +-
 .../org/apache/drill/exec/planner/sql/Checker.java |  47 ++++++++
 .../drill/exec/planner/sql/DrillOperatorTable.java |  50 ++++++---
 .../drill/exec/planner/sql/DrillParserFactory.java |  82 ++++++++++++++
 .../exec/planner/sql/DrillSqlAggOperator.java      |  78 ++++++++++++++
 .../drill/exec/planner/sql/DrillSqlOperator.java   | 118 +--------------------
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   9 +-
 .../drill/exec/planner/sql/DynamicReturnType.java  |  29 +++++
 .../apache/drill/exec/planner/sql/DynamicType.java |  35 ++++++
 .../apache/drill/exec/planner/sql/FixedRange.java  |  46 ++++++++
 .../apache/drill/exec/resolver/TypeCastRules.java  |   4 +-
 .../apache/drill/exec/store/AbstractSchema.java    |   8 +-
 .../drill/exec/store/StoragePluginRegistry.java    |  16 +--
 .../exec/store/dfs/FileSystemSchemaFactory.java    |  10 +-
 .../test/java/org/apache/drill/BaseTestQuery.java  |   2 +-
 .../java/org/apache/drill/TestTpchQueries.java     |   2 +-
 .../src/test/resources/queries/tpch/01.sql         |   4 +-
 28 files changed, 493 insertions(+), 196 deletions(-)

commit 6b517daad2a817231df9959f2f3e5c53bd728117
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Wed Feb 26 17:04:37 2014 -0800

    DRILL-450: Add exchange rules, move from BasicOptimizer to Optiq

 .../drill/common/expression/parser/ExprLexer.g     |  27 +--
 .../apache/drill/common/logical/data/Order.java    |   6 +-
 .../drill/exec/store/hbase/HBaseGroupScan.java     |  16 +-
 .../drill/exec/store/hbase/HBaseSchemaFactory.java |  15 +-
 .../drill/exec/store/hbase/HBaseStoragePlugin.java |  29 ++-
 .../drill/exec/store/hbase/HBaseSubScan.java       |  15 +-
 .../drill/exec/expr/fn/impl/HashFunctions.java     |  31 +++
 .../org/apache/drill/exec/ops/QueryContext.java    |   4 +
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |   6 +-
 .../drill/exec/physical/base/AbstractBase.java     |   6 +
 .../drill/exec/physical/base/AbstractSubScan.java  |   6 +
 .../apache/drill/exec/physical/base/GroupScan.java |   3 +-
 .../drill/exec/physical/base/PhysicalOperator.java |   9 +
 .../apache/drill/exec/physical/config/Filter.java  |  15 +-
 .../exec/physical/config/HashToRandomExchange.java |   5 +-
 .../drill/exec/physical/config/MergeJoinPOP.java   |   1 -
 .../apache/drill/exec/physical/config/Project.java |   6 +-
 .../apache/drill/exec/physical/config/Screen.java  |   1 +
 .../exec/physical/config/SingleMergeExchange.java  |   5 +
 .../apache/drill/exec/physical/config/Sort.java    |   6 +-
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |   2 +-
 .../drill/exec/physical/impl/join/JoinStatus.java  |   4 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  18 +-
 .../exec/physical/impl/limit/LimitRecordBatch.java |   1 +
 .../impl/mergereceiver/MergingRecordBatch.java     |   4 +-
 .../OrderedPartitionRecordBatch.java               |   2 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   2 +-
 .../physical/impl/xsort/ExternalSortBatch.java     |   4 +-
 .../exec/planner/common/DrillAggregateRelBase.java |  42 ++++
 ...{BaseFilterRel.java => DrillFilterRelBase.java} |   8 +-
 .../exec/planner/common/DrillJoinRelBase.java      |  80 ++++++++
 .../drill/exec/planner/common/DrillLimitRel.java   |  75 -------
 .../{DrillUnionRel.java => DrillLimitRelBase.java} |  50 ++---
 ...aseProjectRel.java => DrillProjectRelBase.java} |  11 +-
 .../drill/exec/planner/common/DrillRelNode.java    |  25 +++
 .../{BaseScanRel.java => DrillScanRelBase.java}    |   7 +-
 ...{BaseScreenRel.java => DrillScreenRelBase.java} |   8 +-
 .../{DrillStoreRel.java => DrillStoreRelBase.java} |  17 +-
 .../exec/planner/common/DrillUnionRelBase.java     |  37 ++++
 .../exec/planner/logical/DrillAggregateRel.java    |   8 +-
 .../drill/exec/planner/logical/DrillFilterRel.java |   4 +-
 .../drill/exec/planner/logical/DrillJoinRel.java   |  28 +--
 .../drill/exec/planner/logical/DrillLimitRel.java  |  10 +-
 .../drill/exec/planner/logical/DrillLimitRule.java |   1 -
 .../exec/planner/logical/DrillProjectRel.java      |  11 +-
 .../drill/exec/planner/logical/DrillRel.java       |   6 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |  49 ++---
 .../drill/exec/planner/logical/DrillScanRel.java   |  10 +-
 .../drill/exec/planner/logical/DrillScanRule.java  |   2 +-
 .../drill/exec/planner/logical/DrillScreenRel.java |   4 +-
 .../drill/exec/planner/logical/DrillStoreRel.java  |   4 +-
 .../drill/exec/planner/logical/DrillTable.java     |  10 +-
 .../drill/exec/planner/logical/DrillUnionRel.java  |   6 +-
 .../drill/exec/planner/logical/DrillUnionRule.java |   4 +-
 .../exec/planner/logical/DynamicDrillTable.java    |   6 +-
 .../exec/planner/logical/EnumerableDrillRule.java  |   4 +-
 .../planner/physical/DrillDistributionTrait.java   | 142 ++++++++++++++
 .../physical/DrillDistributionTraitDef.java        |  88 +++++++++
 .../drill/exec/planner/physical/FilterPrel.java    |  58 ++++++
 .../drill/exec/planner/physical/FilterPrule.java   |  58 ++++++
 .../drill/exec/planner/physical/HashPrel.java      |  37 ----
 .../planner/physical/HashToRandomExchangePrel.java |  77 ++++++++
 .../drill/exec/planner/physical/LimitPrel.java     |  95 +++++++++
 .../drill/exec/planner/physical/LimitPrule.java    |  50 +++++
 .../drill/exec/planner/physical/MergeJoinPrel.java | 119 +++++++++++
 .../exec/planner/physical/MergeJoinPrule.java      | 101 ++++++++++
 .../physical/OrderedPartitionExchangePrel.java     |  53 +++++
 .../exec/planner/physical/PhysicalPlanCreator.java |  79 +++++++-
 .../apache/drill/exec/planner/physical/Prel.java   |  25 ++-
 .../drill/exec/planner/physical/PrelUtil.java      |  72 +++++++
 .../drill/exec/planner/physical/ProjectPrel.java   |  44 ++++-
 .../drill/exec/planner/physical/ProjectPrule.java  |  26 ++-
 .../drill/exec/planner/physical/ScanPrel.java      |  39 +++-
 .../drill/exec/planner/physical/ScanPrule.java     |  32 ++-
 .../drill/exec/planner/physical/ScreenPrel.java    |  46 ++++-
 .../drill/exec/planner/physical/ScreenPrule.java   |  49 +++++
 .../planner/physical/SingleMergeExchangePrel.java  |  80 ++++++++
 .../exec/planner/physical/SortConvertPrule.java    |  57 ++++++
 .../drill/exec/planner/physical/SortPrel.java      |  78 ++++++--
 .../drill/exec/planner/physical/SortPrule.java     |  83 ++++++++
 .../drill/exec/planner/physical/StorageRule.java   |   5 -
 .../drill/exec/planner/physical/StreamAggPrel.java |  83 +++++++-
 .../exec/planner/physical/StreamAggPrule.java      |  94 +++++++++
 .../drill/exec/planner/physical/TopNSortPrel.java  |  36 ----
 .../exec/planner/physical/UnionExchangePrel.java   |  69 +++++++
 .../drill/exec/planner/sql/DrillOperatorTable.java |  80 ++++++++
 .../drill/exec/planner/sql/DrillSqlOperator.java   | 155 +++++++++++++++
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 101 ++++++++--
 .../exec/planner/torel/ConversionContext.java      |  16 +-
 .../{logical => types}/RelDataTypeDrillImpl.java   |  12 +-
 .../{logical => types}/RelDataTypeHolder.java      |   5 +-
 .../java/org/apache/drill/exec/schema/Field.java   |  12 +-
 .../dfs/shim/fallback/FallbackFileSystem.java      |   2 +-
 .../exec/store/easy/json/JSONRecordReader.java     |   1 +
 .../exec/store/ischema/InfoSchemaDrillTable.java   |   4 +-
 .../store/ischema/InfoSchemaStoragePlugin.java     |  17 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |   7 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  10 +
 .../drill/exec/work/foreman/QueryManager.java      |   2 +-
 .../java/org/apache/drill/TestExampleQueries.java  |  21 +-
 .../java/org/apache/drill/TestTpchQueries.java     |   2 +
 .../exec/physical/impl/join/TestMergeJoin.java     |  31 ++-
 .../planner/physical/TestPhysicalPlanning.java     |  39 ----
 .../exec/store/json/JSONRecordReaderTest.java      |   2 +-
 .../store/parquet/ParquetRecordReaderTest.java     |   3 +-
 .../resources/join/merge_join_empty_batch.json     |  47 +++++
 pom.xml                                            |   2 +-
 sample-data/nationsMF/nation.parquet               | Bin 0 -> 3109 bytes
 sample-data/nationsMF/nation2.parquet              | Bin 0 -> 3109 bytes
 sample-data/nationsSF/nation.parquet               | Bin 0 -> 3109 bytes
 sample-data/regionsMF/region.parquet               | Bin 0 -> 819 bytes
 sample-data/regionsMF/region2.parquet              | Bin 0 -> 819 bytes
 sample-data/regionsSF/region.parquet               | Bin 0 -> 819 bytes
 .../org/apache/drill/jdbc/DrillConnection.java     |   2 +-
 ...ctionConfig.java => DrillConnectionConfig.java} |   8 +-
 .../org/apache/drill/jdbc/DrillConnectionImpl.java |   6 +-
 .../apache/drill/jdbc/test/TestJdbcDistQuery.java  | 218 +++++++++++++++++++++
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |   9 +-
 118 files changed, 2913 insertions(+), 552 deletions(-)

commit 22c4190715d081bf5c4c684c5d67131e973c59f2
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Feb 23 07:51:01 2014 -0800

    Start on move towards optiq for I --> p
    
    optiq-opt1 More WIP.

 .../org/apache/drill/common/logical/data/Scan.java | 17 +----
 exec/java-exec/pom.xml                             |  6 ++
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  2 +-
 .../apache/drill/exec/physical/base/GroupScan.java |  3 +-
 .../drill/exec/planner/common/BaseFilterRel.java   | 53 +++++++++++++++
 .../drill/exec/planner/common/BaseProjectRel.java  | 68 ++++++++++++++++++++
 .../drill/exec/planner/common/BaseScanRel.java     | 36 +++++++++++
 .../drill/exec/planner/common/BaseScreenRel.java   | 41 ++++++++++++
 .../drill/exec/planner/common/DrillLimitRel.java   | 75 ++++++++++++++++++++++
 .../drill/exec/planner/common/DrillStoreRel.java   | 47 ++++++++++++++
 .../drill/exec/planner/common/DrillUnionRel.java   | 73 +++++++++++++++++++++
 .../exec/planner/logical/DrillAggregateRule.java   |  2 +-
 .../drill/exec/planner/logical/DrillFilterRel.java | 20 ++----
 .../exec/planner/logical/DrillFilterRule.java      |  7 +-
 .../drill/exec/planner/logical/DrillJoinRule.java  |  2 +-
 .../drill/exec/planner/logical/DrillLimitRel.java  |  2 +
 .../drill/exec/planner/logical/DrillLimitRule.java |  5 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |  2 +-
 .../exec/planner/logical/DrillProjectRel.java      | 30 ++-------
 .../exec/planner/logical/DrillProjectRule.java     |  2 +-
 .../drill/exec/planner/logical/DrillRel.java       |  2 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  | 58 +++++++++++------
 .../drill/exec/planner/logical/DrillScanRel.java   | 15 +----
 .../drill/exec/planner/logical/DrillScanRule.java  |  6 +-
 .../drill/exec/planner/logical/DrillScreenRel.java | 33 +---------
 .../drill/exec/planner/logical/DrillSortRule.java  |  4 +-
 .../drill/exec/planner/logical/DrillStoreRel.java  |  2 +
 .../drill/exec/planner/logical/DrillTable.java     | 19 ++++--
 .../drill/exec/planner/logical/DrillUnionRel.java  |  2 +
 .../drill/exec/planner/logical/DrillUnionRule.java |  3 +-
 .../drill/exec/planner/logical/DrillValuesRel.java |  2 +-
 .../exec/planner/logical/DrillValuesRule.java      |  2 +-
 .../exec/planner/logical/DynamicDrillTable.java    |  5 +-
 .../exec/planner/logical/EnumerableDrillRule.java  | 11 ++--
 .../drill/exec/planner/physical/HashPrel.java      | 37 +++++++++++
 .../exec/planner/physical/PhysicalPlanCreator.java | 20 ++++++
 .../apache/drill/exec/planner/physical/Prel.java   | 17 +++++
 .../drill/exec/planner/physical/ProjectPrel.java   | 38 +++++++++++
 .../drill/exec/planner/physical/ProjectPrule.java  | 45 +++++++++++++
 .../drill/exec/planner/physical/ScanPrel.java      | 29 +++++++++
 .../drill/exec/planner/physical/ScanPrule.java     | 42 ++++++++++++
 .../drill/exec/planner/physical/ScreenPrel.java    | 25 ++++++++
 .../drill/exec/planner/physical/SortPrel.java      | 36 +++++++++++
 .../drill/exec/planner/physical/StorageRule.java   |  5 ++
 .../drill/exec/planner/physical/StreamAggPrel.java | 36 +++++++++++
 .../drill/exec/planner/physical/TopNSortPrel.java  | 36 +++++++++++
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 41 ++++++++++--
 .../exec/planner/torel/ConversionContext.java      | 18 +++---
 .../drill/exec/store/AbstractStoragePlugin.java    |  7 +-
 .../org/apache/drill/exec/store/StoragePlugin.java |  6 +-
 .../drill/exec/store/dfs/FileSystemPlugin.java     | 18 ++++--
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |  2 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     |  8 ++-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  8 +--
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   |  7 +-
 .../drill/exec/store/dfs/easy/EasySubScan.java     | 11 +---
 .../exec/store/easy/json/JSONFormatPlugin.java     |  4 +-
 .../exec/store/easy/json/JSONRecordReader.java     | 11 ++--
 .../drill/exec/store/hive/HiveStoragePlugin.java   | 10 ++-
 .../exec/store/hive/schema/DrillHiveTable.java     |  5 +-
 .../exec/store/hive/schema/HiveSchemaFactory.java  |  9 +--
 .../drill/exec/store/mock/MockStorageEngine.java   | 16 +++--
 .../exec/store/parquet/ParquetFormatPlugin.java    |  4 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java | 14 +---
 .../exec/store/parquet/ParquetRecordReader.java    | 21 +++---
 .../exec/store/parquet/ParquetRowGroupScan.java    | 11 +---
 .../store/parquet/ParquetScanBatchCreator.java     |  1 -
 .../apache/drill/exec/work/foreman/Foreman.java    | 17 -----
 .../planner/physical/TestPhysicalPlanning.java     | 39 +++++++++++
 .../exec/store/json/JSONRecordReaderTest.java      | 14 ++--
 .../src/test/resources/storage-engines.json        |  7 +-
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  |  2 -
 72 files changed, 1049 insertions(+), 285 deletions(-)

commit 71e912a4a5b92fd202e18c2507b5711a80fc5a6e
Author: mehant <mehantr@gmail.com>
Date:   Sat Mar 29 16:46:49 2014 -0700

    DRILL-356: Changes to support date type

 .../drill/common/expression/parser/ExprLexer.g     |    7 +
 .../drill/common/expression/parser/ExprParser.g    |   15 +-
 .../common/expression/ExpressionStringBuilder.java |   43 +
 .../common/expression/OutputTypeDeterminer.java    |    4 +-
 .../drill/common/expression/ValueExpressions.java  |  209 ++++
 .../drill/common/expression/fn/CastFunctions.java  |    7 +
 .../expression/visitors/AbstractExprVisitor.java   |   30 +
 .../expression/visitors/AggregateChecker.java      |   28 +
 .../expression/visitors/ConstantChecker.java       |   30 +
 .../common/expression/visitors/ExprVisitor.java    |   10 +
 .../expression/visitors/ExpressionValidator.java   |   30 +
 .../expression/visitors/SimpleExprVisitor.java     |   36 +
 .../java/org/apache/drill/common/types/Types.java  |   11 +-
 exec/java-exec/pom.xml                             |    5 +
 exec/java-exec/src/main/codegen/config.fmpp        |    9 +-
 exec/java-exec/src/main/codegen/data/Casts.tdd     |   33 +-
 exec/java-exec/src/main/codegen/data/DateTypes.tdd |   27 +
 .../src/main/codegen/data/ValueVectorTypes.tdd     |   28 +-
 .../src/main/codegen/includes/vv_imports.ftl       |    4 +
 .../src/main/codegen/templates/CastDateDate.java   |   66 ++
 .../main/codegen/templates/CastDateVarChar.java    |   79 ++
 .../codegen/templates/CastIntervalInterval.java    |  104 ++
 .../codegen/templates/CastIntervalVarChar.java     |  212 ++++
 .../main/codegen/templates/CastVarCharDate.java    |   81 ++
 .../codegen/templates/CastVarCharInterval.java     |   86 ++
 .../codegen/templates/DateIntervalFunctions.java   |  353 ++++++
 .../main/codegen/templates/FixedValueVectors.java  |  243 +++-
 .../codegen/templates/NullableValueVectors.java    |    7 +-
 .../src/main/codegen/templates/SqlAccessors.java   |   14 +
 .../src/main/codegen/templates/TypeHelper.java     |    2 +-
 .../src/main/codegen/templates/ValueHolders.java   |   12 +
 .../compile/sig/ConstantExpressionIdentifier.java  |   30 +
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  120 ++
 .../exec/expr/ExpressionTreeMaterializer.java      |   30 +
 .../drill/exec/expr/fn/impl/DateTypeFunctions.java |  341 ++++++
 .../drill/exec/expr/fn/impl/DateUtility.java       | 1235 ++++++++++++++++++++
 .../org/apache/drill/exec/ops/FragmentContext.java |    6 +
 .../exec/planner/fragment/SimpleParallelizer.java  |    3 +
 .../drill/exec/planner/logical/DrillOptiq.java     |   32 +-
 .../exec/resolver/ResolverTypePrecedence.java      |    9 +-
 .../apache/drill/exec/resolver/TypeCastRules.java  |  112 +-
 .../drill/exec/vector/ValueHolderHelper.java       |   10 +
 .../drill/exec/record/vector/TestDateTypes.java    |  285 +++++
 .../record/vector/test_all_date_literals.json      |   37 +
 .../test/resources/record/vector/test_date.json    |   34 +
 .../resources/record/vector/test_date_add.json     |   34 +
 .../resources/record/vector/test_interval.json     |   42 +
 .../resources/record/vector/test_sort_date.json    |   56 +
 .../resources/record/vector/test_timestamp.json    |   34 +
 .../src/test/resources/test_simple_date.json       |    3 +
 .../src/test/resources/test_simple_interval.json   |    6 +
 .../org/apache/drill/common/types/TypeProtos.java  |  217 +++-
 .../org/apache/drill/exec/proto/BitControl.java    |  137 ++-
 protocol/src/main/protobuf/BitControl.proto        |    1 +
 protocol/src/main/protobuf/Types.proto             |   10 +-
 55 files changed, 4546 insertions(+), 103 deletions(-)

commit 838fda82428d108547e1dd4f5ef6b3e48e6b9738
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Apr 4 19:02:48 2014 -0700

    Fix Drill-487. Setup mappings appropriately for compare functions. Throw exception instead of assert when no join conditions are present. Enable PushFilterPastJoinRule .

 .../drill/exec/physical/impl/join/MergeJoinBatch.java       | 13 +++++++++----
 .../apache/drill/exec/planner/logical/DrillRuleSets.java    |  2 +-
 2 files changed, 10 insertions(+), 5 deletions(-)

commit 84d23350ca278d84dcff48a47537db63707abad5
Author: Aman Sinha <asinha@maprtech.com>
Date:   Fri Mar 28 16:12:28 2014 -0700

    DRILL-443: Fix potential memory leaks inside HashAggregation and HashTable.

 .../exec/physical/impl/aggregate/HashAggBatch.java |  8 +++-
 .../physical/impl/aggregate/HashAggTemplate.java   | 47 +++++++++++++++-------
 .../physical/impl/common/HashTableTemplate.java    | 13 +++---
 .../drill/exec/physical/impl/agg/TestHashAggr.java |  8 ++--
 4 files changed, 50 insertions(+), 26 deletions(-)

commit 4e817d115a0c86e6491b453d962be16aa7f7985e
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Mar 28 06:18:13 2014 -0700

    Update AggregateChecker to add errors to ErrorCollector instead of throwing Exceptions
    1. Tests pending

 .../expression/visitors/AggregateChecker.java      | 59 +++++++++++-----------
 .../expression/visitors/ExpressionValidator.java   |  2 +-
 2 files changed, 30 insertions(+), 31 deletions(-)

commit 356c2dba979c12c1768f8aa4f1b9f58a2327b598
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Thu Mar 27 14:34:48 2014 -0700

    DRILL-467: support multiple "and" join conditions in merge join operator.
    
    DRILL-467: Support multiple "and" join conditions in merge join operator.

 .../exec/physical/impl/join/MergeJoinBatch.java    | 278 +++++++++++----------
 .../impl/join/TestMergeJoinMulCondition.java       |  71 ++++++
 .../test/resources/join/mj_multi_condition.json    | 129 ++++++++++
 3 files changed, 347 insertions(+), 131 deletions(-)

commit 3651182141b963e24ee48db0530ec3d3b8b6841a
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sat Mar 29 12:16:22 2014 -0700

    DRILL-88: Implement HBase Storage Plugin

 contrib/storage-hbase/pom.xml                      |  92 +++++-
 .../drill/exec/store/hbase/HBaseGroupScan.java     | 202 +++++++++++++
 .../drill/exec/store/hbase/HBaseRecordReader.java  | 332 +++++++++++++++++++++
 .../exec/store/hbase/HBaseScanBatchCreator.java    |  52 ++++
 .../drill/exec/store/hbase/HBaseSchemaFactory.java |  98 ++++++
 .../drill/exec/store/hbase/HBaseStoragePlugin.java |  76 +++++
 .../exec/store/hbase/HBaseStoragePluginConfig.java |  75 +++++
 .../drill/exec/store/hbase/HBaseSubScan.java       | 160 ++++++++++
 .../drill/exec/store/hbase/HTableReadEntry.java    |  36 +++
 .../src/main/resources/drill-module.conf           |   3 +
 .../apache/drill/hbase/HBaseRecordReaderTest.java  | 137 +++++++++
 .../org/apache/drill/hbase/HBaseTestsSuite.java    |  86 ++++++
 .../org/apache/drill/hbase/TestTableGenerator.java |  99 ++++++
 .../src/test/resources/hbase-site.xml              | 143 +++++++++
 .../hbase/hbase_scan_screen_physical.json          |  28 ++
 .../hbase_scan_screen_physical_column_select.json  |  31 ++
 .../hbase_scan_screen_physical_family_select.json  |  31 ++
 .../storage-hbase/src/test/resources/logback.xml   |  54 ++++
 distribution/pom.xml                               |   5 +
 distribution/src/assemble/bin.xml                  |   2 +
 distribution/src/resources/drill-config.sh         |  14 +
 .../drill/exec/store/parquet/ParquetGroupScan.java |   2 +-
 22 files changed, 1755 insertions(+), 3 deletions(-)

commit f63f47f29a55d03f68130c3628cef4b50c917458
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Mar 26 19:16:06 2014 -0700

    DRILL-458: Use GenericAccessor for accessing RepeatedTypes in jdbc

 .../src/main/codegen/templates/TypeHelper.java     |  2 +-
 .../exec/vector/accessor/GenericAccessor.java      | 45 ++++++++++++++++++++++
 2 files changed, 46 insertions(+), 1 deletion(-)

commit 0b85baa3b9013849ccb6674c69e236f57797e98b
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Mar 18 13:25:29 2014 -0700

    DRILL-464: Fix for RepeatedValueVectors not loading correctly

 exec/java-exec/src/main/codegen/templates/RepeatedValueVectors.java | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit dafd53aac7273a60ae1c25f5ddda4be6c2726bec
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Mar 21 20:20:41 2014 -0700

    DRILL-433: Enhance QuerySubmitter to accept custom column width to be used while printing results.

 .../apache/drill/exec/client/QuerySubmitter.java   | 17 +++++++++++----
 .../org/apache/drill/exec/util/VectorUtil.java     | 24 ++++++++++++++--------
 2 files changed, 29 insertions(+), 12 deletions(-)

commit 3419e8cdcdd8508b8e4362af38d3042d62d90882
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Mar 27 14:47:49 2014 -0700

    DRILL-465: submit_plan does not parse query strings correctly from shell

 distribution/src/resources/submit_plan | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aee797202aa4dfcdc748d07229c7fa9feb4a355a
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri Feb 7 06:10:05 2014 -0800

    DRILL-386: Implement External Sort operator

 distribution/src/resources/runbit                  |   2 +-
 .../main/codegen/templates/FixedValueVectors.java  |  10 +-
 .../codegen/templates/NullableValueVectors.java    |  10 +-
 .../codegen/templates/RepeatedValueVectors.java    |  10 +-
 .../codegen/templates/VariableLengthVectors.java   |  10 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   6 +
 .../drill/exec/physical/config/ExternalSort.java   |  78 ++++
 .../drill/exec/physical/impl/ImplCreator.java      |   5 +
 .../drill/exec/physical/impl/TopN/TopNBatch.java   |  14 +-
 .../exec/physical/impl/sort/RecordBatchData.java   |  10 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   3 +-
 .../physical/impl/sort/SortRecordBatchBuilder.java |  23 +
 .../exec/physical/impl/sort/SortTemplate.java      |  11 +-
 .../impl/svremover/RemovingRecordBatch.java        |   2 +-
 .../exec/physical/impl/trace/TraceRecordBatch.java |  16 +-
 .../drill/exec/physical/impl/xsort/BatchGroup.java | 268 +++++++++++
 .../physical/impl/xsort/ExternalSortBatch.java     | 500 +++++++++++++++++++++
 .../impl/xsort/ExternalSortBatchCreator.java       |  39 ++
 .../exec/physical/impl/xsort/MSortTemplate.java    | 140 ++++++
 .../drill/exec/physical/impl/xsort/MSorter.java    |  33 ++
 .../physical/impl/xsort/PriorityQueueCopier.java   |  41 ++
 .../impl/xsort/PriorityQueueCopierTemplate.java    | 177 ++++++++
 .../physical/impl/xsort/PriorityQueueSelector.java |  36 ++
 .../impl/xsort/PriorityQueueSelectorTemplate.java  | 158 +++++++
 .../physical/impl/xsort/SingleBatchSorter.java     |  35 ++
 .../impl/xsort/SingleBatchSorterTemplate.java      |  67 +++
 .../exec/record/ExpandableHyperContainer.java      |   4 +
 .../apache/drill/exec/record/VectorContainer.java  |   5 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |   3 +
 .../org/apache/drill/exec/util/BatchPrinter.java   |   9 +-
 .../java/org/apache/drill/exec/util/Utilities.java |  41 ++
 .../org/apache/drill/exec/vector/BitVector.java    |   8 +
 .../org/apache/drill/exec/vector/ValueVector.java  |   2 +
 .../java-exec/src/main/resources/drill-module.conf |  14 +-
 .../java/org/apache/drill/TestExampleQueries.java  |   1 +
 .../impl/xsort/TestSimpleExternalSort.java         | 146 ++++++
 .../src/test/resources/drill-external-sort.conf    |  21 +
 .../src/test/resources/sort/one_key_sort.json      |   4 +-
 .../resources/xsort/one_key_sort_descending.json   |  48 ++
 39 files changed, 1967 insertions(+), 43 deletions(-)

commit df587a46fe1e55cd025ce586dc628788f34a2581
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Feb 3 19:42:53 2014 -0800

    DRILL-385: Implement Top-N sort operator

 distribution/src/assemble/bin.xml                  |   1 +
 distribution/src/resources/drill-override.conf     |   5 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   3 +-
 .../apache/drill/exec/physical/config/Sort.java    |   4 +-
 .../apache/drill/exec/physical/config/TopN.java    |  86 +++++
 .../exec/physical/impl/TopN/PriorityQueue.java     |  40 +++
 .../physical/impl/TopN/PriorityQueueTemplate.java  | 203 ++++++++++++
 .../drill/exec/physical/impl/TopN/TopNBatch.java   | 350 +++++++++++++++++++++
 .../physical/impl/TopN/TopNSortBatchCreator.java   |  41 +++
 .../exec/physical/impl/sort/SortTemplate.java      |   3 +
 .../physical/impl/svremover/CopierTemplate4.java   |   6 +-
 .../impl/svremover/RemovingRecordBatch.java        |  32 +-
 .../exec/record/ExpandableHyperContainer.java      |  58 ++++
 .../drill/exec/record/HyperVectorWrapper.java      |  11 +
 .../apache/drill/exec/record/SchemaBuilder.java    |   2 +-
 .../apache/drill/exec/record/VectorContainer.java  |   4 +-
 .../exec/record/selection/SelectionVector4.java    |   2 +-
 .../java-exec/src/main/resources/drill-module.conf |   5 +-
 .../exec/physical/impl/TopN/TestSimpleTopN.java    | 116 +++++++
 .../src/test/resources/topN/one_key_sort.json      |  53 ++++
 .../src/test/resources/topN/two_key_sort.json      |  55 ++++
 21 files changed, 1050 insertions(+), 30 deletions(-)

commit f632921489e3099ba898c6fb2e9019b0d3aea8f4
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Wed Mar 26 16:14:59 2014 -0700

    Drill-449: Catch parsing error thrown by Antlr parser, when expression has error, and stop the execution immediately.
    
    DRILL-449: minor change to test case.

 .../org/apache/drill/common/expression/parser/ExprParser.g    |  9 ++++++++-
 .../test/java/org/apache/drill/exec/expr/ExpressionTest.java  | 11 +++++++++++
 pom.xml                                                       |  1 +
 3 files changed, 20 insertions(+), 1 deletion(-)

commit 7658f55ae0b889a4f8bc1c1fc9fb44dd7032330e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Mar 26 23:50:07 2014 -0700

    Add TPC-H sample data to distribution tarball.

 distribution/pom.xml              | 5 +++++
 distribution/src/assemble/bin.xml | 1 +
 2 files changed, 6 insertions(+)

commit 7dc3f724000947abf0618c8e13e8903fef3ac967
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Mar 25 13:04:39 2014 -0700

    DRILL-444: Support using (NOT) LIKE and (NOT) SIMILAR TO in SQL queries

 .../drill/exec/expr/fn/impl/StringFunctions.java   |  9 +------
 .../drill/exec/planner/logical/DrillOptiq.java     | 29 ++++++++++++++++------
 .../org/apache/drill/jdbc/test/JdbcAssert.java     | 11 +++++---
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 25 +++++++++++++++++--
 4 files changed, 52 insertions(+), 22 deletions(-)

commit a43db154f6e9b3efc84a546dd01cbdc9c19f27a1
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Mar 24 15:20:09 2014 -0700

    DRILL-431: MapR profile - unit tests try to use localhost as the MapR cluster
    
    This was caused by incorrect configuration key: "fs.name.default", but should be "fs.default.name"
    
    Replaced all occurrences of both with variable FileSystem.FS_DEFAULT_NAME_KEY
    
    also updated hadoo-core version number for mapr profile

 .../apache/drill/exec/physical/impl/trace/TraceRecordBatch.java  | 2 +-
 .../java/org/apache/drill/exec/store/dfs/FileSystemPlugin.java   | 3 ++-
 .../org/apache/drill/exec/work/batch/SpoolingRawBatchBuffer.java | 3 +--
 .../test/java/org/apache/drill/exec/cache/TestWriteToDisk.java   | 2 +-
 .../src/test/java/org/apache/drill/exec/client/DumpCatTest.java  | 2 +-
 .../drill/exec/physical/impl/trace/TestTraceOutputDump.java      | 2 +-
 .../org/apache/drill/exec/store/hive/HiveTestDataGenerator.java  | 3 ++-
 .../org/apache/drill/exec/store/parquet/TestFileGenerator.java   | 2 +-
 .../src/test/java/org/apache/drill/exec/work/batch/FileTest.java | 2 +-
 pom.xml                                                          | 9 ++-------
 10 files changed, 13 insertions(+), 17 deletions(-)

commit 1e25c0d287b8ca55d7ae3242b638659c68d115da
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Mar 25 01:11:01 2014 -0700

    DRILL-445: Enable FMPP maven plugin execution with eclipse

 exec/java-exec/pom.xml | 53 +++++++++++++++++++++++++++++++++++++++++++++++++-
 pom.xml                | 14 -------------
 2 files changed, 52 insertions(+), 15 deletions(-)

commit 741aab0951b3c9f54e6792fba160802140023897
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Mar 25 15:55:23 2014 -0700

    DRILL-451: Throw runtime exception when json reader encounters parse exception

 .../java/org/apache/drill/exec/store/easy/json/JSONRecordReader.java     | 1 +
 1 file changed, 1 insertion(+)

commit 6572f7c3710da15a500df813a018d2ce776107e4
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Mar 26 23:20:56 2014 -0700

    Add git.properties to build for reference purposes.

 .gitignore                                         |  1 +
 distribution/pom.xml                               |  1 +
 distribution/src/assemble/bin.xml                  |  4 ++++
 .../drill/exec/store/hive/HiveRecordReader.java    |  3 +--
 pom.xml                                            | 28 ++++++++++++++++++++++
 sqlparser/pom.xml                                  |  1 +
 6 files changed, 36 insertions(+), 2 deletions(-)

commit 0e7c6e7cb3979904ee2117a04d943470d46eab7a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Mar 26 22:45:59 2014 -0700

    More memory fixes

 .../src/main/codegen/templates/FixedValueVectors.java  |  8 ++++----
 .../main/codegen/templates/NullableValueVectors.java   |  9 +++++----
 .../main/codegen/templates/RepeatedValueVectors.java   |  9 ++++-----
 .../main/codegen/templates/VariableLengthVectors.java  |  5 +++--
 .../drill/exec/physical/impl/SendingAccountor.java     |  2 +-
 .../org/apache/drill/exec/rpc/OutboundRpcMessage.java  | 18 +++++++++++++++---
 .../drill/exec/store/ischema/RowRecordReader.java      |  2 +-
 .../apache/drill/exec/store/mock/MockRecordReader.java |  5 ++---
 .../java/org/apache/drill/exec/vector/BitVector.java   |  5 +++--
 .../java/org/apache/drill/exec/vector/ValueVector.java |  2 +-
 .../org/apache/drill/exec/record/vector/TestLoad.java  |  3 +--
 .../java/org/apache/drill/exec/server/TestBitRpc.java  |  3 +--
 .../java/org/apache/drill/jdbc/test/TestJdbcQuery.java |  8 ++++----
 13 files changed, 45 insertions(+), 34 deletions(-)

commit 5d098b27394430ef81e815a241f9757118d1836e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Mar 25 16:29:20 2014 -0700

    Fix ScreenCreator so that it captures memory leak failure before returning successful result.  Fix memory bugs found by fixing memory leak detection error.

 .../src/main/codegen/templates/CastFunctionsTargetVarLen.java |  2 +-
 .../src/main/codegen/templates/RepeatedValueVectors.java      |  6 +++---
 .../org/apache/drill/exec/physical/impl/ScreenCreator.java    |  7 +++++++
 .../drill/exec/physical/impl/aggregate/StreamingAggBatch.java |  3 ++-
 .../org/apache/drill/exec/physical/impl/join/JoinStatus.java  | 11 +++++++++++
 .../apache/drill/exec/physical/impl/join/MergeJoinBatch.java  |  2 ++
 .../org/apache/drill/exec/store/mock/MockRecordReader.java    |  2 +-
 .../org/apache/drill/exec/physical/impl/agg/TestHashAggr.java |  3 ++-
 8 files changed, 29 insertions(+), 7 deletions(-)

commit 129cd775ad8e28e2c6629e774ce2f2049f173557
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Mar 18 10:48:45 2014 -0700

    - Add TPC-H Data as test dependency (automatically downloads from s3 on first execution)
    - Update avg function to divide using double instead of integers
    - Update classpath file system to return correct size information (to allow cp use of Parquet files)
    - Enhance BaseTestQuery to support all query types (sql, physical logical) and execution from file
    - Add TPC-H queries updated to use TPC-H test data (disabled)
    - Update field name matching to be case insensitive.
    - Treat CHAR literals like VARCHAR in Optiq
    - Add clear as part of VectorUtil
    - Add hash aggregation physical plan executions using tpch data.

 .../drill/common/expression/PathSegment.java       |   4 +-
 contrib/data/pom.xml                               |  37 +++++
 contrib/data/tpch-sample-data/bin/pom.xml          | 131 +++++++++++++++++
 contrib/data/tpch-sample-data/pom.xml              |  64 +++++++++
 contrib/pom.xml                                    |   1 +
 exec/java-exec/pom.xml                             |   8 +-
 .../main/codegen/templates/AggrTypeFunctions2.java |   2 +-
 .../apache/drill/exec/client/QuerySubmitter.java   |   1 +
 .../exec/physical/impl/join/MergeJoinBatch.java    |   5 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |   7 +-
 .../drill/exec/record/MaterializedField.java       |   2 +-
 .../drill/exec/store/ClassPathFileSystem.java      |   6 +-
 .../org/apache/drill/exec/util/VectorUtil.java     |  16 ++-
 .../test/java/org/apache/drill/BaseTestQuery.java  |  93 ++++++++++++
 .../java/org/apache/drill/TestExampleQueries.java  |  19 +--
 .../java/org/apache/drill/TestTpchQueries.java     | 156 +++++++++++++++++++++
 .../drill/exec/physical/impl/agg/TestHashAggr.java |  65 ++++-----
 .../src/test/resources/agg/hashagg/q6.json         |  63 +++++++++
 .../src/test/resources/agg/hashagg/q7_1.json       |  57 ++++++++
 .../src/test/resources/agg/hashagg/q7_2.json       |  57 ++++++++
 .../src/test/resources/agg/hashagg/q8.json         |  53 +++++++
 .../src/test/resources/agg/hashagg/q8_1.json       |  73 ++++++++++
 .../java-exec/src/test/resources/queries/tpch.json |  54 +++++++
 .../src/test/resources/queries/tpch/01.sql         |  24 ++++
 .../src/test/resources/queries/tpch/02.sql         |  48 +++++++
 .../src/test/resources/queries/tpch/03.sql         |  27 ++++
 .../src/test/resources/queries/tpch/04.sql         |  24 ++++
 .../src/test/resources/queries/tpch/05.sql         |  28 ++++
 .../src/test/resources/queries/tpch/06.sql         |  12 ++
 .../src/test/resources/queries/tpch/07.sql         |  40 ++++++
 .../src/test/resources/queries/tpch/08.sql         |  38 +++++
 .../src/test/resources/queries/tpch/09.sql         |  33 +++++
 .../src/test/resources/queries/tpch/10.sql         |  33 +++++
 .../src/test/resources/queries/tpch/11.sql         |  28 ++++
 .../src/test/resources/queries/tpch/12.sql         |  29 ++++
 .../src/test/resources/queries/tpch/13.sql         |  22 +++
 .../src/test/resources/queries/tpch/14.sql         |  14 ++
 .../src/test/resources/queries/tpch/15.sql         |  34 +++++
 .../src/test/resources/queries/tpch/16.sql         |  31 ++++
 .../src/test/resources/queries/tpch/17.sql         |  18 +++
 .../src/test/resources/queries/tpch/18.sql         |  34 +++++
 .../src/test/resources/queries/tpch/19.sql         |  36 +++++
 .../src/test/resources/queries/tpch/20.sql         |  38 +++++
 .../src/test/resources/queries/tpch/21.sql         |  41 ++++++
 .../src/test/resources/queries/tpch/22.sql         |  38 +++++
 pom.xml                                            |   1 +
 46 files changed, 1579 insertions(+), 66 deletions(-)

commit 721e7c25759eda2f12b17e15e4ca32ab16ec1e1c
Author: Bhallamudi Venkata Siva Kamesh <kamesh.hadoop@gmail.com>
Date:   Tue Mar 25 11:04:07 2014 -0700

    DRILL-446 Fix Json Array parsing

 .../exec/store/easy/json/JSONRecordReader.java     |  4 ++-
 .../exec/store/json/JSONRecordReaderTest.java      | 29 ++++++++++++++++++++++
 .../src/test/resources/scan_json_test_7.json       | 10 ++++++++
 3 files changed, 42 insertions(+), 1 deletion(-)

commit 30ce7d710a1bb876a272fd454ff286b5909ff717
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Mar 22 11:50:31 2014 -0700

    DRILL-429: Remove extraneous casts.
    
    Change cast from a function call to a new, separate type of expression.
    Add test to confirm functionality.

 .../drill/common/expression/CastExpression.java    | 65 +++++++++++++++++
 .../common/expression/ExpressionStringBuilder.java | 56 ++++++++++++++
 .../common/expression/FunctionCallFactory.java     | 12 +--
 .../expression/visitors/AbstractExprVisitor.java   |  6 ++
 .../expression/visitors/AggregateChecker.java      |  6 ++
 .../expression/visitors/ConstantChecker.java       |  6 ++
 .../common/expression/visitors/ExprVisitor.java    |  7 +-
 .../expression/visitors/ExpressionValidator.java   |  6 ++
 .../compile/sig/ConstantExpressionIdentifier.java  |  7 ++
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 24 +++++-
 .../exec/expr/ExpressionTreeMaterializer.java      | 85 +++++++++++++++++++++-
 .../drill/exec/planner/logical/DrillOptiq.java     | 32 ++++----
 .../apache/drill/exec/rpc/RpcExceptionHandler.java |  2 +-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |  1 -
 14 files changed, 280 insertions(+), 35 deletions(-)

commit 822cbb0692a99969c19305096a5ba4a948e120c8
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Fri Mar 21 16:39:42 2014 -0700

    DRILL-432: Can not run 'sqlline' on Windows with CYGWIN
    * Clean up and unify various shell scripts.

 distribution/src/resources/drill-config.sh | 135 ++++++++++++++++++++---------
 distribution/src/resources/runbit          |  29 +------
 distribution/src/resources/sqlline         |  50 ++---------
 distribution/src/resources/submit_plan     |  33 +------
 4 files changed, 105 insertions(+), 142 deletions(-)

commit 6804b525535c3cfe39d1319c9c7377595402f333
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Sat Mar 22 10:02:01 2014 -0700

    DRILL-411: Fix Optiq to Drill conversion of varchar literals.

 .../org/apache/drill/exec/planner/logical/DrillOptiq.java   |  5 +++--
 .../test/java/org/apache/drill/jdbc/test/TestJdbcQuery.java | 13 ++++++++++++-
 2 files changed, 15 insertions(+), 3 deletions(-)

commit 5a94bf1dacefb02350a5d49c4156db2183689b51
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Mar 19 18:57:26 2014 -0700

    DRILL-425 mock-sub-scan is not setting 'lastSet' in NullableVarCharVector or NullableVar16CharVector

 exec/java-exec/src/main/codegen/templates/NullableValueVectors.java | 1 +
 1 file changed, 1 insertion(+)

commit 8d725f695703a10c5ee045d1639e90dd3e4f2bfb
Author: Aman Sinha <asinha@maprtech.com>
Date:   Sat Mar 22 09:57:13 2014 -0700

    DRILL-335: Implement Hash Aggregation
    
    1. Implementation of the hash aggregation execution operator - this has two main parts: the HashAggTemplate and the HashAggBatch.
    2. Implementation of a hash table which is used by the hash aggregation.  The hash table hash two main parts: the HashTableTemplate and the ChainedHashTable. The hash table internally uses the notion of 'BatchHolder' to keep track of all keys that can fit within one batch of 64K values.  New BatchHolder objects are created as needed.  Each BatchHolder has its own vector container.  The HashAggregate also has a similar structure and it keeps track of the workspace variables.
     (NOTE: An initial design document for the hash aggregation and hash table was already attached with Drill-335.  The document has not yet been updated with the latest implementation ... will try to do that in the near future).
    3. Jinfeng's changes to use workspace vectors in the generated code for aggregate functions (previously, for streaming aggregate we only needed to maintain workspace variable for 1 running group; however for hash aggregate we need to maintain it for all groups).
    4. Fix for Drill-318: because of #3 above, the previous fix for Drill-318 is not valid anymore.  I modified the template generation code for the aggregate functions such that they conform to the new infrastructure.
    5. The original AggTemplate, AggBatch and Aggregator classes have been moved to corresponding StreamingAggTemplate, StreamingAggBatch and StreamingAggregator in order to differentiate it from hash aggregation.  These appear as new files but the code there has not changed.
    
    I have run several tests manually as part of TestHashAggr...these tests use TPC-H data and in particular a relatively large 'Orders' table.  However, I have not yet packaged the tests to run as part of JUnit since the location and size of the parquet files needs to be figured out. I will continue to work on that.

 exec/java-exec/src/main/codegen/config.fmpp        |   2 +
 .../java-exec/src/main/codegen/data/AggrTypes1.tdd |  64 +++
 .../java-exec/src/main/codegen/data/AggrTypes2.tdd |  31 ++
 .../main/codegen/templates/AggrTypeFunctions1.java | 152 +++++
 .../main/codegen/templates/AggrTypeFunctions2.java | 106 ++++
 .../src/main/codegen/templates/TypeHelper.java     |  62 +++
 .../drill/exec/compile/sig/GeneratorMapping.java   |   2 +-
 .../apache/drill/exec/compile/sig/MappingSet.java  |  85 +--
 .../org/apache/drill/exec/expr/ClassGenerator.java |  31 +-
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     | 138 ++++-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java | 110 ++--
 .../drill/exec/expr/fn/FunctionConverter.java      |  21 +-
 ...onHelper.java => FunctionGenerationHelper.java} |  59 +-
 .../exec/expr/fn/agg/impl/CountFunctions.java      |  86 ---
 .../drill/exec/expr/fn/agg/impl/SumFunctions.java  |  86 ---
 .../org/apache/drill/exec/ops/FragmentContext.java |   2 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |   4 +-
 .../apache/drill/exec/physical/OperatorCost.java   |   8 +
 .../physical/base/AbstractPhysicalVisitor.java     |   5 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   1 +
 .../drill/exec/physical/config/HashAggregate.java  | 119 ++++
 .../exec/physical/impl/aggregate/HashAggBatch.java | 278 ++++++++++
 .../impl/aggregate/HashAggBatchCreator.java        |  41 ++
 .../physical/impl/aggregate/HashAggTemplate.java   | 417 ++++++++++++++
 .../physical/impl/aggregate/HashAggregator.java    |  59 ++
 .../{AggBatch.java => StreamingAggBatch.java}      |  91 ++-
 ...hCreator.java => StreamingAggBatchCreator.java} |   6 +-
 ...{AggTemplate.java => StreamingAggTemplate.java} |   5 +-
 .../{Aggregator.java => StreamingAggregator.java}  |  11 +-
 .../physical/impl/common/ChainedHashTable.java     | 280 ++++++++++
 .../drill/exec/physical/impl/common/HashTable.java |  63 +++
 .../exec/physical/impl/common/HashTableConfig.java |  62 +++
 .../physical/impl/common/HashTableTemplate.java    | 616 +++++++++++++++++++++
 .../exec/physical/impl/join/MergeJoinBatch.java    |   6 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |   4 +-
 .../OrderedPartitionRecordBatch.java               |   4 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   2 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   4 +-
 .../org/apache/drill/exec/expr/ExpressionTest.java |   2 +-
 .../drill/exec/physical/impl/SimpleRootExec.java   |   4 +
 .../exec/physical/impl/TestSimpleFunctions.java    |  11 +-
 .../drill/exec/physical/impl/agg/TestHashAggr.java |  61 ++
 .../exec/physical/impl/common/TestHashTable.java   |  97 ++++
 .../src/test/resources/common/test_hashtable1.json |  40 ++
 44 files changed, 2975 insertions(+), 363 deletions(-)

commit 693bd35391b9106df4f2795bdf0ee5a73adb27af
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Mar 22 09:02:04 2014 -0700

    Small updates to Hive UDF: fixes for aggregate and constant checker to add errors to error collector.  Register hive udfs without descriptions using fully qualified name with underscores instead of periods.

 .../common/expression/ErrorCollectorImpl.java      |  1 +
 .../common/expression/ExpressionFunction.java      |  1 +
 .../expression/visitors/ConstantChecker.java       | 68 ++++++++++++----------
 .../{ => visitors}/ExpressionValidationError.java  |  2 +-
 .../ExpressionValidationException.java             |  2 +-
 .../{ => visitors}/ExpressionValidator.java        | 53 +++++++++++------
 .../org/apache/drill/common/util/PathScanner.java  |  1 +
 .../exec/expr/ExpressionTreeMaterializer.java      |  2 +-
 .../fn/DrillFunctionImplementationRegistry.java    |  3 +-
 .../fn/HiveFunctionImplementationRegistry.java     | 32 +++++-----
 10 files changed, 94 insertions(+), 71 deletions(-)

commit f8fbb5d42a783dcb8e86a7cda1e5bc5b539c7941
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Tue Mar 18 16:26:16 2014 -0700

    DRILL-387: Support using Hive simple UDFs in Drill
    * As part of this change FunctionDefinition (and related code)
    * are deleted, instead the same information available in
    * Function Holders are used whenever required
    * Freemarker/CodeModel codegen for Drill ObjectInspectors
    * Comparator function cleanup

 .../drill/common/expression/parser/ExprParser.g    |  30 ++-
 .../org/apache/drill/common/expression/Arg.java    |  93 --------
 .../drill/common/expression/ArgumentValidator.java |  28 ---
 .../common/expression/ArgumentValidators.java      | 181 --------------
 .../common/expression/BasicArgumentValidator.java  |  62 -----
 .../drill/common/expression/CallProvider.java      |  22 --
 .../common/expression/ExpressionStringBuilder.java |  38 +--
 .../common/expression/ExpressionValidator.java     |  16 +-
 .../drill/common/expression/FunctionCall.java      |  19 +-
 .../common/expression/FunctionCallFactory.java     | 117 ++++++++++
 .../common/expression/FunctionDefinition.java      | 120 ----------
 .../expression/FunctionHolderExpression.java       |  70 ++++++
 .../drill/common/expression/FunctionRegistry.java  | 122 ----------
 .../drill/common/expression/LogicalExpression.java |   2 -
 .../drill/common/expression/NoArgValidator.java    |  38 ---
 .../common/expression/fn/AggregationFunctions.java |  35 ---
 .../common/expression/fn/BooleanFunctions.java     |  48 ----
 .../common/expression/fn/CastFunctionDefs.java     |  72 ------
 .../{StringFunctions.java => CastFunctions.java}   |  38 +--
 .../drill/common/expression/fn/MathFunctions.java  |  46 ----
 .../drill/common/expression/fn/TypeFunctions.java  |  35 ---
 .../drill/common/expression/fn/UnaryFunctions.java |  39 ----
 .../expression/visitors/AbstractExprVisitor.java   |   8 +-
 .../expression/visitors/AggregateChecker.java      |  18 +-
 .../expression/visitors/ConstantChecker.java       |  16 +-
 .../common/expression/visitors/ExprVisitor.java    |  18 +-
 .../expression/visitors/SimpleExprVisitor.java     |   7 +
 .../drill/common/expression/parser/TreeTest.java   |   3 -
 .../src/main/resources/drill-module.conf           |   5 +
 exec/java-exec/src/main/codegen/config.fmpp        |   1 +
 exec/java-exec/src/main/codegen/data/HiveTypes.tdd |  92 ++++++++
 .../codegen/templates/ComparisonFunctions.java     |  12 +-
 .../src/main/codegen/templates/MathFunctions.java  |  39 ----
 .../codegen/templates/ObjectInspectorHelper.java   | 182 +++++++++++++++
 .../main/codegen/templates/ObjectInspectors.java   |  93 ++++++++
 .../compile/sig/ConstantExpressionIdentifier.java  |   8 +-
 .../drill/exec/expr/DrillFuncHolderExpr.java       |  69 ++++++
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  67 ++++--
 .../exec/expr/ExpressionTreeMaterializer.java      | 155 ++++++++++--
 .../apache/drill/exec/expr/HiveFuncHolderExpr.java |  69 ++++++
 .../drill/exec/expr/ImplicitCastBuilder.java       | 168 -------------
 .../exec/expr/annotations/FunctionTemplate.java    |  18 +-
 .../exec/expr/fn/ComparatorFunctionHelper.java     |  59 +++++
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |  13 +-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  70 ++++--
 .../fn/DrillFunctionImplementationRegistry.java    |  54 +++++
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |  10 +-
 .../drill/exec/expr/fn/FunctionConverter.java      |  21 +-
 .../expr/fn/FunctionImplementationRegistry.java    |  77 +-----
 .../apache/drill/exec/expr/fn/HiveFuncHolder.java  | 260 +++++++++++++++++++++
 .../fn/HiveFunctionImplementationRegistry.java     | 154 ++++++++++++
 .../apache/drill/exec/expr/fn/impl/Alternator.java |  24 +-
 .../drill/exec/expr/fn/impl/BitFunctions.java      |   6 +-
 .../drill/exec/expr/fn/impl/ByteSubstring.java     |  25 +-
 .../drill/exec/expr/fn/impl/CharSubstring.java     |  26 +--
 .../exec/expr/fn/impl/ComparatorFunctions.java     |  54 -----
 .../expr/fn/impl/ComparisonFunctionsNullable.java  |  25 +-
 .../drill/exec/expr/fn/impl/HashFunctions.java     |  16 --
 .../apache/drill/exec/expr/fn/impl/IsNotNull.java  |  21 +-
 .../org/apache/drill/exec/expr/fn/impl/IsNull.java |  21 +-
 .../drill/exec/expr/fn/impl/MathFunctions.java     |   5 +-
 .../exec/expr/fn/impl/SimpleRepeatedFunctions.java |  30 ---
 .../drill/exec/expr/fn/impl/StringFunctions.java   |  82 +------
 .../hive/AbstractPrimitiveObjectInspector.java     |  70 ++++++
 .../expr/fn/impl/hive/DrillDeferredObject.java     |  24 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |   5 -
 .../exec/physical/impl/aggregate/AggBatch.java     |  12 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  15 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |  10 +-
 .../OrderedPartitionRecordBatch.java               |  12 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |  10 +-
 .../exec/planner/logical/DrillAggregateRel.java    |   3 +-
 .../drill/exec/planner/logical/DrillOptiq.java     |  10 +-
 .../exec/planner/logical/DrillParseContext.java    |  14 +-
 .../drill/exec/planner/sql/DrillSqlWorker.java     |   7 +-
 .../apache/drill/exec/server/DrillbitContext.java  |   7 -
 .../apache/drill/exec/work/foreman/Foreman.java    |   2 +-
 .../org/apache/drill/exec/expr/ExpressionTest.java |   2 -
 .../drill/exec/fn/impl/GeneratorFunctions.java     |  36 +--
 .../drill/exec/physical/impl/TestHiveUDFs.java     | 213 +++++++++++++++++
 .../exec/physical/impl/TestSimpleFunctions.java    |   7 +-
 .../record/ExpressionTreeMaterializerTest.java     |  27 +--
 .../test/resources/functions/hive/GenericUDF.json  |  45 ++++
 .../src/test/resources/functions/hive/UDF.json     |  39 ++++
 84 files changed, 2105 insertions(+), 1837 deletions(-)

commit 2ce675679da6fbfd812f41c069106477c5c30f24
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Mar 18 08:34:01 2014 -0700

    Update join test to use in tree paths.

 common/src/main/java/org/apache/drill/common/util/TestTools.java   | 7 ++++++-
 .../src/test/java/org/apache/drill/TestExampleQueries.java         | 7 ++++---
 2 files changed, 10 insertions(+), 4 deletions(-)

commit 7f660ae16fad36b76cf5b80e8774359fb0f11551
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Mar 18 08:27:49 2014 -0700

    fix drill trace to point to /tmp so that Travis doesn't fail.

 exec/java-exec/src/main/resources/drill-module.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2413407281457ccfb5cab54836327ac496e25026
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon Mar 17 22:02:19 2014 -0700

    Drill-379: support part of string and math functions

 .../drill/common/expression/fn/MathFunctions.java  |   4 +-
 exec/java-exec/src/main/codegen/config.fmpp        |   1 +
 exec/java-exec/src/main/codegen/data/MathFunc.tdd  | 140 ++++
 .../src/main/codegen/templates/MathFunctions.java  | 138 ++++
 .../drill/exec/expr/fn/impl/CharSubstring.java     |   4 +-
 .../drill/exec/expr/fn/impl/MathFunctions.java     |  29 +-
 .../apache/drill/exec/expr/fn/impl/RegexpUtil.java | 324 ++++++++
 .../exec/expr/fn/impl/StringFunctionUtil.java      |  85 ++
 .../drill/exec/expr/fn/impl/StringFunctions.java   | 865 +++++++++++++++++++++
 .../exec/physical/impl/TestSimpleFunctions.java    |   3 +-
 .../exec/physical/impl/TestStringFunctions.java    | 246 ++++++
 .../resources/functions/string/testCharLength.json |  46 ++
 .../resources/functions/string/testConcat.json     |  38 +
 .../test/resources/functions/string/testLeft.json  |  41 +
 .../test/resources/functions/string/testLike.json  |  38 +
 .../test/resources/functions/string/testLower.json |  37 +
 .../test/resources/functions/string/testLpad.json  |  45 ++
 .../test/resources/functions/string/testLtrim.json |  40 +
 .../resources/functions/string/testPosition.json   |  42 +
 .../functions/string/testRegexpReplace.json        |  38 +
 .../resources/functions/string/testReplace.json    |  40 +
 .../test/resources/functions/string/testRight.json |  41 +
 .../test/resources/functions/string/testRpad.json  |  45 ++
 .../test/resources/functions/string/testRtrim.json |  40 +
 .../resources/functions/string/testSimilar.json    |  38 +
 .../resources/functions/string/testSubstr.json     |  42 +
 .../test/resources/functions/string/testUpper.json |  37 +
 pom.xml                                            |   2 +-
 28 files changed, 2483 insertions(+), 6 deletions(-)

commit a4199dde428be0dfb7da990332e693e59a9cd13e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Mar 17 21:29:42 2014 -0700

    Join rel > logical conversion fixes

 .../physical/impl/project/ProjectRecordBatch.java  |  10 +-
 .../exec/planner/logical/DrillImplementor.java     |   3 +-
 .../drill/exec/planner/logical/DrillJoinRel.java   |   2 +-
 .../drill/exec/planner/logical/DrillTable.java     |  37 ++++++++
 .../exec/planner/logical/DynamicDrillTable.java    |   4 +-
 .../exec/planner/logical/RelDataTypeDrillImpl.java |  92 +++---------------
 .../exec/planner/logical/RelDataTypeHolder.java    |  85 +++++++++++++++++
 .../java/org/apache/drill/TestExampleQueries.java  |  24 ++++-
 .../apache/drill/exec/record/vector/TestLoad.java  | 105 ++++++++++-----------
 9 files changed, 222 insertions(+), 140 deletions(-)

commit 7ad6de699303f5ba60f0d4e4034b8bbd7edd15c4
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Mon Mar 17 09:12:19 2014 -0700

    Drill-418: Fixes for Parquet nullable reader bug.

 .../apache/drill/exec/store/parquet/ColumnReader.java   |  2 +-
 .../drill/exec/store/parquet/NullableColumnReader.java  |  4 ++--
 .../exec/store/parquet/ParquetRecordReaderTest.java     | 17 ++++++++++++-----
 .../drill/exec/store/parquet/TestFileGenerator.java     | 12 ++++++++++++
 pom.xml                                                 |  4 ++--
 5 files changed, 29 insertions(+), 10 deletions(-)

commit e753ade1bb1122b55ddf68d7a5abf708978d7831
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Mar 17 09:11:12 2014 -0700

    DRILL-417: Bug fixes in repeated vector offsets

 .../codegen/templates/NullableValueVectors.java    | 61 ++++++++++++++++++++--
 1 file changed, 57 insertions(+), 4 deletions(-)

commit 11f30a084954fda5d0f82570468c5a1056402137
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Mar 17 09:09:59 2014 -0700

    DRILL-406: Move JSON integer range to use BigInt instead of Int

 .../exec/schema/json/jackson/JacksonHelper.java    |  8 +--
 .../exec/store/easy/json/JSONRecordReader.java     | 25 +++----
 .../exec/store/json/JSONRecordReaderTest.java      | 76 +++++++++++-----------
 3 files changed, 50 insertions(+), 59 deletions(-)

commit db00e9767360972ff1e9196fb2755963109b91fc
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Mar 17 09:08:24 2014 -0700

    DRILL-413: Parse issue in QuerySubmitter

 .../src/main/java/org/apache/drill/exec/client/QuerySubmitter.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8cc75bf56378754c6fb02e1c301d3e60823af929
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon Mar 17 09:03:14 2014 -0700

    DRILL-346: Move constant expressions to setup.

 .../common/expression/FunctionDefinition.java      | 17 ++++-
 .../compile/sig/ConstantExpressionIdentifier.java  |  6 +-
 .../drill/exec/compile/sig/GeneratorMapping.java   |  8 +++
 .../apache/drill/exec/compile/sig/MappingSet.java  | 20 ++++--
 .../org/apache/drill/exec/expr/ClassGenerator.java | 15 +++-
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 81 ++++++++++++++++------
 .../apache/drill/exec/expr/annotations/Param.java  |  1 +
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     | 10 +--
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java | 21 ++++--
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  | 19 +++--
 .../drill/exec/expr/fn/FunctionConverter.java      |  3 +
 .../apache/drill/exec/expr/fn/impl/Alternator.java |  4 +-
 .../exec/physical/impl/aggregate/AggBatch.java     | 52 +++++++-------
 .../exec/physical/impl/join/MergeJoinBatch.java    | 37 +++++-----
 .../MergingReceiverGeneratorBase.java              |  4 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |  4 +-
 .../OrderedPartitionRecordBatch.java               |  8 +--
 .../drill/exec/physical/impl/sort/SortBatch.java   | 15 ++--
 .../drill/exec/fn/impl/GeneratorFunctions.java     |  6 +-
 19 files changed, 218 insertions(+), 113 deletions(-)

commit d3c01968ec0afd5d188f23becefaec456d59b168
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Mon Mar 17 09:01:21 2014 -0700

    DRILL-326: Fixes for merge join allocations

 .../drill/exec/physical/impl/join/JoinStatus.java  |  4 +
 .../exec/physical/impl/join/JoinTemplate.java      | 15 ++--
 .../exec/physical/impl/join/MergeJoinBatch.java    | 10 ++-
 .../validate/IteratorValidatorBatchIterator.java   |  4 +
 .../org/apache/drill/exec/record/RecordBatch.java  |  3 +
 .../exec/physical/impl/join/TestMergeJoin.java     | 26 +++++++
 .../src/test/resources/join/join_batchsize.json    | 88 ++++++++++++++++++++++
 7 files changed, 142 insertions(+), 8 deletions(-)

commit e64a68258f08cfa901360c39ebbf256791ecbb6c
Author: pwong-mapr <pwong@maprtech.com>
Date:   Wed Mar 12 17:56:46 2014 -0700

    DRILL-414: Update root pom.xml so that mapr dependency excludes commons-logging.

 pom.xml | 6 ++++++
 1 file changed, 6 insertions(+)

commit 2d10afd4b1499b84084123eda1e85e59602ac475
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Mar 11 14:33:57 2014 -0700

    Fix group by, removing aggregate and segment remnants.  Add new simple test queries to make sure parsing isn't broken in future.
    Fix binary tree so that more than 2 binary arguments are correctly translated from RexNode.
    Update binary function lookup to use lowercase.

 .../common/logical/data/CollapsingAggregate.java   | 73 --------------------
 .../apache/drill/common/logical/data/Segment.java  | 62 -----------------
 .../data/visitors/AbstractLogicalVisitor.java      | 10 ---
 .../logical/data/visitors/LogicalVisitor.java      |  4 --
 exec/java-exec/pom.xml                             |  6 ++
 .../apache/drill/exec/client/QuerySubmitter.java   |  4 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  | 54 +++++----------
 .../drill/exec/planner/logical/DrillOptiq.java     | 15 ++++-
 .../java/org/apache/drill/TestExampleQueries.java  | 51 ++++++++++++++
 .../src/test/resources/storage-engines.json        |  4 ++
 pom.xml                                            |  2 +-
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  | 77 +++++++++++-----------
 12 files changed, 132 insertions(+), 230 deletions(-)

commit 481460846a5c22d9c9899f5d93d443190c40061c
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Mar 7 10:22:11 2014 -0800

    DRILL-398: Fix build/packaging issues with storage-hive jars
    1. Remove hive-exec dependencies from root pom.xml and move hive-hbase dependency to contrib/storage-hive/pom.xml. Idea is to download all required hive dependencies through storage-hive artifact.
    2. In distribution/pom.xml exclude hive-exec jar from storage-hive dependency. Storage-hive jar already contains the shaded hive-exec.
    3. In contrib/storage-hive/pom.xml add a target to unpack the classes in storage-hive.jar into contrib/storage-hive/target/classes directory. Unpacking is needed because when you run 'mvn test' from root directory, dependencies within the project (such as protocol or storage-hive) are resolved to target/classes directory instead of jar. This is by design in Maven. If we don't unpack, we get class not found errors for classes in storage-hive.jar while running tests only.

 contrib/storage-hive/pom.xml | 43 ++++++++++++++++++++++++++++++++++++++-
 distribution/pom.xml         |  7 ++++++-
 pom.xml                      | 48 --------------------------------------------
 3 files changed, 48 insertions(+), 50 deletions(-)

commit 17ea5432c35ba8dc6858b940fbe349955ecb74c6
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Mar 11 08:43:00 2014 -0700

    Update Hive test data generator so that it won't fail on subsequent runs.

 .../exec/store/hive/HiveTestDataGenerator.java     | 22 +++++++++++++++++++---
 1 file changed, 19 insertions(+), 3 deletions(-)

commit 822bd9c2dd02724385e4140cc0ab2960e8902d39
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Tue Mar 11 08:27:53 2014 -0700

    Drill 342/238: Clean up Parquet tests.

 .../store/parquet/ParquetRecordReaderTest.java     |  23 +-
 .../store/parquet/ParquetRecordReaderTest2.java    | 742 ---------------------
 .../parquet_nullable.json}                         |  12 +-
 .../parquet_nullable_varlen.json}                  |  16 +-
 .../parquet_selective_column_read.json             |   0
 .../src/test/resources/parquet_nullable.json       |  41 --
 .../test/resources/parquet_nullable_varlen.json    |  41 --
 .../parquet_scan_union_screen_physical.json        |  35 -
 pom.xml                                            |   2 +
 9 files changed, 29 insertions(+), 883 deletions(-)

commit 2ed7a678b1caef67279a775d7e8b217e3e18041f
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Mar 11 08:26:13 2014 -0700

    DRILL-396: QuerySubmitter enhancements

 .../apache/drill/exec/client/QuerySubmitter.java   | 101 +++++++++++++++++----
 .../org/apache/drill/exec/util/VectorUtil.java     |  34 +++++++
 2 files changed, 116 insertions(+), 19 deletions(-)

commit 08a9a90d9f0d16d8baba6d54bc17d0508b2b7b7a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Mar 5 09:05:52 2014 -0800

    Build fixes for Hive Contrib for clean build

 contrib/storage-hive/pom.xml      | 4 ++--
 distribution/pom.xml              | 2 +-
 distribution/src/assemble/bin.xml | 2 +-
 exec/java-exec/pom.xml            | 2 +-
 4 files changed, 5 insertions(+), 5 deletions(-)

commit 4871fd0de300fb099152697239e4c9548b8ec5c0
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Mar 4 00:03:12 2014 -0800

    INSTALL.md and packaging fixes given recent merges.

 INSTALL.md                                         | 18 ++++++++-----
 distribution/pom.xml                               |  6 ++++-
 distribution/src/assemble/bin.xml                  | 13 +++++++++
 distribution/src/resources/storage-engines.json    |  5 +++-
 .../exec/store/ischema/InfoSchemaGroupScan.java    |  2 +-
 .../store/ischema/InfoSchemaStoragePlugin.java     |  5 ++--
 sqlline                                            | 31 ----------------------
 7 files changed, 37 insertions(+), 43 deletions(-)

commit cdfee72c63fa4a09231070d18c65e8ae59436939
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Feb 27 19:17:07 2014 -0800

    Change FileSelection variable name to selection (instead of file, which is not an accurate description)
    
    fix bug when selecting a parquet directory with _metadata file.
    
    handle case where parquet directory does not have _metadata file.

 .../drill/exec/store/dfs/BasicFormatMatcher.java   |  6 ++--
 .../apache/drill/exec/store/dfs/FormatMatcher.java |  2 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      |  3 +-
 .../exec/store/parquet/ParquetFormatPlugin.java    | 35 +++++++++++++++++-----
 .../exec/store/ischema/TestTableProvider.java      |  5 ++--
 5 files changed, 36 insertions(+), 15 deletions(-)

commit 68d2c38391deb35fc8022b1c6f9914e2bbca74a1
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Mar 2 18:29:27 2014 -0800

    Update hive to use generated data instead of packaged data. Remove unused test.

 .../exec/store/ischema/InfoSchemaBatchCreator.java | 17 ++++
 .../drill/exec/store/ischema/InfoSchemaConfig.java | 17 ++++
 .../exec/store/ischema/InfoSchemaDrillTable.java   | 17 ++++
 .../exec/store/ischema/InfoSchemaGroupScan.java    | 17 ++++
 .../store/ischema/InfoSchemaStoragePlugin.java     | 17 ++++
 .../exec/store/ischema/InfoSchemaSubScan.java      | 17 ++++
 .../drill/exec/store/ischema/SelectedTable.java    | 17 ++++
 .../apache/drill/exec/store/TestOrphanSchema.java  | 17 ++++
 .../exec/store/hive/HiveTestDataGenerator.java     | 97 ++++++++++++++++++++++
 .../apache/drill/exec/store/hive/TestHiveScan.java | 67 ---------------
 .../drill/exec/store/ischema/OrphanSchema.java     | 17 ++++
 .../src/test/resources/storage-engines.json        | 16 +---
 sqlparser/pom.xml                                  | 20 -----
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 15 +++-
 sqlparser/src/test/resources/storage-engines.json  |  2 +-
 15 files changed, 264 insertions(+), 106 deletions(-)

commit 0ca797a41a0fc7f36934c259b4c179f9713e9b8e
Author: John Morris <jmorris@maprtech.com>
Date:   Tue Feb 25 00:31:11 2014 -0800

    Implement storage plugin for INFORMATION_SCHEMA

 .../org/apache/drill/exec/ops/FragmentContext.java |   2 +-
 .../apache/drill/exec/record/SchemaBuilder.java    |   4 +-
 .../drill/exec/store/StoragePluginRegistry.java    |   9 +-
 .../drill/exec/store/ischema/EmptyVectorSet.java   | 240 +++++++++++++++++++++
 .../drill/exec/store/ischema/FixedTable.java       |  93 ++++++++
 .../exec/store/ischema/InfoSchemaBatchCreator.java |  21 ++
 .../drill/exec/store/ischema/InfoSchemaConfig.java |  18 ++
 .../exec/store/ischema/InfoSchemaDrillTable.java   |  23 ++
 .../exec/store/ischema/InfoSchemaGroupScan.java    |  67 ++++++
 .../store/ischema/InfoSchemaStoragePlugin.java     |  74 +++++++
 .../exec/store/ischema/InfoSchemaSubScan.java      |  24 +++
 .../drill/exec/store/ischema/InfoSchemaTable.java  | 151 +++++++++++++
 .../drill/exec/store/ischema/OptiqProvider.java    | 234 ++++++++++++++++++++
 .../drill/exec/store/ischema/PipeProvider.java     |  80 +++++++
 .../drill/exec/store/ischema/RowProvider.java      |  27 +++
 .../drill/exec/store/ischema/RowRecordReader.java  | 136 ++++++++++++
 .../drill/exec/store/ischema/SelectedTable.java    |  44 ++++
 .../apache/drill/exec/store/ischema/VectorSet.java |  38 ++++
 .../drill/exec/store/ischema/package-info.java     |  21 ++
 .../drill/exec/store/ischema/OrphanSchema.java     |  75 +++++++
 .../drill/exec/store/ischema/TestOrphanSchema.java | 141 ++++++++++++
 .../exec/store/ischema/TestTableProvider.java      | 158 ++++++++++++++
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |   9 +
 23 files changed, 1684 insertions(+), 5 deletions(-)

commit ae041d07b351c6e8f744b28df083fa8556838ee6
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Feb 27 06:56:19 2014 -0800

    Add support for generating optiq planner independent schema plus root for information schema purposes.

 .../drill/exec/store/StoragePluginRegistry.java    | 155 +++++++++++++++++++++
 .../apache/drill/exec/store/TestOrphanSchema.java  |  58 ++++++++
 2 files changed, 213 insertions(+)

commit d90d5b165ee3bdb072a8101a3b0acfb8c930c935
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Feb 23 17:37:21 2014 -0800

    DRILL-366, DRILL-364: Small fixes due to merge issues

 .../exec/compile/sig/ConstantExpressionIdentifier.java     |  1 +
 .../apache/drill/exec/store/dfs/easy/EasyGroupScan.java    |  1 +
 .../apache/drill/exec/physical/impl/TestCastFunctions.java |  2 +-
 .../drill/exec/physical/impl/TestCastVarCharToBigInt.java  |  2 +-
 .../test/resources/functions/cast/testCastVarCharNull.json | 14 ++++----------
 .../functions/cast/test_cast_varchar_to_bigint.json        | 14 ++++----------
 6 files changed, 12 insertions(+), 22 deletions(-)

commit 7716c7e785116ebc6a77ef0342c1de9b4e73cffa
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Feb 13 00:37:38 2014 -0800

    DRILL-378: Initialize overLimit field in UnlimitedRawBatchBuffer
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../java/org/apache/drill/exec/work/batch/UnlimitedRawBatchBuffer.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7f7b6be21af3e2744b4ee867e5da4488f526037b
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Feb 13 00:36:59 2014 -0800

    DRILL-377: Use BufferedInputStream in SpoolingRawBatchBuffer to improve performance
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../java/org/apache/drill/exec/store/LocalSyncableFileSystem.java     | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ad3ac8063a8c857db02dfdb5ca68672752f4a7c8
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Feb 12 16:42:13 2014 -0800

    DRILL-376: Create separate DataTunnel for receiving fragment
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../main/java/org/apache/drill/exec/ops/FragmentContext.java   | 10 +++++-----
 .../drill/exec/physical/impl/TestHashToRandomExchange.java     |  2 +-
 exec/java-exec/src/test/resources/drill-module.conf            |  4 ++--
 exec/java-exec/src/test/resources/sender/hash_exchange.json    | 10 ++++++++++
 4 files changed, 18 insertions(+), 8 deletions(-)

commit 08bc16dbd4a6886fb9d6c103f45f67573e83a7ea
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Feb 11 15:04:13 2014 -0800

    DRILL-375: VarBinary hash function computing hash for entire buffer
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../src/main/java/org/apache/drill/exec/expr/fn/impl/HashFunctions.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b7f9e600fa31ac7b9365b31396730719b8334469
Author: Jason Altekruse <altekrusejason@gmial.com>
Date:   Sun Feb 9 13:43:42 2014 -0600

    DRILL-363: Custom null handling in hash functions
    
    Added custom null handling for hash functions, to override the privies NULL_IF_NULL handling. Added Integer and Float literals to the logical expression package and corresponding methods in the various visitor implementations. Also added new Hash functions for double and float values based on the doubleToLongBits and floatToIntBits methods in the corresponding boxed primitive classes together with the previously used murmur3_128 hash algorithm used for plain Ints and Longs.
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../common/expression/ExpressionValidator.java     |  10 ++
 .../drill/common/expression/ValueExpressions.java  |  63 ++++++++++
 .../expression/visitors/AbstractExprVisitor.java   |  12 ++
 .../expression/visitors/AggregateChecker.java      |  12 ++
 .../expression/visitors/ConstantChecker.java       |  12 ++
 .../common/expression/visitors/ExprVisitor.java    |   7 +-
 .../expression/visitors/SimpleExprVisitor.java     |  14 +++
 .../compile/sig/ConstantExpressionIdentifier.java  |  14 ++-
 .../exec/expr/ExpressionTreeMaterializer.java      |  10 ++
 .../drill/exec/expr/fn/impl/HashFunctions.java     | 128 +++++++++++++++++++--
 .../org/apache/drill/exec/expr/fn/impl/IsNull.java |   2 +-
 .../exec/resolver/ResolverTypePrecedence.java      |  56 ++++-----
 .../apache/drill/exec/resolver/TypeCastRules.java  |  30 +++--
 .../exec/physical/impl/TestSimpleFunctions.java    | 105 ++++++++++++++++-
 14 files changed, 426 insertions(+), 49 deletions(-)

commit 153c727a6d393203501f3cfed2535a0fb0601061
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Sun Feb 23 16:02:26 2014 -0800

    DRILL-364: Fix VarChar casting

 .../common/expression/OutputTypeDeterminer.java    | 20 ++++++
 .../common/expression/fn/CastFunctionDefs.java     | 14 ++--
 exec/java-exec/src/main/codegen/data/Casts.tdd     |  4 +-
 .../exec/physical/impl/TestCastFunctions.java      | 80 ++++++++++++++++++++--
 .../functions/cast/testCastVarCharNull.json        | 37 ++++++++++
 .../src/test/resources/jsoninput/input1.json       |  6 ++
 6 files changed, 148 insertions(+), 13 deletions(-)

commit ee9eaa13c31838be5e080e7915efbd25f0a1e310
Author: Mehant Baid <mehantr@gmail.com>
Date:   Tue Feb 11 20:07:20 2014 -0800

    DRILL-366: While casting VarChar to BigInt make sure the getByte() method is invoked with the appropriate byte offset.
    
    CastFunctionsSrcVarLen.java:
    Use in.start as starting index to invoke getBytes() instead of 0. We always end up with the same row when we use 0
    
    TestCastVarCharToBigInt.java, *.json
    Added a test case to read varchar and convert it to BigInt.
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../codegen/templates/CastFunctionsSrcVarLen.java  |  18 ++--
 .../physical/impl/TestCastVarCharToBigInt.java     | 101 +++++++++++++++++++++
 .../cast/test_cast_varchar_to_bigint.json          |  38 ++++++++
 .../src/test/resources/scan_json_test_cast.json    |   9 ++
 4 files changed, 157 insertions(+), 9 deletions(-)

commit ed9dec7c3f289e4f68466b989a500523f3d18b1e
Author: Mehant Baid <mehantr@gmail.com>
Date:   Fri Feb 7 22:54:06 2014 -0800

    DRILL-320: Rework math functions to use code generated using free marker.
    
    Contains implementation for basic functions: +, -, *, /
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 exec/java-exec/src/main/codegen/config.fmpp        |  3 +-
 .../src/main/codegen/data/MathFunctionTypes.tdd    | 72 ++++++++++++++++
 .../codegen/templates/MathFunctionTemplates.java   | 70 ++++++++++++++++
 .../drill/exec/expr/fn/impl/MathFunctions.java     | 59 -------------
 .../drill/exec/fn/impl/TestMathFunctions.java      | 96 ++++++++++++++++++++++
 .../resources/functions/simple_math_functions.json | 34 ++++++++
 6 files changed, 274 insertions(+), 60 deletions(-)

commit 8b90cae3fe3c5aa48b7d82147452fda043305bd4
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Feb 17 12:06:06 2014 -0800

    Integrate new SQL changes with Hive storage engine, moving to automatic file detection.  Rename storage engine to storage plugin. Separate storage plugins from format plugins, updating Parquet and JSON to format engines. Refactor distribution logic and enable use within JSON format and all EasyFormatPlugins.

 .gitignore                                         |   3 +
 INSTALL.md                                         |  10 +-
 common/pom.xml                                     |   7 -
 .../java/org/apache/drill/common/JSONOptions.java  |   6 +-
 .../drill/common/config/CommonConstants.java       |   2 +-
 .../apache/drill/common/config/DrillConfig.java    |   7 +-
 .../drill/common/logical/FormatPluginConfig.java   |  27 ++
 .../common/logical/FormatPluginConfigBase.java     |  41 ++
 .../apache/drill/common/logical/LogicalPlan.java   |  10 +-
 .../drill/common/logical/LogicalPlanBuilder.java   |   4 +-
 ...eEngineConfig.java => StoragePluginConfig.java} |   2 +-
 ...onfigBase.java => StoragePluginConfigBase.java} |   8 +-
 .../drill/common/util/ConstructorChecker.java      |  55 +++
 .../org/apache/drill/common/util/TestTools.java    |   6 +-
 .../apache/drill/storage/CheckStorageConfig.java   |   4 +-
 contrib/sqlline/pom.xml                            |   2 -
 distribution/pom.xml                               |   1 +
 distribution/src/resources/storage-engines.json    |  44 +-
 exec/java-exec/pom.xml                             |  13 -
 .../org/apache/drill/exec/ops/QueryContext.java    |  22 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  24 +-
 .../exec/physical/base/AbstractGroupScan.java      |   2 -
 .../drill/exec/physical/base/AbstractSubScan.java  |  70 ++++
 .../apache/drill/exec/physical/base/GroupScan.java |   3 +-
 .../org/apache/drill/exec/physical/base/Scan.java  |   1 -
 .../apache/drill/exec/physical/base/SubScan.java   |   1 -
 .../drill/exec/planner/PhysicalPlanReader.java     |   6 +-
 .../drill/exec/planner/logical/DrillTable.java     |  47 +--
 .../exec/planner/logical/DynamicDrillTable.java    |  35 ++
 .../drill/exec/planner/logical/StorageEngines.java |  10 +-
 .../drill/exec/planner/sql/DrillSchemaFactory.java |  96 -----
 .../drill/exec/planner/sql/DrillSqlWorker.java     |  32 +-
 .../apache/drill/exec/server/DrillbitContext.java  |  40 +-
 .../AbstractSchema.java}                           |  74 ++--
 ...orageEngine.java => AbstractStoragePlugin.java} |  41 +-
 .../drill/exec/store/AffinityCalculator.java       | 150 -------
 .../drill/exec/store/ClassPathFileSystem.java      |  21 +-
 .../drill/exec/store/NamedStoragePluginConfig.java |  27 ++
 .../{SchemaProvider.java => SchemaFactory.java}    |  10 +-
 .../org/apache/drill/exec/store/SchemaHolder.java  |  44 ++
 .../drill/exec/store/SchemaProviderRegistry.java   |  82 ----
 .../org/apache/drill/exec/store/StorageEngine.java | 122 ------
 .../drill/exec/store/StorageEngineRegistry.java    |  84 ----
 .../org/apache/drill/exec/store/StoragePlugin.java |  48 +++
 .../drill/exec/store/StoragePluginRegistry.java    | 175 ++++++++
 .../drill/exec/store/dfs/BasicFormatMatcher.java   | 130 ++++++
 .../apache/drill/exec/store/dfs/FileSelection.java | 127 ++++++
 .../drill/exec/store/dfs/FileSystemConfig.java     |  35 ++
 .../exec/store/dfs/FileSystemFormatConfig.java     |  29 ++
 .../drill/exec/store/dfs/FileSystemPlugin.java     | 125 ++++++
 .../exec/store/dfs/FileSystemSchemaFactory.java    | 116 ++++++
 .../apache/drill/exec/store/dfs/FormatCreator.java | 100 +++++
 .../apache/drill/exec/store/dfs/FormatMatcher.java |  28 ++
 .../apache/drill/exec/store/dfs/FormatPlugin.java  |  52 +++
 .../drill/exec/store/dfs/FormatSelection.java      |  64 +++
 .../apache/drill/exec/store/dfs/MagicString.java   |  42 ++
 .../dfs/NamedFormatPluginConfig.java}              |  17 +-
 .../{physical => store/dfs}/ReadEntryFromHDFS.java |  18 +-
 .../{physical => store/dfs}/ReadEntryWithPath.java |  16 +-
 .../exec/store/dfs/WorkspaceSchemaFactory.java     | 123 ++++++
 .../easy/EasyBatchCreator.java}                    |  32 +-
 .../exec/store/dfs/easy/EasyFormatPlugin.java      | 142 +++++++
 .../drill/exec/store/dfs/easy/EasyGroupScan.java   | 183 +++++++++
 .../drill/exec/store/dfs/easy/EasySubScan.java     | 103 +++++
 .../apache/drill/exec/store/dfs/easy/FileWork.java |  27 ++
 .../drill/exec/store/dfs/shim/DrillFileSystem.java |  43 ++
 .../exec/store/dfs/shim/DrillInputStream.java      |  32 ++
 .../exec/store/dfs/shim/DrillOutputStream.java     |  29 ++
 .../exec/store/dfs/shim/FileSystemCreator.java}    |  38 +-
 .../dfs/shim/fallback/FallbackFileSystem.java      | 146 +++++++
 .../exec/store/easy/json/JSONFormatPlugin.java     |  73 ++++
 .../store/{ => easy}/json/JSONRecordReader.java    |   4 +-
 .../drill/exec/store/hive/HiveReadEntry.java       |  27 +-
 .../drill/exec/store/hive/HiveReadEntryOld.java    |  50 ---
 .../org/apache/drill/exec/store/hive/HiveScan.java |  32 +-
 .../drill/exec/store/hive/HiveStorageEngine.java   | 194 ---------
 .../drill/exec/store/hive/HiveStoragePlugin.java   |  81 ++++
 ...ineConfig.java => HiveStoragePluginConfig.java} |   8 +-
 .../exec/store/hive/schema/DrillHiveTable.java     | 177 ++++++++
 .../exec/store/hive/schema/HiveDatabaseSchema.java |  56 +++
 .../exec/store/hive/schema/HiveSchemaFactory.java  | 274 +++++++++++++
 .../drill/exec/store/json/JSONGroupScan.java       | 162 --------
 .../drill/exec/store/json/JSONStorageEngine.java   |  78 ----
 .../exec/store/json/JSONStorageEngineConfig.java   |  54 ---
 .../apache/drill/exec/store/json/JSONSubScan.java  | 122 ------
 .../drill/exec/store/json/JsonSchemaProvider.java  |  62 ---
 .../drill/exec/store/mock/MockGroupScanPOP.java    |   7 +-
 .../drill/exec/store/mock/MockStorageEngine.java   |  15 +-
 .../exec/store/mock/MockStorageEngineConfig.java   |   4 +-
 .../drill/exec/store/mock/MockSubScanPOP.java      |  26 +-
 .../apache/drill/exec/store/parquet/BitReader.java |   2 +-
 .../drill/exec/store/parquet/ColumnDataReader.java |   2 +-
 .../drill/exec/store/parquet/ColumnReader.java     |   2 +-
 .../exec/store/parquet/FixedByteAlignedReader.java |   2 +-
 .../exec/store/parquet/NullableBitReader.java      |   2 +-
 .../exec/store/parquet/NullableColumnReader.java   |   2 +-
 .../parquet/NullableFixedByteAlignedReader.java    |   2 +-
 .../drill/exec/store/parquet/PageReadStatus.java   |   8 +-
 .../exec/store/parquet/ParquetFormatConfig.java    |  37 ++
 .../exec/store/parquet/ParquetFormatPlugin.java    | 178 ++++++++
 .../drill/exec/store/parquet/ParquetGroupScan.java | 356 +++++++---------
 .../exec/store/parquet/ParquetRecordReader.java    |   2 +-
 .../exec/store/parquet/ParquetRowGroupScan.java    |  93 ++---
 .../store/parquet/ParquetScanBatchCreator.java     |  14 +-
 .../exec/store/parquet/ParquetSchemaProvider.java  |  63 ---
 .../exec/store/parquet/ParquetStorageEngine.java   | 123 ------
 .../store/parquet/ParquetStorageEngineConfig.java  |  68 ----
 .../exec/store/parquet/RowGroupReadEntry.java      |  44 ++
 .../exec/store/parquet/VarLenBinaryReader.java     |   4 +
 .../drill/exec/store/schedule/AffinityCreator.java |  62 +++
 .../exec/store/schedule/AssignmentCreator.java     | 135 +++++++
 .../drill/exec/store/schedule/BlockMapBuilder.java | 215 ++++++++++
 .../exec/store/schedule/CompleteFileWork.java      | 105 +++++
 .../drill/exec/store/schedule/CompleteWork.java    |  29 ++
 .../drill/exec/store/schedule/EndpointByteMap.java |  34 ++
 .../exec/store/schedule/EndpointByteMapImpl.java   |  61 +++
 .../drill/exec/store/schedule/PartialWork.java     |  43 ++
 .../apache/drill/exec/work/foreman/Foreman.java    |   2 +-
 .../src/main/resources/storage-engines.json        |  29 --
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   4 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |   8 +-
 .../drill/exec/store/CachedSingleFileSystem.java   | 171 ++++++++
 .../drill/exec/store/TestAffinityCalculator.java   | 113 +++---
 .../apache/drill/exec/store/TestOutputMutator.java |  74 ++++
 .../store/{ => json}/JSONRecordReaderTest.java     |   6 +-
 .../apache/drill/exec/store/parquet/FieldInfo.java |  40 ++
 .../store/parquet/ParquetRecordReaderTest.java     | 450 ++++++++++++---------
 .../ParquetRecordReaderTest2.java}                 |  10 +-
 .../exec/store/parquet/ParquetResultListener.java  | 203 ++++++++++
 .../exec/store/parquet/ParquetTestProperties.java  |  37 ++
 .../exec/store/parquet/TestFileGenerator.java      | 142 +++----
 .../{ => parquet}/TestParquetPhysicalPlan.java     |   2 +-
 .../exec/store/parquet/WrapAroundCounter.java      |  40 ++
 .../resources/join/merge_inner_single_batch.json   |  28 +-
 .../src/test/resources/join/merge_multi_batch.json |  30 +-
 .../test/resources/join/merge_single_batch.json    |  28 +-
 .../src/test/resources/logical_json_scan.json      |   8 +-
 .../resources/parquet/parquet_scan_screen.json     |  23 +-
 .../parquet_scan_screen_read_entry_replace.json    |  15 +-
 .../parquet_scan_union_screen_physical.json        |   6 +-
 .../src/test/resources/parquet_scan_screen.json    |  17 +-
 .../parquet_scan_screen_read_entry_replace.json    |  15 +-
 .../resources/parquet_selective_column_read.json   |   9 +-
 .../test/resources/physical_json_scan_test1.json   |  14 +-
 .../test/resources/sender/broadcast_exchange.json  |  30 +-
 .../src/test/resources/storage-engines.json        |  20 +
 pom.xml                                            |   5 +-
 sqlparser/pom.xml                                  |  25 +-
 .../drill/sql/client/full/HiveDatabaseSchema.java  | 314 --------------
 .../apache/drill/sql/client/full/HiveSchema.java   | 162 --------
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  |  10 +-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  |  39 +-
 sqlparser/src/test/resources/storage-engines.json  |  47 +--
 153 files changed, 5394 insertions(+), 3292 deletions(-)

commit 2dfadc9d9945c347fded28ec90af5d0842f91853
Author: Jason Altekruse <altekrusejason@gmail.com>
Date:   Wed Feb 12 09:28:07 2014 -0800

    DRILL-315: Parquet/JSON selective column read, parquet performance evaluation code from Jacques. Requested columns are specified in physical plans, logical scan operations will be modified by the optimizer as it analyzes the rest of the query graph to decide which columns are needed. This still needs to be added to the optimizer.

 .../apache/drill/common/expression/SchemaPath.java |   4 +
 exec/java-exec/pom.xml                             |   4 +-
 .../drill/exec/store/json/JSONGroupScan.java       |  19 +++-
 .../drill/exec/store/json/JSONRecordReader.java    |  29 ++++-
 .../exec/store/json/JSONScanBatchCreator.java      |   3 +-
 .../drill/exec/store/json/JSONStorageEngine.java   |   3 +-
 .../apache/drill/exec/store/json/JSONSubScan.java  |  16 ++-
 .../apache/drill/exec/store/parquet/BitReader.java |  10 +-
 .../drill/exec/store/parquet/ColumnDataReader.java |  90 +++++++++++++++
 .../drill/exec/store/parquet/ColumnReader.java     |  64 ++++++-----
 .../exec/store/parquet/FixedByteAlignedReader.java |   6 +-
 .../exec/store/parquet/NullableBitReader.java      |   3 +-
 .../exec/store/parquet/NullableColumnReader.java   |   3 +-
 .../parquet/NullableFixedByteAlignedReader.java    |  28 ++---
 .../drill/exec/store/parquet/PageReadStatus.java   |  80 ++++++-------
 .../drill/exec/store/parquet/ParquetGroupScan.java |  23 +++-
 .../exec/store/parquet/ParquetRecordReader.java    | 126 +++++++++------------
 .../exec/store/parquet/ParquetRowGroupScan.java    |  27 ++++-
 .../store/parquet/ParquetScanBatchCreator.java     |  13 ++-
 .../exec/store/parquet/ParquetStorageEngine.java   |   5 +-
 .../exec/store/parquet/VarLenBinaryReader.java     |  11 +-
 .../drill/exec/store/JSONRecordReaderTest.java     |  50 +++++++-
 .../drill/exec/store/ParquetRecordReaderTest.java  |  60 +++++++---
 .../test/resources/parquet_nullable_varlen.json    |  41 +++++++
 .../resources/parquet_selective_column_read.json   |  28 +++++
 25 files changed, 536 insertions(+), 210 deletions(-)

commit b3460af8f3d47ce3a1ac4289998d255a9307b1ea
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Jan 30 10:56:27 2014 -0800

    DRILL-257: Move SQL parsing to server side.
    Switch to Avatica based JDBC driver.
    Update QuerySubmitter to support SQL queries.
    Update SqlAccesors to support getObject()
    Remove ref, clean up SQL packages some.
    Various performance fixes.  Updating result set so first set of results must be returned before control is return to client to allow metadata to populate for aggressive tools like sqlline
    Move timeout functionality to TestTools.
    Update Expression materializer so that it will return a nullable int if a field is not found.
    Update Project record batch to support simple wildcard queries.
    Updates to move JSON record reader test to expecting VarCharVector.getObject to return a String rather than a byte[].

 common/pom.xml                                     |  39 +-
 .../java/org/apache/drill/common/JSONOptions.java  |  48 +-
 .../org/apache/drill/common/defs/OrderDef.java     |  57 ---
 .../org/apache/drill/common/defs/PartitionDef.java |  58 ---
 .../drill/common/expression/FieldReference.java    |   3 +
 .../drill/common/expression/FunctionRegistry.java  |   3 +
 .../apache/drill/common/expression/SchemaPath.java |   2 +-
 .../drill/common/expression/ValueExpressions.java  |  31 +-
 .../apache/drill/common/logical/LogicalPlan.java   |  12 +-
 .../drill/common/logical/LogicalPlanBuilder.java   |  11 +-
 .../drill/common/logical/PlanProperties.java       |  22 +-
 .../drill/common/logical/data/AbstractBuilder.java |  27 +-
 .../common/logical/data/AbstractSingleBuilder.java |  33 +-
 .../common/logical/data/GroupingAggregate.java     | 100 ++++
 .../org/apache/drill/common/logical/data/Join.java |  98 +++-
 .../apache/drill/common/logical/data/Order.java    |  82 ++-
 .../apache/drill/common/logical/data/Project.java  |  53 +-
 .../org/apache/drill/common/logical/data/Scan.java |  32 +-
 .../drill/common/logical/data/ScanBuilder.java     |  49 --
 .../common/logical/data/SingleInputOperator.java   |   8 +-
 .../apache/drill/common/logical/data/Store.java    |  39 +-
 .../drill/common/logical/data/StoreBuilder.java    |  49 --
 .../apache/drill/common/logical/data/Union.java    |  34 +-
 .../data/visitors/AbstractLogicalVisitor.java      |   5 +
 .../logical/data/visitors/LogicalVisitor.java      |  22 +-
 .../java/org/apache/drill/common/types/Types.java  |  79 +++
 .../org/apache/drill/common/util/TestTools.java    |  34 ++
 contrib/sqlline/pom.xml                            |   1 -
 distribution/pom.xml                               |  54 +-
 distribution/src/assemble/bin.xml                  |  47 +-
 distribution/src/resources/sqlline                 |   2 +-
 exec/bufferl/pom.xml                               |   4 +-
 exec/java-exec/pom.xml                             |  14 +-
 .../src/main/codegen/includes/vv_imports.ftl       |   3 +
 .../main/codegen/templates/FixedValueVectors.java  |   4 +
 .../codegen/templates/RepeatedValueVectors.java    |   5 +
 .../src/main/codegen/templates/SqlAccessors.java   | 117 +++++
 .../src/main/codegen/templates/TypeHelper.java     |  21 +-
 .../codegen/templates/VariableLengthVectors.java   |  21 +
 .../org/apache/drill/exec/cache/HazelCache.java    |   5 +
 .../org/apache/drill/exec/client/DrillClient.java  |  35 +-
 .../apache/drill/exec/client/QuerySubmitter.java   | 112 ++---
 .../apache/drill/exec/compile/MergeAdapter.java    |   3 -
 .../exec/expr/ExpressionTreeMaterializer.java      |  13 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |   7 +
 .../org/apache/drill/exec/ops/QueryContext.java    |  11 +
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  22 +-
 .../drill/exec/physical/config/MergeJoinPOP.java   |  13 +-
 .../exec/physical/config/MergingReceiverPOP.java   |  18 +-
 .../physical/config/OrderedPartitionExchange.java  |  18 +-
 .../physical/config/OrderedPartitionSender.java    |  25 +-
 .../exec/physical/config/SingleMergeExchange.java  |  16 +-
 .../apache/drill/exec/physical/config/Sort.java    |   9 +-
 .../exec/physical/impl/join/JoinTemplate.java      |   5 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |   3 +-
 .../exec/physical/impl/join/MergeJoinCreator.java  |   8 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |  10 +-
 .../OrderedPartitionRecordBatch.java               |  23 +-
 .../physical/impl/project/ProjectRecordBatch.java  |  70 ++-
 .../drill/exec/physical/impl/sort/SortBatch.java   |  11 +-
 .../exec/planner/logical/DrillAggregateRel.java    | 108 ++++
 .../exec/planner/logical}/DrillAggregateRule.java  |   4 +-
 .../exec/planner/logical}/DrillFilterRel.java      |  36 +-
 .../exec/planner/logical}/DrillFilterRule.java     |   8 +-
 .../exec/planner/logical/DrillImplementor.java     |  88 ++++
 .../drill/exec/planner/logical}/DrillJoinRel.java  | 117 +++--
 .../drill/exec/planner/logical}/DrillJoinRule.java |   4 +-
 .../drill/exec/planner/logical}/DrillLimitRel.java |  31 +-
 .../exec/planner/logical}/DrillLimitRule.java      |   4 +-
 .../drill/exec/planner/logical/DrillOptiq.java     | 200 ++++++++
 .../exec/planner/logical/DrillParseContext.java}   |  24 +-
 .../exec/planner/logical/DrillProjectRel.java      |  98 ++++
 .../exec/planner/logical}/DrillProjectRule.java    |   4 +-
 .../drill/exec/planner/logical}/DrillRel.java      |   5 +-
 .../drill/exec/planner/logical/DrillRuleSets.java  |  92 ++++
 .../drill/exec/planner/logical/DrillScanRel.java   |  44 +-
 .../drill/exec/planner/logical/DrillScanRule.java  |  43 ++
 .../drill/exec/planner/logical/DrillScreenRel.java |  76 +++
 .../drill/exec/planner/logical}/DrillSortRel.java  |  84 ++--
 .../drill/exec/planner/logical}/DrillSortRule.java |   4 +-
 .../drill/exec/planner/logical/DrillStoreRel.java} |  41 +-
 .../drill/exec/planner/logical/DrillTable.java     | 107 ++++
 .../drill/exec/planner/logical}/DrillUnionRel.java |  50 +-
 .../exec/planner/logical}/DrillUnionRule.java      |   4 +-
 .../exec/planner/logical}/DrillValuesRel.java      |  16 +-
 .../exec/planner/logical}/DrillValuesRule.java     |   4 +-
 .../exec/planner/logical}/EnumerableDrillRule.java |  16 +-
 .../drill/exec/planner/logical/ExprHelper.java     |  41 ++
 .../exec/planner/logical/RelDataTypeDrillImpl.java | 142 ++++++
 .../drill/exec/planner/logical/RelOptHelper.java   |  44 ++
 .../exec/planner/logical/ScanFieldDeterminer.java  | 217 ++++++++
 .../exec/planner/logical}/StorageEngines.java      |   2 +-
 .../drill/exec/planner/sql/DrillSchemaFactory.java |  96 ++++
 .../drill/exec/planner/sql/DrillSqlWorker.java     | 123 +++++
 .../exec/planner/sql/ExpandingConcurrentMap.java   | 223 ++++++++
 .../drill/exec/planner/sql/FileSystemSchema.java   | 117 +++++
 .../exec/planner/torel/ConversionContext.java      | 167 ++++++
 .../org/apache/drill/exec/record/BatchSchema.java  |   9 +
 .../apache/drill/exec/record/VectorContainer.java  |   9 +-
 .../org/apache/drill/exec/rpc/BasicClient.java     |   6 +-
 .../drill/exec/rpc/BasicClientWithConnection.java  |   5 +-
 .../apache/drill/exec/rpc/RemoteConnection.java    |   3 +-
 .../drill/exec/rpc/user/ConnectionThrottle.java}   |   6 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    |  13 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |   4 +-
 .../drill/exec/rpc/user/UserResultsListener.java   |   2 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |   2 +-
 .../apache/drill/exec/server/DrillbitContext.java  |  35 ++
 .../drill/exec/store/parquet/ParquetGroupScan.java |   2 +-
 .../exec/store/parquet/ParquetSchemaProvider.java  |   2 +-
 .../exec/store/parquet/ParquetStorageEngine.java   |   2 +-
 .../org/apache/drill/exec/vector/BitVector.java    |   4 +
 .../org/apache/drill/exec/vector/ValueVector.java  |   2 +
 .../exec/vector/accessor/AbstractSqlAccessor.java  | 123 +++++
 .../drill/exec/vector/accessor/SqlAccessor.java    |  67 +++
 .../org/apache/drill/exec/work/WorkManager.java    |   3 +-
 .../apache/drill/exec/work/foreman/Foreman.java    | 131 ++++-
 .../drill/exec/work/foreman/QueryManager.java      |  11 +-
 .../src/main/resources/storage-engines.json        |   0
 .../exec/physical/impl/TestSimpleFragmentRun.java  |   7 +-
 .../drill/exec/store/JSONRecordReaderTest.java     |  22 +-
 .../drill/exec/store/ParquetRecordReaderTest.java  |  22 +-
 .../drill/exec/store/TestParquetPhysicalPlan.java  |  17 +-
 .../store/parquet/ParquetRecordReaderTest.java     |   3 +-
 exec/pom.xml                                       |   1 -
 exec/ref/pom.xml                                   | 107 ----
 .../apache/drill/exec/ref/IteratorRegistry.java    |  70 ---
 .../org/apache/drill/exec/ref/ROPConverter.java    | 154 ------
 .../org/apache/drill/exec/ref/RecordIterator.java  |  67 ---
 .../org/apache/drill/exec/ref/RecordPointer.java   |  37 --
 .../drill/exec/ref/ReferenceInterpreter.java       | 155 ------
 .../java/org/apache/drill/exec/ref/RunOutcome.java |  53 --
 .../org/apache/drill/exec/ref/UnbackedRecord.java  | 131 -----
 .../drill/exec/ref/eval/BasicEvaluatorFactory.java | 106 ----
 .../drill/exec/ref/eval/EvaluatorFactory.java      |  59 ---
 .../apache/drill/exec/ref/eval/EvaluatorTypes.java |  58 ---
 .../apache/drill/exec/ref/eval/IfEvaluator.java    |  81 ---
 .../exec/ref/eval/SimpleEvaluationVisitor.java     | 145 ------
 .../exec/ref/eval/fn/ComparisonEvaluators.java     | 137 -----
 .../drill/exec/ref/eval/fn/FunctionArguments.java  |  87 ----
 .../drill/exec/ref/eval/fn/FunctionEvaluator.java  |  26 -
 .../ref/eval/fn/FunctionEvaluatorRegistry.java     | 110 ----
 .../drill/exec/ref/eval/fn/MathEvaluators.java     | 106 ----
 .../drill/exec/ref/eval/fn/StringEvaluators.java   |  52 --
 .../exec/ref/eval/fn/agg/CountAggregator.java      |  75 ---
 .../drill/exec/ref/eval/fn/agg/SumAggregator.java  | 103 ----
 .../drill/exec/ref/exceptions/MajorException.java  |  46 --
 .../drill/exec/ref/exceptions/RecordException.java |  48 --
 .../drill/exec/ref/exceptions/SetupException.java  |  46 --
 .../exec/ref/rops/AbstractBlockingOperator.java    |  83 ---
 .../apache/drill/exec/ref/rops/BaseSinkROP.java    | 113 -----
 .../drill/exec/ref/rops/BoundaryListener.java      |  25 -
 .../exec/ref/rops/CollapsingAggregateROP.java      | 269 ----------
 .../apache/drill/exec/ref/rops/ConstantROP.java    | 109 ----
 .../org/apache/drill/exec/ref/rops/DataWriter.java |  49 --
 .../org/apache/drill/exec/ref/rops/FilterROP.java  |  81 ---
 .../org/apache/drill/exec/ref/rops/FlattenROP.java | 140 ------
 .../org/apache/drill/exec/ref/rops/JoinROP.java    | 315 ------------
 .../org/apache/drill/exec/ref/rops/LimitROP.java   |  87 ----
 .../org/apache/drill/exec/ref/rops/OrderROP.java   | 201 --------
 .../org/apache/drill/exec/ref/rops/ProjectROP.java |  95 ----
 .../drill/exec/ref/rops/ProxySimpleRecord.java     |  79 ---
 .../java/org/apache/drill/exec/ref/rops/ROP.java   |  28 --
 .../org/apache/drill/exec/ref/rops/ROPBase.java    |  61 ---
 .../drill/exec/ref/rops/ReferenceOperator.java     |  26 -
 .../org/apache/drill/exec/ref/rops/ScanROP.java    |  70 ---
 .../org/apache/drill/exec/ref/rops/SegmentROP.java | 118 -----
 .../drill/exec/ref/rops/SingleInputROPBase.java    |  49 --
 .../org/apache/drill/exec/ref/rops/StoreROP.java   |  63 ---
 .../apache/drill/exec/ref/rops/TransformROP.java   |  89 ----
 .../org/apache/drill/exec/ref/rops/UnionROP.java   | 107 ----
 .../apache/drill/exec/ref/rops/WindowFrameROP.java | 321 ------------
 .../apache/drill/exec/ref/rse/ClasspathRSE.java    |  93 ----
 .../org/apache/drill/exec/ref/rse/ConsoleRSE.java  |  66 ---
 .../apache/drill/exec/ref/rse/FileSystemRSE.java   | 161 ------
 .../apache/drill/exec/ref/rse/JSONDataWriter.java  | 142 ------
 .../drill/exec/ref/rse/JSONRecordReader.java       | 183 -------
 .../drill/exec/ref/rse/OutputStreamWriter.java     |  78 ---
 .../org/apache/drill/exec/ref/rse/QueueRSE.java    | 146 ------
 .../org/apache/drill/exec/ref/rse/RSEBase.java     |  71 ---
 .../org/apache/drill/exec/ref/rse/RSERegistry.java |  87 ----
 .../apache/drill/exec/ref/rse/RecordReader.java    |  28 --
 .../drill/exec/ref/rse/ReferenceStorageEngine.java |  45 --
 .../apache/drill/exec/ref/util/BatchBreaker.java   |  46 --
 .../org/apache/drill/exec/ref/util/ByteRange.java  |  34 --
 .../drill/exec/ref/values/BaseArrayValue.java      |  86 ----
 .../drill/exec/ref/values/BaseDataValue.java       |  82 ---
 .../apache/drill/exec/ref/values/BaseMapValue.java | 111 ----
 .../drill/exec/ref/values/ComparableValue.java     |  38 --
 .../apache/drill/exec/ref/values/DataValue.java    |  45 --
 .../apache/drill/exec/ref/values/DataValueSet.java |  80 ---
 .../apache/drill/exec/ref/values/NumericValue.java | 175 -------
 .../apache/drill/exec/ref/values/ScalarValues.java | 560 ---------------------
 .../drill/exec/ref/values/SimpleArrayValue.java    | 147 ------
 .../drill/exec/ref/values/SimpleMapValue.java      | 130 -----
 .../apache/drill/exec/ref/values/ValueReader.java  |  62 ---
 .../apache/drill/exec/ref/values/ValueUtils.java   |  80 ---
 exec/ref/src/main/resources/drill-module.conf      |   4 -
 exec/ref/src/main/resources/logback-test.xml       |  43 --
 .../org/apache/drill/exec/ref/RSERegistryTest.java |  40 --
 .../org/apache/drill/exec/ref/RunSimplePlan.java   |  77 ---
 .../java/org/apache/drill/exec/ref/TestUtils.java  | 122 -----
 .../exec/ref/rops/CollapsingAggregateTest.java     |  51 --
 .../drill/exec/ref/rops/ConstantROPTest.java       | 111 ----
 .../apache/drill/exec/ref/rops/JoinROPTest.java    |  39 --
 .../apache/drill/exec/ref/rops/LimitROPTest.java   |  84 ----
 .../apache/drill/exec/ref/rops/OrderROPTest.java   |  61 ---
 .../apache/drill/exec/ref/rops/UnionROPTest.java   |  63 ---
 .../drill/exec/ref/rops/WindowFrameROPTest.java    | 259 ----------
 exec/ref/src/test/resources/collapse/test1.json    |  73 ---
 exec/ref/src/test/resources/constant.json          |   4 -
 exec/ref/src/test/resources/constant2.json         |  42 --
 exec/ref/src/test/resources/departments.json       |  16 -
 exec/ref/src/test/resources/donuts.json            | 132 -----
 exec/ref/src/test/resources/employees.json         |  23 -
 exec/ref/src/test/resources/join/departments.json  |  16 -
 exec/ref/src/test/resources/join/employees.json    |  24 -
 exec/ref/src/test/resources/join/full_join.json    |  72 ---
 exec/ref/src/test/resources/join/left_join.json    |  71 ---
 exec/ref/src/test/resources/join/simple_join.json  |  71 ---
 exec/ref/src/test/resources/logback.xml            |  56 ---
 exec/ref/src/test/resources/order/nulls-first.json |  79 ---
 exec/ref/src/test/resources/order/nulls-last.json  |  79 ---
 exec/ref/src/test/resources/simple_join.json       |  60 ---
 exec/ref/src/test/resources/simple_plan.json       |  94 ----
 .../src/test/resources/simple_plan_flattened.json  |  54 --
 exec/ref/src/test/resources/union/distinct.json    |  82 ---
 exec/ref/src/test/resources/union/nondistinct.json |  82 ---
 pom.xml                                            |  26 +-
 protocol/src/main/protobuf/User.proto              |   8 +
 sqlparser/pom.xml                                  |  26 +-
 .../apache/drill/jdbc/AvaticaDrillSqlAccessor.java | 214 ++++++++
 .../main/java/org/apache/drill/jdbc/BasicList.java | 136 +++++
 .../org/apache/drill/jdbc/ConnectionConfig.java    |  29 +-
 .../org/apache/drill/jdbc/DrillAccessorList.java   |  58 +++
 .../apache/drill/jdbc/DrillColumnMetaDataList.java |  81 +++
 .../org/apache/drill/jdbc/DrillConnection.java     |  41 ++
 .../org/apache/drill/jdbc/DrillConnectionImpl.java | 166 ++++++
 .../java/org/apache/drill/jdbc/DrillCursor.java    | 127 +++++
 .../java/org/apache/drill/jdbc/DrillFactory.java   |  57 +++
 .../java/org/apache/drill/jdbc/DrillHandler.java   | 190 +------
 .../org/apache/drill/jdbc/DrillJdbc40Factory.java  |  19 +-
 .../org/apache/drill/jdbc/DrillJdbc41Factory.java  | 186 +++++++
 .../org/apache/drill/jdbc/DrillPrepareResult.java  |  42 +-
 .../apache/drill/jdbc/DrillPreparedStatement.java  |  50 ++
 .../apache/drill/jdbc/DrillRemoteStatement.java    |   6 +-
 .../java/org/apache/drill/jdbc/DrillResultSet.java | 196 ++++++++
 .../java/org/apache/drill/jdbc/DrillStatement.java |  26 +-
 .../apache/drill/jdbc/DrillStatementRegistry.java  |  12 +-
 .../java/org/apache/drill/jdbc/DrillTable.java     | 225 ---------
 .../main/java/org/apache/drill/jdbc/Driver.java    |  72 +--
 .../drill/jdbc/GlobalServiceSetReference.java      |  16 +-
 .../main/java/org/apache/drill/jdbc/MetaImpl.java  | 180 +++++++
 .../main/java/org/apache/drill/jdbc/RefDriver.java |  71 ---
 .../apache/drill/jdbc/SchemaChangeListener.java    |   9 +-
 ...DriverVersion.java => SqlTimeoutException.java} |  30 +-
 .../java/org/apache/drill/jdbc/package-info.java   |   8 +-
 .../org/apache/drill/optiq/DrillAggregateRel.java  | 119 -----
 .../org/apache/drill/optiq/DrillImplementor.java   | 146 ------
 .../java/org/apache/drill/optiq/DrillOptiq.java    | 180 -------
 .../org/apache/drill/optiq/DrillPrepareImpl.java   |  56 ---
 .../org/apache/drill/optiq/DrillProjectRel.java    |  83 ---
 .../org/apache/drill/optiq/EnumerableDrill.java    | 271 ----------
 .../drill/optiq/EnumerableDrillFullEngine.java     |  87 ----
 .../org/apache/drill/optiq/EnumerableDrillRel.java | 130 -----
 .../drill/sql/client/full/BatchListener.java       |  79 ---
 .../drill/sql/client/full/BatchLoaderMap.java      | 233 ---------
 .../drill/sql/client/full/DrillFullImpl.java       |  76 ---
 .../drill/sql/client/full/DrillMutableSchema.java  |  91 ----
 .../drill/sql/client/full/FileSystemSchema.java    | 154 ------
 .../apache/drill/sql/client/full/JsonHelper.java   |  57 ---
 .../drill/sql/client/full/ResultEnumerator.java    |  72 ---
 .../apache/drill/sql/client/ref/DrillRefImpl.java  | 271 ----------
 .../org/apache/drill/jdbc/test/FullEngineTest.java |  87 ----
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |  11 +-
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  |  50 +-
 .../org/apache/drill/jdbc/test/TestJdbcQuery.java  | 108 ++++
 277 files changed, 5662 insertions(+), 13260 deletions(-)

commit cdf46fd36fdfc2e3029a6b2e077330c665e43c2e
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Jan 23 18:32:03 2014 -0800

    DRILL-357: Hive Storage Engine phase 2 - hive record reader

 .../apache/drill/common/config/DrillConfig.java    |   2 +-
 distribution/src/assemble/bin.xml                  |   1 +
 exec/java-exec/pom.xml                             |  11 +
 .../codegen/templates/VariableLengthVectors.java   |  38 +-
 .../exec/compile/TemplateClassDefinition.java      |   2 +-
 .../drill/exec/planner/fragment/Wrapper.java       |   3 +
 .../drill/exec/store/hive/HiveInputReader.java     | 173 ++++++++
 .../drill/exec/store/hive/HiveReadEntry.java       |  47 +-
 .../drill/exec/store/hive/HiveReadEntryOld.java    |  50 +++
 .../drill/exec/store/hive/HiveRecordReader.java    | 473 +++++++++++++++++++++
 .../org/apache/drill/exec/store/hive/HiveScan.java | 247 +++++++++++
 .../exec/store/hive/HiveScanBatchCreator.java      |  71 ++++
 .../drill/exec/store/hive/HiveStorageEngine.java   | 194 +++++++++
 .../exec/store/hive/HiveStorageEngineConfig.java   |   6 +-
 .../apache/drill/exec/store/hive/HiveSubScan.java  | 124 ++++++
 .../apache/drill/exec/store/hive/HiveTable.java    | 325 ++++++++++++++
 .../exec/store/hive/HiveTextRecordReader.java      | 172 ++++++++
 .../exec/store/parquet/ParquetSchemaProvider.java  |   1 -
 .../org/apache/drill/exec/util/BatchPrinter.java   |   0
 .../java-exec/src/main/resources/drill-module.conf |   3 +-
 .../java/org/apache/drill/exec/TestPlan.java}      |  37 +-
 .../apache/drill/exec/store/hive/TestHiveScan.java |  67 +++
 exec/java-exec/src/test/resources/hive/test.json   |  75 ++++
 pom.xml                                            |  51 +++
 .../java/org/apache/drill/jdbc/DrillHandler.java   |   2 +-
 .../drill/sql/client/full/BatchLoaderMap.java      |   2 +-
 .../drill/sql/client/full/HiveDatabaseSchema.java  | 115 +++--
 .../apache/drill/sql/client/full/HiveSchema.java   |   5 +-
 .../org/apache/drill/jdbc/test/FullEngineTest.java |   1 +
 29 files changed, 2231 insertions(+), 67 deletions(-)

commit a9a7ea84c99d8a9efcccc7d9a870121a26212b49
Author: vkorukanti <venki.korukanti@gmail.com>
Date:   Fri Jan 31 14:13:14 2014 -0800

    DRILL 354: Hive storage engine - Phase 1

 contrib/pom.xml                                    |   1 +
 contrib/storage-hive/pom.xml                       | 120 ++++++++++
 distribution/src/assemble/bin.xml                  |   4 +
 exec/java-exec/pom.xml                             |  11 +
 .../drill/exec/store/hive/HiveReadEntry.java       |  50 ++++
 .../drill/exec/store/hive/HiveSchemaProvider.java  |  39 +++
 .../exec/store/hive/HiveStorageEngineConfig.java   |  67 ++++++
 pom.xml                                            |   6 +-
 sqlparser/pom.xml                                  |  31 +++
 .../java/org/apache/drill/jdbc/DrillHandler.java   |  30 ++-
 .../drill/sql/client/full/HiveDatabaseSchema.java  | 265 +++++++++++++++++++++
 .../apache/drill/sql/client/full/HiveSchema.java   | 161 +++++++++++++
 .../org/apache/drill/jdbc/test/FullEngineTest.java |  47 +++-
 sqlparser/src/test/resources/storage-engines.json  |  42 ++++
 14 files changed, 864 insertions(+), 10 deletions(-)

commit b5ab447deb9f1f3b1abb9494968c0ffaa861ed4e
Author: tnachen <tnachen@apache.org>
Date:   Tue Feb 18 14:46:28 2014 -0800

    Add travis configuration

 .travis.yml | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 95d6d68955eb7e9ad8cfb3424410012d27e7d13b
Author: tnachen <tnachen@apache.org>
Date:   Sat Feb 15 01:30:43 2014 -0800

    Remove unused logical def classes

 .../apache/drill/common/logical/defs/OrderDef.java | 60 ----------------------
 .../drill/common/logical/defs/PartitionDef.java    | 55 --------------------
 2 files changed, 115 deletions(-)

commit 36a7637f29d8b569a75ff9090aff01235494c4ec
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Jan 29 16:03:40 2014 -0800

    DRILL-352: Extract ClassGenerator from CodeGenerator.  Use hierarchal set of ClassGenerators to support implementation of an arbitrarily complex inner class hierarchy.  Introduce @RuntimeOveridden annotation to allow overrides of inner classes without requiring abstract inner classes.  Update operators to use methods.  Add test for inner class generation.  Remove support for JDK based compilation, focusing entirely on Janino based compilation.

 .../apache/drill/exec/compile/ByteCodeLoader.java  |  60 +++
 .../drill/exec/compile/ClassBodyBuilder.java       |   9 -
 .../apache/drill/exec/compile/ClassCompiler.java   |   2 +-
 .../drill/exec/compile/ClassTransformer.java       | 476 ++++++++++-----------
 .../drill/exec/compile/JDKClassCompiler.java       | 178 --------
 .../drill/exec/compile/JaninoClassCompiler.java    |  11 +-
 .../apache/drill/exec/compile/MergeAdapter.java    | 233 ++++++++++
 .../drill/exec/compile/QueryClassLoader.java       |   6 +-
 .../exec/compile/TemplateClassDefinition.java      |  10 +-
 .../drill/exec/compile/sig/GeneratorMapping.java   |   2 +-
 .../drill/exec/compile/sig/RuntimeOverridden.java  |  31 ++
 .../drill/exec/compile/sig/SignatureHolder.java    |  40 +-
 .../org/apache/drill/exec/expr/ClassGenerator.java | 358 ++++++++++++++++
 .../org/apache/drill/exec/expr/CodeGenerator.java  | 361 +++-------------
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  46 +-
 .../exec/expr/HoldingContainerExpression.java      |   2 +-
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |  12 +-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  18 +-
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |  10 +-
 .../drill/exec/expr/fn/FunctionConverter.java      |  14 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  11 +-
 .../exec/physical/impl/aggregate/AggBatch.java     |  19 +-
 .../physical/impl/filter/FilterRecordBatch.java    |   6 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  11 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |  49 +--
 .../OrderedPartitionRecordBatch.java               |  76 ++--
 .../partitionsender/PartitionSenderRootExec.java   |   7 +-
 .../physical/impl/project/ProjectRecordBatch.java  |  10 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |  22 +-
 .../impl/svremover/RemovingRecordBatch.java        |  11 +-
 .../apache/drill/exec/compile/ExampleInner.java    |  23 +
 .../exec/compile/ExampleTemplateWithInner.java     |  50 +++
 .../exec/compile/TestClassCompilationTypes.java    |   2 +-
 .../exec/compile/TestClassTransformation.java      |  55 ++-
 .../org/apache/drill/exec/expr/ExpressionTest.java |   4 +-
 35 files changed, 1320 insertions(+), 915 deletions(-)

commit a0eabf630c520e76c9dafc766bf6163c5477796d
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Jan 2 21:47:51 2014 -0800

    DRILL-334: Subdivide Drillbit control and data messages. Add support for socket backpressure.  Add TopLevel and Child memory allocator with debug mode to capture memory leaks.  Various memory leak fixes to get build to complete.
    
    Also includes fixes from reviews by Tim.

 .../apache/drill/common/config/DrillConfig.java    |   26 +
 .../netty/buffer/PooledUnsafeDirectByteBufL.java   |    2 +-
 exec/java-exec/pom.xml                             |   36 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |    7 +-
 .../apache/drill/exec/cache/DistributedCache.java  |    2 +-
 .../apache/drill/exec/cache/DistributedMap.java    |   10 +-
 .../drill/exec/cache/DistributedMultiMap.java      |    6 +-
 .../org/apache/drill/exec/cache/HazelCache.java    |   62 +-
 .../org/apache/drill/exec/cache/LocalCache.java    |   64 +-
 .../org/apache/drill/exec/cache/ProtoBufImpl.java  |    5 +-
 .../org/apache/drill/exec/cache/ProtoBufWrap.java  |    8 +-
 .../exec/cache/VectorAccessibleSerializable.java   |    4 +-
 .../org/apache/drill/exec/client/DrillClient.java  |   10 +-
 .../java/org/apache/drill/exec/client/DumpCat.java |    8 +-
 .../drill/exec/memory/AccountingByteBuf.java       |  859 +++
 .../org/apache/drill/exec/memory/Accountor.java    |  190 +
 .../apache/drill/exec/memory/AtomicRemainder.java  |  118 +
 .../apache/drill/exec/memory/BufferAllocator.java  |   42 +-
 .../drill/exec/memory/DirectBufferAllocator.java   |   65 -
 .../drill/exec/memory/OutOfMemoryException.java    |   51 +
 .../drill/exec/memory/TopLevelAllocator.java       |  162 +
 .../exec/metrics/SingleThreadNestedCounter.java    |    9 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  155 +-
 .../org/apache/drill/exec/ops/FragmentStats.java   |   62 +
 .../org/apache/drill/exec/ops/OperatorStats.java   |   26 +
 .../org/apache/drill/exec/ops/QueryContext.java    |   13 +-
 .../physical/config/OrderedPartitionSender.java    |    2 +-
 .../drill/exec/physical/impl/ImplCreator.java      |    8 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |    4 +
 .../drill/exec/physical/impl/ScreenCreator.java    |   36 +-
 .../impl/SendingAccountor.java}                    |   53 +-
 .../exec/physical/impl/SingleSenderCreator.java    |   21 +-
 .../drill/exec/physical/impl/WireRecordBatch.java  |   11 +-
 .../broadcastsender/BroadcastSenderRootExec.java   |   18 +-
 .../physical/impl/filter/FilterRecordBatch.java    |    9 +-
 .../physical/impl/join/MergeJoinBatchBuilder.java  |    2 +-
 .../exec/physical/impl/limit/LimitRecordBatch.java |    2 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |    9 +
 .../OrderedPartitionRecordBatch.java               |  429 +-
 .../impl/partitionsender/OutgoingRecordBatch.java  |   51 +-
 .../partitionsender/PartitionSenderRootExec.java   |   31 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   43 +-
 .../physical/impl/sort/SortRecordBatchBuilder.java |   36 +-
 .../physical/impl/svremover/CopierTemplate2.java   |    7 +
 .../physical/impl/svremover/CopierTemplate4.java   |   10 +-
 .../impl/svremover/RemovingRecordBatch.java        |    6 +-
 .../exec/physical/impl/trace/TraceRecordBatch.java |   34 +-
 .../validate/IteratorValidatorBatchIterator.java   |    5 +
 .../exec/planner/fragment/SimpleParallelizer.java  |    6 +-
 .../drill/exec/proto/helper/QueryIdHelper.java     |    0
 .../drill/exec/record/AbstractRecordBatch.java     |   11 +-
 .../exec/record/AbstractSingleRecordBatch.java     |   10 +-
 .../drill/exec/record/FragmentWritableBatch.java   |    2 +-
 .../drill/exec/record/HyperVectorWrapper.java      |    4 +-
 .../apache/drill/exec/record/RawFragmentBatch.java |   12 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |    2 +
 .../drill/exec/record/RecordBatchLoader.java       |    4 +-
 .../apache/drill/exec/record/VectorContainer.java  |   17 +-
 .../apache/drill/exec/record/WritableBatch.java    |    2 +-
 .../exec/record/selection/SelectionVector2.java    |    2 +-
 .../exec/record/selection/SelectionVector4.java    |   20 +-
 .../org/apache/drill/exec/rpc/BasicClient.java     |   23 +-
 .../drill/exec/rpc/BasicClientWithConnection.java  |   25 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |   73 +-
 .../apache/drill/exec/rpc/CoordinationQueue.java   |    2 +-
 .../drill/exec/rpc/{bit => }/FutureBitCommand.java |   15 +-
 ...teningBitCommand.java => ListeningCommand.java} |   18 +-
 ...ngthDecoder.java => ProtobufLengthDecoder.java} |   26 +-
 .../drill/exec/rpc/ReconnectingConnection.java     |  242 +
 .../apache/drill/exec/rpc/RemoteConnection.java    |   88 +-
 .../apache/drill/exec/rpc/ResettableBarrier.java   |   85 +
 .../java/org/apache/drill/exec/rpc/Response.java   |    2 -
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |   30 +-
 .../rpc/{bit/BitCommand.java => RpcCommand.java}   |    6 +-
 .../apache/drill/exec/rpc/RpcExceptionHandler.java |   11 +-
 .../org/apache/drill/exec/rpc/bit/BitClient.java   |   99 -
 .../drill/exec/rpc/bit/BitConnectionManager.java   |  189 -
 .../apache/drill/exec/rpc/bit/ListenerPool.java    |   59 -
 .../rpc/{bit => control}/AvailabilityListener.java |    4 +-
 .../ConnectionManagerRegistry.java                 |   30 +-
 .../drill/exec/rpc/control/ControlClient.java      |  105 +
 .../drill/exec/rpc/control/ControlCommand.java     |   28 +
 .../ControlConnection.java}                        |   83 +-
 .../exec/rpc/control/ControlConnectionManager.java |   60 +
 .../rpc/control/ControlProtobufLengthDecoder.java  |   40 +
 .../ControlRpcConfig.java}                         |   20 +-
 .../BitServer.java => control/ControlServer.java}  |   57 +-
 .../BitTunnel.java => control/ControlTunnel.java}  |   87 +-
 .../{bit/BitCom.java => control/Controller.java}   |   22 +-
 .../ControllerImpl.java}                           |   41 +-
 .../DefaultInstanceHandler.java}                   |   16 +-
 .../drill/exec/rpc/control/SendProgress.java       |   22 +
 .../drill/exec/rpc/control/WorkEventBus.java       |  113 +
 .../drill/exec/rpc/data/BitServerConnection.java   |   55 +
 .../org/apache/drill/exec/rpc/data/DataClient.java |  100 +
 .../drill/exec/rpc/data/DataClientConnection.java  |   80 +
 .../drill/exec/rpc/data/DataConnectionCreator.java |   63 +
 .../drill/exec/rpc/data/DataConnectionManager.java |   53 +
 .../exec/rpc/data/DataDefaultInstanceHandler.java  |   58 +
 .../exec/rpc/data/DataProtobufLengthDecoder.java   |   38 +
 .../drill/exec/rpc/data/DataResponseHandler.java   |   31 +
 .../exec/rpc/data/DataResponseHandlerImpl.java     |   64 +
 .../apache/drill/exec/rpc/data/DataRpcConfig.java  |   42 +
 .../org/apache/drill/exec/rpc/data/DataServer.java |  128 +
 .../org/apache/drill/exec/rpc/data/DataTunnel.java |   94 +
 .../drill/exec/rpc/{bit => data}/SendProgress.java |    2 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |   18 +-
 .../exec/rpc/user/UserProtobufLengthDecoder.java   |   38 +
 .../org/apache/drill/exec/rpc/user/UserServer.java |   25 +-
 .../apache/drill/exec/server/BootStrapContext.java |    9 +-
 .../org/apache/drill/exec/server/Drillbit.java     |    6 +-
 .../apache/drill/exec/server/DrillbitContext.java  |   31 +-
 .../apache/drill/exec/service/ServiceEngine.java   |   33 +-
 .../exec/store/parquet/ParquetRecordReader.java    |    2 +-
 .../org/apache/drill/exec/util/AssertionUtil.java  |   35 +
 .../org/apache/drill/exec/util/AtomicState.java    |    2 -
 .../org/apache/drill/exec/vector/BitVector.java    |    1 -
 .../drill/exec/work/{foreman => }/ErrorHelper.java |    2 +-
 .../org/apache/drill/exec/work/QueryWorkUnit.java  |    3 +-
 .../org/apache/drill/exec/work/StatusProvider.java |    2 +-
 .../org/apache/drill/exec/work/WorkManager.java    |   49 +-
 ...ntCollector.java => AbstractDataCollector.java} |   14 +-
 .../drill/exec/work/batch/BitComHandlerImpl.java   |  211 -
 .../drill/exec/work/batch/ControlHandlerImpl.java  |  150 +
 ...tComHandler.java => ControlMessageHandler.java} |   14 +-
 .../{BatchCollector.java => DataCollector.java}    |   12 +-
 .../drill/exec/work/batch/IncomingBuffers.java     |   28 +-
 .../drill/exec/work/batch/MergingCollector.java    |    2 +-
 .../exec/work/batch/PartitionedCollector.java      |    2 +-
 .../drill/exec/work/batch/RawBatchBuffer.java      |   27 +-
 .../exec/work/batch/SpoolingRawBatchBuffer.java    |   33 +-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |   46 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |   15 +-
 .../exec/work/foreman/FragmentStatusListener.java  |    2 +-
 ...nningFragmentManager.java => QueryManager.java} |   51 +-
 .../exec/work/foreman/RootStatusReporter.java      |   39 +
 .../AbstractStatusReporter.java}                   |   16 +-
 .../FragmentExecutor.java}                         |   42 +-
 ...ngFragmentHandler.java => FragmentManager.java} |   23 +-
 ...entHandler.java => NonRootFragmentManager.java} |   34 +-
 .../NonRootStatusReporter.java}                    |   17 +-
 ...agmentHandler.java => RootFragmentManager.java} |   23 +-
 .../StatusReporter.java}                           |    9 +-
 .../apache/drill/exec/work/user/UserWorker.java    |    4 +-
 .../java-exec/src/main/resources/drill-module.conf |    9 +-
 .../org/apache/drill/exec/client/DumpCatTest.java  |   11 +-
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |   15 +-
 .../apache/drill/exec/memory/TestEndianess.java    |    4 +-
 .../drill/exec/physical/impl/SimpleRootExec.java   |    9 +-
 .../exec/physical/impl/TestCastFunctions.java      |   38 +-
 .../physical/impl/TestComparisonFunctions.java     |    6 +-
 .../physical/impl/TestImplicitCastFunctions.java   |   27 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |  177 +-
 .../exec/physical/impl/TestSimpleFunctions.java    |   22 +-
 .../drill/exec/physical/impl/agg/TestAgg.java      |    6 +-
 .../physical/impl/filter/TestSimpleFilter.java     |   10 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |   18 +-
 .../exec/physical/impl/limit/TestSimpleLimit.java  |   12 +-
 .../impl/mergereceiver/TestMergingReceiver.java    |    2 +-
 .../TestOrderedPartitionExchange.java              |   15 +-
 .../impl/project/TestSimpleProjection.java         |    6 +-
 .../exec/physical/impl/sort/TestSimpleSort.java    |   10 +-
 .../physical/impl/svremover/TestSVRemover.java     |    6 +-
 .../impl/trace/TestTraceMultiRecordBatch.java      |    6 +-
 .../physical/impl/trace/TestTraceOutputDump.java   |    6 +-
 .../exec/physical/impl/union/TestSimpleUnion.java  |    6 +-
 .../apache/drill/exec/pop/TestFragmentChecker.java |    6 +-
 .../apache/drill/exec/record/vector/TestLoad.java  |   12 +-
 .../drill/exec/record/vector/TestValueVector.java  |    4 +-
 .../org/apache/drill/exec/server/TestBitRpc.java   |  148 +-
 .../drill/exec/store/JSONRecordReaderTest.java     |   14 +-
 exec/java-exec/src/test/resources/logback.xml      |   13 +-
 .../org/apache/drill/exec/proto/BitControl.java    | 5438 ++++++++++++++++
 .../java/org/apache/drill/exec/proto/BitData.java  | 2228 +++++++
 .../drill/exec/proto/CoordinationProtos.java       |  239 +-
 .../org/apache/drill/exec/proto/ExecProtos.java    | 6778 +-------------------
 .../org/apache/drill/exec/proto/UserBitShared.java |  432 +-
 .../org/apache/drill/exec/proto/UserProtos.java    |  181 +-
 protocol/src/main/protobuf/BitControl.proto        |   83 +
 protocol/src/main/protobuf/BitData.proto           |   34 +
 protocol/src/main/protobuf/Coordination.proto      |    5 +-
 protocol/src/main/protobuf/ExecutionProtos.proto   |   83 -
 protocol/src/main/protobuf/User.proto              |    5 +-
 protocol/src/main/protobuf/UserBitShared.proto     |   35 +-
 .../java/org/apache/drill/optiq/DrillOptiq.java    |    2 +-
 185 files changed, 13557 insertions(+), 9124 deletions(-)

commit db0203696c41e742a90bb7925c6e35f2407e80e8
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Fri Dec 13 09:59:07 2013 -0800

    DRILL-259: Implicit cast functionality
    
    Includes following changes:
    
    Implicit cast : WIP.
    
    Implicit cast: work in progress 2.
    
    implicit_cast: workin in progress 3.
    
    implicit cast : work in progress. Prototype works.
    
    Implicit cast: add unit testcase. Handle null vs non-null type.
    
    Implicit cast: add unit test. change comparision operator's allsame from true to false.
    
    Drill-259: implicit cast. Rebase on Drill-316 explicit cast branch.
    
    DRILL-259: implicit cast . reverse change to codegenerator.
    
    DRILL-259: implicit cast. code clean.
    
    DRILL-259: code clean.
    
    Drill-259: add apache license to 7 new java files. reverse the change to pom.xml
    
    Drill-259: minor change to test case.
    
    Drill-259: implicit cast - process NullExpression. Convert NullExpression into TypedNullConstant.
    
    Drill-259: implicit cast. Revise according to review comments.

 .../common/expression/ArgumentValidators.java      |   4 +-
 .../drill/common/expression/TypedNullConstant.java |  55 ++
 .../common/expression/fn/CastFunctionDefs.java     |  48 +-
 .../drill/common/expression/fn/MathFunctions.java  |   2 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   1 -
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   5 +-
 .../exec/expr/ExpressionTreeMaterializer.java      |  21 +-
 .../drill/exec/expr/ImplicitCastBuilder.java       | 168 ++++
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  55 +-
 .../expr/fn/FunctionImplementationRegistry.java    |  21 +-
 .../exec/physical/impl/aggregate/AggBatch.java     |   4 +-
 .../physical/impl/filter/FilterRecordBatch.java    |   4 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |   4 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |   3 +-
 .../OrderedPartitionRecordBatch.java               |   4 +-
 .../partitionsender/PartitionSenderRootExec.java   |   4 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   3 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   2 +-
 .../exec/resolver/DefaultFunctionResolver.java     |  56 +-
 .../drill/exec/resolver/FunctionResolver.java      |  18 +
 .../exec/resolver/FunctionResolverFactory.java     |  27 +-
 .../exec/resolver/OperatorFunctionResolver.java    |  52 --
 .../exec/resolver/ResolverTypePrecedence.java      |  94 +-
 .../apache/drill/exec/resolver/TypeCastRules.java  | 993 +++++++++++----------
 .../drill/exec/resolver/UDFFunctionResolver.java   |  17 -
 .../org/apache/drill/exec/util/VectorUtil.java     |   6 +-
 .../org/apache/drill/exec/expr/ExpressionTest.java |   5 +-
 .../physical/impl/TestImplicitCastFunctions.java   | 179 ++++
 .../record/ExpressionTreeMaterializerTest.java     |  13 +-
 .../functions/cast/testICastConstant.json          |  54 ++
 .../resources/functions/cast/testICastMockCol.json |  45 +
 .../resources/functions/cast/testICastNullExp.json |  43 +
 pom.xml                                            |  10 +-
 sqlline                                            |   1 -
 34 files changed, 1339 insertions(+), 682 deletions(-)

commit 369454281caebc3947f8364bf48738b488b90895
Author: Yash <yash360@gmail.com>
Date:   Wed Nov 13 12:15:53 2013 +0530

    DRILL-259: Implicit cast precedence work
    
    Includes following changes:
    Created resolvers and mini precedence map
    
    changed operator resolution by adding getCost method
    
    Updated precedence map for operator resolution - typecast
    
    Modified DrillFuncHolder:getCost() to allow null arguments type in cast
    
    Cast Null arg precedence
    
    Added type cast rules : isCastable()
    
    Added type cast rules : isCastable()

 .../drill/common/expression/fn/MathFunctions.java  |   2 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   2 +
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  49 +++
 .../expr/fn/FunctionImplementationRegistry.java    |  19 +-
 .../drill/exec/expr/fn/impl/MathFunctions.java     |  31 ++
 .../exec/resolver/DefaultFunctionResolver.java     |  22 +
 .../drill/exec/resolver/FunctionResolver.java      |  12 +
 .../exec/resolver/FunctionResolverFactory.java     |  18 +
 .../exec/resolver/OperatorFunctionResolver.java    |  52 +++
 .../exec/resolver/ResolverTypePrecedence.java      |  41 ++
 .../apache/drill/exec/resolver/TypeCastRules.java  | 466 +++++++++++++++++++++
 .../drill/exec/resolver/UDFFunctionResolver.java   |  17 +
 exec/ref/src/test/resources/simple_plan.json       | 131 +++---
 pom.xml                                            |  10 +-
 sqlline                                            |   1 +
 15 files changed, 807 insertions(+), 66 deletions(-)

commit 931b641b1dfecdc5d1c0b65ebfbff6bbda099649
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Fri Nov 22 17:56:56 2013 -0800

    DRILL-316: Implement explicit casting
    Includes following changes:
    
    Parse syntax to support explicit cast function in physical or logical plan.
    
    prototype of explicit casting : parsing from plan's expr, and call generated cast code.
    
    Prototype of explicit cast with unit test.
    
    explicit cast: create different cast for type with fixed size vs with var size.
    
    explicit cast : minor change in comments, varname, etc.
    
    Drill-316 : explicit cast. change func def for cast with var size.
    
    Drill-316: minor change in unit test case for explicit cast.
    
    Drill-316 : modify the function def for cast functions.
    
    DRILL-316: prototype impl of cast from/to var-length type.
    
    Dirll-316 : add test case for explicit cast.
    
    Drill-316: explicit cast into varchar type from int, bigint, float4, float8. unit test physical plan added.
    
    Drill-316: change parser syntax for explicit cast. Add more test case physical plans.
    
    DRILL-316: explict cast. Use functiom template to generate all cast functions. Currently, excplict
    cast supports cast between int, bigint, float4, float8, varchar, varbinary. (total 30 combinations).
    
    Drill-316: explict cast - add test case for nested cast functions.
    
    Drill-316: minor change to function template for explicit cast.
    
    DRILL-316: add junit test case for explict cast, using 7 json physical plans.
    
    DRILL-316: explict cast. remove a test json file.
    
    DRILL-316: explicit cast. add a json testcase.
    
    DRILL-316: check return type for function resolution. delete two un-needed test json files.
    
    Drill-316: code change for review comment 1 and 2.
    
    Drill-316: address review comment 3.
    
    Drill-316: address testcase comments.
    
    Drill-316: Decode byte array directly into int/long, when cast varchar/varbinary into int/bigint.
    
    Drill-316: minor change to grammer rule for cast.

 .../drill/common/expression/parser/ExprLexer.g     |  11 +
 .../drill/common/expression/parser/ExprParser.g    |  40 +++
 .../drill/common/expression/FunctionCall.java      |   7 +-
 .../common/expression/FunctionDefinition.java      |   4 +
 .../drill/common/expression/FunctionRegistry.java  |  29 +-
 .../common/expression/OutputTypeDeterminer.java    |   8 +-
 .../common/expression/fn/CastFunctionDefs.java     |  38 +++
 exec/java-exec/src/main/codegen/data/Casts.tdd     |  44 ++-
 .../src/main/codegen/templates/CastFunctions.java  |   8 +-
 .../codegen/templates/CastFunctionsSrcVarLen.java  | 131 +++++++
 .../CastFunctionsSrcVarLenTargetVarLen.java        |  69 ++++
 .../templates/CastFunctionsTargetVarLen.java       |  67 ++++
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |   2 +
 .../expr/fn/FunctionImplementationRegistry.java    |   1 +
 .../drill/exec/vector/ValueHolderHelper.java       |   2 +-
 .../exec/physical/impl/TestCastFunctions.java      | 378 +++++++++++++++++++++
 .../resources/functions/cast/testCastBigInt.json   |  43 +++
 .../resources/functions/cast/testCastFloat4.json   |  44 +++
 .../resources/functions/cast/testCastFloat8.json   |  44 +++
 .../test/resources/functions/cast/testCastInt.json |  43 +++
 .../resources/functions/cast/testCastNested.json   |  43 +++
 .../functions/cast/testCastNumException.json       |  37 ++
 .../functions/cast/testCastVarBinary.json          |  55 +++
 .../resources/functions/cast/testCastVarChar.json  |  51 +++
 .../apache/drill/jdbc/test/FullEngineTPCHTest.java | 127 -------
 25 files changed, 1177 insertions(+), 149 deletions(-)

commit f95e9336ccfe5627558d7dc5aefce37b659fcbb9
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Wed Nov 20 09:57:09 2013 -0800

    Add a unit test case using TPCH related queries.

 .../apache/drill/jdbc/test/FullEngineTPCHTest.java | 127 +++++++++++++++++++++
 1 file changed, 127 insertions(+)

commit 4a87226371c81e0186347ca8d8dead50de5c2de5
Author: Timothy Chen <tnachen@gmail.com>
Date:   Tue Nov 19 23:40:14 2013 +0800

    DRILL-281 Add broadcast sender

 .../physical/base/AbstractPhysicalVisitor.java     |   5 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   1 +
 .../exec/physical/config/BroadcastExchange.java    |  79 +++++++++++++
 .../exec/physical/config/BroadcastSender.java      |  66 +++++++++++
 .../drill/exec/physical/impl/ScreenCreator.java    |   7 +-
 .../broadcastsender/BroadcastSenderCreator.java    |  36 ++++++
 .../broadcastsender/BroadcastSenderRootExec.java   | 131 +++++++++++++++++++++
 .../apache/drill/exec/record/WritableBatch.java    |   5 +
 .../org/apache/drill/exec/rpc/bit/BitTunnel.java   |  28 +++++
 .../exec/physical/impl/TestBroadcastExchange.java  |  87 ++++++++++++++
 .../test/resources/sender/broadcast_exchange.json  |  55 +++++++++
 .../sender/broadcast_exchange_long_run.json        |  53 +++++++++
 12 files changed, 548 insertions(+), 5 deletions(-)

commit 4a83dae35f8782a9737b31723769724f3b274894
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Sun Dec 1 20:11:27 2013 -0800

    DRILL-293: Sort operator throws NPE on empty record batch

 .../java/org/apache/drill/exec/physical/impl/sort/SortBatch.java     | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 366bf8e4564333dd26b1f5672d4dd0fea28afacc
Author: Mehant Baid <mehant@github.com>
Date:   Sun Dec 1 20:09:04 2013 -0800

    DRILL-297: Trace operator throws NPE if the configured path is not writable

 .../org/apache/drill/exec/physical/impl/trace/TraceRecordBatch.java  | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 316ce8a6f8f94c31574e7107be26addcfc92dc7f
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Sun Dec 1 20:07:45 2013 -0800

    DRILL-301: Join two tables hit IndexOutOfBoundsException

 .../exec/physical/impl/join/JoinTemplate.java      | 28 ++++++++++++----------
 .../drill/exec/physical/impl/join/JoinWorker.java  |  2 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    | 20 +++++++++-------
 3 files changed, 29 insertions(+), 21 deletions(-)

commit b12c0b155698a3d2ecd5cf3bfdf994fccd65f8d6
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sun Dec 1 20:06:05 2013 -0800

    DRILL-303: RecordBatchLoader.load always creates new schema

 .../drill/exec/record/RecordBatchLoader.java       | 17 +++---
 .../exec/physical/impl/TestUnionExchange.java      | 62 ++++++++++++++++++++++
 .../src/test/resources/sender/union_exchange.json  | 47 ++++++++++++++++
 3 files changed, 116 insertions(+), 10 deletions(-)

commit 2c811a83b30295fb39e1540ce76fbf54768ed50c
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sun Dec 1 20:04:44 2013 -0800

    DRILL-274: Spooling batch buffer

 distribution/src/resources/drill-override.conf     |  35 ++-
 .../java/org/apache/drill/exec/ExecConstants.java  |   5 +
 .../org/apache/drill/exec/ops/FragmentContext.java |  10 +-
 .../drill/exec/physical/impl/WireRecordBatch.java  |  15 +-
 .../impl/mergereceiver/MergingRecordBatch.java     |  15 +-
 .../exec/record/RawFragmentBatchProvider.java      |   4 +-
 .../drill/exec/store/LocalSyncableFileSystem.java  | 183 +++++++++++++++
 .../exec/work/batch/AbstractFragmentCollector.java |  22 +-
 .../drill/exec/work/batch/BatchCollector.java      |   4 +-
 .../drill/exec/work/batch/BitComHandlerImpl.java   |   2 +-
 .../drill/exec/work/batch/IncomingBuffers.java     |  24 +-
 .../drill/exec/work/batch/MergingCollector.java    |   5 +-
 .../exec/work/batch/PartitionedCollector.java      |   5 +-
 .../drill/exec/work/batch/RawBatchBuffer.java      |   4 +-
 .../exec/work/batch/SpoolingRawBatchBuffer.java    | 250 +++++++++++++++++++++
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |   4 +
 .../exec/work/foreman/RunningFragmentManager.java  |   6 +-
 .../exec/work/fragment/RemoteFragmentHandler.java  |   5 +-
 .../java-exec/src/main/resources/drill-module.conf |  11 +-
 .../org/apache/drill/exec/client/DumpCatTest.java  |   2 +-
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |   2 +-
 .../physical/impl/TestComparisonFunctions.java     |   2 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   4 +-
 .../exec/physical/impl/TestSimpleFunctions.java    |  10 +-
 .../drill/exec/physical/impl/agg/TestAgg.java      |   2 +-
 .../physical/impl/filter/TestSimpleFilter.java     |   4 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |   8 +-
 .../exec/physical/impl/limit/TestSimpleLimit.java  |   4 +-
 .../impl/project/TestSimpleProjection.java         |   2 +-
 .../exec/physical/impl/sort/TestSimpleSort.java    |   4 +-
 .../physical/impl/svremover/TestSVRemover.java     |   2 +-
 .../impl/trace/TestTraceMultiRecordBatch.java      |   2 +-
 .../physical/impl/trace/TestTraceOutputDump.java   |   2 +-
 .../exec/physical/impl/union/TestSimpleUnion.java  |   2 +-
 .../org/apache/drill/exec/work/batch/FileTest.java |  66 ++++++
 .../drill/exec/work/batch/TestSpoolingBuffer.java  |  62 +++++
 .../java-exec/src/test/resources/drill-module.conf |   4 +-
 .../test/resources/drill-spool-test-module.conf    |  83 +++++++
 .../resources/work/batch/multiple_exchange.json    |  48 ++++
 39 files changed, 851 insertions(+), 73 deletions(-)

commit 6c0389f394a789beb74103309f5bed13ddeccf95
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Sun Dec 1 19:48:57 2013 -0800

    DRILL-313: Fix for Limit operator only transferring buffers on new schema

 .../exec/physical/impl/limit/LimitRecordBatch.java |  8 ++--
 .../drill/exec/fn/impl/GeneratorFunctions.java     | 22 +++++++++-
 .../exec/physical/impl/limit/TestSimpleLimit.java  | 35 ++++++++++++++++
 exec/java-exec/src/test/resources/limit/test4.json | 49 ++++++++++++++++++++++
 4 files changed, 109 insertions(+), 5 deletions(-)

commit b91f2e8a837d7079c305442b41a3f3ef20b9846f
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sun Dec 1 19:37:40 2013 -0800

    DRILL-312: Modularize org.apache.drill.exec.physical.impl.ImplCreator using operator creator registry

 .../common/exceptions/ExecutionSetupException.java |  10 ++
 .../drill/exec/physical/impl/ImplCreator.java      | 175 ++-------------------
 .../physical/impl/OperatorCreatorRegistry.java     | 100 ++++++++++++
 .../apache/drill/exec/server/DrillbitContext.java  |  17 +-
 .../org/apache/drill/exec/client/DumpCatTest.java  |   6 +-
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |   2 +
 .../physical/impl/TestComparisonFunctions.java     |   1 +
 .../exec/physical/impl/TestSimpleFunctions.java    |   5 +
 .../drill/exec/physical/impl/agg/TestAgg.java      |   2 +
 .../physical/impl/filter/TestSimpleFilter.java     |   3 +
 .../exec/physical/impl/join/TestMergeJoin.java     |   5 +
 .../exec/physical/impl/limit/TestSimpleLimit.java  |   6 +
 .../impl/project/TestSimpleProjection.java         |   2 +
 .../exec/physical/impl/sort/TestSimpleSort.java    |   3 +
 .../physical/impl/svremover/TestSVRemover.java     |   2 +
 .../impl/trace/TestTraceMultiRecordBatch.java      |   4 +-
 .../physical/impl/trace/TestTraceOutputDump.java   |   4 +-
 .../exec/physical/impl/union/TestSimpleUnion.java  |   4 +
 18 files changed, 177 insertions(+), 174 deletions(-)

commit ba5e65207bac38519bc199ed95535932abab2908
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sun Dec 1 19:35:46 2013 -0800

    DRILL-311: Replace OrderedPartitionBatchCreator with OrderedPartitionSenderCreator

 .../drill/exec/physical/impl/ImplCreator.java      | 27 +++++++++++++++-------
 ...tor.java => OrderedPartitionSenderCreator.java} | 26 +++++++++++++--------
 .../partitionsender/PartitionSenderRootExec.java   |  2 +-
 3 files changed, 37 insertions(+), 18 deletions(-)

commit 622aad0fa976608bbf95a573091fa4429d9b0bf5
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Sun Dec 1 19:33:34 2013 -0800

    DRILL-317: StorageEngineRegistry creates a new StorageEngine everytime getEngine() is called

 .../apache/drill/exec/store/StorageEngineRegistry.java  | 17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit 3e2000341614be1345d963ccc3bffecb2922205d
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Mon Nov 18 09:46:00 2013 -0800

    DRILL-300: Move to "com.codahale.metrics" from "com.yammer.metrics"

 exec/java-exec/pom.xml                                       |  4 ++--
 .../drill/exec/cache/VectorAccessibleSerializable.java       |  4 ++--
 .../java/org/apache/drill/exec/metrics/DrillMetrics.java     |  8 ++++----
 .../apache/drill/exec/metrics/SingleThreadNestedCounter.java |  2 +-
 .../main/java/org/apache/drill/exec/ops/FragmentContext.java |  4 ++--
 .../java/org/apache/drill/exec/server/BootStrapContext.java  |  4 ++--
 .../java/org/apache/drill/exec/server/DrillbitContext.java   |  2 +-
 .../java/org/apache/drill/exec/store/AffinityCalculator.java |  4 ++--
 .../apache/drill/exec/store/parquet/ParquetGroupScan.java    |  6 +++---
 .../main/java/org/apache/drill/exec/work/FragmentRunner.java |  2 +-
 .../test/java/org/apache/drill/exec/client/DumpCatTest.java  |  4 ++--
 .../org/apache/drill/exec/fn/impl/TestRepeatedFunction.java  |  4 ++--
 .../drill/exec/physical/impl/TestComparisonFunctions.java    |  4 ++--
 .../org/apache/drill/exec/physical/impl/TestOptiqPlans.java  |  6 +++---
 .../apache/drill/exec/physical/impl/TestSimpleFunctions.java | 12 ++++++------
 .../org/apache/drill/exec/physical/impl/agg/TestAgg.java     |  4 ++--
 .../drill/exec/physical/impl/filter/TestSimpleFilter.java    |  6 +++---
 .../apache/drill/exec/physical/impl/join/TestMergeJoin.java  | 10 +++++-----
 .../drill/exec/physical/impl/limit/TestSimpleLimit.java      |  8 ++++----
 .../exec/physical/impl/project/TestSimpleProjection.java     |  4 ++--
 .../apache/drill/exec/physical/impl/sort/TestSimpleSort.java |  6 +++---
 .../drill/exec/physical/impl/svremover/TestSVRemover.java    |  4 ++--
 .../exec/physical/impl/trace/TestTraceMultiRecordBatch.java  |  4 ++--
 .../drill/exec/physical/impl/trace/TestTraceOutputDump.java  |  4 ++--
 .../drill/exec/physical/impl/union/TestSimpleUnion.java      |  4 ++--
 25 files changed, 62 insertions(+), 62 deletions(-)

commit dd39a5b799a357e4372ffd243a0b887351010f5d
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Fri Nov 15 19:07:37 2013 -0800

    DRILL-229: N-WAY merging receiver

 distribution/src/resources/drill-override.conf     |   2 +-
 .../physical/base/AbstractPhysicalVisitor.java     |   5 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   1 +
 .../exec/physical/config/MergingReceiverPOP.java   |  85 +++
 .../exec/physical/config/SingleMergeExchange.java  |  92 +++
 .../drill/exec/physical/impl/ImplCreator.java      |   6 +
 .../exec/physical/impl/MergingReceiverCreator.java |  49 ++
 .../MergingReceiverGeneratorBase.java              |  53 ++
 .../mergereceiver/MergingReceiverTemplate.java     |  62 ++
 .../impl/mergereceiver/MergingRecordBatch.java     | 622 +++++++++++++++++++++
 .../drill/exec/physical/impl/sort/SortBatch.java   |   4 +
 .../impl/mergereceiver/TestMergingReceiver.java    | 173 ++++++
 .../src/test/resources/mergerecv/empty_batch.json  |  50 ++
 .../test/resources/mergerecv/merging_receiver.json |  50 ++
 .../resources/mergerecv/multiple_providers.json    |  65 +++
 15 files changed, 1318 insertions(+), 1 deletion(-)

commit b07682084da96469e310028e67b365d005f99bdb
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Fri Nov 15 16:35:12 2013 -0800

    DRILL-299: OutgoingRecordBatch trying to get RecordCount on incoming batch with outcome NOT_YET

 .../impl/partitionsender/OutgoingRecordBatch.java  | 41 +++++-----------------
 .../physical/impl/TestHashToRandomExchange.java    |  2 --
 2 files changed, 8 insertions(+), 35 deletions(-)

commit 0e830960f55fbf3bca51c405ae67a02fdc0521b7
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Nov 15 16:13:32 2013 -0800

    Fix over memory pre-allocation within ParquetRecordReader.

 .../exec/store/parquet/ParquetRecordReader.java    | 91 ++++++++++++----------
 1 file changed, 48 insertions(+), 43 deletions(-)

commit dc2e17308e1be686e3422320c26249cbc8728047
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Nov 11 10:54:04 2013 -0800

    DRILL-164: Add QueryId return in UserResultListener so that REST api can use for external query management.

 .../main/java/org/apache/drill/exec/client/DrillClient.java  |  5 +++++
 .../java/org/apache/drill/exec/client/QuerySubmitter.java    |  5 +++++
 .../org/apache/drill/exec/rpc/user/QueryResultHandler.java   |  6 ++++++
 .../org/apache/drill/exec/rpc/user/UserResultsListener.java  |  7 ++-----
 .../org/apache/drill/exec/store/ParquetRecordReaderTest.java | 12 +++++++-----
 .../org/apache/drill/exec/store/TestParquetPhysicalPlan.java |  6 ++++++
 .../drill/exec/store/parquet/ParquetRecordReaderTest.java    |  5 +++++
 .../java/org/apache/drill/sql/client/full/BatchListener.java |  5 +++++
 8 files changed, 41 insertions(+), 10 deletions(-)

commit d17f483158493aca8a971c1674bf0d31975675df
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Oct 25 09:32:44 2013 -0700

    DRILL-254: Add iterator validator and correct interface violations

 .../physical/base/AbstractPhysicalVisitor.java     |   5 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   2 +
 .../exec/physical/config/IteratorValidator.java    |  48 +++++++++
 .../drill/exec/physical/impl/ImplCreator.java      |  16 ++-
 .../drill/exec/physical/impl/ScreenCreator.java    |  26 ++---
 .../exec/physical/impl/SingleSenderCreator.java    |   2 +-
 .../drill/exec/physical/impl/WireRecordBatch.java  |   7 ++
 .../OrderedPartitionRecordBatch.java               |  17 +--
 .../validate/IteratorValidatorBatchIterator.java   | 116 +++++++++++++++++++++
 .../impl/validate/IteratorValidatorCreator.java    |  39 +++++++
 .../impl/validate/IteratorValidatorInjector.java   |  74 +++++++++++++
 .../drill/exec/record/FragmentWritableBatch.java   |  20 +++-
 12 files changed, 344 insertions(+), 28 deletions(-)

commit c287fa604f6206752200d72359d3293c87078010
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Fri Nov 8 16:50:45 2013 -0800

    DRILL-266:Build tools to interpret the output dumped by the diagnostic operator.

 distribution/src/assemble/bin.xml                  |   4 +
 distribution/src/resources/drill_dumpcat           |  56 ++++
 .../exec/cache/VectorAccessibleSerializable.java   |   3 +-
 .../java/org/apache/drill/exec/client/DumpCat.java | 292 +++++++++++++++++++++
 .../apache/drill/exec/client/QuerySubmitter.java   |  33 +--
 .../org/apache/drill/exec/util/VectorUtil.java     |  68 +++++
 .../org/apache/drill/exec/client/DumpCatTest.java  | 133 ++++++++++
 7 files changed, 561 insertions(+), 28 deletions(-)

commit c591665343b7640d82397f5668f98b54c9e789a9
Author: Jinfeng Ni <jni@maprtech.com>
Date:   Fri Nov 8 09:23:22 2013 -0800

    Drill-278: fix for Join predicate with CHAR types hit run-time error

 .../org/apache/drill/exec/physical/impl/join/MergeJoinBatch.java | 9 ++-------
 1 file changed, 2 insertions(+), 7 deletions(-)

commit 8a571b3ea04f439b3303d7154b1450abcb2bf320
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Nov 8 09:20:28 2013 -0800

    Simple reformatting

 .../physical/impl/trace/TraceBatchCreator.java     |  16 +-
 .../exec/physical/impl/trace/TraceRecordBatch.java | 224 ++++++++++-----------
 .../apache/drill/exec/record/WritableBatch.java    |  52 +++--
 3 files changed, 138 insertions(+), 154 deletions(-)

commit b44b6c719bb4cf7159ef0cb0c6ec172b3273f681
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Oct 31 17:29:26 2013 -0700

    DRILL-271 Address code review comments. VectorAccessibleSerializable now take WritableBatch. Release and reconstruct code now part of Writablebatch class.

 .../exec/cache/VectorAccessibleSerializable.java   | 181 ++++++---------------
 .../OrderedPartitionRecordBatch.java               |   6 +-
 .../exec/physical/impl/trace/TraceRecordBatch.java |  25 ++-
 .../apache/drill/exec/record/WritableBatch.java    |  58 +++++++
 .../apache/drill/exec/cache/TestVectorCache.java   |   8 +-
 .../apache/drill/exec/cache/TestWriteToDisk.java   |   8 +-
 6 files changed, 133 insertions(+), 153 deletions(-)

commit 0ac0b19b4bd986e6323799ce54453336821a17f7
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Oct 30 18:22:13 2013 -0700

    DRILL-271 abstract out serialization in trace record batch by using VectorAccessibleSerializable. Add ability to retain vectors.

 .../java/org/apache/drill/exec/ExecConstants.java  |   1 +
 .../exec/cache/VectorAccessibleSerializable.java   | 105 ++++++++++++-
 .../exec/physical/impl/trace/TraceRecordBatch.java | 168 +++------------------
 .../exec/record/AbstractSingleRecordBatch.java     |   1 +
 .../java-exec/src/main/resources/drill-module.conf |   3 +-
 .../physical/impl/trace/TestTraceOutputDump.java   |  59 +++-----
 6 files changed, 147 insertions(+), 190 deletions(-)

commit 90c302def50ca74e7c4c2b2c40a75a8250f4df00
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Oct 30 11:25:10 2013 -0700

    DRILL-271 release buffer in VectorAccessibleSerializable read. Also read directly from stream.

 .../org/apache/drill/exec/cache/VectorAccessibleSerializable.java    | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit d529352e03410e1612db691677dc90c855342c01
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Oct 29 20:24:00 2013 -0700

    DRILL-271 refactor DistributedCache code. Uses hazel cast 3.1 and custom serialization.

 exec/java-exec/pom.xml                             |   2 +-
 .../exec/cache/HCDrillSerializableWrapper.java     |  63 ------------
 .../exec/cache/HCSerializableWrapperClasses.java   |  31 ------
 .../exec/cache/HCVectorAccessibleSerializer.java   |  56 +++++++++++
 .../org/apache/drill/exec/cache/HazelCache.java    |  37 ++++---
 .../org/apache/drill/exec/cache/LocalCache.java    |  12 ++-
 .../org/apache/drill/exec/cache/ProtoBufWrap.java  |   8 +-
 ...able.java => VectorAccessibleSerializable.java} |  30 +++---
 .../OrderedPartitionRecordBatch.java               |  20 ++--
 .../org/apache/drill/exec/server/Drillbit.java     |   6 +-
 .../apache/drill/exec/cache/TestVectorCache.java   |   8 +-
 .../apache/drill/exec/cache/TestWriteToDisk.java   | 108 +++++++++++++++++++++
 12 files changed, 233 insertions(+), 148 deletions(-)

commit 266d24836d079b5d4ddba013f04a79716da24d86
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Oct 28 17:34:05 2013 -0700

    DRILL-271 retool VectorContainerSerializable to work with containers and batches. also modify DrillSerializable to work with InputStream, OutputStream

 .../apache/drill/exec/cache/DrillSerializable.java |  10 +-
 .../exec/cache/VectorContainerSerializable.java    | 156 +++++++++++++++------
 .../apache/drill/exec/client/QuerySubmitter.java   |   2 +-
 .../OrderedPartitionRecordBatch.java               |   2 +
 .../apache/drill/exec/cache/TestVectorCache.java   |   4 +-
 5 files changed, 128 insertions(+), 46 deletions(-)

commit 30ada5decc9ab92fb95d075f2d01ab1387ce8c22
Author: Mehant Baid <mehant@github.com>
Date:   Wed Oct 23 23:19:36 2013 -0700

    Addressed review comments from Jacques

 .../drill/exec/physical/impl/TraceInjector.java    |   2 +-
 .../exec/physical/impl/trace/TraceRecordBatch.java | 281 +++++++++++++--------
 .../exec/record/AbstractSingleRecordBatch.java     |   2 +-
 .../org/apache/drill/exec/proto/UserBitShared.java |  42 +--
 protocol/src/main/protobuf/UserBitShared.proto     |   2 +-
 5 files changed, 199 insertions(+), 130 deletions(-)

commit 6c78890a81e4d487926d9bfc3c0eb68edfa07524
Author: Mehant Baid <mehant@github.com>
Date:   Wed Oct 23 02:04:01 2013 -0700

    DRILL-256 revised patch

 distribution/src/resources/drill-override.conf     |   3 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   1 +
 .../org/apache/drill/exec/ops/FragmentContext.java |   5 +
 .../physical/base/AbstractPhysicalVisitor.java     |   5 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   1 +
 .../apache/drill/exec/physical/config/Trace.java   |  70 ++++++
 .../drill/exec/physical/impl/ImplCreator.java      |  12 +-
 .../drill/exec/physical/impl/TraceInjector.java    |  90 +++++++
 .../physical/impl/trace/TraceBatchCreator.java     |  41 ++++
 .../exec/physical/impl/trace/TraceRecordBatch.java | 259 +++++++++++++++++++++
 .../drill/exec/record/RecordBatchLoader.java       |   3 +-
 .../apache/drill/exec/record/WritableBatch.java    |  15 +-
 .../exec/record/selection/SelectionVector2.java    |  44 +++-
 .../java-exec/src/main/resources/drill-module.conf |   3 +
 .../impl/trace/TestTraceMultiRecordBatch.java      |  84 +++++++
 .../physical/impl/trace/TestTraceOutputDump.java   | 161 +++++++++++++
 .../apache/drill/exec/record/vector/TestLoad.java  |   2 +-
 .../resources/trace/multi_record_batch_trace.json  |  49 ++++
 .../src/test/resources/trace/simple_trace.json     |  37 +++
 .../org/apache/drill/exec/proto/UserBitShared.java | 100 +++++++-
 .../drill/exec/proto/helper/QueryIdHelper.java     |  32 +++
 protocol/src/main/protobuf/UserBitShared.proto     |   3 +-
 22 files changed, 993 insertions(+), 27 deletions(-)

commit 964f014134cc485af846232c95ff68969f84f5ee
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Oct 30 17:28:41 2013 -0700

    Add Apache License to review tool so RAT doesn't break.

 tools/drill-patch-review.py | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 1cd0a45bfc7af4229908988cac75806f2c128225
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Wed Oct 30 16:56:26 2013 -0700

    DRILL-193: add missing copyright headers

 .../exec/physical/impl/filter/FilterRecordBatch.java    |  1 -
 .../exec/physical/impl/filter/FilterTemplate2.java      | 17 +++++++++++++++++
 .../exec/physical/impl/filter/FilterTemplate4.java      | 17 +++++++++++++++++
 3 files changed, 34 insertions(+), 1 deletion(-)

commit 4481dadcec3d96638274469e695053c4d7c95805
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Fri Aug 30 09:13:14 2013 -0700

    implement SV4 support for filter

 .../physical/impl/filter/FilterRecordBatch.java    | 118 +++++++++++++++++----
 .../{FilterTemplate.java => FilterTemplate2.java}  |  27 ++---
 .../exec/physical/impl/filter/FilterTemplate4.java |  52 +++++++++
 .../drill/exec/physical/impl/filter/Filterer.java  |   3 +-
 .../exec/record/selection/SelectionVector4.java    |  11 +-
 .../drill/exec/physical/impl/SimpleRootExec.java   |   5 +
 .../physical/impl/filter/TestSimpleFilter.java     |  30 +++++-
 .../src/test/resources/filter/test_sv4.json        |  42 ++++++++
 8 files changed, 241 insertions(+), 47 deletions(-)

commit a73512d3ca7f78baac7368ccd4c40223956fdc53
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Wed Oct 30 16:12:23 2013 -0700

    rebase DRILL-45 to current master

 .../org/apache/drill/common/PlanProperties.java    | 36 ----------------------
 .../drill/common/logical/LogicalPlanBuilder.java   |  0
 .../drill/common/logical/PlanProperties.java       |  5 +++
 .../drill/common/logical/data/ScanBuilder.java     |  0
 .../drill/common/logical/data/StoreBuilder.java    |  0
 .../org/apache/drill/exec/opt/BasicOptimizer.java  | 10 +++---
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  |  2 +-
 7 files changed, 11 insertions(+), 42 deletions(-)

commit 727adb75bf6098b25bf7596faa026bd181b51e53
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Tue Jun 11 13:09:29 2013 -0700

    DRILL-45: Implement builders for Scan, Sort, LogicalPlan and PlanProperties.

 .../org/apache/drill/common/PlanProperties.java    | 14 ++--
 .../apache/drill/common/logical/LogicalPlan.java   |  7 +-
 .../org/apache/drill/common/logical/data/Scan.java |  6 +-
 .../apache/drill/common/logical/data/Store.java    | 22 +++---
 common/src/test/resources/storage_engine_plan.json | 48 +++++++------
 .../apache/drill/exec/physical/PhysicalPlan.java   |  2 +-
 .../drill/common/logical/LogicalPlanBuilder.java   | 47 +++++++++++++
 .../drill/common/logical/PlanProperties.java       | 81 ++++++++++++++++++++++
 .../drill/common/logical/data/ScanBuilder.java     | 49 +++++++++++++
 .../drill/common/logical/data/StoreBuilder.java    | 49 +++++++++++++
 .../common/logical/LogicalPlanBuilderTest.java     | 64 +++++++++++++++++
 .../drill/common/logical/data/ScanBuilderTest.java | 48 +++++++++++++
 .../common/logical/data/StoreBuilderTest.java      | 48 +++++++++++++
 13 files changed, 440 insertions(+), 45 deletions(-)

commit 438ae025e67beca5df012e0e7b086e9d315cfcf7
Author: Timothy Chen <tnachen@gmail.com>
Date:   Tue Sep 24 18:53:19 2013 -0700

    Add rb/jira review tool

 tools/drill-patch-review.py | 109 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 109 insertions(+)

commit fe94aa8147beb8c67fca5a184748b151c2b4b7ba
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Oct 21 23:03:49 2013 -0700

    DRILL-230: Addressing comments in code review, abstract out references to HazelCache and add comments

 .../drill/common/util/DataInputInputStream.java    |  81 +++++++
 .../drill/common/util/DataOutputOutputStream.java  |  66 ++++++
 .../java/org/apache/drill/exec/cache/Counter.java  |  25 +++
 .../apache/drill/exec/cache/DistributedCache.java  |   6 +-
 .../apache/drill/exec/cache/DistributedMap.java    |  28 +++
 .../drill/exec/cache/DistributedMultiMap.java      |  26 +++
 .../apache/drill/exec/cache/DrillSerializable.java |  31 +++
 .../exec/cache/HCDrillSerializableWrapper.java     |  63 ++++++
 .../exec/cache/HCSerializableWrapperClasses.java   |  31 +++
 .../org/apache/drill/exec/cache/HazelCache.java    |  91 +++++++-
 .../org/apache/drill/exec/cache/LocalCache.java    | 146 ++++++++++++-
 .../exec/cache/VectorContainerSerializable.java    | 108 +++++++++
 .../org/apache/drill/exec/cache/VectorWrap.java    | 106 ---------
 .../physical/config/OrderedPartitionExchange.java  |  26 ++-
 .../physical/config/OrderedPartitionSender.java    |  26 ++-
 .../drill/exec/physical/impl/WireRecordBatch.java  |   2 -
 .../OrderedPartitionProjectorTemplate.java         |   3 +-
 .../OrderedPartitionRecordBatch.java               | 242 +++++++++++++--------
 .../orderedpartitioner/SortContainerBuilder.java   | 101 ---------
 .../impl/partitionsender/OutgoingRecordBatch.java  |   1 -
 .../partitionsender/PartitionSenderRootExec.java   |   1 -
 .../exec/physical/impl/sort/RecordBatchData.java   |  38 ++--
 .../drill/exec/physical/impl/sort/SortBatch.java   |   5 +-
 .../physical/impl/sort/SortRecordBatchBuilder.java |  21 +-
 .../exec/physical/impl/sort/SortTemplate.java      |   2 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |   2 +-
 .../apache/drill/exec/record/VectorContainer.java  |   4 +
 .../apache/drill/exec/cache/TestVectorCache.java   |  30 +--
 .../TestOrderedPartitionExchange.java              |  14 +-
 .../org/apache/drill/exec/util/BatchPrinter.java   |   3 +
 .../test/resources/sender/ordered_exchange.json    |   4 +-
 .../java/org/apache/drill/jdbc/DrillTable.java     |   2 +-
 .../org/apache/drill/optiq/EnumerableDrill.java    |   2 +-
 .../apache/drill/sql/client/ref/DrillRefImpl.java  |   2 +-
 34 files changed, 955 insertions(+), 384 deletions(-)

commit 5ca503c141f76d8c01c89d0e3a58e1c117ef051f
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Sep 12 20:13:15 2013 -0700

    DRILL-230: Build a sampling range partitioner

 .../common/expression/OutputTypeDeterminer.java    |   3 +-
 exec/java-exec/pom.xml                             |   4 +
 .../org/apache/drill/exec/cache/HazelCache.java    |  23 +-
 .../org/apache/drill/exec/cache/VectorWrap.java    | 106 ++++++
 .../org/apache/drill/exec/client/DrillClient.java  |   3 +
 .../apache/drill/exec/client/QuerySubmitter.java   |   3 +-
 .../exec/expr/ExpressionTreeMaterializer.java      |   7 +-
 .../physical/base/AbstractPhysicalVisitor.java     |   5 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   1 +
 .../physical/config/OrderedPartitionExchange.java  |  93 +++++
 .../physical/config/OrderedPartitionSender.java    |  93 +++++
 .../drill/exec/physical/impl/ImplCreator.java      |  12 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |   3 +-
 .../drill/exec/physical/impl/WireRecordBatch.java  |   2 +
 .../OrderedPartitionBatchCreator.java              |  39 ++
 .../OrderedPartitionProjector.java                 |  40 ++
 .../OrderedPartitionProjectorTemplate.java         | 101 ++++++
 .../OrderedPartitionRecordBatch.java               | 403 +++++++++++++++++++++
 .../impl/orderedpartitioner/SampleCopier.java      |  33 ++
 .../orderedpartitioner/SampleCopierTemplate.java   |  63 ++++
 .../orderedpartitioner/SampleSortTemplate.java     |  61 ++++
 .../impl/orderedpartitioner/SampleSorter.java      |  33 ++
 .../orderedpartitioner/SortContainerBuilder.java   | 101 ++++++
 .../impl/partitionsender/OutgoingRecordBatch.java  |   7 +-
 .../partitionsender/PartitionSenderRootExec.java   |  11 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   2 +-
 .../exec/physical/impl/sort/RecordBatchData.java   |  16 +
 .../drill/exec/physical/impl/sort/SortBatch.java   |  32 +-
 .../physical/impl/sort/SortRecordBatchBuilder.java |  19 +-
 .../exec/physical/impl/sort/SortTemplate.java      |   8 +-
 .../drill/exec/physical/impl/sort/Sorter.java      |   2 +-
 .../exec/planner/fragment/SimpleParallelizer.java  |   2 +-
 .../drill/exec/record/AbstractRecordBatch.java     |   2 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |   3 +-
 .../drill/exec/record/RecordBatchLoader.java       |   6 +-
 .../apache/drill/exec/record/VectorAccessible.java |  35 ++
 .../apache/drill/exec/record/VectorContainer.java  |  21 +-
 .../org/apache/drill/exec/util/BatchPrinter.java   |  90 +++++
 .../apache/drill/exec/cache/TestVectorCache.java   |  97 +++++
 .../drill/exec/fn/impl/GeneratorFunctions.java     | 110 ++++++
 .../physical/impl/TestHashToRandomExchange.java    |   2 +
 .../TestOrderedPartitionExchange.java              | 124 +++++++
 .../org/apache/drill/exec/pop/PopUnitTestBase.java |   4 +-
 .../src/test/resources/sender/hash_exchange.json   |   4 +-
 .../src/test/resources/sender/hash_exchange2.json  |  47 +++
 .../test/resources/sender/ordered_exchange.json    |  74 ++++
 46 files changed, 1894 insertions(+), 56 deletions(-)

commit 135b0dbcdd61044447fa1012d44a9bb436072ec7
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Oct 17 15:59:10 2013 -0700

    DRILL-264: MappingSets should not be static

 .../exec/physical/impl/aggregate/AggBatch.java     | 30 +++++++++++-----------
 .../drill/exec/physical/impl/sort/SortBatch.java   |  6 ++---
 2 files changed, 18 insertions(+), 18 deletions(-)

commit 8b64b942558d6d38038de4755b9e333a393b45f6
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Tue Sep 17 10:46:24 2013 -0700

    DRILL-242: fix negative hash values, sort order POP case and sending of empty batches with no schema

 .../exec/physical/impl/partitionsender/OutgoingRecordBatch.java     | 6 ++----
 .../exec/physical/impl/partitionsender/PartitionSenderRootExec.java | 2 +-
 2 files changed, 3 insertions(+), 5 deletions(-)

commit f3ecb2077acaf21c46a1ce2145d21cbc0e9b635e
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Sep 19 21:44:17 2013 -0700

    DRILL-263: PartitionSender not setting opposite minor fragment id correctly

 .../physical/impl/partitionsender/OutgoingRecordBatch.java    |  8 +++++---
 .../impl/partitionsender/PartitionSenderRootExec.java         | 11 ++++++++---
 2 files changed, 13 insertions(+), 6 deletions(-)

commit 70cd6af563bb90fa21f62ed055ce8335a3db60be
Author: Timothy Chen <tnachen@gmail.com>
Date:   Tue Oct 15 09:28:53 2013 -0700

    Kill incoming batch when limit is met

 .../java/org/apache/drill/exec/physical/impl/limit/LimitRecordBatch.java | 1 +
 1 file changed, 1 insertion(+)

commit 2b7fd5af8b9a4738fed3f879ed5edca718580cd7
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Oct 9 10:58:50 2013 -0700

    Update prepare to exclude Optiq's ENUMERABLE_* rules.  Update Limit and Sort rules to convert as required.  Add test for limit + order by.

 .../org/apache/drill/optiq/DrillLimitRule.java     | 36 +++++++++++-----------
 .../org/apache/drill/optiq/DrillPrepareImpl.java   | 19 ++++++++----
 .../java/org/apache/drill/optiq/DrillSortRule.java | 15 +++++----
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  | 19 +++++++++++-
 4 files changed, 58 insertions(+), 31 deletions(-)

commit e11c2e5e9d6c6291b885513d380c4d1098e35d5a
Author: Timothy Chen <tnachen@gmail.com>
Date:   Sat Sep 28 11:04:17 2013 -0700

    Fix order with limit

 .../main/java/org/apache/drill/optiq/DrillLimitRel.java  |  2 +-
 .../main/java/org/apache/drill/optiq/DrillLimitRule.java | 16 ++++++++--------
 2 files changed, 9 insertions(+), 9 deletions(-)

commit ecb5e15ed5591bfa3cdd6935eb848cd6f57c4ca0
Author: Timothy Chen <tnachen@gmail.com>
Date:   Wed Sep 18 22:28:58 2013 -0700

    Address comments and make limit work across batches

 LICENSE                                            |   2 +-
 .../java/org/apache/drill/common/JSONOptions.java  |   2 +-
 .../apache/drill/common/logical/data/Constant.java |   2 +-
 .../apache/drill/common/logical/data/Limit.java    |  40 +++--
 .../drill/common/logical/data/LogicalOperator.java |  31 ++--
 .../common/logical/data/LogicalOperatorBase.java   |   6 +
 .../physical/impl/limit/LimitBatchCreator.java     |  17 +++
 .../exec/physical/impl/limit/LimitRecordBatch.java |  81 ++++++++--
 .../exec/physical/impl/limit/TestSimpleLimit.java  |  51 ++++++-
 exec/java-exec/src/test/resources/limit/test2.json |  41 +++++
 exec/java-exec/src/test/resources/limit/test3.json |  40 +++++
 pom.xml                                            |   2 +-
 .../org/apache/drill/optiq/DrillImplementor.java   |   7 +-
 .../java/org/apache/drill/optiq/DrillLimitRel.java |  29 +++-
 .../org/apache/drill/optiq/DrillLimitRule.java     |  21 ++-
 .../java/org/apache/drill/optiq/DrillSortRule.java |   2 +-
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |  62 ++++----
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  | 165 +++++++++++++++------
 18 files changed, 476 insertions(+), 125 deletions(-)

commit b7d41ebeeb393fbebaedeb8f84829987a137c68f
Author: Timothy Chen <tnachen@gmail.com>
Date:   Mon Aug 19 23:29:58 2013 -0700

    Adding limit operator and sql rules

 .../apache/drill/common/logical/data/Limit.java    |  10 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  19 ++--
 .../physical/base/AbstractPhysicalVisitor.java     |  20 ++--
 .../drill/exec/physical/base/PhysicalVisitor.java  |  15 +--
 .../apache/drill/exec/physical/config/Limit.java   |  63 ++++++++++++
 .../drill/exec/physical/impl/ImplCreator.java      |  19 ++--
 .../physical/impl/limit/LimitBatchCreator.java     |  17 ++++
 .../exec/physical/impl/limit/LimitRecordBatch.java | 107 +++++++++++++++++++++
 .../exec/planner/fragment/StatsCollector.java      |   7 ++
 .../exec/physical/impl/limit/TestSimpleLimit.java  |  51 ++++++++++
 exec/java-exec/src/test/resources/limit/test1.json |  41 ++++++++
 .../org/apache/drill/exec/ref/rops/LimitROP.java   |   8 +-
 .../java/org/apache/drill/optiq/DrillLimitRel.java |  43 +++++++++
 .../org/apache/drill/optiq/DrillLimitRule.java     |  40 ++++++++
 .../java/org/apache/drill/optiq/DrillOptiq.java    |   1 +
 .../java/org/apache/drill/optiq/DrillSortRel.java  |  14 ++-
 .../java/org/apache/drill/optiq/DrillSortRule.java |   5 +
 .../org/apache/drill/jdbc/test/FullEngineTest.java |   1 -
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  |  31 ++++++
 19 files changed, 450 insertions(+), 62 deletions(-)

commit 251022f8494e8f1efe3e2faaa38cbb686f330eb2
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Sep 12 20:13:15 2013 -0700

    DRILL-246: Improve command line parsing for QuerySubmitter

 distribution/src/resources/submit_plan             | 18 +-------
 .../apache/drill/exec/client/QuerySubmitter.java   | 52 +++++++++++++++++++---
 2 files changed, 49 insertions(+), 21 deletions(-)

commit 8540450e179aa03f86ea204bdf1a1c064a90a46e
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Sep 12 20:12:46 2013 -0700

    DRILL-245: NPE in ProtoMap (hazel cache)

 exec/java-exec/src/main/java/org/apache/drill/exec/cache/ProtoMap.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4ccea48905cca4a822521c83ad2ff31eb62bfa06
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Sep 12 20:11:55 2013 -0700

    DRILL-244: NPE when updating assignment affinity metric

 .../java/org/apache/drill/exec/store/parquet/ParquetGroupScan.java  | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit c93a5a1dc396fc8378da77b62a9e61314fbc98b4
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Sep 12 20:11:02 2013 -0700

    DRILL-243: lowercase asc/desc in generated physical plans causes failures

 common/src/main/java/org/apache/drill/common/logical/data/Order.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5883d152d4750d987cf2c2154fd25c9276bdc0c4
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Sep 5 20:01:56 2013 -0700

    DRILL-237: Add local mode to QuerySubmitter

 .../org/apache/drill/exec/client/QuerySubmitter.java    | 17 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

commit b5a3b55c511e33a05c9665d581fea0a15ccacaf9
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Sep 5 20:00:47 2013 -0700

    DRILL-236 ensure that each minor fragment has at least one entry assigned to it

 .../java/org/apache/drill/exec/store/parquet/ParquetGroupScan.java | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 627c84e14bb87384a4871790d3e38ede02480768
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Sep 5 20:00:02 2013 -0700

    DRILL-235: Add configuration parameters to control number of threads and width of queries

 distribution/src/resources/drill-override.conf     | 43 +++++++++++----
 .../java/org/apache/drill/exec/ExecConstants.java  | 14 +++--
 .../org/apache/drill/exec/client/DrillClient.java  |  2 +-
 .../drill/exec/planner/SimpleExecPlanner.java      |  6 ++-
 .../exec/planner/fragment/SimpleParallelizer.java  |  9 ++--
 .../drill/exec/planner/fragment/Wrapper.java       |  1 -
 .../apache/drill/exec/server/BootStrapContext.java |  2 +-
 .../apache/drill/exec/service/ServiceEngine.java   |  3 +-
 .../org/apache/drill/exec/work/WorkManager.java    |  5 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  5 +-
 .../java-exec/src/main/resources/drill-module.conf | 34 ++++++++----
 .../apache/drill/exec/pop/TestFragmentChecker.java |  2 +-
 .../java-exec/src/test/resources/drill-module.conf | 63 ++++++++++++++--------
 13 files changed, 133 insertions(+), 56 deletions(-)

commit 82a7b8fd8300696979dbba62f466a15e23fb94ca
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Sep 10 16:01:51 2013 -0700

    DRILL-227: implement simple metrics framework

 .../java/org/apache/drill/exec/ExecConstants.java  |  3 +
 .../apache/drill/exec/metrics/DrillMetrics.java    | 67 ++++++++++++++++++++++
 .../drill/exec/store/AffinityCalculator.java       | 16 +++---
 .../drill/exec/store/parquet/ParquetGroupScan.java | 31 ++++++++--
 .../java-exec/src/main/resources/drill-module.conf |  9 ++-
 exec/java-exec/src/test/sh/logback.xml             |  4 +-
 6 files changed, 113 insertions(+), 17 deletions(-)

commit 7af77a2f3bbc13f2ca8a5197c488b415971707c2
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Sep 19 09:27:36 2013 -0700

    Correct protocol root pom reference due to merge conflict

 protocol/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 50d3a7e52da7d6641a249f202b7893d6334d1b8c
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Sep 11 00:57:03 2013 -0700

    DRILL-228 maven submodule build fails at license-maven-plugin

 pom.xml | 19 -------------------
 1 file changed, 19 deletions(-)

commit ba631ac6eb8a17637be673c4d327560dc10309d5
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Sep 11 18:48:04 2013 -0700

    DRILL-240: Add apache-rat-plugin to Eclipse' plugin Execution ignore list

 pom.xml | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit 07c6c21d1556e1bf93160da2f0c2158c3ab97bb9
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Tue Sep 10 22:16:45 2013 -0700

    DRILL-233: Move protobuf IDLs to a separate module and check in the compile Java sources

 common/pom.xml                                     |   19 +-
 distribution/pom.xml                               |    5 +
 distribution/src/assemble/bin.xml                  |    4 +
 exec/java-exec/pom.xml                             |   36 +-
 pom.xml                                            |    1 +
 protocol/pom.xml                                   |  122 +
 protocol/readme.txt                                |   13 +
 .../org/apache/drill/common/types/TypeProtos.java  | 1636 +++++
 .../drill/exec/proto/CoordinationProtos.java       | 2387 +++++++
 .../org/apache/drill/exec/proto/ExecProtos.java    | 7095 ++++++++++++++++++++
 .../apache/drill/exec/proto/GeneralRPCProtos.java  | 2888 ++++++++
 .../apache/drill/exec/proto/SchemaDefProtos.java   | 1907 ++++++
 .../org/apache/drill/exec/proto/UserBitShared.java | 4969 ++++++++++++++
 .../org/apache/drill/exec/proto/UserProtos.java    | 5185 ++++++++++++++
 .../src/main/protobuf/Coordination.proto           |    0
 .../src/main/protobuf/ExecutionProtos.proto        |    0
 .../src/main/protobuf/GeneralRPC.proto             |    0
 .../src/main/protobuf/SchemaDef.proto              |    0
 {common => protocol}/src/main/protobuf/Types.proto |    0
 .../src/main/protobuf/User.proto                   |    0
 .../src/main/protobuf/UserBitShared.proto          |    0
 21 files changed, 26222 insertions(+), 45 deletions(-)

commit c9155eeb47efcb4d4e05d4fb2ab5afadafae1669
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Sep 11 13:49:35 2013 -0700

    DRILL-234: Prefix drill artifacts with "drill-" to avoid ambiguity in jar names.

 common/pom.xml                    |  2 +-
 contrib/pom.xml                   |  2 +-
 contrib/sqlline/pom.xml           |  6 +++---
 contrib/storage-hbase/pom.xml     |  4 ++--
 distribution/pom.xml              | 12 ++++++------
 distribution/src/assemble/bin.xml | 10 +++++-----
 exec/bufferl/pom.xml              |  4 ++--
 exec/java-exec/pom.xml            | 10 +++++-----
 exec/ref/pom.xml                  |  4 ++--
 sqlparser/pom.xml                 | 12 ++++++------
 10 files changed, 33 insertions(+), 33 deletions(-)

commit c9f90c21f46ae7d28c35d1fe68844754479ba1db
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Sep 17 10:12:19 2013 -0700

    Fix bufferl snapshot version so it depends on correct netty upstream

 exec/bufferl/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a77cd670e2461ff8c65401303e18a89a756a8e99
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Sep 10 22:06:41 2013 -0700

    [maven-release-plugin] prepare for next development iteration

 common/pom.xml                | 2 +-
 contrib/pom.xml               | 2 +-
 contrib/sqlline/pom.xml       | 2 +-
 contrib/storage-hbase/pom.xml | 2 +-
 distribution/pom.xml          | 4 ++--
 exec/bufferl/pom.xml          | 4 ++--
 exec/java-exec/pom.xml        | 4 ++--
 exec/pom.xml                  | 2 +-
 exec/ref/pom.xml              | 2 +-
 pom.xml                       | 4 ++--
 sqlparser/pom.xml             | 2 +-
 11 files changed, 15 insertions(+), 15 deletions(-)

commit 49ba20a9187a77ea47fd13ca03124281d871b6e4
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Sep 10 22:06:41 2013 -0700

    [maven-release-plugin] prepare release drill-1.0.0-m1

 common/pom.xml                |  6 ++----
 contrib/pom.xml               |  5 ++---
 contrib/sqlline/pom.xml       |  6 ++----
 contrib/storage-hbase/pom.xml |  5 ++---
 distribution/pom.xml          |  5 ++---
 exec/bufferl/pom.xml          |  5 ++---
 exec/java-exec/pom.xml        | 12 ++++--------
 exec/pom.xml                  |  2 +-
 exec/ref/pom.xml              |  6 ++----
 pom.xml                       | 16 ++++++++--------
 sqlparser/pom.xml             |  6 ++----
 11 files changed, 29 insertions(+), 45 deletions(-)

commit c7daa9e51a760bd0cc2050b89a39b668ba766d6b
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Sep 10 19:55:23 2013 -0700

    Update source assembly:
    - to avoid packaging sandbox files.
    - exclude .buildpath files from source release.

 src/assembly/source-assembly.xml | 61 ++++++++++++++++++++++++++--------------
 1 file changed, 40 insertions(+), 21 deletions(-)

commit 43d71f1061face8eac853d8b72009b775362a5de
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Sep 10 19:02:19 2013 -0700

    DRILL-221, part 3.  More license updates.  Automatically run Rat plugin with appropriate excludes.  Move Synth-log to sandbox until it is part of main mvn build to avoid weird RAT problems.

 LICENSE                                            | 17 ++++++
 NOTICE                                             |  4 +-
 common/pom.xml                                     |  2 +-
 common/src/main/protobuf/Types.proto               | 16 +++++
 common/src/main/resources/drill-default.conf       | 16 +++++
 common/src/main/resources/drill-module.conf        | 18 +++++-
 common/src/test/resources/drill-module.conf        | 16 +++++
 common/src/test/resources/logback.xml              | 12 +++-
 contrib/pom.xml                                    |  2 +-
 contrib/sqlline/pom.xml                            |  2 +-
 contrib/storage-hbase/pom.xml                      |  2 +-
 .../synth-log/src/main/resources/log4j.properties  | 11 ----
 distribution/pom.xml                               | 16 ++++-
 distribution/src/assemble/bin.xml                  | 17 ++++++
 distribution/src/deb/control/conffiles             | 17 +++++-
 distribution/src/resources/logback.xml             | 10 ++++
 exec/bufferl/pom.xml                               |  2 +-
 exec/java-exec/pom.xml                             |  2 +-
 exec/java-exec/src/main/codegen/config.fmpp        | 16 +++++
 exec/java-exec/src/main/codegen/data/Casts.tdd     | 18 +++++-
 .../src/main/codegen/data/CompareTypes.tdd         | 17 +++++-
 .../src/main/codegen/data/ValueVectorTypes.tdd     | 16 +++++
 .../src/main/codegen/includes/vv_imports.ftl       | 11 ++++
 exec/java-exec/src/main/resources/logback.xml      | 16 +++++
 exec/java-exec/src/main/sh/runbit                  | 14 +++++
 exec/java-exec/src/test/resources/logback.xml      | 18 +++++-
 exec/java-exec/src/test/sh/logback.xml             | 16 +++++
 exec/java-exec/src/test/sh/runbit                  | 15 +++++
 exec/pom.xml                                       |  2 +-
 exec/ref/pom.xml                                   |  2 +-
 exec/ref/src/main/resources/logback-test.xml       | 12 +++-
 exec/ref/src/test/resources/logback.xml            | 12 +++-
 pom.xml                                            | 70 ++++++++++++++--------
 {contrib => sandbox}/synth-log/README.md           |  0
 {contrib => sandbox}/synth-log/pom.xml             |  0
 .../org/apache/drill/synth/ChineseRestaurant.java  |  0
 .../java/org/apache/drill/synth/LogGenerator.java  |  0
 .../main/java/org/apache/drill/synth/LogLine.java  |  0
 .../main/java/org/apache/drill/synth/LongTail.java |  0
 .../src/main/java/org/apache/drill/synth/Main.java |  0
 .../java/org/apache/drill/synth/TermGenerator.java |  0
 .../src/main/java/org/apache/drill/synth/User.java |  0
 .../java/org/apache/drill/synth/WordGenerator.java |  0
 .../synth-log/src/main/resources/geo-codes         |  0
 .../synth-log/src/main/resources/log4j.properties  | 27 +++++++++
 .../synth-log/src/main/resources/other-words       |  0
 .../src/main/resources/word-frequency-seed         |  0
 .../org/apache/drill/synth/LogGeneratorTest.java   |  0
 .../org/apache/drill/synth/TermGeneratorTest.java  |  0
 .../org/apache/drill/synth/WordGeneratorTest.java  |  0
 sandbox/web-frontend/drill.js                      | 32 +++++-----
 sqlparser/pom.xml                                  | 45 ++++++++------
 sqlparser/src/test/resources/logback.xml           | 16 +++++
 53 files changed, 470 insertions(+), 87 deletions(-)

commit 0a5e682d0727a166dd173ef60d1ae781e1496b52
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Sep 10 17:48:56 2013 -0700

    DRILL-221: continued, add Apache header to poms.  Update checksum plugin to not fail on pom projects.

 common/pom.xml                | 16 ++++++++++++++++
 contrib/pom.xml               | 16 ++++++++++++++++
 contrib/sqlline/pom.xml       | 16 ++++++++++++++++
 contrib/storage-hbase/pom.xml | 16 ++++++++++++++++
 contrib/synth-log/pom.xml     | 18 +++++++++++++++++-
 distribution/pom.xml          | 16 ++++++++++++++++
 exec/java-exec/pom.xml        | 16 ++++++++++++++++
 exec/pom.xml                  | 16 ++++++++++++++++
 exec/ref/pom.xml              | 16 ++++++++++++++++
 pom.xml                       | 17 +++++++++++++++++
 sqlparser/pom.xml             | 16 ++++++++++++++++
 11 files changed, 178 insertions(+), 1 deletion(-)

commit 1c91fdf5bc9f4db92a06ee45af2dd9fca1f72db2
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Sep 10 17:33:48 2013 -0700

    DRILL-224: Add md5 and sha1 checksums to source tarball.
    Additionally, update pom to use local assembly plugin rather than apache release one so we can customize excludes to include .gitignore and sandbox.

 pom.xml                          | 135 +++++++++++++++++++++++++++++++++++----
 src/assembly/source-assembly.xml |  71 ++++++++++++++++++++
 2 files changed, 192 insertions(+), 14 deletions(-)

commit f526e4f31a33351df4344bebb95f41a9e1e5353f
Author: Nachiketa Mishra <nmishra@symora.com>
Date:   Tue Sep 10 14:52:20 2013 -0700

    DRILL-225: Add disclaimer to source release.

 README.md | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 511eb0ee9e70b8c0f612d73e9f1ec569c2737d69
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Sep 10 14:49:02 2013 -0700

    DRILL-223, add INSTALL.md and update README.md

 INSTALL.md | 45 +++++++++++++++++++++++++++++++++++++++++++++
 README.md  | 21 +++------------------
 2 files changed, 48 insertions(+), 18 deletions(-)

commit 78f6e583fdabf13835cc7f7b5b9c1f64fc7d6027
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Sep 9 22:06:09 2013 -0700

    DRILL-226: exclude dependencies with lgpl license

 common/pom.xml         |  6 ++++++
 exec/java-exec/pom.xml |  1 -
 pom.xml                | 27 +++++++++++++++++++++++++++
 sqlparser/pom.xml      |  1 -
 4 files changed, 33 insertions(+), 2 deletions(-)

commit a1e20fd79eaa93bcb7f523712d20e9e575dbe4ea
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Sep 9 22:27:18 2013 -0700

    DRILL-222 Update LICENSE and NOTICE files to incorporate dependencies correctly

 LICENSE | 454 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 NOTICE  |   7 +
 2 files changed, 461 insertions(+)

commit 479ddad71725bfbf40e025c116b6fe0c775225bc
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Sep 9 17:36:48 2013 -0700

    DRILL-221 Add license header to all files

 .../java/com/google/protobuf/WireFormatProxy.java  |  17 +
 .../java/org/apache/drill/common/JSONOptions.java  |   8 +-
 .../org/apache/drill/common/PlanProperties.java    |   8 +-
 .../drill/common/config/CommonConstants.java       |   8 +-
 .../apache/drill/common/config/ConfigProvider.java |   8 +-
 .../apache/drill/common/config/DrillConfig.java    |   8 +-
 .../apache/drill/common/config/NestedConfig.java   |   8 +-
 .../org/apache/drill/common/defs/OrderDef.java     |   8 +-
 .../org/apache/drill/common/defs/PartitionDef.java |   8 +-
 .../exceptions/DrillConfigurationException.java    |   8 +-
 .../apache/drill/common/exceptions/DrillError.java |   8 +-
 .../drill/common/exceptions/DrillException.java    |   8 +-
 .../drill/common/exceptions/DrillIOException.java  |   8 +-
 .../common/exceptions/DrillRuntimeException.java   |   8 +-
 .../common/exceptions/ExecutionSetupException.java |   8 +-
 .../exceptions/ExpressionParsingException.java     |   8 +-
 .../LogicalOperatorValidationException.java        |   8 +-
 .../exceptions/LogicalPlanParsingException.java    |   8 +-
 .../exceptions/PhysicalOperatorSetupException.java |   8 +-
 .../org/apache/drill/common/expression/Arg.java    |   8 +-
 .../drill/common/expression/ArgumentValidator.java |   8 +-
 .../common/expression/ArgumentValidators.java      |   8 +-
 .../common/expression/BasicArgumentValidator.java  |   8 +-
 .../drill/common/expression/CallProvider.java      |   8 +-
 .../drill/common/expression/ErrorCollector.java    |   4 +-
 .../common/expression/ErrorCollectorImpl.java      |  17 +
 .../common/expression/ExpressionFunction.java      |   8 +-
 .../common/expression/ExpressionPosition.java      |  17 +
 .../common/expression/ExpressionStringBuilder.java |  17 +
 .../expression/ExpressionValidationError.java      |   8 +-
 .../expression/ExpressionValidationException.java  |   8 +-
 .../common/expression/ExpressionValidator.java     |  17 +
 .../drill/common/expression/FieldReference.java    |   4 +-
 .../drill/common/expression/FunctionCall.java      |   8 +-
 .../common/expression/FunctionDefinition.java      |   8 +-
 .../drill/common/expression/FunctionInstance.java  |   8 +-
 .../drill/common/expression/FunctionName.java      |   8 +-
 .../drill/common/expression/FunctionRegistry.java  |   8 +-
 .../drill/common/expression/IfExpression.java      |   8 +-
 .../drill/common/expression/LogicalExpression.java |   4 +-
 .../common/expression/LogicalExpressionBase.java   |   8 +-
 .../drill/common/expression/NoArgValidator.java    |  17 +
 .../common/expression/OutputTypeDeterminer.java    |   8 +-
 .../drill/common/expression/PathSegment.java       |   8 +-
 .../apache/drill/common/expression/SchemaPath.java |   8 +-
 .../drill/common/expression/ValidationError.java   |   8 +-
 .../drill/common/expression/ValueExpressions.java  |   8 +-
 .../expression/aggregate/BasicAggregates.java      |   8 +-
 .../common/expression/fn/AggregationFunctions.java |   8 +-
 .../common/expression/fn/BooleanFunctions.java     |   8 +-
 .../drill/common/expression/fn/MathFunctions.java  |   8 +-
 .../common/expression/fn/StringFunctions.java      |   8 +-
 .../drill/common/expression/fn/TypeFunctions.java  |   8 +-
 .../drill/common/expression/fn/UnaryFunctions.java |   8 +-
 .../drill/common/expression/types/AtomType.java    |   8 +-
 .../drill/common/expression/types/DataType.java    |   8 +-
 .../common/expression/types/DataTypeFactory.java   |   8 +-
 .../common/expression/types/LateBindType.java      |   8 +-
 .../expression/visitors/AbstractExprVisitor.java   |  17 +
 .../expression/visitors/AggregateChecker.java      |   8 +-
 .../expression/visitors/ConstantChecker.java       |   8 +-
 .../common/expression/visitors/ExprVisitor.java    |   8 +-
 .../common/expression/visitors/OpVisitor.java      |   8 +-
 .../expression/visitors/SimpleExprVisitor.java     |  17 +
 .../apache/drill/common/graph/AdjacencyList.java   |   8 +-
 .../drill/common/graph/AdjacencyListBuilder.java   |   8 +-
 .../java/org/apache/drill/common/graph/Edge.java   |   8 +-
 .../java/org/apache/drill/common/graph/Graph.java  |   8 +-
 .../org/apache/drill/common/graph/GraphAlgos.java  |   8 +-
 .../org/apache/drill/common/graph/GraphValue.java  |   8 +-
 .../apache/drill/common/graph/GraphVisitor.java    |   8 +-
 .../org/apache/drill/common/graph/Visitable.java   |   8 +-
 .../apache/drill/common/logical/LogicalPlan.java   |   8 +-
 .../drill/common/logical/StorageEngineConfig.java  |   8 +-
 .../common/logical/StorageEngineConfigBase.java    |   8 +-
 .../common/logical/UnexpectedOperatorType.java     |   8 +-
 .../drill/common/logical/ValidationError.java      |   8 +-
 .../common/logical/data/CollapsingAggregate.java   |   8 +-
 .../apache/drill/common/logical/data/Constant.java |   4 +-
 .../apache/drill/common/logical/data/Filter.java   |   8 +-
 .../apache/drill/common/logical/data/Flatten.java  |   8 +-
 .../org/apache/drill/common/logical/data/Join.java |   6 +-
 .../drill/common/logical/data/JoinCondition.java   |   8 +-
 .../apache/drill/common/logical/data/Limit.java    |   8 +-
 .../drill/common/logical/data/LogicalOperator.java |   6 +-
 .../common/logical/data/LogicalOperatorBase.java   |   8 +-
 .../drill/common/logical/data/NamedExpression.java |   8 +-
 .../apache/drill/common/logical/data/Order.java    |   8 +-
 .../apache/drill/common/logical/data/Project.java  |   8 +-
 .../common/logical/data/RunningAggregate.java      |   8 +-
 .../org/apache/drill/common/logical/data/Scan.java |   4 +-
 .../apache/drill/common/logical/data/Segment.java  |   8 +-
 .../apache/drill/common/logical/data/Sequence.java |   8 +-
 .../common/logical/data/SingleInputOperator.java   |   8 +-
 .../drill/common/logical/data/SinkOperator.java    |   8 +-
 .../drill/common/logical/data/SourceOperator.java  |   8 +-
 .../apache/drill/common/logical/data/Store.java    |   8 +-
 .../drill/common/logical/data/Transform.java       |   8 +-
 .../apache/drill/common/logical/data/Union.java    |   8 +-
 .../drill/common/logical/data/WindowFrame.java     |   4 +-
 .../data/visitors/AbstractLogicalVisitor.java      |   8 +-
 .../logical/data/visitors/LogicalVisitor.java      |   8 +-
 .../apache/drill/common/logical/defs/OrderDef.java |   8 +-
 .../drill/common/logical/defs/PartitionDef.java    |   8 +-
 .../java/org/apache/drill/common/types/Types.java  |  17 +
 .../drill/common/util/AbstractDynamicBean.java     |   8 +-
 .../org/apache/drill/common/util/FileUtils.java    |   8 +-
 .../java/org/apache/drill/common/util/Hook.java    |   4 +-
 .../org/apache/drill/common/util/PathScanner.java  |   8 +-
 .../drill/common/expression/parser/TreeTest.java   |  17 +
 .../apache/drill/storage/CheckStorageConfig.java   |   8 +-
 .../test/java/org/apache/drill/storage/Simple.java |   8 +-
 .../org/apache/drill/synth/ChineseRestaurant.java  |  18 +-
 .../java/org/apache/drill/synth/LogGenerator.java  |  17 +
 .../main/java/org/apache/drill/synth/LogLine.java  |  17 +
 .../main/java/org/apache/drill/synth/LongTail.java |  17 +
 .../src/main/java/org/apache/drill/synth/Main.java |  17 +
 .../java/org/apache/drill/synth/TermGenerator.java |  17 +
 .../src/main/java/org/apache/drill/synth/User.java |  17 +
 .../java/org/apache/drill/synth/WordGenerator.java |  17 +
 .../org/apache/drill/synth/LogGeneratorTest.java   |  17 +
 .../org/apache/drill/synth/TermGeneratorTest.java  |  17 +
 .../org/apache/drill/synth/WordGeneratorTest.java  |  17 +
 distribution/src/resources/drill-env.sh            |  14 +
 distribution/src/resources/drill-override.conf     |  15 +
 distribution/src/resources/runbit                  |  15 +
 distribution/src/resources/sqlline                 |  15 +
 distribution/src/resources/submit_plan             |  15 +
 .../src/main/java/io/netty/buffer/PoolArenaL.java  |  25 +-
 .../src/main/java/io/netty/buffer/PoolChunkL.java  |  25 +-
 .../main/java/io/netty/buffer/PoolChunkListL.java  |  25 +-
 .../main/java/io/netty/buffer/PoolSubpageL.java    |  25 +-
 .../java/io/netty/buffer/PoolThreadCacheL.java     |  25 +-
 .../io/netty/buffer/PooledByteBufAllocatorL.java   |  25 +-
 .../main/java/io/netty/buffer/PooledByteBufL.java  |  25 +-
 .../java/io/netty/buffer/PooledHeapBufferL.java    |  17 +
 .../netty/buffer/PooledUnsafeDirectByteBufL.java   |  25 +-
 .../src/main/codegen/templates/CastFunctions.java  |  17 +
 .../codegen/templates/ComparisonFunctions.java     |  17 +
 .../main/codegen/templates/FixedValueVectors.java  |  17 +
 .../codegen/templates/NullableValueVectors.java    |  17 +
 .../codegen/templates/RepeatedValueVectors.java    |  17 +
 .../src/main/codegen/templates/TypeHelper.java     |  17 +
 .../src/main/codegen/templates/ValueHolders.java   |  17 +
 .../codegen/templates/VariableLengthVectors.java   |  17 +
 .../java/org/apache/drill/exec/ExecConstants.java  |   8 +-
 .../apache/drill/exec/cache/DistributedCache.java  |   8 +-
 .../org/apache/drill/exec/cache/HazelCache.java    |   8 +-
 .../org/apache/drill/exec/cache/LocalCache.java    |   8 +-
 .../org/apache/drill/exec/cache/ProtoBufImpl.java  |   8 +-
 .../org/apache/drill/exec/cache/ProtoBufWrap.java  |   8 +-
 .../java/org/apache/drill/exec/cache/ProtoMap.java |   8 +-
 .../org/apache/drill/exec/client/DrillClient.java  |   4 +-
 .../apache/drill/exec/client/QuerySubmitter.java   |  17 +
 .../drill/exec/compile/ClassBodyBuilder.java       |   8 +-
 .../apache/drill/exec/compile/ClassCompiler.java   |   8 +-
 .../drill/exec/compile/ClassTransformer.java       |   8 +-
 .../drill/exec/compile/JDKClassCompiler.java       |   8 +-
 .../drill/exec/compile/JaninoClassCompiler.java    |   8 +-
 .../drill/exec/compile/QueryClassLoader.java       |   8 +-
 .../exec/compile/TemplateClassDefinition.java      |   8 +-
 .../exec/compile/sig/CodeGeneratorArgument.java    |  17 +
 .../exec/compile/sig/CodeGeneratorMethod.java      |  17 +
 .../exec/compile/sig/CodeGeneratorSignature.java   |  17 +
 .../compile/sig/ConstantExpressionIdentifier.java  |  17 +
 .../drill/exec/compile/sig/GeneratorMapping.java   |  17 +
 .../apache/drill/exec/compile/sig/MappingSet.java  |  17 +
 .../apache/drill/exec/compile/sig/Signature.java   |  17 +
 .../drill/exec/compile/sig/SignatureHolder.java    |  17 +
 .../apache/drill/exec/compile/sig/VVReadBatch.java |  17 +
 .../drill/exec/compile/sig/VVWriteBatch.java       |  17 +
 .../drill/exec/coord/ClusterCoordinator.java       |   8 +-
 .../exec/coord/DrillServiceInstanceHelper.java     |   8 +-
 .../drill/exec/coord/DrillbitEndpointSerDe.java    |   8 +-
 .../drill/exec/coord/LocalClusterCoordinator.java  |   8 +-
 .../drill/exec/coord/ZKClusterCoordinator.java     |   4 +-
 .../drill/exec/coord/ZKRegistrationHandle.java     |   8 +-
 .../java/org/apache/drill/exec/disk/Spool.java     |   8 +-
 .../drill/exec/exception/BitComException.java      |   8 +-
 .../exception/ClassTransformationException.java    |   8 +-
 .../exec/exception/DrillbitStartupException.java   |   8 +-
 .../exec/exception/FragmentSetupException.java     |   8 +-
 .../drill/exec/exception/OptimizerException.java   |  17 +
 .../exec/exception/SchemaChangeException.java      |   8 +-
 .../drill/exec/exception/SetupException.java       |   8 +-
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  17 +
 .../apache/drill/exec/expr/DirectExpression.java   |  17 +
 .../org/apache/drill/exec/expr/DrillAggFunc.java   |  17 +
 .../java/org/apache/drill/exec/expr/DrillFunc.java |  17 +
 .../apache/drill/exec/expr/DrillSimpleFunc.java    |  17 +
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  17 +
 .../exec/expr/ExpressionTreeMaterializer.java      |   5 +-
 .../exec/expr/HoldingContainerExpression.java      |  17 +
 .../drill/exec/expr/SingleClassStringWriter.java   |  17 +
 .../drill/exec/expr/ValueVectorReadExpression.java |  17 +
 .../exec/expr/ValueVectorWriteExpression.java      |  17 +
 .../exec/expr/annotations/FunctionTemplate.java    |  17 +
 .../drill/exec/expr/annotations/MethodMap.java     |  17 +
 .../apache/drill/exec/expr/annotations/Output.java |  17 +
 .../apache/drill/exec/expr/annotations/Param.java  |  17 +
 .../drill/exec/expr/annotations/Workspace.java     |  17 +
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |  17 +
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java |  17 +
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |  17 +
 .../apache/drill/exec/expr/fn/FunctionBody.java    |  17 +
 .../drill/exec/expr/fn/FunctionConverter.java      |  17 +
 .../expr/fn/FunctionImplementationRegistry.java    |  17 +
 .../apache/drill/exec/expr/fn/ImportGrabber.java   |  17 +
 .../drill/exec/expr/fn/MethodGrabbingVisitor.java  |  17 +
 .../drill/exec/expr/fn/ModifiedUnparseVisitor.java |  17 +
 .../exec/expr/fn/agg/impl/CountFunctions.java      |  17 +
 .../drill/exec/expr/fn/agg/impl/SumFunctions.java  |  17 +
 .../apache/drill/exec/expr/fn/impl/Alternator.java |  17 +
 .../drill/exec/expr/fn/impl/BitFunctions.java      |  17 +
 .../drill/exec/expr/fn/impl/ByteSubstring.java     |   5 +-
 .../drill/exec/expr/fn/impl/CharSubstring.java     |   5 +-
 .../exec/expr/fn/impl/ComparatorFunctions.java     |  17 +
 .../exec/expr/fn/impl/ComparisonFunctions.java     |  17 +
 .../expr/fn/impl/ComparisonFunctionsNullable.java  |  17 +
 .../drill/exec/expr/fn/impl/HashFunctions.java     |   5 +-
 .../apache/drill/exec/expr/fn/impl/HashHelper.java |  17 +
 .../apache/drill/exec/expr/fn/impl/IsNotNull.java  |   5 +-
 .../org/apache/drill/exec/expr/fn/impl/IsNull.java |   5 +-
 .../drill/exec/expr/fn/impl/MathFunctions.java     |  17 +
 .../exec/expr/fn/impl/SimpleRepeatedFunctions.java |  17 +
 .../apache/drill/exec/expr/fn/impl/VarHelpers.java |  17 +
 .../drill/exec/expr/holders/ValueHolder.java       |  17 +
 .../apache/drill/exec/memory/BufferAllocator.java  |   8 +-
 .../drill/exec/memory/DirectBufferAllocator.java   |   8 +-
 .../exec/metrics/SingleThreadNestedCounter.java    |   8 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |   8 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |   8 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  17 +
 .../apache/drill/exec/opt/IdentityOptimizer.java   |   8 +-
 .../java/org/apache/drill/exec/opt/Optimizer.java  |   8 +-
 .../drill/exec/physical/DataValidationMode.java    |   8 +-
 .../drill/exec/physical/EndpointAffinity.java      |   8 +-
 .../apache/drill/exec/physical/OperatorCost.java   |   8 +-
 .../apache/drill/exec/physical/PhysicalPlan.java   |   8 +-
 .../org/apache/drill/exec/physical/ReadEntry.java  |   8 +-
 .../drill/exec/physical/ReadEntryFromHDFS.java     |   4 +-
 .../drill/exec/physical/ReadEntryWithPath.java     |   4 +-
 .../apache/drill/exec/physical/RecordField.java    |   8 +-
 .../org/apache/drill/exec/physical/WriteEntry.java |   8 +-
 .../drill/exec/physical/base/AbstractBase.java     |   8 +-
 .../drill/exec/physical/base/AbstractExchange.java |   8 +-
 .../exec/physical/base/AbstractGroupScan.java      |   8 +-
 .../drill/exec/physical/base/AbstractMultiple.java |  17 +
 .../physical/base/AbstractPhysicalVisitor.java     |   8 +-
 .../drill/exec/physical/base/AbstractReceiver.java |   8 +-
 .../drill/exec/physical/base/AbstractSender.java   |   8 +-
 .../drill/exec/physical/base/AbstractSingle.java   |   8 +-
 .../drill/exec/physical/base/AbstractStore.java    |   8 +-
 .../apache/drill/exec/physical/base/Exchange.java  |   8 +-
 .../drill/exec/physical/base/ExchangeCost.java     |   8 +-
 .../drill/exec/physical/base/FragmentLeaf.java     |   8 +-
 .../drill/exec/physical/base/FragmentRoot.java     |   8 +-
 .../apache/drill/exec/physical/base/GroupScan.java |   8 +-
 .../drill/exec/physical/base/HasAffinity.java      |   8 +-
 .../org/apache/drill/exec/physical/base/Leaf.java  |   8 +-
 .../drill/exec/physical/base/PhysicalOperator.java |   8 +-
 .../exec/physical/base/PhysicalOperatorUtil.java   |   8 +-
 .../drill/exec/physical/base/PhysicalVisitor.java  |   8 +-
 .../apache/drill/exec/physical/base/Receiver.java  |   8 +-
 .../org/apache/drill/exec/physical/base/Root.java  |   8 +-
 .../org/apache/drill/exec/physical/base/Scan.java  |   4 +-
 .../apache/drill/exec/physical/base/Sender.java    |   8 +-
 .../org/apache/drill/exec/physical/base/Size.java  |   8 +-
 .../org/apache/drill/exec/physical/base/Store.java |   8 +-
 .../apache/drill/exec/physical/base/SubScan.java   |   4 +-
 .../apache/drill/exec/physical/config/Filter.java  |   8 +-
 .../exec/physical/config/HashPartitionSender.java  |   8 +-
 .../exec/physical/config/HashToRandomExchange.java |   8 +-
 .../drill/exec/physical/config/MergeJoinPOP.java   |  17 +
 .../drill/exec/physical/config/PartitionRange.java |   8 +-
 .../apache/drill/exec/physical/config/Project.java |   8 +-
 .../drill/exec/physical/config/RandomReceiver.java |   8 +-
 .../drill/exec/physical/config/RangeSender.java    |   8 +-
 .../apache/drill/exec/physical/config/Screen.java  |   8 +-
 .../physical/config/SelectionVectorRemover.java    |   8 +-
 .../drill/exec/physical/config/SingleSender.java   |   8 +-
 .../apache/drill/exec/physical/config/Sort.java    |   8 +-
 .../exec/physical/config/StreamingAggregate.java   |   8 +-
 .../apache/drill/exec/physical/config/Union.java   |  17 +
 .../drill/exec/physical/config/UnionExchange.java  |   8 +-
 .../drill/exec/physical/impl/BatchCreator.java     |   8 +-
 .../drill/exec/physical/impl/ImplCreator.java      |   4 +-
 .../drill/exec/physical/impl/OutputMutator.java    |   8 +-
 .../drill/exec/physical/impl/PhysicalConfig.java   |   8 +-
 .../exec/physical/impl/RandomReceiverCreator.java  |   8 +-
 .../drill/exec/physical/impl/RootCreator.java      |   8 +-
 .../apache/drill/exec/physical/impl/RootExec.java  |   8 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |   8 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |   8 +-
 .../exec/physical/impl/SingleSenderCreator.java    |   8 +-
 .../drill/exec/physical/impl/WireRecordBatch.java  |   8 +-
 .../exec/physical/impl/aggregate/AggBatch.java     |  17 +
 .../physical/impl/aggregate/AggBatchCreator.java   |  17 +
 .../exec/physical/impl/aggregate/AggTemplate.java  |  17 +
 .../exec/physical/impl/aggregate/Aggregator.java   |  17 +
 .../physical/impl/aggregate/BatchIterator.java     |  17 +
 .../physical/impl/aggregate/InternalBatch.java     |  17 +
 .../physical/impl/filter/EvalSetupException.java   |  17 +
 .../physical/impl/filter/EvaluationPredicate.java  |  17 +
 .../physical/impl/filter/FilterBatchCreator.java   |  17 +
 .../physical/impl/filter/FilterRecordBatch.java    |  17 +
 .../exec/physical/impl/filter/FilterSignature.java |  17 +
 .../exec/physical/impl/filter/FilterTemplate.java  |  17 +
 .../drill/exec/physical/impl/filter/Filterer.java  |  17 +
 .../impl/filter/ReturnValueExpression.java         |  17 +
 .../drill/exec/physical/impl/join/JoinStatus.java  |  17 +
 .../exec/physical/impl/join/JoinTemplate.java      |  17 +
 .../drill/exec/physical/impl/join/JoinWorker.java  |  17 +
 .../exec/physical/impl/join/MergeJoinBatch.java    |  17 +
 .../physical/impl/join/MergeJoinBatchBuilder.java  |   5 +-
 .../exec/physical/impl/join/MergeJoinCreator.java  |   5 +-
 .../impl/materialize/QueryWritableBatch.java       |   8 +-
 .../impl/materialize/RecordMaterializer.java       |   8 +-
 .../impl/materialize/VectorRecordMaterializer.java |   8 +-
 .../impl/partitionsender/OutgoingRecordBatch.java  |   5 +-
 .../partitionsender/PartitionSenderCreator.java    |   5 +-
 .../partitionsender/PartitionSenderRootExec.java   |   5 +-
 .../physical/impl/partitionsender/Partitioner.java |   5 +-
 .../impl/partitionsender/PartitionerTemplate.java  |   5 +-
 .../physical/impl/project/ProjectBatchCreator.java |  17 +
 .../physical/impl/project/ProjectRecordBatch.java  |  17 +
 .../exec/physical/impl/project/Projector.java      |  17 +
 .../physical/impl/project/ProjectorTemplate.java   |  17 +
 .../exec/physical/impl/sort/RecordBatchData.java   |  17 +
 .../drill/exec/physical/impl/sort/SortBatch.java   |  17 +
 .../exec/physical/impl/sort/SortBatchCreator.java  |  17 +
 .../physical/impl/sort/SortRecordBatchBuilder.java |  17 +
 .../exec/physical/impl/sort/SortTemplate.java      |  17 +
 .../drill/exec/physical/impl/sort/Sorter.java      |  17 +
 .../drill/exec/physical/impl/svremover/Copier.java |  17 +
 .../physical/impl/svremover/CopierTemplate2.java   |  17 +
 .../physical/impl/svremover/CopierTemplate4.java   |  17 +
 .../impl/svremover/RemovingRecordBatch.java        |  17 +
 .../physical/impl/svremover/SVRemoverCreator.java  |  17 +
 .../physical/impl/union/UnionBatchCreator.java     |  17 +
 .../exec/physical/impl/union/UnionRecordBatch.java |  17 +
 .../exec/planner/AbstractOpWrapperVisitor.java     |   8 +-
 .../org/apache/drill/exec/planner/ExecPlanner.java |   8 +-
 .../drill/exec/planner/PhysicalPlanReader.java     |   8 +-
 .../drill/exec/planner/SimpleExecPlanner.java      |   8 +-
 .../drill/exec/planner/fragment/Fragment.java      |   8 +-
 .../exec/planner/fragment/FragmentVisitor.java     |   8 +-
 .../planner/fragment/MakeFragmentsVisitor.java     |   8 +-
 .../planner/fragment/MaterializedFragment.java     |   8 +-
 .../drill/exec/planner/fragment/Materializer.java  |   8 +-
 .../drill/exec/planner/fragment/PlanningSet.java   |   8 +-
 .../exec/planner/fragment/SimpleParallelizer.java  |   4 +-
 .../apache/drill/exec/planner/fragment/Stats.java  |   8 +-
 .../exec/planner/fragment/StatsCollector.java      |   8 +-
 .../drill/exec/planner/fragment/Wrapper.java       |   8 +-
 .../drill/exec/record/AbstractRecordBatch.java     |  17 +
 .../exec/record/AbstractSingleRecordBatch.java     |  17 +
 .../org/apache/drill/exec/record/BatchSchema.java  |   4 +-
 .../java/org/apache/drill/exec/record/DeadBuf.java |   8 +-
 .../drill/exec/record/FragmentWritableBatch.java   |   8 +-
 .../drill/exec/record/HyperVectorWrapper.java      |  17 +
 .../apache/drill/exec/record/MajorTypeSerDe.java   |   8 +-
 .../drill/exec/record/MaterializeVisitor.java      |  17 +
 .../drill/exec/record/MaterializedField.java       |   8 +-
 .../apache/drill/exec/record/NullExpression.java   |  17 +
 .../apache/drill/exec/record/RawFragmentBatch.java |   8 +-
 .../exec/record/RawFragmentBatchProvider.java      |   8 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |   8 +-
 .../drill/exec/record/RecordBatchLoader.java       |   4 +-
 .../apache/drill/exec/record/SchemaBuilder.java    |   8 +-
 .../drill/exec/record/SimpleVectorWrapper.java     |  17 +
 .../org/apache/drill/exec/record/TransferPair.java |  17 +
 .../org/apache/drill/exec/record/TypedFieldId.java |  17 +
 .../apache/drill/exec/record/VectorContainer.java  |  17 +
 .../apache/drill/exec/record/VectorWrapper.java    |  17 +
 .../apache/drill/exec/record/WritableBatch.java    |   8 +-
 .../exec/record/selection/SelectionVector2.java    |   8 +-
 .../exec/record/selection/SelectionVector4.java    |   5 +-
 .../record/selection/SelectionVector4Builder.java  |  17 +
 .../drill/exec/rpc/AbstractHandshakeHandler.java   |   8 +-
 .../main/java/org/apache/drill/exec/rpc/Acks.java  |   8 +-
 .../drill/exec/rpc/BaseRpcOutcomeListener.java     |   8 +-
 .../org/apache/drill/exec/rpc/BasicClient.java     |   8 +-
 .../drill/exec/rpc/BasicClientWithConnection.java  |   8 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |   8 +-
 .../drill/exec/rpc/ChannelClosedException.java     |   8 +-
 .../rpc/ChannelListenerWithCoordinationId.java     |   8 +-
 .../apache/drill/exec/rpc/CoordinationQueue.java   |   8 +-
 .../org/apache/drill/exec/rpc/DrillRpcFuture.java  |   8 +-
 .../apache/drill/exec/rpc/DrillRpcFutureImpl.java  |   8 +-
 .../apache/drill/exec/rpc/InboundRpcMessage.java   |   6 +-
 .../apache/drill/exec/rpc/NamedThreadFactory.java  |   8 +-
 .../apache/drill/exec/rpc/OutboundRpcMessage.java  |   8 +-
 .../drill/exec/rpc/PositiveAtomicInteger.java      |   8 +-
 .../apache/drill/exec/rpc/RemoteConnection.java    |   8 +-
 .../apache/drill/exec/rpc/RemoteRpcException.java  |   8 +-
 .../java/org/apache/drill/exec/rpc/Response.java   |   8 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |   8 +-
 .../apache/drill/exec/rpc/RpcCheckedFuture.java    |   8 +-
 .../java/org/apache/drill/exec/rpc/RpcConfig.java  |   8 +-
 .../drill/exec/rpc/RpcConnectionHandler.java       |   8 +-
 .../org/apache/drill/exec/rpc/RpcConstants.java    |   8 +-
 .../java/org/apache/drill/exec/rpc/RpcDecoder.java |   8 +-
 .../java/org/apache/drill/exec/rpc/RpcEncoder.java |   8 +-
 .../org/apache/drill/exec/rpc/RpcException.java    |   8 +-
 .../apache/drill/exec/rpc/RpcExceptionHandler.java |   8 +-
 .../java/org/apache/drill/exec/rpc/RpcMessage.java |   8 +-
 .../java/org/apache/drill/exec/rpc/RpcOutcome.java |   8 +-
 .../apache/drill/exec/rpc/RpcOutcomeListener.java  |   8 +-
 .../exec/rpc/ZeroCopyProtobufLengthDecoder.java    |   8 +-
 .../drill/exec/rpc/bit/AvailabilityListener.java   |   8 +-
 .../org/apache/drill/exec/rpc/bit/BitClient.java   |   8 +-
 .../java/org/apache/drill/exec/rpc/bit/BitCom.java |   8 +-
 .../exec/rpc/bit/BitComDefaultInstanceHandler.java |   8 +-
 .../org/apache/drill/exec/rpc/bit/BitComImpl.java  |   8 +-
 .../org/apache/drill/exec/rpc/bit/BitCommand.java  |   8 +-
 .../apache/drill/exec/rpc/bit/BitConnection.java   |   8 +-
 .../drill/exec/rpc/bit/BitConnectionManager.java   |   8 +-
 .../apache/drill/exec/rpc/bit/BitRpcConfig.java    |   8 +-
 .../org/apache/drill/exec/rpc/bit/BitServer.java   |   8 +-
 .../org/apache/drill/exec/rpc/bit/BitTunnel.java   |   8 +-
 .../exec/rpc/bit/ConnectionManagerRegistry.java    |   8 +-
 .../drill/exec/rpc/bit/FutureBitCommand.java       |   8 +-
 .../apache/drill/exec/rpc/bit/ListenerPool.java    |   8 +-
 .../drill/exec/rpc/bit/ListeningBitCommand.java    |   8 +-
 .../apache/drill/exec/rpc/bit/SendProgress.java    |   8 +-
 .../drill/exec/rpc/user/QueryResultBatch.java      |   8 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    |   8 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |   8 +-
 .../drill/exec/rpc/user/UserResultsListener.java   |   8 +-
 .../apache/drill/exec/rpc/user/UserRpcConfig.java  |   8 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |   8 +-
 .../org/apache/drill/exec/schema/BackedRecord.java |   5 +-
 .../org/apache/drill/exec/schema/DataRecord.java   |   5 +-
 .../org/apache/drill/exec/schema/DiffSchema.java   |   5 +-
 .../java/org/apache/drill/exec/schema/Field.java   |   5 +-
 .../org/apache/drill/exec/schema/IdGenerator.java  |   5 +-
 .../org/apache/drill/exec/schema/ListSchema.java   |   5 +-
 .../org/apache/drill/exec/schema/NamedField.java   |   5 +-
 .../org/apache/drill/exec/schema/ObjectSchema.java |   5 +-
 .../org/apache/drill/exec/schema/OrderedField.java |   5 +-
 .../java/org/apache/drill/exec/schema/Record.java  |   5 +-
 .../org/apache/drill/exec/schema/RecordSchema.java |   5 +-
 .../drill/exec/schema/SchemaIdGenerator.java       |   5 +-
 .../exec/schema/json/jackson/JacksonHelper.java    |   5 +-
 .../apache/drill/exec/server/BootStrapContext.java |   8 +-
 .../org/apache/drill/exec/server/Drillbit.java     |   8 +-
 .../apache/drill/exec/server/DrillbitContext.java  |   8 +-
 .../apache/drill/exec/server/RemoteServiceSet.java |   8 +-
 .../apache/drill/exec/server/StartupOptions.java   |   8 +-
 .../apache/drill/exec/service/ServiceEngine.java   |   8 +-
 .../drill/exec/store/AbstractStorageEngine.java    |   8 +-
 .../drill/exec/store/AffinityCalculator.java       |  17 +
 .../drill/exec/store/BatchExceededException.java   |  17 +
 .../drill/exec/store/ClassPathFileSystem.java      |  17 +
 .../drill/exec/store/DistributedStorageEngine.java |  17 +
 .../drill/exec/store/QueryOptimizerRule.java       |   8 +-
 .../org/apache/drill/exec/store/RecordReader.java  |   8 +-
 .../apache/drill/exec/store/RecordRecorder.java    |   8 +-
 .../drill/exec/store/ResourceInputStream.java      |  17 +
 .../apache/drill/exec/store/SchemaProvider.java    |  17 +
 .../drill/exec/store/SchemaProviderRegistry.java   |   8 +-
 .../org/apache/drill/exec/store/StorageEngine.java |   8 +-
 .../drill/exec/store/StorageEngineRegistry.java    |   8 +-
 .../org/apache/drill/exec/store/VectorHolder.java  |   5 +-
 .../drill/exec/store/json/JSONGroupScan.java       |   5 +-
 .../drill/exec/store/json/JSONRecordReader.java    |  17 +
 .../exec/store/json/JSONScanBatchCreator.java      |   5 +-
 .../drill/exec/store/json/JSONStorageEngine.java   |   4 +-
 .../exec/store/json/JSONStorageEngineConfig.java   |  17 +
 .../apache/drill/exec/store/json/JSONSubScan.java  |   5 +-
 .../drill/exec/store/json/JsonSchemaProvider.java  |  17 +
 .../drill/exec/store/mock/MockGroupScanPOP.java    |   8 +-
 .../drill/exec/store/mock/MockRecordReader.java    |   8 +-
 .../exec/store/mock/MockScanBatchCreator.java      |   8 +-
 .../drill/exec/store/mock/MockStorageEngine.java   |   8 +-
 .../exec/store/mock/MockStorageEngineConfig.java   |   8 +-
 .../apache/drill/exec/store/mock/MockStorePOP.java |   8 +-
 .../drill/exec/store/mock/MockSubScanPOP.java      |   4 +-
 .../apache/drill/exec/store/parquet/BitReader.java |   4 +-
 .../drill/exec/store/parquet/ColumnReader.java     |   4 +-
 .../exec/store/parquet/FixedByteAlignedReader.java |   4 +-
 .../exec/store/parquet/NullableBitReader.java      |   4 +-
 .../exec/store/parquet/NullableColumnReader.java   |   4 +-
 .../parquet/NullableFixedByteAlignedReader.java    |   4 +-
 .../drill/exec/store/parquet/PageReadStatus.java   |   4 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |   4 +-
 .../exec/store/parquet/ParquetRecordReader.java    |   4 +-
 .../exec/store/parquet/ParquetRowGroupScan.java    |   4 +-
 .../store/parquet/ParquetScanBatchCreator.java     |   4 +-
 .../exec/store/parquet/ParquetSchemaProvider.java  |  17 +
 .../exec/store/parquet/ParquetStorageEngine.java   |   4 +-
 .../store/parquet/ParquetStorageEngineConfig.java  |   4 +-
 .../exec/store/parquet/VarLenBinaryReader.java     |   4 +-
 .../org/apache/drill/exec/util/AtomicState.java    |   8 +-
 .../apache/drill/exec/vector/AllocationHelper.java |  17 +
 .../drill/exec/vector/BaseDataValueVector.java     |  17 +
 .../apache/drill/exec/vector/BaseValueVector.java  |  17 +
 .../org/apache/drill/exec/vector/BitVector.java    |  17 +
 .../apache/drill/exec/vector/FixedWidthVector.java |  17 +
 .../vector/NullableVectorDefinitionSetter.java     |   4 +-
 .../exec/vector/RepeatedFixedWidthVector.java      |  17 +
 .../apache/drill/exec/vector/RepeatedMutator.java  |   5 +-
 .../exec/vector/RepeatedVariableWidthVector.java   |  17 +
 .../drill/exec/vector/SerializableVector.java      |  17 +
 .../drill/exec/vector/ValueHolderHelper.java       |  17 +
 .../org/apache/drill/exec/vector/ValueVector.java  |   4 +-
 .../drill/exec/vector/VariableWidthVector.java     |  17 +
 .../vector/allocator/FixedVectorAllocator.java     |  17 +
 .../vector/allocator/VariableEstimatedVector.java  |  17 +
 .../vector/allocator/VariableVectorAllocator.java  |  17 +
 .../exec/vector/allocator/VectorAllocator.java     |  17 +
 .../exec/work/AbstractFragmentRunnerListener.java  |   8 +-
 .../apache/drill/exec/work/CancelableQuery.java    |   8 +-
 .../apache/drill/exec/work/EndpointListener.java   |   8 +-
 .../org/apache/drill/exec/work/FragmentRunner.java |   8 +-
 .../drill/exec/work/FragmentRunnerListener.java    |   8 +-
 .../org/apache/drill/exec/work/QueryWorkUnit.java  |   8 +-
 .../apache/drill/exec/work/RecordOutputStream.java |   8 +-
 .../exec/work/RemoteFragmentRunnerListener.java    |   8 +-
 .../apache/drill/exec/work/ResourceRequest.java    |   8 +-
 .../org/apache/drill/exec/work/RootNodeDriver.java |   8 +-
 .../org/apache/drill/exec/work/StatusProvider.java |   8 +-
 .../org/apache/drill/exec/work/WorkManager.java    |   8 +-
 .../exec/work/batch/AbstractFragmentCollector.java |   8 +-
 .../drill/exec/work/batch/BatchCollector.java      |   8 +-
 .../drill/exec/work/batch/BitComHandler.java       |   8 +-
 .../drill/exec/work/batch/BitComHandlerImpl.java   |   8 +-
 .../drill/exec/work/batch/IncomingBuffers.java     |   8 +-
 .../drill/exec/work/batch/MergingCollector.java    |   8 +-
 .../exec/work/batch/PartitionedCollector.java      |   8 +-
 .../drill/exec/work/batch/RawBatchBuffer.java      |   8 +-
 .../exec/work/batch/UnlimitedRawBatchBuffer.java   |   8 +-
 .../drill/exec/work/foreman/ErrorHelper.java       |   8 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |   8 +-
 .../exec/work/foreman/FragmentStatusListener.java  |   8 +-
 .../exec/work/foreman/RunningFragmentManager.java  |   8 +-
 .../drill/exec/work/foreman/TunnelManager.java     |   8 +-
 .../work/fragment/IncomingFragmentHandler.java     |   8 +-
 .../exec/work/fragment/LocalFragmentHandler.java   |   8 +-
 .../exec/work/fragment/RemoteFragmentHandler.java  |   8 +-
 .../apache/drill/exec/work/user/UserWorker.java    |   8 +-
 .../java/parquet/hadoop/CodecFactoryExposer.java   |   4 +-
 .../org/apache/drill/exec/DrillSystemTestBase.java |   4 +-
 .../test/java/org/apache/drill/exec/SortTest.java  |  17 +
 .../drill/exec/client/DrillClientSystemTest.java   |  17 +
 .../exec/compile/ExampleExternalInterface.java     |   8 +-
 .../apache/drill/exec/compile/ExampleTemplate.java |   8 +-
 .../exec/compile/TestClassCompilationTypes.java    |   8 +-
 .../exec/compile/TestClassTransformation.java      |   8 +-
 .../org/apache/drill/exec/expr/EscapeTest1.java    |  17 +
 .../org/apache/drill/exec/expr/ExpressionTest.java |  17 +
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |  17 +
 .../apache/drill/exec/memory/TestEndianess.java    |  17 +
 .../apache/drill/exec/opt/BasicOptimizerTest.java  |  17 +
 .../physical/config/TestParsePhysicalPlan.java     |   8 +-
 .../drill/exec/physical/impl/PerformanceTests.java |   5 +-
 .../drill/exec/physical/impl/SimpleRootExec.java   |  17 +
 .../physical/impl/TestComparisonFunctions.java     |  17 +
 .../physical/impl/TestDistributedFragmentRun.java  |   8 +-
 .../physical/impl/TestExecutionAbstractions.java   |   5 +-
 .../physical/impl/TestHashToRandomExchange.java    |   5 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |  17 +
 .../exec/physical/impl/TestSimpleFragmentRun.java  |   8 +-
 .../exec/physical/impl/TestSimpleFunctions.java    |   5 +-
 .../drill/exec/physical/impl/agg/TestAgg.java      |  17 +
 .../physical/impl/filter/TestSimpleFilter.java     |  17 +
 .../exec/physical/impl/join/TestMergeJoin.java     |   5 +-
 .../impl/project/TestSimpleProjection.java         |  17 +
 .../exec/physical/impl/sort/TestSimpleSort.java    |  17 +
 .../physical/impl/svremover/TestSVRemover.java     |  17 +
 .../exec/physical/impl/union/TestSimpleUnion.java  |  17 +
 .../org/apache/drill/exec/pop/PopUnitTestBase.java |   8 +-
 .../apache/drill/exec/pop/TestFragmentChecker.java |   8 +-
 .../org/apache/drill/exec/pop/TestFragmenter.java  |   8 +-
 .../apache/drill/exec/pop/TestInjectionValue.java  |   8 +-
 .../record/ExpressionTreeMaterializerTest.java     |  17 +
 .../apache/drill/exec/record/vector/TestLoad.java  |  17 +
 .../drill/exec/record/vector/TestValueVector.java  |  17 +
 .../org/apache/drill/exec/server/TestBitRpc.java   |   8 +-
 .../org/apache/drill/exec/store/ByteArrayUtil.java |   4 +-
 .../drill/exec/store/JSONRecordReaderTest.java     |  17 +
 .../drill/exec/store/ParquetRecordReaderTest.java  |   4 +-
 .../drill/exec/store/TestAffinityCalculator.java   |  17 +
 .../drill/exec/store/TestParquetPhysicalPlan.java  |  17 +
 .../store/parquet/ParquetRecordReaderTest.java     |   4 +-
 .../exec/store/parquet/TestFileGenerator.java      |  17 +
 .../drill/exec/util/MiniZooKeeperCluster.java      |   6 +-
 .../apache/drill/exec/ref/BasicStatusHandle.java   |   8 +-
 .../apache/drill/exec/ref/ExecRefConstants.java    |   8 +-
 .../apache/drill/exec/ref/IteratorRegistry.java    |   8 +-
 .../org/apache/drill/exec/ref/ROPConverter.java    |   8 +-
 .../org/apache/drill/exec/ref/RecordIterator.java  |  17 +
 .../org/apache/drill/exec/ref/RecordPointer.java   |   5 +-
 .../drill/exec/ref/ReferenceInterpreter.java       |   8 +-
 .../apache/drill/exec/ref/ReferenceTransform.java  |  17 +
 .../java/org/apache/drill/exec/ref/RunOutcome.java |   8 +-
 .../org/apache/drill/exec/ref/UnbackedRecord.java  |   4 +-
 .../drill/exec/ref/eval/BaseBasicEvaluator.java    |   8 +-
 .../drill/exec/ref/eval/BasicEvaluatorFactory.java |   8 +-
 .../drill/exec/ref/eval/BoundarySubscriber.java    |   8 +-
 .../drill/exec/ref/eval/EvaluatorFactory.java      |   8 +-
 .../apache/drill/exec/ref/eval/EvaluatorTypes.java |   8 +-
 .../apache/drill/exec/ref/eval/FieldEvaluator.java |   8 +-
 .../apache/drill/exec/ref/eval/IfEvaluator.java    |   8 +-
 .../exec/ref/eval/SimpleEvaluationVisitor.java     |   8 +-
 .../exec/ref/eval/fn/ComparisonEvaluators.java     |   8 +-
 .../drill/exec/ref/eval/fn/FunctionArguments.java  |   8 +-
 .../drill/exec/ref/eval/fn/FunctionEvaluator.java  |   8 +-
 .../ref/eval/fn/FunctionEvaluatorRegistry.java     |   8 +-
 .../drill/exec/ref/eval/fn/MathEvaluators.java     |   8 +-
 .../drill/exec/ref/eval/fn/StringEvaluators.java   |   8 +-
 .../eval/fn/agg/AggregatingWrapperEvaluator.java   |   8 +-
 .../exec/ref/eval/fn/agg/CountAggregator.java      |   8 +-
 .../drill/exec/ref/eval/fn/agg/SumAggregator.java  |   8 +-
 .../drill/exec/ref/exceptions/MajorException.java  |   8 +-
 .../drill/exec/ref/exceptions/RecordException.java |   8 +-
 .../drill/exec/ref/exceptions/SetupException.java  |   8 +-
 .../exec/ref/rops/AbstractBlockingOperator.java    |  17 +
 .../apache/drill/exec/ref/rops/BaseSinkROP.java    |   8 +-
 .../drill/exec/ref/rops/BoundaryListener.java      |   8 +-
 .../exec/ref/rops/CollapsingAggregateROP.java      |   8 +-
 .../apache/drill/exec/ref/rops/ConstantROP.java    |   4 +-
 .../org/apache/drill/exec/ref/rops/DataWriter.java |   8 +-
 .../org/apache/drill/exec/ref/rops/FilterROP.java  |   8 +-
 .../org/apache/drill/exec/ref/rops/FlattenROP.java |   4 +-
 .../org/apache/drill/exec/ref/rops/JoinROP.java    |   4 +-
 .../org/apache/drill/exec/ref/rops/LimitROP.java   |   8 +-
 .../org/apache/drill/exec/ref/rops/OrderROP.java   |  17 +
 .../org/apache/drill/exec/ref/rops/ProjectROP.java |   8 +-
 .../drill/exec/ref/rops/ProxySimpleRecord.java     |   8 +-
 .../java/org/apache/drill/exec/ref/rops/ROP.java   |  17 +
 .../org/apache/drill/exec/ref/rops/ROPBase.java    |   8 +-
 .../drill/exec/ref/rops/ReferenceOperator.java     |  17 +
 .../drill/exec/ref/rops/ReferenceOperatorBase.java |   8 +-
 .../org/apache/drill/exec/ref/rops/ScanROP.java    |   8 +-
 .../org/apache/drill/exec/ref/rops/SegmentROP.java |  17 +
 .../drill/exec/ref/rops/SingleInputROPBase.java    |   8 +-
 .../org/apache/drill/exec/ref/rops/SinkROP.java    |   8 +-
 .../org/apache/drill/exec/ref/rops/StoreROP.java   |   8 +-
 .../apache/drill/exec/ref/rops/TransformROP.java   |   8 +-
 .../org/apache/drill/exec/ref/rops/UnionROP.java   |   8 +-
 .../apache/drill/exec/ref/rops/WindowFrameROP.java |   5 +-
 .../apache/drill/exec/ref/rse/ClasspathRSE.java    |   8 +-
 .../org/apache/drill/exec/ref/rse/ConsoleRSE.java  |   8 +-
 .../apache/drill/exec/ref/rse/FileSystemRSE.java   |   8 +-
 .../apache/drill/exec/ref/rse/JSONDataWriter.java  |   8 +-
 .../drill/exec/ref/rse/JSONRecordReader.java       |   8 +-
 .../drill/exec/ref/rse/OutputStreamWriter.java     |   8 +-
 .../org/apache/drill/exec/ref/rse/QueueRSE.java    |   8 +-
 .../org/apache/drill/exec/ref/rse/RSEBase.java     |   8 +-
 .../org/apache/drill/exec/ref/rse/RSERegistry.java |   8 +-
 .../apache/drill/exec/ref/rse/RecordReader.java    |   8 +-
 .../apache/drill/exec/ref/rse/RecordRecorder.java  |   8 +-
 .../drill/exec/ref/rse/ReferenceStorageEngine.java |   8 +-
 .../apache/drill/exec/ref/util/BatchBreaker.java   |  17 +
 .../org/apache/drill/exec/ref/util/ByteRange.java  |  17 +
 .../drill/exec/ref/values/BaseArrayValue.java      |   8 +-
 .../drill/exec/ref/values/BaseDataValue.java       |   8 +-
 .../apache/drill/exec/ref/values/BaseMapValue.java |   8 +-
 .../apache/drill/exec/ref/values/BooleanValue.java |   8 +-
 .../apache/drill/exec/ref/values/BytesValue.java   |   8 +-
 .../drill/exec/ref/values/ComparableValue.java     |   8 +-
 .../drill/exec/ref/values/ContainerValue.java      |   8 +-
 .../apache/drill/exec/ref/values/DataValue.java    |  17 +
 .../apache/drill/exec/ref/values/DataValueSet.java |   8 +-
 .../apache/drill/exec/ref/values/NumericValue.java |   8 +-
 .../apache/drill/exec/ref/values/ScalarValues.java |   8 +-
 .../drill/exec/ref/values/SimpleArrayValue.java    |   8 +-
 .../drill/exec/ref/values/SimpleMapValue.java      |   8 +-
 .../apache/drill/exec/ref/values/StringValue.java  |   8 +-
 .../apache/drill/exec/ref/values/ValueReader.java  |   8 +-
 .../apache/drill/exec/ref/values/ValueUtils.java   |   8 +-
 .../org/apache/drill/exec/ref/RSERegistryTest.java |   4 +-
 .../org/apache/drill/exec/ref/RunSimplePlan.java   |   8 +-
 .../java/org/apache/drill/exec/ref/TestUtils.java  |  17 +
 .../exec/ref/rops/CollapsingAggregateTest.java     |   8 +-
 .../drill/exec/ref/rops/ConstantROPTest.java       |  17 +
 .../apache/drill/exec/ref/rops/JoinROPTest.java    |   4 +-
 .../apache/drill/exec/ref/rops/LimitROPTest.java   |  17 +
 .../apache/drill/exec/ref/rops/OrderROPTest.java   |   8 +-
 .../apache/drill/exec/ref/rops/UnionROPTest.java   |  17 +
 .../drill/exec/ref/rops/WindowFrameROPTest.java    |  17 +
 header                                             |  15 +
 pom.xml                                            |  31 +-
 sandbox/logos/drill-vector-logo.graffle/data.plist |  16 +
 sandbox/plan-parser/pom.xml                        | 102 ---
 .../main/antlr3/org/apache/drill/plan/ast/Plan.g   | 109 ---
 .../main/java/org/apache/drill/plan/ParsePlan.java | 125 ----
 .../org/apache/drill/plan/PhysicalInterpreter.java | 142 ----
 .../main/java/org/apache/drill/plan/ast/Arg.java   | 132 ----
 .../drill/plan/ast/LogicalPlanParseException.java  |  11 -
 .../main/java/org/apache/drill/plan/ast/Op.java    |  35 -
 .../main/java/org/apache/drill/plan/ast/Plan.java  |  50 --
 .../java/org/apache/drill/plan/json/Consumer.java  |  33 -
 .../java/org/apache/drill/plan/json/Explode.java   |  41 --
 .../org/apache/drill/plan/json/Expression.java     |  70 --
 .../java/org/apache/drill/plan/json/Filter.java    |  33 -
 .../java/org/apache/drill/plan/json/GroupBy.java   |  53 --
 .../java/org/apache/drill/plan/json/MapTuple.java  |  39 --
 .../apache/drill/plan/json/ScalarAggregate.java    |  70 --
 .../main/java/org/apache/drill/plan/json/Scan.java |  83 ---
 .../java/org/apache/drill/plan/json/Sequence.java  |  66 --
 .../java/org/apache/drill/plan/json/SetValue.java  |  54 --
 .../drill/plan/json/SingleObjectCatcher.java       |  26 -
 .../java/org/apache/drill/plan/json/Tuple.java     |  10 -
 .../java/org/apache/drill/plan/json/Utils.java     |  36 -
 .../plan/physical/operators/ArithmeticOp.java      | 161 -----
 .../plan/physical/operators/BatchListener.java     |  11 -
 .../apache/drill/plan/physical/operators/Bind.java |  51 --
 .../drill/plan/physical/operators/ConstantOp.java  |  43 --
 .../plan/physical/operators/DataListener.java      |  25 -
 .../plan/physical/operators/EvalOperator.java      |  43 --
 .../drill/plan/physical/operators/Explode.java     |  60 --
 .../drill/plan/physical/operators/Filter.java      |  79 ---
 .../drill/plan/physical/operators/Implode.java     |  63 --
 .../drill/plan/physical/operators/InvalidData.java |  31 -
 .../drill/plan/physical/operators/JsonSchema.java  |  87 ---
 .../drill/plan/physical/operators/Operator.java    | 146 ----
 .../drill/plan/physical/operators/ScanJson.java    | 101 ---
 .../drill/plan/physical/operators/Schema.java      |  35 -
 .../plan/physical/operators/SchemaListener.java    |  25 -
 .../java/org/apache/drill/plan/ParsePlanTest.java  | 133 ----
 .../apache/drill/plan/PhysicalInterpreterTest.java |  39 --
 .../org/apache/drill/plan/json/ExplodeTest.java    |  38 --
 .../org/apache/drill/plan/json/FilterTest.java     |  27 -
 .../java/org/apache/drill/plan/json/ScanTest.java  |  26 -
 .../java/org/apache/drill/plan/json/TestUtils.java |  37 -
 .../org/apache/drill/plan/json/TupleCollector.java |  26 -
 .../plan/physical/operators/ScanJsonTest.java      |  32 -
 .../src/test/resources/bad-plan1.drillx            |   3 -
 .../src/test/resources/bad-plan2.drillx            |   1 -
 sandbox/plan-parser/src/test/resources/data1.json  |   5 -
 sandbox/plan-parser/src/test/resources/data2.json  |   2 -
 .../src/test/resources/explode-flow.json           |  32 -
 .../src/test/resources/filter-flow.json            |  15 -
 sandbox/plan-parser/src/test/resources/iris.csv    | 151 -----
 .../src/test/resources/physical-1.drillx           |   4 -
 .../src/test/resources/physical-2.drillx           |   7 -
 .../plan-parser/src/test/resources/plan1.drillx    |   3 -
 .../plan-parser/src/test/resources/plan2.drillx    |   9 -
 .../plan-parser/src/test/resources/plan3.drillx    |  11 -
 .../plan-parser/src/test/resources/plan4.drillx    |  13 -
 sandbox/plan-parser/src/test/resources/test1.csv   |   3 -
 sandbox/query-parser/pom.xml                       |  66 --
 .../drill/parsers/impl/drqlantlr/DrqlAntlr.g       | 289 --------
 .../java/org/apache/drill/parsers/DrqlParser.java  |  92 ---
 .../drill/parsers/impl/drqlantlr/AntlrParser.java  | 747 ---------------------
 .../drill/parsers/impl/drqlantlr/AstNode.java      |  52 --
 .../parsers/impl/drqlantlr/SemanticModel.java      | 250 -------
 .../apache/drill/parsers/DrqlParserAstTest.java    |  88 ---
 .../org/apache/drill/parsers/DrqlParserTest.java   | 457 -------------
 sandbox/query-parser/testdata/q1.drql              |   3 -
 sandbox/query-parser/testdata/q1.drql.ast          |   6 -
 sandbox/query-parser/testdata/q10.drql             |   1 -
 sandbox/query-parser/testdata/q10.drql.ast         |   1 -
 sandbox/query-parser/testdata/q11.drql             |   1 -
 sandbox/query-parser/testdata/q11.drql.ast         |   1 -
 sandbox/query-parser/testdata/q12.drql             |   1 -
 sandbox/query-parser/testdata/q12.drql.ast         |   1 -
 sandbox/query-parser/testdata/q13.drql             |   1 -
 sandbox/query-parser/testdata/q13.drql.ast         |   1 -
 sandbox/query-parser/testdata/q14.drql             |   1 -
 sandbox/query-parser/testdata/q14.drql.ast         |   1 -
 sandbox/query-parser/testdata/q15.drql             |   8 -
 sandbox/query-parser/testdata/q15.drql.ast         |   1 -
 sandbox/query-parser/testdata/q16.drql             |   1 -
 sandbox/query-parser/testdata/q17.drql             |   1 -
 sandbox/query-parser/testdata/q18.bql              |   3 -
 sandbox/query-parser/testdata/q1_temp.drql.sm      |   1 -
 sandbox/query-parser/testdata/q2.drql              |   3 -
 sandbox/query-parser/testdata/q2.drql.ast          |   1 -
 sandbox/query-parser/testdata/q3.drql              |   4 -
 sandbox/query-parser/testdata/q3.drql.ast          |   1 -
 sandbox/query-parser/testdata/q4.drql              |   3 -
 sandbox/query-parser/testdata/q4.drql.ast          |   1 -
 sandbox/query-parser/testdata/q5.drql              |   1 -
 sandbox/query-parser/testdata/q5.drql.ast          |   1 -
 sandbox/query-parser/testdata/q6.drql              |   1 -
 sandbox/query-parser/testdata/q6.drql.ast          |   1 -
 sandbox/query-parser/testdata/q7.drql              |   1 -
 sandbox/query-parser/testdata/q7.drql.ast          |   1 -
 sandbox/query-parser/testdata/q8.drql              |   3 -
 sandbox/query-parser/testdata/q8.drql.ast          |   1 -
 sandbox/query-parser/testdata/q9.drql              |   1 -
 sandbox/query-parser/testdata/q9.drql.ast          |   1 -
 sandbox/query-parser/testdata/query.drql           |   1 -
 sandbox/web-frontend/drill.css                     |  18 +-
 sandbox/web-frontend/drill.js                      |  16 +
 sqlline                                            |  14 +
 .../org/apache/drill/jdbc/DrillDriverVersion.java  |   4 +-
 .../java/org/apache/drill/jdbc/DrillHandler.java   |  17 +
 .../java/org/apache/drill/jdbc/DrillTable.java     |   4 +-
 .../main/java/org/apache/drill/jdbc/Driver.java    |   4 +-
 .../main/java/org/apache/drill/jdbc/RefDriver.java |   4 +-
 .../java/org/apache/drill/jdbc/StorageEngines.java |  17 +
 .../org/apache/drill/optiq/DrillAggregateRel.java  |   4 +-
 .../org/apache/drill/optiq/DrillAggregateRule.java |   4 +-
 .../org/apache/drill/optiq/DrillFilterRel.java     |   4 +-
 .../org/apache/drill/optiq/DrillFilterRule.java    |   4 +-
 .../org/apache/drill/optiq/DrillImplementor.java   |   4 +-
 .../java/org/apache/drill/optiq/DrillJoinRel.java  |   4 +-
 .../java/org/apache/drill/optiq/DrillJoinRule.java |   4 +-
 .../java/org/apache/drill/optiq/DrillOptiq.java    |   4 +-
 .../org/apache/drill/optiq/DrillPrepareImpl.java   |   4 +-
 .../org/apache/drill/optiq/DrillProjectRel.java    |   4 +-
 .../org/apache/drill/optiq/DrillProjectRule.java   |   4 +-
 .../main/java/org/apache/drill/optiq/DrillRel.java |   4 +-
 .../java/org/apache/drill/optiq/DrillScan.java     |  17 +
 .../java/org/apache/drill/optiq/DrillSortRel.java  |   4 +-
 .../java/org/apache/drill/optiq/DrillSortRule.java |   4 +-
 .../java/org/apache/drill/optiq/DrillUnionRel.java |   4 +-
 .../org/apache/drill/optiq/DrillUnionRule.java     |   4 +-
 .../org/apache/drill/optiq/DrillValuesRel.java     |   4 +-
 .../org/apache/drill/optiq/DrillValuesRule.java    |   4 +-
 .../org/apache/drill/optiq/EnumerableDrill.java    |   4 +-
 .../drill/optiq/EnumerableDrillFullEngine.java     |   4 +-
 .../org/apache/drill/optiq/EnumerableDrillRel.java |   4 +-
 .../apache/drill/optiq/EnumerableDrillRule.java    |   4 +-
 .../drill/sql/client/full/BatchListener.java       |  17 +
 .../drill/sql/client/full/BatchLoaderMap.java      |  17 +
 .../drill/sql/client/full/DrillFullImpl.java       |  17 +
 .../drill/sql/client/full/DrillMutableSchema.java  |  17 +
 .../drill/sql/client/full/FileSystemSchema.java    |  17 +
 .../apache/drill/sql/client/full/JsonHelper.java   |  17 +
 .../drill/sql/client/full/ResultEnumerator.java    |  17 +
 .../apache/drill/sql/client/ref/DrillRefImpl.java  |  17 +
 .../org/apache/drill/jdbc/test/FullEngineTest.java |  17 +
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |   4 +-
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  |   4 +-
 830 files changed, 5513 insertions(+), 6948 deletions(-)

commit 611418dc58d482a733a948e956cdd8bb0f8bdc30
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Sep 10 14:26:37 2013 -0700

    [maven-release-plugin] rollback the release of drill-1.0.0-m1

 common/pom.xml                |  6 ++++--
 contrib/pom.xml               |  5 +++--
 contrib/sqlline/pom.xml       |  6 ++++--
 contrib/storage-hbase/pom.xml |  5 +++--
 distribution/pom.xml          |  5 +++--
 exec/bufferl/pom.xml          |  5 +++--
 exec/java-exec/pom.xml        | 12 ++++++++----
 exec/pom.xml                  |  2 +-
 exec/ref/pom.xml              |  6 ++++--
 pom.xml                       | 16 ++++++++--------
 sqlparser/pom.xml             |  6 ++++--
 11 files changed, 45 insertions(+), 29 deletions(-)

commit b529c883f438e8221e0ebb161e3aed3540c6be00
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Sep 6 13:05:44 2013 -0700

    [maven-release-plugin] prepare for next development iteration

 common/pom.xml                | 2 +-
 contrib/pom.xml               | 2 +-
 contrib/sqlline/pom.xml       | 2 +-
 contrib/storage-hbase/pom.xml | 2 +-
 distribution/pom.xml          | 2 +-
 exec/bufferl/pom.xml          | 2 +-
 exec/java-exec/pom.xml        | 2 +-
 exec/pom.xml                  | 2 +-
 exec/ref/pom.xml              | 2 +-
 pom.xml                       | 4 ++--
 sqlparser/pom.xml             | 2 +-
 11 files changed, 12 insertions(+), 12 deletions(-)

commit a0d3c6977820516983142c96d7f9374681529968
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Sep 6 13:05:39 2013 -0700

    [maven-release-plugin] prepare release drill-1.0.0-m1

 common/pom.xml                |  6 ++----
 contrib/pom.xml               |  5 ++---
 contrib/sqlline/pom.xml       |  6 ++----
 contrib/storage-hbase/pom.xml |  5 ++---
 distribution/pom.xml          |  5 ++---
 exec/bufferl/pom.xml          |  5 ++---
 exec/java-exec/pom.xml        | 12 ++++--------
 exec/pom.xml                  |  2 +-
 exec/ref/pom.xml              |  6 ++----
 pom.xml                       | 16 ++++++++--------
 sqlparser/pom.xml             |  6 ++----
 11 files changed, 29 insertions(+), 45 deletions(-)

commit c211df00c4c9fe1ab85b4753b79ce7080a334d06
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Sep 6 12:50:41 2013 -0700

    Address issue where binary tarball was including both rebuffed and non rebuffed jars.
    Address issue where binary tarball wasn't including sample-data directory

 distribution/src/assemble/bin.xml | 27 +++++++++++++++++++++------
 1 file changed, 21 insertions(+), 6 deletions(-)

commit ce34dd40b6629d165ddb2f9e0d6741846d0bff83
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Sep 6 12:51:32 2013 -0700

    [maven-release-plugin] rollback the release of drill-1.0.0-m1

 common/pom.xml                |  6 ++++--
 contrib/pom.xml               |  5 +++--
 contrib/sqlline/pom.xml       |  6 ++++--
 contrib/storage-hbase/pom.xml |  5 +++--
 distribution/pom.xml          |  5 +++--
 exec/bufferl/pom.xml          |  5 +++--
 exec/java-exec/pom.xml        | 12 ++++++++----
 exec/pom.xml                  |  2 +-
 exec/ref/pom.xml              |  6 ++++--
 pom.xml                       | 16 ++++++++--------
 sqlparser/pom.xml             |  6 ++++--
 11 files changed, 45 insertions(+), 29 deletions(-)

commit cdfcc2dd997ea3e465fce5dcf39ec0281605fc9a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Sep 5 23:20:14 2013 -0700

    [maven-release-plugin] prepare for next development iteration

 common/pom.xml                | 2 +-
 contrib/pom.xml               | 2 +-
 contrib/sqlline/pom.xml       | 2 +-
 contrib/storage-hbase/pom.xml | 2 +-
 distribution/pom.xml          | 2 +-
 exec/bufferl/pom.xml          | 2 +-
 exec/java-exec/pom.xml        | 2 +-
 exec/pom.xml                  | 2 +-
 exec/ref/pom.xml              | 2 +-
 pom.xml                       | 4 ++--
 sqlparser/pom.xml             | 2 +-
 11 files changed, 12 insertions(+), 12 deletions(-)

commit 157513b3844bce641d47ef9d6a9e8b91c146b784
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Sep 5 23:20:09 2013 -0700

    [maven-release-plugin] prepare release drill-1.0.0-m1

 common/pom.xml                |  6 ++----
 contrib/pom.xml               |  5 ++---
 contrib/sqlline/pom.xml       |  6 ++----
 contrib/storage-hbase/pom.xml |  5 ++---
 distribution/pom.xml          |  5 ++---
 exec/bufferl/pom.xml          |  5 ++---
 exec/java-exec/pom.xml        | 12 ++++--------
 exec/pom.xml                  |  2 +-
 exec/ref/pom.xml              |  6 ++----
 pom.xml                       | 16 ++++++++--------
 sqlparser/pom.xml             |  6 ++----
 11 files changed, 29 insertions(+), 45 deletions(-)

commit fef22041b69fdc0fa3770e2cef747ebab8d9cde4
Author: Jason Altekruse <altekrusejason@gmial.com>
Date:   Fri Sep 6 00:57:38 2013 -0500

    Drill 210 - incorrect record count reading from parquet file.

 .../main/java/org/apache/drill/exec/store/parquet/PageReadStatus.java    | 1 +
 1 file changed, 1 insertion(+)

commit 60e2080fa557cddfe8146a706612444724efe716
Author: Jason Altekruse <altekrusejason@gmial.com>
Date:   Fri Sep 6 00:53:50 2013 -0500

    DRILL 211 - index out of bounds error in parquet reader.

 .../exec/store/parquet/VarLenBinaryReader.java     |  5 ---
 .../drill/exec/store/ParquetRecordReaderTest.java  | 49 +++++++++++++++++++++-
 2 files changed, 48 insertions(+), 6 deletions(-)

commit 98bc9e19c153ac6f70ec58fbe37fcb2abc9de3f7
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Sep 5 21:17:58 2013 -0700

    Reduce the likelihood of phantom schema changes in distributed query plans.

 .../java/org/apache/drill/exec/physical/impl/ScanBatch.java  |  2 +-
 .../apache/drill/exec/physical/impl/aggregate/AggBatch.java  |  2 +-
 .../org/apache/drill/exec/physical/impl/sort/SortBatch.java  |  4 ++--
 .../org/apache/drill/exec/record/AbstractRecordBatch.java    |  2 +-
 .../apache/drill/exec/record/AbstractSingleRecordBatch.java  |  2 +-
 .../org/apache/drill/exec/record/HyperVectorWrapper.java     |  4 ++--
 .../org/apache/drill/exec/record/SimpleVectorWrapper.java    |  2 +-
 .../java/org/apache/drill/exec/record/VectorContainer.java   | 12 ++++++++----
 .../java/org/apache/drill/exec/record/VectorWrapper.java     |  2 +-
 .../apache/drill/exec/record/selection/SelectionVector4.java |  2 ++
 .../org/apache/drill/exec/vector/BaseDataValueVector.java    | 12 +++++++++---
 .../drill/exec/store/parquet/ParquetRecordReaderTest.java    |  2 +-
 12 files changed, 30 insertions(+), 18 deletions(-)

commit a8bfbf1a2d40b12e715912481d081b61ed5d8321
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Sep 5 20:47:57 2013 -0700

    Packaging cleanups and making binary artifact name consistent with source artifact

 distribution/pom.xml              |  1 +
 distribution/src/assemble/bin.xml | 10 +---------
 2 files changed, 2 insertions(+), 9 deletions(-)

commit fb9b6e0cdcc9375472213c17975e0c65dd223d99
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Sep 5 20:45:36 2013 -0700

    DRILL-216: Throw exception if someone tries to access a bare _MAP type.

 .../src/main/java/org/apache/drill/exec/record/VectorContainer.java      | 1 +
 1 file changed, 1 insertion(+)

commit 56d2cb99d037714d041d6511707de4a66c253b64
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Sep 5 20:20:37 2013 -0700

    Increase allocation size until we start using copyFromSafe for the SVRemover.

 .../apache/drill/exec/physical/impl/svremover/RemovingRecordBatch.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 10866cf06294842fce13c122724cee99c3f27a86
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Sep 3 20:11:35 2013 -0700

    DRILL-214: if HADOOP_HOME is set, add jars in hadoop lib directory to classpath. Minor packaging and script fixes.

 distribution/src/assemble/bin.xml                  |  8 ++++++
 distribution/src/resources/drill-config.sh         | 19 ++++++++++++++
 distribution/src/resources/hadoop-excludes.txt     | 13 ++++++++++
 distribution/src/resources/runbit                  |  5 ++--
 distribution/src/resources/sqlline                 |  3 ++-
 distribution/src/resources/storage-engines.json    | 29 ++++++++++++++++++++++
 distribution/src/resources/submit_plan             |  2 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  6 +----
 .../exec/store/parquet/ParquetSchemaProvider.java  |  2 +-
 .../org/apache/drill/exec/work/FragmentRunner.java |  2 +-
 10 files changed, 77 insertions(+), 12 deletions(-)

commit f5e2e61a6224b20d671160783c4092984ad5a38a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Sep 5 19:43:20 2013 -0700

    DRILL-206: Packaging & Pom fixes.

 contrib/sqlline/pom.xml |  8 +++--
 pom.xml                 | 45 +++++++++---------------
 src/assemble/bin.xml    | 93 -------------------------------------------------
 3 files changed, 22 insertions(+), 124 deletions(-)

commit 4b1924944cd7c941b088488a558dd8f56a6fb27e
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Sep 4 19:43:59 2013 -0700

    DRILL-213: Test cases fail on Windows

 .../java/org/apache/drill/common/util/FileUtils.java  |  4 ++++
 .../apache/drill/exec/compile/ClassTransformer.java   | 19 ++++++++++---------
 .../apache/drill/exec/expr/fn/FunctionConverter.java  |  5 +++--
 3 files changed, 17 insertions(+), 11 deletions(-)

commit ad992eba7468012323ff07b8369751a7e2774c21
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Sep 4 18:50:17 2013 -0700

    DRILL-212: Resource leak in org.apache.drill.exec.store.parquet.ParquetRecordReader.setup()

 .../org/apache/drill/exec/store/parquet/ParquetRecordReader.java     | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit b34b89a3681ab1cc870329f62aa74972bdce68f1
Author: Aditya Kishore <aditya@maprtech.com>
Date:   Wed Sep 4 14:32:35 2013 -0700

    DRILL-209: Build is broken due to incorrect dependency versions of drill artifacts

 contrib/pom.xml         | 5 +++--
 contrib/sqlline/pom.xml | 2 +-
 distribution/pom.xml    | 8 ++++----
 exec/ref/pom.xml        | 2 +-
 sqlparser/pom.xml       | 2 +-
 5 files changed, 10 insertions(+), 9 deletions(-)

commit 53208acbb81956246875667d9ca8bf8d7eb2cdf7
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Sep 5 16:17:59 2013 -0700

    [maven-release-plugin] rollback the release of drill-root-1.0.0-m1

 common/pom.xml                |  6 ++++--
 contrib/pom.xml               |  5 +++--
 contrib/sqlline/pom.xml       |  9 +++++----
 contrib/storage-hbase/pom.xml |  5 +++--
 distribution/pom.xml          | 13 +++++++------
 exec/bufferl/pom.xml          |  5 +++--
 exec/java-exec/pom.xml        | 12 ++++++++----
 exec/pom.xml                  |  2 +-
 exec/ref/pom.xml              |  8 +++++---
 pom.xml                       | 16 ++++++++--------
 sqlparser/pom.xml             |  8 +++++---
 11 files changed, 52 insertions(+), 37 deletions(-)

commit bc24d1f127d72c8c641cba64b8c2337c840e1574
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Sep 4 04:23:53 2013 -0700

    [maven-release-plugin] prepare for next development iteration

 common/pom.xml                |  2 +-
 contrib/pom.xml               |  2 +-
 contrib/sqlline/pom.xml       |  6 +-----
 contrib/storage-hbase/pom.xml |  2 +-
 distribution/pom.xml          | 10 +++++-----
 exec/bufferl/pom.xml          |  2 +-
 exec/java-exec/pom.xml        |  2 +-
 exec/pom.xml                  |  2 +-
 exec/ref/pom.xml              |  4 ++--
 pom.xml                       |  4 ++--
 sqlparser/pom.xml             |  4 ++--
 11 files changed, 18 insertions(+), 22 deletions(-)

commit 41c18197e3b8ae3c42d55089d641e9a0b68c6f29
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Sep 4 04:23:40 2013 -0700

    [maven-release-plugin] prepare release drill-root-1.0.0-m1

 common/pom.xml                |  6 ++----
 contrib/pom.xml               |  5 ++---
 contrib/sqlline/pom.xml       | 13 ++++++++-----
 contrib/storage-hbase/pom.xml |  5 ++---
 distribution/pom.xml          | 13 ++++++-------
 exec/bufferl/pom.xml          |  5 ++---
 exec/java-exec/pom.xml        | 12 ++++--------
 exec/pom.xml                  |  2 +-
 exec/ref/pom.xml              |  8 +++-----
 pom.xml                       | 16 ++++++++--------
 sqlparser/pom.xml             |  8 +++-----
 11 files changed, 41 insertions(+), 52 deletions(-)

commit 8d676cce9826a177e5183d2c086a8c1491975e7e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Sep 4 04:05:44 2013 -0700

    DRILL-186: Updated README.md

 README.md | 136 +++++++++++---------------------------------------------------
 1 file changed, 24 insertions(+), 112 deletions(-)

commit a593d908ad3b55df4cf29c61e58c6b8f27474e16
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Sep 4 04:04:30 2013 -0700

    DRILL-165: Reorganize directories (moves only)

 sandbox/prototype/KEYS => KEYS                              |   0
 sandbox/prototype/LICENSE => LICENSE                        |   0
 {sandbox/prototype/common => common}/pom.xml                |   0
 .../org/apache/drill/common/expression/parser/ExprLexer.g   |   0
 .../org/apache/drill/common/expression/parser/ExprParser.g  |   0
 .../org/apache/drill/common/storage/proto/ProtoLexer.g.bk   |   0
 .../org/apache/drill/common/storage/proto/ProtoParser.g.bk  |   0
 .../src/main/java/com/google/protobuf/WireFormatProxy.java  |   0
 .../src/main/java/org/apache/drill/common/JSONOptions.java  |   0
 .../main/java/org/apache/drill/common/PlanProperties.java   |   0
 .../org/apache/drill/common/config/CommonConstants.java     |   0
 .../java/org/apache/drill/common/config/ConfigProvider.java |   0
 .../java/org/apache/drill/common/config/DrillConfig.java    |   0
 .../java/org/apache/drill/common/config/NestedConfig.java   |   0
 .../main/java/org/apache/drill/common/defs/OrderDef.java    |   0
 .../java/org/apache/drill/common/defs/PartitionDef.java     |   0
 .../common/exceptions/DrillConfigurationException.java      |   0
 .../java/org/apache/drill/common/exceptions/DrillError.java |   0
 .../org/apache/drill/common/exceptions/DrillException.java  |   0
 .../apache/drill/common/exceptions/DrillIOException.java    |   0
 .../drill/common/exceptions/DrillRuntimeException.java      |   0
 .../drill/common/exceptions/ExecutionSetupException.java    |   0
 .../drill/common/exceptions/ExpressionParsingException.java |   0
 .../exceptions/LogicalOperatorValidationException.java      |   0
 .../common/exceptions/LogicalPlanParsingException.java      |   0
 .../common/exceptions/PhysicalOperatorSetupException.java   |   0
 .../main/java/org/apache/drill/common/expression/Arg.java   |   0
 .../apache/drill/common/expression/ArgumentValidator.java   |   0
 .../apache/drill/common/expression/ArgumentValidators.java  |   0
 .../drill/common/expression/BasicArgumentValidator.java     |   0
 .../org/apache/drill/common/expression/CallProvider.java    |   0
 .../org/apache/drill/common/expression/ErrorCollector.java  |   0
 .../apache/drill/common/expression/ErrorCollectorImpl.java  |   0
 .../apache/drill/common/expression/ExpressionFunction.java  |   0
 .../apache/drill/common/expression/ExpressionPosition.java  |   0
 .../drill/common/expression/ExpressionStringBuilder.java    |   0
 .../drill/common/expression/ExpressionValidationError.java  |   0
 .../common/expression/ExpressionValidationException.java    |   0
 .../apache/drill/common/expression/ExpressionValidator.java |   0
 .../org/apache/drill/common/expression/FieldReference.java  |   0
 .../org/apache/drill/common/expression/FunctionCall.java    |   0
 .../apache/drill/common/expression/FunctionDefinition.java  |   0
 .../apache/drill/common/expression/FunctionInstance.java    |   0
 .../org/apache/drill/common/expression/FunctionName.java    |   0
 .../apache/drill/common/expression/FunctionRegistry.java    |   0
 .../org/apache/drill/common/expression/IfExpression.java    |   0
 .../apache/drill/common/expression/LogicalExpression.java   |   0
 .../drill/common/expression/LogicalExpressionBase.java      |   0
 .../org/apache/drill/common/expression/NoArgValidator.java  |   0
 .../drill/common/expression/OutputTypeDeterminer.java       |   0
 .../org/apache/drill/common/expression/PathSegment.java     |   0
 .../java/org/apache/drill/common/expression/SchemaPath.java |   0
 .../org/apache/drill/common/expression/ValidationError.java |   0
 .../apache/drill/common/expression/ValueExpressions.java    |   0
 .../drill/common/expression/aggregate/BasicAggregates.java  |   0
 .../drill/common/expression/fn/AggregationFunctions.java    |   0
 .../apache/drill/common/expression/fn/BooleanFunctions.java |   0
 .../apache/drill/common/expression/fn/MathFunctions.java    |   0
 .../apache/drill/common/expression/fn/StringFunctions.java  |   0
 .../apache/drill/common/expression/fn/TypeFunctions.java    |   0
 .../apache/drill/common/expression/fn/UnaryFunctions.java   |   0
 .../org/apache/drill/common/expression/types/AtomType.java  |   0
 .../org/apache/drill/common/expression/types/DataType.java  |   0
 .../drill/common/expression/types/DataTypeFactory.java      |   0
 .../apache/drill/common/expression/types/LateBindType.java  |   0
 .../common/expression/visitors/AbstractExprVisitor.java     |   0
 .../drill/common/expression/visitors/AggregateChecker.java  |   0
 .../drill/common/expression/visitors/ConstantChecker.java   |   0
 .../drill/common/expression/visitors/ExprVisitor.java       |   0
 .../apache/drill/common/expression/visitors/OpVisitor.java  |   0
 .../drill/common/expression/visitors/SimpleExprVisitor.java |   0
 .../java/org/apache/drill/common/graph/AdjacencyList.java   |   0
 .../org/apache/drill/common/graph/AdjacencyListBuilder.java |   0
 .../src/main/java/org/apache/drill/common/graph/Edge.java   |   0
 .../src/main/java/org/apache/drill/common/graph/Graph.java  |   0
 .../main/java/org/apache/drill/common/graph/GraphAlgos.java |   0
 .../main/java/org/apache/drill/common/graph/GraphValue.java |   0
 .../java/org/apache/drill/common/graph/GraphVisitor.java    |   0
 .../main/java/org/apache/drill/common/graph/Visitable.java  |   0
 .../java/org/apache/drill/common/logical/LogicalPlan.java   |   0
 .../apache/drill/common/logical/StorageEngineConfig.java    |   0
 .../drill/common/logical/StorageEngineConfigBase.java       |   0
 .../apache/drill/common/logical/UnexpectedOperatorType.java |   0
 .../org/apache/drill/common/logical/ValidationError.java    |   0
 .../drill/common/logical/data/CollapsingAggregate.java      |   0
 .../java/org/apache/drill/common/logical/data/Constant.java |   0
 .../java/org/apache/drill/common/logical/data/Filter.java   |   0
 .../java/org/apache/drill/common/logical/data/Flatten.java  |   0
 .../java/org/apache/drill/common/logical/data/Join.java     |   0
 .../org/apache/drill/common/logical/data/JoinCondition.java |   0
 .../java/org/apache/drill/common/logical/data/Limit.java    |   0
 .../apache/drill/common/logical/data/LogicalOperator.java   |   0
 .../drill/common/logical/data/LogicalOperatorBase.java      |   0
 .../apache/drill/common/logical/data/NamedExpression.java   |   0
 .../java/org/apache/drill/common/logical/data/Order.java    |   0
 .../java/org/apache/drill/common/logical/data/Project.java  |   0
 .../apache/drill/common/logical/data/RunningAggregate.java  |   0
 .../java/org/apache/drill/common/logical/data/Scan.java     |   0
 .../java/org/apache/drill/common/logical/data/Segment.java  |   0
 .../java/org/apache/drill/common/logical/data/Sequence.java |   0
 .../drill/common/logical/data/SingleInputOperator.java      |   0
 .../org/apache/drill/common/logical/data/SinkOperator.java  |   0
 .../apache/drill/common/logical/data/SourceOperator.java    |   0
 .../java/org/apache/drill/common/logical/data/Store.java    |   0
 .../org/apache/drill/common/logical/data/Transform.java     |   0
 .../java/org/apache/drill/common/logical/data/Union.java    |   0
 .../org/apache/drill/common/logical/data/WindowFrame.java   |   0
 .../logical/data/visitors/AbstractLogicalVisitor.java       |   0
 .../drill/common/logical/data/visitors/LogicalVisitor.java  |   0
 .../java/org/apache/drill/common/logical/defs/OrderDef.java |   0
 .../org/apache/drill/common/logical/defs/PartitionDef.java  |   0
 .../src/main/java/org/apache/drill/common/types/Types.java  |   0
 .../org/apache/drill/common/util/AbstractDynamicBean.java   |   0
 .../main/java/org/apache/drill/common/util/FileUtils.java   |   0
 .../src/main/java/org/apache/drill/common/util/Hook.java    |   0
 .../main/java/org/apache/drill/common/util/PathScanner.java |   0
 .../common => common}/src/main/protobuf/Types.proto         |   0
 .../common => common}/src/main/resources/drill-default.conf |   0
 .../common => common}/src/main/resources/drill-module.conf  |   0
 .../org/apache/drill/common/expression/parser/TreeTest.java |   0
 .../java/org/apache/drill/storage/CheckStorageConfig.java   |   0
 .../src/test/java/org/apache/drill/storage/Simple.java      |   0
 .../src/test/resources/basic_physical.json                  |   0
 .../common => common}/src/test/resources/donuts-model.json  |   0
 .../common => common}/src/test/resources/drill-module.conf  |   0
 .../common => common}/src/test/resources/dsort-logical.json |   0
 .../common => common}/src/test/resources/jdbc_plan.json     |   0
 .../common => common}/src/test/resources/logback.xml        |   0
 .../common => common}/src/test/resources/simple_plan.json   |   0
 .../src/test/resources/storage_engine_plan.json             |   0
 {sandbox/prototype/contrib => contrib}/pom.xml              |   0
 {sandbox/prototype/contrib => contrib}/sqlline/pom.xml      |   0
 .../prototype/contrib => contrib}/storage-hbase/pom.xml     |   0
 {sandbox/prototype/contrib => contrib}/synth-log/README.md  |   0
 {sandbox/prototype/contrib => contrib}/synth-log/pom.xml    |   0
 .../main/java/org/apache/drill/synth/ChineseRestaurant.java |   0
 .../src/main/java/org/apache/drill/synth/LogGenerator.java  |   0
 .../src/main/java/org/apache/drill/synth/LogLine.java       |   0
 .../src/main/java/org/apache/drill/synth/LongTail.java      |   0
 .../src/main/java/org/apache/drill/synth/Main.java          |   0
 .../src/main/java/org/apache/drill/synth/TermGenerator.java |   0
 .../src/main/java/org/apache/drill/synth/User.java          |   0
 .../src/main/java/org/apache/drill/synth/WordGenerator.java |   0
 .../synth-log/src/main/resources/geo-codes                  |   0
 .../synth-log/src/main/resources/log4j.properties           |   0
 .../synth-log/src/main/resources/other-words                |   0
 .../synth-log/src/main/resources/word-frequency-seed        |   0
 .../test/java/org/apache/drill/synth/LogGeneratorTest.java  |   0
 .../test/java/org/apache/drill/synth/TermGeneratorTest.java |   0
 .../test/java/org/apache/drill/synth/WordGeneratorTest.java |   0
 {sandbox/prototype/distribution => distribution}/pom.xml    |   0
 .../distribution => distribution}/src/assemble/bin.xml      |   0
 .../distribution => distribution}/src/deb/control/conffiles |   0
 .../distribution => distribution}/src/deb/control/control   |   0
 .../src/resources/drill-config.sh                           |   0
 .../src/resources/drill-env.sh                              |   0
 .../src/resources/drill-override.conf                       |   0
 .../distribution => distribution}/src/resources/drillbit    |   0
 .../distribution => distribution}/src/resources/drillbit.sh |   0
 .../distribution => distribution}/src/resources/logback.xml |   0
 .../distribution => distribution}/src/resources/runbit      |   0
 .../distribution => distribution}/src/resources/sqlline     |   0
 .../distribution => distribution}/src/resources/submit_plan |   0
 {sandbox/prototype/exec => exec}/bufferl/pom.xml            |   0
 .../bufferl/src/main/java/io/netty/buffer/PoolArenaL.java   |   0
 .../bufferl/src/main/java/io/netty/buffer/PoolChunkL.java   |   0
 .../src/main/java/io/netty/buffer/PoolChunkListL.java       |   0
 .../bufferl/src/main/java/io/netty/buffer/PoolSubpageL.java |   0
 .../src/main/java/io/netty/buffer/PoolThreadCacheL.java     |   0
 .../main/java/io/netty/buffer/PooledByteBufAllocatorL.java  |   0
 .../src/main/java/io/netty/buffer/PooledByteBufL.java       |   0
 .../src/main/java/io/netty/buffer/PooledHeapBufferL.java    |   0
 .../java/io/netty/buffer/PooledUnsafeDirectByteBufL.java    |   0
 {sandbox/prototype/exec => exec}/java-exec/pom.xml          |   0
 .../exec => exec}/java-exec/src/main/codegen/config.fmpp    |   0
 .../exec => exec}/java-exec/src/main/codegen/data/Casts.tdd |   0
 .../java-exec/src/main/codegen/data/CompareTypes.tdd        |   0
 .../java-exec/src/main/codegen/data/ValueVectorTypes.tdd    |   0
 .../java-exec/src/main/codegen/includes/license.ftl         |   0
 .../java-exec/src/main/codegen/includes/vv_imports.ftl      |   0
 .../java-exec/src/main/codegen/templates/CastFunctions.java |   0
 .../src/main/codegen/templates/ComparisonFunctions.java     |   0
 .../src/main/codegen/templates/FixedValueVectors.java       |   0
 .../src/main/codegen/templates/NullableValueVectors.java    |   0
 .../src/main/codegen/templates/RepeatedValueVectors.java    |   0
 .../java-exec/src/main/codegen/templates/TypeHelper.java    |   0
 .../java-exec/src/main/codegen/templates/ValueHolders.java  |   0
 .../src/main/codegen/templates/VariableLengthVectors.java   |   0
 .../src/main/java/org/apache/drill/exec/ExecConstants.java  |   0
 .../java/org/apache/drill/exec/cache/DistributedCache.java  |   0
 .../main/java/org/apache/drill/exec/cache/HazelCache.java   |   0
 .../main/java/org/apache/drill/exec/cache/LocalCache.java   |   0
 .../main/java/org/apache/drill/exec/cache/ProtoBufImpl.java |   0
 .../main/java/org/apache/drill/exec/cache/ProtoBufWrap.java |   0
 .../src/main/java/org/apache/drill/exec/cache/ProtoMap.java |   0
 .../main/java/org/apache/drill/exec/client/DrillClient.java |   0
 .../java/org/apache/drill/exec/client/QuerySubmitter.java   |   0
 .../org/apache/drill/exec/compile/ClassBodyBuilder.java     |   0
 .../java/org/apache/drill/exec/compile/ClassCompiler.java   |   0
 .../org/apache/drill/exec/compile/ClassTransformer.java     |   0
 .../org/apache/drill/exec/compile/JDKClassCompiler.java     |   0
 .../org/apache/drill/exec/compile/JaninoClassCompiler.java  |   0
 .../org/apache/drill/exec/compile/QueryClassLoader.java     |   0
 .../apache/drill/exec/compile/TemplateClassDefinition.java  |   0
 .../drill/exec/compile/sig/CodeGeneratorArgument.java       |   0
 .../apache/drill/exec/compile/sig/CodeGeneratorMethod.java  |   0
 .../drill/exec/compile/sig/CodeGeneratorSignature.java      |   0
 .../exec/compile/sig/ConstantExpressionIdentifier.java      |   0
 .../org/apache/drill/exec/compile/sig/GeneratorMapping.java |   0
 .../java/org/apache/drill/exec/compile/sig/MappingSet.java  |   0
 .../java/org/apache/drill/exec/compile/sig/Signature.java   |   0
 .../org/apache/drill/exec/compile/sig/SignatureHolder.java  |   0
 .../java/org/apache/drill/exec/compile/sig/VVReadBatch.java |   0
 .../org/apache/drill/exec/compile/sig/VVWriteBatch.java     |   0
 .../org/apache/drill/exec/coord/ClusterCoordinator.java     |   0
 .../apache/drill/exec/coord/DrillServiceInstanceHelper.java |   0
 .../org/apache/drill/exec/coord/DrillbitEndpointSerDe.java  |   0
 .../apache/drill/exec/coord/LocalClusterCoordinator.java    |   0
 .../org/apache/drill/exec/coord/ZKClusterCoordinator.java   |   0
 .../org/apache/drill/exec/coord/ZKRegistrationHandle.java   |   0
 .../src/main/java/org/apache/drill/exec/disk/Spool.java     |   0
 .../org/apache/drill/exec/exception/BitComException.java    |   0
 .../drill/exec/exception/ClassTransformationException.java  |   0
 .../drill/exec/exception/DrillbitStartupException.java      |   0
 .../apache/drill/exec/exception/FragmentSetupException.java |   0
 .../org/apache/drill/exec/exception/OptimizerException.java |   0
 .../apache/drill/exec/exception/SchemaChangeException.java  |   0
 .../org/apache/drill/exec/exception/SetupException.java     |   0
 .../main/java/org/apache/drill/exec/expr/CodeGenerator.java |   0
 .../java/org/apache/drill/exec/expr/DirectExpression.java   |   0
 .../main/java/org/apache/drill/exec/expr/DrillAggFunc.java  |   0
 .../src/main/java/org/apache/drill/exec/expr/DrillFunc.java |   0
 .../java/org/apache/drill/exec/expr/DrillSimpleFunc.java    |   0
 .../java/org/apache/drill/exec/expr/EvaluationVisitor.java  |   0
 .../apache/drill/exec/expr/ExpressionTreeMaterializer.java  |   0
 .../apache/drill/exec/expr/HoldingContainerExpression.java  |   0
 .../org/apache/drill/exec/expr/SingleClassStringWriter.java |   0
 .../apache/drill/exec/expr/ValueVectorReadExpression.java   |   0
 .../apache/drill/exec/expr/ValueVectorWriteExpression.java  |   0
 .../drill/exec/expr/annotations/FunctionTemplate.java       |   0
 .../org/apache/drill/exec/expr/annotations/MethodMap.java   |   0
 .../java/org/apache/drill/exec/expr/annotations/Output.java |   0
 .../java/org/apache/drill/exec/expr/annotations/Param.java  |   0
 .../org/apache/drill/exec/expr/annotations/Workspace.java   |   0
 .../org/apache/drill/exec/expr/fn/DrillAggFuncHolder.java   |   0
 .../java/org/apache/drill/exec/expr/fn/DrillFuncHolder.java |   0
 .../apache/drill/exec/expr/fn/DrillSimpleFuncHolder.java    |   0
 .../java/org/apache/drill/exec/expr/fn/FunctionBody.java    |   0
 .../org/apache/drill/exec/expr/fn/FunctionConverter.java    |   0
 .../drill/exec/expr/fn/FunctionImplementationRegistry.java  |   0
 .../java/org/apache/drill/exec/expr/fn/ImportGrabber.java   |   0
 .../apache/drill/exec/expr/fn/MethodGrabbingVisitor.java    |   0
 .../apache/drill/exec/expr/fn/ModifiedUnparseVisitor.java   |   0
 .../apache/drill/exec/expr/fn/agg/impl/CountFunctions.java  |   0
 .../apache/drill/exec/expr/fn/agg/impl/SumFunctions.java    |   0
 .../java/org/apache/drill/exec/expr/fn/impl/Alternator.java |   0
 .../org/apache/drill/exec/expr/fn/impl/BitFunctions.java    |   0
 .../org/apache/drill/exec/expr/fn/impl/ByteSubstring.java   |   0
 .../org/apache/drill/exec/expr/fn/impl/CharSubstring.java   |   0
 .../apache/drill/exec/expr/fn/impl/ComparatorFunctions.java |   0
 .../apache/drill/exec/expr/fn/impl/ComparisonFunctions.java |   0
 .../exec/expr/fn/impl/ComparisonFunctionsNullable.java      |   0
 .../org/apache/drill/exec/expr/fn/impl/HashFunctions.java   |   0
 .../java/org/apache/drill/exec/expr/fn/impl/HashHelper.java |   0
 .../java/org/apache/drill/exec/expr/fn/impl/IsNotNull.java  |   0
 .../java/org/apache/drill/exec/expr/fn/impl/IsNull.java     |   0
 .../org/apache/drill/exec/expr/fn/impl/MathFunctions.java   |   0
 .../drill/exec/expr/fn/impl/SimpleRepeatedFunctions.java    |   0
 .../java/org/apache/drill/exec/expr/fn/impl/VarHelpers.java |   0
 .../org/apache/drill/exec/expr/holders/ValueHolder.java     |   0
 .../java/org/apache/drill/exec/memory/BufferAllocator.java  |   0
 .../org/apache/drill/exec/memory/DirectBufferAllocator.java |   0
 .../drill/exec/metrics/SingleThreadNestedCounter.java       |   0
 .../java/org/apache/drill/exec/ops/FragmentContext.java     |   0
 .../main/java/org/apache/drill/exec/ops/QueryContext.java   |   0
 .../main/java/org/apache/drill/exec/opt/BasicOptimizer.java |   0
 .../java/org/apache/drill/exec/opt/IdentityOptimizer.java   |   0
 .../src/main/java/org/apache/drill/exec/opt/Optimizer.java  |   0
 .../org/apache/drill/exec/physical/DataValidationMode.java  |   0
 .../org/apache/drill/exec/physical/EndpointAffinity.java    |   0
 .../java/org/apache/drill/exec/physical/OperatorCost.java   |   0
 .../java/org/apache/drill/exec/physical/PhysicalPlan.java   |   0
 .../main/java/org/apache/drill/exec/physical/ReadEntry.java |   0
 .../org/apache/drill/exec/physical/ReadEntryFromHDFS.java   |   0
 .../org/apache/drill/exec/physical/ReadEntryWithPath.java   |   0
 .../java/org/apache/drill/exec/physical/RecordField.java    |   0
 .../java/org/apache/drill/exec/physical/WriteEntry.java     |   0
 .../org/apache/drill/exec/physical/base/AbstractBase.java   |   0
 .../apache/drill/exec/physical/base/AbstractExchange.java   |   0
 .../apache/drill/exec/physical/base/AbstractGroupScan.java  |   0
 .../apache/drill/exec/physical/base/AbstractMultiple.java   |   0
 .../drill/exec/physical/base/AbstractPhysicalVisitor.java   |   0
 .../apache/drill/exec/physical/base/AbstractReceiver.java   |   0
 .../org/apache/drill/exec/physical/base/AbstractSender.java |   0
 .../org/apache/drill/exec/physical/base/AbstractSingle.java |   0
 .../org/apache/drill/exec/physical/base/AbstractStore.java  |   0
 .../java/org/apache/drill/exec/physical/base/Exchange.java  |   0
 .../org/apache/drill/exec/physical/base/ExchangeCost.java   |   0
 .../org/apache/drill/exec/physical/base/FragmentLeaf.java   |   0
 .../org/apache/drill/exec/physical/base/FragmentRoot.java   |   0
 .../java/org/apache/drill/exec/physical/base/GroupScan.java |   0
 .../org/apache/drill/exec/physical/base/HasAffinity.java    |   0
 .../main/java/org/apache/drill/exec/physical/base/Leaf.java |   0
 .../apache/drill/exec/physical/base/PhysicalOperator.java   |   0
 .../drill/exec/physical/base/PhysicalOperatorUtil.java      |   0
 .../apache/drill/exec/physical/base/PhysicalVisitor.java    |   0
 .../java/org/apache/drill/exec/physical/base/Receiver.java  |   0
 .../main/java/org/apache/drill/exec/physical/base/Root.java |   0
 .../main/java/org/apache/drill/exec/physical/base/Scan.java |   0
 .../java/org/apache/drill/exec/physical/base/Sender.java    |   0
 .../main/java/org/apache/drill/exec/physical/base/Size.java |   0
 .../java/org/apache/drill/exec/physical/base/Store.java     |   0
 .../java/org/apache/drill/exec/physical/base/SubScan.java   |   0
 .../java/org/apache/drill/exec/physical/config/Filter.java  |   0
 .../drill/exec/physical/config/HashPartitionSender.java     |   0
 .../drill/exec/physical/config/HashToRandomExchange.java    |   0
 .../org/apache/drill/exec/physical/config/MergeJoinPOP.java |   0
 .../apache/drill/exec/physical/config/PartitionRange.java   |   0
 .../java/org/apache/drill/exec/physical/config/Project.java |   0
 .../apache/drill/exec/physical/config/RandomReceiver.java   |   0
 .../org/apache/drill/exec/physical/config/RangeSender.java  |   0
 .../java/org/apache/drill/exec/physical/config/Screen.java  |   0
 .../drill/exec/physical/config/SelectionVectorRemover.java  |   0
 .../org/apache/drill/exec/physical/config/SingleSender.java |   0
 .../java/org/apache/drill/exec/physical/config/Sort.java    |   0
 .../drill/exec/physical/config/StreamingAggregate.java      |   0
 .../java/org/apache/drill/exec/physical/config/Union.java   |   0
 .../apache/drill/exec/physical/config/UnionExchange.java    |   0
 .../org/apache/drill/exec/physical/impl/BatchCreator.java   |   0
 .../org/apache/drill/exec/physical/impl/ImplCreator.java    |   0
 .../org/apache/drill/exec/physical/impl/OutputMutator.java  |   0
 .../org/apache/drill/exec/physical/impl/PhysicalConfig.java |   0
 .../drill/exec/physical/impl/RandomReceiverCreator.java     |   0
 .../org/apache/drill/exec/physical/impl/RootCreator.java    |   0
 .../java/org/apache/drill/exec/physical/impl/RootExec.java  |   0
 .../java/org/apache/drill/exec/physical/impl/ScanBatch.java |   0
 .../org/apache/drill/exec/physical/impl/ScreenCreator.java  |   0
 .../drill/exec/physical/impl/SingleSenderCreator.java       |   0
 .../apache/drill/exec/physical/impl/WireRecordBatch.java    |   0
 .../apache/drill/exec/physical/impl/aggregate/AggBatch.java |   0
 .../drill/exec/physical/impl/aggregate/AggBatchCreator.java |   0
 .../drill/exec/physical/impl/aggregate/AggTemplate.java     |   0
 .../drill/exec/physical/impl/aggregate/Aggregator.java      |   0
 .../drill/exec/physical/impl/aggregate/BatchIterator.java   |   0
 .../drill/exec/physical/impl/aggregate/InternalBatch.java   |   0
 .../drill/exec/physical/impl/filter/EvalSetupException.java |   0
 .../exec/physical/impl/filter/EvaluationPredicate.java      |   0
 .../drill/exec/physical/impl/filter/FilterBatchCreator.java |   0
 .../drill/exec/physical/impl/filter/FilterRecordBatch.java  |   0
 .../drill/exec/physical/impl/filter/FilterSignature.java    |   0
 .../drill/exec/physical/impl/filter/FilterTemplate.java     |   0
 .../apache/drill/exec/physical/impl/filter/Filterer.java    |   0
 .../exec/physical/impl/filter/ReturnValueExpression.java    |   0
 .../apache/drill/exec/physical/impl/join/JoinStatus.java    |   0
 .../apache/drill/exec/physical/impl/join/JoinTemplate.java  |   0
 .../apache/drill/exec/physical/impl/join/JoinWorker.java    |   0
 .../drill/exec/physical/impl/join/MergeJoinBatch.java       |   0
 .../exec/physical/impl/join/MergeJoinBatchBuilder.java      |   0
 .../drill/exec/physical/impl/join/MergeJoinCreator.java     |   0
 .../exec/physical/impl/materialize/QueryWritableBatch.java  |   0
 .../exec/physical/impl/materialize/RecordMaterializer.java  |   0
 .../physical/impl/materialize/VectorRecordMaterializer.java |   0
 .../physical/impl/partitionsender/OutgoingRecordBatch.java  |   0
 .../impl/partitionsender/PartitionSenderCreator.java        |   0
 .../impl/partitionsender/PartitionSenderRootExec.java       |   0
 .../exec/physical/impl/partitionsender/Partitioner.java     |   0
 .../physical/impl/partitionsender/PartitionerTemplate.java  |   0
 .../exec/physical/impl/project/ProjectBatchCreator.java     |   0
 .../exec/physical/impl/project/ProjectRecordBatch.java      |   0
 .../apache/drill/exec/physical/impl/project/Projector.java  |   0
 .../drill/exec/physical/impl/project/ProjectorTemplate.java |   0
 .../drill/exec/physical/impl/sort/RecordBatchData.java      |   0
 .../org/apache/drill/exec/physical/impl/sort/SortBatch.java |   0
 .../drill/exec/physical/impl/sort/SortBatchCreator.java     |   0
 .../exec/physical/impl/sort/SortRecordBatchBuilder.java     |   0
 .../apache/drill/exec/physical/impl/sort/SortTemplate.java  |   0
 .../org/apache/drill/exec/physical/impl/sort/Sorter.java    |   0
 .../apache/drill/exec/physical/impl/svremover/Copier.java   |   0
 .../drill/exec/physical/impl/svremover/CopierTemplate2.java |   0
 .../drill/exec/physical/impl/svremover/CopierTemplate4.java |   0
 .../exec/physical/impl/svremover/RemovingRecordBatch.java   |   0
 .../exec/physical/impl/svremover/SVRemoverCreator.java      |   0
 .../drill/exec/physical/impl/union/UnionBatchCreator.java   |   0
 .../drill/exec/physical/impl/union/UnionRecordBatch.java    |   0
 .../apache/drill/exec/planner/AbstractOpWrapperVisitor.java |   0
 .../java/org/apache/drill/exec/planner/ExecPlanner.java     |   0
 .../org/apache/drill/exec/planner/PhysicalPlanReader.java   |   0
 .../org/apache/drill/exec/planner/SimpleExecPlanner.java    |   0
 .../org/apache/drill/exec/planner/fragment/Fragment.java    |   0
 .../apache/drill/exec/planner/fragment/FragmentVisitor.java |   0
 .../drill/exec/planner/fragment/MakeFragmentsVisitor.java   |   0
 .../drill/exec/planner/fragment/MaterializedFragment.java   |   0
 .../apache/drill/exec/planner/fragment/Materializer.java    |   0
 .../org/apache/drill/exec/planner/fragment/PlanningSet.java |   0
 .../drill/exec/planner/fragment/SimpleParallelizer.java     |   0
 .../java/org/apache/drill/exec/planner/fragment/Stats.java  |   0
 .../apache/drill/exec/planner/fragment/StatsCollector.java  |   0
 .../org/apache/drill/exec/planner/fragment/Wrapper.java     |   0
 .../org/apache/drill/exec/record/AbstractRecordBatch.java   |   0
 .../apache/drill/exec/record/AbstractSingleRecordBatch.java |   0
 .../main/java/org/apache/drill/exec/record/BatchSchema.java |   0
 .../src/main/java/org/apache/drill/exec/record/DeadBuf.java |   0
 .../org/apache/drill/exec/record/FragmentWritableBatch.java |   0
 .../org/apache/drill/exec/record/HyperVectorWrapper.java    |   0
 .../java/org/apache/drill/exec/record/MajorTypeSerDe.java   |   0
 .../org/apache/drill/exec/record/MaterializeVisitor.java    |   0
 .../org/apache/drill/exec/record/MaterializedField.java     |   0
 .../java/org/apache/drill/exec/record/NullExpression.java   |   0
 .../java/org/apache/drill/exec/record/RawFragmentBatch.java |   0
 .../apache/drill/exec/record/RawFragmentBatchProvider.java  |   0
 .../main/java/org/apache/drill/exec/record/RecordBatch.java |   0
 .../org/apache/drill/exec/record/RecordBatchLoader.java     |   0
 .../java/org/apache/drill/exec/record/SchemaBuilder.java    |   0
 .../org/apache/drill/exec/record/SimpleVectorWrapper.java   |   0
 .../java/org/apache/drill/exec/record/TransferPair.java     |   0
 .../java/org/apache/drill/exec/record/TypedFieldId.java     |   0
 .../java/org/apache/drill/exec/record/VectorContainer.java  |   0
 .../java/org/apache/drill/exec/record/VectorWrapper.java    |   0
 .../java/org/apache/drill/exec/record/WritableBatch.java    |   0
 .../drill/exec/record/selection/SelectionVector2.java       |   0
 .../drill/exec/record/selection/SelectionVector4.java       |   0
 .../exec/record/selection/SelectionVector4Builder.java      |   0
 .../org/apache/drill/exec/rpc/AbstractHandshakeHandler.java |   0
 .../src/main/java/org/apache/drill/exec/rpc/Acks.java       |   0
 .../org/apache/drill/exec/rpc/BaseRpcOutcomeListener.java   |   0
 .../main/java/org/apache/drill/exec/rpc/BasicClient.java    |   0
 .../apache/drill/exec/rpc/BasicClientWithConnection.java    |   0
 .../main/java/org/apache/drill/exec/rpc/BasicServer.java    |   0
 .../org/apache/drill/exec/rpc/ChannelClosedException.java   |   0
 .../drill/exec/rpc/ChannelListenerWithCoordinationId.java   |   0
 .../java/org/apache/drill/exec/rpc/CoordinationQueue.java   |   0
 .../main/java/org/apache/drill/exec/rpc/DrillRpcFuture.java |   0
 .../java/org/apache/drill/exec/rpc/DrillRpcFutureImpl.java  |   0
 .../java/org/apache/drill/exec/rpc/InboundRpcMessage.java   |   0
 .../java/org/apache/drill/exec/rpc/NamedThreadFactory.java  |   0
 .../java/org/apache/drill/exec/rpc/OutboundRpcMessage.java  |   0
 .../org/apache/drill/exec/rpc/PositiveAtomicInteger.java    |   0
 .../java/org/apache/drill/exec/rpc/RemoteConnection.java    |   0
 .../java/org/apache/drill/exec/rpc/RemoteRpcException.java  |   0
 .../src/main/java/org/apache/drill/exec/rpc/Response.java   |   0
 .../src/main/java/org/apache/drill/exec/rpc/RpcBus.java     |   0
 .../java/org/apache/drill/exec/rpc/RpcCheckedFuture.java    |   0
 .../src/main/java/org/apache/drill/exec/rpc/RpcConfig.java  |   0
 .../org/apache/drill/exec/rpc/RpcConnectionHandler.java     |   0
 .../main/java/org/apache/drill/exec/rpc/RpcConstants.java   |   0
 .../src/main/java/org/apache/drill/exec/rpc/RpcDecoder.java |   0
 .../src/main/java/org/apache/drill/exec/rpc/RpcEncoder.java |   0
 .../main/java/org/apache/drill/exec/rpc/RpcException.java   |   0
 .../java/org/apache/drill/exec/rpc/RpcExceptionHandler.java |   0
 .../src/main/java/org/apache/drill/exec/rpc/RpcMessage.java |   0
 .../src/main/java/org/apache/drill/exec/rpc/RpcOutcome.java |   0
 .../java/org/apache/drill/exec/rpc/RpcOutcomeListener.java  |   0
 .../drill/exec/rpc/ZeroCopyProtobufLengthDecoder.java       |   0
 .../org/apache/drill/exec/rpc/bit/AvailabilityListener.java |   0
 .../main/java/org/apache/drill/exec/rpc/bit/BitClient.java  |   0
 .../src/main/java/org/apache/drill/exec/rpc/bit/BitCom.java |   0
 .../drill/exec/rpc/bit/BitComDefaultInstanceHandler.java    |   0
 .../main/java/org/apache/drill/exec/rpc/bit/BitComImpl.java |   0
 .../main/java/org/apache/drill/exec/rpc/bit/BitCommand.java |   0
 .../java/org/apache/drill/exec/rpc/bit/BitConnection.java   |   0
 .../org/apache/drill/exec/rpc/bit/BitConnectionManager.java |   0
 .../java/org/apache/drill/exec/rpc/bit/BitRpcConfig.java    |   0
 .../main/java/org/apache/drill/exec/rpc/bit/BitServer.java  |   0
 .../main/java/org/apache/drill/exec/rpc/bit/BitTunnel.java  |   0
 .../drill/exec/rpc/bit/ConnectionManagerRegistry.java       |   0
 .../org/apache/drill/exec/rpc/bit/FutureBitCommand.java     |   0
 .../java/org/apache/drill/exec/rpc/bit/ListenerPool.java    |   0
 .../org/apache/drill/exec/rpc/bit/ListeningBitCommand.java  |   0
 .../java/org/apache/drill/exec/rpc/bit/SendProgress.java    |   0
 .../org/apache/drill/exec/rpc/user/QueryResultBatch.java    |   0
 .../org/apache/drill/exec/rpc/user/QueryResultHandler.java  |   0
 .../java/org/apache/drill/exec/rpc/user/UserClient.java     |   0
 .../org/apache/drill/exec/rpc/user/UserResultsListener.java |   0
 .../java/org/apache/drill/exec/rpc/user/UserRpcConfig.java  |   0
 .../java/org/apache/drill/exec/rpc/user/UserServer.java     |   0
 .../java/org/apache/drill/exec/schema/BackedRecord.java     |   0
 .../main/java/org/apache/drill/exec/schema/DataRecord.java  |   0
 .../main/java/org/apache/drill/exec/schema/DiffSchema.java  |   0
 .../src/main/java/org/apache/drill/exec/schema/Field.java   |   0
 .../main/java/org/apache/drill/exec/schema/IdGenerator.java |   0
 .../main/java/org/apache/drill/exec/schema/ListSchema.java  |   0
 .../main/java/org/apache/drill/exec/schema/NamedField.java  |   0
 .../java/org/apache/drill/exec/schema/ObjectSchema.java     |   0
 .../java/org/apache/drill/exec/schema/OrderedField.java     |   0
 .../src/main/java/org/apache/drill/exec/schema/Record.java  |   0
 .../java/org/apache/drill/exec/schema/RecordSchema.java     |   0
 .../org/apache/drill/exec/schema/SchemaIdGenerator.java     |   0
 .../drill/exec/schema/json/jackson/JacksonHelper.java       |   0
 .../java/org/apache/drill/exec/server/BootStrapContext.java |   0
 .../main/java/org/apache/drill/exec/server/Drillbit.java    |   0
 .../java/org/apache/drill/exec/server/DrillbitContext.java  |   0
 .../java/org/apache/drill/exec/server/RemoteServiceSet.java |   0
 .../java/org/apache/drill/exec/server/StartupOptions.java   |   0
 .../java/org/apache/drill/exec/service/ServiceEngine.java   |   0
 .../org/apache/drill/exec/store/AbstractStorageEngine.java  |   0
 .../org/apache/drill/exec/store/AffinityCalculator.java     |   0
 .../org/apache/drill/exec/store/BatchExceededException.java |   0
 .../org/apache/drill/exec/store/ClassPathFileSystem.java    |   0
 .../apache/drill/exec/store/DistributedStorageEngine.java   |   0
 .../org/apache/drill/exec/store/QueryOptimizerRule.java     |   0
 .../main/java/org/apache/drill/exec/store/RecordReader.java |   0
 .../java/org/apache/drill/exec/store/RecordRecorder.java    |   0
 .../org/apache/drill/exec/store/ResourceInputStream.java    |   0
 .../java/org/apache/drill/exec/store/SchemaProvider.java    |   0
 .../org/apache/drill/exec/store/SchemaProviderRegistry.java |   0
 .../java/org/apache/drill/exec/store/StorageEngine.java     |   0
 .../org/apache/drill/exec/store/StorageEngineRegistry.java  |   0
 .../main/java/org/apache/drill/exec/store/VectorHolder.java |   0
 .../org/apache/drill/exec/store/json/JSONGroupScan.java     |   0
 .../org/apache/drill/exec/store/json/JSONRecordReader.java  |   0
 .../apache/drill/exec/store/json/JSONScanBatchCreator.java  |   0
 .../org/apache/drill/exec/store/json/JSONStorageEngine.java |   0
 .../drill/exec/store/json/JSONStorageEngineConfig.java      |   0
 .../java/org/apache/drill/exec/store/json/JSONSubScan.java  |   0
 .../apache/drill/exec/store/json/JsonSchemaProvider.java    |   0
 .../org/apache/drill/exec/store/mock/MockGroupScanPOP.java  |   0
 .../org/apache/drill/exec/store/mock/MockRecordReader.java  |   0
 .../apache/drill/exec/store/mock/MockScanBatchCreator.java  |   0
 .../org/apache/drill/exec/store/mock/MockStorageEngine.java |   0
 .../drill/exec/store/mock/MockStorageEngineConfig.java      |   0
 .../java/org/apache/drill/exec/store/mock/MockStorePOP.java |   0
 .../org/apache/drill/exec/store/mock/MockSubScanPOP.java    |   0
 .../java/org/apache/drill/exec/store/parquet/BitReader.java |   0
 .../org/apache/drill/exec/store/parquet/ColumnReader.java   |   0
 .../drill/exec/store/parquet/FixedByteAlignedReader.java    |   0
 .../apache/drill/exec/store/parquet/NullableBitReader.java  |   0
 .../drill/exec/store/parquet/NullableColumnReader.java      |   0
 .../exec/store/parquet/NullableFixedByteAlignedReader.java  |   0
 .../org/apache/drill/exec/store/parquet/PageReadStatus.java |   0
 .../apache/drill/exec/store/parquet/ParquetGroupScan.java   |   0
 .../drill/exec/store/parquet/ParquetRecordReader.java       |   0
 .../drill/exec/store/parquet/ParquetRowGroupScan.java       |   0
 .../drill/exec/store/parquet/ParquetScanBatchCreator.java   |   0
 .../drill/exec/store/parquet/ParquetSchemaProvider.java     |   0
 .../drill/exec/store/parquet/ParquetStorageEngine.java      |   0
 .../exec/store/parquet/ParquetStorageEngineConfig.java      |   0
 .../apache/drill/exec/store/parquet/VarLenBinaryReader.java |   0
 .../main/java/org/apache/drill/exec/util/AtomicState.java   |   0
 .../java/org/apache/drill/exec/vector/AllocationHelper.java |   0
 .../org/apache/drill/exec/vector/BaseDataValueVector.java   |   0
 .../java/org/apache/drill/exec/vector/BaseValueVector.java  |   0
 .../main/java/org/apache/drill/exec/vector/BitVector.java   |   0
 .../java/org/apache/drill/exec/vector/FixedWidthVector.java |   0
 .../drill/exec/vector/NullableVectorDefinitionSetter.java   |   0
 .../apache/drill/exec/vector/RepeatedFixedWidthVector.java  |   0
 .../java/org/apache/drill/exec/vector/RepeatedMutator.java  |   0
 .../drill/exec/vector/RepeatedVariableWidthVector.java      |   0
 .../org/apache/drill/exec/vector/SerializableVector.java    |   0
 .../org/apache/drill/exec/vector/ValueHolderHelper.java     |   0
 .../main/java/org/apache/drill/exec/vector/ValueVector.java |   0
 .../org/apache/drill/exec/vector/VariableWidthVector.java   |   0
 .../drill/exec/vector/allocator/FixedVectorAllocator.java   |   0
 .../exec/vector/allocator/VariableEstimatedVector.java      |   0
 .../exec/vector/allocator/VariableVectorAllocator.java      |   0
 .../apache/drill/exec/vector/allocator/VectorAllocator.java |   0
 .../drill/exec/work/AbstractFragmentRunnerListener.java     |   0
 .../java/org/apache/drill/exec/work/CancelableQuery.java    |   0
 .../java/org/apache/drill/exec/work/EndpointListener.java   |   0
 .../java/org/apache/drill/exec/work/FragmentRunner.java     |   0
 .../org/apache/drill/exec/work/FragmentRunnerListener.java  |   0
 .../main/java/org/apache/drill/exec/work/QueryWorkUnit.java |   0
 .../java/org/apache/drill/exec/work/RecordOutputStream.java |   0
 .../drill/exec/work/RemoteFragmentRunnerListener.java       |   0
 .../java/org/apache/drill/exec/work/ResourceRequest.java    |   0
 .../java/org/apache/drill/exec/work/RootNodeDriver.java     |   0
 .../java/org/apache/drill/exec/work/StatusProvider.java     |   0
 .../main/java/org/apache/drill/exec/work/WorkManager.java   |   0
 .../drill/exec/work/batch/AbstractFragmentCollector.java    |   0
 .../org/apache/drill/exec/work/batch/BatchCollector.java    |   0
 .../org/apache/drill/exec/work/batch/BitComHandler.java     |   0
 .../org/apache/drill/exec/work/batch/BitComHandlerImpl.java |   0
 .../org/apache/drill/exec/work/batch/IncomingBuffers.java   |   0
 .../org/apache/drill/exec/work/batch/MergingCollector.java  |   0
 .../apache/drill/exec/work/batch/PartitionedCollector.java  |   0
 .../org/apache/drill/exec/work/batch/RawBatchBuffer.java    |   0
 .../drill/exec/work/batch/UnlimitedRawBatchBuffer.java      |   0
 .../org/apache/drill/exec/work/foreman/ErrorHelper.java     |   0
 .../java/org/apache/drill/exec/work/foreman/Foreman.java    |   0
 .../drill/exec/work/foreman/FragmentStatusListener.java     |   0
 .../drill/exec/work/foreman/RunningFragmentManager.java     |   0
 .../org/apache/drill/exec/work/foreman/TunnelManager.java   |   0
 .../drill/exec/work/fragment/IncomingFragmentHandler.java   |   0
 .../drill/exec/work/fragment/LocalFragmentHandler.java      |   0
 .../drill/exec/work/fragment/RemoteFragmentHandler.java     |   0
 .../java/org/apache/drill/exec/work/user/UserWorker.java    |   0
 .../src/main/java/parquet/hadoop/CodecFactoryExposer.java   |   0
 .../java-exec/src/main/protobuf/Coordination.proto          |   0
 .../java-exec/src/main/protobuf/ExecutionProtos.proto       |   0
 .../java-exec/src/main/protobuf/GeneralRPC.proto            |   0
 .../java-exec/src/main/protobuf/SchemaDef.proto             |   0
 .../exec => exec}/java-exec/src/main/protobuf/User.proto    |   0
 .../java-exec/src/main/protobuf/UserBitShared.proto         |   0
 .../java-exec/src/main/resources/drill-module.conf          |   0
 .../exec => exec}/java-exec/src/main/resources/logback.xml  |   0
 .../exec => exec}/java-exec/src/main/sh/drill-config.sh     |   0
 .../exec => exec}/java-exec/src/main/sh/drillbit.sh         |   0
 .../prototype/exec => exec}/java-exec/src/main/sh/runbit    |   0
 .../java/org/apache/drill/exec/DrillSystemTestBase.java     |   0
 .../src/test/java/org/apache/drill/exec/SortTest.java       |   0
 .../org/apache/drill/exec/client/DrillClientSystemTest.java |   0
 .../apache/drill/exec/compile/ExampleExternalInterface.java |   0
 .../java/org/apache/drill/exec/compile/ExampleTemplate.java |   0
 .../drill/exec/compile/TestClassCompilationTypes.java       |   0
 .../apache/drill/exec/compile/TestClassTransformation.java  |   0
 .../test/java/org/apache/drill/exec/expr/EscapeTest1.java   |   0
 .../java/org/apache/drill/exec/expr/ExpressionTest.java     |   0
 .../org/apache/drill/exec/fn/impl/TestRepeatedFunction.java |   0
 .../java/org/apache/drill/exec/memory/TestEndianess.java    |   0
 .../java/org/apache/drill/exec/opt/BasicOptimizerTest.java  |   0
 .../drill/exec/physical/config/TestParsePhysicalPlan.java   |   0
 .../apache/drill/exec/physical/impl/PerformanceTests.java   |   0
 .../org/apache/drill/exec/physical/impl/SimpleRootExec.java |   0
 .../drill/exec/physical/impl/TestComparisonFunctions.java   |   0
 .../exec/physical/impl/TestDistributedFragmentRun.java      |   0
 .../drill/exec/physical/impl/TestExecutionAbstractions.java |   0
 .../drill/exec/physical/impl/TestHashToRandomExchange.java  |   0
 .../org/apache/drill/exec/physical/impl/TestOptiqPlans.java |   0
 .../drill/exec/physical/impl/TestSimpleFragmentRun.java     |   0
 .../drill/exec/physical/impl/TestSimpleFunctions.java       |   0
 .../org/apache/drill/exec/physical/impl/agg/TestAgg.java    |   0
 .../drill/exec/physical/impl/filter/TestSimpleFilter.java   |   0
 .../apache/drill/exec/physical/impl/join/TestMergeJoin.java |   0
 .../exec/physical/impl/project/TestSimpleProjection.java    |   0
 .../drill/exec/physical/impl/sort/TestSimpleSort.java       |   0
 .../drill/exec/physical/impl/svremover/TestSVRemover.java   |   0
 .../drill/exec/physical/impl/union/TestSimpleUnion.java     |   0
 .../java/org/apache/drill/exec/pop/PopUnitTestBase.java     |   0
 .../java/org/apache/drill/exec/pop/TestFragmentChecker.java |   0
 .../test/java/org/apache/drill/exec/pop/TestFragmenter.java |   0
 .../java/org/apache/drill/exec/pop/TestInjectionValue.java  |   0
 .../drill/exec/record/ExpressionTreeMaterializerTest.java   |   0
 .../java/org/apache/drill/exec/record/vector/TestLoad.java  |   0
 .../apache/drill/exec/record/vector/TestValueVector.java    |   0
 .../test/java/org/apache/drill/exec/server/TestBitRpc.java  |   0
 .../java/org/apache/drill/exec/store/ByteArrayUtil.java     |   0
 .../org/apache/drill/exec/store/JSONRecordReaderTest.java   |   0
 .../apache/drill/exec/store/ParquetRecordReaderTest.java    |   0
 .../org/apache/drill/exec/store/TestAffinityCalculator.java |   0
 .../apache/drill/exec/store/TestParquetPhysicalPlan.java    |   0
 .../drill/exec/store/parquet/ParquetRecordReaderTest.java   |   0
 .../apache/drill/exec/store/parquet/TestFileGenerator.java  |   0
 .../org/apache/drill/exec/util/MiniZooKeeperCluster.java    |   0
 .../java-exec/src/test/resources/agg/test1.json             |   0
 .../java-exec/src/test/resources/agg/twokey.json            |   0
 .../java-exec/src/test/resources/drill-module.conf          |   0
 .../java-exec/src/test/resources/filter/test1.json          |   0
 .../src/test/resources/functions/comparisonTest.json        |   0
 .../src/test/resources/functions/testByteSubstring.json     |   0
 .../src/test/resources/functions/testIsNotNull.json         |   0
 .../java-exec/src/test/resources/functions/testIsNull.json  |   0
 .../src/test/resources/functions/testSubstring.json         |   0
 .../src/test/resources/functions/testSubstringNegative.json |   0
 .../src/test/resources/join/merge_inner_single_batch.json   |   0
 .../java-exec/src/test/resources/join/merge_join.json       |   0
 .../src/test/resources/join/merge_multi_batch.json          |   0
 .../src/test/resources/join/merge_multi_batch.left.json     |   0
 .../src/test/resources/join/merge_multi_batch.right.json    |   0
 .../src/test/resources/join/merge_single_batch.json         |   0
 .../src/test/resources/join/merge_single_batch.left.json    |   0
 .../src/test/resources/join/merge_single_batch.right.json   |   0
 .../exec => exec}/java-exec/src/test/resources/logback.xml  |   0
 .../java-exec/src/test/resources/logical_group.json         |   0
 .../java-exec/src/test/resources/logical_json_scan.json     |   0
 .../java-exec/src/test/resources/logical_order.json         |   0
 .../java-exec/src/test/resources/logical_string_filter.json |   0
 .../java-exec/src/test/resources/mock-scan.json             |   0
 .../resources/parquet/parquet_group_scan_union_screen.json  |   0
 .../src/test/resources/parquet/parquet_scan_screen.json     |   0
 .../parquet/parquet_scan_screen_read_entry_replace.json     |   0
 .../parquet/parquet_scan_union_screen_physical.json         |   0
 .../java-exec/src/test/resources/parquet_nullable.json      |   0
 .../java-exec/src/test/resources/parquet_scan_screen.json   |   0
 .../resources/parquet_scan_screen_read_entry_replace.json   |   0
 .../test/resources/parquet_scan_union_screen_physical.json  |   0
 .../src/test/resources/physical_double_exchange.json        |   0
 .../java-exec/src/test/resources/physical_filter.json       |   0
 .../java-exec/src/test/resources/physical_join.json         |   0
 .../src/test/resources/physical_json_scan_test1.json        |   0
 .../src/test/resources/physical_order_varbinary.json        |   0
 .../java-exec/src/test/resources/physical_repeated_1.json   |   0
 .../java-exec/src/test/resources/physical_screen.json       |   0
 .../src/test/resources/physical_single_exchange.json        |   0
 .../resources/physical_single_exchange_double_entry.json    |   0
 .../java-exec/src/test/resources/physical_test1.json        |   0
 .../java-exec/src/test/resources/physical_test2.json        |   0
 .../java-exec/src/test/resources/project/test1.json         |   0
 .../java-exec/src/test/resources/remover/test1.json         |   0
 .../java-exec/src/test/resources/scan_json_test_1.json      |   0
 .../java-exec/src/test/resources/scan_json_test_2.json      |   0
 .../java-exec/src/test/resources/scan_json_test_3.json      |   0
 .../java-exec/src/test/resources/scan_json_test_4.json      |   0
 .../java-exec/src/test/resources/scan_json_test_5.json      |   0
 .../java-exec/src/test/resources/scan_json_test_6.json      |   0
 .../java-exec/src/test/resources/scan_screen_logical.json   |   0
 .../java-exec/src/test/resources/sender/hash_exchange.json  |   0
 .../java-exec/src/test/resources/simple_plan.json           |   0
 .../java-exec/src/test/resources/sort/one_key_sort.json     |   0
 .../java-exec/src/test/resources/sort/two_key_sort.json     |   0
 .../java-exec/src/test/resources/union/test1.json           |   0
 .../exec => exec}/java-exec/src/test/sh/logback.xml         |   0
 .../prototype/exec => exec}/java-exec/src/test/sh/runbit    |   0
 {sandbox/prototype/exec => exec}/pom.xml                    |   0
 {sandbox/prototype/exec => exec}/ref/pom.xml                |   0
 .../java/org/apache/drill/exec/ref/BasicStatusHandle.java   |   0
 .../java/org/apache/drill/exec/ref/ExecRefConstants.java    |   0
 .../java/org/apache/drill/exec/ref/IteratorRegistry.java    |   0
 .../main/java/org/apache/drill/exec/ref/ROPConverter.java   |   0
 .../main/java/org/apache/drill/exec/ref/RecordIterator.java |   0
 .../main/java/org/apache/drill/exec/ref/RecordPointer.java  |   0
 .../org/apache/drill/exec/ref/ReferenceInterpreter.java     |   0
 .../java/org/apache/drill/exec/ref/ReferenceTransform.java  |   0
 .../src/main/java/org/apache/drill/exec/ref/RunOutcome.java |   0
 .../main/java/org/apache/drill/exec/ref/UnbackedRecord.java |   0
 .../org/apache/drill/exec/ref/eval/BaseBasicEvaluator.java  |   0
 .../apache/drill/exec/ref/eval/BasicEvaluatorFactory.java   |   0
 .../org/apache/drill/exec/ref/eval/BoundarySubscriber.java  |   0
 .../org/apache/drill/exec/ref/eval/EvaluatorFactory.java    |   0
 .../java/org/apache/drill/exec/ref/eval/EvaluatorTypes.java |   0
 .../java/org/apache/drill/exec/ref/eval/FieldEvaluator.java |   0
 .../java/org/apache/drill/exec/ref/eval/IfEvaluator.java    |   0
 .../apache/drill/exec/ref/eval/SimpleEvaluationVisitor.java |   0
 .../apache/drill/exec/ref/eval/fn/ComparisonEvaluators.java |   0
 .../apache/drill/exec/ref/eval/fn/FunctionArguments.java    |   0
 .../apache/drill/exec/ref/eval/fn/FunctionEvaluator.java    |   0
 .../drill/exec/ref/eval/fn/FunctionEvaluatorRegistry.java   |   0
 .../org/apache/drill/exec/ref/eval/fn/MathEvaluators.java   |   0
 .../org/apache/drill/exec/ref/eval/fn/StringEvaluators.java |   0
 .../exec/ref/eval/fn/agg/AggregatingWrapperEvaluator.java   |   0
 .../apache/drill/exec/ref/eval/fn/agg/CountAggregator.java  |   0
 .../apache/drill/exec/ref/eval/fn/agg/SumAggregator.java    |   0
 .../apache/drill/exec/ref/exceptions/MajorException.java    |   0
 .../apache/drill/exec/ref/exceptions/RecordException.java   |   0
 .../apache/drill/exec/ref/exceptions/SetupException.java    |   0
 .../drill/exec/ref/rops/AbstractBlockingOperator.java       |   0
 .../java/org/apache/drill/exec/ref/rops/BaseSinkROP.java    |   0
 .../org/apache/drill/exec/ref/rops/BoundaryListener.java    |   0
 .../apache/drill/exec/ref/rops/CollapsingAggregateROP.java  |   0
 .../java/org/apache/drill/exec/ref/rops/ConstantROP.java    |   0
 .../java/org/apache/drill/exec/ref/rops/DataWriter.java     |   0
 .../main/java/org/apache/drill/exec/ref/rops/FilterROP.java |   0
 .../java/org/apache/drill/exec/ref/rops/FlattenROP.java     |   0
 .../main/java/org/apache/drill/exec/ref/rops/JoinROP.java   |   0
 .../main/java/org/apache/drill/exec/ref/rops/LimitROP.java  |   0
 .../main/java/org/apache/drill/exec/ref/rops/OrderROP.java  |   0
 .../java/org/apache/drill/exec/ref/rops/ProjectROP.java     |   0
 .../org/apache/drill/exec/ref/rops/ProxySimpleRecord.java   |   0
 .../src/main/java/org/apache/drill/exec/ref/rops/ROP.java   |   0
 .../main/java/org/apache/drill/exec/ref/rops/ROPBase.java   |   0
 .../org/apache/drill/exec/ref/rops/ReferenceOperator.java   |   0
 .../apache/drill/exec/ref/rops/ReferenceOperatorBase.java   |   0
 .../main/java/org/apache/drill/exec/ref/rops/ScanROP.java   |   0
 .../java/org/apache/drill/exec/ref/rops/SegmentROP.java     |   0
 .../org/apache/drill/exec/ref/rops/SingleInputROPBase.java  |   0
 .../main/java/org/apache/drill/exec/ref/rops/SinkROP.java   |   0
 .../main/java/org/apache/drill/exec/ref/rops/StoreROP.java  |   0
 .../java/org/apache/drill/exec/ref/rops/TransformROP.java   |   0
 .../main/java/org/apache/drill/exec/ref/rops/UnionROP.java  |   0
 .../java/org/apache/drill/exec/ref/rops/WindowFrameROP.java |   0
 .../java/org/apache/drill/exec/ref/rse/ClasspathRSE.java    |   0
 .../main/java/org/apache/drill/exec/ref/rse/ConsoleRSE.java |   0
 .../java/org/apache/drill/exec/ref/rse/FileSystemRSE.java   |   0
 .../java/org/apache/drill/exec/ref/rse/JSONDataWriter.java  |   0
 .../org/apache/drill/exec/ref/rse/JSONRecordReader.java     |   0
 .../org/apache/drill/exec/ref/rse/OutputStreamWriter.java   |   0
 .../main/java/org/apache/drill/exec/ref/rse/QueueRSE.java   |   0
 .../main/java/org/apache/drill/exec/ref/rse/RSEBase.java    |   0
 .../java/org/apache/drill/exec/ref/rse/RSERegistry.java     |   0
 .../java/org/apache/drill/exec/ref/rse/RecordReader.java    |   0
 .../java/org/apache/drill/exec/ref/rse/RecordRecorder.java  |   0
 .../apache/drill/exec/ref/rse/ReferenceStorageEngine.java   |   0
 .../java/org/apache/drill/exec/ref/util/BatchBreaker.java   |   0
 .../main/java/org/apache/drill/exec/ref/util/ByteRange.java |   0
 .../org/apache/drill/exec/ref/values/BaseArrayValue.java    |   0
 .../org/apache/drill/exec/ref/values/BaseDataValue.java     |   0
 .../java/org/apache/drill/exec/ref/values/BaseMapValue.java |   0
 .../java/org/apache/drill/exec/ref/values/BooleanValue.java |   0
 .../java/org/apache/drill/exec/ref/values/BytesValue.java   |   0
 .../org/apache/drill/exec/ref/values/ComparableValue.java   |   0
 .../org/apache/drill/exec/ref/values/ContainerValue.java    |   0
 .../java/org/apache/drill/exec/ref/values/DataValue.java    |   0
 .../java/org/apache/drill/exec/ref/values/DataValueSet.java |   0
 .../java/org/apache/drill/exec/ref/values/NumericValue.java |   0
 .../java/org/apache/drill/exec/ref/values/ScalarValues.java |   0
 .../org/apache/drill/exec/ref/values/SimpleArrayValue.java  |   0
 .../org/apache/drill/exec/ref/values/SimpleMapValue.java    |   0
 .../java/org/apache/drill/exec/ref/values/StringValue.java  |   0
 .../java/org/apache/drill/exec/ref/values/ValueReader.java  |   0
 .../java/org/apache/drill/exec/ref/values/ValueUtils.java   |   0
 .../exec => exec}/ref/src/main/resources/drill-module.conf  |   0
 .../exec => exec}/ref/src/main/resources/logback-test.xml   |   0
 .../java/org/apache/drill/exec/ref/RSERegistryTest.java     |   0
 .../test/java/org/apache/drill/exec/ref/RunSimplePlan.java  |   0
 .../src/test/java/org/apache/drill/exec/ref/TestUtils.java  |   0
 .../apache/drill/exec/ref/rops/CollapsingAggregateTest.java |   0
 .../org/apache/drill/exec/ref/rops/ConstantROPTest.java     |   0
 .../java/org/apache/drill/exec/ref/rops/JoinROPTest.java    |   0
 .../java/org/apache/drill/exec/ref/rops/LimitROPTest.java   |   0
 .../java/org/apache/drill/exec/ref/rops/OrderROPTest.java   |   0
 .../java/org/apache/drill/exec/ref/rops/UnionROPTest.java   |   0
 .../org/apache/drill/exec/ref/rops/WindowFrameROPTest.java  |   0
 .../ref/src/test/resources/collapse/test1.json              |   0
 .../exec => exec}/ref/src/test/resources/constant.json      |   0
 .../exec => exec}/ref/src/test/resources/constant2.json     |   0
 .../exec => exec}/ref/src/test/resources/departments.json   |   0
 .../exec => exec}/ref/src/test/resources/donuts.json        |   0
 .../exec => exec}/ref/src/test/resources/employees.json     |   0
 .../ref/src/test/resources/join/departments.json            |   0
 .../ref/src/test/resources/join/employees.json              |   0
 .../ref/src/test/resources/join/full_join.json              |   0
 .../ref/src/test/resources/join/left_join.json              |   0
 .../ref/src/test/resources/join/simple_join.json            |   0
 .../exec => exec}/ref/src/test/resources/logback.xml        |   0
 .../ref/src/test/resources/order/nulls-first.json           |   0
 .../ref/src/test/resources/order/nulls-last.json            |   0
 .../exec => exec}/ref/src/test/resources/simple_join.json   |   0
 .../exec => exec}/ref/src/test/resources/simple_plan.json   |   0
 .../ref/src/test/resources/simple_plan_flattened.json       |   0
 .../ref/src/test/resources/union/distinct.json              |   0
 .../ref/src/test/resources/union/nondistinct.json           |   0
 sandbox/prototype/pom.xml => pom.xml                        |   0
 .../prototype/sample-data => sample-data}/nation.parquet    | Bin
 .../prototype/sample-data => sample-data}/region.parquet    | Bin
 sandbox/prototype/sqlline => sqlline                        |   0
 {sandbox/prototype/sqlparser => sqlparser}/pom.xml          |   0
 .../main/java/org/apache/drill/jdbc/DrillDriverVersion.java |   0
 .../src/main/java/org/apache/drill/jdbc/DrillHandler.java   |   0
 .../src/main/java/org/apache/drill/jdbc/DrillTable.java     |   0
 .../src/main/java/org/apache/drill/jdbc/Driver.java         |   0
 .../src/main/java/org/apache/drill/jdbc/RefDriver.java      |   0
 .../src/main/java/org/apache/drill/jdbc/StorageEngines.java |   0
 .../main/java/org/apache/drill/optiq/DrillAggregateRel.java |   0
 .../java/org/apache/drill/optiq/DrillAggregateRule.java     |   0
 .../main/java/org/apache/drill/optiq/DrillFilterRel.java    |   0
 .../main/java/org/apache/drill/optiq/DrillFilterRule.java   |   0
 .../main/java/org/apache/drill/optiq/DrillImplementor.java  |   0
 .../src/main/java/org/apache/drill/optiq/DrillJoinRel.java  |   0
 .../src/main/java/org/apache/drill/optiq/DrillJoinRule.java |   0
 .../src/main/java/org/apache/drill/optiq/DrillOptiq.java    |   0
 .../main/java/org/apache/drill/optiq/DrillPrepareImpl.java  |   0
 .../main/java/org/apache/drill/optiq/DrillProjectRel.java   |   0
 .../main/java/org/apache/drill/optiq/DrillProjectRule.java  |   0
 .../src/main/java/org/apache/drill/optiq/DrillRel.java      |   0
 .../src/main/java/org/apache/drill/optiq/DrillScan.java     |   0
 .../src/main/java/org/apache/drill/optiq/DrillSortRel.java  |   0
 .../src/main/java/org/apache/drill/optiq/DrillSortRule.java |   0
 .../src/main/java/org/apache/drill/optiq/DrillUnionRel.java |   0
 .../main/java/org/apache/drill/optiq/DrillUnionRule.java    |   0
 .../main/java/org/apache/drill/optiq/DrillValuesRel.java    |   0
 .../main/java/org/apache/drill/optiq/DrillValuesRule.java   |   0
 .../main/java/org/apache/drill/optiq/EnumerableDrill.java   |   0
 .../org/apache/drill/optiq/EnumerableDrillFullEngine.java   |   0
 .../java/org/apache/drill/optiq/EnumerableDrillRel.java     |   0
 .../java/org/apache/drill/optiq/EnumerableDrillRule.java    |   0
 .../org/apache/drill/sql/client/full/BatchListener.java     |   0
 .../org/apache/drill/sql/client/full/BatchLoaderMap.java    |   0
 .../org/apache/drill/sql/client/full/DrillFullImpl.java     |   0
 .../apache/drill/sql/client/full/DrillMutableSchema.java    |   0
 .../org/apache/drill/sql/client/full/FileSystemSchema.java  |   0
 .../java/org/apache/drill/sql/client/full/JsonHelper.java   |   0
 .../org/apache/drill/sql/client/full/ResultEnumerator.java  |   0
 .../java/org/apache/drill/sql/client/ref/DrillRefImpl.java  |   0
 .../src/main/resources/storage-engines.json                 |   0
 .../java/org/apache/drill/jdbc/test/FullEngineTest.java     |   0
 .../test/java/org/apache/drill/jdbc/test/JdbcAssert.java    |   0
 .../src/test/java/org/apache/drill/jdbc/test/JdbcTest.java  |   0
 .../src/test/resources/donuts-output-data.txt               |   0
 .../src/test/resources/full-model.json                      |   0
 .../sqlparser => sqlparser}/src/test/resources/logback.xml  |   0
 .../src/test/resources/test-models.json                     |   0
 {sandbox/prototype/src => src}/assemble/bin.xml             |   0
 870 files changed, 0 insertions(+), 0 deletions(-)

commit c25260ee84062fee136eb07d74028c537772b173
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Sep 4 03:35:24 2013 -0700

    DRILL-196, fix where setSafe was not correctly incrementing position of vector.

 .../java-exec/src/main/codegen/templates/VariableLengthVectors.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 79ef7bb88638bb112658d4bfcff849d235702828
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Sep 4 03:09:31 2013 -0700

    Fix regressions introduced by Parquet merge/ 63a90fe

 .../drill/exec/store/parquet/ParquetGroupScan.java | 26 ++++--------
 .../exec/store/parquet/ParquetRecordReader.java    | 42 +++++++++----------
 .../exec/store/parquet/ParquetRowGroupScan.java    | 48 ++++++++++++++--------
 .../store/parquet/ParquetScanBatchCreator.java     | 11 ++++-
 4 files changed, 69 insertions(+), 58 deletions(-)

commit 71be205af9adeea208390c833a2c6dc69b95cd85
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Sep 4 02:43:09 2013 -0700

    Backing out work on DRILL-204.  Wait until smarter optimizer because of issues with different types of aggregation functions and the need to break portions of the expression apart.

 .../org/apache/drill/exec/opt/BasicOptimizer.java  | 94 ++++------------------
 1 file changed, 17 insertions(+), 77 deletions(-)

commit 42287888bf022cfc17cc816d1e84e3f56b467768
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Sep 4 02:21:28 2013 -0700

    DRILL-204: Basic SQL parallelization, add more hash functions and xor.

 .../drill/common/expression/parser/ExprParser.g    |  4 +-
 .../drill/common/expression/fn/MathFunctions.java  |  4 +-
 sandbox/prototype/exec/java-exec/pom.xml           | 10 ---
 .../drill/exec/expr/fn/impl/BitFunctions.java      | 18 ++++
 .../expr/fn/impl/{Hash.java => HashFunctions.java} | 65 +++++++++++----
 .../apache/drill/exec/expr/fn/impl/HashHelper.java | 46 +++++++++++
 .../org/apache/drill/exec/opt/BasicOptimizer.java  | 95 ++++++++++++++++++----
 .../src/test/resources/sender/hash_exchange.json   |  2 +-
 8 files changed, 193 insertions(+), 51 deletions(-)

commit 4595976f4bdf9ec55048fd2be1928d3eb4dd4952
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Sep 4 01:17:04 2013 -0700

    Fix to address partition sender's incorrect reliance on allocator setValueCount fixes.  Remove old (no longer used) signature

 .../impl/partitionsender/OutgoingRecordBatch.java       |  6 ++++++
 .../impl/partitionsender/PartitionerInnerSignature.java | 17 -----------------
 2 files changed, 6 insertions(+), 17 deletions(-)

commit 735b121b4d0b3a590f4b89229834594e571dfbfb
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Tue Sep 3 01:22:15 2013 -0700

    DRILL-200, DRILL-196, DRILL-177, DRILL-201

 .../codegen/templates/VariableLengthVectors.java   |  6 +++
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  9 +---
 .../exec/physical/impl/aggregate/AggTemplate.java  |  2 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |  9 ++++
 .../drill/exec/record/HyperVectorWrapper.java      | 24 ++++++----
 .../drill/exec/record/RecordBatchLoader.java       |  1 +
 .../apache/drill/exec/record/VectorContainer.java  | 26 ++++++-----
 .../exec/record/selection/SelectionVector4.java    | 12 ++++-
 .../vector/allocator/FixedVectorAllocator.java     |  1 -
 .../vector/allocator/VariableEstimatedVector.java  |  1 -
 .../vector/allocator/VariableVectorAllocator.java  |  1 -
 .../drill/exec/store/TestParquetPhysicalPlan.java  | 44 ++++++------------
 .../parquet/parquet_group_scan_union_screen.json   | 54 ++++++++++++++++++++++
 13 files changed, 129 insertions(+), 61 deletions(-)

commit 3f101aabd05f174e8bfc9dbdd2590066a1e937f4
Author: witwolf <wo.bian.shi.mo0@gmail.com>
Date:   Tue Sep 3 19:56:32 2013 -0700

    DRILL-172: Support DrillClient reconnect on failure.

 .../java/org/apache/drill/exec/ExecConstants.java  |  3 +
 .../org/apache/drill/exec/client/DrillClient.java  | 84 +++++++++++++++++-----
 .../org/apache/drill/exec/rpc/BasicClient.java     |  4 ++
 .../apache/drill/exec/rpc/CoordinationQueue.java   |  6 +-
 .../java-exec/src/main/resources/drill-module.conf |  7 +-
 .../java-exec/src/test/resources/drill-module.conf |  6 ++
 6 files changed, 90 insertions(+), 20 deletions(-)

commit 63a90fe9ae7f4b911ee624759dfb32ed1b069de7
Author: Jason Altekruse <altekrusejason@gmial.com>
Date:   Mon Sep 2 09:44:46 2013 -0500

    DRILL-91/DRILL-160: Update to Parquet Record Reader to support nullable fields (int, long, float, double, bit, varbinary).

 sandbox/prototype/exec/java-exec/pom.xml           |   5 +
 .../codegen/templates/NullableValueVectors.java    |  20 +-
 .../codegen/templates/RepeatedValueVectors.java    |   4 +
 .../drill/exec/store/parquet/ColumnReader.java     |   8 +-
 .../exec/store/parquet/NullableBitReader.java      |  61 ++
 .../exec/store/parquet/NullableColumnReader.java   | 130 ++++
 .../parquet/NullableFixedByteAlignedReader.java    |  48 ++
 .../drill/exec/store/parquet/PageReadStatus.java   |  31 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  22 +-
 .../exec/store/parquet/ParquetRecordReader.java    | 232 +++++---
 .../exec/store/parquet/ParquetRowGroupScan.java    |  48 +-
 .../store/parquet/ParquetScanBatchCreator.java     |  14 +-
 .../exec/store/parquet/ParquetStorageEngine.java   |   2 +-
 .../exec/store/parquet/VarLenBinaryReader.java     |  92 ++-
 .../apache/drill/exec/vector/BaseValueVector.java  |   6 +-
 .../vector/NullableVectorDefinitionSetter.java     |  23 +
 .../drill/exec/store/ParquetRecordReaderTest.java  | 657 +++++++++++++++++++++
 .../src/test/resources/parquet_nullable.json       |  41 ++
 .../src/test/resources/parquet_scan_screen.json    |  41 ++
 .../parquet_scan_screen_read_entry_replace.json    |  39 ++
 .../parquet_scan_union_screen_physical.json        |  35 ++
 21 files changed, 1408 insertions(+), 151 deletions(-)

commit 5642dee5aa368fc6bd94fb24f84b01097057efc8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Sep 3 19:39:18 2013 -0700

    Add source release assembly for -Papache-release

 sandbox/prototype/LICENSE                          | 209 +++++++++++++++++++++
 sandbox/prototype/distribution/pom.xml             |  55 +++++-
 .../prototype/distribution/src/assemble/bin.xml    |   4 +-
 sandbox/prototype/src/assemble/bin.xml             |  93 +++++++++
 4 files changed, 349 insertions(+), 12 deletions(-)

commit bcd77696be89bbe6106cb8fdb0673c9ef70b7129
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Sep 3 18:01:08 2013 -0700

    Update to 1.0.0-m1 version.  Update Apache code signing

 sandbox/prototype/KEYS                          | 86 +++++++++++++++++++++++++
 sandbox/prototype/common/pom.xml                |  6 +-
 sandbox/prototype/contrib/pom.xml               |  6 +-
 sandbox/prototype/contrib/sqlline/pom.xml       |  2 +-
 sandbox/prototype/contrib/storage-hbase/pom.xml |  4 +-
 sandbox/prototype/distribution/pom.xml          | 43 ++++++-------
 sandbox/prototype/exec/bufferl/pom.xml          |  4 +-
 sandbox/prototype/exec/java-exec/pom.xml        |  4 +-
 sandbox/prototype/exec/pom.xml                  |  6 +-
 sandbox/prototype/exec/ref/pom.xml              | 11 +---
 sandbox/prototype/planner/pom.xml               | 17 -----
 sandbox/prototype/pom.xml                       | 74 ++++++++++++++-------
 sandbox/prototype/sqlparser/pom.xml             |  8 +--
 13 files changed, 183 insertions(+), 88 deletions(-)

commit 5bf58243b42e988ca623e5035629436a20454167
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Sep 3 17:32:47 2013 -0700

    include protobuf 2.4.1 and switch to older version of Lilith, to avoid conflict with hadoop 2.0

 sandbox/prototype/distribution/pom.xml                       | 11 +++++++++++
 sandbox/prototype/distribution/src/assemble/bin.xml          | 12 ++++++++++--
 .../src/main/java/org/apache/drill/jdbc/DrillHandler.java    |  1 +
 .../sqlparser/src/main/resources/storage-engines.json        |  2 +-
 4 files changed, 23 insertions(+), 3 deletions(-)

commit 86e5fb5ccaf1e3db222c9b6a32e85652741f7232
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Sep 3 17:31:52 2013 -0700

    fix formatting in QuerySubmitter

 .../java/org/apache/drill/exec/client/QuerySubmitter.java     | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 5f4f3bd1b94ad265a363146adcb884e9473a84fa
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Sep 3 11:33:27 2013 -0700

    in StreamingAggregate, don't sort if there are no keys

 .../apache/drill/exec/client/QuerySubmitter.java   | 64 +++++++++++++---------
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  9 ++-
 .../java/org/apache/drill/jdbc/DrillHandler.java   |  1 +
 3 files changed, 45 insertions(+), 29 deletions(-)

commit 75351dad9c77041b2622a7dc2b901b94373540ea
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri Aug 30 20:06:40 2013 -0700

    exclude asm and central-logging dependencies from hadoop in mapr profile

 .../prototype/distribution/src/assemble/bin.xml    |  4 ++
 .../prototype/distribution/src/resources/sqlline   |  7 ++-
 .../distribution/src/resources/submit_plan         | 55 ++++++++++++++++++++++
 sandbox/prototype/exec/java-exec/pom.xml           | 15 ++++++
 .../apache/drill/exec/client/QuerySubmitter.java   |  2 +-
 .../drill/exec/store/parquet/ParquetGroupScan.java |  1 +
 sandbox/prototype/pom.xml                          |  8 ++++
 7 files changed, 90 insertions(+), 2 deletions(-)

commit 1206bce3fecc75cd4d3018c079f98581e3719f41
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Sep 2 23:48:03 2013 -0700

    set ParquetStorageEngineConfig so that it is included in json of physical plan.

 .../java/org/apache/drill/exec/store/parquet/ParquetGroupScan.java | 1 +
 .../org/apache/drill/exec/store/parquet/ParquetStorageEngine.java  | 7 ++++++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 1212cc71a3335cb12739a70637d146f8f083edd5
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Sep 2 18:28:30 2013 -0700

    sqlline and run bit changes

 .../prototype/distribution/src/resources/runbit    |  2 +-
 .../prototype/distribution/src/resources/sqlline   | 36 ++++++++++++++++++++--
 .../java/org/apache/drill/jdbc/DrillHandler.java   |  1 +
 3 files changed, 35 insertions(+), 4 deletions(-)

commit 13fac4d6ea2a856fbe38083b2b7b526723be1cde
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Sep 2 14:55:31 2013 -0700

    add lilith appender back to logback.xml packaged with distro

 sandbox/prototype/distribution/src/resources/logback.xml    | 13 +++++++++++++
 .../drill/exec/store/parquet/ParquetSchemaProvider.java     |  3 ++-
 2 files changed, 15 insertions(+), 1 deletion(-)

commit 510711e6426236ee0accb1364707bb66aca3a1f0
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Mon Sep 2 14:54:56 2013 -0700

    if the query result has errors, fail submission and print the errors. before this, the query would simply return 0 rows without indicating an error.

 .../src/main/java/org/apache/drill/sql/client/full/BatchListener.java | 4 ++++
 1 file changed, 4 insertions(+)

commit e81ed06f3ce490477c1e6159990dc25e86d56dcf
Author: Ted Dunning <tdunning@apache.org>
Date:   Mon Sep 2 14:33:52 2013 -0700

    Misc changes to logging for sqlline - limits stdout logging.

 sandbox/prototype/sqlline                                  | 2 +-
 sandbox/prototype/sqlparser/src/test/resources/logback.xml | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

commit ba940f62051296bec169a6d5d768e1dead5ced78
Author: Ted Dunning <tdunning@apache.org>
Date:   Sun Sep 1 19:45:41 2013 -0700

    DRILL-198 - add sample data files

 sandbox/prototype/sample-data/nation.parquet | Bin 0 -> 3109 bytes
 sandbox/prototype/sample-data/region.parquet | Bin 0 -> 819 bytes
 2 files changed, 0 insertions(+), 0 deletions(-)

commit 9d3e0a44f686967b4de6adc1ba86a1483bfdd803
Author: witwolf <wo.bian.shi.mo0@gmail.com>
Date:   Sun Sep 1 17:07:42 2013 -0700

    DRILL-192 Load fix

 .../codegen/templates/NullableValueVectors.java    |   3 +-
 .../codegen/templates/VariableLengthVectors.java   |  14 +--
 .../apache/drill/exec/record/vector/TestLoad.java  | 111 +++++++++++++++++++++
 3 files changed, 120 insertions(+), 8 deletions(-)

commit 12634dca11aa685d51f335b9e8a720c9366369f8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Sep 1 16:50:20 2013 -0700

    DRILL-195 Updates to Antlr expression parser for 'or', 'and' and supporting function implementations.

 .../drill/common/expression/parser/ExprLexer.g     | 10 +++---
 .../drill/common/expression/parser/ExprParser.g    |  6 ++--
 .../drill/exec/expr/fn/impl/BitFunctions.java      | 41 ++++++++++++++++++++++
 3 files changed, 48 insertions(+), 9 deletions(-)

commit 651b3e9fd7032310eede1550d315f8c450fe3d1a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Sep 1 14:13:30 2013 -0700

    Separate out JDBC drivers between ref (RefDriver) and full exec so that they don't fight with each other in the same JVM.
    Add ClassPathFileSystem to support reading from classpath
    Update merge join to support left and right by flipping right.

 .../drill/common/expression/PathSegment.java       |   4 +-
 .../org/apache/drill/common/logical/data/Join.java |   2 +-
 .../drill/common/logical/data/JoinCondition.java   |   4 +
 .../drill/exec/physical/config/MergeJoinPOP.java   |  15 +++
 .../exec/physical/impl/join/MergeJoinCreator.java  |   9 +-
 .../drill/exec/store/ClassPathFileSystem.java      | 103 +++++++++++++++++++++
 .../drill/exec/store/ResourceInputStream.java      |  89 ++++++++++++++++++
 .../drill/exec/store/json/JSONStorageEngine.java   |   2 +
 .../drill/exec/store/json/JsonSchemaProvider.java  |   2 +
 .../exec/store/parquet/ParquetSchemaProvider.java  |   2 +
 sandbox/prototype/pom.xml                          |  29 +++++-
 sandbox/prototype/sqlparser/pom.xml                |  20 +---
 .../java/org/apache/drill/jdbc/DrillHandler.java   |   7 +-
 .../main/java/org/apache/drill/jdbc/Driver.java    |   2 +-
 .../main/java/org/apache/drill/jdbc/RefDriver.java |  71 ++++++++++++++
 .../java/org/apache/drill/optiq/DrillJoinRel.java  |   7 +-
 .../org/apache/drill/optiq/DrillPrepareImpl.java   |   2 +-
 .../src/main/resources/storage-engines.json        |  10 ++
 .../org/apache/drill/jdbc/test/FullEngineTest.java |  32 ++-----
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |  10 +-
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  |   2 +-
 21 files changed, 366 insertions(+), 58 deletions(-)

commit 6f300a3fc217a72f53819ea8d49faad18078daf4
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Sat Aug 31 23:02:27 2013 -0700

    implemented left and inner join types

 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  2 +-
 .../drill/exec/physical/config/MergeJoinPOP.java   | 16 +++++--
 .../exec/physical/impl/join/JoinTemplate.java      | 15 ++++--
 .../exec/physical/impl/join/MergeJoinBatch.java    |  7 ++-
 .../drill/exec/record/AbstractRecordBatch.java     |  4 ++
 .../exec/physical/impl/join/TestMergeJoin.java     | 55 +++++++++++++++++++++-
 .../resources/join/merge_inner_single_batch.json   | 46 ++++++++++++++++++
 .../src/test/resources/join/merge_multi_batch.json |  1 +
 .../test/resources/join/merge_single_batch.json    |  1 +
 9 files changed, 133 insertions(+), 14 deletions(-)

commit d91bfe61e6edecf4430ddf0c613a14d1157752f2
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Fri Aug 30 14:59:08 2013 -0700

    fix parquet query test

 .../java/org/apache/drill/exec/physical/impl/join/MergeJoinBatch.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 89eb9457420ef444aafa867d77453bb293ae6ec8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Sep 1 08:38:41 2013 -0700

    Updates to fix SQL Handler issues.  Add simple full query jdbc test execution (no results checking)

 .../java/org/apache/drill/jdbc/DrillHandler.java   | 30 ++++++++++++----------
 .../org/apache/drill/optiq/DrillImplementor.java   |  2 +-
 .../org/apache/drill/jdbc/test/FullEngineTest.java | 16 +++++++-----
 .../org/apache/drill/jdbc/test/JdbcAssert.java     | 13 +++++++++-
 4 files changed, 38 insertions(+), 23 deletions(-)

commit d3b2f9f61e859df36681a3d27f58da0a8426ccb0
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Aug 31 22:46:12 2013 -0700

    some comparison function fixes and updates to support ref engine sql testing

 .../drill/common/expression/FieldReference.java    |   2 +-
 .../apache/drill/common/logical/data/Project.java  |   6 +-
 .../codegen/templates/ComparisonFunctions.java     | 233 +++++++++++++++------
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  |   8 +
 .../expr/fn/FunctionImplementationRegistry.java    |  21 +-
 .../exec/physical/impl/filter/FilterTemplate.java  |   1 -
 .../physical/impl/project/ProjectRecordBatch.java  |  16 +-
 .../org/apache/drill/exec/ref/ROPConverter.java    |   2 +-
 .../java/org/apache/drill/jdbc/DrillHandler.java   | 117 ++++++-----
 .../java/org/apache/drill/jdbc/DrillTable.java     | 108 +++++++---
 .../org/apache/drill/optiq/DrillImplementor.java   |  44 ++--
 .../java/org/apache/drill/optiq/DrillJoinRel.java  |   4 +-
 .../org/apache/drill/optiq/DrillProjectRel.java    |   4 +-
 .../drill/optiq/EnumerableDrillFullEngine.java     |   5 +-
 .../org/apache/drill/optiq/EnumerableDrillRel.java |   2 +-
 .../drill/sql/client/full/FileSystemSchema.java    |   2 +-
 .../apache/drill/sql/client/ref/DrillRefImpl.java  | 145 +++++++------
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |   2 +-
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  |   4 +-
 19 files changed, 477 insertions(+), 249 deletions(-)

commit 4a603de7edc1040e2295b7f43dd4f011fb6bb057
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Aug 31 18:28:30 2013 -0700

    Add code generated comparison and cast functions.

 sandbox/prototype/exec/java-exec/pom.xml           |    9 +-
 .../exec/java-exec/src/main/codegen/config.fmpp    |    4 +-
 .../exec/java-exec/src/main/codegen/data/Casts.tdd |   17 +
 .../src/main/codegen/data/CompareTypes.tdd         |    6 +
 .../src/main/codegen/templates/CastFunctions.java  |   38 +
 .../codegen/templates/ComparisonFunctions.java     |  179 ++++
 .../drill/exec/expr/fn/FunctionConverter.java      |   60 +-
 .../exec/expr/fn/impl/ComparatorFunctions.java     |  154 ---
 .../exec/expr/fn/impl/ComparisonFunctions.java     | 1094 ++++++++++----------
 .../exec/store/parquet/ParquetStorageEngine.java   |    2 +
 10 files changed, 844 insertions(+), 719 deletions(-)

commit e897fe3acd4f5b9acbc283a16ac58fd6642967ce
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Aug 31 12:33:33 2013 -0700

    Reorganize location of generated files to support other generated needs.  (Clean up packages for outputs and change directory structure for inputs and inputs.  Packages changes caused large set of changes to other files.)

 sandbox/prototype/exec/java-exec/pom.xml           |  6 ++--
 .../src/main/codegen/ValueVectors/config.fmpp      |  3 --
 .../exec/java-exec/src/main/codegen/config.fmpp    |  8 +++++
 .../{ValueVectors => }/data/ValueVectorTypes.tdd   |  0
 .../src/main/codegen/includes/license.ftl          | 18 ++++++++++
 .../src/main/codegen/includes/vv_imports.ftl       | 36 +++++++++++++++++++
 .../templates/FixedValueVectors.java               | 22 +++---------
 .../templates/NullableValueVectors.java            | 33 +++---------------
 .../templates/RepeatedValueVectors.java            | 31 +++--------------
 .../{ValueVectors => }/templates/TypeHelper.java   | 40 ++++++----------------
 .../{ValueVectors => }/templates/ValueHolders.java | 17 +++++----
 .../templates/VariableLengthVectors.java           | 26 +++-----------
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  1 -
 .../exec/expr/fn/agg/impl/CountFunctions.java      |  4 +--
 .../drill/exec/expr/fn/agg/impl/SumFunctions.java  |  4 +--
 .../apache/drill/exec/expr/fn/impl/Alternator.java |  2 +-
 .../drill/exec/expr/fn/impl/ByteSubstring.java     | 10 ++++--
 .../drill/exec/expr/fn/impl/CharSubstring.java     |  9 +++--
 .../exec/expr/fn/impl/ComparatorFunctions.java     | 14 ++++----
 .../exec/expr/fn/impl/ComparisonFunctions.java     | 14 ++++----
 .../expr/fn/impl/ComparisonFunctionsNullable.java  |  6 ++--
 .../org/apache/drill/exec/expr/fn/impl/Hash.java   |  9 +++--
 .../apache/drill/exec/expr/fn/impl/IsNotNull.java  |  4 +--
 .../org/apache/drill/exec/expr/fn/impl/IsNull.java |  4 +--
 .../drill/exec/expr/fn/impl/MathFunctions.java     |  4 +--
 .../exec/expr/fn/impl/SimpleRepeatedFunctions.java | 11 +++---
 .../apache/drill/exec/expr/fn/impl/VarHelpers.java |  8 ++---
 .../exec/physical/impl/aggregate/AggBatch.java     |  4 +--
 .../exec/physical/impl/join/MergeJoinBatch.java    | 21 ++++++++----
 .../impl/partitionsender/OutgoingRecordBatch.java  |  2 +-
 .../partitionsender/PartitionSenderRootExec.java   | 24 ++++++++-----
 .../physical/impl/project/ProjectRecordBatch.java  |  2 +-
 .../impl/svremover/RemovingRecordBatch.java        |  2 +-
 .../drill/exec/record/MaterializedField.java       |  6 +---
 .../drill/exec/record/RecordBatchLoader.java       |  4 +--
 .../drill/exec/store/json/JSONRecordReader.java    |  8 ++---
 .../drill/exec/store/mock/MockGroupScanPOP.java    |  7 ++--
 .../drill/exec/store/mock/MockRecordReader.java    |  2 +-
 .../drill/exec/store/mock/MockSubScanPOP.java      | 21 ++++--------
 .../exec/store/parquet/ParquetRecordReader.java    |  2 +-
 .../org/apache/drill/exec/vector/BitVector.java    |  2 ++
 .../drill/exec/vector/ValueHolderHelper.java       |  2 ++
 .../drill/exec/physical/impl/TestOptiqPlans.java   |  2 +-
 .../exec/physical/impl/TestSimpleFunctions.java    | 15 ++++----
 .../drill/exec/record/vector/TestValueVector.java  |  2 +-
 45 files changed, 229 insertions(+), 243 deletions(-)

commit cc329aa4418cf6c363f7da7363594f5174655fe1
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Fri Aug 30 14:59:08 2013 -0700

    fix parquet query join errors

 .../drill/exec/physical/impl/join/JoinStatus.java  | 20 ++++-----
 .../exec/physical/impl/join/JoinTemplate.java      |  2 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    | 51 ++--------------------
 3 files changed, 15 insertions(+), 58 deletions(-)

commit d55374927814632796591268ffef48488fa903c8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Aug 30 16:57:29 2013 -0700

    DRILL-167, DRILL-80, DRILL-59 continued

 .../common/src/main/resources/drill-module.conf    |   1 +
 .../drill/storage/MockStorageEngineConfig.java     |  59 -----
 sandbox/prototype/exec/java-exec/pom.xml           |  98 ++++----
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   7 +-
 .../exec/expr/fn/impl/ComparatorFunctions.java     |  71 +++++-
 .../apache/drill/exec/expr/fn/impl/VarHelpers.java | 265 +++++++++++----------
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |   1 -
 .../exec/physical/impl/join/JoinTemplate.java      |   2 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    |  21 +-
 .../java/org/apache/drill/exec/schema/Field.java   |   7 +-
 .../drill/exec/store/json/JSONGroupScan.java       |   2 +-
 .../drill/exec/store/json/JSONRecordReader.java    |   2 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   |   3 +-
 .../drill/exec/store/JSONRecordReaderTest.java     |  12 +-
 sandbox/prototype/pom.xml                          |  10 +
 sandbox/prototype/sqlline                          |   2 +-
 .../org/apache/drill/jdbc/DrillDriverVersion.java  |   1 +
 .../org/apache/drill/optiq/DrillImplementor.java   |   5 +-
 .../java/org/apache/drill/optiq/DrillOptiq.java    |   2 +-
 .../org/apache/drill/optiq/EnumerableDrill.java    |   5 +
 .../drill/optiq/EnumerableDrillFullEngine.java     |   9 +-
 .../org/apache/drill/optiq/EnumerableDrillRel.java |   5 +-
 .../drill/sql/client/full/BatchLoaderMap.java      |  16 +-
 .../drill/sql/client/full/DrillFullImpl.java       |   9 +-
 .../apache/drill/sql/client/full/JsonHelper.java   |   1 +
 .../drill/sql/client/full/ResultEnumerator.java    |  11 +-
 .../org/apache/drill/jdbc/test/FullEngineTest.java |   2 +-
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  |   5 +-
 .../sqlparser/src/test/resources/logback.xml       |   4 +-
 29 files changed, 347 insertions(+), 291 deletions(-)

commit 5ff952b9ca3c645e8de12f7734892193bf2bf6c8
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri Aug 30 11:53:49 2013 -0700

    fix jackson conflict for mapr build

 sandbox/prototype/pom.xml | 23 ++++++++++++++++++++++-
 1 file changed, 22 insertions(+), 1 deletion(-)

commit 35f43f5628d9fd6119684ef6fa183d2faf0f01c0
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri Aug 30 02:27:28 2013 -0700

    Tool for submitting physical or logical plan

 .../apache/drill/exec/client/QuerySubmitter.java   | 116 +++++++++++++++++++++
 .../drill/exec/store/TestParquetPhysicalPlan.java  |   6 +-
 2 files changed, 121 insertions(+), 1 deletion(-)

commit b03740e897e17638ad49ff72a55931d777cfe7dd
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Aug 29 19:34:13 2013 -0700

    Limit width to 5x the number of endpoints

 .../java/org/apache/drill/exec/planner/fragment/Wrapper.java |  1 +
 .../org/apache/drill/exec/store/TestParquetPhysicalPlan.java | 12 +++++++++---
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 78a6197f6c14ed65dc74b8f1233bd3bd94342fa9
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Fri Aug 30 11:18:10 2013 -0700

    fix hadoop dependency problem in ref

 sandbox/prototype/exec/java-exec/pom.xml | 5 +++++
 sandbox/prototype/exec/ref/pom.xml       | 5 +++++
 2 files changed, 10 insertions(+)

commit f77c5258fd58e1ecf6f8cb76d0ecc29b8529965e
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Aug 29 17:08:37 2013 -0700

    DRILL-191 ParquetGroupScan and AffinityCalculator do not properly handle directories or multiple files

 .../drill/exec/store/AffinityCalculator.java       | 24 +++++++++-----
 .../drill/exec/store/parquet/ParquetGroupScan.java | 38 ++++++++++++----------
 .../drill/exec/store/TestAffinityCalculator.java   |  6 ++--
 .../drill/exec/store/TestParquetPhysicalPlan.java  | 13 ++++++--
 4 files changed, 49 insertions(+), 32 deletions(-)

commit 1a2352c017590fee07620e0f1735ae3ce32d71f3
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Aug 16 03:46:53 2013 -0700

    DRILL-167, DRILL-80, DRILL-59 start
    make changes to support sqlline module and ensure no test jars on class path

 .../drill/common/expression/parser/ExprLexer.g     |   3 +-
 .../drill/common/expression/parser/ExprParser.g    |   2 +-
 .../org/apache/drill/common/defs/OrderDef.java     |  11 +-
 .../drill/common/expression/FieldReference.java    |   5 +
 .../drill/common/expression/PathSegment.java       |  22 +-
 .../apache/drill/common/expression/SchemaPath.java |  21 ++
 .../common/expression/fn/BooleanFunctions.java     |   2 +-
 .../apache/drill/common/logical/data/Project.java  |   6 +-
 .../java/org/apache/drill/common/types/Types.java  |  12 +-
 .../drill/common/expression/parser/TreeTest.java   |   5 +-
 sandbox/prototype/contrib/sqlline/pom.xml          |  38 +++
 sandbox/prototype/exec/java-exec/pom.xml           |  11 +
 .../templates/VariableLengthVectors.java           |  14 +-
 .../org/apache/drill/exec/client/DrillClient.java  |   7 +-
 .../drill/exec/coord/ZKClusterCoordinator.java     |  11 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  24 +-
 .../exec/expr/fn/impl/ComparatorFunctions.java     |  64 +++++
 .../exec/expr/fn/impl/ComparisonFunctions.java     | 223 ++++++++++++++++-
 .../apache/drill/exec/expr/fn/impl/VarHelpers.java | 148 +++++++++++
 .../org/apache/drill/exec/ops/QueryContext.java    |  10 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  | 129 ++++++++--
 .../java/org/apache/drill/exec/opt/Optimizer.java  |   3 +-
 .../drill/exec/physical/ReadEntryWithPath.java     |   8 +
 .../apache/drill/exec/physical/base/GroupScan.java |   7 +-
 .../drill/exec/physical/base/PhysicalOperator.java |   3 +-
 .../drill/exec/physical/config/MergeJoinPOP.java   |  14 +-
 .../exec/physical/impl/filter/FilterTemplate.java  |   1 +
 .../impl/filter/ReturnValueExpression.java         |  10 +
 .../exec/physical/impl/join/MergeJoinBatch.java    |  33 ++-
 .../drill/exec/physical/impl/sort/SortBatch.java   |   2 +-
 .../physical/impl/svremover/CopierTemplate2.java   |   2 +-
 .../exec/record/AbstractSingleRecordBatch.java     |   4 +-
 .../exec/record/selection/SelectionVector2.java    |   3 +-
 .../java/org/apache/drill/exec/schema/Field.java   |   6 +-
 .../apache/drill/exec/server/DrillbitContext.java  |   4 +-
 .../drill/exec/store/DistributedStorageEngine.java |   5 +
 .../apache/drill/exec/store/SchemaProvider.java    |   8 +
 .../drill/exec/store/SchemaProviderRegistry.java   |  82 +++++++
 .../org/apache/drill/exec/store/StorageEngine.java |   4 +
 .../drill/exec/store/StorageEngineRegistry.java    |   9 +-
 .../drill/exec/store/json/JSONGroupScan.java       |  61 +++--
 .../drill/exec/store/json/JSONRecordReader.java    |  69 ++++--
 .../exec/store/json/JSONScanBatchCreator.java      |   2 +-
 .../drill/exec/store/json/JSONStorageEngine.java   |  31 ++-
 .../apache/drill/exec/store/json/JSONSubScan.java  |  51 ++--
 .../drill/exec/store/json/JsonSchemaProvider.java  |  43 ++++
 .../drill/exec/store/mock/MockStorageEngine.java   |   7 +-
 .../exec/store/mock/MockStorageEngineConfig.java   |  59 +++++
 .../drill/exec/store/parquet/ParquetGroupScan.java |  49 ++--
 .../exec/store/parquet/ParquetRecordReader.java    |  38 +--
 .../exec/store/parquet/ParquetRowGroupScan.java    |  50 ++--
 .../store/parquet/ParquetScanBatchCreator.java     |   3 +-
 .../exec/store/parquet/ParquetSchemaProvider.java  |  44 ++++
 .../exec/store/parquet/ParquetStorageEngine.java   |  32 ++-
 .../store/parquet/ParquetStorageEngineConfig.java  |  10 +-
 .../drill/exec/vector/ValueHolderHelper.java       |  21 ++
 .../drill/exec/work/FragmentRunnerListener.java    |   2 -
 .../org/apache/drill/exec/work/WorkManager.java    |   2 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  41 ++--
 .../java-exec/src/main/resources/drill-module.conf |  11 +-
 .../drill/exec/physical/impl/TestOptiqPlans.java   | 273 +++++++++++++++++++++
 .../store/parquet/ParquetRecordReaderTest.java     |   4 +-
 .../exec/store/parquet/TestFileGenerator.java      |  17 +-
 .../src/test/resources/logical_group.json          |  90 +++++++
 .../src/test/resources/logical_json_scan.json      |  36 +++
 .../src/test/resources/logical_order.json          |  57 +++++
 .../src/test/resources/logical_string_filter.json  |  52 ++++
 .../src/test/resources/physical_filter.json        |  44 ++++
 .../src/test/resources/physical_join.json          | 117 +++++++++
 .../test/resources/physical_order_varbinary.json   |  48 ++++
 sandbox/prototype/exec/ref/pom.xml                 |  11 +-
 sandbox/prototype/sqlline                          |   7 +-
 sandbox/prototype/sqlparser/pom.xml                |   3 +-
 .../java/org/apache/drill/jdbc/DrillHandler.java   | 147 +++++++++++
 .../java/org/apache/drill/jdbc/DrillTable.java     | 184 +++++---------
 .../main/java/org/apache/drill/jdbc/Driver.java    |  70 ++----
 .../java/org/apache/drill/jdbc/StorageEngines.java |  57 +++++
 .../org/apache/drill/optiq/DrillImplementor.java   |  38 ++-
 .../java/org/apache/drill/optiq/DrillJoinRel.java  |   5 +-
 .../java/org/apache/drill/optiq/DrillOptiq.java    |  72 +++++-
 .../org/apache/drill/optiq/DrillPrepareImpl.java   |   9 +-
 .../org/apache/drill/optiq/DrillProjectRel.java    |   3 +-
 .../java/org/apache/drill/optiq/DrillScan.java     |   5 +-
 .../org/apache/drill/optiq/EnumerableDrill.java    |  22 +-
 .../drill/optiq/EnumerableDrillFullEngine.java     |  27 +-
 .../org/apache/drill/optiq/EnumerableDrillRel.java |  44 ++--
 .../apache/drill/optiq/EnumerableDrillRule.java    |  15 +-
 .../drill/sql/client/full/BatchLoaderMap.java      |  38 ++-
 .../drill/sql/client/full/DrillFullImpl.java       |  22 +-
 .../drill/sql/client/full/DrillMutableSchema.java  |  74 ++++++
 .../drill/sql/client/full/FileSystemSchema.java    | 137 +++++++++++
 .../apache/drill/sql/client/full/JsonHelper.java   |  39 +++
 .../drill/sql/client/full/ResultEnumerator.java    |  10 +-
 .../apache/drill/sql/client/ref/DrillRefImpl.java  |   2 +-
 .../src/main/resources/storage-engines.json        |  19 ++
 .../org/apache/drill/jdbc/test/FullEngineTest.java |  22 +-
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |   1 +
 .../sqlparser/src/test/resources/logback.xml       |   4 +-
 98 files changed, 2863 insertions(+), 564 deletions(-)

commit 4515263d38e931275ab1f8f35ec761728c2b4156
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Aug 28 15:51:20 2013 -0700

    DRILL-188 add profiles to build with hadoop artifacts from vendors: mapr, cloudera, hortonworks

 sandbox/prototype/exec/java-exec/pom.xml |  58 ++++++-
 sandbox/prototype/exec/ref/pom.xml       |  45 +++++-
 sandbox/prototype/pom.xml                | 256 +++++++++++++++++++++++--------
 sandbox/prototype/sqlparser/pom.xml      |  42 +++++
 4 files changed, 331 insertions(+), 70 deletions(-)

commit 28414fe2b9a9a6a05dd65306ca62406e6b72800b
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Tue Aug 27 19:03:38 2013 -0700

    DRILL-187 move hadoop dependency to top level pom

 sandbox/prototype/exec/java-exec/pom.xml           | 52 --------------------
 sandbox/prototype/exec/ref/pom.xml                 | 12 -----
 .../drill/exec/ref/values/BaseArrayValue.java      |  1 -
 .../apache/drill/exec/ref/values/BaseMapValue.java |  1 -
 .../apache/drill/exec/ref/values/ScalarValues.java |  1 -
 .../drill/exec/ref/values/SimpleMapValue.java      |  1 -
 .../apache/drill/exec/ref/values/ValueUtils.java   |  1 -
 sandbox/prototype/pom.xml                          | 55 ++++++++++++++++++++++
 8 files changed, 55 insertions(+), 69 deletions(-)

commit 2bcf0547a0d230e65d8a935c634e01608c19eb5d
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Aug 21 19:23:28 2013 -0700

    DRILL-121 RPM and DEB packages

 sandbox/prototype/distribution/pom.xml             | 214 +++++++++++++++++++
 .../prototype/distribution/src/assemble/bin.xml    |  81 ++++++++
 .../distribution/src/deb/control/conffiles         |   3 +
 .../prototype/distribution/src/deb/control/control |   8 +
 .../distribution/src/resources/drill-config.sh     |  96 +++++++++
 .../distribution/src/resources/drill-env.sh        |   2 +
 .../distribution/src/resources/drill-override.conf |  36 ++++
 .../prototype/distribution/src/resources/drillbit  | 166 +++++++++++++++
 .../distribution/src/resources/drillbit.sh         | 230 +++++++++++++++++++++
 .../distribution/src/resources/logback.xml         |  36 ++++
 .../prototype/distribution/src/resources/runbit    |  30 +++
 .../prototype/distribution/src/resources/sqlline   |  30 +++
 .../java-exec/src/main/resources/drill-module.conf |   2 +-
 .../exec/java-exec/src/main/resources/logback.xml  |  49 +++++
 .../exec/java-exec/src/main/sh/drill-config.sh     |  96 +++++++++
 .../exec/java-exec/src/main/sh/drillbit.sh         | 230 +++++++++++++++++++++
 .../prototype/exec/java-exec/src/main/sh/runbit    |  30 +++
 sandbox/prototype/pom.xml                          |  10 +
 18 files changed, 1348 insertions(+), 1 deletion(-)

commit 5232b0e1423deecb206e79d5978e4fe7db8197b6
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Aug 28 17:48:36 2013 -0700

    DRILL-190 (part3) Fixes for integration between JSON changes, updated CodeGenerator and merge join

 .../apache/drill/exec/physical/impl/ScanBatch.java |  2 +-
 .../physical/impl/aggregate/InternalBatch.java     |  2 +-
 .../exec/physical/impl/join/JoinEvaluator.java     | 10 -------
 .../physical/impl/join/JoinInnerSignature.java     | 35 ----------------------
 .../exec/physical/impl/join/MergeJoinBatch.java    |  4 +--
 .../impl/partitionsender/OutgoingRecordBatch.java  |  2 +-
 .../drill/exec/record/AbstractRecordBatch.java     |  2 +-
 .../drill/exec/record/RecordBatchLoader.java       |  2 +-
 .../apache/drill/exec/record/VectorContainer.java  |  2 +-
 .../exec/physical/impl/join/TestMergeJoin.java     |  3 +-
 .../test/resources/join/merge_single_batch.json    | 20 +++++++++----
 11 files changed, 24 insertions(+), 60 deletions(-)

commit e0bac2f0064be181fd03c18e1bfb243492cd1792
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Thu Aug 15 21:16:27 2013 -0700

    DRILL-190 (part2)
     - MergeJoinBatch handles record batches
     - JoinStatus tracks state across input and output batches
     - MergeJoinBatchBuilder builds a selection vector of right-side batches which may be rescanned
     - implement code stubs for merge join
     - add field expression parsing and start of generated merge join code
     - code generator support for merge-join's copyLeft(), copyRight(), compare() and compareNextLeftKey()
     - add line prefixes to generated code log
     - support VectorContainers in declareVectorValueSetupAndMember()
     - fix vector allocation in MergeJoinBatch
     - fix missing values from left batch when right batch has been exhausted
     - fix nullable handling in generated merge join code.  make simple merge join test use multiple batches.
     - fixes for sv4 batch support, additional multi batch test

 .../drill/exec/compile/JaninoClassCompiler.java    |  23 +-
 .../drill/exec/compile/sig/GeneratorMapping.java   |   5 +
 .../physical/base/AbstractPhysicalVisitor.java     |   4 +-
 .../apache/drill/exec/physical/base/GroupScan.java |   4 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   4 +-
 .../apache/drill/exec/physical/base/SubScan.java   |   4 +
 .../drill/exec/physical/config/MergeJoinPOP.java   |   4 +
 .../drill/exec/physical/impl/ImplCreator.java      |   9 +
 .../exec/physical/impl/join/JoinEvaluator.java     |   9 +-
 .../physical/impl/join/JoinInnerSignature.java     |  35 +++
 .../drill/exec/physical/impl/join/JoinStatus.java  |  80 +++--
 .../exec/physical/impl/join/JoinTemplate.java      | 110 +++++--
 .../drill/exec/physical/impl/join/JoinWorker.java  |  14 +-
 .../exec/physical/impl/join/MergeJoinBatch.java    | 341 +++++++++++++++++++--
 .../physical/impl/join/MergeJoinBatchBuilder.java  |   6 +-
 .../exec/physical/impl/join/MergeJoinCreator.java  |  38 +++
 .../exec/physical/impl/join/TestMergeJoin.java     | 220 +++++++++++++
 .../src/test/resources/join/merge_join.json        |  52 ++++
 .../src/test/resources/join/merge_multi_batch.json |  47 +++
 .../resources/join/merge_multi_batch.left.json     |  13 +
 .../resources/join/merge_multi_batch.right.json    |  11 +
 .../test/resources/join/merge_single_batch.json    |  37 +++
 .../resources/join/merge_single_batch.left.json    |  13 +
 .../resources/join/merge_single_batch.right.json   |  11 +
 24 files changed, 996 insertions(+), 98 deletions(-)

commit 8ceee5dbd23c4039b3738b3de8d51039aae8e910
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Thu Aug 15 21:16:27 2013 -0700

    DRILL-190 (part1) First pass at join operator (includes work from JN).

 .../physical/base/AbstractPhysicalVisitor.java     |  19 ++-
 .../drill/exec/physical/base/PhysicalVisitor.java  |  15 +-
 .../drill/exec/physical/config/MergeJoinPOP.java   |  64 +++++++++
 .../exec/physical/impl/join/JoinEvaluator.java     |   9 ++
 .../drill/exec/physical/impl/join/JoinStatus.java  | 154 ++++++++++++++++++++
 .../exec/physical/impl/join/JoinTemplate.java      | 155 +++++++++++++++++++++
 .../drill/exec/physical/impl/join/JoinWorker.java  |  20 +++
 .../exec/physical/impl/join/MergeJoinBatch.java    | 135 ++++++++++++++++++
 .../physical/impl/join/MergeJoinBatchBuilder.java  | 128 +++++++++++++++++
 9 files changed, 695 insertions(+), 4 deletions(-)

commit dddae743c78a9b193fc4bf4d350f6e25f4e9484c
Author: Timothy Chen <tnachen@gmail.com>
Date:   Tue Aug 20 23:53:41 2013 -0700

    DRILL-178 Creating JSON Storage engine

 .../drill/exec/store/json/JSONGroupScan.java       | 206 +++++++++++----------
 .../drill/exec/store/json/JSONRecordReader.java    |  25 ++-
 .../exec/store/json/JSONScanBatchCreator.java      |   2 +-
 .../drill/exec/store/json/JSONStorageEngine.java   |  48 +++++
 .../exec/store/json/JSONStorageEngineConfig.java   |  37 ++++
 .../apache/drill/exec/store/json/JSONSubScan.java  | 118 +++++++-----
 .../exec/physical/impl/TestSimpleFragmentRun.java  |   6 +-
 .../drill/exec/store/JSONRecordReaderTest.java     |  36 +++-
 .../test/resources/physical_json_scan_test1.json   |  17 +-
 9 files changed, 316 insertions(+), 179 deletions(-)

commit e43093d9e0df6a2c3f9f217cf8b16969f13afabb
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Aug 24 21:21:51 2013 -0700

    DRILL-185: Extend code/clean code generator and add first aggregate functions.

 .../common/expression/OutputTypeDeterminer.java    |   1 +
 .../common/expression/fn/AggregationFunctions.java |   2 +-
 .../ValueVectors/templates/FixedValueVectors.java  |  29 +-
 .../templates/NullableValueVectors.java            |  37 ++-
 .../templates/RepeatedValueVectors.java            |  18 +-
 .../templates/VariableLengthVectors.java           |  54 +++-
 .../drill/exec/compile/ClassTransformer.java       |  27 +-
 .../exec/compile/TemplateClassDefinition.java      |  34 +--
 .../compile/sig/DefaultGeneratorSignature.java     |  22 --
 .../drill/exec/compile/sig/GeneratorMapping.java   |  41 ++-
 .../apache/drill/exec/compile/sig/MappingSet.java  |  37 ++-
 .../drill/exec/compile/sig/SignatureHolder.java    |  24 +-
 .../org/apache/drill/exec/expr/CodeGenerator.java  | 130 +++++++--
 .../apache/drill/exec/expr/DirectExpression.java   |  50 ++++
 .../{DrillBatchFunc.java => DrillAggFunc.java}     |   8 +-
 .../java/org/apache/drill/exec/expr/DrillFunc.java |   5 -
 .../{DrillAggrFunc.java => DrillSimpleFunc.java}   |   3 +-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  68 +++--
 .../exec/expr/ExpressionTreeMaterializer.java      |   3 +-
 .../drill/exec/expr/ValueVectorReadExpression.java |  15 +-
 .../exec/expr/ValueVectorWriteExpression.java      |  13 +-
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |  63 ++++-
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java | 207 +++++++++-----
 .../drill/exec/expr/fn/DrillSimpleFuncHolder.java  | 103 +++++++
 .../drill/exec/expr/fn/FunctionConverter.java      |  23 +-
 .../apache/drill/exec/expr/fn/FunctionHolder.java  | 153 ----------
 .../expr/fn/FunctionImplementationRegistry.java    |  19 +-
 .../exec/expr/fn/agg/impl/CountFunctions.java      |  69 +++++
 .../drill/exec/expr/fn/agg/impl/SumFunctions.java  |  69 +++++
 .../apache/drill/exec/expr/fn/impl/Alternator.java |   6 +-
 .../drill/exec/expr/fn/impl/ByteSubstring.java     |   4 +-
 .../drill/exec/expr/fn/impl/CharSubstring.java     |   4 +-
 .../exec/expr/fn/impl/ComparatorFunctions.java     |   6 +-
 .../exec/expr/fn/impl/ComparisonFunctions.java     |  50 ++--
 .../expr/fn/impl/ComparisonFunctionsNullable.java  |  26 +-
 .../org/apache/drill/exec/expr/fn/impl/Hash.java   |   4 +-
 .../apache/drill/exec/expr/fn/impl/IsNotNull.java  |  11 +-
 .../org/apache/drill/exec/expr/fn/impl/IsNull.java |  11 +-
 .../drill/exec/expr/fn/impl/MathFunctions.java     |   8 +-
 .../exec/expr/fn/impl/SimpleRepeatedFunctions.java |   8 +-
 .../drill/exec/expr/holders/Float8Holder.java      |  13 -
 .../exec/expr/holders/NullableFloat8Holder.java    |  14 -
 .../drill/exec/physical/base/AbstractBase.java     |   3 +
 .../physical/base/AbstractPhysicalVisitor.java     |   6 +
 .../drill/exec/physical/base/PhysicalVisitor.java  |   2 +-
 .../apache/drill/exec/physical/config/Project.java |   1 -
 .../exec/physical/config/StreamingAggregate.java   |  83 ++++++
 .../drill/exec/physical/impl/ImplCreator.java      |  12 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  32 +--
 .../exec/physical/impl/aggregate/AggBatch.java     | 309 +++++++++++++++++++++
 .../physical/impl/aggregate/AggBatchCreator.java   |  23 ++
 .../exec/physical/impl/aggregate/AggTemplate.java  | 288 +++++++++++++++++++
 .../exec/physical/impl/aggregate/Aggregator.java   |  26 ++
 .../physical/impl/aggregate/BatchIterator.java     |   9 +
 .../physical/impl/aggregate/InternalBatch.java     |  65 +++++
 .../exec/physical/impl/filter/FilterEvaluator.java |  10 -
 .../exec/physical/impl/filter/FilterTemplate.java  |   7 +-
 .../drill/exec/physical/impl/filter/Filterer.java  |   3 +-
 .../impl/partitionsender/OutgoingRecordBatch.java  |  71 ++---
 .../physical/impl/partitionsender/Partitioner.java |   6 +-
 .../impl/partitionsender/PartitionerEvaluator.java |  28 --
 .../impl/partitionsender/PartitionerTemplate.java  |   7 +-
 .../physical/impl/project/ProjectEvaluator.java    |  12 -
 .../physical/impl/project/ProjectRecordBatch.java  |  41 +--
 .../exec/physical/impl/project/Projector.java      |   6 +-
 .../physical/impl/project/ProjectorTemplate.java   |   7 +-
 .../drill/exec/physical/impl/sort/Comparator.java  |  11 -
 .../exec/physical/impl/sort/ReadIndexRewriter.java |  87 ------
 .../exec/physical/impl/sort/RecordBatchData.java   |   2 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |  15 +-
 .../exec/physical/impl/sort/SortSignature.java     |  20 --
 .../exec/physical/impl/sort/SortTemplate.java      |   7 +-
 .../drill/exec/physical/impl/sort/Sorter.java      |   3 +-
 .../drill/exec/physical/impl/svremover/Copier.java |  10 +-
 .../physical/impl/svremover/CopierTemplate2.java   |   9 +-
 .../physical/impl/svremover/CopierTemplate4.java   |  14 +-
 .../physical/impl/svremover/CopyEvaluator.java     |  11 -
 .../impl/svremover/RemovingRecordBatch.java        |  66 +----
 .../drill/exec/record/HyperVectorWrapper.java      |  15 +
 .../drill/exec/record/MaterializedField.java       |  10 +-
 .../drill/exec/record/SimpleVectorWrapper.java     |   8 +
 .../org/apache/drill/exec/record/TransferPair.java |   1 +
 .../apache/drill/exec/record/VectorContainer.java  |  36 ++-
 .../apache/drill/exec/record/VectorWrapper.java    |   1 +
 .../exec/record/selection/SelectionVector4.java    |  30 +-
 .../drill/exec/store/mock/MockRecordReader.java    |   7 +-
 .../apache/drill/exec/vector/BaseValueVector.java  |   5 +
 .../org/apache/drill/exec/vector/BitVector.java    |  28 +-
 .../org/apache/drill/exec/vector/ValueVector.java  |   4 +
 .../vector/allocator/FixedVectorAllocator.java     |  24 ++
 .../vector/allocator/VariableEstimatedVector.java  |  19 ++
 .../vector/allocator/VariableVectorAllocator.java  |  19 ++
 .../exec/vector/allocator/VectorAllocator.java     |  30 ++
 .../java/parquet/hadoop/CodecFactoryExposer.java   |   6 +-
 .../exec/compile/ExampleInternalInterface.java     |  24 --
 .../exec/compile/TestClassTransformation.java      |   5 +-
 .../drill/exec/physical/impl/SimpleRootExec.java   |   5 +
 .../drill/exec/physical/impl/agg/TestAgg.java      | 115 ++++++++
 .../exec/test/generated/TestGeneratedClass.java    |  15 -
 .../java-exec/src/test/resources/agg/test1.json    |  46 +++
 .../java-exec/src/test/resources/agg/twokey.json   |  59 ++++
 101 files changed, 2324 insertions(+), 992 deletions(-)

commit daa42b84a00eab2f5b3aa70ebe6288a008f1eeb9
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Aug 22 18:33:04 2013 -0700

    Add copyFromSafe to ValueVectors.  Correct directionality of variable length copyFrom.

 .../ValueVectors/templates/FixedValueVectors.java  | 14 +++++++---
 .../templates/NullableValueVectors.java            | 11 +++++---
 .../templates/RepeatedValueVectors.java            |  5 +++-
 .../templates/VariableLengthVectors.java           | 30 +++++++++++++++++-----
 .../org/apache/drill/exec/vector/BitVector.java    |  6 +++++
 5 files changed, 52 insertions(+), 14 deletions(-)

commit ac8590d2b78b4b5f97199af48e425e8f4d205068
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Aug 10 13:02:59 2013 -0700

    DRILL-166 Update CodeGenerator code to support more generic signatures.

 .../drill/common/expression/IfExpression.java      |  29 +-
 .../drill/common/expression/LogicalExpression.java |   2 +-
 .../apache/drill/common/expression/SchemaPath.java |   7 +
 .../drill/common/expression/ValueExpressions.java  |  21 ++
 .../expression/visitors/AggregateChecker.java      |   2 +-
 .../expression/visitors/ConstantChecker.java       |   3 +-
 sandbox/prototype/exec/java-exec/pom.xml           |  10 +
 .../exec/compile/TemplateClassDefinition.java      |  36 +-
 .../exec/compile/sig/CodeGeneratorArgument.java    |  23 ++
 .../exec/compile/sig/CodeGeneratorMethod.java      |  60 +++
 .../exec/compile/sig/CodeGeneratorSignature.java   |   5 +
 .../compile/sig/ConstantExpressionIdentifier.java  | 114 ++++++
 .../compile/sig/DefaultGeneratorSignature.java     |  22 ++
 .../drill/exec/compile/sig/GeneratorMapping.java   |  40 ++
 .../apache/drill/exec/compile/sig/MappingSet.java  |  67 ++++
 .../apache/drill/exec/compile/sig/Signature.java   |  14 +
 .../drill/exec/compile/sig/SignatureHolder.java    |  57 +++
 .../apache/drill/exec/compile/sig/VVReadBatch.java |  18 +
 .../drill/exec/compile/sig/VVWriteBatch.java       |  18 +
 .../org/apache/drill/exec/expr/CodeGenerator.java  | 172 +++++----
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 412 +++++++++++++--------
 .../exec/expr/ExpressionTreeMaterializer.java      |   2 +-
 .../exec/expr/HoldingContainerExpression.java      |  46 +++
 .../drill/exec/expr/ValueVectorReadExpression.java |   9 +
 .../exec/expr/ValueVectorWriteExpression.java      |   9 +
 .../drill/exec/expr/annotations/MethodMap.java     |  21 ++
 .../drill/exec/expr/fn/DrillAggFuncHolder.java     |  36 ++
 .../apache/drill/exec/expr/fn/DrillFuncHolder.java | 102 +++++
 .../apache/drill/exec/expr/fn/FunctionBody.java    |  12 +
 .../drill/exec/expr/fn/FunctionConverter.java      |  14 +-
 .../apache/drill/exec/expr/fn/FunctionHolder.java  | 110 +-----
 .../org/apache/drill/exec/ops/FragmentContext.java |   8 -
 .../exec/physical/impl/filter/FilterSignature.java |  14 +
 .../drill/exec/physical/impl/filter/Filterer.java  |   3 +-
 .../impl/filter/ReturnValueExpression.java         |  10 +-
 .../partitionsender/PartitionSenderRootExec.java   |  11 +-
 .../physical/impl/partitionsender/Partitioner.java |   2 +-
 .../partitionsender/PartitionerInnerSignature.java |  17 +
 .../physical/impl/project/ProjectEvaluator.java    |   2 +-
 .../exec/physical/impl/project/Projector.java      |   3 +-
 .../exec/physical/impl/sort/ReadIndexRewriter.java |   2 +-
 .../drill/exec/physical/impl/sort/SortBatch.java   |  19 +-
 .../exec/physical/impl/sort/SortSignature.java     |  20 +
 .../exec/physical/impl/sort/SortTemplate.java      |   8 +-
 .../drill/exec/physical/impl/sort/Sorter.java      |   2 +-
 .../drill/exec/physical/impl/svremover/Copier.java |   6 +-
 .../impl/svremover/RemovingRecordBatch.java        |   4 +-
 .../apache/drill/exec/record/NullExpression.java   |  13 +-
 .../exec/compile/TestClassTransformation.java      |   2 +-
 .../physical/impl/TestHashToRandomExchange.java    |  13 +-
 .../record/ExpressionTreeMaterializerTest.java     |  58 +--
 51 files changed, 1302 insertions(+), 408 deletions(-)

commit 0fc89a317251e684c797ad0e5e5c68c3842ab3b3
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Aug 22 16:53:19 2013 -0700

    DRILL-180: propagate exceptions back to client.
    fail all whenever any query without queryId is received.
    fix RunningFragmentManager and Foreman to include queryId when building results
    @Ignore ConstantRopTest.testRefInterp() until plan is updated.

 .../apache/drill/exec/rpc/RpcExceptionHandler.java |  2 +-
 .../drill/exec/rpc/user/QueryResultHandler.java    | 10 +++++++++
 .../drill/exec/work/batch/BitComHandlerImpl.java   |  9 ++++++++
 .../apache/drill/exec/work/foreman/Foreman.java    |  1 +
 .../exec/work/foreman/RunningFragmentManager.java  |  5 ++++-
 .../store/parquet/ParquetRecordReaderTest.java     |  5 ++---
 .../drill/exec/ref/rops/ConstantROPTest.java       | 26 ++++++++++------------
 .../exec/ref/src/test/resources/constant2.json     |  2 +-
 8 files changed, 40 insertions(+), 20 deletions(-)

commit 7edd36170a9be291a69e44f6090474193485bf14
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Aug 22 16:18:55 2013 -0700

    DRILL-176:  Updates to affinity calculator, fixes for parquet serialization.  Fix to ErrorHelper looping

 .../drill/exec/planner/fragment/Wrapper.java       |   5 +-
 .../drill/exec/store/AffinityCalculator.java       |  91 ++++++-----
 .../drill/exec/store/parquet/ParquetGroupScan.java | 177 ++++++++++-----------
 .../exec/store/parquet/ParquetRecordReader.java    |   2 +-
 .../store/parquet/ParquetScanBatchCreator.java     |  10 +-
 .../drill/exec/work/foreman/ErrorHelper.java       |   8 +-
 .../drill/exec/store/TestParquetPhysicalPlan.java  |  55 ++++++-
 .../store/parquet/ParquetRecordReaderTest.java     |  52 +++++-
 .../parquet_scan_union_screen_physical.json        |   5 +-
 9 files changed, 257 insertions(+), 148 deletions(-)

commit d6ae53ee04f4902a2d13e144b3582a49b6afd586
Author: immars <immars@gmail.com>
Date:   Thu Aug 22 16:07:12 2013 -0700

    DRILL-161 Add rebuffed jars for Hadoop2 protobuf conflicts

 sandbox/prototype/common/pom.xml         | 32 +++++++++++++++++++++++++++
 sandbox/prototype/exec/java-exec/pom.xml | 38 +++++++++++++++++++++++++++++++-
 2 files changed, 69 insertions(+), 1 deletion(-)

commit d3b68d13886b1ffc527789a7538e0c3091d2345a
Author: immars <immars@gmail.com>
Date:   Thu Aug 22 16:00:19 2013 -0700

    DRILL-171: Fix graph creation

 .../org/apache/drill/common/logical/data/LogicalOperatorBase.java  | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit c568eed28567f65b9e5931f7fea428497d0b5bfd
Author: immars <immars@gmail.com>
Date:   Thu Aug 22 15:28:28 2013 -0700

    DRILL-169 Correct JSON serialization/deserialization for Project LOP

 .../src/main/java/org/apache/drill/common/logical/data/Project.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit acf47818eb545d6f4109aec1189017754552adcf
Author: immars <immars@gmail.com>
Date:   Thu Aug 22 15:21:22 2013 -0700

    DRILL-156 Union (all) pop implementation
    Fixes to TestSimpleFilter

 .../drill/exec/physical/base/AbstractMultiple.java |  36 ++++++
 .../physical/base/AbstractPhysicalVisitor.java     |  16 +--
 .../drill/exec/physical/base/PhysicalVisitor.java  |  12 +-
 .../apache/drill/exec/physical/config/Union.java   |  42 +++++++
 .../drill/exec/physical/impl/ImplCreator.java      |   8 ++
 .../drill/exec/physical/impl/ScreenCreator.java    |   1 +
 .../physical/impl/union/UnionBatchCreator.java     |  23 ++++
 .../exec/physical/impl/union/UnionRecordBatch.java | 130 +++++++++++++++++++++
 .../exec/physical/impl/TestSimpleFragmentRun.java  |   4 +-
 .../physical/impl/filter/TestSimpleFilter.java     |   2 +-
 .../exec/physical/impl/union/TestSimpleUnion.java  |  68 +++++++++++
 .../java-exec/src/test/resources/filter/test1.json |   8 +-
 .../java-exec/src/test/resources/union/test1.json  |  57 +++++++++
 13 files changed, 384 insertions(+), 23 deletions(-)

commit c501352565d1c8e39e1f6e7e66d9fa3a0fe2bf9e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Aug 15 20:38:04 2013 -0700

    Updates for Parquet varlen merge

 .../drill/exec/store/parquet/ParquetGroupScan.java | 34 ++++++------
 .../store/parquet/ParquetRecordReaderTest.java     | 61 ++++++++++++++++------
 .../exec/store/parquet/TestFileGenerator.java      |  8 +--
 .../{ => parquet}/parquet_scan_screen.json         |  0
 .../parquet_scan_screen_read_entry_replace.json    |  0
 .../parquet_scan_union_screen_physical.json        |  2 +-
 6 files changed, 69 insertions(+), 36 deletions(-)

commit 556bd963aff5e01ab041db3529a7ae4f847f9bd0
Author: Jason Altekruse <altekrusejason@gmial.com>
Date:   Tue Aug 13 18:22:49 2013 -0700

    Updates to Parquet for VariableLengthVectors and Bit fields

 .../templates/VariableLengthVectors.java           |  3 +-
 .../apache/drill/exec/store/parquet/BitReader.java |  3 +-
 .../drill/exec/store/parquet/ColumnReader.java     |  5 +--
 .../drill/exec/store/parquet/PageReadStatus.java   |  2 +-
 .../exec/store/parquet/ParquetRecordReader.java    |  6 ++--
 .../drill/exec/vector/BaseDataValueVector.java     |  4 +--
 .../org/apache/drill/exec/vector/BitVector.java    | 13 +++++++-
 .../parquet_scan_screen_read_entry_replace.json    | 39 ++++++++++++++++++++++
 sandbox/prototype/pom.xml                          |  2 +-
 9 files changed, 60 insertions(+), 17 deletions(-)

commit 47985bad03a6210823258cf934bcbbd57cacdde0
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Aug 15 18:41:27 2013 -0700

    Fix SQL parser logback file not found exception

 .../prototype/sqlparser/src/test/resources/logback.xml    | 15 ---------------
 1 file changed, 15 deletions(-)

commit 8cd9cacd7f116c9ba5d18b21c288eba9b14fd786
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Aug 15 18:37:07 2013 -0700

    Fixes for Partitioner merge

 .../java/org/apache/drill/exec/physical/impl/ImplCreator.java    | 6 +-----
 .../org/apache/drill/exec/work/RemoteFragmentRunnerListener.java | 9 +++------
 .../java/org/apache/drill/exec/work/batch/BitComHandlerImpl.java | 5 +----
 3 files changed, 5 insertions(+), 15 deletions(-)

commit b32c9edd96553a8947a853d2735277f043d56cee
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Mon Aug 12 13:30:53 2013 -0700

    fix schema path serialization

 .../org/apache/drill/common/expression/ExpressionStringBuilder.java    | 2 --
 .../src/main/java/org/apache/drill/exec/expr/fn/impl/Hash.java         | 3 +--
 .../exec/java-exec/src/test/resources/sender/hash_exchange.json        | 2 +-
 3 files changed, 2 insertions(+), 5 deletions(-)

commit 2c8094b420da075dec1cb224ff4ecb37f3d7f7f4
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Mon Aug 12 02:27:24 2013 -0700

    implement hash expression evaluation

 .../org/apache/drill/exec/expr/fn/impl/Hash.java   |  5 +-
 .../impl/partitionsender/OutgoingRecordBatch.java  |  9 ++--
 .../partitionsender/PartitionSenderRootExec.java   | 56 ++++++++++++++++------
 .../impl/partitionsender/PartitionerTemplate.java  |  4 +-
 .../src/test/resources/sender/hash_exchange.json   |  2 +-
 5 files changed, 50 insertions(+), 26 deletions(-)

commit 98156ee70d0f6b04c24c7a1de442d5744f0fd63d
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Mon Aug 12 00:48:06 2013 -0700

    Fix issue where redundant batches showing up after being partitioned and sent.

 .../exec/physical/impl/partitionsender/PartitionSenderRootExec.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit add8c724b9490feba442ae831d9b9c0d6babe413
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Sun Aug 11 15:12:32 2013 -0700

    fix issue with end of batch

 .../impl/partitionsender/OutgoingRecordBatch.java  | 71 +++++++++++++++-------
 .../partitionsender/PartitionSenderRootExec.java   | 13 ++--
 2 files changed, 52 insertions(+), 32 deletions(-)

commit 93121cbf168f63881ad93d126e2fd9306a51f64a
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Sat Aug 10 12:44:59 2013 -0700

    prevent NPE in recordLoader.  still need to handle the last batch correctly.

 .../physical/impl/partitionsender/OutgoingRecordBatch.java    |  9 ++++++---
 .../impl/partitionsender/PartitionSenderRootExec.java         | 11 +++++++++--
 2 files changed, 15 insertions(+), 5 deletions(-)

commit a136a5bf53f87ac256d311fbbe6f1a373d193b1f
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Sat Aug 10 01:29:39 2013 -0700

    fix deadbuf issue when flushing an outgoing batch

 .../drill/exec/physical/impl/partitionsender/OutgoingRecordBatch.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8ffc674b7ce699aa6905166bf2060bc4e48e45c3
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Sat Aug 10 01:20:53 2013 -0700

    optimized generated code for partition sender

 .../impl/partitionsender/OutgoingRecordBatch.java  |  52 +++++-----
 .../partitionsender/PartitionSenderRootExec.java   | 115 ++++++++++++++-------
 .../exec/work/RemoteFragmentRunnerListener.java    |  11 +-
 3 files changed, 107 insertions(+), 71 deletions(-)

commit 4a10ea1324e0ce9eeedf6e4949728b9a17a01605
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Fri Aug 9 03:01:25 2013 -0700

    Implement PartitionExchange Operator:
     - implement Partitioner template and code generation
     - implement OutgoingRecordBatch to manage records in the process of being sent to another host
     - implement PartitionSenderCreator and add visit method to ImplCreator
     - implement boiler plate for Hash DrillFunc
     - foreman: track intermediate nodes; not just leaf nodes.
     - code gen: implement generateMultipleOutputs() and getImplementationClassMultipleOutput(), similar to generate()
     - added FIXED_INT static output type determiner
     - fix parsing of "senders" in RandomReceiver

 .../common/expression/OutputTypeDeterminer.java    |   1 +
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  28 ++-
 .../org/apache/drill/exec/expr/fn/impl/Hash.java   |  60 +++++
 .../org/apache/drill/exec/ops/FragmentContext.java |   8 +
 .../exec/physical/config/HashPartitionSender.java  |  17 +-
 .../drill/exec/physical/config/RandomReceiver.java |   4 +-
 .../drill/exec/physical/impl/ImplCreator.java      |  27 ++-
 .../impl/partitionsender/OutgoingRecordBatch.java  | 267 +++++++++++++++++++++
 .../partitionsender/PartitionSenderCreator.java    |  41 ++++
 .../partitionsender/PartitionSenderRootExec.java   | 212 ++++++++++++++++
 .../physical/impl/partitionsender/Partitioner.java |  39 +++
 .../impl/partitionsender/PartitionerEvaluator.java |  28 +++
 .../impl/partitionsender/PartitionerTemplate.java  |  59 +++++
 .../apache/drill/exec/work/foreman/Foreman.java    |   4 +-
 .../exec/work/foreman/RunningFragmentManager.java  |  13 +-
 .../physical/impl/TestHashToRandomExchange.java    |  62 +++++
 .../src/test/resources/sender/hash_exchange.json   |  55 +++++
 17 files changed, 909 insertions(+), 16 deletions(-)

commit be77d5aaab5ac24b99ea6f28712537cc49b43949
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Aug 15 18:23:07 2013 -0700

    cleanup comparison function tests. use a single json file, and abstract out redundant code.

 .../physical/impl/TestComparisonFunctions.java     | 749 +++------------------
 .../impl/TestComparisonFunctionsNullable.java      | 354 ----------
 .../test/resources/functions/comparisonTest.json   |  39 ++
 .../src/test/resources/functions/float4Equal.json  |  35 -
 .../resources/functions/float4GreaterThan.json     |  35 -
 .../functions/float4GreaterThanEqual.json          |  35 -
 .../test/resources/functions/float4LessThan.json   |  35 -
 .../resources/functions/float4LessThanEqual.json   |  35 -
 .../test/resources/functions/float4NotEqual.json   |  35 -
 .../src/test/resources/functions/float8Equal.json  |  35 -
 .../resources/functions/float8GreaterThan.json     |  35 -
 .../functions/float8GreaterThanEqual.json          |  35 -
 .../test/resources/functions/float8LessThan.json   |  35 -
 .../resources/functions/float8LessThanEqual.json   |  35 -
 .../test/resources/functions/float8NotEqual.json   |  35 -
 .../src/test/resources/functions/intEqual.json     |  35 -
 .../test/resources/functions/intGreaterThan.json   |  35 -
 .../resources/functions/intGreaterThanEqual.json   |  35 -
 .../src/test/resources/functions/intLessThan.json  |  35 -
 .../test/resources/functions/intLessThanEqual.json |  35 -
 .../src/test/resources/functions/intNotEqual.json  |  35 -
 .../src/test/resources/functions/longEqual.json    |  35 -
 .../test/resources/functions/longGreaterThan.json  |  35 -
 .../resources/functions/longGreaterThanEqual.json  |  35 -
 .../src/test/resources/functions/longLessThan.json |  35 -
 .../resources/functions/longLessThanEqual.json     |  35 -
 .../src/test/resources/functions/longNotEqual.json |  35 -
 .../resources/functions/nullableBigIntEqual.json   |  35 -
 .../functions/nullableBigIntGreaterThan.json       |  35 -
 .../functions/nullableBigIntGreaterThanEqual.json  |  35 -
 .../functions/nullableBigIntLessThan.json          |  35 -
 .../functions/nullableBigIntLessThanEqual.json     |  35 -
 .../functions/nullableBigIntNotEqual.json          |  35 -
 .../test/resources/functions/nullableIntEqual.json |  35 -
 .../functions/nullableIntGreaterThan.json          |  35 -
 .../functions/nullableIntGreaterThanEqual.json     |  35 -
 .../resources/functions/nullableIntLessThan.json   |  35 -
 .../functions/nullableIntLessThanEqual.json        |  35 -
 .../resources/functions/nullableIntNotEqual.json   |  35 -
 39 files changed, 136 insertions(+), 2266 deletions(-)

commit 2884db7a9162f9d348dbb88663e0da191a399c4d
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Aug 15 17:57:24 2013 -0700

    Updates to add subscan support to JSON

 sandbox/prototype/exec/java-exec/pom.xml           | 15 +---
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  2 +-
 .../drill/exec/physical/impl/ImplCreator.java      | 56 +++++++-------
 .../org/apache/drill/exec/store/VectorHolder.java  | 21 ++++--
 .../json/JSONGroupScan.java}                       | 77 +++++++++++++------
 .../exec/store/{ => json}/JSONRecordReader.java    |  5 +-
 .../json}/JSONScanBatchCreator.java                | 12 +--
 .../apache/drill/exec/store/json/JSONSubScan.java  | 86 ++++++++++++++++++++++
 .../config => store/mock}/MockGroupScanPOP.java    |  2 +-
 .../config => store/mock}/MockRecordReader.java    |  6 +-
 .../mock}/MockScanBatchCreator.java                |  4 +-
 .../drill/exec/store/mock/MockStorageEngine.java   |  3 +-
 .../config => store/mock}/MockStorePOP.java        |  2 +-
 .../config => store/mock}/MockSubScanPOP.java      |  2 +-
 .../drill/exec/store/parquet/ColumnReader.java     |  2 +-
 .../drill/exec/store/parquet/PageReadStatus.java   | 15 ++--
 .../drill/exec/store/parquet/ParquetGroupScan.java |  5 +-
 .../store/parquet/ParquetScanBatchCreator.java     |  5 +-
 .../drill/exec/store/JSONRecordReaderTest.java     |  2 +
 .../store/parquet/ParquetRecordReaderTest.java     | 33 ++-------
 .../src/test/resources/parquet_scan_screen.json    |  4 +-
 .../org/apache/drill/jdbc/test/FullEngineTest.java |  2 +
 22 files changed, 233 insertions(+), 128 deletions(-)

commit 402be7e04e744004beb16e9222cf649f2da6fc93
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Aug 15 08:45:20 2013 -0700

    fixes for memory management and rpc throttling

 .../apache/drill/common/logical/LogicalPlan.java   |   6 +-
 sandbox/prototype/exec/bufferl/pom.xml             |  37 +-
 .../src/main/java/io/netty/buffer/PoolArenaL.java  |   3 +-
 .../main/java/io/netty/buffer/PooledByteBufL.java  |   3 +-
 .../java/io/netty/buffer/PooledHeapBufferL.java    | 282 ++++++++++
 .../netty/buffer/PooledUnsafeDirectByteBufL.java   |   3 +-
 sandbox/prototype/exec/java-exec/pom.xml           |   6 +-
 .../ValueVectors/templates/FixedValueVectors.java  |   1 -
 .../templates/NullableValueVectors.java            |   6 +-
 .../templates/RepeatedValueVectors.java            |   8 +-
 .../templates/VariableLengthVectors.java           |   9 +-
 .../org/apache/drill/exec/client/DrillClient.java  |  11 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  37 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |   3 +
 .../drill/exec/physical/impl/ScreenCreator.java    |  23 +-
 .../exec/physical/impl/SingleSenderCreator.java    |   2 -
 .../drill/exec/physical/impl/WireRecordBatch.java  |   1 +
 .../drill/exec/record/FragmentWritableBatch.java   |   6 +-
 .../apache/drill/exec/record/RawFragmentBatch.java |   4 +
 .../apache/drill/exec/record/VectorContainer.java  |   1 +
 .../apache/drill/exec/record/WritableBatch.java    |   1 -
 .../drill/exec/rpc/AbstractHandshakeHandler.java   |   2 +
 .../apache/drill/exec/rpc/CoordinationQueue.java   |  10 +-
 .../apache/drill/exec/rpc/DrillRpcFutureImpl.java  |   1 -
 .../apache/drill/exec/rpc/RemoteConnection.java    |  22 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |  12 +-
 .../drill/exec/rpc/user/QueryResultBatch.java      |   6 +-
 .../drill/exec/store/AbstractStorageEngine.java    |   6 +-
 .../drill/exec/store/StorageEngineRegistry.java    |   2 +-
 .../config => store/mock}/MockStorageEngine.java   |  37 +-
 .../exec/store/parquet/ParquetRecordReader.java    |   7 +-
 .../exec/store/parquet/ParquetStorageEngine.java   |   5 +-
 .../exec/work/RemoteFragmentRunnerListener.java    |   2 +-
 .../org/apache/drill/exec/work/WorkManager.java    |   2 +-
 .../exec/work/batch/AbstractFragmentCollector.java |   2 +-
 ...tchBuffer.java => UnlimitedRawBatchBuffer.java} |   4 +-
 .../exec/physical/impl/TestSimpleFragmentRun.java  |   2 +-
 .../org/apache/drill/exec/store/MockScantTest.java | 115 ----
 .../drill/exec/store/ParquetRecordReaderTest.java  | 594 ---------------------
 .../store/parquet/ParquetRecordReaderTest.java     | 347 ++++++++++++
 .../exec/store/parquet/TestFileGenerator.java      | 210 ++++++++
 .../src/test/resources/scan_screen_logical.json    |   8 +-
 .../exec/java-exec/src/test/sh/logback.xml         |  35 ++
 .../prototype/exec/java-exec/src/test/sh/runbit    |   4 +-
 sandbox/prototype/pom.xml                          |  10 +
 45 files changed, 1064 insertions(+), 834 deletions(-)

commit 0a2f997ff8d95b816238edc78f8ccf4c5cbbb924
Author: Jason Altekruse <altekrusejason@gmial.com>
Date:   Thu Aug 8 11:50:47 2013 -0700

    Initial Parquet commit.  Suports INT, LONG, FLOAT, DOUBLE, distributed scheduling.

 .../java/org/apache/drill/common/JSONOptions.java  |   5 +-
 .../apache/drill/common/logical/LogicalPlan.java   |   2 +-
 .../drill/common/logical/StorageEngineConfig.java  |   2 +
 .../common/logical/StorageEngineConfigBase.java    |   2 +
 .../drill/storage/MockStorageEngineConfig.java     |  18 +-
 sandbox/prototype/exec/java-exec/pom.xml           |  67 ++-
 .../templates/VariableLengthVectors.java           |   6 +-
 .../java/org/apache/drill/exec/ExecConstants.java  |   1 +
 .../drill/exec/exception/OptimizerException.java   |  17 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |   7 +
 .../org/apache/drill/exec/opt/BasicOptimizer.java  | 205 +++----
 .../drill/exec/physical/ReadEntryFromHDFS.java     |  54 ++
 .../drill/exec/physical/ReadEntryWithPath.java     |  41 ++
 .../{AbstractScan.java => AbstractGroupScan.java}  |  47 +-
 .../physical/base/AbstractPhysicalVisitor.java     |   9 +-
 .../apache/drill/exec/physical/base/GroupScan.java |  36 ++
 .../org/apache/drill/exec/physical/base/Leaf.java  |   2 +-
 .../drill/exec/physical/base/PhysicalOperator.java |   2 +-
 .../drill/exec/physical/base/PhysicalVisitor.java  |   3 +-
 .../org/apache/drill/exec/physical/base/Scan.java  |  21 +-
 .../apache/drill/exec/physical/base/SubScan.java   |  23 +
 .../{MockScanPOP.java => MockGroupScanPOP.java}    |  52 +-
 .../exec/physical/config/MockRecordReader.java     |   4 +-
 .../exec/physical/config/MockScanBatchCreator.java |   6 +-
 .../exec/physical/config/MockStorageEngine.java    |   8 +-
 .../drill/exec/physical/config/MockSubScanPOP.java | 115 ++++
 .../drill/exec/physical/impl/ImplCreator.java      |  45 +-
 .../drill/exec/physical/impl/OutputMutator.java    |   1 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |   6 +
 .../exec/physical/impl/SingleSenderCreator.java    |   3 +
 .../drill/exec/planner/PhysicalPlanReader.java     |  14 +-
 .../planner/fragment/MakeFragmentsVisitor.java     |   9 +-
 .../drill/exec/planner/fragment/Materializer.java  |  17 +-
 .../exec/planner/fragment/SimpleParallelizer.java  |   2 +
 .../exec/planner/fragment/StatsCollector.java      |  19 +-
 .../drill/exec/planner/fragment/Wrapper.java       |  20 +-
 .../drill/exec/record/FragmentWritableBatch.java   |   6 +
 .../drill/exec/record/RecordBatchLoader.java       |  38 +-
 .../apache/drill/exec/record/WritableBatch.java    |   1 -
 .../java/org/apache/drill/exec/rpc/RpcEncoder.java |  12 +-
 .../apache/drill/exec/server/DrillbitContext.java  |  10 +-
 .../apache/drill/exec/service/ServiceEngine.java   |   5 +-
 .../drill/exec/store/AbstractStorageEngine.java    |   4 +-
 .../drill/exec/store/AffinityCalculator.java       | 112 ++++
 .../org/apache/drill/exec/store/StorageEngine.java |  12 +-
 .../drill/exec/store/StorageEngineRegistry.java    |   6 +-
 .../org/apache/drill/exec/store/VectorHolder.java  |   9 +-
 .../apache/drill/exec/store/parquet/BitReader.java |  87 +++
 .../drill/exec/store/parquet/ColumnReader.java     | 115 ++++
 .../exec/store/parquet/FixedByteAlignedReader.java |  48 ++
 .../drill/exec/store/parquet/PageReadStatus.java   | 116 ++++
 .../drill/exec/store/parquet/ParquetGroupScan.java | 357 +++++++++++++
 .../exec/store/parquet/ParquetRecordReader.java    | 403 ++++++++++++++
 .../exec/store/parquet/ParquetRowGroupScan.java    | 137 +++++
 .../store/parquet/ParquetScanBatchCreator.java     |  73 +++
 .../exec/store/parquet/ParquetStorageEngine.java   | 116 ++++
 .../store/parquet/ParquetStorageEngineConfig.java  |  66 +++
 .../exec/store/parquet/VarLenBinaryReader.java     | 130 +++++
 .../drill/exec/vector/BaseDataValueVector.java     |   6 +-
 .../exec/work/AbstractFragmentRunnerListener.java  |   4 +-
 ...ener.java => RemoteFragmentRunnerListener.java} |   9 +-
 .../drill/exec/work/batch/BitComHandlerImpl.java   |   6 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |   2 +-
 .../exec/work/fragment/RemoteFragmentHandler.java  |   4 +-
 .../java/parquet/hadoop/CodecFactoryExposer.java   |  42 ++
 .../java-exec/src/main/resources/drill-module.conf |   7 +-
 .../physical/impl/TestDistributedFragmentRun.java  |   5 +-
 .../org/apache/drill/exec/store/ByteArrayUtil.java | 181 +++++++
 .../drill/exec/store/JSONRecordReaderTest.java     |   5 +
 .../org/apache/drill/exec/store/MockScantTest.java | 115 ++++
 .../drill/exec/store/ParquetRecordReaderTest.java  | 594 +++++++++++++++++++++
 .../drill/exec/store/TestAffinityCalculator.java   | 229 ++++++++
 .../drill/exec/store/TestParquetPhysicalPlan.java  |  56 ++
 .../java-exec/src/test/resources/drill-module.conf |   4 +-
 .../java-exec/src/test/resources/filter/test1.json |   2 +-
 .../src/test/resources/functions/float4Equal.json  |   2 +-
 .../resources/functions/float4GreaterThan.json     |   2 +-
 .../functions/float4GreaterThanEqual.json          |   2 +-
 .../test/resources/functions/float4LessThan.json   |   2 +-
 .../resources/functions/float4LessThanEqual.json   |   2 +-
 .../test/resources/functions/float4NotEqual.json   |   2 +-
 .../src/test/resources/functions/float8Equal.json  |   2 +-
 .../resources/functions/float8GreaterThan.json     |   2 +-
 .../functions/float8GreaterThanEqual.json          |   2 +-
 .../test/resources/functions/float8LessThan.json   |   2 +-
 .../resources/functions/float8LessThanEqual.json   |   2 +-
 .../test/resources/functions/float8NotEqual.json   |   2 +-
 .../src/test/resources/functions/intEqual.json     |   2 +-
 .../test/resources/functions/intGreaterThan.json   |   2 +-
 .../resources/functions/intGreaterThanEqual.json   |   2 +-
 .../src/test/resources/functions/intLessThan.json  |   2 +-
 .../test/resources/functions/intLessThanEqual.json |   2 +-
 .../src/test/resources/functions/intNotEqual.json  |   2 +-
 .../src/test/resources/functions/longEqual.json    |   2 +-
 .../test/resources/functions/longGreaterThan.json  |   2 +-
 .../resources/functions/longGreaterThanEqual.json  |   2 +-
 .../src/test/resources/functions/longLessThan.json |   2 +-
 .../resources/functions/longLessThanEqual.json     |   2 +-
 .../src/test/resources/functions/longNotEqual.json |   2 +-
 .../resources/functions/nullableBigIntEqual.json   |   2 +-
 .../functions/nullableBigIntGreaterThan.json       |   2 +-
 .../functions/nullableBigIntGreaterThanEqual.json  |   2 +-
 .../functions/nullableBigIntLessThan.json          |   2 +-
 .../functions/nullableBigIntLessThanEqual.json     |   2 +-
 .../functions/nullableBigIntNotEqual.json          |   2 +-
 .../test/resources/functions/nullableIntEqual.json |   2 +-
 .../functions/nullableIntGreaterThan.json          |   2 +-
 .../functions/nullableIntGreaterThanEqual.json     |   2 +-
 .../resources/functions/nullableIntLessThan.json   |   2 +-
 .../functions/nullableIntLessThanEqual.json        |   2 +-
 .../resources/functions/nullableIntNotEqual.json   |   2 +-
 .../resources/functions/testByteSubstring.json     |   2 +-
 .../test/resources/functions/testIsNotNull.json    |   2 +-
 .../src/test/resources/functions/testIsNull.json   |   2 +-
 .../test/resources/functions/testSubstring.json    |   2 +-
 .../resources/functions/testSubstringNegative.json |   2 +-
 .../java-exec/src/test/resources/mock-scan.json    |  31 ++
 .../src/test/resources/parquet_scan_screen.json    |  44 ++
 .../parquet_scan_union_screen_physical.json        |  35 ++
 .../src/test/resources/physical_repeated_1.json    |   2 +-
 .../src/test/resources/project/test1.json          |   2 +-
 .../src/test/resources/remover/test1.json          |   2 +-
 .../src/test/resources/sort/one_key_sort.json      |   2 +-
 .../src/test/resources/sort/two_key_sort.json      |   2 +-
 .../prototype/exec/java-exec/src/test/sh/runbit    |   2 +-
 .../org/apache/drill/exec/ref/ROPConverter.java    |   5 +-
 .../apache/drill/exec/ref/rse/ClasspathRSE.java    |   5 +
 .../org/apache/drill/exec/ref/rse/ConsoleRSE.java  |   8 +-
 .../apache/drill/exec/ref/rse/FileSystemRSE.java   |  17 +
 .../org/apache/drill/exec/ref/rse/QueueRSE.java    |  19 +-
 .../java/org/apache/drill/optiq/DrillScan.java     |   2 +-
 131 files changed, 3932 insertions(+), 353 deletions(-)

commit 0a327ede37cc3e712a6bf3729f52d0563ac78275
Author: Timothy Chen <tnachen@gmail.com>
Date:   Tue Aug 13 21:06:50 2013 -0700

    Fix VarLen getBuffers template and retain

 .../src/main/codegen/ValueVectors/templates/VariableLengthVectors.java | 3 ++-
 .../main/java/org/apache/drill/exec/vector/BaseDataValueVector.java    | 1 +
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 6f9dadb952db3740cb187057967785d0ffca8e3e
Author: Timothy Chen <tnachen@gmail.com>
Date:   Tue Aug 13 20:42:53 2013 -0700

    Fix getBuffers and address comments

 .../ValueVectors/templates/NullableValueVectors.java     |  8 ++------
 .../ValueVectors/templates/RepeatedValueVectors.java     |  3 ++-
 .../java/org/apache/drill/exec/schema/DiffSchema.java    | 13 ++++++-------
 .../org/apache/drill/exec/store/JSONRecordReader.java    | 16 ++++++++--------
 .../java/org/apache/drill/exec/store/VectorHolder.java   | 12 ++++++------
 5 files changed, 24 insertions(+), 28 deletions(-)

commit b1e48b32e3bc5e240a01d75f83ac5d2be4b2e7ae
Author: Timothy Chen <tnachen@gmail.com>
Date:   Sun Aug 11 11:55:24 2013 -0700

    Fix late type binding for json record reader

 .../java/org/apache/drill/common/types/Types.java  |  27 +++--
 .../java/org/apache/drill/exec/schema/Field.java   | 111 ++++++++++++---------
 .../exec/schema/json/jackson/JacksonHelper.java    |   1 +
 .../apache/drill/exec/store/JSONRecordReader.java  |  49 +++++----
 .../drill/exec/store/JSONRecordReaderTest.java     |  41 ++++++--
 .../src/test/resources/scan_json_test_5.json       |  33 +++---
 6 files changed, 170 insertions(+), 92 deletions(-)

commit a15f5b19c7362793590d670ba1b932f6f8dfda69
Author: Timothy Chen <tnachen@gmail.com>
Date:   Sat Aug 10 01:32:13 2013 -0700

    Fix value vectors for e2e scan json pop

 .../templates/NullableValueVectors.java            |  5 +++++
 .../templates/RepeatedValueVectors.java            | 12 +++++------
 .../org/apache/drill/exec/store/VectorHolder.java  |  8 +++++++-
 .../apache/drill/exec/vector/RepeatedMutator.java  | 23 ++++++++++++++++++++++
 .../exec/physical/impl/TestSimpleFragmentRun.java  |  7 +++++--
 .../test/resources/physical_json_scan_test1.json   |  2 +-
 6 files changed, 46 insertions(+), 11 deletions(-)

commit 38ab96f335537c6bbdb6a4a64b1c6e13755172f6
Author: Timothy Chen <tnachen@gmail.com>
Date:   Sat Aug 3 15:29:35 2013 -0700

    Repeated values in JsonRecordReader

 .../apache/drill/common/expression/SchemaPath.java |   2 +-
 .../templates/RepeatedValueVectors.java            |  10 +-
 .../exec/schema/json/jackson/JacksonHelper.java    | 116 ++++++++++++---------
 .../apache/drill/exec/store/JSONRecordReader.java  |  86 ++++++++-------
 .../org/apache/drill/exec/store/VectorHolder.java  |  20 ++--
 .../apache/drill/exec/vector/AllocationHelper.java |   2 +-
 .../apache/drill/exec/vector/RepeatedMutator.java  |  23 ----
 .../exec/physical/impl/TestSimpleFragmentRun.java  |  81 +++++++++++++-
 .../drill/exec/store/JSONRecordReaderTest.java     |  56 +++++++++-
 .../src/test/resources/scan_json_test_4.json       |  23 ++--
 10 files changed, 279 insertions(+), 140 deletions(-)

commit 73fad99a752f3f37944e082353aaf790154953a1
Author: Timothy Chen <tnachen@gmail.com>
Date:   Wed Jun 19 23:21:01 2013 -0700

    Added JSONScanPOP and JSONScanBatch

 .../templates/RepeatedValueVectors.java            |   7 +-
 .../exec/physical/config/JSONScanBatchCreator.java |  46 ++++++
 .../drill/exec/physical/config/JSONScanPOP.java    | 114 ++++++++++++++
 .../drill/exec/physical/impl/ImplCreator.java      |  14 +-
 .../org/apache/drill/exec/schema/DiffSchema.java   |  20 +--
 .../apache/drill/exec/store/JSONRecordReader.java  | 175 ++++++++++++---------
 .../org/apache/drill/exec/store/VectorHolder.java  |  96 ++++++-----
 .../apache/drill/exec/vector/FixedWidthVector.java |   1 -
 .../apache/drill/exec/vector/RepeatedMutator.java  |  23 +++
 .../exec/physical/impl/TestSimpleFragmentRun.java  |  13 +-
 .../test/resources/physical_json_scan_test1.json   |  23 +++
 11 files changed, 388 insertions(+), 144 deletions(-)

commit bd41633f1e2f088e0a9ba97378d77f56e2a00cdd
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Aug 8 12:10:44 2013 -0700

    Add two basic repeated functions: repeated_contains and repeated_count.

 .../exec/expr/fn/impl/SimpleRepeatedFunctions.java | 100 +++++++++++++++++++++
 .../drill/exec/fn/impl/TestRepeatedFunction.java   |  96 ++++++++++++++++++++
 .../src/test/resources/physical_repeated_1.json    |  37 ++++++++
 3 files changed, 233 insertions(+)

commit ecb80fc29b2df4a7382e49f1ac519fc1963767a2
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Aug 8 12:08:04 2013 -0700

    Add Repeated MockRecordReader generators
    Refactor usesHolderForGet to Types class (updating evaluation visitor)
    Rename FunctionScopes for Aggregates to more descriptive names.
    Fix RepeatedValueVector off by 1 bug
    Add extra debugging in function holder matching
    Fix method grabbing visitor and modified unparse visitor for outer block drill func bug.  (Ensure writer flush and close, add extra printing surrounding output of unparse visitor.)
    Update allocation helper to support repeated vectors

 .../org/apache/drill/common/expression/Arg.java    |  4 +--
 .../java/org/apache/drill/common/types/Types.java  | 35 +++++++++++++++-------
 .../templates/RepeatedValueVectors.java            | 21 +++++++++++--
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  7 ++---
 .../exec/expr/annotations/FunctionTemplate.java    |  2 +-
 .../apache/drill/exec/expr/fn/FunctionHolder.java  | 17 +++++++++--
 .../drill/exec/expr/fn/MethodGrabbingVisitor.java  |  6 ++++
 .../drill/exec/expr/fn/ModifiedUnparseVisitor.java | 26 +++++++++-------
 .../exec/physical/config/MockRecordReader.java     |  7 ++---
 .../apache/drill/exec/vector/AllocationHelper.java |  8 +++++
 10 files changed, 94 insertions(+), 39 deletions(-)

commit db3afaa854fc8475592907dba97162ecf869f9df
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun Aug 4 15:47:31 2013 -0700

    Sort operator using HyperBatch concept.  Supports single and multikey asc/desc sort.
    One comparator function definition.
    Add abstract record batch, vector container and vector wrapper.
    Various fixes to return to client when query fails.

 .../drill/common/expression/FunctionCall.java      |   1 +
 .../templates/NullableValueVectors.java            |   2 +-
 .../templates/RepeatedValueVectors.java            |   2 +-
 .../templates/VariableLengthVectors.java           |   5 +-
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  39 +++-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  62 +++---
 .../exec/expr/ExpressionTreeMaterializer.java      |   2 +-
 .../drill/exec/expr/ValueVectorReadExpression.java |  33 ++-
 .../exec/expr/ValueVectorWriteExpression.java      |  13 +-
 .../apache/drill/exec/expr/fn/impl/Alternator.java |  53 +++--
 .../exec/expr/fn/impl/ComparatorFunctions.java     |  58 +++++
 .../org/apache/drill/exec/ops/FragmentContext.java |   5 +-
 .../apache/drill/exec/physical/base/Sender.java    |   1 +
 .../exec/physical/impl/FilterRecordBatch.java      | 130 -----------
 .../impl/FilteringRecordBatchTransformer.java      |  58 -----
 .../drill/exec/physical/impl/ImplCreator.java      |   9 +
 .../apache/drill/exec/physical/impl/RootExec.java  |   1 -
 .../apache/drill/exec/physical/impl/ScanBatch.java |  26 +--
 .../drill/exec/physical/impl/ScreenCreator.java    |   4 +-
 .../exec/physical/impl/SingleSenderCreator.java    |   2 +-
 .../drill/exec/physical/impl/VectorHolder.java     |  39 ----
 .../drill/exec/physical/impl/WireRecordBatch.java  |  15 +-
 .../physical/impl/filter/FilterRecordBatch.java    | 129 ++---------
 .../impl/materialize/RecordMaterializer.java       |   6 -
 .../physical/impl/project/ProjectRecordBatch.java  | 141 ++----------
 .../drill/exec/physical/impl/sort/Comparator.java  |  11 +
 .../exec/physical/impl/sort/ReadIndexRewriter.java |  87 ++++++++
 .../exec/physical/impl/sort/RecordBatchData.java   |  47 ++++
 .../drill/exec/physical/impl/sort/SortBatch.java   | 171 ++++++++++++++
 .../exec/physical/impl/sort/SortBatchCreator.java  |  23 ++
 .../physical/impl/sort/SortRecordBatchBuilder.java | 130 +++++++++++
 .../exec/physical/impl/sort/SortTemplate.java      |  45 ++++
 .../drill/exec/physical/impl/sort/Sorter.java      |  17 ++
 .../drill/exec/physical/impl/svremover/Copier.java |   7 +-
 .../{CopierTemplate.java => CopierTemplate2.java}  |   4 +-
 .../physical/impl/svremover/CopierTemplate4.java   |  47 ++++
 .../impl/svremover/RemovingRecordBatch.java        | 246 +++++++++------------
 .../physical/impl/svremover/SVRemoverCreator.java  |   2 +-
 .../drill/exec/record/AbstractRecordBatch.java     |  78 +++++++
 .../exec/record/AbstractSingleRecordBatch.java     |  52 +++++
 .../drill/exec/record/HyperVectorWrapper.java      |  54 +++++
 .../drill/exec/record/InvalidValueAccessor.java    |  46 ----
 .../org/apache/drill/exec/record/RecordBatch.java  |  45 +---
 .../drill/exec/record/RecordBatchLoader.java       |  66 +++---
 .../org/apache/drill/exec/record/RecordMaker.java  |  22 --
 .../apache/drill/exec/record/RecordRemapper.java   |   8 -
 .../drill/exec/record/SimpleVectorWrapper.java     |  49 ++++
 .../org/apache/drill/exec/record/TypedFieldId.java |  58 +++++
 .../apache/drill/exec/record/VectorContainer.java  | 130 +++++++++++
 .../apache/drill/exec/record/VectorWrapper.java    |  14 ++
 .../apache/drill/exec/record/WritableBatch.java    |  12 +-
 .../exec/record/selection/SelectionVector4.java    |  56 ++++-
 .../record/selection/SelectionVector4Builder.java  |  37 ++++
 .../drill/exec/rpc/user/QueryResultHandler.java    |  60 +++--
 .../drill/exec/vector/BaseDataValueVector.java     |   1 +
 .../drill/exec/vector/SerializableVector.java      |   7 +
 .../org/apache/drill/exec/vector/ValueVector.java  |   2 +
 .../exec/work/AbstractFragmentRunnerListener.java  |   7 +-
 .../exec/work/RemotingFragmentRunnerListener.java  |   2 +
 .../drill/exec/work/foreman/ErrorHelper.java       |  19 +-
 .../exec/work/foreman/RunningFragmentManager.java  |   7 +-
 .../org/apache/drill/exec/expr/EscapeTest1.java    | 181 +++++++++++++++
 .../org/apache/drill/exec/expr/ExpressionTest.java |  22 +-
 .../drill/exec/physical/impl/SimpleRootExec.java   |  16 +-
 .../exec/physical/impl/TestSimpleFragmentRun.java  |  11 +-
 .../exec/physical/impl/sort/TestSimpleSort.java    | 145 ++++++++++++
 .../record/ExpressionTreeMaterializerTest.java     |   1 -
 .../src/test/resources/sort/one_key_sort.json      |  44 ++++
 .../src/test/resources/sort/two_key_sort.json      |  54 +++++
 .../drill/sql/client/full/BatchListener.java       |  17 +-
 .../drill/sql/client/full/BatchLoaderMap.java      |   5 +-
 .../org/apache/drill/jdbc/test/FullEngineTest.java |  10 +
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  |   5 +
 73 files changed, 2109 insertions(+), 907 deletions(-)

commit 31f196497e7e0d1bd6cdc852ff3e9f16dd8c5072
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Sun Aug 4 00:35:33 2013 -0700

    s/bin_substr/byte_substr

 .../exec/expr/fn/impl/{BinSubstring.java => ByteSubstring.java}  | 9 ++++-----
 .../org/apache/drill/exec/physical/impl/TestSimpleFunctions.java | 4 ++--
 .../{testSubstringBinary.json => testByteSubstring.json}         | 2 +-
 3 files changed, 7 insertions(+), 8 deletions(-)

commit 71e8ffebd9c6197ec6bb4eab7ab6bcf503fa0984
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Sat Aug 3 17:13:48 2013 -0700

    Add UTF-8 support for substring.  Add VARBINARY as a valid type for substring.

 .../apache/drill/exec/expr/EvaluationVisitor.java  |  16 +--
 .../fn/impl/{Substring.java => BinSubstring.java}  |  55 ++++----
 .../drill/exec/expr/fn/impl/CharSubstring.java     | 157 +++++++++++++++++++++
 .../exec/physical/impl/TestSimpleFunctions.java    |  41 ++++++
 .../resources/functions/testSubstringBinary.json   |  37 +++++
 5 files changed, 272 insertions(+), 34 deletions(-)

commit 068a1dfddde0ef16db9b003cf7b28a79911417b5
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Fri Aug 2 12:31:16 2013 -0700

    Implement negative substring offset

 .../apache/drill/exec/expr/fn/impl/Substring.java  | 37 +++++++++++++++++++--
 .../exec/physical/impl/TestSimpleFunctions.java    | 38 ++++++++++++++++++++++
 .../test/resources/functions/testSubstring.json    |  2 +-
 .../resources/functions/testSubstringNegative.json | 37 +++++++++++++++++++++
 4 files changed, 110 insertions(+), 4 deletions(-)

commit ce7cf0d26678e3ae25ba5d5f5525738333decc57
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Aug 5 16:32:44 2013 -0700

    Fix Parquet version.  Small other pom fixes.

 sandbox/prototype/exec/java-exec/pom.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 2fcff3e7a161bdfdf61b93208b208d9fd1fba916
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Mon Aug 5 14:12:23 2013 -0700

    Fix ORDER BY and UNION after upgrade to optiq-0.4.9.
    
    ORDER BY ... DESC is still broken. Nulls should appear first.

 .../java/org/apache/drill/optiq/DrillSortRule.java |  5 ++--
 .../java/org/apache/drill/optiq/DrillUnionRel.java | 13 +++++++---
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  | 29 +++++++++++++++++-----
 3 files changed, 35 insertions(+), 12 deletions(-)

commit d405c70df958629f70c6378241314876bcd1b7ab
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Aug 2 20:17:06 2013 -0700

    Update to add additional Julian SQL work.
    Update to Parquet 0.4.9
    OrderBy and Union (distinct) not currently working.

 .../apache/drill/common/logical/LogicalPlan.java   |   3 +-
 sandbox/prototype/sqlparser/pom.xml                | 167 +++----
 .../java/org/apache/drill/jdbc/DrillTable.java     | 156 ++++---
 .../main/java/org/apache/drill/jdbc/Driver.java    |   1 +
 .../org/apache/drill/optiq/DrillAggregateRel.java  | 119 +++++
 .../org/apache/drill/optiq/DrillAggregateRule.java |  53 +++
 .../org/apache/drill/optiq/DrillFilterRel.java     |  30 +-
 .../org/apache/drill/optiq/DrillFilterRule.java    |  16 +-
 .../org/apache/drill/optiq/DrillImplementor.java   |  33 +-
 .../java/org/apache/drill/optiq/DrillJoinRel.java  | 158 +++++++
 .../java/org/apache/drill/optiq/DrillJoinRule.java |  57 +++
 .../java/org/apache/drill/optiq/DrillOptiq.java    |  50 +--
 .../org/apache/drill/optiq/DrillPrepareImpl.java   |   3 -
 .../org/apache/drill/optiq/DrillProjectRel.java    |  50 +--
 .../org/apache/drill/optiq/DrillProjectRule.java   |  29 +-
 .../main/java/org/apache/drill/optiq/DrillRel.java |   4 +-
 .../java/org/apache/drill/optiq/DrillScan.java     |  11 +-
 .../java/org/apache/drill/optiq/DrillSortRel.java  |  88 ++++
 .../java/org/apache/drill/optiq/DrillSortRule.java |  42 ++
 .../java/org/apache/drill/optiq/DrillUnionRel.java |  70 +++
 .../org/apache/drill/optiq/DrillUnionRule.java     |  48 ++
 .../org/apache/drill/optiq/DrillValuesRel.java     |   9 +-
 .../org/apache/drill/optiq/DrillValuesRule.java    |  17 +-
 .../org/apache/drill/optiq/EnumerableDrill.java    | 250 +++++++++++
 .../drill/optiq/EnumerableDrillFullEngine.java     |   5 +-
 .../org/apache/drill/optiq/EnumerableDrillRel.java |  71 ++-
 .../apache/drill/optiq/EnumerableDrillRule.java    |   5 +-
 .../drill/sql/client/full/ResultEnumerator.java    |   4 +
 .../apache/drill/sql/client/ref/DrillRefImpl.java  |   5 +
 .../org/apache/drill/jdbc/test/FullEngineTest.java |  37 ++
 .../org/apache/drill/jdbc/test/JdbcAssert.java     | 178 ++++++--
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  | 494 +++++++++++++--------
 .../src/test/resources/donuts-output-data.txt      |   5 +
 .../sqlparser/src/test/resources/full-model.json   |  18 +
 .../sqlparser/src/test/resources/test-models.json  |  77 ++++
 35 files changed, 1780 insertions(+), 583 deletions(-)

commit 103072a619741d5e228fdb181501ec2f82e111a3
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Jul 31 20:00:14 2013 -0700

    Merge Jason's SQL updates to work with full exec.
    Random vector updates including changing to copyFrom
    Fixes to writable batch.
    Add an alternative ByteBuf implementation that leverages little endianness.

 sandbox/prototype/exec/bufferl/pom.xml             |  35 ++
 .../src/main/java/io/netty/buffer/PoolArenaL.java  | 425 +++++++++++++++++++++
 .../src/main/java/io/netty/buffer/PoolChunkL.java  | 348 +++++++++++++++++
 .../main/java/io/netty/buffer/PoolChunkListL.java  | 129 +++++++
 .../main/java/io/netty/buffer/PoolSubpageL.java    | 195 ++++++++++
 .../java/io/netty/buffer/PoolThreadCacheL.java     |  33 ++
 .../io/netty/buffer/PooledByteBufAllocatorL.java   | 263 +++++++++++++
 .../main/java/io/netty/buffer/PooledByteBufL.java  | 173 +++++++++
 .../netty/buffer/PooledUnsafeDirectByteBufL.java   | 342 +++++++++++++++++
 sandbox/prototype/exec/java-exec/pom.xml           |   5 +
 .../ValueVectors/templates/FixedValueVectors.java  |   4 +-
 .../templates/NullableValueVectors.java            |   6 +-
 .../templates/RepeatedValueVectors.java            |   2 +-
 .../templates/VariableLengthVectors.java           |   2 +-
 .../org/apache/drill/exec/client/DrillClient.java  |  39 +-
 .../expr/fn/FunctionImplementationRegistry.java    |   4 +-
 .../drill/exec/memory/DirectBufferAllocator.java   |  21 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  47 ++-
 .../exec/physical/impl/filter/FilterTemplate.java  |  12 +-
 .../impl/materialize/VectorRecordMaterializer.java |   1 +
 .../physical/impl/project/ProjectorTemplate.java   |   4 +-
 .../physical/impl/svremover/CopierTemplate.java    |   2 +-
 .../impl/svremover/RemovingRecordBatch.java        |  12 +-
 .../apache/drill/exec/record/WritableBatch.java    |   5 +
 .../exec/record/selection/SelectionVector2.java    |   8 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |   8 +-
 .../org/apache/drill/exec/vector/BitVector.java    |   4 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |   3 +
 .../apache/drill/exec/memory/TestEndianess.java    |  24 ++
 sandbox/prototype/exec/pom.xml                     |   1 +
 sandbox/prototype/sqlparser/pom.xml                |  23 +-
 .../java/org/apache/drill/jdbc/DrillTable.java     |  82 +++-
 .../drill/optiq/EnumerableDrillFullEngine.java     |  85 +++++
 .../org/apache/drill/optiq/EnumerableDrillRel.java |  20 +-
 .../apache/drill/optiq/EnumerableDrillRule.java    |  18 +-
 .../drill/sql/client/full/BatchListener.java       |  48 +++
 .../drill/sql/client/full/BatchLoaderMap.java      | 185 +++++++++
 .../drill/sql/client/full/DrillFullImpl.java       |  64 ++++
 .../drill/sql/client/full/ResultEnumerator.java    |  48 +++
 .../client/ref/DrillRefImpl.java}                  | 288 +++++++-------
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |  49 ++-
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  | 168 +++++---
 42 files changed, 2923 insertions(+), 312 deletions(-)

commit 4e289f0dec17eb1c4c3803a6f1cae0c250727754
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Aug 1 19:45:06 2013 -0700

    Speed build time by making tearDowns static.  Still need to refactor these.

 .../test/java/org/apache/drill/exec/expr/ExpressionTest.java  | 10 ++++------
 .../drill/exec/physical/impl/TestComparisonFunctions.java     |  9 ++++++---
 .../exec/physical/impl/TestComparisonFunctionsNullable.java   | 11 +++++++----
 .../drill/exec/physical/impl/filter/TestSimpleFilter.java     |  5 +++--
 .../exec/physical/impl/project/TestSimpleProjection.java      |  5 +++--
 .../drill/exec/physical/impl/svremover/TestSVRemover.java     |  5 +++--
 6 files changed, 26 insertions(+), 19 deletions(-)

commit bff8ab65c83f5256e8fc95ea58261071a161deb2
Author: Timothy Chen <tnachen@gmail.com>
Date:   Tue Jul 23 21:20:06 2013 -0700

    Fix JsonRecordReader nested test

 .../apache/drill/exec/store/JSONRecordReader.java  | 683 +++++++++++----------
 .../drill/exec/store/JSONRecordReaderTest.java     |  84 +--
 2 files changed, 369 insertions(+), 398 deletions(-)

commit fdb5c41e696915ab76f2cf38b510f80dd64eee87
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Aug 1 12:30:55 2013 -0700

    non-nullable float4 and float8 comparison functions

 .../exec/expr/fn/impl/ComparisonFunctions.java     | 182 ++++++++++-
 .../physical/impl/TestComparisonFunctions.java     | 336 ++++++++++++++++++++-
 .../src/test/resources/functions/float4Equal.json  |  35 +++
 .../resources/functions/float4GreaterThan.json     |  35 +++
 .../functions/float4GreaterThanEqual.json          |  35 +++
 .../test/resources/functions/float4LessThan.json   |  35 +++
 .../resources/functions/float4LessThanEqual.json   |  35 +++
 .../test/resources/functions/float4NotEqual.json   |  35 +++
 .../src/test/resources/functions/float8Equal.json  |  35 +++
 .../resources/functions/float8GreaterThan.json     |  35 +++
 .../functions/float8GreaterThanEqual.json          |  35 +++
 .../test/resources/functions/float8LessThan.json   |  35 +++
 .../resources/functions/float8LessThanEqual.json   |  35 +++
 .../test/resources/functions/float8NotEqual.json   |  35 +++
 14 files changed, 926 insertions(+), 12 deletions(-)

commit 9efdeeadfa511ddbcc0c9b9853ba5bacf5b3c490
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Thu Aug 1 02:33:12 2013 -0700

    more nullable int and bigint comparison functions

 .../expr/fn/impl/ComparisonFunctionsNullable.java  | 144 ++++++++++++++
 .../impl/TestComparisonFunctionsNullable.java      | 208 +++++++++++++++++++++
 .../functions/nullableBigIntGreaterThan.json       |  35 ++++
 .../functions/nullableBigIntGreaterThanEqual.json  |  35 ++++
 .../functions/nullableBigIntLessThan.json          |  35 ++++
 .../functions/nullableBigIntLessThanEqual.json     |  35 ++++
 .../functions/nullableIntGreaterThan.json          |  35 ++++
 .../functions/nullableIntGreaterThanEqual.json     |  35 ++++
 .../resources/functions/nullableIntLessThan.json   |  35 ++++
 .../functions/nullableIntLessThanEqual.json        |  35 ++++
 10 files changed, 632 insertions(+)

commit 13bc4d1c5b338ed444e5ee882f8ec304255756a9
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Jul 31 19:21:08 2013 -0700

    nullable int and bigint equality operators. fixed some bugs in code gen for NULL_IF_NULL

 .../apache/drill/exec/expr/fn/FunctionHolder.java  |   7 +-
 .../expr/fn/impl/ComparisonFunctionsNullable.java  |  88 +++++++++++++
 .../physical/impl/project/ProjectorTemplate.java   |   6 +-
 .../impl/TestComparisonFunctionsNullable.java      | 143 +++++++++++++++++++++
 .../resources/functions/nullableBigIntEqual.json   |  35 +++++
 .../functions/nullableBigIntNotEqual.json          |  35 +++++
 .../test/resources/functions/nullableIntEqual.json |  35 +++++
 .../resources/functions/nullableIntNotEqual.json   |  35 +++++
 8 files changed, 378 insertions(+), 6 deletions(-)

commit 787041e3aca71c732dd0047b3b952c03940a9bfb
Author: Steven Phillips <sphillips@maprtech.com>
Date:   Wed Jul 31 15:29:16 2013 -0700

    Int and Long non-nullable comparison functions

 .../drill/common/expression/parser/ExprLexer.g     |   3 +-
 .../drill/common/expression/parser/ExprParser.g    |   2 +-
 .../common/expression/fn/BooleanFunctions.java     |   3 +-
 .../exec/expr/fn/impl/ComparisonFunctions.java     | 188 +++++++++++
 .../physical/impl/TestComparisonFunctions.java     | 360 +++++++++++++++++++++
 .../src/test/resources/functions/intEqual.json     |  35 ++
 .../test/resources/functions/intGreaterThan.json   |  35 ++
 .../resources/functions/intGreaterThanEqual.json   |  35 ++
 .../src/test/resources/functions/intLessThan.json  |  35 ++
 .../test/resources/functions/intLessThanEqual.json |  35 ++
 .../src/test/resources/functions/intNotEqual.json  |  35 ++
 .../src/test/resources/functions/longEqual.json    |  35 ++
 .../test/resources/functions/longGreaterThan.json  |  35 ++
 .../resources/functions/longGreaterThanEqual.json  |  35 ++
 .../src/test/resources/functions/longLessThan.json |  35 ++
 .../resources/functions/longLessThanEqual.json     |  35 ++
 .../src/test/resources/functions/longNotEqual.json |  35 ++
 sandbox/prototype/pom.xml                          |   3 +
 18 files changed, 976 insertions(+), 3 deletions(-)

commit 3399184121a7dac15a316ee9ae529c6ddf90c5f5
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Thu Aug 1 17:55:30 2013 -0700

     - Implement support for VARCHAR in EvaluationVisitor
     - Remove ByteHolder
     - Add toString() helper for VarLen value holders
     - Add MinorType accessor to code generators HoldingContainer
     - Fix BitVector.generateTestData()
     - Implement draft of SUBSTRING function

 .../ValueVectors/templates/ValueHolders.java       | 12 ++++
 .../templates/VariableLengthVectors.java           |  9 ---
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  5 ++
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 29 +++++----
 .../apache/drill/exec/expr/fn/impl/Substring.java  | 68 ++++++++++++++++++++++
 .../exec/physical/config/MockRecordReader.java     |  3 +-
 .../exec/physical/impl/filter/FilterTemplate.java  |  2 +-
 .../org/apache/drill/exec/vector/BitVector.java    |  2 +-
 .../org/apache/drill/exec/vector/ByteHolder.java   | 12 ----
 .../exec/physical/impl/TestSimpleFunctions.java    | 43 ++++++++++++++
 .../test/resources/functions/testSubstring.json    | 37 ++++++++++++
 11 files changed, 187 insertions(+), 35 deletions(-)

commit 128a09dd14260f5e6cd15ad3b5f55b7f332ce0e5
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Thu Aug 1 17:22:21 2013 -0700

    remove deprecated warning

 .../java/org/apache/drill/exec/physical/config/MockRecordReader.java   | 3 ---
 1 file changed, 3 deletions(-)

commit 401e8857fd8347f3bdf91083da58c82684ceffb0
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Thu Aug 1 17:13:16 2013 -0700

    Don't set valueCount in allocateNew()

 .../java-exec/src/main/java/org/apache/drill/exec/vector/BitVector.java  | 1 -
 1 file changed, 1 deletion(-)

commit 0d8bbf0ee0e6180e5405670b5259634b2414247a
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Wed Jul 31 15:05:58 2013 -0700

    s/boolean/bit/

 .../main/java/org/apache/drill/exec/expr/fn/impl/IsNotNull.java   | 8 ++++++--
 .../src/main/java/org/apache/drill/exec/expr/fn/impl/IsNull.java  | 8 ++++++--
 2 files changed, 12 insertions(+), 4 deletions(-)

commit fb2b0216d1a1eef1398ea395102172b942f529a6
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Wed Jul 31 14:55:47 2013 -0700

    Merge master

 .../templates/NullableValueVectors.java            |   2 +
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   4 +-
 .../apache/drill/exec/expr/fn/impl/IsNotNull.java  |  53 ++++++++++
 .../org/apache/drill/exec/expr/fn/impl/IsNull.java |  53 ++++++++++
 .../drill/exec/expr/holders/Float8Holder.java      |  13 +++
 .../exec/expr/holders/NullableFloat8Holder.java    |  14 +++
 .../exec/physical/config/MockRecordReader.java     |   3 +-
 .../org/apache/drill/exec/vector/BitVector.java    |   7 +-
 .../exec/physical/impl/TestSimpleFunctions.java    | 109 +++++++++++++++++++++
 .../test/resources/functions/testIsNotNull.json    |  35 +++++++
 .../src/test/resources/functions/testIsNull.json   |  35 +++++++
 11 files changed, 321 insertions(+), 7 deletions(-)

commit 742f4c119bccfe832672bc39998d8df6481d18e4
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jul 30 17:58:10 2013 -0700

    Clean up types, remove extraneous types, update BOOLEAN/BIT to be consistently BIT
    Implement ValueHolders for all types through code generation, remove manually coded value holders.
    Rename ValueVector.randomizeData() to ValueVector.generateTestData() and provide consistent return results for repeatability and data validation.

 .../org/apache/drill/common/expression/Arg.java    |   5 +-
 .../common/expression/ExpressionValidator.java     |   2 +-
 .../common/expression/OutputTypeDeterminer.java    |   3 +-
 .../drill/common/expression/ValueExpressions.java  |  11 +-
 .../common/expression/fn/BooleanFunctions.java     |  14 +-
 .../common/expression/fn/StringFunctions.java      |   4 +-
 .../drill/common/expression/fn/TypeFunctions.java  |   2 +-
 .../drill/common/expression/fn/UnaryFunctions.java |   4 +-
 .../java/org/apache/drill/common/types/Types.java  |  27 ++--
 .../prototype/common/src/main/protobuf/Types.proto |  24 ++--
 .../codegen/ValueVectors/data/ValueVectorTypes.tdd |  58 ++++----
 .../ValueVectors/templates/FixedValueVectors.java  |  70 ++++++---
 .../templates/NullableValueVectors.java            |  54 +++++--
 .../templates/RepeatedValueVectors.java            | 101 ++++++-------
 .../codegen/ValueVectors/templates/TypeHelper.java |  82 ++++++-----
 .../ValueVectors/templates/ValueHolders.java       |  64 +++++++++
 .../templates/VariableLengthVectors.java           |  42 +++++-
 .../apache/drill/exec/compile/CodeModelTools.java  |  31 ----
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  40 +-----
 .../apache/drill/exec/expr/fn/impl/Alternator.java |   4 +-
 .../drill/exec/expr/fn/impl/MathFunctions.java     |  17 +--
 .../drill/exec/expr/holders/BooleanHolder.java     |  10 --
 .../drill/exec/expr/holders/Float8Holder.java      |  14 --
 .../apache/drill/exec/expr/holders/IntHolder.java  |  10 --
 .../apache/drill/exec/expr/holders/LongHolder.java |  10 --
 .../exec/expr/holders/NullableBooleanHolder.java   |  11 --
 .../exec/expr/holders/NullableFloat8Holder.java    |  13 --
 .../drill/exec/expr/holders/NullableIntHolder.java |  11 --
 .../exec/expr/holders/NullableLongHolder.java      |  11 --
 .../drill/exec/expr/holders/VarBinaryHolder.java   |  12 --
 .../apache/drill/exec/memory/BufferAllocator.java  |  32 +++++
 .../drill/exec/memory/DirectBufferAllocator.java   |  10 ++
 .../apache/drill/exec/physical/base/Exchange.java  |  11 ++
 .../exec/physical/config/HashToRandomExchange.java |   5 +
 .../exec/physical/config/MockRecordReader.java     |  17 +--
 .../drill/exec/physical/config/UnionExchange.java  |   5 +
 .../physical/impl/filter/FilterRecordBatch.java    |  21 +--
 .../exec/physical/impl/filter/FilterTemplate.java  |   2 +-
 .../physical/impl/project/ProjectRecordBatch.java  |  11 +-
 .../physical/impl/project/ProjectorTemplate.java   |   2 +-
 .../impl/svremover/RemovingRecordBatch.java        |  11 +-
 .../org/apache/drill/exec/record/BatchSchema.java  |  39 ++++-
 .../drill/exec/record/MaterializedField.java       |  27 ++++
 .../apache/drill/exec/record/NullExpression.java   |   3 +-
 .../apache/drill/exec/record/WritableBatch.java    |   2 +-
 .../exec/record/selection/SelectionVector2.java    |   7 +
 .../exec/schema/json/jackson/JacksonHelper.java    |  19 +--
 .../apache/drill/exec/store/JSONRecordReader.java  |  11 +-
 .../apache/drill/exec/vector/BaseValueVector.java  |   2 +-
 .../org/apache/drill/exec/vector/BitVector.java    | 157 +++++++++++----------
 .../apache/drill/exec/vector/FixedWidthVector.java |   2 +-
 .../drill/exec/vector/NonRepeatedMutator.java      |   7 -
 .../org/apache/drill/exec/vector/ValueVector.java  | 111 ++++++++-------
 .../drill/exec/vector/VariableWidthVector.java     |   2 +-
 .../java-exec/src/main/protobuf/SchemaDef.proto    |   2 +-
 .../src/main/protobuf/UserBitShared.proto          |   1 +
 .../org/apache/drill/exec/expr/ExpressionTest.java |   7 +-
 .../record/ExpressionTreeMaterializerTest.java     |   6 +-
 .../drill/exec/record/vector/TestValueVector.java  |  10 +-
 .../drill/exec/store/JSONRecordReaderTest.java     |  40 +++---
 .../src/test/resources/scan_screen_logical.json    |   7 +-
 .../exec/ref/rops/CollapsingAggregateROP.java      |   2 +-
 .../apache/drill/exec/ref/values/ScalarValues.java |   6 +-
 .../apache/drill/exec/ref/values/ValueReader.java  |   2 +-
 64 files changed, 720 insertions(+), 640 deletions(-)

commit 9f69ed05bdcdb3a9dd917c394d6aac3a5ddb6989
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jul 27 10:38:11 2013 -0700

    Re-add correct case workspace file.

 .../org/apache/drill/exec/expr/annotations/Workspace.java  | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 4d699a348d4c93f220c3f59f5d53f3c2965b8229
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jul 27 10:37:21 2013 -0700

    Remove case offending workspace files

 .../org/apache/drill/exec/expr/annotations/WorkSpace.java  | 14 --------------
 .../org/apache/drill/exec/expr/annotations/Workspace.java  | 14 --------------
 2 files changed, 28 deletions(-)

commit a1cdca51109d96cef57b87d2130fefe8b798aea7
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jul 27 10:16:05 2013 -0700

    Add fix so RecordBatchLoader correctly offsets vectors within record batches.

 .../src/main/java/org/apache/drill/exec/record/RecordBatchLoader.java    | 1 +
 1 file changed, 1 insertion(+)

commit 6e39efc4bcf5a518398076034018a5e8a8829836
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jul 23 12:35:41 2013 -0700

    Add support for Float8 functions
    Move MockRecordReader to use AllocationHelper
    Change pom.xml to exclude other eclipse incompatible plugins for m2eclipse

 .../org/apache/drill/exec/expr/CodeGenerator.java  |  6 +++++
 .../drill/exec/expr/holders/Float8Holder.java      | 14 +++++++++++
 .../exec/expr/holders/NullableFloat8Holder.java    | 13 ++++++++++
 .../exec/physical/config/MockRecordReader.java     |  9 ++-----
 sandbox/prototype/pom.xml                          | 29 ++++++++++++++++++++++
 5 files changed, 64 insertions(+), 7 deletions(-)

commit 113d4b9f8d98a317565dc464a72f714b7e1b2910
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jul 23 00:00:28 2013 -0700

    Add NegativeLong function.
    Reduce MethodGrabbingVisitor verbosity.
    Make FunctionConverter contextual to location of loaded function for class loader improvements.
    Add automatic test-jar generation to java-exec for other module use.

 sandbox/prototype/exec/java-exec/pom.xml           | 103 ++++++++++++---------
 .../drill/exec/expr/fn/FunctionConverter.java      |   2 +-
 .../drill/exec/expr/fn/MethodGrabbingVisitor.java  |   4 +-
 .../drill/exec/expr/fn/impl/MathFunctions.java     |  17 ++++
 4 files changed, 78 insertions(+), 48 deletions(-)

commit 93ddf2660a8bfe1e6cf938580fb5053de1547f44
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Jul 22 21:55:15 2013 -0700

    Improve projection, filter and svremover tests.
    Fix bugs introduced by addition of accessors.

 .../main/java/org/apache/drill/exec/expr/EvaluationVisitor.java  | 8 ++++----
 .../drill/exec/physical/impl/project/ProjectorTemplate.java      | 4 ++--
 .../apache/drill/exec/physical/impl/filter/TestSimpleFilter.java | 8 +++++++-
 .../drill/exec/physical/impl/project/TestSimpleProjection.java   | 9 ++++++++-
 .../apache/drill/exec/physical/impl/svremover/TestSVRemover.java | 9 ++++++++-
 5 files changed, 29 insertions(+), 9 deletions(-)

commit 430e0c0d7b4e41f60a274b6fb533cfa621d2cc3f
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Jul 22 11:59:22 2013 -0700

    Update RPC framework to use Netty 4.0.3.Final
    Correct changes in RPC framework based on Netty API changes
    Fixed buffer reuse issues.  Update buffer reference counting (clearly going to be problematic)

 .../drill/common/expression/FunctionRegistry.java  |   2 +-
 sandbox/prototype/exec/java-exec/pom.xml           |   2 +-
 .../org/apache/drill/exec/client/DrillClient.java  |   6 ++
 .../exec/physical/impl/SingleSenderCreator.java    |   4 +-
 .../java/org/apache/drill/exec/record/DeadBuf.java | 118 ++++++++++-----------
 .../apache/drill/exec/record/RawFragmentBatch.java |   1 +
 .../drill/exec/rpc/AbstractHandshakeHandler.java   |  17 +--
 .../drill/exec/rpc/BaseRpcOutcomeListener.java     |   4 +-
 .../org/apache/drill/exec/rpc/BasicClient.java     |  12 +--
 .../org/apache/drill/exec/rpc/BasicServer.java     |  12 +--
 .../apache/drill/exec/rpc/CoordinationQueue.java   |  31 +++---
 .../org/apache/drill/exec/rpc/DrillRpcFuture.java  |   4 +
 .../apache/drill/exec/rpc/DrillRpcFutureImpl.java  |  21 +++-
 .../drill/exec/rpc/PositiveAtomicInteger.java      |   2 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |  28 +++--
 .../apache/drill/exec/rpc/RpcCheckedFuture.java    |  14 +++
 .../org/apache/drill/exec/rpc/RpcConstants.java    |   1 +
 .../java/org/apache/drill/exec/rpc/RpcDecoder.java |  14 ++-
 .../java/org/apache/drill/exec/rpc/RpcEncoder.java |  37 ++++---
 .../java/org/apache/drill/exec/rpc/RpcOutcome.java |   4 +-
 .../apache/drill/exec/rpc/RpcOutcomeListener.java  |   4 +-
 .../exec/rpc/ZeroCopyProtobufLengthDecoder.java    |  73 +++++++------
 .../drill/exec/rpc/bit/FutureBitCommand.java       |   6 +-
 .../drill/exec/rpc/bit/ListeningBitCommand.java    |  11 +-
 .../drill/exec/rpc/user/QueryResultBatch.java      |   1 +
 .../drill/exec/rpc/user/QueryResultHandler.java    |   2 +-
 .../drill/exec/vector/BaseDataValueVector.java     |   5 +-
 .../exec/work/foreman/RunningFragmentManager.java  |   4 +-
 28 files changed, 249 insertions(+), 191 deletions(-)

commit a0ed8fc03d75d8491c4200ee7b265d00c6358ca6
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Jul 22 12:16:15 2013 -0700

    Remove old Optiq dependency from java-exec.  Add Janino as direct dependency.

 sandbox/prototype/exec/java-exec/pom.xml | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit eaf95ed3c30d7bb147afe337e0e0477be6518d90
Author: Ted Dunning <tdunning@apache.org>
Date:   Sun Jul 21 17:35:33 2013 -0700

    DRILL-153 - fixed classpath computation

 sandbox/prototype/sqlline | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8186b5a1ac8b380234c85a65d54884ab794d7f92
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Jul 19 18:06:38 2013 -0700

    Remove logging fields from annotations.  (Okay with 1.7u9, not with 1.7u21)

 .../src/main/java/org/apache/drill/exec/expr/annotations/Output.java  | 4 ----
 .../src/main/java/org/apache/drill/exec/expr/annotations/Param.java   | 1 -
 2 files changed, 5 deletions(-)

commit f00132151a7946c9541f6317efb763325aef2874
Author: Jacques Nadeau <jacques@apache.org>
Date:   Fri Jul 19 14:40:57 2013 -0700

    Updates to support SelectionVector removal

 .../common/expression/fn/StringFunctions.java      |   4 +-
 .../java/org/apache/drill/common/types/Types.java  |  19 +-
 .../prototype/common/src/main/protobuf/Types.proto |   2 -
 .../codegen/ValueVectors/data/ValueVectorTypes.tdd |  17 +-
 .../ValueVectors/templates/FixedValueVectors.java  |  32 ++-
 .../templates/NullableValueVectors.java            |  40 +--
 .../templates/RepeatedValueVectors.java            |   5 +
 .../templates/VariableLengthVectors.java           |  34 ++-
 .../drill/exec/compile/QueryClassLoader.java       |  18 +-
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  21 +-
 .../drill/exec/expr/annotations/Workspace.java     |  14 +
 .../org/apache/drill/exec/ops/FragmentContext.java |   2 +-
 .../physical/config/SelectionVectorRemover.java    |  60 ++++
 .../drill/exec/physical/impl/ImplCreator.java      |  13 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |   2 +-
 .../physical/impl/filter/FilterRecordBatch.java    |   2 +-
 .../physical/impl/project/ProjectRecordBatch.java  |   4 +-
 .../drill/exec/physical/impl/svremover/Copier.java |  18 ++
 .../physical/impl/svremover/CopierTemplate.java    |  43 +++
 .../physical/impl/svremover/CopyEvaluator.java     |  11 +
 .../impl/svremover/RemovingRecordBatch.java        | 305 +++++++++++++++++++++
 .../physical/impl/svremover/SVRemoverCreator.java  |  23 ++
 .../org/apache/drill/exec/record/RecordBatch.java  |  46 ++--
 .../drill/exec/record/RecordBatchLoader.java       |   2 +-
 .../apache/drill/exec/record/RecordRemapper.java   |   8 +
 .../apache/drill/exec/record/WritableBatch.java    |  39 +--
 .../drill/exec/vector/BaseDataValueVector.java     |   4 +-
 .../apache/drill/exec/vector/BaseValueVector.java  |   3 +
 .../org/apache/drill/exec/vector/BitVector.java    |  21 +-
 .../apache/drill/exec/vector/FixedWidthVector.java |   2 +
 .../drill/exec/vector/NonRepeatedMutator.java      |   2 +-
 .../org/apache/drill/exec/vector/ValueVector.java  |   2 +
 .../drill/exec/vector/VariableWidthVector.java     |   2 +
 .../drill/exec/physical/impl/SimpleRootExec.java   |  13 +-
 .../physical/impl/filter/TestSimpleFilter.java     |   4 +-
 .../impl/project/TestSimpleProjection.java         |   3 +-
 .../physical/impl/svremover/TestSVRemover.java     |  64 +++++
 .../src/test/resources/remover/test1.json          |  39 +++
 .../src/test/resources/scan_screen_logical.json    |   2 +-
 39 files changed, 813 insertions(+), 132 deletions(-)

commit 7779a7232d292f5a7f4f2838c04687360d19d90b
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Jul 17 20:06:00 2013 -0700

    Add workspace field and function setup support.
    Add alternate function
    Add slightly better filter test.

 .../common/expression/ArgumentValidators.java      |   8 +-
 .../drill/common/expression/FunctionCall.java      |   4 +
 .../drill/common/expression/FunctionRegistry.java  |   5 +-
 .../drill/common/expression/NoArgValidator.java    |  21 +++++
 .../org/apache/drill/exec/expr/CodeGenerator.java  |   2 +
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   5 +-
 .../drill/exec/expr/annotations/WorkSpace.java     |   2 +-
 .../drill/exec/expr/fn/FunctionConverter.java      |  28 ++++--
 .../apache/drill/exec/expr/fn/FunctionHolder.java  | 100 ++++++++++++++-------
 .../apache/drill/exec/expr/fn/ImportGrabber.java   |  55 ++++++++++++
 .../drill/exec/expr/fn/MethodGrabbingVisitor.java  |   4 +
 .../apache/drill/exec/expr/fn/impl/Alternator.java |  49 ++++++++++
 .../org/apache/drill/exec/vector/ValueVector.java  |   1 -
 .../java-exec/src/main/resources/drill-module.conf |   3 +
 .../physical/impl/filter/TestSimpleFilter.java     |   3 +-
 .../java-exec/src/test/resources/filter/test1.json |   2 +-
 16 files changed, 239 insertions(+), 53 deletions(-)

commit 65e2cfce5364ccfe30b83b9dddeb304b79efbc76
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Jul 17 00:27:31 2013 -0700

    Initial working filter operator

 .../org/apache/drill/exec/cache/HazelCache.java    |   1 -
 .../drill/exec/compile/ClassTransformer.java       |  17 +-
 .../drill/exec/compile/JDKClassCompiler.java       |   5 +-
 .../exec/compile/TemplateClassDefinition.java      |  24 +--
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  20 ++-
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  22 +--
 .../drill/exec/expr/fn/FunctionConverter.java      |   2 +-
 .../drill/exec/expr/fn/MethodGrabbingVisitor.java  |   3 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |   9 +-
 .../drill/exec/physical/impl/ImplCreator.java      |  10 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  11 +-
 .../drill/exec/physical/impl/WireRecordBatch.java  |   8 +-
 .../exec/physical/impl/filter/ExampleFilter.java   | 111 ------------
 .../physical/impl/filter/FilterBatchCreator.java   |  23 +++
 .../exec/physical/impl/filter/FilterEvaluator.java |  10 ++
 .../physical/impl/filter/FilterRecordBatch.java    | 200 +++++++++++++++++++++
 .../exec/physical/impl/filter/FilterTemplate.java  |  63 +++++--
 .../drill/exec/physical/impl/filter/Filterer.java  |  19 ++
 ...nExpression.java => ReturnValueExpression.java} |   6 +-
 .../physical/impl/project/ProjectEvaluator.java    |   4 +-
 .../physical/impl/project/ProjectRecordBatch.java  |  11 +-
 .../exec/physical/impl/project/Projector.java      |   2 +-
 .../physical/impl/project/ProjectorTemplate.java   |  10 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |   3 +-
 .../drill/exec/record/RecordBatchLoader.java       |   4 +-
 .../apache/drill/exec/record/SchemaBuilder.java    |   2 +-
 .../exec/record/selection/SelectionVector2.java    |  36 +++-
 .../apache/drill/exec/store/JSONRecordReader.java  |   3 +-
 .../exec/compile/TestClassTransformation.java      |   2 +-
 .../org/apache/drill/exec/expr/ExpressionTest.java |   2 +-
 .../drill/exec/physical/impl/SimpleRootExec.java   |   4 +
 .../physical/impl/filter/TestSimpleFilter.java     |  58 ++++++
 .../record/ExpressionTreeMaterializerTest.java     |   2 +-
 .../drill/exec/store/JSONRecordReaderTest.java     |   3 +-
 .../java-exec/src/test/resources/filter/test1.json |  34 ++++
 35 files changed, 530 insertions(+), 214 deletions(-)

commit 57de7ed6b693b25b4c9a0c0580fa751be0535802
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jul 16 11:00:14 2013 -0700

    Pom version cleaning and updates.

 sandbox/prototype/pom.xml | 37 +++++++++++++++++++++++++++++++------
 1 file changed, 31 insertions(+), 6 deletions(-)

commit 3d41be41d6a1c9dab7256a1044370348848a1ec3
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jul 16 10:45:25 2013 -0700

    Working Project merge build

 .../prototype/common/src/main/protobuf/Types.proto |   1 +
 sandbox/prototype/exec/java-exec/pom.xml           |  30 -
 .../ValueVectors/templates/FixedValueVectors.java  |  31 +
 .../templates/NullableValueVectors.java            |  28 +
 .../templates/RepeatedValueVectors.java            |  38 +-
 .../codegen/ValueVectors/templates/TypeHelper.java |   6 +-
 .../templates/VariableLengthVectors.java           |  29 +
 .../apache/drill/exec/expr/EvaluationVisitor.java  |   5 +-
 .../drill/exec/expr/ValueVectorReadExpression.java |   1 -
 .../exec/expr/ValueVectorWriteExpression.java      |   1 -
 .../apache/drill/exec/expr/fn/FunctionHolder.java  |  15 +-
 .../exec/physical/config/MockRecordReader.java     |   6 +-
 .../drill/exec/physical/config/MockScanPOP.java    |   2 +-
 .../exec/physical/impl/FilterRecordBatch.java      |  30 +-
 .../impl/FilteringRecordBatchTransformer.java      |   6 +-
 .../drill/exec/physical/impl/OutputMutator.java    |  14 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  84 +-
 .../drill/exec/physical/impl/VectorHolder.java     |  12 +-
 .../drill/exec/physical/impl/WireRecordBatch.java  |  19 +-
 .../physical/impl/filter/EvaluationPredicate.java  |   2 +-
 .../exec/physical/impl/filter/ExampleFilter.java   |  10 +-
 .../exec/physical/impl/filter/FilterTemplate.java  |   2 +-
 .../physical/impl/project/ProjectRecordBatch.java  |  43 +-
 .../exec/physical/impl/project/Projector.java      |   3 +-
 .../physical/impl/project/ProjectorTemplate.java   |  11 +-
 .../physical/impl/project/TransferPairing.java     |  35 -
 .../drill/exec/record/MaterializedField.java       |   5 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |   8 +-
 .../drill/exec/record/RecordBatchLoader.java       |  32 +-
 .../org/apache/drill/exec/record/TransferPair.java |   8 +
 .../apache/drill/exec/record/WritableBatch.java    |   8 +-
 .../{vector => selection}/SelectionVector2.java    |   2 +-
 .../{vector => selection}/SelectionVector4.java    |   2 +-
 .../apache/drill/exec/record/vector/BitUtil.java   | 108 ---
 .../apache/drill/exec/record/vector/BufBitSet.java | 847 ---------------------
 .../exec/record/vector/NullValueException.java     |   9 -
 .../drill/exec/record/vector/NullableFixed8.java   |  43 --
 .../drill/exec/record/vector/SelectionVector.java  |  49 --
 .../apache/drill/exec/store/JSONRecordReader.java  |  19 +-
 .../apache/drill/exec/vector/AllocationHelper.java |  15 +
 .../apache/drill/exec/vector/BaseValueVector.java  |   2 -
 .../org/apache/drill/exec/vector/BitVector.java    |  27 +
 .../org/apache/drill/exec/vector/ValueVector.java  |   5 +-
 .../org/apache/drill/exec/expr/ExpressionTest.java |  11 +-
 .../drill/exec/physical/impl/SimpleRootExec.java   |   4 +-
 .../exec/physical/impl/TestSimpleFragmentRun.java  |  58 +-
 .../impl/project/TestSimpleProjection.java         |  17 +-
 .../drill/exec/record/vector/TestOpenBitSet.java   | 361 ---------
 .../drill/exec/record/vector/TestValueVector.java  |  55 +-
 .../drill/exec/store/JSONRecordReaderTest.java     |  41 +-
 50 files changed, 394 insertions(+), 1806 deletions(-)

commit 80b1d24f427f23feddd9c93ef0130c4657569f7e
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Jul 9 16:31:25 2013 -0700

    Working project operator.  Update to ASM 4.1

 sandbox/prototype/common/pom.xml                   |   7 +
 sandbox/prototype/exec/java-exec/pom.xml           |   8 +-
 .../drill/exec/compile/ClassTransformer.java       | 224 +++++++++++++++------
 .../drill/exec/compile/JaninoClassCompiler.java    |   7 +-
 .../exec/compile/TemplateClassDefinition.java      |  23 ++-
 .../org/apache/drill/exec/expr/CodeGenerator.java  |  32 +--
 .../org/apache/drill/exec/expr/DrillBatchFunc.java |  10 +
 .../apache/drill/exec/expr/EvaluationVisitor.java  |  76 ++++---
 .../exec/expr/ExpressionTreeMaterializer.java      |   2 +-
 .../drill/exec/expr/fn/FunctionConverter.java      |   9 +-
 .../apache/drill/exec/expr/fn/FunctionHolder.java  |  32 ++-
 .../drill/exec/expr/fn/impl/MathFunctions.java     |   4 +-
 .../drill/exec/expr/holders/BooleanHolder.java     |  10 +
 .../apache/drill/exec/expr/holders/IntHolder.java  |  10 +
 .../apache/drill/exec/expr/holders/LongHolder.java |  10 +
 .../exec/expr/holders/NullableBooleanHolder.java   |  11 +
 .../drill/exec/expr/holders/NullableIntHolder.java |  11 +
 .../exec/expr/holders/NullableLongHolder.java      |  11 +
 .../expr/holders/ValueHolderImplmenetations.java   |  44 ----
 .../org/apache/drill/exec/ops/FragmentContext.java |   9 +-
 .../exec/physical/impl/FilterRecordBatch.java      |   4 +-
 .../drill/exec/physical/impl/ImplCreator.java      |   9 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |   2 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |   7 +-
 .../drill/exec/physical/impl/WireRecordBatch.java  |   2 +-
 .../exec/physical/impl/filter/ExampleFilter.java   |   2 +-
 .../exec/physical/impl/filter/FilterTemplate.java  |  48 +++++
 .../SelectionVectorPopulationExpression.java       |  39 ++++
 .../physical/impl/project/ProjectBatchCreator.java |  23 +++
 .../physical/impl/project/ProjectEvaluator.java    |   2 +-
 .../physical/impl/project/ProjectRecordBatch.java  |  40 ++--
 .../exec/physical/impl/project/Projector.java      |   8 +-
 .../physical/impl/project/ProjectorTemplate.java   |  38 +---
 .../org/apache/drill/exec/record/RecordBatch.java  |   4 +-
 .../apache/drill/exec/record/SchemaBuilder.java    |   3 +-
 .../drill/exec/record/vector/NullableFixed8.java   |   7 +
 .../drill/exec/record/vector/SelectionVector2.java |   3 +
 .../exec/compile/TestClassTransformation.java      |  13 +-
 .../org/apache/drill/exec/expr/ExpressionTest.java |   7 +-
 .../drill/exec/physical/impl/SimpleRootExec.java   |  40 ++++
 .../impl/project/TestSimpleProjection.java         |  69 +++++++
 .../record/ExpressionTreeMaterializerTest.java     |   8 +-
 .../exec/test/generated/TestGeneratedClass.java    |  15 ++
 .../src/test/resources/project/test1.json          |  37 ++++
 sandbox/prototype/pom.xml                          |  17 ++
 45 files changed, 750 insertions(+), 247 deletions(-)

commit ce0da88d2df38d079a11d2b269fad9e964e1c14a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Jun 24 08:06:43 2013 -0700

    Types transition

 sandbox/prototype/common/pom.xml                   | 216 ++---
 .../drill/common/expression/parser/ExprParser.g    |  64 +-
 .../org/apache/drill/common/expression/Arg.java    |  44 +-
 .../drill/common/expression/ArgumentValidator.java |   2 +-
 .../common/expression/ArgumentValidators.java      |  62 +-
 .../common/expression/BasicArgumentValidator.java  |   8 +-
 .../drill/common/expression/ErrorCollector.java    |  18 +-
 .../common/expression/ErrorCollectorImpl.java      |  40 +-
 .../common/expression/ExpressionPosition.java      |  27 +
 .../common/expression/ExpressionStringBuilder.java | 102 +++
 .../common/expression/ExpressionValidator.java     |  86 ++
 .../drill/common/expression/FieldReference.java    |  18 +-
 .../drill/common/expression/FunctionBase.java      |  94 ---
 .../drill/common/expression/FunctionCall.java      |  55 +-
 .../common/expression/FunctionDefinition.java      |   8 +-
 .../drill/common/expression/FunctionRegistry.java  |  13 +-
 .../drill/common/expression/IfExpression.java      |  65 +-
 .../drill/common/expression/LogicalExpression.java |  98 +--
 .../common/expression/LogicalExpressionBase.java   |  56 +-
 .../common/expression/OutputTypeDeterminer.java    |  34 +-
 .../drill/common/expression/PathSegment.java       |  26 +
 .../apache/drill/common/expression/SchemaPath.java | 176 ++--
 .../drill/common/expression/ValueExpressions.java  | 320 ++++----
 .../common/expression/fn/BooleanFunctions.java     |   6 +-
 .../drill/common/expression/fn/MathFunctions.java  |  10 +-
 .../common/expression/fn/StringFunctions.java      |   7 +-
 .../drill/common/expression/fn/UnaryFunctions.java |   6 +-
 .../drill/common/expression/types/AtomType.java    |  67 ++
 .../drill/common/expression/types/DataType.java    |   2 +-
 .../expression/visitors/AbstractExprVisitor.java   |  56 ++
 .../expression/visitors/AggregateChecker.java      |  25 +-
 .../expression/visitors/ConstantChecker.java       |  21 +-
 .../common/expression/visitors/ExprVisitor.java    |  18 +-
 .../expression/visitors/SimpleExprVisitor.java     |  56 ++
 .../java/org/apache/drill/common/types/Types.java  | 134 ++++
 .../prototype/common/src/main/protobuf/Types.proto |  64 ++
 sandbox/prototype/exec/java-exec/pom.xml           | 360 +++++----
 .../java/org/apache/drill/exec/ExecConstants.java  |   1 +
 .../drill/exec/compile/ClassTransformer.java       |   1 +
 .../apache/drill/exec/compile/CodeModelTools.java  |  31 +
 .../org/apache/drill/exec/expr/CodeGenerator.java  | 201 +++++
 .../org/apache/drill/exec/expr/DrillAggrFunc.java  |   9 +
 .../java/org/apache/drill/exec/expr/DrillFunc.java |   9 +
 .../apache/drill/exec/expr/EvaluationVisitor.java  | 201 +++++
 .../exec/expr/ExpressionTreeMaterializer.java      | 128 +++
 .../drill/exec/expr/SingleClassStringWriter.java   |  40 +
 .../drill/exec/expr/ValueVectorReadExpression.java |  41 +
 .../exec/expr/ValueVectorWriteExpression.java      |  45 ++
 .../exec/expr/annotations/FunctionTemplate.java    |  25 +
 .../apache/drill/exec/expr/annotations/Output.java |  18 +
 .../apache/drill/exec/expr/annotations/Param.java  |  18 +
 .../drill/exec/expr/annotations/WorkSpace.java     |  14 +
 .../drill/exec/expr/fn/FunctionConverter.java      | 186 +++++
 .../apache/drill/exec/expr/fn/FunctionHolder.java  | 158 ++++
 .../expr/fn/FunctionImplementationRegistry.java    |  43 +
 .../drill/exec/expr/fn/MethodGrabbingVisitor.java  |  52 ++
 .../drill/exec/expr/fn/ModifiedUnparseVisitor.java | 891 +++++++++++++++++++++
 .../drill/exec/expr/fn/impl/MathFunctions.java     |  48 ++
 .../drill/exec/expr/holders/ValueHolder.java       |   4 +
 .../expr/holders/ValueHolderImplmenetations.java   |  44 +
 .../drill/exec/expr/holders/VarBinaryHolder.java   |  12 +
 .../org/apache/drill/exec/ops/FragmentContext.java |  26 +-
 .../org/apache/drill/exec/opt/BasicOptimizer.java  |  28 +-
 .../apache/drill/exec/physical/RecordField.java    |   8 +-
 .../exec/physical/config/MockRecordReader.java     |  19 +-
 .../drill/exec/physical/config/MockScanPOP.java    |   8 +-
 .../exec/physical/impl/FilterRecordBatch.java      |  34 +
 .../drill/exec/physical/impl/OutputMutator.java    |   9 +
 .../apache/drill/exec/physical/impl/ScanBatch.java |  72 +-
 .../drill/exec/physical/impl/VectorHolder.java     |  39 +
 .../drill/exec/physical/impl/WireRecordBatch.java  |  32 +-
 .../physical/impl/filter/EvalSetupException.java   |   5 +
 .../physical/impl/filter/EvaluationPredicate.java  |  13 +
 .../exec/physical/impl/filter/ExampleFilter.java   | 113 +++
 .../physical/impl/project/ProjectEvaluator.java    |  12 +
 .../physical/impl/project/ProjectRecordBatch.java  | 218 +++++
 .../exec/physical/impl/project/Projector.java      |  20 +
 .../physical/impl/project/ProjectorTemplate.java   | 101 +++
 .../physical/impl/project/TransferPairing.java     |  35 +
 .../drill/exec/planner/PhysicalPlanReader.java     |   2 +-
 .../org/apache/drill/exec/record/BatchSchema.java  |  36 +-
 .../exec/record/ExpressionTreeMaterializer.java    | 138 ----
 .../apache/drill/exec/record/MajorTypeSerDe.java   |   6 +-
 .../drill/exec/record/MaterializedField.java       |  58 +-
 .../apache/drill/exec/record/NullExpression.java   |  32 +
 .../org/apache/drill/exec/record/RecordBatch.java  |  67 +-
 .../drill/exec/record/RecordBatchLoader.java       |  84 +-
 .../apache/drill/exec/record/SchemaBuilder.java    |  75 +-
 .../apache/drill/exec/record/WritableBatch.java    |  43 +-
 .../drill/exec/record/vector/NullableFixed8.java   |  36 +
 .../drill/exec/record/vector/SelectionVector.java  |   8 +
 .../drill/exec/record/vector/SelectionVector2.java |  46 ++
 .../drill/exec/record/vector/SelectionVector4.java |  41 +
 .../java/org/apache/drill/exec/schema/Field.java   |  31 +-
 .../org/apache/drill/exec/schema/ListSchema.java   |  17 +-
 .../org/apache/drill/exec/schema/NamedField.java   |  19 +-
 .../org/apache/drill/exec/schema/OrderedField.java |   9 +-
 .../exec/schema/json/jackson/JacksonHelper.java    |  26 +-
 .../apache/drill/exec/store/JSONRecordReader.java  |  84 +-
 .../drill/exec/work/batch/BitComHandlerImpl.java   |   3 +-
 .../exec/work/foreman/RunningFragmentManager.java  |   3 +-
 .../exec/work/fragment/RemoteFragmentHandler.java  |   3 +-
 .../java-exec/src/main/protobuf/SchemaDef.proto    |  63 +-
 .../java-exec/src/main/resources/drill-module.conf |  13 +-
 .../test/java/org/apache/drill/exec/SortTest.java  |  61 ++
 .../org/apache/drill/exec/expr/ExpressionTest.java | 108 +++
 .../drill/exec/physical/impl/PerformanceTests.java |  32 +
 .../physical/impl/TestExecutionAbstractions.java   | 226 ++++++
 .../exec/physical/impl/TestSimpleFragmentRun.java  |  51 +-
 .../record/ExpressionTreeMaterializerTest.java     | 297 ++++---
 .../drill/exec/store/JSONRecordReaderTest.java     | 469 +++++------
 .../java/org/apache/drill/exec/ref/RunOutcome.java |   1 +
 .../drill/exec/ref/eval/BasicEvaluatorFactory.java |  11 +-
 .../apache/drill/exec/ref/eval/IfEvaluator.java    |  10 +-
 .../exec/ref/eval/SimpleEvaluationVisitor.java     |  24 +-
 .../drill/exec/ref/eval/fn/MathEvaluators.java     |   5 +-
 .../exec/ref/rops/CollapsingAggregateROP.java      |   4 +-
 .../apache/drill/exec/ref/rops/ConstantROP.java    |   3 -
 .../org/apache/drill/exec/ref/rops/FlattenROP.java |   7 +-
 .../apache/drill/exec/ref/rops/WindowFrameROP.java |   5 +-
 .../drill/exec/ref/values/BaseArrayValue.java      |  21 +-
 .../apache/drill/exec/ref/values/BaseMapValue.java |   9 +-
 .../apache/drill/exec/ref/values/DataValue.java    |   4 +-
 .../apache/drill/exec/ref/values/NumericValue.java |  17 +-
 .../apache/drill/exec/ref/values/ScalarValues.java |  66 +-
 .../drill/exec/ref/values/SimpleArrayValue.java    |   4 +-
 .../drill/exec/ref/values/SimpleMapValue.java      |   5 +-
 .../apache/drill/exec/ref/values/ValueReader.java  |  14 +-
 .../apache/drill/exec/ref/values/ValueUtils.java   |  17 +-
 .../org/apache/drill/exec/ref/RunSimplePlan.java   |  14 +-
 .../java/org/apache/drill/exec/ref/TestUtils.java  |   3 +-
 .../exec/ref/rops/CollapsingAggregateTest.java     |   5 +-
 .../drill/exec/ref/rops/ConstantROPTest.java       |   5 +-
 .../apache/drill/exec/ref/rops/OrderROPTest.java   |   5 +-
 .../drill/exec/ref/rops/WindowFrameROPTest.java    |  12 +-
 sandbox/prototype/pom.xml                          | 381 +++++----
 136 files changed, 6212 insertions(+), 2103 deletions(-)

commit e68bba25a683cb9290322f7974b0743e8167b6bc
Author: Timothy Chen <tnachen@gmail.com>
Date:   Wed Mar 13 00:15:04 2013 -0700

    Initial argument validation implementation

 .../org/apache/drill/common/expression/Arg.java    |   6 +-
 .../drill/common/expression/ArgumentValidator.java |   2 +-
 .../common/expression/ArgumentValidators.java      |  22 ++--
 .../common/expression/BasicArgumentValidator.java  |   6 +-
 .../drill/common/expression/ErrorCollector.java    |  30 +++--
 .../common/expression/ErrorCollectorImpl.java      |  83 +++++++++++++
 .../expression/ExpressionValidationError.java      |   9 ++
 .../drill/common/expression/FieldReference.java    |  22 +++-
 .../drill/common/expression/FunctionCall.java      |   5 +
 .../common/expression/FunctionDefinition.java      |   4 +
 .../drill/common/expression/IfExpression.java      |  36 ++++--
 .../drill/common/expression/LogicalExpression.java | 103 ++++++++-------
 .../common/expression/LogicalExpressionBase.java   |  45 +++----
 .../apache/drill/common/expression/SchemaPath.java |  15 ++-
 .../drill/common/expression/ValueExpressions.java  |  69 ++++++++---
 .../drill/common/expression/types/AtomType.java    |  67 ----------
 .../exec/record/ExpressionTreeMaterializer.java    | 138 +++++++++++++++++++++
 .../drill/exec/record/MaterializeVisitor.java      |   4 +
 .../drill/exec/record/MaterializedField.java       |  11 ++
 .../record/ExpressionTreeMaterializerTest.java     | 110 ++++++++++++++++
 20 files changed, 584 insertions(+), 203 deletions(-)

commit c941874d73f1d387c68daa40d6089e3068cd0073
Merge: 9ca9eb9b3 5052b64d9
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Jul 15 13:17:54 2013 -0700

    Merge commit '5052b64d9953857575f8f40995b8da05160e5457' into execwork

commit 9ca9eb9b3d88e86e28d1b688d9cd943e6a7f08df
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Jul 15 10:50:07 2013 -0700

    Separate allocate and load methods.
    rename setRecordCount to setValueCount
    add setGroupAndValueCount to RepeatedVectors.
    add a number of marker/cross-inheritance interfaces.

 .../ValueVectors/templates/FixedValueVectors.java  | 118 +++++----
 .../templates/NullableValueVectors.java            | 220 ++++++++++++-----
 .../templates/RepeatedValueVectors.java            | 273 +++++++++++++++------
 .../templates/VariableLengthVectors.java           | 177 ++++++++-----
 .../exec/physical/config/MockRecordReader.java     |  37 ++-
 .../drill/exec/record/MaterializedField.java       |  16 ++
 .../drill/exec/record/RecordBatchLoader.java       |   7 +-
 .../apache/drill/exec/record/WritableBatch.java    |   3 +-
 .../apache/drill/exec/store/JSONRecordReader.java  |   4 +-
 .../org/apache/drill/exec/store/VectorHolder.java  |  21 +-
 .../drill/exec/vector/BaseDataValueVector.java     |  47 ++++
 .../apache/drill/exec/vector/BaseValueVector.java  |  38 +++
 .../org/apache/drill/exec/vector/BitVector.java    | 112 ++++++---
 .../org/apache/drill/exec/vector/ByteHolder.java   |  12 +
 .../apache/drill/exec/vector/FixedWidthVector.java |  23 ++
 .../drill/exec/vector/NonRepeatedMutator.java      |   7 +
 .../exec/vector/RepeatedFixedWidthVector.java      |  22 ++
 .../exec/vector/RepeatedVariableWidthVector.java   |  24 ++
 .../org/apache/drill/exec/vector/ValueVector.java  | 179 +++++---------
 .../drill/exec/vector/VariableWidthVector.java     |  29 +++
 .../apache/drill/exec/work/foreman/Foreman.java    |   5 +-
 .../exec/physical/impl/TestSimpleFragmentRun.java  |   2 +-
 .../drill/exec/record/vector/TestValueVector.java  |  81 +++---
 .../drill/exec/store/JSONRecordReaderTest.java     |   2 +-
 24 files changed, 995 insertions(+), 464 deletions(-)

commit 36793bb2f22cd427c8b70d2f5dfe4a4d8a3a6894
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Jul 13 21:28:12 2013 -0700

    Updated value vectors inheritance model.
    Moved Mutables to separate Mutator subclasses.
    Broke VVs into separate files rather than one large class.

 sandbox/prototype/exec/java-exec/pom.xml           |   2 +-
 .../ValueVectors/templates/FixedValueVectors.java  | 163 +++++
 .../templates/NullableValueVectors.java            | 151 ++++
 .../templates/RepeatedValueVectors.java            | 158 +++++
 .../codegen/ValueVectors/templates/TypeHelper.java |  28 +-
 .../ValueVectors/templates/ValueVector.java        | 768 ---------------------
 .../templates/VariableLengthVectors.java           | 152 ++++
 .../exec/physical/config/MockRecordReader.java     |  17 +-
 .../exec/physical/config/MockScanBatchCreator.java |   3 -
 .../drill/exec/physical/config/MockScanPOP.java    |   2 +-
 .../exec/physical/impl/FilterRecordBatch.java      |   4 +-
 .../drill/exec/physical/impl/OutputMutator.java    |   5 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  24 +-
 .../drill/exec/physical/impl/WireRecordBatch.java  |   7 +-
 .../org/apache/drill/exec/record/BatchSchema.java  |   2 -
 .../org/apache/drill/exec/record/RecordBatch.java  |   4 +-
 .../drill/exec/record/RecordBatchLoader.java       |  22 +-
 .../apache/drill/exec/record/WritableBatch.java    |  10 +-
 .../drill/exec/record/vector/SelectionVector.java  |  14 +-
 .../apache/drill/exec/store/JSONRecordReader.java  |  87 ++-
 .../org/apache/drill/exec/store/VectorHolder.java  |  11 +-
 .../org/apache/drill/exec/vector/BitVector.java    | 123 ++++
 .../org/apache/drill/exec/vector/ValueVector.java  | 192 ++++++
 .../exec/physical/impl/TestSimpleFragmentRun.java  |   6 +-
 .../drill/exec/record/vector/TestValueVector.java  | 201 ++++--
 .../drill/exec/store/JSONRecordReaderTest.java     |  40 +-
 26 files changed, 1212 insertions(+), 984 deletions(-)

commit 7075cca1f1be45b876ef846762f13d0780627c3a
Author: Ben Becker <benjamin.becker@gmail.com>
Date:   Tue Jun 18 17:36:11 2013 -0700

    Create new generated value vectors utilizing fmpp.  Includes:
    - First pass; integrate build system and some cursory implementations
    - starting to split common logic into base class
    - implement most of varlen value vector functionality, minor cleanup of tdd tags
    - added nullable derived class
    - Merge changes from JA, minor format cleanup.
    - minor fix and cleanup
    - added bit vector, removed widthInBits which also allowed removal of FixedBase ctor
    - apply TC's fix for resetAllocation()
    - added repeated value vectors
    - Hooked up templated ValueVectors to codebase.  Removed old ValueVector classes.  Cleanup.
    - fix repeated get() and add()
    - added some value vector tests.  fixed bugs in VV and some call sites.  generated TypeHelper from FMPP template.  removed unused VV methods
    - made base immutable, some debugging
    - split mutable/immutable basic VV types. minor refactoring
    - fix several allocation bugs
    - fix various bugs, only JSONRecordReader test is failing
    - fix nullable bit value vector
    - make bit vectors use ints to represent the bit value
    - remove superfluous logging
    - fix value vector getters and setter
    - comments and cleanup
    - temp disable repeated map JSONReader test
    - formatting
    - whitespace cleanups

 sandbox/prototype/exec/java-exec/pom.xml           |  20 +
 .../src/main/codegen/ValueVectors/config.fmpp      |   3 +
 .../codegen/ValueVectors/data/ValueVectorTypes.tdd | 106 +++
 .../codegen/ValueVectors/templates/TypeHelper.java | 119 ++++
 .../ValueVectors/templates/ValueVector.java        | 768 +++++++++++++++++++++
 .../exec/physical/config/MockRecordReader.java     |  15 +-
 .../exec/physical/impl/FilterRecordBatch.java      |   2 +-
 .../drill/exec/physical/impl/OutputMutator.java    |   2 +-
 .../apache/drill/exec/physical/impl/ScanBatch.java |  16 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |   2 +-
 .../exec/physical/impl/SingleSenderCreator.java    |   2 +-
 .../drill/exec/physical/impl/WireRecordBatch.java  |   4 +-
 .../drill/exec/record/MaterializedField.java       |   5 -
 .../org/apache/drill/exec/record/RecordBatch.java  |   2 +-
 .../drill/exec/record/RecordBatchLoader.java       |  22 +-
 .../apache/drill/exec/record/WritableBatch.java    |   9 +-
 .../record/vector/AbstractFixedValueVector.java    |  77 ---
 .../apache/drill/exec/record/vector/AnyVector.java |  30 -
 .../drill/exec/record/vector/BaseValueVector.java  | 157 -----
 .../org/apache/drill/exec/record/vector/Bit.java   | 168 -----
 .../apache/drill/exec/record/vector/Fixed1.java    |  43 --
 .../apache/drill/exec/record/vector/Fixed12.java   |  35 -
 .../apache/drill/exec/record/vector/Fixed16.java   |  37 -
 .../apache/drill/exec/record/vector/Fixed2.java    |  53 --
 .../apache/drill/exec/record/vector/Fixed4.java    |  59 --
 .../apache/drill/exec/record/vector/Fixed8.java    |  58 --
 .../apache/drill/exec/record/vector/FixedLen.java  |  45 --
 .../exec/record/vector/NullValueException.java     |   9 +
 .../drill/exec/record/vector/NullableBit.java      |  20 -
 .../drill/exec/record/vector/NullableFixed4.java   |  44 --
 .../exec/record/vector/NullableValueVector.java    | 108 ---
 .../drill/exec/record/vector/NullableVarLen4.java  |  21 -
 .../apache/drill/exec/record/vector/RepeatMap.java |  57 --
 .../drill/exec/record/vector/SelectionVector.java  |   2 +-
 .../drill/exec/record/vector/TypeHelper.java       | 259 -------
 .../drill/exec/record/vector/ValueVector.java      | 118 ----
 .../apache/drill/exec/record/vector/VarLen1.java   |  36 -
 .../apache/drill/exec/record/vector/VarLen2.java   |  36 -
 .../apache/drill/exec/record/vector/VarLen4.java   |  48 --
 .../drill/exec/record/vector/VariableVector.java   | 102 ---
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |   2 +-
 .../apache/drill/exec/store/JSONRecordReader.java  |  30 +-
 .../org/apache/drill/exec/store/VectorHolder.java  |   6 +-
 .../exec/work/AbstractFragmentRunnerListener.java  |   3 +-
 .../org/apache/drill/exec/work/FragmentRunner.java |   3 +-
 .../exec/physical/impl/TestSimpleFragmentRun.java  |  90 ++-
 .../drill/exec/record/vector/TestValueVector.java  | 252 +++++++
 .../drill/exec/store/JSONRecordReaderTest.java     |  36 +-
 48 files changed, 1400 insertions(+), 1741 deletions(-)

commit 5052b64d9953857575f8f40995b8da05160e5457
Author: Ted Dunning <tdunning@apache.org>
Date:   Thu Jul 11 19:35:13 2013 -0700

    DRILL-148 - Fix problems due to bit rot.  Mahout 0.8 has migrated a bit from where it started.

 .../org/apache/drill/synth/ChineseRestaurant.java  | 118 +++++++++++++++++++++
 .../main/java/org/apache/drill/synth/LongTail.java |   9 +-
 2 files changed, 121 insertions(+), 6 deletions(-)

commit 5a5d07f69c17ed4c0f63d17f27cd652830a5d03e
Merge: 1be6bd489 97eb07ac8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed Jun 19 16:30:02 2013 -0700

    Merge branch 'master' into execwork.  Fix conflicts.
    
    Conflicts:
            sandbox/prototype/common/src/test/resources/logback.xml
            sandbox/prototype/pom.xml

commit 1be6bd489827aae45155e45bc23ee7179d140897
Author: Jason Altekruse <altekrusejason@gmial.com>
Date:   Thu Jun 13 16:39:51 2013 -0700

    Added Visitor for logical plan graph and accompanying accept methods in each of the LogicalOperator classes. Created basic optimizer for logical to physical plan coversion.
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .gitignore                                         |   1 +
 .../java/org/apache/drill/common/JSONOptions.java  |  17 ++-
 .../org/apache/drill/common/graph/GraphAlgos.java  |  20 +++-
 .../apache/drill/common/logical/LogicalPlan.java   |   8 +-
 .../common/logical/data/CollapsingAggregate.java   |  14 +++
 .../apache/drill/common/logical/data/Filter.java   |  14 +++
 .../apache/drill/common/logical/data/Flatten.java  |  14 +++
 .../org/apache/drill/common/logical/data/Join.java |  16 ++-
 .../apache/drill/common/logical/data/Limit.java    |  18 ++-
 .../drill/common/logical/data/LogicalOperator.java |  21 ++--
 .../common/logical/data/LogicalOperatorBase.java   |  25 ++--
 .../apache/drill/common/logical/data/Order.java    |  17 ++-
 .../apache/drill/common/logical/data/Project.java  |  15 +++
 .../common/logical/data/RunningAggregate.java      |  14 +++
 .../org/apache/drill/common/logical/data/Scan.java |  19 ++-
 .../apache/drill/common/logical/data/Segment.java  |  17 ++-
 .../apache/drill/common/logical/data/Sequence.java |  16 ++-
 .../apache/drill/common/logical/data/Store.java    |  18 ++-
 .../drill/common/logical/data/Transform.java       |  15 +++
 .../apache/drill/common/logical/data/Union.java    |  25 +++-
 .../drill/common/logical/data/WindowFrame.java     |  17 ++-
 .../data/visitors/AbstractLogicalVisitor.java      |  94 +++++++++++++++
 .../logical/data/visitors/LogicalVisitor.java      |  35 ++++++
 .../test/java/org/apache/drill/storage/Simple.java |   2 +-
 .../common/src/test/resources/jdbc_plan.json       |  33 ++++++
 .../org/apache/drill/exec/client/DrillClient.java  |   2 +-
 .../drill/exec/exception/OptimizerException.java   |  14 +++
 .../org/apache/drill/exec/opt/BasicOptimizer.java  | 127 +++++++++++++++++++++
 .../drill/exec/physical/base/AbstractStore.java    |   2 +-
 .../apache/drill/exec/physical/config/Screen.java  |   2 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |   5 +-
 .../drill/exec/client/DrillClientSystemTest.java   |   2 +
 .../apache/drill/exec/opt/BasicOptimizerTest.java  |  24 ++++
 .../physical/impl/TestDistributedFragmentRun.java  |  18 +++
 .../exec/physical/impl/TestSimpleFragmentRun.java  |  92 +++++++--------
 .../src/test/resources/scan_screen_logical.json    |  46 ++++++++
 .../org/apache/drill/exec/ref/RecordPointer.java   |  18 +++
 37 files changed, 752 insertions(+), 105 deletions(-)

commit 97eb07ac84a106345e169e3fbf7588896d4d99c1
Author: Jason Altekruse <jaltekruse@Administrators-MacBook-Pro-4.local>
Date:   Wed Jun 5 10:58:36 2013 -0700

    Added support for the 'constant' operator, necessary to implement the SQL values operator.
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../apache/drill/common/logical/JSONOptions.java   |   4 +
 .../apache/drill/common/logical/data/Constant.java |  44 ++++++++
 .../common/src/test/resources/logback.xml          |   6 +-
 .../apache/drill/exec/ref/rops/ConstantROP.java    | 112 +++++++++++++++++++++
 .../drill/exec/ref/rse/JSONRecordReader.java       |   2 +-
 .../drill/exec/ref/rops/ConstantROPTest.java       |  97 ++++++++++++++++++
 .../exec/ref/src/test/resources/constant.json      |   4 +
 .../exec/ref/src/test/resources/constant2.json     |  42 ++++++++
 8 files changed, 307 insertions(+), 4 deletions(-)

commit 65ffe9bd020cddb29b3aefe398928c4e36c76565
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Tue Jun 18 10:27:40 2013 -0700

    Add sqlline launcher script.
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 sandbox/prototype/sqlline | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 11a1fceeca7c3c81c42a2bf876cd8468e239e6bd
Author: Jason Altekruse <altekrusejason@gmial.com>
Date:   Mon Jun 17 09:37:17 2013 -0700

    Adding parquet repository to project root POM.xml file.
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 sandbox/prototype/pom.xml | 26 ++++++++++++++++++++++++--
 1 file changed, 24 insertions(+), 2 deletions(-)

commit 01278ae56f0ac3d16ff5e05722055fee1332cd9a
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Jun 17 09:10:15 2013 -0700

    DRILL-75 and DRILL-76

 .../org/apache/drill/common/logical/data/Scan.java |   4 +-
 .../java/org/apache/drill/exec/record/DeadBuf.java |   2 +-
 .../record/vector/AbstractFixedValueVector.java    |   8 +-
 .../drill/exec/record/vector/BaseValueVector.java  |   5 +-
 .../apache/drill/exec/record/vector/Fixed4.java    |  12 +-
 .../drill/exec/record/vector/NullableBit.java      |  20 +
 .../drill/exec/record/vector/NullableFixed4.java   |  17 +-
 .../exec/record/vector/NullableValueVector.java    |  12 +-
 .../drill/exec/record/vector/NullableVarLen4.java  |  21 +
 .../drill/exec/record/vector/TypeHelper.java       |  33 +-
 .../apache/drill/exec/record/vector/VarLen1.java   |   6 +-
 .../apache/drill/exec/record/vector/VarLen2.java   |   6 +-
 .../apache/drill/exec/record/vector/VarLen4.java   |  18 +-
 .../drill/exec/record/vector/VariableVector.java   |  33 +-
 .../apache/drill/exec/rpc/InboundRpcMessage.java   |   2 +-
 .../org/apache/drill/exec/schema/DiffSchema.java   |   1 +
 .../java/org/apache/drill/exec/schema/Field.java   |  74 +---
 .../org/apache/drill/exec/schema/IdGenerator.java  |  25 +-
 .../org/apache/drill/exec/schema/ListSchema.java   |   5 +-
 .../org/apache/drill/exec/schema/NamedField.java   |  21 +-
 .../org/apache/drill/exec/schema/OrderedField.java |  19 +-
 .../apache/drill/exec/schema/SchemaRecorder.java   | 122 ------
 .../exec/schema/json/jackson/JacksonHelper.java    |  62 +--
 .../exec/schema/json/jackson/PhysicalOperator.java |  36 --
 .../json/jackson/PhysicalOperatorIterator.java     |  31 --
 .../drill/exec/schema/json/jackson/ScanJson.java   | 203 ----------
 .../transform/ProtobufSchemaTransformer.java       | 109 ------
 .../exec/schema/transform/SchemaTransformer.java   |  30 --
 .../apache/drill/exec/server/DrillbitContext.java  |   4 +-
 .../drill/exec/store/BatchExceededException.java   |   9 +
 .../apache/drill/exec/store/JSONRecordReader.java  | 423 +++++++++++++++++++++
 .../org/apache/drill/exec/store/RecordReader.java  |   4 -
 .../org/apache/drill/exec/store/VectorHolder.java  |  59 +++
 .../drill/exec/store/JSONRecordReaderTest.java     | 290 ++++++++++++++
 .../src/test/resources/scan_json_test_1.json       |  10 +
 .../src/test/resources/scan_json_test_2.json       |  21 +
 .../src/test/resources/scan_json_test_3.json       |  18 +
 .../src/test/resources/scan_json_test_4.json       |  14 +
 .../src/test/resources/scan_json_test_5.json       |  21 +
 .../src/test/resources/scan_json_test_6.json       |  14 +
 .../exec/ref/src/test/resources/donuts.json        |   7 +-
 .../exec/ref/src/test/resources/simple_plan.json   |   1 +
 sandbox/prototype/pom.xml                          |  18 +-
 43 files changed, 1162 insertions(+), 688 deletions(-)

commit 719c8beb7d3e86e2b256950ab316e5c8526994b8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Jun 10 11:58:25 2013 -0700

    Fix bug where handlers would get prematurely removed before all streams completed.  Updated tests to validate execution of single bit multi-fragment and two bit multi-fragment queries.

 .../exec/planner/fragment/SimpleParallelizer.java  | 48 ++++++++-------
 .../exec/work/batch/AbstractFragmentCollector.java |  7 ++-
 .../drill/exec/work/batch/BatchCollector.java      |  2 +-
 .../drill/exec/work/batch/IncomingBuffers.java     | 11 +++-
 .../exec/work/foreman/RunningFragmentManager.java  |  1 +
 .../physical/impl/TestDistributedFragmentRun.java  | 40 ++++++++++++-
 .../apache/drill/exec/pop/TestFragmentChecker.java |  2 +-
 .../org/apache/drill/exec/pop/TestFragmenter.java  |  2 +-
 ...exchange.json => physical_double_exchange.json} |  0
 .../test/resources/physical_single_exchange.json   | 57 +++++++++++-------
 .../physical_single_exchange_double_entry.json     | 68 ++++++++++++++++++++++
 11 files changed, 189 insertions(+), 49 deletions(-)

commit 5c07ccde62323ad409562a2bfb70754bc55bb939
Merge: ea5211111 3a11d2917
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Jun 6 12:00:16 2013 -0700

    Merge branch 'master' into execwork
    
    Conflicts:
            sandbox/prototype/common/src/main/java/org/apache/drill/common/logical/data/Order.java
            sandbox/prototype/exec/ref/src/main/java/org/apache/drill/exec/ref/rops/OrderROP.java
            sandbox/prototype/exec/ref/src/main/java/org/apache/drill/exec/ref/rse/QueueRSE.java
            sandbox/prototype/sqlparser/src/main/java/org/apache/drill/jdbc/Driver.java
            sandbox/prototype/sqlparser/src/main/java/org/apache/drill/optiq/DrillScan.java

commit 3a11d2917d93e053939ff0f8c67f726471783dea
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Tue Jun 4 11:15:25 2013 -0700

    Upgrade to optiq-0.4.2. Add sqllline and an optiq model for the donuts schema.
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../common/src/test/resources/donuts-model.json     | 19 +++++++++++++++++++
 sandbox/prototype/sqlparser/pom.xml                 | 10 ++++++++--
 .../main/java/org/apache/drill/jdbc/DrillTable.java | 21 +++++++++++----------
 .../java/org/apache/drill/jdbc/test/JdbcTest.java   |  5 ++++-
 4 files changed, 42 insertions(+), 13 deletions(-)

commit b35ada3426a836c7f5770da102372149326b8d3a
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Sat May 18 13:32:05 2013 -0700

    As far as Optiq is concerned, each Drill table has a single field called "_MAP". The JSON output from the table is consistent with that. This let me get rid of a load of "holder" rubbish.
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../org/apache/drill/optiq/DrillFilterRel.java     |  7 +------
 .../java/org/apache/drill/optiq/DrillOptiq.java    | 24 +++++++++++-----------
 .../org/apache/drill/optiq/DrillProjectRel.java    | 21 ++-----------------
 .../main/java/org/apache/drill/optiq/DrillRel.java |  3 ---
 .../java/org/apache/drill/optiq/DrillScan.java     |  8 +-------
 .../org/apache/drill/optiq/DrillValuesRel.java     | 15 --------------
 .../org/apache/drill/optiq/EnumerableDrill.java    | 15 +++++++-------
 .../org/apache/drill/optiq/EnumerableDrillRel.java |  8 +-------
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  |  6 +++---
 9 files changed, 27 insertions(+), 80 deletions(-)

commit 6db5f17e25387a15afade3a4dc1aebfd7a3f1850
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Sat May 18 13:29:59 2013 -0700

    Add "--stdout" option to ReferenceInterpreter.main, that allows execution of plans that write to stdout (via a queue) rather than a file.
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../drill/exec/ref/ReferenceInterpreter.java       | 60 ++++++++++++++++++++--
 .../org/apache/drill/exec/ref/rse/QueueRSE.java    |  8 +--
 2 files changed, 61 insertions(+), 7 deletions(-)

commit 8af33812525421e382fb3101d3f018e294153d39
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Mon May 6 14:43:54 2013 -0700

    Upgrade to latest optiq.
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 sandbox/prototype/sqlparser/pom.xml                                 | 2 +-
 .../sqlparser/src/main/java/org/apache/drill/jdbc/DrillTable.java   | 5 +++++
 .../src/main/java/org/apache/drill/optiq/DrillPrepareImpl.java      | 6 +++---
 3 files changed, 9 insertions(+), 4 deletions(-)

commit 253a8dfe065ea8e9ba5e12e8313fdcbca774e77a
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Fri Mar 29 14:51:16 2013 -0700

    Partial implementation of SQL VALUES operator.
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 sandbox/prototype/sqlparser/pom.xml                |  2 +-
 .../main/java/org/apache/drill/jdbc/Driver.java    | 20 ++++--
 .../java/org/apache/drill/optiq/DrillOptiq.java    |  3 +
 .../org/apache/drill/optiq/DrillPrepareImpl.java   | 47 ++++++++++++++
 .../org/apache/drill/optiq/DrillValuesRel.java     | 73 ++++++++++++++++++++++
 .../org/apache/drill/optiq/DrillValuesRule.java    | 48 ++++++++++++++
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  | 10 ++-
 7 files changed, 195 insertions(+), 8 deletions(-)

commit 82d10d0f33899106348b1116d6c7d49acc5a805c
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Thu Mar 28 17:35:29 2013 -0700

    Fix issues with holder elements. All tests in JdbcTest now pass (albeit with some cheating).
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../org/apache/drill/optiq/DrillFilterRel.java     |   7 +-
 .../java/org/apache/drill/optiq/DrillOptiq.java    |  18 ++-
 .../org/apache/drill/optiq/DrillProjectRel.java    |  36 ++++-
 .../main/java/org/apache/drill/optiq/DrillRel.java |   3 +
 .../java/org/apache/drill/optiq/DrillScan.java     |   8 +-
 .../org/apache/drill/optiq/EnumerableDrill.java    | 152 +++++++++++----------
 .../org/apache/drill/optiq/EnumerableDrillRel.java |  25 ++--
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |   7 +-
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  |  59 +++++---
 9 files changed, 191 insertions(+), 124 deletions(-)

commit 8f260b085ede87fc1e8d064dc903e934300df161
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Thu Mar 28 17:31:31 2013 -0700

    Allow inline strings, as well as files, in ReferenceInterpreter.
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../main/java/org/apache/drill/exec/ref/ReferenceInterpreter.java | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 6095ca955d3e83f80769eb2b4a02438706ee3fab
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Tue Mar 12 01:16:00 2013 -0700

    Add Drill implementations of Project and Filter relational operators.
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../java/org/apache/drill/jdbc/DrillTable.java     |  5 +-
 .../org/apache/drill/optiq/DrillFilterRel.java     | 66 +++++++++++++++
 .../org/apache/drill/optiq/DrillFilterRule.java    | 52 ++++++++++++
 .../org/apache/drill/optiq/DrillImplementor.java   |  5 ++
 .../java/org/apache/drill/optiq/DrillOptiq.java    | 96 ++++++++++++++++++----
 .../org/apache/drill/optiq/DrillProjectRel.java    | 83 +++++++++++++++++++
 .../org/apache/drill/optiq/DrillProjectRule.java   | 51 ++++++++++++
 .../main/java/org/apache/drill/optiq/DrillRel.java |  5 ++
 .../java/org/apache/drill/optiq/DrillScan.java     |  2 +-
 .../org/apache/drill/optiq/EnumerableDrill.java    | 60 +++++++++-----
 .../org/apache/drill/optiq/EnumerableDrillRel.java | 62 ++++++++++----
 .../apache/drill/optiq/EnumerableDrillRule.java    | 12 +--
 .../org/apache/drill/jdbc/test/JdbcAssert.java     |  7 +-
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  | 10 +++
 14 files changed, 447 insertions(+), 69 deletions(-)

commit a30254726f21ab93cdd2ced98a774863aa07cfe0
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Fri Mar 8 15:03:06 2013 -0800

    Add a test that a SQL query generates a particular logical plan.
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../java/org/apache/drill/common/util/Hook.java    | 79 ++++++++++++++++++++++
 .../org/apache/drill/optiq/EnumerableDrillRel.java |  2 +
 .../org/apache/drill/jdbc/test/JdbcAssert.java     | 23 +++++++
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  | 11 +++
 4 files changed, 115 insertions(+)

commit 46696a74cfe422a5fc016eeb3e0b31bc9abaa4ea
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Fri Mar 8 14:22:33 2013 -0800

    Factor JDBC test infrastructure into a fluent API, JdbcAssert.
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../org/apache/drill/jdbc/test/JdbcAssert.java     | 121 +++++++++++++++++
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  | 148 ++++++++-------------
 2 files changed, 177 insertions(+), 92 deletions(-)

commit 6a0cf9c310fb0e0ed85596bf44f4ce5ebcd2871c
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Mon Mar 4 20:43:00 2013 -0800

    Use Optiq's new "model" connect-string parameter to pass in a JSON model for the DONUTS schema. It just contains one table with one column. (Now we can remove hackery in the driver doing a similar thing.)
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../java/org/apache/drill/jdbc/DrillTable.java     | 44 +++++++++++++++-----
 .../main/java/org/apache/drill/jdbc/Driver.java    | 48 +++++++---------------
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  | 38 +++++++++++++----
 3 files changed, 78 insertions(+), 52 deletions(-)

commit 7c292ddc2a3ee16f79d3c7bbe9b36afee8c4d77a
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Sun Mar 3 01:46:13 2013 -0800

    Tests that project and filter based on nested fields (upgrades to Optiq 0.2 for map and late-binding functionality).
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 sandbox/prototype/sqlparser/pom.xml                |  2 +-
 .../java/org/apache/drill/jdbc/DrillTable.java     | 12 ++--
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  | 82 ++++++++++++++++++++--
 3 files changed, 85 insertions(+), 11 deletions(-)

commit ea52111117ce924c30512628eefdc17b5071ed3c
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed May 29 13:26:35 2013 -0700

    Various test cleanups:  Rename tests so that they are picked up by Surefire. Fix breaking tests, including sql parser.  Remove old, unused classes.  Update sqlparser/pom.xml to use ${project.version} instead of specific version.  Add test-jar generation to pom for common and exec/ref

 sandbox/prototype/common/pom.xml                   | 155 ++++++++++-----------
 .../apache/drill/exec/server/BootStrapContext.java |   2 +-
 ...hysicalPlan.java => TestParsePhysicalPlan.java} |   9 +-
 ...entRun.java => TestDistributedFragmentRun.java} |   6 +-
 ...FragmentRun.java => TestSimpleFragmentRun.java} |   4 +-
 ...agmentChecker.java => TestFragmentChecker.java} |   4 +-
 .../{CheckFragmenter.java => TestFragmenter.java}  |   4 +-
 ...InjectionValue.java => TestInjectionValue.java} |   6 +-
 .../drill/exec/record/column/SimpleExec.java       |  30 ----
 .../apache/drill/exec/server/StartDrillbit.java    |  31 -----
 .../src/test/resources/physical_screen.json        |  37 +++--
 sandbox/prototype/exec/ref/pom.xml                 |  17 +++
 .../exec/ref/src/test/resources/donuts.json        |   2 +-
 sandbox/prototype/sqlparser/pom.xml                |   4 +-
 14 files changed, 137 insertions(+), 174 deletions(-)

commit 673a96d136165dfc242e598fd501f5dfba8c5edf
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu May 23 09:46:27 2013 -0700

    Fix for DRILL-65.  Simple tests for distinct and non-distinct union.  To make things simple, just treated all unions as blocking.

 .../apache/drill/common/logical/data/Union.java    | 10 +--
 .../org/apache/drill/exec/ref/ROPConverter.java    |  3 +-
 .../org/apache/drill/exec/ref/UnbackedRecord.java  | 22 ++++++
 .../org/apache/drill/exec/ref/rops/UnionROP.java   | 79 ++++++++++++++--------
 .../apache/drill/exec/ref/values/DataValue.java    |  1 +
 .../drill/exec/ref/values/SimpleMapValue.java      | 21 ++++++
 .../apache/drill/exec/ref/rops/UnionROPTest.java   | 46 +++++++++++++
 .../ref/src/test/resources/union/distinct.json     | 71 +++++++++++++++++++
 .../ref/src/test/resources/union/nondistinct.json  | 71 +++++++++++++++++++
 9 files changed, 291 insertions(+), 33 deletions(-)

commit d162e13383f4001ab5e6e4b9d27288e0dfaee22d
Author: Timothy Chen <tnachen@gmail.com>
Date:   Wed May 22 23:03:49 2013 -0700

    Fixing outer join and add test cases

 .../org/apache/drill/exec/ref/rops/JoinROP.java    | 11 +++-
 .../java/org/apache/drill/exec/ref/TestUtils.java  |  2 +-
 .../apache/drill/exec/ref/rops/JoinROPTest.java    | 12 +++-
 .../ref/src/test/resources/join/employees.json     |  4 +-
 .../ref/src/test/resources/join/full_join.json     | 74 ++++++++++++++++++++++
 .../ref/src/test/resources/join/left_join.json     | 74 ++++++++++++++++++++++
 6 files changed, 170 insertions(+), 7 deletions(-)

commit 0f8cccb3dd1f97433fcb50dd41b23be9c443d1b6
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed May 22 12:16:30 2013 -0700

    - Add queue feature to support encoding as UnbackedRecord rather than JSON encoded byte arrays.
    - Add additional tool to TestUtils to get a set of unbacked records from example logical plan
    - Fix for DRILL-61: Correcting the offset of the carryover values
    - Add test for DRILL-61 bug
    - Fix for DRILL-66: Add support for nullCollation: <first | last>
    - Add tests for DRILL-66 functionality

 .../apache/drill/common/logical/data/Order.java    | 30 ++++++---
 .../exec/ref/rops/CollapsingAggregateROP.java      | 10 ++-
 .../org/apache/drill/exec/ref/rops/OrderROP.java   | 12 ++--
 .../org/apache/drill/exec/ref/rse/QueueRSE.java    | 36 ++++++++--
 .../apache/drill/exec/ref/values/ScalarValues.java |  4 +-
 .../java/org/apache/drill/exec/ref/TestUtils.java  | 78 +++++++++++++++++-----
 .../exec/ref/rops/CollapsingAggregateTest.java     | 50 ++++++++++++++
 .../apache/drill/exec/ref/rops/OrderROPTest.java   | 60 +++++++++++++++++
 .../ref/src/test/resources/collapse/test1.json     | 71 ++++++++++++++++++++
 .../ref/src/test/resources/order/nulls-first.json  | 71 ++++++++++++++++++++
 .../ref/src/test/resources/order/nulls-last.json   | 71 ++++++++++++++++++++
 11 files changed, 450 insertions(+), 43 deletions(-)

commit 87ab0720e5d6bfb15e490fc1268f19d87a8464e8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Wed May 22 08:06:28 2013 -0700

    Switch test log back to only utilize socket

 .../exec/java-exec/src/test/resources/logback.xml  | 59 ++++++++--------------
 1 file changed, 22 insertions(+), 37 deletions(-)

commit b8db98ad7c159db3cf41a3866ff53013f87964b4
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue May 21 18:38:56 2013 -0700

    Clean up threading of client/server.  Utilize command pattern for BitCom stuff to abstract away connection failures.  Works on one bit single exchange remote query now.  Next up, two bit single exchange query.

 .../drill/common/graph/AdjacencyListBuilder.java   |   2 +-
 .../org/apache/drill/exec/cache/LocalCache.java    |   2 +
 .../org/apache/drill/exec/client/DrillClient.java  |  77 ++++++---
 .../drill/exec/coord/LocalClusterCoordinator.java  |   7 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  19 ++-
 .../org/apache/drill/exec/ops/QueryContext.java    |   4 +
 .../exec/physical/config/MockRecordReader.java     |   1 -
 .../drill/exec/physical/config/RandomReceiver.java |   5 -
 .../apache/drill/exec/physical/config/Screen.java  |   2 +-
 .../drill/exec/physical/impl/ScreenCreator.java    |  79 +++++++--
 .../exec/physical/impl/SingleSenderCreator.java    |  41 ++++-
 .../drill/exec/physical/impl/WireRecordBatch.java  |   8 +-
 .../impl/materialize/QueryWritableBatch.java       |   8 +
 .../impl/materialize/VectorRecordMaterializer.java |  11 +-
 .../drill/exec/planner/fragment/Materializer.java  |   8 +-
 .../exec/planner/fragment/SimpleParallelizer.java  |   4 +-
 .../exec/planner/fragment/StatsCollector.java      |   2 +-
 .../apache/drill/exec/record/RawFragmentBatch.java |   5 +
 .../drill/exec/rpc/AbstractHandshakeHandler.java   |   5 +-
 .../drill/exec/rpc/BaseRpcOutcomeListener.java     |  32 ++++
 .../org/apache/drill/exec/rpc/BasicClient.java     | 176 ++++++++++---------
 .../drill/exec/rpc/BasicClientWithConnection.java  |   9 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |   7 +-
 .../rpc/ChannelListenerWithCoordinationId.java     |  25 +++
 .../apache/drill/exec/rpc/CoordinationQueue.java   |  96 +++++++++--
 .../org/apache/drill/exec/rpc/DrillRpcFuture.java  |   2 -
 .../apache/drill/exec/rpc/DrillRpcFutureImpl.java  |  70 ++------
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |  88 +++++-----
 .../apache/drill/exec/rpc/RpcCheckedFuture.java    |  33 ++++
 .../drill/exec/rpc/RpcConnectionHandler.java       |  28 +++
 .../org/apache/drill/exec/rpc/RpcException.java    |  13 ++
 .../java/org/apache/drill/exec/rpc/RpcOutcome.java |  26 +++
 .../apache/drill/exec/rpc/RpcOutcomeListener.java  |   7 +-
 .../exec/rpc/ZeroCopyProtobufLengthDecoder.java    |   2 +-
 .../org/apache/drill/exec/rpc/bit/BitClient.java   |  52 +++---
 .../java/org/apache/drill/exec/rpc/bit/BitCom.java |   8 +-
 .../org/apache/drill/exec/rpc/bit/BitComImpl.java  | 129 +++-----------
 .../org/apache/drill/exec/rpc/bit/BitCommand.java  |  28 +++
 .../apache/drill/exec/rpc/bit/BitConnection.java   |  79 ++-------
 .../drill/exec/rpc/bit/BitConnectionManager.java   | 175 +++++++++++++++----
 .../org/apache/drill/exec/rpc/bit/BitServer.java   |  60 +++++--
 .../org/apache/drill/exec/rpc/bit/BitTunnel.java   | 187 +++++----------------
 .../exec/rpc/bit/ConnectionManagerRegistry.java    |  73 ++++++++
 .../drill/exec/rpc/bit/FutureBitCommand.java       |  78 +++++++++
 .../apache/drill/exec/rpc/bit/ListenerPool.java    |  15 +-
 .../drill/exec/rpc/bit/ListeningBitCommand.java    |  73 ++++++++
 .../drill/exec/rpc/user/QueryResultBatch.java      |   7 +
 .../drill/exec/rpc/user/QueryResultHandler.java    | 153 +++++++++++++++++
 .../org/apache/drill/exec/rpc/user/UserClient.java | 153 ++---------------
 .../drill/exec/rpc/user/UserResultsListener.java   |  11 +-
 .../org/apache/drill/exec/rpc/user/UserServer.java |  10 +-
 .../apache/drill/exec/server/BootStrapContext.java |   2 +-
 .../apache/drill/exec/server/RemoteServiceSet.java |   2 +
 .../apache/drill/exec/service/ServiceEngine.java   |   6 +-
 .../apache/drill/exec/work/EndpointListener.java   |   5 +-
 .../org/apache/drill/exec/work/FragmentRunner.java |  10 +-
 .../org/apache/drill/exec/work/WorkManager.java    |   7 +-
 .../exec/work/batch/AbstractFragmentCollector.java |   7 +-
 .../drill/exec/work/batch/BatchCollector.java      |   3 +-
 .../drill/exec/work/batch/BitComHandlerImpl.java   |   9 +-
 .../drill/exec/work/batch/IncomingBuffers.java     |  21 ++-
 .../drill/exec/work/batch/MergingCollector.java    |   5 +-
 .../exec/work/batch/PartitionedCollector.java      |   1 +
 .../exec/work/batch/UnlmitedRawBatchBuffer.java    |   2 +-
 .../apache/drill/exec/work/foreman/Foreman.java    |  22 ++-
 .../exec/work/foreman/RunningFragmentManager.java  |   8 +-
 .../work/fragment/IncomingFragmentHandler.java     |   2 +-
 .../exec/work/fragment/LocalFragmentHandler.java   |   4 +-
 .../exec/work/fragment/RemoteFragmentHandler.java  |   4 +-
 .../exec/physical/impl/DistributedFragmentRun.java |  17 +-
 .../org/apache/drill/exec/pop/CheckFragmenter.java |  21 +--
 .../org/apache/drill/exec/pop/FragmentChecker.java |  41 +++--
 .../org/apache/drill/exec/server/TestBitRpc.java   |  26 +--
 .../test/resources/physical_single_exchange.json   |   1 -
 74 files changed, 1498 insertions(+), 923 deletions(-)

commit e57a8d6d4ae282a79bc6e0a7354de992c391300f
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sun May 5 20:18:32 2013 -0700

    Update typing system.  Update RPC system.  Add Fragmenting Implementation.  Working single node. Distributed failing due to threading issues.

 sandbox/prototype/common/pom.xml                   |  12 +
 .../apache/drill/common/config/DrillConfig.java    |   9 +-
 .../exceptions}/ExecutionSetupException.java       |   3 +-
 .../PhysicalOperatorSetupException.java}           |  37 ++-
 .../apache/drill/common/expression/SchemaPath.java |   2 +-
 .../drill/common/expression/types/DataType.java    |  11 +
 .../physical/pop/PartitionToRandomExchange.java    |  92 -------
 .../common/physical/pop/base/PhysicalVisitor.java  |  43 ----
 .../drill/common/physical/pop/base/Store.java      |  30 ---
 .../apache/drill/common/physical/MockScanPOP.java  |  69 ------
 .../common/src/test/resources/drill-module.conf    |   1 -
 sandbox/prototype/exec/java-exec/pom.xml           |   4 +-
 .../java/org/apache/drill/exec/ByteReorder.java    |  54 ----
 .../apache/drill/exec/cache/DistributedCache.java  |  14 +-
 .../org/apache/drill/exec/cache/HazelCache.java    |  87 ++-----
 .../LocalCache.java}                               |  39 +--
 .../org/apache/drill/exec/cache/ProtoBufImpl.java  |  50 ++++
 .../org/apache/drill/exec/cache/ProtoBufWrap.java  |  69 ++++++
 ...{TemplatizedPhysicalPlan.java => ProtoMap.java} |  34 ++-
 .../drill/exec/cache/TemplatizedLogicalPlan.java   |  22 --
 .../org/apache/drill/exec/client/DrillClient.java  |  73 +++++-
 .../drill/exec/coord/ClusterCoordinator.java       |   9 +-
 .../exec/coord/DrillServiceInstanceHelper.java     |   4 +-
 .../drill/exec/coord/DrillbitEndpointSerDe.java}   |  49 ++--
 .../drill/exec/coord/LocalClusterCoordinator.java  |  95 +++++++
 .../drill/exec/coord/ZKClusterCoordinator.java     |  30 ++-
 .../drill/exec/exception/BitComException.java      |  45 ++++
 .../exec/exception/FragmentSetupException.java     |   2 +
 .../apache/drill/exec/memory/BufferAllocator.java  |   5 +-
 .../exec/metrics/SingleThreadNestedCounter.java    |  22 +-
 .../org/apache/drill/exec/ops/FragmentContext.java |  54 ++--
 .../org/apache/drill/exec/ops/QueryContext.java    |  27 +-
 .../exec/ops/exchange/ExchangeRecordBatch.java     |  22 --
 .../exec/ops/filter/SelectionVectorUpdater.java    |  80 ------
 .../apache/drill/exec/opt/IdentityOptimizer.java   |   3 +-
 .../java/org/apache/drill/exec/opt}/Optimizer.java |   4 +-
 .../drill/exec}/physical/DataValidationMode.java   |   2 +-
 .../drill/exec}/physical/EndpointAffinity.java     |   4 +-
 .../apache/drill/exec}/physical/OperatorCost.java  |   7 +-
 .../apache/drill/exec}/physical/PhysicalPlan.java  |   9 +-
 .../org/apache/drill/exec}/physical/ReadEntry.java |  14 +-
 .../apache/drill/exec}/physical/RecordField.java   |   2 +-
 .../apache/drill/exec}/physical/WriteEntry.java    |   2 +-
 .../drill/exec/physical}/base/AbstractBase.java    |  21 +-
 .../exec/physical}/base/AbstractExchange.java      |  44 +++-
 .../physical}/base/AbstractPhysicalVisitor.java    |  76 ++++--
 .../base/AbstractReceiver.java}                    |  46 ++--
 .../drill/exec/physical}/base/AbstractScan.java    |  30 ++-
 .../base/AbstractSender.java}                      |  38 +--
 .../drill/exec/physical}/base/AbstractSingle.java  |  24 +-
 .../drill/exec/physical}/base/AbstractStore.java   |   8 +-
 .../apache/drill/exec/physical}/base/Exchange.java |  53 ++--
 .../drill/exec/physical}/base/ExchangeCost.java    |  23 +-
 .../drill/exec/physical/base/FragmentLeaf.java     |  25 ++
 .../drill/exec/physical}/base/FragmentRoot.java    |   6 +-
 .../drill/exec/physical/base/HasAffinity.java}     |  20 +-
 .../base/Leaf.java}                                |   8 +-
 .../exec/physical}/base/PhysicalOperator.java      |  33 ++-
 .../exec/physical}/base/PhysicalOperatorUtil.java  |   2 +-
 .../drill/exec/physical/base/PhysicalVisitor.java  |  61 +++++
 .../apache/drill/exec/physical}/base/Receiver.java |  23 +-
 .../org/apache/drill/exec/physical}/base/Root.java |   6 +-
 .../org/apache/drill/exec/physical}/base/Scan.java |   6 +-
 .../apache/drill/exec/physical/base/Sender.java    |  44 ++++
 .../Foreman.java => physical/base/Size.java}       |  39 +--
 .../org/apache/drill/exec/physical/base/Store.java |  74 ++++++
 .../apache/drill/exec/physical/config}/Filter.java |  33 ++-
 .../exec/physical/config/HashPartitionSender.java} |  43 ++--
 .../exec/physical/config/HashToRandomExchange.java |  86 +++++++
 .../exec/physical/config}/MockRecordReader.java    |  61 ++---
 .../exec/physical/config/MockScanBatchCreator.java |  49 ++++
 .../drill/exec/physical/config/MockScanPOP.java    | 193 +++++++++++++++
 .../exec/physical/config}/MockStorageEngine.java   |   8 +-
 .../drill/exec/physical/config}/MockStorePOP.java  |  29 ++-
 .../drill/exec/physical/config/PartitionRange.java |  47 ++++
 .../drill/exec/physical/config}/Project.java       |  29 ++-
 .../drill/exec/physical/config/RandomReceiver.java |  83 +++++++
 .../drill/exec/physical/config/RangeSender.java    |  72 ++++++
 .../apache/drill/exec/physical/config}/Screen.java |  57 +++--
 .../drill/exec/physical/config/SingleSender.java   |  78 ++++++
 .../apache/drill/exec/physical/config/Sort.java    |  86 +++++++
 .../drill/exec/physical/config/UnionExchange.java  |  79 ++++++
 .../drill/exec/physical/impl/BatchCreator.java     |  31 +++
 .../impl}/FilterRecordBatch.java                   |   5 +-
 .../impl}/FilteringRecordBatchTransformer.java     |   2 +-
 .../drill/exec/physical/impl/ImplCreator.java      | 102 ++++++++
 .../exec/{ops => physical/impl}/OutputMutator.java |   4 +-
 .../drill/exec/physical/impl/PhysicalConfig.java}  |  15 +-
 .../exec/physical/impl/RandomReceiverCreator.java  |  46 ++++
 .../drill/exec/physical/impl/RootCreator.java      |  31 +++
 .../impl/RootExec.java}                            |  13 +-
 .../exec/{ops => physical/impl}/ScanBatch.java     |  41 +++-
 .../drill/exec/physical/impl/ScreenCreator.java    |  90 +++++++
 .../exec/physical/impl/SingleSenderCreator.java    |  89 +++++++
 .../drill/exec/physical/impl/WireRecordBatch.java  |  99 ++++++++
 .../impl/materialize/QueryWritableBatch.java       |  46 ++++
 .../impl/materialize/RecordMaterializer.java       |  31 +++
 .../impl/materialize/VectorRecordMaterializer.java |  52 ++++
 .../exec/planner/AbstractOpWrapperVisitor.java     |  45 ++++
 .../org/apache/drill/exec/planner/ExecPlanner.java |   8 +-
 .../drill/exec/planner/FragmentMaterializer.java   |  86 -------
 .../drill/exec/planner/FragmentStatsCollector.java | 109 ---------
 .../apache/drill/exec/planner/FragmentWrapper.java | 127 ----------
 .../drill/exec/planner/PhysicalPlanReader.java     |  63 ++++-
 .../org/apache/drill/exec/planner/ScanFinder.java  |  54 ----
 .../drill/exec/planner/SimpleExecPlanner.java      |  28 +--
 .../{FragmentNode.java => fragment/Fragment.java}  |  46 ++--
 .../planner/{ => fragment}/FragmentVisitor.java    |   5 +-
 .../MakeFragmentsVisitor.java}                     |  32 ++-
 .../{ => fragment}/MaterializedFragment.java       |   8 +-
 .../drill/exec/planner/fragment/Materializer.java  | 107 ++++++++
 .../PlanningSet.java}                              |  43 ++--
 .../planner/{ => fragment}/SimpleParallelizer.java |  96 +++++---
 .../{FragmentStats.java => fragment/Stats.java}    |  19 +-
 .../exec/planner/fragment/StatsCollector.java      | 106 ++++++++
 .../drill/exec/planner/fragment/Wrapper.java       | 186 ++++++++++++++
 .../org/apache/drill/exec/record/BatchSchema.java  | 102 +-------
 .../drill/exec/record/FragmentWritableBatch.java   |  59 +++++
 .../drill/exec/record/InvalidValueAccessor.java    |   2 +-
 .../apache/drill/exec/record/MajorTypeSerDe.java   | 116 +++++++++
 .../drill/exec/record/MaterializedField.java       | 167 +++++++++----
 .../apache/drill/exec/record/RawFragmentBatch.java |  44 ++++
 .../exec/record/RawFragmentBatchProvider.java}     |  12 +-
 .../org/apache/drill/exec/record/RecordBatch.java  |   9 +-
 .../drill/exec/record/RecordBatchLoader.java       | 143 +++++++++++
 .../apache/drill/exec/record/SchemaBuilder.java    | 127 ++++++++++
 .../apache/drill/exec/record/WritableBatch.java    | 108 ++++++++
 .../record/vector/AbstractFixedValueVector.java    |  21 +-
 .../drill/exec/record/vector/BaseValueVector.java  |  86 +++++--
 .../record/vector/{BitVector.java => Bit.java}     |  34 +--
 .../record/vector/{ByteVector.java => Fixed1.java} |  27 +-
 .../apache/drill/exec/record/vector/Fixed12.java}  |  19 +-
 .../vector/Fixed16.java}                           |  25 +-
 .../vector/{Int16Vector.java => Fixed2.java}       |  33 +--
 .../vector/{Int32Vector.java => Fixed4.java}       |  35 +--
 .../vector/{UInt16Vector.java => Fixed8.java}      |  45 ++--
 .../{NullableInt32Vector.java => FixedLen.java}    |  28 +--
 .../drill/exec/record/vector/NullableFixed4.java   |  37 +++
 .../exec/record/vector/NullableValueVector.java    |  36 ++-
 .../apache/drill/exec/record/vector/RepeatMap.java |  57 +++++
 .../drill/exec/record/vector/SelectionVector.java  |  10 +-
 .../drill/exec/record/vector/TypeHelper.java       | 250 +++++++++++++++++++
 .../drill/exec/record/vector/ValueVector.java      |  46 +++-
 .../apache/drill/exec/record/vector/VarLen1.java   |  36 +++
 .../apache/drill/exec/record/vector/VarLen2.java   |  36 +++
 .../apache/drill/exec/record/vector/VarLen4.java   |  36 +++
 .../drill/exec/record/vector/VariableVector.java   |  35 ++-
 .../drill/exec/rpc/AbstractHandshakeHandler.java   |  57 +++++
 .../main/java/org/apache/drill/exec/rpc/Acks.java  |  27 ++
 .../org/apache/drill/exec/rpc/BasicClient.java     | 137 +++++++++--
 .../drill/exec/rpc/BasicClientWithConnection.java  |  64 +++++
 .../org/apache/drill/exec/rpc/BasicServer.java     |  61 ++++-
 .../apache/drill/exec/rpc/CoordinationQueue.java   |  32 +--
 .../org/apache/drill/exec/rpc/DrillRpcFuture.java  |  78 +-----
 .../apache/drill/exec/rpc/DrillRpcFutureImpl.java  | 118 +++++++++
 .../apache/drill/exec/rpc/InboundRpcMessage.java   |  13 +-
 .../apache/drill/exec/rpc/OutboundRpcMessage.java  |  41 +++-
 .../apache/drill/exec/rpc/RemoteConnection.java    |  45 ++++
 .../java/org/apache/drill/exec/rpc/Response.java   |   8 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     | 136 +++++++----
 .../java/org/apache/drill/exec/rpc/RpcConfig.java  | 150 ++++++++++++
 .../java/org/apache/drill/exec/rpc/RpcDecoder.java |  14 +-
 .../java/org/apache/drill/exec/rpc/RpcEncoder.java |  15 +-
 .../apache/drill/exec/rpc/RpcExceptionHandler.java |  21 +-
 .../java/org/apache/drill/exec/rpc/RpcMessage.java |   9 +-
 .../RpcOutcomeListener.java}                       |  10 +-
 .../exec/rpc/ZeroCopyProtobufLengthDecoder.java    |  16 +-
 .../drill/exec/rpc/bit/AvailabilityListener.java}  |   5 +-
 .../org/apache/drill/exec/rpc/bit/BitClient.java   |  77 ++++--
 .../java/org/apache/drill/exec/rpc/bit/BitCom.java |  75 ++----
 .../exec/rpc/bit/BitComDefaultInstanceHandler.java |  51 ++++
 .../apache/drill/exec/rpc/bit/BitComHandler.java   | 136 -----------
 .../org/apache/drill/exec/rpc/bit/BitComImpl.java  | 194 ++++++++-------
 .../apache/drill/exec/rpc/bit/BitConnection.java   | 168 +++++++++++++
 .../drill/exec/rpc/bit/BitConnectionManager.java   |  80 ++++++
 .../apache/drill/exec/rpc/bit/BitRpcConfig.java    |  46 ++++
 .../org/apache/drill/exec/rpc/bit/BitServer.java   |  61 +++--
 .../org/apache/drill/exec/rpc/bit/BitTunnel.java   | 215 ++++++++++++++--
 .../apache/drill/exec/rpc/bit/ListenerPool.java    |  56 +++++
 .../drill/exec/rpc/user/QueryResultBatch.java      |  49 ++++
 .../org/apache/drill/exec/rpc/user/UserClient.java | 169 +++++++++++--
 .../drill/exec/rpc/user/UserResultsListener.java   |  41 ++++
 .../apache/drill/exec/rpc/user/UserRpcConfig.java} |  32 ++-
 .../org/apache/drill/exec/rpc/user/UserServer.java |  93 +++++--
 .../apache/drill/exec/server/BootStrapContext.java |  68 ++++++
 .../org/apache/drill/exec/server/Drillbit.java     |  65 ++---
 .../apache/drill/exec/server/DrillbitContext.java  |  58 +++--
 .../apache/drill/exec/server/RemoteServiceSet.java |  59 +++++
 .../apache/drill/exec/service/ServiceEngine.java   |  45 ++--
 .../drill/exec/store/AbstractStorageEngine.java    |   2 +-
 .../org/apache/drill/exec/store/RecordReader.java  |   7 +-
 .../org/apache/drill/exec/store/StorageEngine.java |   2 +-
 .../org/apache/drill/exec/util/AtomicState.java    |  58 +++++
 .../exec/work/AbstractFragmentRunnerListener.java  | 109 +++++++++
 .../exec/{foreman => work}/CancelableQuery.java    |   4 +-
 .../apache/drill/exec/work/EndpointListener.java   |  45 ++++
 .../FragmentRunner.java}                           |  94 +++----
 .../FragmentRunnerListener.java}                   |  16 +-
 .../exec/{foreman => work}/QueryWorkUnit.java      |  20 +-
 .../RecordOutputStream.java}                       |   6 +-
 .../exec/work/RemotingFragmentRunnerListener.java  |  46 ++++
 .../exec/{foreman => work}/ResourceRequest.java    |   2 +-
 .../RootNodeDriver.java}                           |   7 +-
 .../exec/{foreman => work}/StatusProvider.java     |   2 +-
 .../org/apache/drill/exec/work/WorkManager.java    | 168 +++++++++++++
 .../exec/work/batch/AbstractFragmentCollector.java |  84 +++++++
 .../drill/exec/work/batch/BatchCollector.java      |  32 +++
 .../drill/exec/work/batch/BitComHandler.java       |  41 ++++
 .../drill/exec/work/batch/BitComHandlerImpl.java   | 205 ++++++++++++++++
 .../drill/exec/work/batch/IncomingBuffers.java     | 108 ++++++++
 .../drill/exec/work/batch/MergingCollector.java    |  45 ++++
 .../exec/work/batch/PartitionedCollector.java      |  42 ++++
 .../drill/exec/work/batch/RawBatchBuffer.java      |  33 +++
 .../exec/work/batch/UnlmitedRawBatchBuffer.java    |  73 ++++++
 .../drill/exec/work/foreman/ErrorHelper.java       |  47 ++++
 .../apache/drill/exec/work/foreman/Foreman.java    | 272 +++++++++++++++++++++
 .../exec/work/foreman/FragmentStatusListener.java} |  15 +-
 .../exec/work/foreman/RunningFragmentManager.java  | 266 ++++++++++++++++++++
 .../drill/exec/work/foreman/TunnelManager.java     |  53 ++++
 .../work/fragment/IncomingFragmentHandler.java     |  49 ++++
 .../exec/work/fragment/LocalFragmentHandler.java   |  69 ++++++
 .../exec/work/fragment/RemoteFragmentHandler.java  | 123 ++++++++++
 .../apache/drill/exec/work/user/UserWorker.java    |  72 ++++++
 .../src/main/protobuf/Coordination.proto           |   4 +-
 .../src/main/protobuf/ExecutionProtos.proto        |  55 +++--
 .../java-exec/src/main/protobuf/GeneralRPC.proto   |   6 +-
 .../java-exec/src/main/protobuf/SchemaDef.proto    |  86 +++++--
 .../exec/java-exec/src/main/protobuf/User.proto    |  69 +++---
 .../src/main/protobuf/UserBitShared.proto          |  46 ++++
 .../org/apache/drill/exec/DrillSystemTestBase.java |   7 +
 .../drill/exec/client/DrillClientSystemTest.java   |  25 +-
 .../exec/compile/TestClassCompilationTypes.java    |   5 +-
 .../exec/physical/config}/ParsePhysicalPlan.java   |   3 +-
 .../exec/physical/impl/DistributedFragmentRun.java |  53 ++++
 .../exec/physical/impl/SimpleFragmentRun.java      | 100 ++++++++
 .../org/apache/drill/exec/pop/CheckFragmenter.java |  70 +++---
 .../apache/drill/exec/pop/CheckInjectionValue.java |  12 +-
 .../org/apache/drill/exec/pop/FragmentChecker.java |  66 +++++
 .../org/apache/drill/exec/pop/PopUnitTestBase.java |  71 ++++++
 .../apache/drill/exec/rpc/user/UserRpcTest.java    | 107 --------
 .../org/apache/drill/exec/server/TestBitRpc.java   |  84 +++++++
 .../java-exec/src/test/resources/drill-module.conf |   5 +-
 .../exec/java-exec/src/test/resources/logback.xml  |  10 +-
 .../src/test/resources/physical_screen.json        |   5 +-
 .../test/resources/physical_simpleexchange.json    |  36 ++-
 .../test/resources/physical_single_exchange.json}  |  17 +-
 .../src/test/resources/physical_test1.json         |  40 +++
 .../src/test/resources/physical_test2.json         |  34 +++
 .../exec/ref/src/test/resources/donuts.json        |   2 +-
 sandbox/prototype/pom.xml                          |   2 +-
 250 files changed, 10042 insertions(+), 2765 deletions(-)

commit f0be80dcdaf22e2bb0a428b202c43d03ed063eb6
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Apr 22 23:04:58 2013 -0700

    WIP fragmentation, physical plan, byte compiling, some vector work

 sandbox/prototype/common/pom.xml                   |   5 +-
 .../org/apache/drill/common/PlanProperties.java    |   4 +
 .../apache/drill/common/config/DrillConfig.java    |   6 +-
 .../org/apache/drill/common/defs/PartitionDef.java |  14 +-
 .../drill/common/expression/types/DataType.java    |   4 +
 .../drill/common/physical/EndpointAffinity.java    |  60 +++++
 .../{pop/ExchangePOP.java => OperatorCost.java}    |  51 +++--
 .../apache/drill/common/physical/PhysicalPlan.java |  37 +--
 .../physical/pop/{ProjectPOP.java => Filter.java}  |  39 ++--
 .../physical/pop/PartitionToRandomExchange.java    |  92 ++++++++
 .../pop/{QuickNWaySortPOP.java => Project.java}    |  33 +--
 .../apache/drill/common/physical/pop/Screen.java   |  77 +++++++
 .../physical/pop/{SortPOP.java => Sort.java}       |  31 +--
 .../pop/{POPBase.java => base/AbstractBase.java}   |  49 ++--
 .../{StorePOP.java => base/AbstractExchange.java}  |  69 +++---
 .../physical/pop/base/AbstractPhysicalVisitor.java |  80 +++++++
 .../AbstractReceiver.java}                         |  19 +-
 .../pop/{ScanPOP.java => base/AbstractScan.java}   |  33 +--
 .../common/physical/pop/base/AbstractSender.java   |  29 +++
 .../common/physical/pop/base/AbstractSingle.java   |  48 ++++
 .../common/physical/pop/base/AbstractStore.java    |  42 ++++
 .../drill/common/physical/pop/base/Exchange.java   |  69 ++++++
 .../{StitchDef.java => pop/base/ExchangeCost.java} |  41 ++--
 .../common/physical/pop/base/FragmentLeaf.java}    |   8 +-
 .../base/FragmentRoot.java}                        |   9 +-
 .../pop/{SourcePOP.java => base/HasAffinity.java}  |  10 +-
 .../drill/common/physical/pop/base/Leaf.java       |  21 ++
 .../physical/pop/{ => base}/PhysicalOperator.java  |  42 +++-
 .../physical/pop/base/PhysicalOperatorUtil.java}   |  22 +-
 .../common/physical/pop/base/PhysicalVisitor.java  |  43 ++++
 .../drill/common/physical/pop/base/Receiver.java   |  38 ++++
 .../drill/common/physical/pop/base/Root.java       |  24 ++
 .../drill/common/physical/pop/base/Scan.java       |  36 +++
 .../drill/common/physical/pop/base/Sender.java     |  29 +++
 .../drill/common/physical/pop/base/Store.java}     |  22 +-
 .../src/main/protobuf/Coordination.proto           |   8 +-
 .../apache/drill/common/physical/MockScanPOP.java  |  30 ++-
 .../apache/drill/common/physical/MockStorePOP.java |  46 ++--
 .../drill/common/physical/ParsePhysicalPlan.java   |   8 +-
 .../common/src/test/resources/drill-module.conf    |   2 +-
 .../common/src/test/resources/dsort-physical.json  |  66 ------
 .../common/src/test/resources/physical_test1.json  |  33 +++
 sandbox/prototype/exec/java-exec/pom.xml           |  35 ++-
 .../java/org/apache/drill/exec/ByteReorder.java    |  54 +++++
 .../java/org/apache/drill/exec/ExecConstants.java  |   1 +
 .../apache/drill/exec/cache/DistributedCache.java  |   8 +-
 .../org/apache/drill/exec/cache/HazelCache.java    |  15 +-
 .../org/apache/drill/exec/client/DrillClient.java  |  20 +-
 .../drill/exec/compile/ClassBodyBuilder.java       | 247 +++++++++++++++++++++
 .../apache/drill/exec/compile/ClassCompiler.java}  |  27 +--
 .../drill/exec/compile/ClassTransformer.java       | 210 ++++++++++++++++++
 .../drill/exec/compile/JDKClassCompiler.java       | 177 +++++++++++++++
 .../drill/exec/compile/JaninoClassCompiler.java    |  62 ++++++
 .../drill/exec/compile/QueryClassLoader.java       |  80 +++++++
 .../exec/compile/TemplateClassDefinition.java      |  58 +++++
 .../drill/exec/coord/ClusterCoordinator.java       |   4 +-
 .../exec/coord/DrillServiceInstanceHelper.java     |   4 +-
 .../drill/exec/coord/ZKClusterCoordinator.java     |  21 +-
 .../exception/ClassTransformationException.java    |  47 ++++
 .../exec/exception/FragmentSetupException.java}    |  34 +--
 .../apache/drill/exec/foreman/CancelableQuery.java |  22 ++
 .../drill/exec/foreman/ExecutionPlanner.java}      |   6 +-
 .../org/apache/drill/exec/foreman/Foreman.java}    |  33 ++-
 .../apache/drill/exec/foreman/QueryWorkUnit.java   |  54 +++++
 .../drill/exec/foreman/ResourceRequest.java}       |  18 +-
 .../apache/drill/exec/foreman/StatusProvider.java  |  24 ++
 .../drill/exec/{ => memory}/BufferAllocator.java   |   8 +-
 .../exec/{ => memory}/DirectBufferAllocator.java   |  17 +-
 .../exec/metrics/SingleThreadNestedCounter.java    |  55 +++++
 .../exec/ops/FilteringRecordBatchTransformer.java  |  58 +++++
 .../org/apache/drill/exec/ops/FragmentContext.java |  47 +++-
 .../apache/drill/exec/ops/FragmentConverter.java   |  30 +++
 .../org/apache/drill/exec/ops/FragmentRoot.java    |  37 +++
 .../{QueryOutcome.java => OperatorFactory.java}    |   4 +-
 .../org/apache/drill/exec/ops/QueryContext.java    |  51 +++++
 .../java/org/apache/drill/exec/ops/ScanBatch.java  |   2 +-
 .../drill/exec/ops/StreamingRecordBatch.java}      |   9 +-
 ...andomReceiver.java => ExchangeRecordBatch.java} |   6 +-
 .../drill/exec/ops/filter/FilterRecordBatch.java   | 109 +++++++++
 .../exec/ops/filter/SelectionVectorUpdater.java    |  80 +++++++
 .../org/apache/drill/exec/planner/ExecPlanner.java |   9 +-
 .../drill/exec/planner/FragmentMaterializer.java   |  86 +++++++
 .../apache/drill/exec/planner/FragmentNode.java    | 138 ++++++++++++
 .../drill/exec/planner/FragmentPlanningSet.java    |  61 +++++
 .../drill/exec/planner/FragmentRunnable.java       | 124 +++++++++++
 .../drill/exec/planner/FragmentScheduler.java}     |  24 +-
 .../apache/drill/exec/planner/FragmentStats.java   |  63 ++++++
 .../drill/exec/planner/FragmentStatsCollector.java | 109 +++++++++
 .../apache/drill/exec/planner/FragmentVisitor.java |  22 ++
 .../apache/drill/exec/planner/FragmentWrapper.java | 127 +++++++++++
 .../exec/planner/FragmentingPhysicalVisitor.java   |  71 ++++++
 .../drill/exec/planner/MaterializedFragment.java   |  69 ++++++
 .../drill/exec/planner/PhysicalPlanReader.java     |  47 ++++
 .../org/apache/drill/exec/planner/ScanFinder.java  |  54 +++++
 .../drill/exec/planner/SimpleExecPlanner.java      |  54 +++++
 .../drill/exec/planner/SimpleParallelizer.java     | 147 ++++++++++++
 .../exec/pop/receiver/NWayOrderingReceiver.java    |  52 +++++
 .../drill/exec/pop/receiver/RandomReceiver.java    |  55 +++++
 .../exec/pop/sender/HashPartitionSender.java}      |  37 ++-
 .../org/apache/drill/exec/record/BatchSchema.java  |  29 ++-
 .../drill/exec/record/MaterializedField.java       |   4 +
 .../record/vector/AbstractFixedValueVector.java    |   2 +-
 .../drill/exec/record/vector/BaseValueVector.java  |   6 +-
 .../apache/drill/exec/record/vector/BitVector.java | 104 ++++++---
 .../drill/exec/record/vector/ByteVector.java       |   2 +-
 .../drill/exec/record/vector/Int16Vector.java      |  52 +++++
 .../drill/exec/record/vector/Int32Vector.java      |   4 +-
 .../exec/record/vector/NullableInt32Vector.java    |  47 ++++
 .../exec/record/vector/NullableValueVector.java    |  18 +-
 .../drill/exec/record/vector/SelectionVector.java} |  23 +-
 .../drill/exec/record/vector/UInt16Vector.java     |  51 +++++
 .../drill/exec/record/vector/ValueVector.java      |   1 +
 .../drill/exec/record/vector/VariableVector.java   |   2 +-
 .../java/org/apache/drill/exec/rpc/bit/BitCom.java |  26 ++-
 .../apache/drill/exec/rpc/bit/BitComHandler.java   |   2 +-
 .../org/apache/drill/exec/rpc/bit/BitComImpl.java  |  24 +-
 .../apache/drill/exec/rpc/bit/SendProgress.java}   |   5 +-
 .../org/apache/drill/exec/rpc/user/UserClient.java |   4 +
 .../org/apache/drill/exec/rpc/user/UserServer.java |   2 +-
 .../org/apache/drill/exec/server/Drillbit.java     |  11 +-
 .../apache/drill/exec/server/DrillbitContext.java  |  27 ++-
 .../drill/exec/store/AbstractStorageEngine.java    |  83 +++++++
 .../org/apache/drill/exec/store/StorageEngine.java |  32 ++-
 .../drill/exec/store/StorageEngineRegistry.java    |   4 +-
 .../src/main/protobuf/ExecutionProtos.proto        |  72 ++++--
 .../java-exec/src/main/protobuf/SchemaDef.proto    |  13 +-
 .../src/test/java/GenerateExternalSortData.java    | 124 -----------
 .../exec/compile/ExampleExternalInterface.java     |  23 ++
 .../exec/compile/ExampleInternalInterface.java}    |   8 +-
 .../apache/drill/exec/compile/ExampleTemplate.java |  30 +++
 .../exec/compile/TestClassCompilationTypes.java    |  67 ++++++
 .../exec/compile/TestClassTransformation.java      |  53 +++++
 .../org/apache/drill/exec/pop/CheckFragmenter.java |  86 +++++++
 .../apache/drill/exec/pop/CheckInjectionValue.java |  61 +++++
 .../apache/drill/exec/rpc/user/RunRemoteQuery.java |  41 ++++
 .../apache/drill/exec/server/StartDrillbit.java    |   4 +-
 .../apache/drill/exec/store/MockRecordConfig.java} |  37 +--
 .../apache/drill/exec/store/MockRecordReader.java  | 108 +++++++++
 .../apache/drill/exec/store/MockStorageEngine.java |  54 +++++
 .../java-exec/src/test/resources/drill-module.conf |   7 +-
 .../src/test/resources/physical_screen.json        |  25 +++
 .../test/resources/physical_simpleexchange.json    |  41 ++++
 .../prototype/exec/java-exec/src/test/sh/runbit    |   2 +-
 sandbox/prototype/pom.xml                          |  16 +-
 144 files changed, 5239 insertions(+), 750 deletions(-)

commit a38856cce83d80791b405009ad6e71c7fe1090c1
Author: immars <immars@gmail.com>
Date:   Fri Mar 22 17:00:04 2013 +0800

    bugfix for JoinROP
    test for JoinROP
    fix for JoinROP testcase
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 .../org/apache/drill/exec/ref/rops/JoinROP.java    |  7 +-
 .../java/org/apache/drill/exec/ref/TestUtils.java  | 38 ++++++++++-
 .../apache/drill/exec/ref/rops/JoinROPTest.java    | 29 +++++++++
 .../ref/src/test/resources/join/departments.json   | 16 +++++
 .../ref/src/test/resources/join/employees.json     | 24 +++++++
 .../ref/src/test/resources/join/simple_join.json   | 74 ++++++++++++++++++++++
 6 files changed, 182 insertions(+), 6 deletions(-)

commit 92b98bc6d987a72f4ddae0cd97d87b5aa612c90d
Author: David Ribeiro Alves <davidralves@gmail.com>
Date:   Tue Apr 23 08:43:30 2013 -0700

    DRILL-55: RSERegistry correctly store built engines

 .../org/apache/drill/exec/ref/rse/RSERegistry.java |  4 ++-
 .../org/apache/drill/exec/ref/RSERegistryTest.java | 40 ++++++++++++++++++++++
 2 files changed, 43 insertions(+), 1 deletion(-)

commit 5ede21ffc77eb5effe5f2e614f93ee0f86860716
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Apr 22 23:04:27 2013 -0700

    Exploration modifications to physical plan representation, moving further away from similarities to LogicalPlan.

 .../apache/drill/common/physical/PhysicalPlan.java | 13 +---
 .../apache/drill/common/physical/ReadEntry.java    |  2 +-
 .../apache/drill/common/physical/RecordField.java  |  8 +--
 .../apache/drill/common/physical/WriteEntry.java   | 22 +++++++
 .../drill/common/physical/pop/ExchangePOP.java     |  2 -
 .../drill/common/physical/pop/FieldCombinePOP.java | 28 +++++++++
 .../common/physical/pop/FieldSubdividePOP.java     | 22 +++++++
 .../drill/common/physical/pop/ProjectPOP.java      | 53 ++++++++++++++++
 .../apache/drill/common/physical/pop/ScanPOP.java  | 28 ++-------
 .../apache/drill/common/physical/pop/SortPOP.java  | 54 ++++++++++++++++
 .../apache/drill/common/physical/pop/StorePOP.java | 19 ++++--
 .../apache/drill/common/physical/MockScanPOP.java  | 47 ++++++++++++++
 .../apache/drill/common/physical/MockStorePOP.java | 56 +++++++++++++++++
 .../common/src/test/resources/drill-module.conf    |  3 +-
 .../{dsort_logical.json => dsort-logical.json}     |  0
 .../common/src/test/resources/dsort-physical.json  | 66 ++++++++++++++++++++
 .../common/src/test/resources/dsort_physical.json  | 72 ----------------------
 17 files changed, 372 insertions(+), 123 deletions(-)

commit 0d2428fdea1d4135db129538333871ce8affa1b9
Author: David Ribeiro Alves <davidralves@gmail.com>
Date:   Fri Apr 19 18:16:47 2013 -0500

    addressed jacques comments

 .../apache/drill/common/config/DrillConfig.java    |  1 -
 .../org/apache/drill/exec/client/DrillClient.java  | 32 ++++++++++++----------
 .../org/apache/drill/exec/rpc/BasicServer.java     | 22 +++++++--------
 .../java-exec/src/main/resources/drill-module.conf |  1 -
 .../org/apache/drill/exec/DrillSystemTestBase.java | 14 ----------
 5 files changed, 28 insertions(+), 42 deletions(-)

commit 31fb6eb0124ac8801e27b32bf54ff7a34ce7d85a
Author: David Ribeiro Alves <davidralves@gmail.com>
Date:   Thu Apr 18 22:03:39 2013 -0500

    Several changes:
    - added base system test capacle of bootin a drillbit cluster
    - added a client sys test that submits a plan
    - corrected a bug in ZKClusterCoordinator where endpoints would not get fetched before a cacheChanged event
    - corrected a bug in HazelCache where it wouldn't support fetching an existing HazelCastInstance
    - added a mini zookeeper cluster based on HBase's one but without the hadoop dependency
    - made sure all tests pass

 .../apache/drill/common/config/DrillConfig.java    |  12 +-
 .../apache/drill/common/config/NestedConfig.java   |  16 +-
 .../org/apache/drill/exec/cache/HazelCache.java    |  11 +-
 .../org/apache/drill/exec/client/DrillClient.java  | 100 ++++++
 .../drill/exec/coord/ClusterCoordinator.java       |  14 +-
 .../drill/exec/coord/ZKClusterCoordinator.java     | 137 ++++----
 .../org/apache/drill/exec/server/Drillbit.java     |  20 +-
 .../apache/drill/exec/server/DrillbitContext.java  |   3 +-
 .../java-exec/src/main/resources/drill-module.conf |   1 +
 .../org/apache/drill/exec/DrillSystemTestBase.java |  77 ++++-
 .../drill/exec/client/DrillClientSystemTest.java   |  42 ++-
 .../drill/exec/util/MiniZooKeeperCluster.java      | 368 +++++++++++++++++++++
 .../java-exec/src/test/resources/drill-module.conf |  28 ++
 .../java-exec/src/test/resources/simple_plan.json  | 133 ++++++++
 14 files changed, 861 insertions(+), 101 deletions(-)

commit 4f3a1c64546b8f79ce53f20e8a94cfb3d8dffaac
Author: David Ribeiro Alves <davidralves@gmail.com>
Date:   Wed Apr 17 14:14:36 2013 -0500

    added base system test and started working on client system test

 .../org/apache/drill/exec/server/Drillbit.java     | 18 ++++---
 .../org/apache/drill/exec/DrillSystemTestBase.java | 61 ++++++++++++++++++++++
 .../drill/exec/client/DrillClientSystemTest.java   | 20 +++++++
 3 files changed, 91 insertions(+), 8 deletions(-)

commit f1746c92ffbd74ef9622af294768372fd1676459
Author: Jacques Nadeau <jacques@apache.org>
Date:   Tue Apr 16 10:59:49 2013 -0700

    Fix NPE, add runbit script to start up Drilbit.

 .../main/java/org/apache/drill/exec/service/ServiceEngine.java   | 5 +++--
 sandbox/prototype/exec/java-exec/src/test/sh/runbit              | 9 +++++++++
 2 files changed, 12 insertions(+), 2 deletions(-)

commit f3b2019365dab6abed84810173593152c9fb3ffa
Author: Jacques Nadeau <jacques@apache.org>
Date:   Mon Apr 15 14:42:51 2013 -0700

    Remove extraneous files.  Update RPC to use EnumLite and getNumber() instead of ordinal() to fix the situation where protobuf def enum definition skips numbers.

 .../prototype/exec/java-exec/rse/ClasspathRSE.java |  88 ----------
 .../prototype/exec/java-exec/rse/ConsoleRSE.java   |  60 -------
 .../exec/java-exec/rse/FileSystemRSE.java          | 144 ----------------
 .../exec/java-exec/rse/JSONDataWriter.java         | 142 ----------------
 .../exec/java-exec/rse/JSONRecordReader.java       | 183 ---------------------
 .../exec/java-exec/rse/OutputStreamWriter.java     |  78 ---------
 sandbox/prototype/exec/java-exec/rse/QueueRSE.java | 100 -----------
 sandbox/prototype/exec/java-exec/rse/RSEBase.java  |  71 --------
 .../prototype/exec/java-exec/rse/RSERegistry.java  |  85 ----------
 .../prototype/exec/java-exec/rse/RecordReader.java |  28 ----
 .../exec/java-exec/rse/RecordRecorder.java         |  32 ----
 .../exec/java-exec/rse/ReferenceStorageEngine.java |  45 -----
 .../org/apache/drill/exec/rpc/BasicClient.java     |   4 +-
 .../org/apache/drill/exec/rpc/BasicServer.java     |   7 +-
 .../apache/drill/exec/rpc/CoordinationQueue.java   |  71 ++++----
 .../org/apache/drill/exec/rpc/DrillRpcFuture.java  |   6 +-
 .../apache/drill/exec/rpc/OutboundRpcMessage.java  |   5 +-
 .../java/org/apache/drill/exec/rpc/Response.java   |   5 +-
 .../java/org/apache/drill/exec/rpc/RpcBus.java     |   3 +-
 19 files changed, 56 insertions(+), 1101 deletions(-)

commit b53933f225e21b890a9cc25545be7ce4223ba0ce
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Mar 16 17:56:35 2013 -0700

    basic framework for physical plan.  abstraction of graph classes.
    
    Initial Work on Java Exec
    
    WIP commit of java-exec

 .../apache/drill/common/config/DrillConfig.java    |  51 +-
 .../exceptions/DrillConfigurationException.java    |  43 ++
 .../drill/common/exceptions/DrillIOException.java  |  42 +
 .../drill/common/expression/types/DataType.java    |   2 +
 .../apache/drill/common/optimize/Optimizer.java    |  45 ++
 .../drill/common/physical/DataValidationMode.java  |  24 +
 .../org/apache/drill/common/physical/FieldSet.java |  23 +-
 .../apache/drill/common/physical/RecordField.java  |  43 +-
 .../apache/drill/common/physical/ParsePlan.java    |  36 +
 .../common/src/test/resources/basic_physical.json  |  42 +
 .../common/src/test/resources/dsort_logical.json   |  40 +
 .../{dsort-physical.json => dsort_physical.json}   |  20 +-
 .../common/src/test/resources/simple_plan.json     | 133 ++++
 sandbox/prototype/exec/java-exec/pom.xml           | 165 +++-
 .../prototype/exec/java-exec/rse/ClasspathRSE.java |  88 +++
 .../prototype/exec/java-exec/rse/ConsoleRSE.java   |  60 ++
 .../exec/java-exec/rse/FileSystemRSE.java          | 144 ++++
 .../exec/java-exec/rse/JSONDataWriter.java         | 142 ++++
 .../exec/java-exec/rse/JSONRecordReader.java       | 183 +++++
 .../exec/java-exec/rse/OutputStreamWriter.java     |  78 ++
 sandbox/prototype/exec/java-exec/rse/QueueRSE.java | 100 +++
 sandbox/prototype/exec/java-exec/rse/RSEBase.java  |  71 ++
 .../prototype/exec/java-exec/rse/RSERegistry.java  |  85 +++
 .../prototype/exec/java-exec/rse/RecordReader.java |  28 +
 .../exec/java-exec/rse/RecordRecorder.java         |  32 +
 .../exec/java-exec/rse/ReferenceStorageEngine.java |  45 ++
 .../org/apache/drill/exec/BufferAllocator.java     |  52 ++
 .../apache/drill/exec/DirectBufferAllocator.java   |  47 ++
 .../java/org/apache/drill/exec/ExecConstants.java  |  31 +
 .../apache/drill/exec/cache/DistributedCache.java  |  38 +
 .../org/apache/drill/exec/cache/HazelCache.java    | 133 ++++
 .../drill/exec/cache/TemplatizedLogicalPlan.java   |  22 +
 .../drill/exec/cache/TemplatizedPhysicalPlan.java  |  22 +
 .../drill/exec/coord/ClusterCoordinator.java       |  47 ++
 .../exec/coord/DrillServiceInstanceHelper.java     |  57 ++
 .../drill/exec/coord/ZKClusterCoordinator.java     | 145 ++++
 .../drill/exec/coord/ZKRegistrationHandle.java     |  32 +
 .../java/org/apache/drill/exec/disk/Spool.java     |  29 +
 .../exec/exception/DrillbitStartupException.java   |  46 ++
 .../exec/exception/ExecutionSetupException.java    |  45 ++
 .../exec/exception/SchemaChangeException.java      |  52 ++
 .../drill/exec/exception/SetupException.java       |  46 ++
 .../org/apache/drill/exec/ops/BatchIterator.java   |  32 +
 .../org/apache/drill/exec/ops/FragmentContext.java |  49 ++
 .../org/apache/drill/exec/ops/OutputMutator.java   |  28 +
 .../org/apache/drill/exec/ops/QueryOutcome.java    |  22 +
 .../java/org/apache/drill/exec/ops/ScanBatch.java  | 157 ++++
 .../exec/ops/exchange/PartitioningSender.java      |  23 +
 .../drill/exec/ops/exchange/RandomReceiver.java    |  24 +
 .../drill/exec/ops/exchange/RecordBatchSender.java |  24 +
 .../apache/drill/exec/opt/IdentityOptimizer.java   |  40 +
 .../org/apache/drill/exec/planner/ExecPlanner.java |  27 +
 .../org/apache/drill/exec/record/BatchSchema.java  | 123 +++
 .../java/org/apache/drill/exec/record/DeadBuf.java | 848 +++++++++++++++++++++
 .../drill/exec/record/InvalidValueAccessor.java    |  46 ++
 .../drill/exec/record/MaterializedField.java       |  79 ++
 .../org/apache/drill/exec/record/RecordBatch.java  |  85 +++
 .../org/apache/drill/exec/record/RecordMaker.java  |  22 +
 .../record/vector/AbstractFixedValueVector.java    |  60 ++
 .../apache/drill/exec/record/vector/AnyVector.java |  30 +
 .../drill/exec/record/vector/BaseValueVector.java  | 104 +++
 .../apache/drill/exec/record/vector/BitUtil.java   | 108 +++
 .../apache/drill/exec/record/vector/BitVector.java | 118 +++
 .../apache/drill/exec/record/vector/BufBitSet.java | 847 ++++++++++++++++++++
 .../drill/exec/record/vector/ByteVector.java       |  48 ++
 .../drill/exec/record/vector/Int32Vector.java      |  52 ++
 .../exec/record/vector/NullableValueVector.java    |  70 ++
 .../drill/exec/record/vector/ValueVector.java      |  81 ++
 .../drill/exec/record/vector/VariableVector.java   |  78 ++
 .../org/apache/drill/exec/rpc/BasicClient.java     |  81 ++
 .../org/apache/drill/exec/rpc/BasicServer.java     | 106 +++
 .../drill/exec/rpc/ChannelClosedException.java     |  39 +
 .../apache/drill/exec/rpc/CoordinationQueue.java   |  87 +++
 .../org/apache/drill/exec/rpc/DrillRpcFuture.java  |  92 +++
 .../apache/drill/exec/rpc/InboundRpcMessage.java   |  50 ++
 .../apache/drill/exec/rpc/NamedThreadFactory.java  |  48 ++
 .../apache/drill/exec/rpc/OutboundRpcMessage.java  |  50 ++
 .../drill/exec/rpc/PositiveAtomicInteger.java      |  39 +
 .../apache/drill/exec/rpc/RemoteRpcException.java  |  38 +
 .../java/org/apache/drill/exec/rpc/Response.java   |  41 +
 .../java/org/apache/drill/exec/rpc/RpcBus.java     | 172 +++++
 .../org/apache/drill/exec/rpc/RpcConstants.java    |  26 +
 .../java/org/apache/drill/exec/rpc/RpcDecoder.java | 142 ++++
 .../java/org/apache/drill/exec/rpc/RpcEncoder.java | 127 +++
 .../org/apache/drill/exec/rpc/RpcException.java    |  45 ++
 .../apache/drill/exec/rpc/RpcExceptionHandler.java |  52 ++
 .../java/org/apache/drill/exec/rpc/RpcMessage.java |  45 ++
 .../exec/rpc/ZeroCopyProtobufLengthDecoder.java    |  80 ++
 .../org/apache/drill/exec/rpc/bit/BitClient.java   |  62 ++
 .../java/org/apache/drill/exec/rpc/bit/BitCom.java |  69 ++
 .../apache/drill/exec/rpc/bit/BitComHandler.java   | 136 ++++
 .../org/apache/drill/exec/rpc/bit/BitComImpl.java  | 142 ++++
 .../org/apache/drill/exec/rpc/bit/BitServer.java   |  64 ++
 .../org/apache/drill/exec/rpc/bit/BitTunnel.java   |  63 ++
 .../org/apache/drill/exec/rpc/user/UserClient.java |  72 ++
 .../org/apache/drill/exec/rpc/user/UserServer.java |  90 +++
 .../org/apache/drill/exec/schema/BackedRecord.java |  44 ++
 .../org/apache/drill/exec/schema/DataRecord.java   |  56 ++
 .../org/apache/drill/exec/schema/DiffSchema.java   |  66 ++
 .../java/org/apache/drill/exec/schema/Field.java   | 135 ++++
 .../org/apache/drill/exec/schema/IdGenerator.java  |  13 +
 .../org/apache/drill/exec/schema/ListSchema.java   | 108 +++
 .../org/apache/drill/exec/schema/NamedField.java   |  44 ++
 .../org/apache/drill/exec/schema/ObjectSchema.java |  91 +++
 .../org/apache/drill/exec/schema/OrderedField.java |  33 +
 .../java/org/apache/drill/exec/schema/Record.java  |  29 +
 .../org/apache/drill/exec/schema/RecordSchema.java |  29 +
 .../drill/exec/schema/SchemaIdGenerator.java       |  36 +
 .../apache/drill/exec/schema/SchemaRecorder.java   | 122 +++
 .../exec/schema/json/jackson/JacksonHelper.java    |  63 ++
 .../exec/schema/json/jackson/PhysicalOperator.java |  36 +
 .../json/jackson/PhysicalOperatorIterator.java     |  31 +
 .../drill/exec/schema/json/jackson/ScanJson.java   | 203 +++++
 .../transform/ProtobufSchemaTransformer.java       | 109 +++
 .../exec/schema/transform/SchemaTransformer.java   |  30 +
 .../org/apache/drill/exec/server/Drillbit.java     | 116 +++
 .../apache/drill/exec/server/DrillbitContext.java  |  65 ++
 .../apache/drill/exec/server/StartupOptions.java   |  66 ++
 .../apache/drill/exec/service/ServiceEngine.java   |  73 ++
 .../drill/exec/store/QueryOptimizerRule.java       |  21 +
 .../org/apache/drill/exec/store/RecordReader.java  |  49 ++
 .../apache/drill/exec/store/RecordRecorder.java    |  36 +
 .../org/apache/drill/exec/store/StorageEngine.java |  92 +++
 .../drill/exec/store/StorageEngineRegistry.java    |  82 ++
 .../java-exec/src/main/protobuf/Coordination.proto |  32 +
 .../src/main/protobuf/ExecutionProtos.proto        |  65 ++
 .../java-exec/src/main/protobuf/GeneralRPC.proto   |  35 +
 .../java-exec/src/main/protobuf/SchemaDef.proto    |  37 +
 .../exec/java-exec/src/main/protobuf/User.proto    |  93 +++
 .../java-exec/src/main/resources/drill-module.conf |  28 +
 .../java-exec/src/test/java/BBOutputStream.java    |  38 +
 .../src/test/java/CompressingBytesColumn.java      |  46 ++
 .../exec/java-exec/src/test/java/ExternalSort.java |  21 +
 .../src/test/java/GenerateExternalSortData.java    | 124 +++
 .../drill/exec/record/column/SimpleExec.java       |  30 +
 .../drill/exec/record/vector/TestOpenBitSet.java   | 361 +++++++++
 .../apache/drill/exec/rpc/user/UserRpcTest.java    | 107 +++
 .../apache/drill/exec/server/StartDrillbit.java    |  31 +
 .../exec/java-exec/src/test/resources/logback.xml  |  45 ++
 sandbox/prototype/exec/ref/pom.xml                 |   7 +-
 140 files changed, 10790 insertions(+), 80 deletions(-)

commit 2a6e1b33e93824c1147e7e257a46aceb768da8d8
Author: Jacques Nadeau <jacques@apache.org>
Date:   Sat Mar 16 17:56:35 2013 -0700

    Add flatten and join test executions.  Abstract graph classes.  Update storage engine definition to be a map.  Move plan properties to use enum for plan type.  Remove unused tests/resources.  Update sql parser for change in storage engine definition.  Add basic physical plan implementation.

 .../drill/common/{logical => }/JSONOptions.java    |  32 +---
 .../drill/common/{logical => }/PlanProperties.java |   8 +-
 .../drill/common/config/CommonConstants.java       |   1 +
 .../apache/drill/common/config/DrillConfig.java    |   2 +
 .../org/apache/drill/common/defs/OrderDef.java     |  60 +++++++
 .../org/apache/drill/common/defs/PartitionDef.java |  58 +++++++
 .../drill/common/expression/types/DataType.java    | 104 ++++++++++--
 .../common/expression/types/LateBindType.java      |   2 +-
 .../common/expression/visitors/OpVisitor.java      |   6 +-
 .../apache/drill/common/graph/AdjacencyList.java   | 185 +++++++++++++++++++++
 .../drill/common/graph/AdjacencyListBuilder.java   |  74 +++++++++
 .../drill/common/{logical => }/graph/Edge.java     |   4 +-
 .../java/org/apache/drill/common/graph/Graph.java  |  68 ++++++++
 .../common/{logical => }/graph/GraphAlgos.java     |  74 +++++----
 .../org/apache/drill/common/graph/GraphValue.java  |  26 +++
 .../apache/drill/common/graph/GraphVisitor.java    |  25 +++
 .../org/apache/drill/common/graph/Visitable.java   |  22 +++
 .../apache/drill/common/logical/LogicalPlan.java   | 121 +++++---------
 .../apache/drill/common/logical/OperatorGraph.java | 145 ----------------
 .../drill/common/logical/StorageEngineConfig.java  |   1 -
 .../common/logical/StorageEngineConfigBase.java    |   9 -
 .../common/logical/UnexpectedOperatorType.java     |   5 +-
 .../drill/common/logical/data/LogicalOperator.java |   7 +-
 .../common/logical/data/LogicalOperatorBase.java   |   4 +-
 .../apache/drill/common/logical/data/Order.java    |  49 +-----
 .../org/apache/drill/common/logical/data/Scan.java |   2 +-
 .../apache/drill/common/logical/data/Store.java    |  49 +-----
 .../apache/drill/common/logical/defs/OrderDef.java |  60 +++++++
 .../drill/common/logical/defs/PartitionDef.java    |  55 ++++++
 .../drill/common/logical/graph/AdjacencyList.java  | 123 --------------
 .../org/apache/drill/common/physical/FieldSet.java |  97 +++++++++++
 .../apache/drill/common/physical/POPConfig.java    |  24 +++
 .../org/apache/drill/common/physical/POPCost.java  |  34 ++++
 .../apache/drill/common/physical/PhysicalPlan.java |  93 +++++++++++
 .../apache/drill/common/physical/ReadEntry.java    |  25 +++
 .../apache/drill/common/physical/RecordField.java  |  79 +++++++++
 .../org/apache/drill/common/physical/SetSpec.java  |  36 ++++
 .../apache/drill/common/physical/StitchDef.java    |  48 ++++++
 .../drill/common/physical/pop/ExchangePOP.java     |  56 +++++++
 .../apache/drill/common/physical/pop/POPBase.java  |  65 ++++++++
 .../common/physical/pop/PhysicalOperator.java      |  35 ++++
 .../common/physical/pop/QuickNWaySortPOP.java      |  50 ++++++
 .../apache/drill/common/physical/pop/ScanPOP.java  |  75 +++++++++
 .../Node.java => physical/pop/SingleChildPOP.java} |  36 ++--
 .../apache/drill/common/physical/pop/SinkPOP.java  |  22 +++
 .../drill/common/physical/pop/SourcePOP.java       |  22 +++
 .../apache/drill/common/physical/pop/StorePOP.java |  54 ++++++
 .../drill/common/physical/props/OrderProp.java     |  45 +++++
 .../drill/common/physical/props/PartitionProp.java |  36 ++++
 .../drill/common/physical/props/PhysicalProp.java  |  24 +++
 .../drill/common/physical/props/SegmentProp.java   |  42 +++++
 .../common/src/main/resources/drill-default.conf   |  17 +-
 .../test/java/org/apache/drill/ExpressionTest.java |  14 --
 .../drill/common/physical/ParsePhysicalPlan.java   |  37 +++++
 .../drill/storage/MockStorageEngineConfig.java     |   4 +-
 .../common/src/test/resources/dsort-physical.json  |  76 +++++++++
 .../common/src/test/resources/example1.sql         | 136 ---------------
 .../common/src/test/resources/example2.sql         |  98 -----------
 .../common/src/test/resources/example3.sql         |   3 -
 .../common/src/test/resources/logback.xml          |   9 +-
 .../common/src/test/resources/logical_plan1.json   | 139 ----------------
 .../common/src/test/resources/simple_plan.json     | 134 ---------------
 .../src/test/resources/storage_engine_plan.json    |   9 +-
 sandbox/prototype/exec/ref/pom.xml                 |   8 +-
 .../org/apache/drill/exec/ref/rops/OrderROP.java   |   6 +-
 .../apache/drill/exec/ref/rse/ClasspathRSE.java    |   6 +-
 .../org/apache/drill/exec/ref/rse/ConsoleRSE.java  |  22 +--
 .../apache/drill/exec/ref/rse/FileSystemRSE.java   |   8 +-
 .../org/apache/drill/exec/ref/rse/QueueRSE.java    |  12 +-
 .../org/apache/drill/exec/ref/RunSimplePlan.java   |  24 +++
 .../exec/ref/src/test/resources/simple_join.json   |  24 +--
 .../exec/ref/src/test/resources/simple_plan.json   |  24 +--
 .../src/test/resources/simple_plan_flattened.json  |  28 ++--
 .../main/java/org/apache/drill/jdbc/Driver.java    |   2 +-
 .../org/apache/drill/optiq/DrillImplementor.java   |  10 +-
 .../java/org/apache/drill/optiq/DrillScan.java     |   3 +-
 76 files changed, 2033 insertions(+), 1199 deletions(-)

commit b48d0f09a0f53054b02e9cf000fe619a6f14d728
Author: Timothy Chen <tnachen@gmail.com>
Date:   Tue Mar 5 00:16:38 2013 -0800

    Fix range and within case

 .../apache/drill/exec/ref/rops/WindowFrameROP.java | 10 +++---
 .../drill/exec/ref/rops/WindowFrameROPTest.java    | 41 +++++++++++++++++++++-
 2 files changed, 45 insertions(+), 6 deletions(-)

commit b41f51f1c6cd786f14f0d50066a67a76169b9d1e
Author: Timothy Chen <tnachen@gmail.com>
Date:   Sun Feb 17 23:41:57 2013 -0800

    DRILL-31 WindowFrame operator

 .../common/logical/data/SingleInputOperator.java   |   2 +-
 .../drill/common/logical/data/WindowFrame.java     |   4 +-
 .../org/apache/drill/exec/ref/UnbackedRecord.java  |   3 +-
 .../apache/drill/exec/ref/rops/WindowFrameROP.java | 321 +++++++++++++++++++++
 .../apache/drill/exec/ref/rops/WindowingROP.java   |  56 ----
 .../drill/exec/ref/rops/WindowFrameROPTest.java    | 201 +++++++++++++
 6 files changed, 526 insertions(+), 61 deletions(-)

commit cb3132a39a18da557bac2179ac99a4740ec22172
Author: Jacques Nadeau <jacques@apache.org>
Date:   Thu Feb 28 17:14:51 2013 -0800

    Cleanup pom files.  Partial application of DRILL-36 patches.
    
    Should fix DRILL-36, DRILL-43

 sandbox/prototype/common/pom.xml                   |  38 +-----
 .../common/src/test/resources/logback.xml          |  46 ++++++++
 sandbox/prototype/contrib/pom.xml                  |  12 +-
 sandbox/prototype/contrib/storage-hbase/pom.xml    |  13 +--
 sandbox/prototype/exec/java-exec/pom.xml           |  11 +-
 sandbox/prototype/exec/pom.xml                     |  12 +-
 sandbox/prototype/exec/ref/pom.xml                 |  80 +++----------
 .../exec/ref/src/test/resources/logback.xml        |  46 ++++++++
 sandbox/prototype/planner/pom.xml                  |  13 +--
 sandbox/prototype/pom.xml                          | 110 ++++++++++++++++--
 sandbox/prototype/sqlparser/pom.xml                | 129 +++++++++++----------
 .../sqlparser/src/test/resources/logback.xml       |  46 ++++++++
 12 files changed, 333 insertions(+), 223 deletions(-)

commit 3e45f42f79cdd71e83e81e5b12fdbcb265401a42
Author: mitnpatel <mitnpatel@hotmail.com>
Date:   Sun Feb 24 13:56:23 2013 -0800

    Fix prototype/sqlparser project. Created exec/ref:test jar and fixed classifier in sqlparser/pom.xml
    
    Signed-off-by: Jacques Nadeau <jacques@apache.org>

 sandbox/prototype/exec/ref/pom.xml  | 22 ++++++++++++++++++++++
 sandbox/prototype/sqlparser/pom.xml |  2 +-
 2 files changed, 23 insertions(+), 1 deletion(-)

commit 35023c1d707151f1c6bca5c1d42a2501126b7e39
Author: Chris Merrick <christopherrmerrick@gmail.com>
Date:   Sun Feb 24 12:38:22 2013 -0500

    LimitROP unit test suite

 .../java/org/apache/drill/exec/ref/TestUtils.java  | 28 +++++++++
 .../apache/drill/exec/ref/rops/LimitROPTest.java   | 67 ++++++++++++++++++++++
 2 files changed, 95 insertions(+)

commit 08bb3be62eb91fb8618bb7840a04db1b2608fbde
Author: Timothy Chen <tnachen@gmail.com>
Date:   Tue Feb 5 01:53:59 2013 -0800

    Implement Join ROP

 .../org/apache/drill/common/logical/data/Join.java |   4 +-
 .../drill/common/logical/data/LogicalOperator.java |   2 +-
 .../org/apache/drill/exec/ref/UnbackedRecord.java  | 144 +++++-----
 .../exec/ref/eval/fn/ComparisonEvaluators.java     |   6 +-
 .../org/apache/drill/exec/ref/rops/JoinROP.java    | 309 +++++++++++++++++++++
 .../exec/ref/src/test/resources/departments.json   |  16 ++
 .../exec/ref/src/test/resources/employees.json     |  23 ++
 .../exec/ref/src/test/resources/simple_join.json   |  70 +++++
 8 files changed, 501 insertions(+), 73 deletions(-)

commit 6e4a1384a828e2e45d24c70aef2c96e04a6bd5d2
Author: Jacques Nadeau <jacques.drill@gmail.com>
Date:   Sat Feb 16 17:37:34 2013 -0800

    Update logical plan to latest spec.  Fix existing ROPs to match new logical spec.  Update/add reference storage engine implementations.
    
    fixes to make sql parser work with newer syntax

 sandbox/prototype/common/pom.xml                   |  39 ++--
 .../drill/common/expression/parser/ExprParser.g    |  26 ++-
 .../drill/common/config/CommonConstants.java       |  28 +++
 .../FlowInput.java => config/ConfigProvider.java}  |   6 +-
 .../apache/drill/common/config/DrillConfig.java    | 103 +++++++++++
 .../apache/drill/common/config/NestedConfig.java   | 201 +++++++++++++++++++++
 .../exceptions/ExpressionParsingException.java     |   2 +-
 .../LogicalOperatorValidationException.java        |  44 +++++
 .../exceptions/LogicalPlanParsingException.java    |  75 ++++++++
 .../common/expression/ArgumentValidators.java      |   2 +-
 .../common/expression/FunctionDefinition.java      |   2 +-
 .../drill/common/expression/FunctionRegistry.java  |  44 ++---
 .../drill/common/expression/LogicalExpression.java |  10 +-
 .../org/apache/drill/common/logical/FieldName.java |  22 ---
 .../apache/drill/common/logical/JSONOptions.java   |  48 ++++-
 .../apache/drill/common/logical/LogicalPlan.java   |  89 +++++----
 .../drill/common/logical/PlanProperties.java       |   1 -
 .../RecordMaker.java => StorageEngineConfig.java}  |  11 +-
 .../Text.java => StorageEngineConfigBase.java}     |  33 +++-
 .../drill/common/logical/ValidationError.java      |   1 +
 .../common/logical/data/CollapsingAggregate.java   |  59 ++++++
 .../org/apache/drill/common/logical/data/Join.java |  51 +++---
 .../drill/common/logical/data/JoinCondition.java   |  51 ++++++
 .../drill/common/logical/data/LogicalOperator.java |   5 +-
 .../common/logical/data/LogicalOperatorBase.java   |  16 +-
 .../apache/drill/common/logical/data/Order.java    |   9 +-
 .../apache/drill/common/logical/data/Project.java  |   1 +
 .../data/{Aggregate.java => RunningAggregate.java} |  23 +--
 .../org/apache/drill/common/logical/data/Scan.java |  12 +-
 .../logical/data/{Group.java => Segment.java}      |  24 ++-
 .../apache/drill/common/logical/data/Sequence.java |   4 +-
 .../drill/common/logical/data/SinkOperator.java    |   2 +-
 .../apache/drill/common/logical/data/Store.java    |  96 ++++++++++
 .../drill/common/logical/data/WindowFrame.java     |  84 ++++-----
 .../common/logical/sources/JSONDataSource.java     |  24 ---
 .../apache/drill/common/logical/sources/Mongo.java |  25 ---
 .../apache/drill/common/logical/sources/Mysql.java |  25 ---
 .../logical/sources/record/FirstRowMaker.java      |  25 ---
 .../logical/sources/record/RecordMakerBase.java    |  22 ---
 .../drill/common/util/AbstractDynamicBean.java     |  81 +++++++++
 .../org/apache/drill/common/util/FileUtils.java    |  40 ++++
 .../org/apache/drill/common/util/PathScanner.java  | 126 +++++++++++++
 .../common/src/main/resources/drill-default.conf   |   6 +
 .../common/src/main/resources/drill-module.conf    |   3 +
 .../apache/drill/storage/CheckStorageConfig.java   |  48 +++++
 .../drill/storage/MockStorageEngineConfig.java}    |  22 ++-
 .../java/org/apache/drill/storage/Simple.java}     |  15 +-
 .../common/src/test/resources/drill-module.conf    |   1 +
 .../common/src/test/resources/simple_plan.json     |  56 +++---
 .../src/test/resources/storage_engine_plan.json    |  31 ++++
 sandbox/prototype/exec/ref/pom.xml                 |  65 ++++---
 .../apache/drill/exec/ref/ExecRefConstants.java}   |  18 +-
 .../apache/drill/exec/ref/IteratorRegistry.java    |   4 +-
 .../org/apache/drill/exec/ref/ROPConverter.java    | 122 ++++++-------
 .../drill/exec/ref/ReferenceInterpreter.java       |  35 +---
 .../exec/ref/rops/AbstractBlockingOperator.java    |   6 +-
 .../apache/drill/exec/ref/rops/BaseSinkROP.java    |   8 +-
 ...eSimpleROP.java => CollapsingAggregateROP.java} | 158 ++++++++++------
 .../org/apache/drill/exec/ref/rops/DataWriter.java |   6 +-
 .../org/apache/drill/exec/ref/rops/GroupROP.java   |  75 --------
 .../org/apache/drill/exec/ref/rops/JSONWriter.java |  77 --------
 .../apache/drill/exec/ref/rops/MultiLevelMap.java  | 200 --------------------
 .../org/apache/drill/exec/ref/rops/OrderROP.java   | 119 ++++++------
 .../org/apache/drill/exec/ref/rops/ScanROP.java    |  70 +++++++
 .../org/apache/drill/exec/ref/rops/SegmentROP.java | 101 +++++++++++
 .../ref/rops/{QueueSinkROP.java => StoreROP.java}  |  70 ++++---
 .../apache/drill/exec/ref/rse/ClasspathRSE.java    |  92 ++++++++++
 .../org/apache/drill/exec/ref/rse/ConsoleRSE.java  |  66 +++++++
 .../apache/drill/exec/ref/rse/FileSystemRSE.java   | 144 +++++++++++++++
 .../exec/ref/{rops => rse}/JSONDataWriter.java     |   6 +-
 .../JSONScanner.java => rse/JSONRecordReader.java} |  78 ++++----
 .../drill/exec/ref/rse/OutputStreamWriter.java     |  78 ++++++++
 .../org/apache/drill/exec/ref/rse/QueueRSE.java    | 108 +++++++++++
 .../org/apache/drill/exec/ref/rse/RSEBase.java     |  71 ++++++++
 .../org/apache/drill/exec/ref/rse/RSERegistry.java |  85 +++++++++
 .../apache/drill/exec/ref/rse/RecordReader.java}   |  17 +-
 .../apache/drill/exec/ref/rse/RecordRecorder.java} |  21 ++-
 .../drill/exec/ref/rse/ReferenceStorageEngine.java |  45 +++++
 .../drill/exec/ref/values/BaseDataValue.java       |  10 +
 .../apache/drill/exec/ref/values/DataValueSet.java |  80 ++++++++
 .../apache/drill/exec/ref/values/NumericValue.java |   2 +-
 .../apache/drill/exec/ref/values/ScalarValues.java |   2 +-
 .../exec/ref/src/main/resources/drill-module.conf  |   4 +
 .../org/apache/drill/exec/ref/RunSimplePlan.java   |  49 +++++
 .../exec/ref/src/test/resources/simple_plan.json   |  59 +++---
 sandbox/prototype/sqlparser/pom.xml                |   8 +
 .../java/org/apache/drill/jdbc/DrillTable.java     |  29 ++-
 .../main/java/org/apache/drill/jdbc/Driver.java    |  28 ++-
 .../org/apache/drill/optiq/DrillImplementor.java   |  35 +++-
 .../java/org/apache/drill/optiq/DrillScan.java     |   8 +-
 .../org/apache/drill/optiq/EnumerableDrill.java    |  52 ++++--
 91 files changed, 2906 insertions(+), 1179 deletions(-)

commit 9d5b0ef86a8bf3b21d0d8e888949a5ebda8a4984
Author: Chris Merrick <christopherrmerrick@gmail.com>
Date:   Fri Feb 1 18:55:23 2013 -0500

    flatten first pass: out a new output field
    
    doing everything but splitting out arrays into multiple records
    
    multiplying, but not cloning properly
    
    deep copy of data values, working flatten
    
    cleanup
    
    cleanup
    
    drop working

 .../apache/drill/common/logical/data/Flatten.java  |   7 +-
 .../org/apache/drill/exec/ref/RecordPointer.java   |   1 +
 .../org/apache/drill/exec/ref/UnbackedRecord.java  |   7 +-
 .../org/apache/drill/exec/ref/rops/FlattenROP.java | 143 +++++++++++++++++++++
 .../drill/exec/ref/rops/ProxySimpleRecord.java     |   5 +
 .../drill/exec/ref/values/BaseArrayValue.java      |   2 +-
 .../drill/exec/ref/values/BaseDataValue.java       |   8 +-
 .../apache/drill/exec/ref/values/BaseMapValue.java |  19 +++
 .../apache/drill/exec/ref/values/DataValue.java    |   2 +
 .../apache/drill/exec/ref/values/ScalarValues.java |  44 ++++++-
 .../drill/exec/ref/values/SimpleArrayValue.java    |  14 +-
 .../drill/exec/ref/values/SimpleMapValue.java      |  12 ++
 .../src/test/resources/simple_plan_flattened.json  |  54 ++++++++
 13 files changed, 300 insertions(+), 18 deletions(-)

commit 32fc5271dc7e115ccde2d442aa97a1db28e20d59
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Fri Feb 15 19:44:05 2013 -0800

    Convert JSON result into an immutable tree of ordinary Java objects (List, Map, String, Double, Integer, Boolean). We use sorted maps, so that the tree is deterministic.

 .../org/apache/drill/optiq/EnumerableDrill.java    | 75 ++++++++++++++++++----
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  | 10 +--
 2 files changed, 69 insertions(+), 16 deletions(-)

commit 7f294adb649064e26dd2f28864260b17b07315ef
Author: Julian Hyde <julianhyde@gmail.com>
Date:   Thu Feb 14 17:00:48 2013 -0800

    JDBC driver, SQL parser, and planner that generates logical plan. Test very simple statement that returns a single column that is a map; returns 5 rows.

 .gitignore                                         |   1 +
 .../apache/drill/common/logical/LogicalPlan.java   |  39 ++++--
 .../org/apache/drill/exec/ref/ROPConverter.java    |  29 ++--
 .../drill/exec/ref/ReferenceInterpreter.java       |  13 +-
 .../apache/drill/exec/ref/rops/BaseSinkROP.java    |   2 +-
 .../apache/drill/exec/ref/rops/JSONScanner.java    |   6 +-
 .../org/apache/drill/exec/ref/rops/JSONWriter.java |   3 +-
 .../apache/drill/exec/ref/rops/QueueSinkROP.java   |  65 +++++++++
 .../java/org/apache/drill/exec/ref/rops/ROP.java   |   5 +-
 .../org/apache/drill/exec/ref/rops/ROPBase.java    |   5 +-
 sandbox/prototype/sqlparser/pom.xml                |  34 ++++-
 .../org/apache/drill/jdbc/DrillDriverVersion.java  |  41 ++++++
 .../java/org/apache/drill/jdbc/DrillTable.java     | 101 +++++++++++++
 .../main/java/org/apache/drill/jdbc/Driver.java    | 104 ++++++++++++++
 .../org/apache/drill/optiq/DrillImplementor.java   |  97 +++++++++++++
 .../java/org/apache/drill/optiq/DrillOptiq.java    |  46 ++++++
 .../main/java/org/apache/drill/optiq/DrillRel.java |  29 ++++
 .../java/org/apache/drill/optiq/DrillScan.java     |  45 ++++++
 .../org/apache/drill/optiq/EnumerableDrill.java    | 156 +++++++++++++++++++++
 .../org/apache/drill/optiq/EnumerableDrillRel.java | 101 +++++++++++++
 .../apache/drill/optiq/EnumerableDrillRule.java    |  59 ++++++++
 .../java/org/apache/drill/jdbc/test/JdbcTest.java  |  88 ++++++++++++
 22 files changed, 1032 insertions(+), 37 deletions(-)

commit d8238ccdca57765994cad7e4eb3d1af182a12532
Author: Julian Hyde <julian@hydromatic.net>
Date:   Wed Feb 13 19:59:28 2013 -0800

    Update README.md
    
    Convert to markdown format. No content changes.

 README.md | 97 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 48 insertions(+), 49 deletions(-)

commit 5c2a4b713893aa083ac689214bab8b0e8a0b26a9
Author: Julian Hyde <julian@hydromatic.net>
Date:   Wed Feb 13 19:43:54 2013 -0800

    Update README.md
    
    Convert to markdown format. No content changes.

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c57eb635e37d06b659139bdcc59073aa3f79ce89
Author: tdunning <tdunning@apache.org>
Date:   Mon Feb 4 17:23:42 2013 -0800

    DRILL-33 - Cleanups.  Added some doc, changed build to do jar-with-dependencies.

 sandbox/prototype/contrib/synth-log/README.md      | 20 +++++++
 sandbox/prototype/contrib/synth-log/pom.xml        | 63 ++++++++++++++++++----
 .../src/main/java/org/apache/drill/synth/Main.java | 22 ++++++--
 .../java/org/apache/drill/synth/WordGenerator.java |  7 ++-
 .../synth-log/src/main/resources/log4j.properties  | 11 ++++
 5 files changed, 106 insertions(+), 17 deletions(-)

commit f04a0fd2228862e708754e7aa09360ca3b62468e
Author: tdunning <tdunning@apache.org>
Date:   Mon Feb 4 16:42:43 2013 -0800

    DRILL-33 - Synthetic Log Generator

 sandbox/prototype/contrib/synth-log/README.md      |     35 +
 sandbox/prototype/contrib/synth-log/pom.xml        |     24 +
 .../java/org/apache/drill/synth/LogGenerator.java  |     57 +
 .../main/java/org/apache/drill/synth/LogLine.java  |     37 +
 .../main/java/org/apache/drill/synth/LongTail.java |     48 +
 .../src/main/java/org/apache/drill/synth/Main.java |     41 +
 .../java/org/apache/drill/synth/TermGenerator.java |     39 +
 .../src/main/java/org/apache/drill/synth/User.java |     57 +
 .../java/org/apache/drill/synth/WordGenerator.java |    108 +
 .../contrib/synth-log/src/main/resources/geo-codes |    297 +
 .../synth-log/src/main/resources/other-words       | 117184 ++++++++++++++++++
 .../src/main/resources/word-frequency-seed         |   5003 +
 .../org/apache/drill/synth/LogGeneratorTest.java   |     20 +
 .../org/apache/drill/synth/TermGeneratorTest.java  |     80 +
 .../org/apache/drill/synth/WordGeneratorTest.java  |     22 +
 15 files changed, 123052 insertions(+)

commit 61f09e7e1e33154fea50b030964c92c8d9c7d8d5
Author: tdunning <tdunning@apache.org>
Date:   Mon Feb 4 16:25:50 2013 -0800

    Vector logos

 sandbox/logos/drill-vector-logo.graffle/data.plist | 814 +++++++++++++++++++++
 .../logos/drill-vector-logo.graffle/image1.tiff    | Bin 0 -> 42272 bytes
 sandbox/logos/drill-vector-logo.pdf                | Bin 0 -> 16997 bytes
 3 files changed, 814 insertions(+)

commit f6fcc4c7303703ef84256f3a278dbed3e2d91f86
Author: Chris Merrick <christopherrmerrick@gmail.com>
Date:   Fri Jan 25 18:59:23 2013 -0800

    reference implementation of limit operator

 .../drill/common/logical/data/LogicalOperator.java |  2 +-
 .../org/apache/drill/exec/ref/rops/LimitROP.java   | 87 ++++++++++++++++++++++
 .../exec/ref/src/test/resources/simple_plan.json   |  5 ++
 3 files changed, 93 insertions(+), 1 deletion(-)

commit ce3f1c603838c9fd0ba8b40f44c33fe30f9af5b1
Author: Gera Shegalov <gera@apache.org>
Date:   Thu Jan 24 11:47:00 2013 -0800

    DRILL-21: demo improvements

 .../drill/exec/ref/ReferenceInterpreter.java       |  4 ++--
 .../org/apache/drill/exec/ref/rops/JSONWriter.java | 18 ++++++++++++++++--
 .../exec/ref/src/test/resources/donuts.json        | 10 +++++-----
 .../exec/ref/src/test/resources/simple_plan.json   | 22 +++++++++++-----------
 4 files changed, 34 insertions(+), 20 deletions(-)

commit 238ca97d5d7a34e35ac92226fb572e37f48ffc1f
Author: Jacques Nadeau <jacquesnadeau@gmail.com>
Date:   Mon Jan 21 18:34:01 2013 -0800

    Basic reference interpreter implementation

 sandbox/prototype/common/pom.xml                   |  33 ++
 .../drill/common/expression/parser/ExprParser.g    |  38 +-
 .../drill/common/storage/proto/ProtoLexer.g.bk     | 287 ++++++++++
 .../drill/common/storage/proto/ProtoParser.g.bk    | 605 +++++++++++++++++++++
 .../java/com/google/protobuf/WireFormatProxy.java  |  10 +
 .../apache/drill/common/exceptions/DrillError.java |  44 ++
 .../drill/common/exceptions/DrillException.java    |  42 ++
 .../common/exceptions/DrillRuntimeException.java   |  44 ++
 .../exceptions/ExpressionParsingException.java     |  45 ++
 .../org/apache/drill/common/expression/Arg.java    |  66 +++
 .../drill/common/expression/ArgumentValidator.java |  28 +
 .../common/expression/ArgumentValidators.java      | 179 ++++++
 .../common/expression/BasicArgumentValidator.java  |  62 +++
 .../drill/common/expression/BooleanFunctions.java  | 141 -----
 .../drill/common/expression/CallProvider.java      |  22 +
 .../drill/common/expression/ErrorCollector.java    |  33 ++
 .../common/expression/ExpressionFunction.java      |   9 +-
 .../expression/ExpressionValidationError.java      |  19 +-
 ...ast.java => ExpressionValidationException.java} |  26 +-
 .../drill/common/expression/FieldReference.java    |   4 +-
 .../drill/common/expression/FunctionBase.java      |  38 +-
 .../drill/common/expression/FunctionCall.java      |  89 +++
 .../common/expression/FunctionDefinition.java      |  81 ++-
 .../{TypeFunctions.java => FunctionInstance.java}  |  38 +-
 .../drill/common/expression/FunctionRegistry.java  | 108 ++++
 .../drill/common/expression/IfExpression.java      |  15 +-
 .../drill/common/expression/LogicalExpression.java |  21 +-
 .../common/expression/LogicalExpressionBase.java   |  50 +-
 .../drill/common/expression/MathFunction.java      |  97 ----
 ...ingFunctions.java => OutputTypeDeterminer.java} |  60 +-
 .../drill/common/expression/PathSegment.java       | 133 +++++
 .../apache/drill/common/expression/SchemaPath.java | 140 +++++
 .../drill/common/expression/UnaryFunctions.java    |  74 ---
 .../drill/common/expression/ValidationError.java   |  22 +
 .../drill/common/expression/ValueExpressions.java  | 120 +++-
 .../common/expression/fn/AggregationFunctions.java |  35 ++
 .../common/expression/fn/BooleanFunctions.java     |  47 ++
 .../drill/common/expression/fn/MathFunctions.java  |  44 ++
 .../common/expression/fn/StringFunctions.java      |  39 ++
 .../drill/common/expression/fn/TypeFunctions.java  |  35 ++
 .../drill/common/expression/fn/UnaryFunctions.java |  39 ++
 .../drill/common/expression/types/AtomType.java    |  67 +++
 .../drill/common/expression/types/DataType.java    |  50 ++
 .../DataTypeFactory.java}                          |  13 +-
 .../common/expression/types/LateBindType.java      |  53 ++
 .../expression/visitors/AggregateChecker.java      |  89 +++
 .../expression/visitors/ConstantChecker.java       |  82 +++
 .../common/expression/visitors/ExprVisitor.java    |  36 ++
 .../common/expression/visitors/OpVisitor.java      |   4 +-
 .../apache/drill/common/logical/JSONOptions.java   |  80 +++
 .../apache/drill/common/logical/LogicalPlan.java   |  56 +-
 .../apache/drill/common/logical/OperatorGraph.java |  96 ++--
 .../drill/common/logical/data/Aggregate.java       |   6 +-
 .../logical/data/{Cogroup.java => Group.java}      |  11 +-
 .../drill/common/logical/data/LogicalOperator.java |   2 +-
 .../common/logical/data/LogicalOperatorBase.java   |  14 +-
 .../apache/drill/common/logical/data/Order.java    |   5 +-
 .../apache/drill/common/logical/data/Project.java  |  24 +-
 .../org/apache/drill/common/logical/data/Scan.java |  17 +-
 .../apache/drill/common/logical/data/Sequence.java |   1 -
 .../logical/data/{Grouping.java => Write.java}     |  27 +-
 .../drill/common/logical/graph/AdjacencyList.java  |  70 +--
 .../drill/common/logical/graph/GraphAlgos.java     |   8 +-
 .../apache/drill/common/logical/graph/Node.java    |   1 +
 .../drill/common/logical/sources/DataSource.java   |   2 +-
 .../logical/sources/FileBasedDataSource.java       |  31 ++
 .../common/logical/sources/JSONDataSource.java     |  24 +
 .../apache/drill/common/logical/sources/Text.java  |   6 +-
 .../src/main/java/org/apache/drill/App.java        |  13 -
 .../src/test/java/org/apache/drill/AppTest.java    |  38 --
 .../src/main/java/org/apache/drill/App.java        |  13 -
 .../src/test/java/org/apache/drill/AppTest.java    |  38 --
 sandbox/prototype/exec/pom.xml                     |   1 +
 sandbox/prototype/exec/ref/pom.xml                 |  64 +++
 .../apache/drill/exec/ref/BasicStatusHandle.java   |  44 ++
 .../apache/drill/exec/ref/IteratorRegistry.java    |  70 +++
 .../org/apache/drill/exec/ref/ROPConverter.java    | 151 +++++
 .../org/apache/drill/exec/ref/RecordIterator.java  |  50 ++
 .../org/apache/drill/exec/ref/RecordPointer.java   |  19 +
 .../drill/exec/ref/ReferenceInterpreter.java       | 115 ++++
 .../apache/drill/exec/ref/ReferenceTransform.java  |  17 +
 .../java/org/apache/drill/exec/ref/RunOutcome.java |  52 ++
 .../org/apache/drill/exec/ref/UnbackedRecord.java  |  99 ++++
 .../drill/exec/ref/eval/BaseBasicEvaluator.java    |  42 ++
 .../drill/exec/ref/eval/BasicEvaluatorFactory.java | 105 ++++
 .../drill/exec/ref/eval/BoundarySubscriber.java    |  22 +
 .../drill/exec/ref/eval/EvaluatorFactory.java      |  59 ++
 .../apache/drill/exec/ref/eval/EvaluatorTypes.java |  58 ++
 .../drill/exec/ref/eval/FieldEvaluator.java}       |  53 +-
 .../apache/drill/exec/ref/eval/IfEvaluator.java    |  81 +++
 .../exec/ref/eval/SimpleEvaluationVisitor.java     | 139 +++++
 .../exec/ref/eval/fn/ComparisonEvaluators.java     | 133 +++++
 .../drill/exec/ref/eval/fn/FunctionArguments.java  |  87 +++
 .../drill/exec/ref/eval/fn/FunctionEvaluator.java  |  26 +
 .../ref/eval/fn/FunctionEvaluatorRegistry.java     | 110 ++++
 .../drill/exec/ref/eval/fn/MathEvaluators.java     | 105 ++++
 .../drill/exec/ref/eval/fn/StringEvaluators.java   |  52 ++
 .../eval/fn/agg/AggregatingWrapperEvaluator.java   |  54 ++
 .../exec/ref/eval/fn/agg/CountAggregator.java      |  75 +++
 .../drill/exec/ref/eval/fn/agg/SumAggregator.java  | 103 ++++
 .../drill/exec/ref/exceptions/MajorException.java  |  46 ++
 .../drill/exec/ref/exceptions/RecordException.java |  48 ++
 .../drill/exec/ref/exceptions/SetupException.java  |  46 ++
 .../exec/ref/rops/AbstractBlockingOperator.java    |  66 +++
 .../drill/exec/ref/rops/AggregateSimpleROP.java    | 219 ++++++++
 .../apache/drill/exec/ref/rops/BaseSinkROP.java    | 107 ++++
 .../drill/exec/ref/rops/BoundaryListener.java      |  25 +
 .../org/apache/drill/exec/ref/rops/DataWriter.java |  45 ++
 .../org/apache/drill/exec/ref/rops/FilterROP.java  |  81 +++
 .../org/apache/drill/exec/ref/rops/GroupROP.java   |  75 +++
 .../apache/drill/exec/ref/rops/JSONDataWriter.java | 140 +++++
 .../apache/drill/exec/ref/rops/JSONScanner.java    | 183 +++++++
 .../org/apache/drill/exec/ref/rops/JSONWriter.java |  62 +++
 .../apache/drill/exec/ref/rops/MultiLevelMap.java  | 200 +++++++
 .../org/apache/drill/exec/ref/rops/OrderROP.java   | 165 ++++++
 .../org/apache/drill/exec/ref/rops/ProjectROP.java |  95 ++++
 .../drill/exec/ref/rops/ProxySimpleRecord.java     |  74 +++
 .../java/org/apache/drill/exec/ref/rops/ROP.java   |  12 +
 .../org/apache/drill/exec/ref/rops/ROPBase.java    |  62 +++
 .../drill/exec/ref/rops/ReferenceOperator.java     |   9 +
 .../drill/exec/ref/rops/ReferenceOperatorBase.java |  39 ++
 .../drill/exec/ref/rops/SingleInputROPBase.java    |  49 ++
 .../org/apache/drill/exec/ref/rops/SinkROP.java    |  30 +
 .../apache/drill/exec/ref/rops/TransformROP.java   |  89 +++
 .../org/apache/drill/exec/ref/rops/UnionROP.java   |  82 +++
 .../apache/drill/exec/ref/rops/WindowingROP.java   |  56 ++
 .../apache/drill/exec/ref/util/BatchBreaker.java   |  29 +
 .../org/apache/drill/exec/ref/util/ByteRange.java  |  17 +
 .../drill/exec/ref/values/BaseArrayValue.java      |  72 +++
 .../drill/exec/ref/values/BaseDataValue.java       |  66 +++
 .../apache/drill/exec/ref/values/BaseMapValue.java |  90 +++
 .../apache/drill/exec/ref/values/BooleanValue.java |  22 +
 .../apache/drill/exec/ref/values/BytesValue.java   |  28 +
 .../drill/exec/ref/values/ComparableValue.java     |  38 ++
 .../drill/exec/ref/values/ContainerValue.java      |  25 +
 .../apache/drill/exec/ref/values/DataValue.java    |  25 +
 .../apache/drill/exec/ref/values/NumericValue.java | 174 ++++++
 .../apache/drill/exec/ref/values/ScalarValues.java | 507 +++++++++++++++++
 .../drill/exec/ref/values/SimpleArrayValue.java    | 143 +++++
 .../drill/exec/ref/values/SimpleMapValue.java      |  97 ++++
 .../apache/drill/exec/ref/values/StringValue.java  |  22 +
 .../apache/drill/exec/ref/values/ValueReader.java  |  60 ++
 .../apache/drill/exec/ref/values/ValueUtils.java   |  78 +++
 .../exec/ref/src/main/resources/logback-test.xml   |  33 ++
 .../exec/ref/src/test/resources/donuts.json        | 129 +++++
 .../exec/ref/src/test/resources/simple_plan.json   |  76 +++
 .../src/main/java/org/apache/drill/App.java        |  13 -
 .../src/test/java/org/apache/drill/AppTest.java    |  38 --
 sandbox/prototype/pom.xml                          |   6 +
 .../src/main/java/org/apache/drill/App.java        |  13 -
 .../src/test/java/org/apache/drill/AppTest.java    |  38 --
 151 files changed, 9035 insertions(+), 934 deletions(-)

commit 39ccadae8125268678ea05a045fd0ee35f2f60de
Merge: 4fedb7a5b fe69e75ef
Author: tdunning <tdunning@apache.org>
Date:   Mon Dec 3 23:21:36 2012 +0100

    Merge branch 'DRILL-9' into DRILL-3

commit fe69e75ef27b4149db3c2d1c212d08b164f92f28
Author: tdunning <tdunning@apache.org>
Date:   Sun Dec 2 02:49:25 2012 -0800

    DRILL-9 - Add jackson dependencies

 sandbox/plan-parser/pom.xml | 35 +++++++++++++++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit 4125d38a87b4caf4c8d53a45c8aac688fea253e0
Author: tdunning <tdunning@apache.org>
Date:   Sun Dec 2 02:48:45 2012 -0800

    DRILL-9 - JSON based plan syntax

 .../java/org/apache/drill/plan/json/Consumer.java  |  33 +++++
 .../java/org/apache/drill/plan/json/Explode.java   |  41 ++++++
 .../org/apache/drill/plan/json/Expression.java     |  70 ++++++++++
 .../java/org/apache/drill/plan/json/Filter.java    |  33 +++++
 .../java/org/apache/drill/plan/json/GroupBy.java   |  53 ++++++++
 .../java/org/apache/drill/plan/json/MapTuple.java  |  39 ++++++
 .../apache/drill/plan/json/ScalarAggregate.java    |  70 ++++++++++
 .../main/java/org/apache/drill/plan/json/Scan.java |  83 +++++++++++
 .../java/org/apache/drill/plan/json/Sequence.java  |  66 +++++++++
 .../java/org/apache/drill/plan/json/SetValue.java  |  54 ++++++++
 .../drill/plan/json/SingleObjectCatcher.java       |  26 ++++
 .../java/org/apache/drill/plan/json/Tuple.java     |  10 ++
 .../java/org/apache/drill/plan/json/Utils.java     |  36 +++++
 .../org/apache/drill/plan/json/ExplodeTest.java    |  38 ++++++
 .../org/apache/drill/plan/json/FilterTest.java     |  27 ++++
 .../java/org/apache/drill/plan/json/ScanTest.java  |  26 ++++
 .../java/org/apache/drill/plan/json/TestUtils.java |  37 +++++
 .../org/apache/drill/plan/json/TupleCollector.java |  26 ++++
 .../src/test/resources/explode-flow.json           |  32 +++++
 .../src/test/resources/filter-flow.json            |  15 ++
 sandbox/plan-parser/src/test/resources/iris.csv    | 151 +++++++++++++++++++++
 sandbox/plan-parser/src/test/resources/test1.csv   |   3 +
 22 files changed, 969 insertions(+)

commit 008203bd5b1ecf2f95f09f5a908e19b087d479dc
Author: tdunning <tdunning@apache.org>
Date:   Sun Dec 2 02:49:41 2012 -0800

    Cleaned up parser tests.

 .../apache/drill/parsers/DrqlParserAstTest.java    |  67 ++++++--
 .../org/apache/drill/parsers/DrqlParserTest.java   | 188 ++++++++++-----------
 sandbox/query-parser/testdata/q1.drql.ast          |   7 +-
 3 files changed, 151 insertions(+), 111 deletions(-)

commit 4fedb7a5b24a9ce62c370da374d0d79e3077347e
Author: Jacques Nadeau <jacquesnadeau@gmail.com>
Date:   Thu Nov 29 19:11:49 2012 -0800

    Removed early distractions

 .../common/expression/visitors/BasicEvaluator.java | 22 ----------
 .../common/expression/visitors/GetIdentifiers.java | 28 -------------
 .../apache/drill/common/physical/Partitioner.java  | 23 -----------
 .../drill/common/physical/PhysicalOperator.java    | 42 -------------------
 .../apache/drill/common/physical/PhysicalPlan.java | 22 ----------
 .../common/physical/RowBatchReceiverSource.java    | 23 -----------
 .../drill/common/physical/RowBatchSenderSink.java  | 22 ----------
 .../apache/drill/common/physical/StreamSink.java   | 22 ----------
 .../apache/drill/common/physical/StreamSource.java | 22 ----------
 .../drill/common/physical/operators/Dump.java      | 22 ----------
 .../common/physical/operators/HashAggregate.java   | 22 ----------
 .../drill/common/physical/operators/HashJoin.java  | 22 ----------
 .../drill/common/physical/operators/Limit.java     | 22 ----------
 .../drill/common/physical/operators/MergeJoin.java | 22 ----------
 .../drill/common/physical/operators/RowRotate.java | 29 -------------
 .../drill/common/physical/operators/Scan.java      | 22 ----------
 .../drill/common/physical/operators/Sort.java      | 22 ----------
 .../drill/common/physical/operators/Store.java     | 22 ----------
 .../physical/operators/StreamingAggregate.java     | 22 ----------
 .../common/physical/operators/StreamingSort.java   | 22 ----------
 .../drill/common/physical/operators/Union.java     | 22 ----------
 .../apache/drill/common/storage/FieldSchema.java   | 47 ----------------------
 .../drill/common/storage/ReaderCapabilities.java   | 23 -----------
 .../apache/drill/common/storage/StorageEngine.java | 23 -----------
 .../apache/drill/common/storage/StorageReader.java | 42 -------------------
 .../apache/drill/common/storage/TreeHolder.java    | 29 -------------
 .../apache/drill/common/storage/ValueCapturer.java | 42 -------------------
 .../apache/drill/common/storage/ValueHolder.java   | 34 ----------------
 .../apache/drill/common/storage/ValueModifier.java | 23 -----------
 29 files changed, 760 deletions(-)

commit af71b1278d1ac55d9a4a40e2d2fe81568f0ccb50
Author: Jacques Nadeau <jacquesnadeau@gmail.com>
Date:   Thu Nov 29 19:04:21 2012 -0800

    Add license headers.  Updated operators to better match documentation, mostly immutable now.

 .../drill/common/expression/parser/ExprLexer.g     |  20 +++-
 .../drill/common/expression/parser/ExprParser.g    |  17 ++++
 .../drill/common/expression/BooleanFunctions.java  |  17 ++++
 .../org/apache/drill/common/expression/Cast.java   |  17 ++++
 .../apache/drill/common/expression/DataType.java   |  75 +++++++++-----
 .../common/expression/ExpressionFunction.java      |  20 +++-
 .../expression/ExpressionValidationError.java      |  17 ++++
 .../drill/common/expression/FieldReference.java    |  23 ++++-
 .../drill/common/expression/FunctionBase.java      |  17 ++++
 .../common/expression/FunctionDefinition.java      |  44 +++++++++
 .../drill/common/expression/FunctionName.java      |  17 ++++
 .../drill/common/expression/IfExpression.java      |  17 ++++
 .../drill/common/expression/LogicalExpression.java |  17 ++++
 .../common/expression/LogicalExpressionBase.java   |  17 ++++
 .../drill/common/expression/MathFunction.java      |  21 +++-
 .../drill/common/expression/StringFunctions.java   |  20 +++-
 .../drill/common/expression/TypeFunctions.java     |  17 ++++
 .../drill/common/expression/UnaryFunctions.java    |  17 ++++
 .../drill/common/expression/ValueExpressions.java  |  17 ++++
 .../expression/aggregate/BasicAggregates.java      |  17 ++++
 .../common/expression/visitors/BasicEvaluator.java |  17 ++++
 .../expression/visitors/FunctionVisitor.java       |  17 ++++
 .../common/expression/visitors/GetIdentifiers.java |  17 ++++
 .../common/expression/visitors/OpVisitor.java      |  17 ++++
 .../org/apache/drill/common/logical/FieldName.java |  17 ++++
 .../org/apache/drill/common/logical/FlowInput.java |  17 ++++
 .../apache/drill/common/logical/FlowOutput.java    |  17 ++++
 .../apache/drill/common/logical/LogicalPlan.java   |  17 ++++
 .../apache/drill/common/logical/OperatorGraph.java |  17 ++++
 .../drill/common/logical/OperatorRegistry.java     |   5 -
 .../drill/common/logical/OperatorResolver.java     |   5 -
 .../drill/common/logical/PlanProperties.java       |  17 ++++
 .../common/logical/UnexpectedOperatorType.java     |  17 ++++
 .../drill/common/logical/ValidationError.java      |  17 ++++
 .../drill/common/logical/data/Aggregate.java       |  56 +++++++++++
 .../apache/drill/common/logical/data/Cogroup.java  |  38 +++++++
 .../apache/drill/common/logical/data/Combine.java  |  38 -------
 .../apache/drill/common/logical/data/Explode.java  |  32 ------
 .../apache/drill/common/logical/data/Filter.java   |  33 ++++++-
 .../apache/drill/common/logical/data/Flatten.java  |  52 +++++++++-
 .../apache/drill/common/logical/data/Group.java    |  19 ----
 .../apache/drill/common/logical/data/Grouping.java |  46 +++++++++
 .../org/apache/drill/common/logical/data/Join.java |  89 +++++++++++------
 .../apache/drill/common/logical/data/Limit.java    |  46 +++++++++
 .../drill/common/logical/data/LogicalOperator.java |  26 +++--
 .../common/logical/data/LogicalOperatorBase.java   |  33 ++++++-
 .../drill/common/logical/data/NamedExpression.java |  47 +++++++++
 .../org/apache/drill/common/logical/data/Nest.java |  21 ----
 .../logical/data/OperatorListDeserializer.java     | 109 ---------------------
 .../apache/drill/common/logical/data/Order.java    |  85 +++++++++++++---
 .../apache/drill/common/logical/data/Project.java  |  37 +++++--
 .../org/apache/drill/common/logical/data/Scan.java |  43 ++++++--
 .../apache/drill/common/logical/data/Sequence.java |  18 +++-
 .../common/logical/data/SingleInputOperator.java   |  22 ++++-
 .../drill/common/logical/data/SinkOperator.java    |  23 ++++-
 .../drill/common/logical/data/SourceOperator.java  |  17 ++++
 .../drill/common/logical/data/Transform.java       |  40 ++++++--
 .../apache/drill/common/logical/data/Union.java    |  38 +++++--
 .../drill/common/logical/data/WindowFrame.java     |  89 +++++++++++++++++
 .../drill/common/logical/graph/AdjacencyList.java  |  19 +++-
 .../apache/drill/common/logical/graph/Edge.java    |  19 +++-
 .../drill/common/logical/graph/GraphAlgos.java     |  17 ++++
 .../apache/drill/common/logical/graph/Node.java    |  19 +++-
 .../drill/common/logical/sources/DataSource.java   |  17 ++++
 .../common/logical/sources/DataSourceBase.java     |  17 ++++
 .../apache/drill/common/logical/sources/Mongo.java |  17 ++++
 .../apache/drill/common/logical/sources/Mysql.java |  17 ++++
 .../apache/drill/common/logical/sources/Text.java  |  17 ++++
 .../logical/sources/record/FirstRowMaker.java      |  17 ++++
 .../common/logical/sources/record/RecordMaker.java |  17 ++++
 .../logical/sources/record/RecordMakerBase.java    |  17 ++++
 .../apache/drill/common/physical/Partitioner.java  |  17 ++++
 .../drill/common/physical/PhysicalOperator.java    |  17 ++++
 .../apache/drill/common/physical/PhysicalPlan.java |  17 ++++
 .../common/physical/RowBatchReceiverSource.java    |  17 ++++
 .../drill/common/physical/RowBatchSenderSink.java  |  17 ++++
 .../apache/drill/common/physical/StreamSink.java   |  17 ++++
 .../apache/drill/common/physical/StreamSource.java |  17 ++++
 .../drill/common/physical/operators/Dump.java      |  17 ++++
 .../common/physical/operators/HashAggregate.java   |  17 ++++
 .../drill/common/physical/operators/HashJoin.java  |  17 ++++
 .../drill/common/physical/operators/Limit.java     |  17 ++++
 .../drill/common/physical/operators/MergeJoin.java |  17 ++++
 .../drill/common/physical/operators/RowRotate.java |  17 ++++
 .../drill/common/physical/operators/Scan.java      |  17 ++++
 .../drill/common/physical/operators/Sort.java      |  17 ++++
 .../drill/common/physical/operators/Store.java     |  17 ++++
 .../physical/operators/StreamingAggregate.java     |  17 ++++
 .../common/physical/operators/StreamingSort.java   |  17 ++++
 .../drill/common/physical/operators/Union.java     |  17 ++++
 .../apache/drill/common/storage/FieldSchema.java   |  17 ++++
 .../drill/common/storage/ReaderCapabilities.java   |  17 ++++
 .../apache/drill/common/storage/StorageEngine.java |  17 ++++
 .../apache/drill/common/storage/StorageReader.java |  17 ++++
 .../apache/drill/common/storage/TreeHolder.java    |  17 ++++
 .../apache/drill/common/storage/ValueCapturer.java |  17 ++++
 .../apache/drill/common/storage/ValueHolder.java   |  17 ++++
 .../apache/drill/common/storage/ValueModifier.java |  17 ++++
 .../common/src/test/resources/example1.sql         |  77 ++++++++++++++-
 .../common/src/test/resources/example2.sql         |  45 ++++++++-
 .../common/src/test/resources/example3.sql         |   3 +
 .../common/src/test/resources/simple_plan.json     |  20 ++--
 102 files changed, 2191 insertions(+), 378 deletions(-)

commit eaa84d65369491c02d68cf7fff4aba3cf76d3294
Author: Jacques Nadeau <jacquesnadeau@gmail.com>
Date:   Mon Nov 26 18:27:41 2012 -0800

    Update operator graph to be graph shaped.  Automatically get source and sink operators and confirm their location

 .../drill/common/expression/BooleanFunctions.java  |  15 +--
 .../common/expression/ExpressionFunction.java      | 117 +++++++++++---------
 .../drill/common/expression/FieldReference.java    |   8 +-
 .../drill/common/expression/LogicalExpression.java | 104 +++++++++---------
 .../common/expression/visitors/OpVisitor.java      |   7 ++
 .../apache/drill/common/logical/LogicalPlan.java   |  55 +++++++++-
 .../apache/drill/common/logical/OperatorGraph.java | 106 ++++++++++++++++++
 .../common/logical/UnexpectedOperatorType.java     |  19 ++++
 .../drill/common/logical/ValidationError.java      |  22 +++-
 .../apache/drill/common/logical/data/Combine.java  |  32 +++++-
 .../apache/drill/common/logical/data/Explode.java  |  20 +++-
 .../apache/drill/common/logical/data/Filter.java   |   3 +-
 .../apache/drill/common/logical/data/Flatten.java  |   8 +-
 .../apache/drill/common/logical/data/Group.java    |  10 +-
 .../org/apache/drill/common/logical/data/Join.java |  36 +++++-
 .../drill/common/logical/data/LogicalOperator.java |   7 +-
 .../common/logical/data/LogicalOperatorBase.java   |  29 ++++-
 .../org/apache/drill/common/logical/data/Nest.java |  14 ++-
 .../logical/data/OperatorListDeserializer.java     |   5 +-
 .../apache/drill/common/logical/data/Order.java    |   6 +-
 .../apache/drill/common/logical/data/Project.java  |  14 ++-
 .../org/apache/drill/common/logical/data/Scan.java |  17 ++-
 .../apache/drill/common/logical/data/Sequence.java | 102 +++++++++++------
 .../common/logical/data/SingleInputOperator.java   |  23 +++-
 .../drill/common/logical/data/SinkOperator.java    |   9 ++
 .../drill/common/logical/data/SourceOperator.java  |   9 ++
 .../drill/common/logical/data/Transform.java       |   4 +-
 .../apache/drill/common/logical/data/Union.java    |  26 ++++-
 .../common/logical/data/ZeroInputOperator.java     |   5 -
 .../drill/common/logical/graph/AdjacencyList.java  |  98 +++++++++++++++++
 .../apache/drill/common/logical/graph/Edge.java    |  25 +++++
 .../drill/common/logical/graph/GraphAlgos.java     | 122 +++++++++++++++++++++
 .../apache/drill/common/logical/graph/Node.java    |  35 ++++++
 .../drill/common/logical/sources/DataSource.java   |   2 +
 .../common/src/test/resources/simple_plan.json     |  57 +++++++---
 35 files changed, 945 insertions(+), 226 deletions(-)

commit 78940e78dd20ca9b304def7cab3868014fae3d4a
Author: Jacques Nadeau <jacquesnadeau@gmail.com>
Date:   Fri Nov 23 22:51:02 2012 -0800

    Initial work on logical plan parser and expressions

 .gitignore                                         |  28 +---
 sandbox/prototype/common/pom.xml                   |  77 +++++++++
 .../drill/common/expression/parser/ExprLexer.g     |  93 +++++++++++
 .../drill/common/expression/parser/ExprParser.g    | 183 +++++++++++++++++++++
 .../drill/common/expression/BooleanFunctions.java  | 129 +++++++++++++++
 .../org/apache/drill/common/expression/Cast.java   |  27 +++
 .../apache/drill/common/expression/DataType.java   |  30 ++++
 .../common/expression/ExpressionFunction.java      |  70 ++++++++
 .../expression/ExpressionValidationError.java      |  22 +++
 .../drill/common/expression/FieldReference.java    |  57 +++++++
 .../drill/common/expression/FunctionBase.java      |  87 ++++++++++
 .../drill/common/expression/FunctionName.java      |  12 ++
 .../drill/common/expression/IfExpression.java      |  87 ++++++++++
 .../drill/common/expression/LogicalExpression.java |  97 +++++++++++
 .../common/expression/LogicalExpressionBase.java   |  64 +++++++
 .../drill/common/expression/MathFunction.java      |  84 ++++++++++
 .../drill/common/expression/StringFunctions.java   |  55 +++++++
 .../drill/common/expression/TypeFunctions.java     |  31 ++++
 .../drill/common/expression/UnaryFunctions.java    |  57 +++++++
 .../drill/common/expression/ValueExpressions.java  |  87 ++++++++++
 .../expression/aggregate/BasicAggregates.java      |   5 +
 .../common/expression/visitors/BasicEvaluator.java |   5 +
 .../expression/visitors/FunctionVisitor.java       |  11 ++
 .../common/expression/visitors/GetIdentifiers.java |  11 ++
 .../org/apache/drill/common/logical/FieldName.java |   5 +
 .../org/apache/drill/common/logical/FlowInput.java |   5 +
 .../apache/drill/common/logical/FlowOutput.java    |   5 +
 .../apache/drill/common/logical/LogicalPlan.java   |  47 ++++++
 .../drill/common/logical/OperatorRegistry.java     |   5 +
 .../drill/common/logical/OperatorResolver.java     |   5 +
 .../drill/common/logical/PlanProperties.java       |  14 ++
 .../drill/common/logical/ValidationError.java      |   5 +
 .../apache/drill/common/logical/data/Combine.java  |  12 ++
 .../apache/drill/common/logical/data/Explode.java  |  18 ++
 .../apache/drill/common/logical/data/Filter.java   |  11 ++
 .../apache/drill/common/logical/data/Flatten.java  |  12 ++
 .../apache/drill/common/logical/data/Group.java    |  13 ++
 .../org/apache/drill/common/logical/data/Join.java |  21 +++
 .../drill/common/logical/data/LogicalOperator.java |  24 +++
 .../common/logical/data/LogicalOperatorBase.java   |  25 +++
 .../org/apache/drill/common/logical/data/Nest.java |  17 ++
 .../logical/data/OperatorListDeserializer.java     | 108 ++++++++++++
 .../apache/drill/common/logical/data/Order.java    |  19 +++
 .../apache/drill/common/logical/data/Project.java  |  13 ++
 .../org/apache/drill/common/logical/data/Scan.java |  10 ++
 .../apache/drill/common/logical/data/Sequence.java | 117 +++++++++++++
 .../common/logical/data/SingleInputOperator.java   |  17 ++
 .../drill/common/logical/data/Transform.java       |  19 +++
 .../apache/drill/common/logical/data/Union.java    |   9 +
 .../common/logical/data/ZeroInputOperator.java     |   5 +
 .../drill/common/logical/sources/DataSource.java   |  12 ++
 .../common/logical/sources/DataSourceBase.java     |  12 ++
 .../apache/drill/common/logical/sources/Mongo.java |   8 +
 .../apache/drill/common/logical/sources/Mysql.java |   8 +
 .../apache/drill/common/logical/sources/Text.java  |  16 ++
 .../logical/sources/record/FirstRowMaker.java      |   8 +
 .../common/logical/sources/record/RecordMaker.java |   9 +
 .../logical/sources/record/RecordMakerBase.java    |   5 +
 .../apache/drill/common/physical/Partitioner.java  |   6 +
 .../drill/common/physical/PhysicalOperator.java    |  25 +++
 .../apache/drill/common/physical/PhysicalPlan.java |   5 +
 .../common/physical/RowBatchReceiverSource.java    |   6 +
 .../drill/common/physical/RowBatchSenderSink.java  |   5 +
 .../apache/drill/common/physical/StreamSink.java   |   5 +
 .../apache/drill/common/physical/StreamSource.java |   5 +
 .../drill/common/physical/operators/Dump.java      |   5 +
 .../common/physical/operators/HashAggregate.java   |   5 +
 .../drill/common/physical/operators/HashJoin.java  |   5 +
 .../drill/common/physical/operators/Limit.java     |   5 +
 .../drill/common/physical/operators/MergeJoin.java |   5 +
 .../drill/common/physical/operators/RowRotate.java |  12 ++
 .../drill/common/physical/operators/Scan.java      |   5 +
 .../drill/common/physical/operators/Sort.java      |   5 +
 .../drill/common/physical/operators/Store.java     |   5 +
 .../physical/operators/StreamingAggregate.java     |   5 +
 .../common/physical/operators/StreamingSort.java   |   5 +
 .../drill/common/physical/operators/Union.java     |   5 +
 .../apache/drill/common/storage/FieldSchema.java   |  30 ++++
 .../drill/common/storage/ReaderCapabilities.java   |   6 +
 .../apache/drill/common/storage/StorageEngine.java |   6 +
 .../apache/drill/common/storage/StorageReader.java |  25 +++
 .../apache/drill/common/storage/TreeHolder.java    |  12 ++
 .../apache/drill/common/storage/ValueCapturer.java |  25 +++
 .../apache/drill/common/storage/ValueHolder.java   |  17 ++
 .../apache/drill/common/storage/ValueModifier.java |   6 +
 .../test/java/org/apache/drill/ExpressionTest.java |  14 ++
 .../drill/common/expression/parser/TreeTest.java   |  45 +++++
 .../common/src/test/resources/example1.sql         |  61 +++++++
 .../common/src/test/resources/example2.sql         |  55 +++++++
 .../common/src/test/resources/example3.sql         |   0
 .../common/src/test/resources/logical_plan1.json   | 139 ++++++++++++++++
 .../common/src/test/resources/simple_plan.json     | 113 +++++++++++++
 sandbox/prototype/contrib/pom.xml                  |  28 ++++
 sandbox/prototype/contrib/storage-hbase/pom.xml    |  24 +++
 .../src/main/java/org/apache/drill/App.java        |  13 ++
 .../src/test/java/org/apache/drill/AppTest.java    |  38 +++++
 sandbox/prototype/exec/java-exec/pom.xml           |  24 +++
 .../src/main/java/org/apache/drill/App.java        |  13 ++
 .../src/test/java/org/apache/drill/AppTest.java    |  38 +++++
 sandbox/prototype/exec/pom.xml                     |  28 ++++
 sandbox/prototype/planner/pom.xml                  |  24 +++
 .../src/main/java/org/apache/drill/App.java        |  13 ++
 .../src/test/java/org/apache/drill/AppTest.java    |  38 +++++
 sandbox/prototype/pom.xml                          |  53 ++++++
 sandbox/prototype/sqlparser/pom.xml                |  24 +++
 .../src/main/java/org/apache/drill/App.java        |  13 ++
 .../src/test/java/org/apache/drill/AppTest.java    |  38 +++++
 107 files changed, 3114 insertions(+), 21 deletions(-)

commit a4b05de033675b6f2058b3c36177785bd4bc351c
Author: tdunning <tdunning@apache.org>
Date:   Mon Oct 22 16:43:47 2012 -0500

    DRILL-9 - Added commons I/O to pom (should move to test scope).  Fixed a number of small problems.  Still needs a lot of work.

 sandbox/query-parser/pom.xml                       |   5 +
 .../drill/parsers/impl/drqlantlr/AntlrParser.java  | 214 ++++++++++++++++++++-
 .../apache/drill/parsers/DrqlParserAstTest.java    |   0
 .../apache/drill/parsers/DrqlParserTest.java       |   0
 sandbox/query-parser/testdata/q1_temp.drql.sm      |   2 +-
 5 files changed, 217 insertions(+), 4 deletions(-)

commit 207f2e44089d6252b8155995fe9a0aef1971c55b
Author: tdunning <tdunning@apache.org>
Date:   Sun Oct 21 13:24:02 2012 -0700

    DRILL-9 - Rearrange into Maven form, small changes to get the code to compile

 sandbox/query-parse/testdata/q11.drql~             |  1 -
 sandbox/query-parse/testdata/q18.bql~              |  3 --
 sandbox/query-parse/testdata/q4.drql~              |  3 --
 sandbox/query-parser/pom.xml                       | 61 ++++++++++++++++++++++
 .../drill/parsers/impl/drqlantlr/DrqlAntlr.g       |  4 +-
 .../java/org/apache/drill/parsers/DrqlParser.java  |  0
 .../drill/parsers/impl/drqlantlr/AntlrParser.java} |  4 +-
 .../drill/parsers/impl/drqlantlr/AstNode.java      |  0
 .../parsers/impl/drqlantlr/SemanticModel.java      |  0
 .../apache/drill/parsers/DrqlParserAstTest.java    |  6 +--
 .../java/apache/drill/parsers/DrqlParserTest.java  | 26 ++++-----
 .../{query-parse => query-parser}/testdata/q1.drql |  0
 .../testdata/q1.drql.ast                           |  0
 .../testdata/q10.drql                              |  0
 .../testdata/q10.drql.ast                          |  0
 .../testdata/q11.drql                              |  0
 .../testdata/q11.drql.ast                          |  0
 .../testdata/q12.drql                              |  0
 .../testdata/q12.drql.ast                          |  0
 .../testdata/q13.drql                              |  0
 .../testdata/q13.drql.ast                          |  0
 .../testdata/q14.drql                              |  0
 .../testdata/q14.drql.ast                          |  0
 .../testdata/q15.drql                              |  0
 .../testdata/q15.drql.ast                          |  0
 .../testdata/q16.drql                              |  0
 .../testdata/q17.drql                              |  0
 .../{query-parse => query-parser}/testdata/q18.bql |  0
 .../testdata/q1_temp.drql.sm                       |  0
 .../{query-parse => query-parser}/testdata/q2.drql |  0
 .../testdata/q2.drql.ast                           |  0
 .../{query-parse => query-parser}/testdata/q3.drql |  0
 .../testdata/q3.drql.ast                           |  0
 .../{query-parse => query-parser}/testdata/q4.drql |  0
 .../testdata/q4.drql.ast                           |  0
 .../{query-parse => query-parser}/testdata/q5.drql |  0
 .../testdata/q5.drql.ast                           |  0
 .../{query-parse => query-parser}/testdata/q6.drql |  0
 .../testdata/q6.drql.ast                           |  0
 .../{query-parse => query-parser}/testdata/q7.drql |  0
 .../testdata/q7.drql.ast                           |  0
 .../{query-parse => query-parser}/testdata/q8.drql |  0
 .../testdata/q8.drql.ast                           |  0
 .../{query-parse => query-parser}/testdata/q9.drql |  0
 .../testdata/q9.drql.ast                           |  0
 .../testdata/query.drql                            |  0
 46 files changed, 79 insertions(+), 29 deletions(-)

commit 408168c4fb50bc20f324849e8875ba2f43849ed8
Author: tdunning <tdunning@apache.org>
Date:   Sun Oct 21 13:32:11 2012 -0700

    DRILL-11 - Literal copy.  Looks like we have a few author tags that should be removed.

 sandbox/web-frontend/.htaccess                     |    2 +
 sandbox/web-frontend/README.md                     |    5 +
 sandbox/web-frontend/drill.css                     |   82 +
 sandbox/web-frontend/drill.js                      |  431 +
 sandbox/web-frontend/dummy-drill/README.md         |  151 +
 sandbox/web-frontend/dummy-drill/dummy_drill.py    |   86 +
 sandbox/web-frontend/dummy-drill/gen_ds.py         |  100 +
 sandbox/web-frontend/img/feather-small.gif         |  Bin 0 -> 7500 bytes
 sandbox/web-frontend/index.html                    |  162 +
 .../lib/bootstrap/css/bootstrap-responsive.css     | 1058 +++
 .../lib/bootstrap/css/bootstrap-responsive.min.css |    9 +
 .../web-frontend/lib/bootstrap/css/bootstrap.css   | 5774 ++++++++++++
 .../lib/bootstrap/css/bootstrap.min.css            |    9 +
 .../bootstrap/img/glyphicons-halflings-white.png   |  Bin 0 -> 8777 bytes
 .../lib/bootstrap/img/glyphicons-halflings.png     |  Bin 0 -> 12799 bytes
 sandbox/web-frontend/lib/bootstrap/js/bootstrap.js | 2027 +++++
 .../web-frontend/lib/bootstrap/js/bootstrap.min.js |    6 +
 sandbox/web-frontend/lib/jquery.js                 | 9440 ++++++++++++++++++++
 sandbox/web-frontend/lib/jquery.renderjson.js      |   61 +
 19 files changed, 19403 insertions(+)

commit 68f556ecf9931b35694b0789d9455056fde58810
Author: tdunning <tdunning@apache.org>
Date:   Sun Oct 21 13:00:43 2012 -0700

    DRILL-9 - Move to something like maven standard layout

 .../{ => main/antlr}/org/apache/drill/parsers/impl/drqlantlr/DrqlAntlr.g  | 0
 .../src/{ => main/java}/org/apache/drill/parsers/DrqlParser.java          | 0
 .../{ => main/java}/org/apache/drill/parsers/impl/drqlantlr/AstNode.java  | 0
 .../{ => main/java}/org/apache/drill/parsers/impl/drqlantlr/Parser.java   | 0
 .../java}/org/apache/drill/parsers/impl/drqlantlr/SemanticModel.java      | 0
 .../org => src/test/java}/apache/drill/parsers/DrqlParserAstTest.java     | 0
 .../{test/org => src/test/java}/apache/drill/parsers/DrqlParserTest.java  | 0
 7 files changed, 0 insertions(+), 0 deletions(-)

commit 3df547ebc56e4e51a81c6a29014e5a57aac77288
Author: tdunning <tdunning@apache.org>
Date:   Sun Oct 21 12:55:12 2012 -0700

    DRILL-8 - Copy OpenDremel parser to drill sandbox

 .../src/org/apache/drill/parsers/DrqlParser.java   |  92 ++++
 .../drill/parsers/impl/drqlantlr/AstNode.java      |  52 ++
 .../drill/parsers/impl/drqlantlr/DrqlAntlr.g       | 289 +++++++++++
 .../drill/parsers/impl/drqlantlr/Parser.java       | 541 +++++++++++++++++++++
 .../parsers/impl/drqlantlr/SemanticModel.java      | 250 ++++++++++
 .../apache/drill/parsers/DrqlParserAstTest.java    |  53 ++
 .../org/apache/drill/parsers/DrqlParserTest.java   | 459 +++++++++++++++++
 sandbox/query-parse/testdata/q1.drql               |   3 +
 sandbox/query-parse/testdata/q1.drql.ast           |   1 +
 sandbox/query-parse/testdata/q10.drql              |   1 +
 sandbox/query-parse/testdata/q10.drql.ast          |   1 +
 sandbox/query-parse/testdata/q11.drql              |   1 +
 sandbox/query-parse/testdata/q11.drql.ast          |   1 +
 sandbox/query-parse/testdata/q11.drql~             |   1 +
 sandbox/query-parse/testdata/q12.drql              |   1 +
 sandbox/query-parse/testdata/q12.drql.ast          |   1 +
 sandbox/query-parse/testdata/q13.drql              |   1 +
 sandbox/query-parse/testdata/q13.drql.ast          |   1 +
 sandbox/query-parse/testdata/q14.drql              |   1 +
 sandbox/query-parse/testdata/q14.drql.ast          |   1 +
 sandbox/query-parse/testdata/q15.drql              |   8 +
 sandbox/query-parse/testdata/q15.drql.ast          |   1 +
 sandbox/query-parse/testdata/q16.drql              |   1 +
 sandbox/query-parse/testdata/q17.drql              |   1 +
 sandbox/query-parse/testdata/q18.bql               |   3 +
 sandbox/query-parse/testdata/q18.bql~              |   3 +
 sandbox/query-parse/testdata/q1_temp.drql.sm       |   1 +
 sandbox/query-parse/testdata/q2.drql               |   3 +
 sandbox/query-parse/testdata/q2.drql.ast           |   1 +
 sandbox/query-parse/testdata/q3.drql               |   4 +
 sandbox/query-parse/testdata/q3.drql.ast           |   1 +
 sandbox/query-parse/testdata/q4.drql               |   3 +
 sandbox/query-parse/testdata/q4.drql.ast           |   1 +
 sandbox/query-parse/testdata/q4.drql~              |   3 +
 sandbox/query-parse/testdata/q5.drql               |   1 +
 sandbox/query-parse/testdata/q5.drql.ast           |   1 +
 sandbox/query-parse/testdata/q6.drql               |   1 +
 sandbox/query-parse/testdata/q6.drql.ast           |   1 +
 sandbox/query-parse/testdata/q7.drql               |   1 +
 sandbox/query-parse/testdata/q7.drql.ast           |   1 +
 sandbox/query-parse/testdata/q8.drql               |   3 +
 sandbox/query-parse/testdata/q8.drql.ast           |   1 +
 sandbox/query-parse/testdata/q9.drql               |   1 +
 sandbox/query-parse/testdata/q9.drql.ast           |   1 +
 sandbox/query-parse/testdata/query.drql            |   1 +
 45 files changed, 1798 insertions(+)

commit be2ce8d2d404048304dc1c4392319380d3f00cb4
Author: tdunning <tdunning@apache.org>
Date:   Fri Oct 19 17:25:17 2012 -0700

    DRILL-5 - First "working" version of Explode/Implode

 .../main/java/org/apache/drill/plan/ParsePlan.java | 43 ++++++++---
 .../org/apache/drill/plan/PhysicalInterpreter.java | 85 ++++++++++++++++++---
 .../plan/physical/operators/ArithmeticOp.java      |  7 +-
 .../plan/physical/operators/BatchListener.java     | 11 +++
 .../apache/drill/plan/physical/operators/Bind.java |  6 +-
 .../plan/physical/operators/EvalOperator.java      | 13 ++++
 .../drill/plan/physical/operators/Explode.java     | 61 +++++++++++++--
 .../drill/plan/physical/operators/Implode.java     | 63 ++++++++++++++++
 .../drill/plan/physical/operators/JsonSchema.java  | 87 ++++++++++++++++++++++
 .../drill/plan/physical/operators/Operator.java    | 75 +++++++++++++------
 .../drill/plan/physical/operators/ScanJson.java    | 35 ++-------
 .../drill/plan/physical/operators/Schema.java      | 10 ++-
 .../java/org/apache/drill/plan/ParsePlanTest.java  | 12 ++-
 .../apache/drill/plan/PhysicalInterpreterTest.java | 18 +++--
 sandbox/plan-parser/src/test/resources/data1.json  |  1 +
 sandbox/plan-parser/src/test/resources/data2.json  |  2 +
 .../src/test/resources/physical-2.drillx           |  7 ++
 17 files changed, 431 insertions(+), 105 deletions(-)

commit 62cebad8e02e1a040c10d43ce9ae3437d278a7cb
Author: tdunning <tdunning@apache.org>
Date:   Thu Oct 18 15:16:44 2012 -0700

    DRILL-6 - ignore target

 .gitignore | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 2e2ce7a6882c18e192ef71034d4a67ad66809ca0
Author: tdunning <tdunning@apache.org>
Date:   Thu Oct 18 14:04:18 2012 -0700

    DRILL-6 - ignore target

 .../org/apache/drill/plan/physical/operators/Explode.java     | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit 2917c7b6ed33fd5ae1efa7bf61fe5d5ca008f993
Author: tdunning <tdunning@apache.org>
Date:   Wed Oct 17 18:35:02 2012 -0700

    DRILL-5 - Sample data for test of the physical plan interpreter.  Also, allow scan-json to read from resources for testing.

 .../drill/plan/physical/operators/ScanJson.java    |  8 ++++-
 .../apache/drill/plan/PhysicalInterpreterTest.java | 35 ++++++++++++++++++++++
 .../src/test/resources/physical-1.drillx           |  4 +++
 3 files changed, 46 insertions(+), 1 deletion(-)

commit efeec4d7bfecff53239be83d35f62519710f8dc1
Author: tdunning <tdunning@apache.org>
Date:   Wed Oct 17 16:33:43 2012 -0700

    DRILL-5 - dropped OperatorReference

 .../org/apache/drill/plan/PhysicalInterpreter.java |  5 ++-
 .../plan/physical/operators/ArithmeticOp.java      | 24 ++++++-------
 .../apache/drill/plan/physical/operators/Bind.java |  8 ++---
 .../drill/plan/physical/operators/ConstantOp.java  |  2 +-
 .../drill/plan/physical/operators/Filter.java      | 10 +++---
 .../drill/plan/physical/operators/Operator.java    |  4 +--
 .../plan/physical/operators/OperatorReference.java | 39 ----------------------
 .../drill/plan/physical/operators/ScanJson.java    |  6 ++--
 8 files changed, 29 insertions(+), 69 deletions(-)

commit 1d66bc75871975b73151769c05c8edebb187669b
Author: tdunning <tdunning@apache.org>
Date:   Wed Oct 17 11:23:05 2012 -0700

    DRILL-5 - dropped useless schema listener framework

 .../java/org/apache/drill/plan/physical/operators/Operator.java    | 7 -------
 .../java/org/apache/drill/plan/physical/operators/ScanJson.java    | 4 +---
 2 files changed, 1 insertion(+), 10 deletions(-)

commit cae05f8b35cfa5ac533f4f5d5b381d98afb7a8b2
Author: tdunning <tdunning@apache.org>
Date:   Wed Oct 17 11:02:51 2012 -0700

    Set language level to allow maven 2 builds.

 sandbox/plan-parser/pom.xml | 94 +++++++++++++++++++++++++--------------------
 1 file changed, 52 insertions(+), 42 deletions(-)

commit 4faaf1906820768f96bc22c4d7eaa9cb0738eaf9
Author: tdunning <tdunning@apache.org>
Date:   Wed Oct 17 11:00:30 2012 -0700

    Fixed half-baked test.

 .../src/test/java/org/apache/drill/plan/ParsePlanTest.java     | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 08ef0dd0c666b655c41eae14a568804941435e2f
Author: tdunning <tdunning@apache.org>
Date:   Wed Oct 17 10:34:02 2012 -0700

    DRILL-5 - Forgot OperatorReference class

 .../plan/physical/operators/OperatorReference.java | 39 ++++++++++++++++++++++
 1 file changed, 39 insertions(+)

commit a88e2620d1ea437c3203df82cd8d9f2d56a4427f
Author: tdunning <tdunning@apache.org>
Date:   Tue Oct 16 19:25:03 2012 -0700

    DRILL-5 - First kinda working version of plan interpreter.

 .../main/antlr3/org/apache/drill/plan/ast/Plan.g   |   6 +
 .../org/apache/drill/plan/PhysicalInterpreter.java |  81 +++++++++-
 .../main/java/org/apache/drill/plan/ast/Arg.java   |  68 +++++++++
 .../main/java/org/apache/drill/plan/ast/Plan.java  |  59 +++++---
 .../plan/physical/operators/ArithmeticOp.java      | 167 ++++++++++++++++++++-
 .../apache/drill/plan/physical/operators/Bind.java |  56 ++++++-
 .../drill/plan/physical/operators/ConstantOp.java  |  44 +++++-
 .../plan/physical/operators/DataListener.java      |  26 +++-
 .../plan/physical/operators/EvalOperator.java      |  31 +++-
 .../drill/plan/physical/operators/Filter.java      |  80 +++++++++-
 .../drill/plan/physical/operators/InvalidData.java |  29 +++-
 .../drill/plan/physical/operators/Operator.java    | 121 ++++++++++++++-
 .../drill/plan/physical/operators/ScanJson.java    | 121 ++++++++++++++-
 .../drill/plan/physical/operators/Schema.java      |  31 +++-
 .../plan/physical/operators/SchemaListener.java    |  26 +++-
 .../java/org/apache/drill/plan/ParsePlanTest.java  |   4 +-
 .../plan/physical/operators/ScanJsonTest.java      |  35 ++++-
 sandbox/plan-parser/src/test/resources/data1.json  |   4 +
 18 files changed, 886 insertions(+), 103 deletions(-)

commit 425147735396afaadc87969be1dbed6db5bb714d
Author: tdunning <tdunning@apache.org>
Date:   Tue Oct 16 18:28:40 2012 -0700

    Cleaner version of the proposed logos

 sandbox/logos/ApacheDrill.eps | Bin 0 -> 493730 bytes
 sandbox/logos/ApacheDrill.jpg | Bin 0 -> 72227 bytes
 sandbox/logos/ApacheDrill.png | Bin 0 -> 20508 bytes
 sandbox/logos/logos           | Bin 34131 -> 0 bytes
 4 files changed, 0 insertions(+), 0 deletions(-)

commit d39717dafd14ffb64b4c782e1bbe907a5ef57f05
Author: tdunning <tdunning@apache.org>
Date:   Mon Oct 15 23:18:54 2012 -0700

    Added copy of logo candidate

 sandbox/logos/logos | Bin 0 -> 34131 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 40bd40cc26a424e2408262c463df97545f0512ca
Author: tdunning <tdunning@apache.org>
Date:   Mon Oct 15 19:38:30 2012 -0700

    DRILL-5 - The beginnings of a physical plan interpreter.

 sandbox/plan-parser/pom.xml                                |  5 +++++
 .../java/org/apache/drill/plan/PhysicalInterpreter.java    | 11 +++++++++++
 .../apache/drill/plan/physical/operators/ArithmeticOp.java | 11 +++++++++++
 .../org/apache/drill/plan/physical/operators/Bind.java     | 11 +++++++++++
 .../apache/drill/plan/physical/operators/ConstantOp.java   | 11 +++++++++++
 .../apache/drill/plan/physical/operators/DataListener.java | 11 +++++++++++
 .../apache/drill/plan/physical/operators/EvalOperator.java | 11 +++++++++++
 .../org/apache/drill/plan/physical/operators/Filter.java   | 11 +++++++++++
 .../apache/drill/plan/physical/operators/InvalidData.java  | 14 ++++++++++++++
 .../org/apache/drill/plan/physical/operators/Operator.java | 11 +++++++++++
 .../org/apache/drill/plan/physical/operators/ScanJson.java | 11 +++++++++++
 .../org/apache/drill/plan/physical/operators/Schema.java   | 12 ++++++++++++
 .../drill/plan/physical/operators/SchemaListener.java      | 11 +++++++++++
 .../apache/drill/plan/physical/operators/ScanJsonTest.java | 11 +++++++++++
 sandbox/plan-parser/src/test/resources/data1.json          |  0
 15 files changed, 152 insertions(+)

commit a38aa97779826c2d33d6a25656fbbc7205509777
Author: tdunning <tdunning@apache.org>
Date:   Mon Oct 15 15:48:35 2012 -0700

    Improved error messages slightly.

 sandbox/plan-parser/pom.xml                        |  2 +-
 .../main/antlr3/org/apache/drill/plan/ast/Plan.g   | 66 ++++++++++++++++++----
 .../java/org/apache/drill/plan/ParsePlanTest.java  | 26 +++++++++
 .../src/test/resources/bad-plan1.drillx            |  3 +
 .../src/test/resources/bad-plan2.drillx            |  1 +
 5 files changed, 86 insertions(+), 12 deletions(-)

commit b4e471ae1115d0625b7db94d3154da3b61f91a6f
Author: tdunning <tdunning@apache.org>
Date:   Sun Oct 14 15:14:00 2012 -0700

    DRILL-4 - First version of plan parser

 sandbox/plan-parser/pom.xml                        |  52 ++++++++++
 .../main/antlr3/org/apache/drill/plan/ast/Plan.g   |  59 ++++++++++++
 .../main/java/org/apache/drill/plan/ParsePlan.java | 106 ++++++++++++++++++++
 .../main/java/org/apache/drill/plan/ast/Arg.java   |  64 ++++++++++++
 .../drill/plan/ast/LogicalPlanParseException.java  |  11 +++
 .../main/java/org/apache/drill/plan/ast/Op.java    |  35 +++++++
 .../main/java/org/apache/drill/plan/ast/Plan.java  |  29 ++++++
 .../java/org/apache/drill/plan/ParsePlanTest.java  | 107 +++++++++++++++++++++
 .../plan-parser/src/test/resources/plan1.drillx    |   3 +
 .../plan-parser/src/test/resources/plan2.drillx    |   9 ++
 .../plan-parser/src/test/resources/plan3.drillx    |  11 +++
 .../plan-parser/src/test/resources/plan4.drillx    |  13 +++
 12 files changed, 499 insertions(+)

commit 9229caa45a32dc06625f2443b6a5d84ab0a4df10
Author: Ted Dunning <ted.dunning@gmail.com>
Date:   Mon Sep 3 13:21:32 2012 -0700

    First commit

 README.md | 127 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 127 insertions(+)

