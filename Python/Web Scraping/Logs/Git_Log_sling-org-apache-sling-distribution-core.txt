commit deb3d2ae33c4f4678c8503091a9fffdbb141e569
Author: Alexei Krainiouk <akrainio@adobe.com>
Date:   Fri Sep 13 07:38:58 2019 -0700

    SLING-8668 Hook up newly introduced cugHandling option. (#21)
    
    * SLING-8668 Hook up newly introduced cugHandling option

 pom.xml                                                    |  2 +-
 .../serialization/impl/vlt/FileVaultContentSerializer.java |  6 ++++--
 .../impl/vlt/VaultDistributionPackageBuilderFactory.java   | 14 +++++++++++++-
 .../distribution/serialization/impl/vlt/VltUtils.java      |  8 +++++++-
 .../importer/LocalDistributionPackageImporterTest.java     |  1 +
 .../impl/vlt/FileVaultContentSerializerTest.java           |  4 ++--
 6 files changed, 28 insertions(+), 7 deletions(-)

commit afab40764c67c8eefc060a00e4b619c318443b19
Author: Christian Schneider <cschneid@adobe.com>
Date:   Mon Aug 5 16:00:23 2019 +0200

    SLING-8591 - Remove hook again

 .../distribution/packaging/PackageInstallHook.java | 46 --------------
 .../impl/AbstractDistributionPackageBuilder.java   | 16 ++---
 .../impl/FileDistributionPackageBuilder.java       |  9 ++-
 .../impl/InMemoryDistributionPackageBuilder.java   |  9 ++-
 .../packaging/impl/NoopPackageInstallHook.java     | 45 -------------
 .../impl/ResourceDistributionPackageBuilder.java   |  9 ++-
 .../sling/distribution/packaging/package-info.java |  2 +-
 .../impl/DistributionPackageBuilderFactory.java    | 11 +---
 .../VaultDistributionPackageBuilderFactory.java    | 12 +---
 .../impl/FileDistributionPackageBuilderTest.java   |  4 +-
 .../InMemoryDistributionPackageBuilderTest.java    | 74 ++--------------------
 .../LocalDistributionPackageImporterTest.java      |  5 +-
 12 files changed, 31 insertions(+), 211 deletions(-)

commit 853b331f776ef67b577b28fdd5cd0b35372771dc
Author: Christian Schneider <cschneid@adobe.com>
Date:   Thu Jul 25 19:33:11 2019 +0200

    SLING-8591 - Fix test

 src/test/java/org/apache/sling/distribution/DistributionBaseIT.java    | 3 +++
 .../apache/sling/distribution/queue/impl/resource/ResourceQueueIT.java | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit f5da6fcd65e5a3b50f47c0345d35ccb3c65af830
Author: Christian Schneider <cschneid@adobe.com>
Date:   Thu Jul 25 17:23:04 2019 +0200

    SLING-8591 - Fix noop hook name

 .../sling/distribution/packaging/impl/NoopPackageInstallHook.java       | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cc8ea64cc836280335eb66a587d5da330a2f9ac4
Author: Christian Schneider <cschneid@adobe.com>
Date:   Thu Jul 25 13:34:00 2019 +0200

    SLING-8595 - Fix warnings after parent update

 pom.xml                                                  |  3 ---
 .../agent/impl/AbstractDistributionAgentFactory.java     | 12 ++++++------
 .../agent/impl/QueueDistributionAgentFactory.java        |  2 --
 .../component/impl/DistributionComponentKind.java        |  1 -
 .../component/impl/OsgiConfigurationManager.java         |  4 +---
 .../impl/MonitoringDistributionPackageBuilder.java       | 12 ++++++------
 .../impl/MonitoringDistributionQueueProvider.java        | 16 ++++++++++------
 .../JobHandlingDistributionQueueProvider.java            |  4 ++--
 .../queue/impl/resource/ResourceQueueProvider.java       |  4 ++--
 .../impl/DistributionPackageBuilderFactory.java          |  4 ++--
 .../impl/vlt/VaultDistributionPackageBuilderFactory.java |  4 ++--
 .../servlet/DistributionAgentCreationFilter.java         |  5 +++--
 ...erCredentialsDistributionTransportSecretProvider.java |  4 ++--
 .../DistributionEventDistributeDistributionTrigger.java  |  8 ++++----
 .../trigger/impl/ResourceEventDistributionTrigger.java   |  8 ++++----
 .../queue/impl/simple/SimpleDistributionQueueTest.java   |  1 -
 .../impl/ResourceEventDistributionTriggerTest.java       |  3 ++-
 .../sling/distribution/util/impl/DigestUtilsTest.java    |  2 +-
 .../util/impl/FileBackedMemoryOutputStreamTest.java      |  3 ++-
 19 files changed, 49 insertions(+), 51 deletions(-)

commit 03bd690070c898f5a7a11eb63dfd5975fecda25a
Author: Christian Schneider <cschneid@adobe.com>
Date:   Wed Jul 24 09:34:56 2019 +0200

    SLING-8591 - Simplify ResourceQueueIT

 .../sling/distribution/DistributionBaseIT.java     | 60 ++-------------
 .../queue/impl/resource/ResourceQueueIT.java       | 87 ++++++++++------------
 2 files changed, 49 insertions(+), 98 deletions(-)

commit a1850193d63ddedced4ad982df18a62345cdf41b
Author: Christian Schneider <cschneid@adobe.com>
Date:   Wed Jul 24 08:39:39 2019 +0200

    SLING-8595 - Update of parent to make this module better compatible to upstream modules

 pom.xml                                                     | 13 ++++++++++++-
 .../event/impl/DefaultDistributionEventFactory.java         |  2 +-
 2 files changed, 13 insertions(+), 2 deletions(-)

commit 8e7ba8a9f15dc40a60767e67ed0f68c71dbc24df
Merge: c122d2b a67cb5f
Author: Christian Schneider <chris@die-schneider.net>
Date:   Wed Jul 24 08:35:40 2019 +0200

    Merge pull request #20 from apache/SLING-8591-3
    
    SLING-8591 - Hook to support custom code when installing or deleting â€¦

commit a67cb5f1f468ddfc2d6c64845646b1599389a20a
Author: Christian Schneider <cschneid@adobe.com>
Date:   Tue Jul 23 14:40:30 2019 +0200

    SLING-8591 - Change to void as we always return true

 .../packaging/impl/AbstractDistributionPackageBuilder.java  | 13 ++++++-------
 .../packaging/impl/FileDistributionPackageBuilder.java      |  3 +--
 .../packaging/impl/InMemoryDistributionPackageBuilder.java  |  3 +--
 .../packaging/impl/ResourceDistributionPackageBuilder.java  |  3 +--
 4 files changed, 9 insertions(+), 13 deletions(-)

commit 7801566ee0d0cab8bfe24c128429e9bad5bc00d3
Author: Christian Schneider <cschneid@adobe.com>
Date:   Tue Jul 23 14:40:16 2019 +0200

    SLING-8591 - Fix issues from review

 .../packaging/impl/InMemoryDistributionPackageBuilderTest.java       | 5 -----
 .../sling/distribution/queue/impl/resource/ResourceQueueIT.java      | 2 --
 2 files changed, 7 deletions(-)

commit 1387a7da50cd6e02e99bbd4063003c646a88de70
Author: Christian Schneider <cschneid@adobe.com>
Date:   Mon Jul 22 20:19:41 2019 +0200

    SLING-8591 - Hook to support custom code when installing or deleting distribution packages

 .../distribution/packaging/PackageInstallHook.java | 46 +++++++++++++
 .../impl/AbstractDistributionPackageBuilder.java   | 13 +++-
 .../impl/FileDistributionPackageBuilder.java       |  6 +-
 .../impl/InMemoryDistributionPackageBuilder.java   |  6 +-
 .../packaging/impl/NoopPackageInstallHook.java     | 45 ++++++++++++
 .../impl/ResourceDistributionPackageBuilder.java   |  6 +-
 .../sling/distribution/packaging/package-info.java |  2 +-
 .../impl/DistributionPackageBuilderFactory.java    | 11 ++-
 .../VaultDistributionPackageBuilderFactory.java    | 11 ++-
 .../sling/distribution/DistributionBaseIT.java     |  3 -
 .../packaging/DistributionPackageInfoTest.java     | 31 +++++++++
 .../impl/FileDistributionPackageBuilderTest.java   |  4 +-
 .../InMemoryDistributionPackageBuilderTest.java    | 79 ++++++++++++++++++++--
 .../impl/SimpleDistributionPackageTest.java        | 52 +++++++++++++-
 .../LocalDistributionPackageImporterTest.java      |  5 +-
 .../queue/impl/resource/ResourceQueueIT.java       |  2 +
 src/test/resources/logback.xml                     | 30 ++++++++
 17 files changed, 324 insertions(+), 28 deletions(-)

commit c122d2b901d78d532f5628cd29a7f8cf48e0ddcc
Author: tmaret <tmaret@adobe.com>
Date:   Thu Feb 28 15:41:26 2019 +0100

    SLING-4075 - Improve test coverage of SCD
    
    * Allow to run DistributionBaseIT tests without specifying system properties

 pom.xml                                                             | 6 ------
 src/test/java/org/apache/sling/distribution/DistributionBaseIT.java | 3 ++-
 2 files changed, 2 insertions(+), 7 deletions(-)

commit e6ac94a50b118f86337b80ea21b3252eea1fbd45
Author: tmaret <tmaret@adobe.com>
Date:   Thu Feb 28 15:20:03 2019 +0100

    SLING-4075 - Improve test coverage of SCD
    
    * Fix SimpleDistributionQueueProcessorTest

 .../queue/impl/simple/SimpleDistributionQueueProcessorTest.java      | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 83b7c010681172cd8500c525ac991c82930552eb
Author: tmaret <tmaret@adobe.com>
Date:   Thu Feb 28 15:08:37 2019 +0100

    SLING-4075 - Improve test coverage of SCD
    
    * Fix SingleQueueDistributionStrategyTest

 .../queue/impl/SingleQueueDistributionStrategyTest.java           | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 3d07a7dc235bd892c7fdbd84d4f76b3e4be2f294
Author: tmaret <tmaret@adobe.com>
Date:   Thu Feb 28 15:03:25 2019 +0100

    SLING-4075 - Improve test coverage of SCD
    
    * Fix LocalDistributionPackageImporterTest#importPackageWithLargeHeader

 .../impl/importer/LocalDistributionPackageImporterTest.java        | 7 +++++++
 1 file changed, 7 insertions(+)

commit 85ab2718fda22e5690ddc9903051f9b074082153
Author: tmaret <tmaret@adobe.com>
Date:   Wed Feb 27 16:13:37 2019 +0100

    SLING-4075 - Improve test coverage of SCD
    
    * Add ByteBufferBackedInputStream unit test coverage

 .../util/impl/ByteBufferBackedInputStreamTest.java | 79 ++++++++++++++++++++++
 1 file changed, 79 insertions(+)

commit 2d000375175b3bfa1a103d781db160f04d469053
Author: tmaret <tmaret@adobe.com>
Date:   Wed Feb 27 15:33:53 2019 +0100

    SLING-4075 - Improve test coverage of SCD
    
    * Add DigestUtils unit test coverage

 .../distribution/util/impl/DigestUtilsTest.java    | 84 ++++++++++++++++++++++
 1 file changed, 84 insertions(+)

commit 90aa72011053da11d666919a96eddcc5a7300335
Author: tmaret <tmaret@adobe.com>
Date:   Wed Feb 27 15:24:24 2019 +0100

    SLING-4075 - Improve test coverage of SCD
    
    * Cleanup dead code in DigestUtils

 .../sling/distribution/util/impl/DigestUtils.java  | 25 ----------------------
 1 file changed, 25 deletions(-)

commit 78b28f3cbc1cbfe83f7adb4adba302c27d71de1e
Author: tmaret <tmaret@adobe.com>
Date:   Wed Feb 27 15:10:07 2019 +0100

    SLING-4075 - Improve test coverage of SCD
    
    * Extend FileBackedMemoryOutputStream unit test coverage

 .../impl/FileBackedMemoryOutputStreamTest.java     | 59 +++++++++++++++++++---
 1 file changed, 53 insertions(+), 6 deletions(-)

commit 2b7940870b1b22dcce80975e5b641c397bc12301
Author: tmaret <tmaret@adobe.com>
Date:   Wed Feb 27 14:56:21 2019 +0100

    SLING-4075 - Improve test coverage of SCD
    
    * Add DistributionJcrUtils unit test coverage

 .../util/DistributionJcrUtilsTest.java             | 60 ++++++++++++++++++++++
 .../sling/distribution/util/RequestUtilsTest.java  |  5 +-
 2 files changed, 62 insertions(+), 3 deletions(-)

commit 8bf271c9d924646e03278d6f2fdf9b4b6a6d21e1
Author: tmaret <tmaret@adobe.com>
Date:   Wed Feb 27 14:41:30 2019 +0100

    SLING-4075 - Improve test coverage of SCD
    
    * Add DefaultDistributionLog unit test coverage

 .../log/impl/DefaultDistributionLogTest.java       | 135 +++++++++++++++++++++
 1 file changed, 135 insertions(+)

commit 35f0a7d10f024e06f5c765b3e1512a6685d91599
Author: tmaret <tmaret@adobe.com>
Date:   Wed Feb 27 13:35:02 2019 +0100

    SLING-4075 - Improve test coverage of SCD
    
    * Add RequestUtils unit test coverage

 .../sling/distribution/util/RequestUtilsTest.java  | 66 ++++++++++++++++++++++
 1 file changed, 66 insertions(+)

commit c6fa5430d76a6c5c6dadd385a60fee4dddbc0c47
Author: Radu Cotescu <radu@apache.org>
Date:   Thu Jan 31 13:11:15 2019 +0100

    Updating badges for org-apache-sling-distribution-core

 README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a3ad059071f05ed5e650977d843e529e90fb3723
Author: Robert Munteanu <rombert@apache.org>
Date:   Tue Jan 29 23:13:40 2019 +0100

    SLING-7245 - Validate pull requests using Jenkins

 Jenkinsfile | 20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit 093d4f273dc96ed5b88aa73b33c3ff0fe00cf732
Author: Marius Petria <mpetria@adobe.com>
Date:   Wed Dec 5 09:50:58 2018 +0200

    [maven-release-plugin] prepare for next development iteration

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 81fe00f4afe2f5f7a6e5a0aa5bef40db2267fa9e
Author: Marius Petria <mpetria@adobe.com>
Date:   Wed Dec 5 09:50:39 2018 +0200

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.4.0

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5bf8e095024b3ecd395d786084baaf13ea4e9590
Author: tmaret <tmaret@adobe.com>
Date:   Mon Nov 12 16:54:22 2018 +0100

    SLING-8097 - Expose queue capabilities as resource property

 .../ExtendedDistributionServiceResourceProvider.java  | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit c3aa04c6e03af966388a6bffd96b92a32df05216
Author: tmaret <tmaret@adobe.com>
Date:   Mon Nov 12 16:36:36 2018 +0100

    SLING-8098 - Update DistributionQueue method/variable to deal with entries

 .../exporter/AgentDistributionPackageExporter.java |  2 +-
 .../distribution/queue/DistributionQueueEntry.java |  8 ++---
 .../distribution/queue/DistributionQueueItem.java  |  4 +--
 .../queue/impl/CachingDistributionQueue.java       |  1 +
 .../queue/impl/DistributionQueueWrapper.java       | 10 +++---
 .../queue/impl/SimpleAgentDistributionQueue.java   |  1 +
 .../jobhandling/JobHandlingDistributionQueue.java  |  7 ++--
 .../queue/impl/resource/ResourceQueue.java         | 12 +++----
 .../queue/impl/simple/SimpleDistributionQueue.java |  9 ++---
 .../simple/SimpleDistributionQueueCheckpoint.java  |  2 +-
 .../distribution/queue/spi/DistributionQueue.java  | 41 +++++++++-------------
 ...xtendedDistributionServiceResourceProvider.java |  4 +--
 .../servlet/DistributionAgentQueueServlet.java     |  2 +-
 .../monitor/DistributionQueueHealthCheckTest.java  |  4 +--
 .../JobHandlingDistributionQueueTest.java          |  2 +-
 .../queue/impl/resource/ResourceQueueIT.java       |  2 +-
 .../SimpleDistributionQueueCheckpointTest.java     |  4 +--
 .../impl/simple/SimpleDistributionQueueTest.java   |  5 ++-
 18 files changed, 56 insertions(+), 64 deletions(-)

commit cac45808dd4efbd1089f3a34d8b4bd456ac2dc26
Author: tmaret <tmaret@adobe.com>
Date:   Fri Nov 9 14:26:56 2018 +0100

    SLING-8086 - Extend distribution queue SPI with the ability to clear and batch remove items

 .../queue/DistributionQueueCapabilities.java       | 42 ++++++++++++++++++
 .../queue/impl/DistributionQueueWrapper.java       | 33 ++++++++++++++
 .../jobhandling/JobHandlingDistributionQueue.java  | 42 ++++++++++++++++++
 .../queue/impl/resource/ResourceQueue.java         | 45 +++++++++++++++++++
 .../queue/impl/simple/SimpleDistributionQueue.java | 42 ++++++++++++++++++
 .../sling/distribution/queue/package-info.java     |  2 +-
 .../distribution/queue/spi/DistributionQueue.java  | 28 ++++++++++++
 .../sling/distribution/queue/spi/package-info.java |  2 +-
 .../servlet/DistributionAgentQueueServlet.java     | 50 ++++++++++++++--------
 9 files changed, 265 insertions(+), 21 deletions(-)

commit 6046e6d7d1749e9818f719d0d06be0bc79b24c30
Author: Marius Petria <mpetria@adobe.com>
Date:   Wed Oct 17 16:09:44 2018 +0300

    SLING-7754: added some more logging

 .../queue/impl/resource/ResourceQueueCleanupTask.java             | 2 +-
 .../distribution/queue/impl/resource/ResourceQueueUtils.java      | 8 +++++---
 2 files changed, 6 insertions(+), 4 deletions(-)

commit bd066470920a1e722a2b38717fa9d80feaa73851
Author: Marius Petria <mpetria@adobe.com>
Date:   Wed Oct 17 13:57:29 2018 +0300

    SLING-7754: fix entered date for resource queue items

 .../distribution/queue/impl/resource/ResourceQueueUtils.java     | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 6a3670c1cfe1779aff3f9fe9e1b4df04b4e112cd
Author: Marius Petria <mpetria@adobe.com>
Date:   Mon Jun 25 17:13:03 2018 +0300

    SLING-7754: implementation of Resource Based Queues

 pom.xml                                            |  75 ++++
 .../agent/impl/QueueDistributionAgentFactory.java  |  21 +-
 .../impl/DistributionQueueProviderFactory.java     |  28 ++
 ...obHandlingQueueDistributionProviderFactory.java |  61 +++
 .../queue/impl/resource/ResourceIterator.java      | 123 ++++++
 .../queue/impl/resource/ResourceQueue.java         | 231 ++++++++++++
 .../impl/resource/ResourceQueueCleanupTask.java    | 112 ++++++
 .../queue/impl/resource/ResourceQueueProvider.java |  92 +++++
 .../resource/ResourceQueueProviderFactory.java     |  62 +++
 .../queue/impl/resource/ResourceQueueUtils.java    | 416 +++++++++++++++++++++
 .../sling/distribution/DistributionBaseIT.java     | 152 ++++++++
 .../queue/impl/resource/ResourceIteratorTest.java  | 166 ++++++++
 .../queue/impl/resource/ResourceQueueIT.java       | 237 ++++++++++++
 .../impl/resource/ResourceQueueUtilsTest.java      | 100 +++++
 14 files changed, 1870 insertions(+), 6 deletions(-)

commit 7091d59e4d7e6e1d9715bd1cecc6016eea3a0c6e
Author: Radu Cotescu <radu@apache.org>
Date:   Thu Sep 20 11:09:02 2018 +0200

    trivial: added license header to *.md files

 CODE_OF_CONDUCT.md | 18 ++++++++++++++++++
 CONTRIBUTING.md    | 18 ++++++++++++++++++
 2 files changed, 36 insertions(+)

commit a04129b0416e3e4e4a38afceedd3de4e8a789eab
Author: Radu Cotescu <radu@apache.org>
Date:   Wed Sep 19 18:29:17 2018 +0200

    SLING-7215 - [nice-to-have] Add a CONTRIBUTING file to every module

 CONTRIBUTING.md | 6 ++++++
 1 file changed, 6 insertions(+)

commit baa5276c6f02e8de1c8085c285510b7e71d9e32c
Author: Radu Cotescu <radu@apache.org>
Date:   Wed Sep 19 18:04:00 2018 +0200

    SLING-7216 - [nice-to-have] Add a CODE_OF_CONDUCT file to every module

 CODE_OF_CONDUCT.md | 4 ++++
 1 file changed, 4 insertions(+)

commit a723549c005df6ea01923d53ab3c693fbf99e12c
Author: Nicolas Peltier <npeltier@adobe.com>
Date:   Mon Sep 17 14:02:52 2018 +0200

    [maven-release-plugin] prepare for next development iteration

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f67f97f214d07b438f91cac7ddd2794f4f82df38
Author: Nicolas Peltier <npeltier@adobe.com>
Date:   Mon Sep 17 14:01:26 2018 +0200

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.3.4

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 346f2daa9927451ff8f50a1dd7f91f213c57c838
Author: Nicolas Peltier <npeltier@adobe.com>
Date:   Mon Sep 17 13:29:43 2018 +0200

    Revert "SLING-7798 update pkg info"
    
    This reverts commit 32ae0eb6a580e97384ce404831057c524cd04e34.

 src/main/java/org/apache/sling/distribution/packaging/package-info.java | 2 +-
 .../java/org/apache/sling/distribution/serialization/package-info.java  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 4919d77053bb9e2bd5faa97b4ba4de6a2becde96
Author: Nicolas Peltier <npeltier@adobe.com>
Date:   Thu Sep 13 16:17:11 2018 +0200

    [maven-release-plugin] prepare for next development iteration

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ec79ffcd63635afb153d72516a3a38dc0e0359a9
Author: Nicolas Peltier <npeltier@adobe.com>
Date:   Thu Sep 13 16:16:19 2018 +0200

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.3.2

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 32ae0eb6a580e97384ce404831057c524cd04e34
Author: Nicolas Peltier <npeltier@adobe.com>
Date:   Thu Sep 13 16:12:38 2018 +0200

    SLING-7798 update pkg info

 src/main/java/org/apache/sling/distribution/packaging/package-info.java | 2 +-
 .../java/org/apache/sling/distribution/serialization/package-info.java  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit eb34c61d939100655acd933d6f7e69c5ed575093
Merge: 490bfa4 0e964ae
Author: Nicolas Peltier <peltier.nicolas@gmail.com>
Date:   Wed Sep 12 09:19:23 2018 +0200

    Merge pull request #10 from addy0001/SLING-7902
    
    SLING-7902 Fix for http.conn.timeout not being read from the configs.

commit 0e964ae716342cdf8ec4503030b81bde9deb3809
Author: adisharm <adisharm@adobe.com>
Date:   Wed Sep 12 12:40:21 2018 +0530

    SLING-7902 Fix for http.conn.timeout not being read from the configs.

 .../sling/distribution/agent/impl/ForwardDistributionAgentFactory.java  | 2 +-
 .../sling/distribution/agent/impl/ReverseDistributionAgentFactory.java  | 2 +-
 .../sling/distribution/agent/impl/SyncDistributionAgentFactory.java     | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 490bfa4d8b7719d0153ce837fcbb30b02f1a5d10
Author: Marius Petria <mpetria@adobe.com>
Date:   Tue Aug 21 14:59:00 2018 +0300

    [maven-release-plugin] prepare for next development iteration

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 60719c24b64ffed88cd9b5ac22821db03d70633c
Author: Marius Petria <mpetria@adobe.com>
Date:   Tue Aug 21 14:58:16 2018 +0300

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.3.0

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4f64c43a965241a9d5672fb3dc1e635fcbf7f6a1
Author: Marius Petria <mpetria@adobe.com>
Date:   Tue Aug 21 14:03:51 2018 +0300

    disable javadoc doclint errors

 pom.xml | 3 +++
 1 file changed, 3 insertions(+)

commit af3140fc5641c6c3eeee94b1bbc4dbd4013965e6
Author: sseifert <sseifert@pro-vision.de>
Date:   Mon Aug 13 11:26:52 2018 +0200

    SLING-7798 Switch from JSR-305 annotations to JetBrains Nullable/NotNull annotations

 pom.xml                                            |  6 ++--
 .../DistributionRequestAuthorizationStrategy.java  |  5 ++-
 ...geDistributionRequestAuthorizationStrategy.java |  4 +--
 ...ibutionRequestAuthorizationStrategyFactory.java |  5 ++-
 .../impl/QueueingDistributionPackageProcessor.java | 15 ++++----
 .../agent/impl/SimpleDistributionAgent.java        | 17 +++++----
 .../SimpleDistributionAgentAuthenticationInfo.java |  9 +++--
 .../SimpleDistributionAgentQueueProcessor.java     |  5 ++-
 .../agent/impl/TriggerAgentRequestHandler.java     | 15 ++++----
 .../distribution/agent/spi/DistributionAgent.java  | 19 +++++-----
 .../sling/distribution/agent/spi/package-info.java |  2 +-
 .../impl/DistributionComponentFactoryMap.java      | 11 +++---
 .../impl/DefaultDistributionEventFactory.java      |  9 +++--
 .../event/impl/DistributionEventFactory.java       |  7 ++--
 .../impl/CompositeDistributionResponse.java        |  5 ++-
 .../distribution/impl/DefaultDistributor.java      |  7 ++--
 .../impl/SimpleDistributionResponse.java           |  5 ++-
 .../impl/MonitoringDistributionPackageBuilder.java | 18 +++++-----
 .../packaging/DistributionPackage.java             | 12 +++----
 .../packaging/DistributionPackageBuilder.java      | 23 ++++++-------
 .../packaging/DistributionPackageInfo.java         | 11 +++---
 .../impl/AbstractDistributionPackage.java          | 11 +++---
 .../impl/AbstractDistributionPackageBuilder.java   | 40 +++++++++++-----------
 .../impl/DistributionPackageBuilderProvider.java   |  5 ++-
 .../impl/DistributionPackageExporter.java          | 13 ++++---
 .../impl/DistributionPackageImporter.java          |  9 +++--
 .../packaging/impl/DistributionPackageUtils.java   | 12 +++----
 .../packaging/impl/DistributionPackageWrapper.java | 11 +++---
 .../packaging/impl/FileDistributionPackage.java    | 15 ++++----
 .../impl/FileDistributionPackageBuilder.java       | 11 +++---
 .../impl/InMemoryDistributionPackage.java          | 13 ++++---
 .../impl/InMemoryDistributionPackageBuilder.java   | 33 +++++++++---------
 .../packaging/impl/ReferencePackage.java           | 18 +++++-----
 .../impl/ResourceDistributionPackage.java          | 12 +++----
 .../impl/ResourceDistributionPackageBuilder.java   | 20 +++++------
 .../impl/ResourceDistributionPackageCleanup.java   |  7 ++--
 .../packaging/impl/SharedDistributionPackage.java  |  7 ++--
 .../packaging/impl/SimpleDistributionPackage.java  |  9 +++--
 .../exporter/AgentDistributionPackageExporter.java | 13 ++++---
 .../AgentDistributionPackageExporterFactory.java   |  7 ++--
 .../exporter/LocalDistributionPackageExporter.java |  7 ++--
 .../LocalDistributionPackageExporterFactory.java   |  7 ++--
 .../RemoteDistributionPackageExporter.java         |  7 ++--
 .../RemoteDistributionPackageExporterFactory.java  |  7 ++--
 .../importer/LocalDistributionPackageImporter.java |  9 +++--
 .../LocalDistributionPackageImporterFactory.java   |  9 +++--
 .../RemoteDistributionPackageImporter.java         |  9 +++--
 .../RemoteDistributionPackageImporterFactory.java  |  9 +++--
 .../RepositoryDistributionPackageImporter.java     |  8 ++---
 ...positoryDistributionPackageImporterFactory.java |  9 +++--
 .../sling/distribution/packaging/package-info.java |  2 +-
 .../distribution/queue/DistributionQueueEntry.java |  9 +++--
 .../distribution/queue/DistributionQueueItem.java  |  7 ++--
 .../queue/DistributionQueueStatus.java             |  5 ++-
 .../impl/AsyncDeliveryDispatchingStrategy.java     |  9 +++--
 .../queue/impl/CachingDistributionQueue.java       |  9 +++--
 .../impl/DistributionQueueDispatchingStrategy.java |  7 ++--
 .../queue/impl/DistributionQueueProcessor.java     |  5 ++-
 .../queue/impl/DistributionQueueProvider.java      | 13 ++++---
 .../queue/impl/DistributionQueueWrapper.java       | 15 ++++----
 .../queue/impl/ErrorQueueDispatchingStrategy.java  |  7 ++--
 .../impl/MultipleQueueDispatchingStrategy.java     |  9 +++--
 .../impl/PriorityQueueDispatchingStrategy.java     |  7 ++--
 .../queue/impl/SimpleAgentDistributionQueue.java   |  5 ++-
 .../jobhandling/JobHandlingDistributionQueue.java  | 15 ++++----
 .../JobHandlingDistributionQueueProvider.java      | 11 +++---
 .../queue/impl/jobhandling/JobHandlingUtils.java   |  7 ++--
 .../queue/impl/simple/SimpleDistributionQueue.java | 25 +++++++-------
 .../simple/SimpleDistributionQueueProvider.java    | 10 +++---
 .../sling/distribution/queue/package-info.java     |  2 +-
 .../distribution/queue/spi/DistributionQueue.java  | 27 +++++++--------
 .../sling/distribution/queue/spi/package-info.java |  2 +-
 .../impl/common/SimpleModifiableValueMap.java      |  5 ++-
 .../serialization/DistributionExportFilter.java    |  9 +++--
 .../serialization/DistributionExportOptions.java   |  8 ++---
 .../impl/DistributionPackageBuilderFactory.java    | 23 ++++++-------
 .../VaultDistributionPackageBuilderFactory.java    | 23 ++++++-------
 .../distribution/serialization/package-info.java   |  2 +-
 .../servlet/DistributionAgentQueueServlet.java     |  6 ++--
 .../servlet/DistributionTriggerServlet.java        |  6 ++--
 .../distribution/servlet/ServletJsonUtils.java     |  2 +-
 .../transport/impl/DistributionTransport.java      | 13 ++++---
 .../impl/SimpleHttpDistributionTransport.java      | 13 ++++---
 .../trigger/DistributionRequestHandler.java        | 12 +++----
 .../distribution/trigger/DistributionTrigger.java  |  7 ++--
 .../trigger/impl/AbstractJcrEventTrigger.java      |  6 ++--
 ...ributionEventDistributeDistributionTrigger.java |  7 ++--
 ...nEventDistributeDistributionTriggerFactory.java |  7 ++--
 .../impl/JcrEventDistributionTriggerFactory.java   |  7 ++--
 ...ersistedJcrEventDistributionTriggerFactory.java |  7 ++--
 .../impl/RemoteEventDistributionTrigger.java       |  7 ++--
 .../RemoteEventDistributionTriggerFactory.java     |  7 ++--
 .../impl/ResourceEventDistributionTrigger.java     |  7 ++--
 .../ResourceEventDistributionTriggerFactory.java   |  7 ++--
 .../trigger/impl/ScheduledDistributionTrigger.java |  7 ++--
 .../impl/ScheduledDistributionTriggerFactory.java  |  7 ++--
 .../distribution/util/DistributionJcrUtils.java    |  6 ++--
 .../util/impl/ByteBufferBackedInputStream.java     |  6 ++--
 .../sling/distribution/util/package-info.java      |  2 +-
 .../agent/impl/SimpleDistributionAgentTest.java    |  7 ++--
 100 files changed, 455 insertions(+), 536 deletions(-)

commit 3d51ac0b09c9a057b590349727392eaedba26aea
Author: Marius Petria <mpetria@adobe.com>
Date:   Wed Jun 27 12:10:33 2018 +0300

    SLING-7168: expose spi for agent+queue+packaging

 pom.xml | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 173ac8dca74055b2532a3ee5d35225793bf7aa33
Author: tmaret <tmaret@adobe.com>
Date:   Sat Jun 23 15:09:41 2018 +0200

    SLING-7753 - Support for building Content Packages in memory

 .../serialization/impl/DistributionPackageBuilderFactory.java       | 6 ++++++
 1 file changed, 6 insertions(+)

commit 36902234b950596342d0f3da4d771fd9101285bc
Author: Simo Tripodi <stripodi@adobe.com>
Date:   Thu Jun 21 11:53:53 2018 +0200

    SLING-7730 - Distribution package is lost if there is an installation
    error on receiver side

 .../serialization/impl/vlt/FileVaultContentSerializer.java  |  7 +++++--
 .../impl/vlt/VaultDistributionPackageBuilderFactory.java    | 13 ++++++++++++-
 .../sling/distribution/serialization/impl/vlt/VltUtils.java |  4 ++--
 .../impl/importer/LocalDistributionPackageImporterTest.java |  3 ++-
 .../impl/vlt/FileVaultContentSerializerTest.java            |  4 ++--
 5 files changed, 23 insertions(+), 8 deletions(-)

commit 49812566c89093f06b0d32c46ae267ee53d8f95c
Author: Marius Petria <mpetria@adobe.com>
Date:   Tue Jun 19 14:31:32 2018 +0300

    SLING-7747: send http response error code when package cannot be opened - more logging

 .../distribution/packaging/impl/FileDistributionPackageBuilder.java      | 1 +
 1 file changed, 1 insertion(+)

commit 07a4c30adb053e8b4181736cd61ce28acf23e6e6
Author: Marius Petria <mpetria@adobe.com>
Date:   Tue Jun 19 14:28:33 2018 +0300

    SLING-7747: send http response error code when package cannot be opened

 .../distribution/packaging/impl/FileDistributionPackageBuilder.java | 6 +++++-
 .../packaging/impl/exporter/AgentDistributionPackageExporter.java   | 2 --
 .../distribution/servlet/DistributionPackageExporterServlet.java    | 2 +-
 3 files changed, 6 insertions(+), 4 deletions(-)

commit d5b443f37c04940b51ea692ae5596dfa0c7cd5f8
Author: Marius Petria <mpetria@adobe.com>
Date:   Tue Jun 19 14:09:51 2018 +0300

    Revert "SLING-7168: expose spi for agent+queue+packaging"
    
    This reverts commit bf1a8294229a60b74acb44d026f816739c8c5e0a.

 pom.xml | 8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit bf1a8294229a60b74acb44d026f816739c8c5e0a
Author: Marius Petria <mpetria@adobe.com>
Date:   Mon Jun 18 17:30:51 2018 +0300

    SLING-7168: expose spi for agent+queue+packaging

 pom.xml | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit ff2dd3a6287dbaae424690db771b16922d2f6e87
Author: Marius Petria <mpetria@adobe.com>
Date:   Thu Jun 14 15:41:31 2018 +0300

    SLING-7733: do not rewrite distributionrequests in the packagebuilder

 .../packaging/impl/AbstractDistributionPackageBuilder.java |  4 +++-
 .../serialization/impl/vlt/FileVaultContentSerializer.java |  5 ++++-
 .../distribution/serialization/impl/vlt/VltUtils.java      | 14 ++++++++++++++
 3 files changed, 21 insertions(+), 2 deletions(-)

commit 2105b2481495049fb80259b8a3de975bfaed2aff
Author: Marius Petria <mpetria@adobe.com>
Date:   Wed Jun 13 22:53:34 2018 +0300

    do not fail in case of mbean registration failure

 .../impl/MonitoringDistributionQueueProvider.java  | 22 +++++++++++++++-------
 1 file changed, 15 insertions(+), 7 deletions(-)

commit 9c56ed87be8e97b155938858b3d089d4f8b5e43f
Author: Marius Petria <mpetria@adobe.com>
Date:   Wed Jun 13 19:05:09 2018 +0300

    SLING-7714: packages created with root filter remove ACEs

 .../org/apache/sling/distribution/serialization/impl/vlt/VltUtils.java  | 2 +-
 .../apache/sling/distribution/serialization/impl/vlt/VltUtilsTest.java  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit d89583d04f34fa9707eba38005f5cc9143e99a01
Author: Simo Tripodi <stripodi@adobe.com>
Date:   Wed Jun 13 11:39:34 2018 +0200

    SLING-7730 - Distribution package is lost if there is an installation
    error on receiver side

 .../org/apache/sling/distribution/serialization/impl/vlt/VltUtils.java  | 2 ++
 1 file changed, 2 insertions(+)

commit 275291ae333c0b4247916477449082c79182cd5c
Author: Dan Klco <dklco@apache.org>
Date:   Fri Jun 8 12:53:21 2018 -0400

    Updating badges for org-apache-sling-distribution-core

 README.md | 6 ++++++
 1 file changed, 6 insertions(+)

commit a4da85cf8e8fa4538b6a8e93380d3c03182bb9e0
Author: Marius Petria <mpetria@adobe.com>
Date:   Fri May 25 09:47:47 2018 +0300

    Fix build after previous reverts

 .../packaging/impl/InMemoryDistributionPackageBuilder.java     |  2 +-
 .../packaging/impl/FileDistributionPackageBuilderTest.java     |  4 ----
 .../packaging/impl/InMemoryDistributionPackageBuilderTest.java | 10 ----------
 3 files changed, 1 insertion(+), 15 deletions(-)

commit 4a8b9ace5859f9f79ee674a8887010e092746e84
Author: Marius Petria <mpetria@adobe.com>
Date:   Fri May 25 09:44:34 2018 +0300

    Revert "Merge pull request #2 from Buuhuu/feature/SLING-7357"
    
    This reverts commit 959ea056d5cd0b58245ba4e7d66a0bf3d6c4baae, reversing
    changes made to 36c7bf864e90438859cee40ed12d26d1daf62477.

 .../agent/impl/ForwardDistributionAgentFactory.java  |  5 +----
 .../impl/MonitoringDistributionPackageBuilder.java   |  5 -----
 .../packaging/DistributionPackageBuilder.java        |  6 ------
 .../impl/AbstractDistributionPackageBuilder.java     |  8 +-------
 .../impl/FileDistributionPackageBuilder.java         |  2 +-
 .../impl/ResourceDistributionPackageBuilder.java     |  2 +-
 .../serialization/DistributionContentSerializer.java |  6 ------
 .../impl/DistributionPackageBuilderFactory.java      |  4 ----
 .../impl/vlt/FileVaultContentSerializer.java         |  5 -----
 .../vlt/VaultDistributionPackageBuilderFactory.java  |  4 ----
 .../distribution/serialization/package-info.java     |  2 +-
 .../transport/impl/HttpConfiguration.java            | 20 ++------------------
 .../impl/SimpleHttpDistributionTransport.java        |  4 ----
 13 files changed, 7 insertions(+), 66 deletions(-)

commit 3b959a72a555af2da29363a1e3cde2ae3b157fae
Author: Marius Petria <mpetria@adobe.com>
Date:   Fri May 25 09:44:10 2018 +0300

    Revert "Merge pull request #4 from Buuhuu/feature/SLING-7360"

 .../impl/AbstractDistributionPackageBuilder.java       | 18 +++---------------
 .../packaging/impl/FileDistributionPackageBuilder.java |  2 +-
 .../impl/ResourceDistributionPackageBuilder.java       |  2 +-
 .../serialization/DistributionContentSerializer.java   |  6 ------
 .../impl/vlt/FileVaultContentSerializer.java           |  4 ----
 .../impl/FileDistributionPackageBuilderTest.java       |  4 ----
 6 files changed, 5 insertions(+), 31 deletions(-)

commit 16d8bea2523aeacbefa6960c44f4d86acb2669d2
Merge: 8add861 ee2c3dd
Author: mpetria <mpetria@adobe.com>
Date:   Thu May 24 15:48:31 2018 +0300

    Merge pull request #8 from mpetria/issue/SLING-7555-3
    
     SLING-7555: option to drop ghost packages from and agent exporter

commit ee2c3dd0591d0f2c2a4b3a15f726f866c81e1ed3
Author: Marius Petria <mpetria@adobe.com>
Date:   Fri Apr 27 14:25:22 2018 +0300

    SLING-7555: option to drop ghost packages from and agent exporter

 .../impl/exporter/AgentDistributionPackageExporter.java       | 11 +++++++++--
 .../exporter/AgentDistributionPackageExporterFactory.java     | 11 ++++++++++-
 .../queue/impl/jobhandling/JobHandlingDistributionQueue.java  |  7 +++++--
 .../impl/exporter/AgentDistributionPackageExporterTest.java   |  2 +-
 4 files changed, 25 insertions(+), 6 deletions(-)

commit 353506734d134c15dd970cce61eb7830ef619acd
Author: Marius Petria <mpetria@adobe.com>
Date:   Fri Apr 27 14:30:26 2018 +0300

    revert exported API until official release

 pom.xml | 8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit 8add861c8a112d45edafbb74886126010d0bdf5f
Author: tmaret <tmaret@adobe.com>
Date:   Wed Mar 14 11:12:03 2018 +0100

    SLING-7541 - Allow to build Vault packages in memory

 .../impl/InMemoryDistributionPackage.java          |  87 +++++++++++++
 .../impl/InMemoryDistributionPackageBuilder.java   | 138 +++++++++++++++++++++
 .../VaultDistributionPackageBuilderFactory.java    |   6 +
 .../InMemoryDistributionPackageBuilderTest.java    |  89 +++++++++++++
 .../impl/InMemoryDistributionPackageTest.java      |  47 +++++++
 5 files changed, 367 insertions(+)

commit eccfdc7ecdef299bcb3313b1d5a18f6a19c0dbcb
Author: tmaret <tmaret@adobe.com>
Date:   Mon Feb 5 10:46:55 2018 +0100

    SLING-7468 - Allow to configure the Distribution Resource Provider

 .../DefaultDistributionConfigurationManager.java   |   5 +-
 .../impl/DistributionComponentFactoryMap.java      | 206 +++++++++++++++++++++
 .../component/impl/DistributionComponentKind.java  | 138 ++------------
 .../component/impl/OsgiConfigurationManager.java   |  11 +-
 .../impl/DistributionComponentFactoryMapTest.java  |  74 ++++++++
 5 files changed, 303 insertions(+), 131 deletions(-)

commit 557d2240b2bcc0b8d2ad5103317190a091aef8c3
Author: tmaret <tmaret@adobe.com>
Date:   Fri Feb 2 16:57:21 2018 +0100

    SLING-7468 - Allow to configure the Distribution Resource Provider
    
    * Use class names to map classes. Referencing classes is not configurable from a separate bundle.

 .../component/impl/DistributionComponentKind.java  | 98 +++++++++++-----------
 1 file changed, 50 insertions(+), 48 deletions(-)

commit 7317793d754205b47c1edb24d259c725a12d4b67
Author: tmaret <tmaret@adobe.com>
Date:   Fri Feb 2 11:40:46 2018 +0100

    SLING-7168 - Allow to implement custom distribution queue
    
    * Export the org.apache.sling.distribution.packaging package
    * Hide DistributionPackageExporter, DistributionPackageImporter, DistributionPackageBuilderProvider, DistributionPackageProcessor

 pom.xml                                            |  3 ++-
 .../impl/ForwardDistributionAgentFactory.java      |  4 ++--
 .../ImportingDistributionPackageProcessor.java     |  4 ++--
 .../agent/impl/QueueDistributionAgentFactory.java  |  2 +-
 .../impl/QueueingDistributionPackageProcessor.java |  2 +-
 .../impl/ReverseDistributionAgentFactory.java      |  4 ++--
 .../agent/impl/SimpleDistributionAgent.java        |  6 +++---
 .../agent/impl/SimpleDistributionAgentFactory.java |  4 ++--
 .../SimpleDistributionAgentQueueProcessor.java     |  4 ++--
 .../agent/impl/SyncDistributionAgentFactory.java   |  4 ++--
 .../impl/DefaultDistributionComponentProvider.java |  4 ++--
 .../component/impl/DistributionComponentKind.java  |  4 ++--
 .../DistributionPackageBuilderProvider.java        |  3 ++-
 .../{ => impl}/DistributionPackageExporter.java    |  7 ++++---
 .../{ => impl}/DistributionPackageImporter.java    |  4 +++-
 .../{ => impl}/DistributionPackageProcessor.java   |  3 ++-
 .../exporter/AgentDistributionPackageExporter.java |  6 +++---
 .../AgentDistributionPackageExporterFactory.java   |  6 +++---
 .../exporter/LocalDistributionPackageExporter.java |  6 +++---
 .../LocalDistributionPackageExporterFactory.java   |  4 ++--
 .../RemoteDistributionPackageExporter.java         |  6 +++---
 .../RemoteDistributionPackageExporterFactory.java  |  4 ++--
 .../importer/LocalDistributionPackageImporter.java |  4 ++--
 .../LocalDistributionPackageImporterFactory.java   |  2 +-
 .../RemoteDistributionPackageImporter.java         |  4 ++--
 .../RemoteDistributionPackageImporterFactory.java  |  2 +-
 .../RepositoryDistributionPackageImporter.java     |  4 ++--
 ...positoryDistributionPackageImporterFactory.java |  2 +-
 .../sling/distribution/packaging/package-info.java | 24 ++++++++++++++++++++++
 .../DefaultDistributionPackageBuilderProvider.java |  2 +-
 .../servlet/DistributionAgentQueueServlet.java     |  2 +-
 .../DistributionPackageExporterServlet.java        |  4 ++--
 .../DistributionPackageImporterServlet.java        |  2 +-
 .../ImportingDistributionPackageProcessorTest.java |  2 +-
 .../SimpleDistributionAgentQueueProcessorTest.java |  4 ++--
 .../agent/impl/SimpleDistributionAgentTest.java    |  6 +++---
 .../AgentDistributionPackageExporterTest.java      |  4 ++--
 .../LocalDistributionPackageExporterTest.java      |  2 +-
 .../RemoteDistributionPackageExporterTest.java     |  2 +-
 39 files changed, 98 insertions(+), 68 deletions(-)

commit effe26c9852add57c7ce7c2c3e592c4eefc19cd6
Author: tmaret <tmaret@adobe.com>
Date:   Fri Feb 2 11:30:35 2018 +0100

    SLING-7168 - Allow to implement custom distribution queue
    
    * Export the org.apache.sling.distribution.agent package
    * Export the org.apache.sling.distribution.agent.spi package
    * Expose DistributionAgent as a consumer type

 pom.xml                                            |  4 +++-
 .../impl/AbstractDistributionAgentFactory.java     |  2 +-
 .../impl/ForwardDistributionAgentFactory.java      |  4 ++--
 .../agent/impl/QueueDistributionAgentFactory.java  |  4 ++--
 .../impl/ReverseDistributionAgentFactory.java      |  4 ++--
 .../agent/impl/SimpleDistributionAgent.java        |  4 ++--
 .../agent/impl/SimpleDistributionAgentFactory.java |  4 ++--
 .../agent/impl/SyncDistributionAgentFactory.java   |  4 ++--
 .../agent/impl/TriggerAgentRequestHandler.java     |  2 +-
 .../sling/distribution/agent/package-info.java     | 24 ++++++++++++++++++++++
 .../agent/{ => spi}/DistributionAgent.java         |  9 ++++----
 .../sling/distribution/agent/spi/package-info.java | 24 ++++++++++++++++++++++
 .../impl/DefaultDistributionComponentProvider.java |  2 +-
 .../component/impl/DistributionComponentKind.java  |  2 +-
 .../distribution/impl/DefaultDistributor.java      |  2 +-
 .../distribution/log/spi/DistributionLog.java      |  2 +-
 .../monitor/DistributionQueueHealthCheck.java      |  2 +-
 .../impl/ForwardDistributionAgentMBeanImpl.java    |  2 +-
 .../impl/QueueDistributionAgentMBeanImpl.java      |  2 +-
 .../impl/ReverseDistributionAgentMBeanImpl.java    |  2 +-
 .../impl/SimpleDistributionAgentMBeanImpl.java     |  2 +-
 .../impl/SyncDistributionAgentMBeanImpl.java       |  2 +-
 .../exporter/AgentDistributionPackageExporter.java |  2 +-
 .../AgentDistributionPackageExporterFactory.java   |  2 +-
 .../jobhandling/DistributionAgentJobConsumer.java  |  3 ++-
 .../distribution/queue/spi/DistributionQueue.java  |  3 ++-
 ...xtendedDistributionServiceResourceProvider.java |  2 +-
 .../servlet/DistributionAgentCreationFilter.java   |  2 +-
 .../servlet/DistributionAgentLogServlet.java       |  3 ++-
 .../servlet/DistributionAgentQueueServlet.java     |  2 +-
 .../servlet/DistributionAgentServlet.java          |  4 ++--
 .../trigger/impl/ScheduledDistributionTrigger.java |  3 ++-
 .../agent/impl/TriggerAgentRequestHandlerTest.java |  2 +-
 .../monitor/DistributionQueueHealthCheckTest.java  |  2 +-
 .../impl/ForwardDistributionAgentMBeanTest.java    |  2 +-
 .../impl/QueueDistributionAgentMBeanTest.java      |  2 +-
 .../impl/ReverseDistributionAgentMBeanTest.java    |  2 +-
 .../impl/SimpleDistributionAgentMBeanTest.java     |  2 +-
 .../impl/SyncDistributionAgentMBeanTest.java       |  2 +-
 .../AgentDistributionPackageExporterTest.java      |  2 +-
 40 files changed, 103 insertions(+), 48 deletions(-)

commit 26c217ce80b0f2c29a0132ccbaf48077bdaa6e0c
Author: tmaret <tmaret@adobe.com>
Date:   Thu Feb 1 18:01:58 2018 +0100

    SLING-7168 - Allow to implement custom distribution queue
    
    * Export the org.apache.sling.distribution.queue package
    * Export the org.apache.sling.distribution.queue.spi package
    * Export the org.apache.sling.distribution.log.spi package
    * Expose DistributionQueue and DistributionLog as a consumer types
    * Hide DistributionQueueProcessor and DistributionQueueProvider
    * Make the exposed classes final
    * Minor typo cleanups

 pom.xml                                            |  5 ++++-
 .../distribution/agent/DistributionAgent.java      |  6 +++---
 .../impl/ForwardDistributionAgentFactory.java      |  2 +-
 .../agent/impl/QueueDistributionAgentFactory.java  |  2 +-
 .../impl/QueueingDistributionPackageProcessor.java |  2 +-
 .../impl/ReverseDistributionAgentFactory.java      |  2 +-
 .../agent/impl/SimpleDistributionAgent.java        |  8 ++++----
 .../agent/impl/SimpleDistributionAgentFactory.java |  2 +-
 .../SimpleDistributionAgentQueueProcessor.java     |  4 ++--
 .../agent/impl/SyncDistributionAgentFactory.java   |  2 +-
 .../impl/DefaultDistributionComponentProvider.java |  2 +-
 .../component/impl/DistributionComponentKind.java  |  2 +-
 .../log/impl/DefaultDistributionLog.java           |  2 +-
 .../log/{ => spi}/DistributionLog.java             |  5 ++++-
 .../sling/distribution/log/spi/package-info.java   | 24 ++++++++++++++++++++++
 .../monitor/DistributionQueueHealthCheck.java      |  2 +-
 .../monitor/impl/DistributionQueueMBeanImpl.java   |  2 +-
 .../impl/MonitoringDistributionQueueProvider.java  |  6 +++---
 .../packaging/DistributionPackageExporter.java     |  3 ++-
 .../exporter/AgentDistributionPackageExporter.java |  4 ++--
 .../distribution/queue/DistributionQueueEntry.java |  2 ++
 .../distribution/queue/DistributionQueueItem.java  |  3 ++-
 .../queue/DistributionQueueItemStatus.java         |  4 +++-
 .../queue/DistributionQueueStatus.java             |  6 +++++-
 .../distribution/queue/DistributionQueueType.java  |  2 ++
 .../impl/AsyncDeliveryDispatchingStrategy.java     |  1 +
 .../queue/impl/CachingDistributionQueue.java       |  2 +-
 .../impl/DistributionQueueDispatchingStrategy.java | 10 ++++-----
 .../{ => impl}/DistributionQueueProcessor.java     |  9 +++++---
 .../{ => impl}/DistributionQueueProvider.java      |  5 ++++-
 .../queue/impl/DistributionQueueWrapper.java       |  2 +-
 .../queue/impl/ErrorQueueDispatchingStrategy.java  |  3 +--
 .../impl/MultipleQueueDispatchingStrategy.java     |  3 +--
 .../impl/PriorityQueueDispatchingStrategy.java     |  1 -
 .../queue/impl/SimpleAgentDistributionQueue.java   |  2 +-
 .../jobhandling/DistributionAgentJobConsumer.java  |  2 +-
 .../jobhandling/JobHandlingDistributionQueue.java  |  4 ++--
 .../JobHandlingDistributionQueueProvider.java      | 10 ++++-----
 .../queue/impl/simple/SimpleDistributionQueue.java |  4 ++--
 .../simple/SimpleDistributionQueueCheckpoint.java  |  2 +-
 .../simple/SimpleDistributionQueueProcessor.java   |  4 ++--
 .../simple/SimpleDistributionQueueProvider.java    | 10 ++++-----
 .../sling/distribution/queue/package-info.java     |  2 +-
 .../queue/{ => spi}/DistributionQueue.java         | 15 ++++++++++----
 .../sling/distribution/queue/spi/package-info.java | 24 ++++++++++++++++++++++
 ...xtendedDistributionServiceResourceProvider.java |  4 ++--
 .../servlet/DistributionAgentLogServlet.java       |  2 +-
 .../servlet/DistributionAgentQueueServlet.java     |  4 ++--
 .../QueueingDistributionPackageProcessorTest.java  |  2 +-
 .../SimpleDistributionAgentQueueProcessorTest.java |  2 +-
 .../agent/impl/SimpleDistributionAgentTest.java    |  4 ++--
 .../monitor/DistributionQueueHealthCheckTest.java  | 15 +++++++-------
 .../monitor/impl/DistributionQueueMBeanTest.java   |  2 +-
 .../impl/AsyncDeliveryDispatchingStrategyTest.java |  7 ++++---
 .../impl/PriorityQueueDispatchingStrategyTest.java |  3 +--
 .../impl/SingleQueueDistributionStrategyTest.java  | 18 ++++++++++------
 .../DistributionAgentJobConsumerTest.java          |  2 +-
 .../JobHandlingDistributionQueueProviderTest.java  |  4 ++--
 .../JobHandlingDistributionQueueTest.java          |  2 +-
 .../SimpleDistributionQueueCheckpointTest.java     |  2 +-
 .../SimpleDistributionQueueProcessorTest.java      |  7 ++++---
 .../SimpleDistributionQueueProviderTest.java       |  4 ++--
 .../impl/simple/SimpleDistributionQueueTest.java   | 12 +++++------
 63 files changed, 200 insertions(+), 115 deletions(-)

commit d50eac320d7aaabad14c76f754a54de85b2a415d
Author: tmaret <tmaret@adobe.com>
Date:   Thu Feb 1 16:23:07 2018 +0100

    SLING-7462 - DistributionEventDistributeDistributionTriggerTest fails sporadically

 .../sling/distribution/queue/package-info.java     | 24 +++++++++
 ...tionEventDistributeDistributionTriggerTest.java | 62 +++++++++-------------
 2 files changed, 50 insertions(+), 36 deletions(-)

commit d9e7e2035bfd40611bc353c44fd2ae55e3426a93
Merge: d7efe52 4498772
Author: Tommaso Teofili <tommaso.teofili@gmail.com>
Date:   Tue Jan 9 14:06:27 2018 +0100

    Merge pull request #4 from Buuhuu/feature/SLING-7360
    
    SLING-7360: support creating delete distribution packages by serializer

commit 4498772058609d846032494be9a72a77cc87d0b4
Merge: 81bab45 d7efe52
Author: Dirk Rudolph <dirk.rudolph@netcentric.biz>
Date:   Tue Jan 9 11:39:04 2018 +0100

    Merge remote-tracking branch 'upstream/master' into feature/SLING-7360
    
    # Conflicts:
    #       src/main/java/org/apache/sling/distribution/packaging/impl/AbstractDistributionPackageBuilder.java
    #       src/main/java/org/apache/sling/distribution/packaging/impl/FileDistributionPackageBuilder.java
    #       src/main/java/org/apache/sling/distribution/packaging/impl/ResourceDistributionPackageBuilder.java

commit d7efe52fcadd55b2bf5c1587ed4e3a5bf86e1169
Merge: 959ea05 3dd98aa
Author: Tommaso Teofili <tommaso.teofili@gmail.com>
Date:   Tue Jan 9 11:17:13 2018 +0100

    Merge pull request #3 from Buuhuu/bugfix/SLING-7359
    
    SLING-7359: prevent distribution loop in triggers from distribution events

commit 3dd98aa06c507ff7ca8a82990cabaa75bd58d024
Author: Dirk Rudolph <dirk.rudolph@netcentric.biz>
Date:   Tue Jan 9 11:15:41 2018 +0100

    SLING-7359: implemented getContentType() in FileDistributionPackageBuilderTest.TestSerializer

 .../packaging/impl/FileDistributionPackageBuilderTest.java            | 4 ++++
 1 file changed, 4 insertions(+)

commit f681a0c296aaa635ce46ec873a6c03febc9be72a
Merge: 56159dd 959ea05
Author: Dirk Rudolph <dirk.rudolph@netcentric.biz>
Date:   Tue Jan 9 11:14:22 2018 +0100

    Merge remote-tracking branch 'origin/master' into bugfix/SLING-7359

commit 959ea056d5cd0b58245ba4e7d66a0bf3d6c4baae
Merge: 36c7bf8 4d8c725
Author: Tommaso Teofili <tommaso.teofili@gmail.com>
Date:   Tue Jan 9 09:43:17 2018 +0100

    Merge pull request #2 from Buuhuu/feature/SLING-7357
    
    SLING-7357: set content type to forward distrib http headers

commit 36c7bf864e90438859cee40ed12d26d1daf62477
Merge: d8d25fe 352010e
Author: Tommaso Teofili <tommaso.teofili@gmail.com>
Date:   Mon Jan 8 19:04:39 2018 +0100

    Merge pull request #1 from Buuhuu/bugfix/SLING-7358
    
    SLING-7358: FileDistributionPackageBuilder temp directory fallback

commit 352010e1ae5a6b4a965415996402abac77df1ab4
Author: Dirk Rudolph <dirk.rudolph@netcentric.biz>
Date:   Mon Jan 8 19:00:18 2018 +0100

    SLING-7358: add missing license header

 .../impl/FileDistributionPackageBuilderTest.java      | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 81bab452beb24d4daf3307596be6689acf9fcccf
Author: Dirk Rudolph <dirk.rudolph@netcentric.biz>
Date:   Mon Jan 8 14:43:43 2018 +0100

    SLING-7360: support creating distribution packages by serializer

 .../impl/AbstractDistributionPackageBuilder.java       | 18 +++++++++++++++---
 .../packaging/impl/FileDistributionPackageBuilder.java |  2 +-
 .../impl/ResourceDistributionPackageBuilder.java       |  2 +-
 .../serialization/DistributionContentSerializer.java   |  6 ++++++
 .../impl/vlt/FileVaultContentSerializer.java           |  4 ++++
 5 files changed, 27 insertions(+), 5 deletions(-)

commit 56159dd4f4571830ce1e2a33a8ba79259c0af90b
Author: Dirk Rudolph <dirk.rudolph@netcentric.biz>
Date:   Sun Jan 7 15:28:29 2018 +0100

    SLING-7359: don't call agent.getName() anymore, but return the agents name given in constructor

 .../sling/distribution/agent/impl/TriggerAgentRequestHandler.java       | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 28bb8ea854f9c57b93f9db6bf977cbf444fa73c2
Author: Dirk Rudolph <dirk.rudolph@netcentric.biz>
Date:   Sun Jan 7 15:15:48 2018 +0100

    SLING-7359: prevent distribution loop in triggers from distribution events

 .../agent/impl/SimpleDistributionAgent.java        |   2 +-
 .../agent/impl/TriggerAgentRequestHandler.java     |  19 +++
 .../servlet/DistributionTriggerServlet.java        |   9 ++
 .../trigger/DistributionRequestHandler.java        |  16 +++
 ...ributionEventDistributeDistributionTrigger.java |  17 +++
 .../agent/impl/TriggerAgentRequestHandlerTest.java |   4 +-
 .../trigger/impl/ChainDistributionTriggerTest.java |  58 ---------
 ...tionEventDistributeDistributionTriggerTest.java | 131 +++++++++++++++++++++
 8 files changed, 195 insertions(+), 61 deletions(-)

commit 4d8c7250a5c2e800213ffb47656639fa7e558412
Author: Dirk Rudolph <dirk.rudolph@netcentric.biz>
Date:   Sun Jan 7 13:15:40 2018 +0100

    SLING-7357: set content type to forward distrib http headers

 .../agent/impl/ForwardDistributionAgentFactory.java  |  5 ++++-
 .../impl/MonitoringDistributionPackageBuilder.java   |  5 +++++
 .../packaging/DistributionPackageBuilder.java        |  6 ++++++
 .../impl/AbstractDistributionPackageBuilder.java     |  8 +++++++-
 .../impl/FileDistributionPackageBuilder.java         |  2 +-
 .../impl/ResourceDistributionPackageBuilder.java     |  2 +-
 .../serialization/DistributionContentSerializer.java |  6 ++++++
 .../impl/DistributionPackageBuilderFactory.java      |  4 ++++
 .../impl/vlt/FileVaultContentSerializer.java         |  5 +++++
 .../vlt/VaultDistributionPackageBuilderFactory.java  |  4 ++++
 .../distribution/serialization/package-info.java     |  2 +-
 .../transport/impl/HttpConfiguration.java            | 20 ++++++++++++++++++--
 .../impl/SimpleHttpDistributionTransport.java        |  4 ++++
 13 files changed, 66 insertions(+), 7 deletions(-)

commit 2568800e82ba79f1e68d153bdb61da83f4570e3a
Author: Dirk Rudolph <dirk.rudolph@netcentric.biz>
Date:   Sun Jan 7 13:11:47 2018 +0100

    SLING-7358: delete the temp file created during the test

 .../packaging/impl/FileDistributionPackageBuilderTest.java     | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit fb44229b6f7162ae6988e21c63f2ff1b52c183de
Author: Dirk Rudolph <dirk.rudolph@netcentric.biz>
Date:   Sun Jan 7 13:07:46 2018 +0100

    SLING-7358: fallback to jvm's default temp directory if not configured in FileDistributionPackageBuilder

 .../impl/FileDistributionPackageBuilder.java       |  9 +++-
 .../impl/FileDistributionPackageBuilderTest.java   | 54 ++++++++++++++++++++++
 2 files changed, 62 insertions(+), 1 deletion(-)

commit d8d25fe7e07d4b15996ef7cd59d612c21c9726d1
Author: Simo Tripodi <stripodi@adobe.com>
Date:   Thu Jan 4 16:53:11 2018 +0100

    [maven-release-plugin] prepare for next development iteration

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c60752553e83ef75c4895284458c9e1da821aba6
Author: Simo Tripodi <stripodi@adobe.com>
Date:   Thu Jan 4 16:52:53 2018 +0100

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.2.10

 pom.xml | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 350ca7ee5ed61e4bfc80b6d1974d928c9b4af0d8
Author: Simo Tripodi <stripodi@adobe.com>
Date:   Wed Jan 3 11:44:33 2018 +0100

    SLING-7343 - Replace the custom RegexpPathMapping with the one
    contributed in Jackrabbit Vault

 .../impl/vlt/FileVaultContentSerializer.java       |  1 +
 .../serialization/impl/vlt/RegexpPathMapping.java  | 60 ----------------------
 .../impl/vlt/RegexpPathMappingTest.java            | 57 --------------------
 3 files changed, 1 insertion(+), 117 deletions(-)

commit 953a06a15628976cc7cbaf2d9a6768eee5ddd8c1
Author: tmaret <tmaret@adobe.com>
Date:   Tue Jan 2 15:04:35 2018 +0100

    SLING-7057 - Add description to Distribution Trigger implementations

 .../trigger/impl/JcrEventDistributionTriggerFactory.java          | 6 ++++--
 .../trigger/impl/ResourceEventDistributionTriggerFactory.java     | 4 +++-
 .../trigger/impl/ScheduledDistributionTriggerFactory.java         | 8 +++++---
 3 files changed, 12 insertions(+), 6 deletions(-)

commit 16a4ed809aaf935c29c2b19237e5c54c5d0c9384
Author: tmaret <tmaret@adobe.com>
Date:   Mon Nov 13 10:36:29 2017 +0100

    SLING-7238 - Import fail if user does not have access to the root path
    
    * Update org.apache.jackrabbit.vault dependency to latest version 3.1.42
    * Avoid FileVault core deprecated method addPropertyFilterSet
    * Leverage new FileVault API signature
       run(Archive archive, Session session,  String parentPath)

 pom.xml                                                               | 2 +-
 .../serialization/impl/vlt/FileVaultContentSerializer.java            | 2 +-
 .../apache/sling/distribution/serialization/impl/vlt/VltUtils.java    | 4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 57abab27db7adfc3bcd06083e090c83f8e82e10b
Author: tmaret <tmaret@adobe.com>
Date:   Fri Nov 3 13:53:34 2017 +0100

    SLING-7229 - DistributionAgentServlet throws NPE upon test action

 .../distribution/servlet/ServletJsonUtils.java     | 55 ++++++++++-------
 .../distribution/servlet/ServletJsonUtilsTest.java | 69 ++++++++++++++++++++++
 2 files changed, 104 insertions(+), 20 deletions(-)

commit b066d5452017bdb4ed26d3468e041a2b02e0ea09
Author: Robert Munteanu <rombert@apache.org>
Date:   Tue Oct 24 13:41:00 2017 +0200

    SLING-7213 - Add a default .gitignore file to every module

 .gitignore | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 22163796818df40961a2941d72d38084f54d3f72
Author: Robert Munteanu <rombert@apache.org>
Date:   Mon Oct 23 18:38:23 2017 +0200

    SLING-7214 - Add the LICENSE file to every module

 LICENSE | 202 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 202 insertions(+)

commit e3d7e30f68f88fad38a7204aafc5d95e2b7ca043
Author: Robert Munteanu <rombert@apache.org>
Date:   Mon Oct 23 12:06:30 2017 +0300

    Fix typo in pom.xml : conncetion should be connection

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ffb568bfbc61500515868ee86905a92685319b5a
Author: Robert Munteanu <robert.munteanu@gmail.com>
Date:   Fri Oct 20 19:13:14 2017 +0200

    SLING-7162 - Update SCM information in all POM files to reference Git

 pom.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 3843b14f63b4faa3251fe9b4c803cd65acd1effb
Author: Oliver Lietz <olli@apache.org>
Date:   Tue Oct 3 09:28:14 2017 +0000

    SLING-7167 Adjust READMEs
    
    add missing README
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1810732 13f79535-47bb-0310-9956-ffa450edef68

 README.md | 3 +++
 1 file changed, 3 insertions(+)

commit 72622341f9a1903d5d910a5221356811ffe8b3e9
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Mon Sep 11 15:59:43 2017 +0000

    SLING-7120 - Checkpoints not stored in file when using In-file queue
    
    * Fix parsing for number types
    * remove un-needed charset in checkpoints entries
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1808044 13f79535-47bb-0310-9956-ffa450edef68

 .../queue/impl/simple/QueueItemMapper.java         | 119 +++++++++++++++++++++
 .../simple/SimpleDistributionQueueCheckpoint.java  |  31 +-----
 .../simple/SimpleDistributionQueueProvider.java    |  38 +------
 .../queue/impl/simple/QueueItemMapperTest.java     |  46 ++++++++
 src/test/resources/dummy-agent-checkpoint          |   2 +-
 5 files changed, 174 insertions(+), 62 deletions(-)

commit 5828a5269b2a67933086019dbf762f4ce5b322c6
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Tue Jul 25 13:26:35 2017 +0000

    SLING-7020 - DefaultDistributionComponentProvider is causing an NPE when agents are listed
    
    * Add mapping for missing component kinds (DistributionRequestAuthorizationStrategy, DistributionTrigger)
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1802937 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/DefaultDistributionComponentProvider.java | 31 +++++++++++++++++++++-
 1 file changed, 30 insertions(+), 1 deletion(-)

commit b0e05576d5d6ed27d3bff27fd6a3668c9674d332
Author: Simone Tripodi <simonetripodi@apache.org>
Date:   Fri Jul 21 12:38:55 2017 +0000

    SLING-7017 - Make it possible to mount packages at different paths
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1802586 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/vlt/FileVaultContentSerializer.java       | 48 +++++++++++++++--
 .../serialization/impl/vlt/RegexpPathMapping.java  | 60 ++++++++++++++++++++++
 .../VaultDistributionPackageBuilderFactory.java    | 12 ++++-
 .../serialization/impl/vlt/VltUtils.java           | 30 ++++++++++-
 .../LocalDistributionPackageImporterTest.java      |  3 +-
 .../impl/vlt/FileVaultContentSerializerTest.java   |  5 +-
 .../impl/vlt/RegexpPathMappingTest.java            | 57 ++++++++++++++++++++
 7 files changed, 206 insertions(+), 9 deletions(-)

commit c3c9519a183b64530949ffef035494918ff4941f
Author: Simone Tripodi <simonetripodi@apache.org>
Date:   Tue Jul 11 09:34:50 2017 +0000

    SLING-6977 - Improve SCD compilation by suppressing warnings
    
    verified array type conversion
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1801580 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/common/SimpleReadableResource.java        |  4 +-
 .../common/SimpleReadableResourceTestCase.java     | 49 ++++++++++++++++++++++
 2 files changed, 51 insertions(+), 2 deletions(-)

commit bb7b23fb14b70847d1eebc0b60bf830ca0e3c53b
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Jun 30 12:26:46 2017 +0000

    SLING-6977 - applied patch from Simone Tripodi
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1800389 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            | 10 ++--
 .../impl/DefaultDistributionComponentProvider.java | 62 ++++++++--------------
 .../impl/MonitoringDistributionPackageBuilder.java |  1 -
 .../jobhandling/JobHandlingDistributionQueue.java  |  2 +-
 4 files changed, 28 insertions(+), 47 deletions(-)

commit efa42d8ab8af52ffb86f922eac1d4c493a2c120b
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Jun 30 09:05:00 2017 +0000

    SLING-6988 - async delivery should use an unordered queue
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1800364 13f79535-47bb-0310-9956-ffa450edef68

 .../queue/impl/AsyncDeliveryDispatchingStrategy.java             | 9 ++-------
 .../impl/jobhandling/JobHandlingDistributionQueueProvider.java   | 4 +++-
 2 files changed, 5 insertions(+), 8 deletions(-)

commit b4d55a3fd27999224c6b404e00cc24bd105d51ab
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Wed Jun 28 10:09:41 2017 +0000

    SLING-6933 - [Performance] Leverage JCRVLT hollow packages
    
    * Install content packages directly from an InputStream without temporary file
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1800142 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |  6 +++
 .../impl/vlt/FileVaultContentSerializer.java       | 52 +++++++---------------
 .../serialization/impl/vlt/VltUtils.java           |  2 +
 .../impl/vlt/FileVaultContentSerializerTest.java   | 32 ++++++-------
 4 files changed, 38 insertions(+), 54 deletions(-)

commit a4f2d8afb621be4c25756833c230cc51d3fa799f
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Mon Jun 26 13:18:13 2017 +0000

    SLING-6616 - [Performance] Tweak compression levels for speed
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1799909 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                                             | 2 +-
 .../apache/sling/distribution/serialization/impl/vlt/VltUtils.java  | 6 ++++++
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 1dc52c338c51c8e623f6cdad872a1cc008753b35
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Wed Jun 21 09:03:42 2017 +0000

    SLING-6969 - Support OAuth 2.0 server to server authentication in Distribution transport
    
    * Add support for authorization header provided via the DistributionTransportSecret's credential map
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1799406 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/SimpleHttpDistributionTransport.java      | 73 ++++++++++++++++------
 1 file changed, 54 insertions(+), 19 deletions(-)

commit e772403e568aa74186d4e45f7a2c04ce6928dfed
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Wed Jun 7 19:29:03 2017 +0000

    SLING-6939 - sling distribution leaks jcr sessions
    
    * ImportingDistributionPackageProcessor does not release resource resolver
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1797988 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/ImportingDistributionPackageProcessor.java          | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit ecf30d91e0bc5c4623efae1a28a0c96456a635eb
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Wed Jun 7 18:12:34 2017 +0000

    SLING-6939 - sling distribution leaks jcr sessions
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1797982 13f79535-47bb-0310-9956-ffa450edef68

 .../sling/distribution/util/impl/DistributionUtils.java  | 16 +---------------
 1 file changed, 1 insertion(+), 15 deletions(-)

commit 98d7e6f3f73df71973625b4aa6d7efae30bf64af
Author: Karl Pauls <pauls@apache.org>
Date:   Fri Jun 2 20:33:46 2017 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1797432 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 99f0c77a291e4ad71304925154c159ce4bebefa8
Author: Karl Pauls <pauls@apache.org>
Date:   Fri Jun 2 20:33:29 2017 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.2.8
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1797430 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit b40a82d19ae37681a25d248a39e8d35ed4bbce79
Author: Karl Pauls <pauls@apache.org>
Date:   Tue May 30 22:51:27 2017 +0000

    SLING-6892: Remove commons.json from Content Distribution Core.
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1796951 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            | 18 ++++++---
 .../simple/SimpleDistributionQueueCheckpoint.java  | 21 ++++++-----
 .../simple/SimpleDistributionQueueProvider.java    | 44 +++++++++++++---------
 .../distribution/servlet/ServletJsonUtils.java     | 37 +++++++++++-------
 src/test/resources/dummy-agent-checkpoint          |  2 +-
 5 files changed, 75 insertions(+), 47 deletions(-)

commit 13cfeed909e3c9531a01852b2b1c9a60e1424e77
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu May 11 12:12:12 2017 +0000

    SLING-6848 - package level monitoring not enabled by default
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1794817 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/MonitoringDistributionPackageBuilder.java |  7 +-
 .../impl/DistributionPackageBuilderFactory.java    |  2 +-
 .../VaultDistributionPackageBuilderFactory.java    | 95 ++++++++++------------
 3 files changed, 49 insertions(+), 55 deletions(-)

commit b45b51c7eb3a3f68f9494df21b7b6fa8ce2fa476
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Mon May 8 09:32:46 2017 +0000

    SLING-6838 - HTTP connection : close header, closing IS after http fetch
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1794300 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/transport/impl/HttpTransportUtils.java    |  2 ++
 .../transport/impl/SimpleHttpDistributionTransport.java    | 14 ++++++++++----
 2 files changed, 12 insertions(+), 4 deletions(-)

commit 53bf18e59637910d90817b6cf998031eeddcfd7e
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri May 5 09:50:24 2017 +0000

    SLING-4075 - removed too loud logs
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1793996 13f79535-47bb-0310-9956-ffa450edef68

 .../sling/distribution/packaging/impl/SimpleDistributionPackage.java  | 4 ----
 1 file changed, 4 deletions(-)

commit c99c1892b14cdb0b75d6eaaec8350e8bf1c2bee6
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu May 4 14:18:22 2017 +0000

    SLING-5952 - added missing http config class
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1793810 13f79535-47bb-0310-9956-ffa450edef68

 .../transport/impl/HttpConfiguration.java          | 46 ++++++++++++++++++++++
 1 file changed, 46 insertions(+)

commit cda033f3cfc694d041dd9ce8ab92862c221fe2d0
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu May 4 14:00:21 2017 +0000

    SLING-5952 - added timeout configs to http transport
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1793803 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      | 13 ++++++-
 .../impl/ReverseDistributionAgentFactory.java      | 17 ++++++---
 .../agent/impl/SyncDistributionAgentFactory.java   | 44 ++++++++++------------
 .../RemoteDistributionPackageExporter.java         | 12 ++----
 .../RemoteDistributionPackageExporterFactory.java  |  7 +++-
 .../RemoteDistributionPackageImporter.java         | 10 ++---
 .../RemoteDistributionPackageImporterFactory.java  |  6 ++-
 .../transport/impl/DistributionTransport.java      |  6 ++-
 .../transport/impl/HttpTransportUtils.java         | 18 +++++----
 .../impl/SimpleHttpDistributionTransport.java      | 12 ++++--
 .../RemoteDistributionPackageExporterTest.java     |  5 ++-
 .../RemoteDistributionPackageImporterTest.java     |  3 +-
 .../impl/SimpleHttpDistributionTransportTest.java  | 32 ++++++++--------
 13 files changed, 107 insertions(+), 78 deletions(-)

commit 5b6089b22f8c2a5c9474f869a75dbdaf36721441
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Tue Apr 18 09:24:09 2017 +0000

    SLING-6781 - VltUtils only keep the last filter for a given path
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1791766 13f79535-47bb-0310-9956-ffa450edef68

 .../serialization/impl/vlt/VltUtils.java           |  5 +++-
 .../serialization/impl/vlt/VltUtilsTest.java       | 29 ++++++++++++++++++++++
 2 files changed, 33 insertions(+), 1 deletion(-)

commit 178df6183202726619cd4c43c55d1e59d0f01fd5
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Apr 11 09:04:05 2017 +0000

    SLING-4075 - added some tests, minor static analysis related fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1790941 13f79535-47bb-0310-9956-ffa450edef68

 .../packaging/impl/SimpleDistributionPackage.java         | 15 ++++++++++-----
 .../impl/simple/SimpleDistributionQueueCheckpoint.java    |  2 +-
 .../trigger/impl/RemoteEventDistributionTrigger.java      |  2 +-
 .../packaging/impl/SimpleDistributionPackageTest.java     | 13 +++++++++++++
 .../exporter/AgentDistributionPackageExporterTest.java    |  2 +-
 5 files changed, 26 insertions(+), 8 deletions(-)

commit 268dc565d069d94a69c1b65a60ca528e57e89b66
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Thu Mar 2 11:00:36 2017 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1785105 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit ef56e14c8ed9ba602a6c1a9cf4ebc40853f1ed5a
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Thu Mar 2 11:00:17 2017 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.2.6
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1785103 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 4d6c9c5b97601c78a65de0801ff8be6a427db20e
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Thu Mar 2 10:39:52 2017 +0000

    SLING-6589 - DistributionPackageUtils#disposable should handle hanging packages
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1785100 13f79535-47bb-0310-9956-ffa450edef68

 .../packaging/impl/DistributionPackageUtils.java             | 12 ++++++++++--
 .../packaging/impl/ResourceDistributionPackageCleanup.java   |  8 ++++++--
 2 files changed, 16 insertions(+), 4 deletions(-)

commit ef28723c7bcd2baf163f7e26c998e9c29a0862a4
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Fri Feb 24 16:18:12 2017 +0000

    SLING-6566 - ResourceDistributionPackageBuilder package files are never collected
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1784292 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/packaging/impl/ResourceDistributionPackageBuilder.java  | 1 +
 1 file changed, 1 insertion(+)

commit aae95faa14a56c5d5b4cc06cd1a331eb1e107a8b
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Feb 24 11:36:25 2017 +0000

    SLING-6564 - logs sent to SLF4J logging too
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1784266 13f79535-47bb-0310-9956-ffa450edef68

 .../SimpleDistributionAgentQueueProcessor.java     | 36 ++++++++++++++--------
 1 file changed, 23 insertions(+), 13 deletions(-)

commit 6b1b6d5edf87131b56460b22a5b8738bcc9feed7
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Feb 23 10:57:16 2017 +0000

    SLING-6554 - calculate size at instance creation time
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1784108 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/packaging/impl/ResourceDistributionPackage.java    | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit c2d1eff86fe14422fd005dfb67893b46e973e08b
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Fri Feb 17 11:13:45 2017 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1783370 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 15c27ae52397f0cd2d6923ca88577d857be2eca1
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Fri Feb 17 11:13:27 2017 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.2.4
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1783368 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 6cfe665b9ace73264aef0f897519d5124fe459d3
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Fri Feb 17 10:42:19 2017 +0000

    SLING-6524 - SimpleDistributionQueueProviderTest#testEnableQueueProcessingWithCheckpointRecovery fails with symlinks
    
    * update commons-io to version 2.5
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1783365 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6cd565da47493421bf4ecde2225ca83c23109052
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Thu Feb 16 14:08:30 2017 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1783219 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit f26e142177c63fb5ca4ad6a3c94638e05b1d5ea9
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Thu Feb 16 14:08:11 2017 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.2.2
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1783217 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 3434b73faefade4c524d9b8eb05a2b15e1228848
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Feb 16 09:48:46 2017 +0000

    SLING-6523 - priority queues back to processing queues
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1783186 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/agent/impl/ForwardDistributionAgentFactory.java    | 1 +
 .../agent/impl/SimpleDistributionAgentQueueProcessor.java           | 6 +++++-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 79466bbbaa700a94cb273173e329d6cbb8856f49
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Feb 9 10:31:55 2017 +0000

    SLING-6514 - test distributions should not go through queues
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1782306 13f79535-47bb-0310-9956-ffa450edef68

 .../ImportingDistributionPackageProcessor.java     | 110 +++++++++++++++++++
 ...a => QueueingDistributionPackageProcessor.java} |  13 ++-
 .../agent/impl/SimpleDistributionAgent.java        |  29 +++--
 .../packaging/DistributionPackageProcessor.java    |  10 ++
 .../DistributionPackageExporterServlet.java        |  17 +++
 .../ImportingDistributionPackageProcessorTest.java | 119 +++++++++++++++++++++
 ... QueueingDistributionPackageProcessorTest.java} |  12 +--
 .../AgentDistributionPackageExporterTest.java      |  16 +++
 .../LocalDistributionPackageExporterTest.java      |  16 +++
 .../RemoteDistributionPackageExporterTest.java     |  16 +++
 10 files changed, 338 insertions(+), 20 deletions(-)

commit 3fe666b24724d6d3afd45358ffa14ac406814e32
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Tue Feb 7 16:09:25 2017 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1782019 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit c4d3ccadb2c972a2817a4b11c6bef1aadb140bee
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Tue Feb 7 16:09:07 2017 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.2.0
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1782017 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 3216dd0e75c64a7e72a2e187e221ab2d90d2b6da
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Tue Feb 7 15:47:02 2017 +0000

    trivial - add missing inherited annotations to MonitoringDistributionPackageBuilder
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1782014 13f79535-47bb-0310-9956-ffa450edef68

 .../monitor/impl/MonitoringDistributionPackageBuilder.java | 14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 2ac0e45911d300503696a1ee5218556a5b404d6f
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Fri Feb 3 15:49:43 2017 +0000

    SLING-6503 - Concurrency issue can prevent repository packages to be cleaned up
    
    * Provide default Iterator#remove implementation in ResourceDistributionPackageIterator to compile with Java 7
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1781573 13f79535-47bb-0310-9956-ffa450edef68

 .../packaging/impl/ResourceDistributionPackageBuilder.java           | 5 +++++
 1 file changed, 5 insertions(+)

commit 794bbea314ed4d884a8c32ecc411cf3015630548
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Fri Feb 3 14:59:56 2017 +0000

    SLING-6503 - Concurrency issue can prevent repository packages to be cleaned up
    
    * Cleanup the ResourceDistributionPackage packages asynchronously
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1781568 13f79535-47bb-0310-9956-ffa450edef68

 .../packaging/impl/DistributionPackageUtils.java   | 15 ++--
 .../impl/ResourceDistributionPackage.java          | 34 +++++----
 .../impl/ResourceDistributionPackageBuilder.java   | 39 ++++++++++
 .../impl/ResourceDistributionPackageCleanup.java   | 84 ++++++++++++++++++++++
 .../packaging/impl/SharedDistributionPackage.java  |  2 +-
 .../impl/DistributionPackageBuilderFactory.java    | 32 ++++++++-
 .../VaultDistributionPackageBuilderFactory.java    | 34 ++++++++-
 7 files changed, 219 insertions(+), 21 deletions(-)

commit 594b283048d61547be7384e6e67f5702cde93ecb
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Jan 19 15:03:06 2017 +0000

    minor static analysis fixes, fixed rat excludes on it project
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1779477 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/AbstractDistributionAgentFactory.java     |  2 +-
 .../distribution/agent/impl/SimpleDistributionAgent.java | 16 +++++++---------
 .../impl/SimpleDistributionAgentAuthenticationInfo.java  |  2 +-
 .../impl/SimpleDistributionAgentQueueProcessor.java      |  6 ++----
 .../impl/DefaultDistributionConfigurationManager.java    |  6 +++---
 .../component/impl/OsgiConfigurationManager.java         |  2 +-
 .../component/impl/ResourceConfigurationManager.java     | 12 ++++++------
 .../packaging/impl/AbstractDistributionPackage.java      |  2 +-
 .../impl/AbstractDistributionPackageBuilder.java         |  6 +++---
 .../packaging/impl/DistributionPackageUtils.java         |  2 +-
 .../packaging/impl/FileDistributionPackage.java          |  2 +-
 .../packaging/impl/ResourceDistributionPackage.java      |  2 --
 .../impl/ResourceDistributionPackageBuilder.java         |  2 +-
 .../queue/impl/AsyncDeliveryDispatchingStrategy.java     |  2 +-
 .../queue/impl/CachingDistributionQueue.java             |  4 ++--
 .../queue/impl/DistributionQueueWrapper.java             |  4 ++--
 .../impl/jobhandling/JobHandlingDistributionQueue.java   |  3 +--
 .../JobHandlingDistributionQueueProvider.java            |  2 +-
 .../queue/impl/jobhandling/JobHandlingUtils.java         |  4 ++--
 .../impl/DistributionConfigurationResourceProvider.java  |  4 ++--
 .../impl/common/AbstractReadableResourceProvider.java    |  4 ++--
 .../impl/vlt/FileVaultContentSerializer.java             |  6 +++---
 .../distribution/transport/impl/HttpTransportUtils.java  |  2 +-
 .../trigger/impl/AbstractJcrEventTrigger.java            |  2 +-
 .../apache/sling/distribution/util/impl/DigestUtils.java |  2 +-
 .../util/impl/FileBackedMemoryOutputStream.java          |  8 ++++----
 .../impl/SimpleDistributionAgentQueueProcessorTest.java  |  1 -
 .../agent/impl/SimpleDistributionAgentTest.java          |  2 +-
 .../agent/impl/TriggerAgentRequestHandlerTest.java       |  1 -
 .../impl/vlt/FileVaultContentSerializerTest.java         | 11 ++---------
 .../trigger/impl/AbstractJcrEventTriggerTest.java        |  3 +--
 31 files changed, 55 insertions(+), 72 deletions(-)

commit 6b3e406d23ae061f939fa849bb2d458c1cdcad11
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Jan 19 10:24:17 2017 +0000

    SLING-6477 - use service user when impersonating API is not available
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1779444 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/ForwardDistributionAgentFactory.java         |  3 ++-
 .../agent/impl/QueueDistributionAgentFactory.java           |  3 ++-
 .../distribution/agent/impl/SimpleDistributionAgent.java    |  2 +-
 .../agent/impl/SyncDistributionAgentFactory.java            |  3 ++-
 .../sling/distribution/util/impl/DistributionUtils.java     | 13 +++++++++----
 5 files changed, 16 insertions(+), 8 deletions(-)

commit 5392252b544e449dac8aaca1d01b1309562b4539
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Jan 17 10:37:11 2017 +0000

    SLING-6250 - addede test from Julian Sedding
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1779164 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            | 42 ++++++++----
 .../distribution/util/impl/DistributionUtils.java  |  5 +-
 .../LocalDistributionPackageImporterTest.java      | 77 ++++++++++++++++++++++
 3 files changed, 110 insertions(+), 14 deletions(-)

commit a23ac8f0bfcc813cf15bcb294bd696f321f635c3
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Jan 12 15:22:39 2017 +0000

    SLING-5695 - no need to make stream.reset failure return a RE
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1778443 13f79535-47bb-0310-9956-ffa450edef68

 .../packaging/impl/importer/LocalDistributionPackageImporter.java     | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5d13ede86d08ff776e4e26f6590a8c97823894c3
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Jan 10 20:41:13 2017 +0000

    SLING-6210 - added additional test for ignored paths
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1778196 13f79535-47bb-0310-9956-ffa450edef68

 .../trigger/impl/JcrEventDistributionTriggerTest.java    | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 1bb56a189ec0f244a75c27f551a1a91a4dbbb0cd
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Wed Jan 4 14:56:49 2017 +0000

    SLING-6435 - o.a.s.t.resourceresolver-mock maven dependency is tri-plicated in distribution.core pom
    
    * Keep a single dependency and update to the latest released version 1.1.16
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1777327 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 14 +-------------
 1 file changed, 1 insertion(+), 13 deletions(-)

commit 18fcf074fd9256a5cfcbca471f381b4b506f1eb9
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Wed Jan 4 14:44:47 2017 +0000

    SLING-6434 - serviceName configurations must be considered null when empty/blank
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1777322 13f79535-47bb-0310-9956-ffa450edef68

 .../sling/distribution/agent/impl/ForwardDistributionAgentFactory.java | 2 +-
 .../sling/distribution/agent/impl/QueueDistributionAgentFactory.java   | 2 +-
 .../sling/distribution/agent/impl/ReverseDistributionAgentFactory.java | 2 +-
 .../sling/distribution/agent/impl/SimpleDistributionAgentFactory.java  | 3 ++-
 .../sling/distribution/agent/impl/SyncDistributionAgentFactory.java    | 2 +-
 5 files changed, 6 insertions(+), 5 deletions(-)

commit f995b1d0a3530f20c664b553e1f96943dcf3bb1c
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Mon Dec 19 14:08:06 2016 +0000

    SLING-6418 - NPE in o.a.s.d.p.i.e.AgentDistributionPackageExporter#exportPackages
    
    * Throw specific exception when the queue can't be found in AgentDistributionPackageExporter or DistributionAgentQueueServlet
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1775099 13f79535-47bb-0310-9956-ffa450edef68

 .../exporter/AgentDistributionPackageExporter.java   | 14 ++++++++++++--
 .../servlet/DistributionAgentQueueServlet.java       | 20 ++++++++++++--------
 2 files changed, 24 insertions(+), 10 deletions(-)

commit d567292e8d940af5c5092cef028989ab91df8528
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Dec 13 09:24:18 2016 +0000

    SLING-6391 - added some javadoc and comments
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1773934 13f79535-47bb-0310-9956-ffa450edef68

 .../DefaultDistributionConfigurationManager.java   | 29 +++++++++++++++-------
 1 file changed, 20 insertions(+), 9 deletions(-)

commit 2104b07a9b99049942f920bbdf1bc8e0ba909a28
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Dec 13 09:09:47 2016 +0000

    SLING-6391 - avoid overriding from defaults in ResourceConfigManager, minor fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1773933 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/DefaultDistributionConfigurationManager.java      | 14 +++++++-------
 .../component/impl/DistributionConfiguration.java          |  9 +++++++++
 .../component/impl/ResourceConfigurationManager.java       |  6 +++++-
 3 files changed, 21 insertions(+), 8 deletions(-)

commit 8bd0507c43a2cb4774dcdeeb2c88b5e7c4dd159a
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Nov 29 15:21:05 2016 +0000

    SLING-6339 - applied patch from Simone Tripodi for warnings cleanup
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1771915 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/MonitoringDistributionPackageBuilder.java |  2 +-
 .../impl/AbstractDistributionPackageBuilder.java   | 13 +++----
 .../packaging/impl/DistributionPackageUtils.java   | 45 ++++++++++++++--------
 .../exporter/AgentDistributionPackageExporter.java |  7 ++--
 .../AgentDistributionPackageExporterFactory.java   | 15 +++-----
 .../LocalDistributionPackageExporterFactory.java   | 13 +++----
 .../RemoteDistributionPackageImporterFactory.java  | 10 ++---
 ...positoryDistributionPackageImporterFactory.java |  9 ++---
 .../impl/JcrEventDistributionTriggerFactory.java   |  6 +--
 9 files changed, 60 insertions(+), 60 deletions(-)

commit c2110b4f450a9f548b27251946441ce6c01dcd7f
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Mon Nov 28 15:27:54 2016 +0000

    SLING-6324 - avoiding exposing resource / file path of packages within their ids
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1771761 13f79535-47bb-0310-9956-ffa450edef68

 .../packaging/impl/FileDistributionPackage.java          |  2 +-
 .../packaging/impl/FileDistributionPackageBuilder.java   |  2 +-
 .../packaging/impl/ResourceDistributionPackage.java      |  2 +-
 .../impl/ResourceDistributionPackageBuilder.java         | 16 +++++++++++-----
 4 files changed, 14 insertions(+), 8 deletions(-)

commit e9e55a244fea669e8fb9d9c9d620cc66b6f3184f
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Mon Nov 28 15:01:29 2016 +0000

    SLING-6324 - removed duplicated / unneeded mbean registrations
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1771756 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/MonitoringDistributionPackageBuilder.java        | 15 +++------------
 1 file changed, 3 insertions(+), 12 deletions(-)

commit ad9a35280a3151b75b86a73e4ec148d11073f283
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Nov 24 15:23:44 2016 +0000

    SLING-6324 - added randomization to package ids, patch from Simone Tripodi
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1771164 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/packaging/impl/FileDistributionPackageBuilder.java   | 4 +++-
 .../distribution/packaging/impl/ResourceDistributionPackage.java      | 4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 6c269e0b04aaea172980ff6a6ebacdc776b71536
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Nov 24 15:22:47 2016 +0000

    SLING-5815 - added missing toString to export filter, minor tweak to fv serializer test
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1771163 13f79535-47bb-0310-9956-ffa450edef68

 .../serialization/DistributionExportFilter.java        | 18 +++++++++++++++++-
 .../impl/vlt/FileVaultContentSerializerTest.java       |  2 --
 2 files changed, 17 insertions(+), 3 deletions(-)

commit caa8efbcac9709d04f5b491fba655b7777b258b7
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Nov 24 11:58:29 2016 +0000

    SLING-5815 - added more tests for kryo and avro serializers, added some nullable/checkfornull annotations to export options/filter
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1771121 13f79535-47bb-0310-9956-ffa450edef68

 .../sling/distribution/serialization/DistributionExportFilter.java  | 4 ++++
 .../sling/distribution/serialization/DistributionExportOptions.java | 6 +++++-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit b64e6047f20385255b7a6fa6a6e43213ab6f80b2
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Nov 24 11:05:18 2016 +0000

    SLING-5815 - fixed inverted requestFiltering handling in file builder
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1771114 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/packaging/impl/FileDistributionPackageBuilder.java  | 2 +-
 .../packaging/impl/ResourceDistributionPackageBuilder.java           | 5 +++++
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 7cdc8dd4bc403d27821a63c76817a81f812b0c15
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Nov 23 11:24:06 2016 +0000

    SLING-5815 - fixed inverted requestFiltering handling
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1770949 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/packaging/impl/ResourceDistributionPackageBuilder.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cd04bdf6b8012a1ea82f0b28cffadc7812773b41
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Nov 23 11:07:18 2016 +0000

    SLING-5815 - removed unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1770947 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionPackageBuilder.java   | 58 ----------------------
 1 file changed, 58 deletions(-)

commit 26075a817753c76660d323f77f37e60162af178c
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Nov 23 10:22:05 2016 +0000

    SLING-5815 - expose content serializer
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1770942 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |  16 +-
 .../impl/AbstractDistributionPackageBuilder.java   |  66 ++++++-
 .../impl/FileDistributionPackageBuilder.java       |  27 ++-
 .../impl/ResourceDistributionPackageBuilder.java   |  22 ++-
 .../DistributionContentSerializer.java             |  21 ++-
 .../serialization/DistributionExportFilter.java    | 203 +++++++++++++++++++++
 .../serialization/DistributionExportOptions.java   |  55 ++++++
 .../impl/DistributionPackageBuilderFactory.java    |  20 +-
 .../impl/vlt/FileVaultContentSerializer.java       |  13 +-
 .../VaultDistributionPackageBuilderFactory.java    |   4 +-
 .../serialization/impl/vlt/VltUtils.java           |  10 +-
 .../impl/PriorityQueueDispatchingStrategyTest.java |   2 -
 .../DistributionExportFilterTest.java              |  47 +++++
 .../impl/vlt/FileVaultContentSerializerTest.java   | 147 +++++++++++++++
 src/test/resources/vlt/dp.vlt                      | Bin 0 -> 5378 bytes
 15 files changed, 613 insertions(+), 40 deletions(-)

commit c52f2f2a7b17849de1f02483c13988b01ca9576b
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Nov 18 14:17:30 2016 +0000

    SLING-6300 - added patch from Simone Tripodi for MBeans testing, minor fixes to JcrEventTriggerTest
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1770384 13f79535-47bb-0310-9956-ffa450edef68

 .../monitor/impl/DistributionPackageMBeanTest.java | 68 +++++++++++++++
 .../monitor/impl/DistributionQueueMBeanTest.java   | 96 ++++++++++++++++++++++
 .../impl/ForwardDistributionAgentMBeanTest.java    | 79 ++++++++++++++++++
 .../impl/QueueDistributionAgentMBeanTest.java      | 63 ++++++++++++++
 .../impl/ReverseDistributionAgentMBeanTest.java    | 63 ++++++++++++++
 .../impl/SimpleDistributionAgentMBeanTest.java     | 63 ++++++++++++++
 .../impl/SyncDistributionAgentMBeanTest.java       | 71 ++++++++++++++++
 ...ntialsDistributionTransportSecretMBeanTest.java | 40 +++++++++
 8 files changed, 543 insertions(+)

commit a472429952e9355b2fa467cd991174f31f33c224
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Nov 18 14:17:09 2016 +0000

    SLING-6300 - added patch from Simone Tripodi for MBeans testing, minor fixes to JcrEventTriggerTest
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1770383 13f79535-47bb-0310-9956-ffa450edef68

 .../monitor/impl/DistributionPackageMBeanImpl.java | 28 +++++++---------------
 .../impl/MonitoringDistributionPackageBuilder.java |  5 +---
 .../trigger/impl/JcrEventDistributionTrigger.java  |  1 +
 .../impl/JcrEventDistributionTriggerTest.java      | 20 ++++++++++++++--
 4 files changed, 29 insertions(+), 25 deletions(-)

commit b46d93b365ba638b133c14fe4f5c87b9eb73d56c
Author: Julian Sedding <jsedding@apache.org>
Date:   Thu Nov 17 15:11:27 2016 +0000

    SLING-6299 SCD ClassCastException ServiceRegistration cannot be cast to Comparable
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1770209 13f79535-47bb-0310-9956-ffa450edef68

 .../monitor/impl/MonitoringDistributionPackageBuilder.java            | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b4761f2a6ac3ee483998b987efc8674f1a2de67b
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Nov 11 14:25:37 2016 +0000

    SLING-6238 - adding jmx support for queue providers
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1769290 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      |   2 +
 .../agent/impl/QueueDistributionAgentFactory.java  |   4 +-
 .../impl/ReverseDistributionAgentFactory.java      |   3 +-
 .../agent/impl/SyncDistributionAgentFactory.java   |   3 +-
 .../monitor/impl/DistributionQueueMBean.java       |  91 +++++++++++++++++++
 .../monitor/impl/DistributionQueueMBeanImpl.java   |  93 +++++++++++++++++++
 .../impl/MonitoringDistributionQueueProvider.java  | 101 +++++++++++++++++++++
 7 files changed, 294 insertions(+), 3 deletions(-)

commit 9c85a78a3424983fb51adc4496385813aeb71b06
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Nov 4 15:57:44 2016 +0000

    SLING-6232 - applied patch from Simone Tripodi about monitoring package builders
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1768058 13f79535-47bb-0310-9956-ffa450edef68

 .../monitor/impl/DistributionPackageMBean.java     |  40 ++++++
 .../monitor/impl/DistributionPackageMBeanImpl.java |  82 +++++++++++++
 .../impl/MonitoringDistributionPackageBuilder.java | 135 +++++++++++++++++++++
 .../impl/DistributionPackageBuilderFactory.java    |  28 ++++-
 .../VaultDistributionPackageBuilderFactory.java    |  38 ++++--
 5 files changed, 311 insertions(+), 12 deletions(-)

commit b839b63e297ae98fe7022112dce409baa18c8553
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Nov 3 09:15:17 2016 +0000

    SLING-6210 - added missing default value for deep distribution
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1767845 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/trigger/impl/JcrEventDistributionTriggerFactory.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 66d7a1cdcbe858c95bc0b274a8433282309071a8
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Oct 28 14:34:01 2016 +0000

    SLING-6210 - added deep option to jcr event trigger, minor fix to abstract agent factory to sync triggers registration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1767029 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/AbstractDistributionAgentFactory.java             | 4 ++--
 .../sling/distribution/trigger/impl/AbstractJcrEventTrigger.java | 2 ++
 .../distribution/trigger/impl/JcrEventDistributionTrigger.java   | 7 +++++--
 .../trigger/impl/JcrEventDistributionTriggerFactory.java         | 9 ++++++++-
 .../trigger/impl/JcrEventDistributionTriggerTest.java            | 4 ++--
 5 files changed, 19 insertions(+), 7 deletions(-)

commit 9e9d542397321bfb3744bbbfda7ef85185d4ef62
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Oct 26 11:59:09 2016 +0000

    SLING-6189 - applied patch from Simone Tripodi for UCDTSP mbean
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1766673 13f79535-47bb-0310-9956-ffa450edef68

 ...redentialsDistributionTransportSecretMBean.java | 33 ++++++++++++++++++
 ...ntialsDistributionTransportSecretMBeanImpl.java | 40 ++++++++++++++++++++++
 2 files changed, 73 insertions(+)

commit 798987f8af226a1c9c0713cc25212ab2bb30f4a2
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Oct 26 11:58:43 2016 +0000

    SLING-6189 - applied patch from Simone Tripodi for UCDTSP mbean
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1766672 13f79535-47bb-0310-9956-ffa450edef68

 ...entialsDistributionTransportSecretProvider.java | 31 +++++++++++++++++++++-
 1 file changed, 30 insertions(+), 1 deletion(-)

commit 000627bb766bae0c46726ad6779cd8f6cc6bd469
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Oct 14 10:50:42 2016 +0000

    SLING-6054 - fixed missing paths check
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1764869 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |  6 ++
 .../trigger/impl/AbstractJcrEventTrigger.java      | 26 +++---
 .../impl/JcrEventDistributionTriggerFactory.java   |  3 +-
 .../trigger/impl/AbstractJcrEventTriggerTest.java  | 99 ++++++++++++++++++++++
 4 files changed, 122 insertions(+), 12 deletions(-)

commit 0a3a00b2beac92946c771b15449de29929c48d18
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Oct 7 13:42:17 2016 +0000

    SLING-6101 - introduced agent mbeans, patch by Simone Tripodi
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1763764 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionAgentFactory.java     |  35 ++++-
 .../impl/ForwardDistributionAgentFactory.java      |  15 ++-
 .../agent/impl/QueueDistributionAgentFactory.java  |  15 ++-
 .../impl/ReverseDistributionAgentFactory.java      |  16 ++-
 .../agent/impl/SimpleDistributionAgentFactory.java |  14 +-
 .../agent/impl/SyncDistributionAgentFactory.java   |  15 ++-
 .../impl/ForwardDistributionAgentMBean.java        | 144 +++++++++++++++++++++
 .../impl/ForwardDistributionAgentMBeanImpl.java    | 120 +++++++++++++++++
 .../monitor/impl/QueueDistributionAgentMBean.java  |  95 ++++++++++++++
 .../impl/QueueDistributionAgentMBeanImpl.java      |  85 ++++++++++++
 .../impl/ReverseDistributionAgentMBean.java        | 102 +++++++++++++++
 .../impl/ReverseDistributionAgentMBeanImpl.java    |  90 +++++++++++++
 .../monitor/impl/SimpleDistributionAgentMBean.java |  88 +++++++++++++
 .../impl/SimpleDistributionAgentMBeanImpl.java     |  80 ++++++++++++
 .../monitor/impl/SyncDistributionAgentMBean.java   | 130 +++++++++++++++++++
 .../impl/SyncDistributionAgentMBeanImpl.java       | 110 ++++++++++++++++
 16 files changed, 1145 insertions(+), 9 deletions(-)

commit 47f1a9db023cfbb6a53dc4d79c4d0061847aa063
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Oct 4 06:31:29 2016 +0000

    SLING-5900 - added filter to avoid creation of duplicate IDs, patch from Simone Tripodi
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1763231 13f79535-47bb-0310-9956-ffa450edef68

 .../servlet/DistributionAgentCreationFilter.java   | 117 +++++++++++++++++++++
 1 file changed, 117 insertions(+)

commit 2be2ecbb5a28fb930b0be2668151aff8f2358572
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Sep 16 19:53:47 2016 +0000

    SLING-6054 - creating missing paths for jcr event trigger
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1761073 13f79535-47bb-0310-9956-ffa450edef68

 .../trigger/impl/AbstractJcrEventTrigger.java      | 43 ++++++++++++++++++++--
 1 file changed, 39 insertions(+), 4 deletions(-)

commit 0ffd953b38117f4fcaf0d86d1059fd645cf12fa8
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Sep 16 13:13:54 2016 +0000

    SLING-6041 - fixed import-package directive
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1761028 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6b2ee6064761baf5cd14d0bdd373559cb74c29ea
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Sep 6 15:01:01 2016 +0000

    SLING-6041 - avoid embedding httpasyncclient
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1759441 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 99540d22e9b77ea1b8629fa92868f253829990b4
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Tue Aug 23 15:35:08 2016 +0000

    SLING-5990 - [SCD] FileBackedMemoryOutputStream is 10x slower than file buffering for large files
    
    * Override OutputStream#write(byte[], int, int) signature
    * Add multiple size unit tests
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1757389 13f79535-47bb-0310-9956-ffa450edef68

 .../util/impl/FileBackedMemoryOutputStream.java        | 16 ++++++++++++++++
 .../util/impl/FileBackedMemoryOutputStreamTest.java    | 18 ++++++++++++++++++
 2 files changed, 34 insertions(+)

commit d30971abc45f95f0aa0b935ebb8086df7aa269ea
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Tue Aug 23 10:12:25 2016 +0000

    SLING-5989 - [SCD] SimpleDistributionAgent appears inactive after enabling
    
    * Fix the enable method
    * Add unit tests
    * Cleanup dead code
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1757346 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        |  4 +-
 .../agent/impl/TriggerAgentRequestHandler.java     |  2 -
 .../agent/impl/SimpleDistributionAgentTest.java    | 51 ++++++++++++++++++++++
 3 files changed, 53 insertions(+), 4 deletions(-)

commit 159d195af7b0c681ea263448b09cb31524333a91
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Tue Aug 23 09:00:17 2016 +0000

    SLING-5988 - [SCD] support deep property filters
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1757330 13f79535-47bb-0310-9956-ffa450edef68

 .../serialization/impl/vlt/VltUtils.java           | 17 ++---
 .../serialization/impl/vlt/VltUtilsTest.java       | 87 ++++++++++++++++++++++
 2 files changed, 95 insertions(+), 9 deletions(-)

commit e78aa6b315085c05b3b18d6b086cb01a91aab1ff
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Mon Aug 22 15:06:44 2016 +0000

    SLING-5906 - Allow to filter resource by properties
    
    * Update org.apache.jackrabbit.vault dependency in order to include JCRVLT-120
    * Allow to configure a Package Property Filter, pass the configured filters to the vlt WorkspaceFilter
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1757192 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |  2 +-
 .../impl/vlt/FileVaultContentSerializer.java       | 10 +++++---
 .../VaultDistributionPackageBuilderFactory.java    | 16 +++++++++---
 .../serialization/impl/vlt/VltUtils.java           | 30 ++++++++++++----------
 4 files changed, 36 insertions(+), 22 deletions(-)

commit 46db26fce4c7b67c9340f5463c2d04a9a991b7f9
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Aug 18 14:29:47 2016 +0000

    SLING-5977 - moved SimpleDistributionAgent remaining inner class out, added tests
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1756793 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        | 48 +------------
 .../agent/impl/TriggerAgentRequestHandler.java     | 82 ++++++++++++++++++++++
 .../agent/impl/TriggerAgentRequestHandlerTest.java | 58 +++++++++++++++
 3 files changed, 143 insertions(+), 45 deletions(-)

commit c6721feca5aae625a0b790fc6f0e74d0cf84d9ca
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Aug 18 14:17:38 2016 +0000

    SLING-5977 - moved SimpleDistributionAgent inner classes out, added tests, created proper class for agent authentication info
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1756791 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/DistributionPackageExporterProcessor.java | 150 ++++++++++
 .../agent/impl/SimpleDistributionAgent.java        | 303 ++-------------------
 .../SimpleDistributionAgentAuthenticationInfo.java |  62 +++++
 .../SimpleDistributionAgentQueueProcessor.java     | 186 +++++++++++++
 .../util/impl/ByteBufferBackedInputStream.java     |   4 +-
 .../distribution/util/impl/DistributionUtils.java  |  46 ++++
 .../DistributionPackageExporterProcessorTest.java  | 123 +++++++++
 ...pleDistributionAgentAuthenticationInfoTest.java |  47 ++++
 .../SimpleDistributionAgentQueueProcessorTest.java |  62 +++++
 .../impl/FileBackedMemoryOutputStreamTest.java     |   3 +
 10 files changed, 703 insertions(+), 283 deletions(-)

commit d4dd20fc356a2184256c3e16d4de54495861271d
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Thu Aug 18 08:06:42 2016 +0000

    Revert: SLING-5906 - Allow to filter resource by properties
    
    * Update org.apache.jackrabbit.vault dependency in order to include JCRVLT-120
    * Allow to configure a Package Property Filter, pass the configured filters to the vlt WorkspaceFilter
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1756735 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |  2 +-
 .../impl/vlt/FileVaultContentSerializer.java       | 10 +++-----
 .../VaultDistributionPackageBuilderFactory.java    | 16 +++---------
 .../serialization/impl/vlt/VltUtils.java           | 30 ++++++++++------------
 4 files changed, 22 insertions(+), 36 deletions(-)

commit b7592db7a03c12459948f0e198450e85d1df0d57
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Wed Aug 17 17:03:54 2016 +0000

    SLING-5906 - Allow to filter resource by properties
    
    * Update org.apache.jackrabbit.vault dependency in order to include JCRVLT-120
    * Allow to configure a Package Property Filter, pass the configured filters to the vlt WorkspaceFilter
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1756657 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |  2 +-
 .../impl/vlt/FileVaultContentSerializer.java       | 10 +++++---
 .../VaultDistributionPackageBuilderFactory.java    | 16 +++++++++---
 .../serialization/impl/vlt/VltUtils.java           | 30 ++++++++++++----------
 4 files changed, 36 insertions(+), 22 deletions(-)

commit ec31f966e7cb86f131685765193d82a1cc00e444
Author: TimothÃ©e Maret <tmaret@apache.org>
Date:   Wed Aug 17 16:59:04 2016 +0000

    SLING-5941 - [SCD] Verify the uploaded distribution packages integrity via checksums
    
    * Add DigestUtils
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1756653 13f79535-47bb-0310-9956-ffa450edef68

 .../sling/distribution/util/impl/DigestUtils.java  | 114 +++++++++++++++++++++
 1 file changed, 114 insertions(+)

commit 8edb067a00ecc186c85e89af3f432bcfcf02d88e
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Aug 17 14:21:09 2016 +0000

    SLING-5941 - applied patch from Simone Tripodi for optionally verifying package integrity
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1756640 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionPackage.java          | 17 +++++-
 .../packaging/impl/FileDistributionPackage.java    |  9 ++-
 .../impl/FileDistributionPackageBuilder.java       | 44 +++++++++++----
 .../packaging/impl/ReferencePackage.java           | 21 ++++++-
 .../impl/ResourceDistributionPackage.java          |  9 ++-
 .../impl/ResourceDistributionPackageBuilder.java   | 37 ++++++++----
 .../packaging/impl/SimpleDistributionPackage.java  |  2 +-
 .../impl/DistributionPackageBuilderFactory.java    | 33 +++++++++--
 .../VaultDistributionPackageBuilderFactory.java    | 32 +++++++++--
 .../DistributionPackageImporterServlet.java        | 65 ++++++++++++++++++++--
 .../impl/SimpleHttpDistributionTransport.java      | 15 +++++
 11 files changed, 240 insertions(+), 44 deletions(-)

commit b53466dc32cb8fe6bce5248ca7d61ed3efba49c8
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Aug 5 12:01:55 2016 +0000

    SLING-5934 - added size to DistributionQueueItem
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1755300 13f79535-47bb-0310-9956-ffa450edef68

 .../packaging/impl/DistributionPackageUtils.java         |  2 +-
 .../sling/distribution/queue/DistributionQueueItem.java  | 16 +++++++++++++++-
 .../queue/impl/jobhandling/JobHandlingUtils.java         | 16 ++++++++++++----
 .../ExtendedDistributionServiceResourceProvider.java     |  1 +
 .../util/impl/FileBackedMemoryOutputStream.java          |  5 ++++-
 .../queue/impl/jobhandling/JobHandlingUtilsTest.java     |  3 ++-
 6 files changed, 35 insertions(+), 8 deletions(-)

commit 5ea238f29afd24b2998f40cd40d5fb23d396ba3d
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Aug 5 09:54:02 2016 +0000

    SLING-5913 - patch from Simone Tripodi for code cleaning
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1755270 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        |  5 +--
 .../component/impl/DistributionComponentKind.java  | 47 +++++++++++++++++-----
 .../impl/DistributionServiceResourceProvider.java  | 37 +----------------
 ...xtendedDistributionServiceResourceProvider.java |  4 +-
 4 files changed, 43 insertions(+), 50 deletions(-)

commit 36738be41ef57d6bf4d08f376b74fd19a7343087
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Aug 5 09:42:52 2016 +0000

    SLING-5730 - patch from Simone Tripodi for improved IO performance
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1755269 13f79535-47bb-0310-9956-ffa450edef68

 .../packaging/impl/DistributionPackageUtils.java      |  4 +++-
 .../impl/ResourceDistributionPackageBuilder.java      | 15 ++++++---------
 .../util/impl/ByteBufferBackedInputStream.java        | 19 ++++++++++++++++++-
 .../util/impl/FileBackedMemoryOutputStream.java       | 15 +++++----------
 .../util/impl/FileBackedMemoryOutputStreamTest.java   | 19 ++++++++++++++++++-
 5 files changed, 50 insertions(+), 22 deletions(-)

commit cd7712d1d2b944b44d1ba1112f5cee9b58de7271
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Aug 3 09:17:34 2016 +0000

    SLING-5695 - too loud logs
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1755053 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/packaging/impl/FileDistributionPackageBuilder.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9f3e8acfc0f93471b405bde4a6840783d2b593a2
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Aug 2 15:19:41 2016 +0000

    SLING-5695 - remved commented code, trivial fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1754948 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/packaging/impl/FileDistributionPackage.java     | 2 --
 .../queue/impl/AsyncDeliveryDispatchingStrategy.java             | 9 +++++----
 .../transport/impl/SimpleHttpDistributionTransport.java          | 5 -----
 3 files changed, 5 insertions(+), 11 deletions(-)

commit 5c97afa3563c03019e08762d2c426c3049e68e3b
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Mon Aug 1 13:33:57 2016 +0000

    SLING-5933 - make it possible to configure async delivery in forward agent
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1754749 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      | 24 ++++++++++++++--------
 1 file changed, 16 insertions(+), 8 deletions(-)

commit c06c7f0045657873dfa0daa11bdce35bf8f58ae7
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Mon Aug 1 11:21:08 2016 +0000

    SLING-5924 - applied patch from Simone Tripodi for using direct/indirect ByteBuffer for resource package builder
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1754735 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ResourceDistributionPackageBuilder.java   | 16 +++++-
 .../impl/AsyncDeliveryDispatchingStrategy.java     |  2 +-
 .../impl/DistributionPackageBuilderFactory.java    | 41 ++++++++++++--
 .../VaultDistributionPackageBuilderFactory.java    | 32 ++++++++++-
 .../util/impl/ByteBufferBackedInputStream.java     | 52 +++++++++++++++++
 .../util/impl/FileBackedMemoryOutputStream.java    | 66 +++++++++++++++-------
 .../impl/FileBackedMemoryOutputStreamTest.java     |  5 ++
 7 files changed, 182 insertions(+), 32 deletions(-)

commit 3fe468e38ee41ef601acbd0b5c501f25baf18260
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Jul 29 13:54:29 2016 +0000

    SLING-5924 - raised the file threashold default for resource pb to 1M
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1754527 13f79535-47bb-0310-9956-ffa450edef68

 .../serialization/impl/DistributionPackageBuilderFactory.java         | 4 ++--
 .../impl/vlt/VaultDistributionPackageBuilderFactory.java              | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 195434002e21aa2d2f2067a57122244e38483a6e
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Jul 29 11:58:43 2016 +0000

    SLING-5913 - reverted unwanted change on pom
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1754498 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 8b499d3ae9ee1b1c2ffe27bd6103ebb1f98b2067
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Jul 29 11:57:43 2016 +0000

    SLING-5913 - testcode cleanup, applying patch by Simone Tripodi
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1754497 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |  4 +-
 ...stributionRequestAuthorizationStrategyTest.java | 36 ++++------
 .../packaging/impl/ReferencePackageTest.java       |  4 +-
 .../RepositoryDistributionPackageImporterTest.java | 76 ++++++++++------------
 .../impl/AsyncDeliveryDispatchingStrategyTest.java | 21 +++---
 .../impl/ScheduledDistributionTriggerTest.java     | 65 +++++++++++-------
 6 files changed, 102 insertions(+), 104 deletions(-)

commit bac4b88af4ba7df1351ff3a0baf562cbff01fb0b
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Jul 29 10:12:23 2016 +0000

    SLING-5913 - code cleanup, applying patch by Simone Tripodi
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1754495 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/ForwardDistributionAgentFactory.java  |  2 --
 .../distribution/common/DistributionException.java   |  1 +
 .../common/RecoverableDistributionException.java     |  1 +
 .../monitor/DistributionQueueHealthCheck.java        |  2 --
 .../queue/impl/SimpleAgentDistributionQueue.java     |  3 +++
 .../jobhandling/JobHandlingDistributionQueue.java    |  3 ++-
 .../queue/impl/jobhandling/JobHandlingUtils.java     |  4 ++--
 .../simple/SimpleDistributionQueueCheckpoint.java    |  4 ++--
 .../agent/impl/SimpleDistributionAgentTest.java      | 20 ++++++++++----------
 .../component/impl/SettingsUtilsTest.java            | 18 ++++++++++++------
 .../AgentDistributionPackageExporterTest.java        |  3 ++-
 .../RemoteDistributionPackageExporterTest.java       | 14 ++++++--------
 .../queue/impl/jobhandling/JobHandlingUtilsTest.java |  7 +++----
 .../SimpleDistributionQueueCheckpointTest.java       | 16 +++++++---------
 .../impl/SimpleHttpDistributionTransportTest.java    | 17 +++++++++--------
 15 files changed, 60 insertions(+), 55 deletions(-)

commit f44c8c35d0ddc3b62293318e2871b7aca4fc2558
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Jul 28 14:27:26 2016 +0000

    SLING-5913 - applied patch from Simone Tripodi for code cleanup
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1754418 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionAgentFactory.java     |   1 -
 .../impl/ForwardDistributionAgentFactory.java      |   1 -
 .../agent/impl/QueueDistributionAgentFactory.java  |   5 +-
 .../agent/impl/SimpleDistributionAgentFactory.java |   4 -
 .../agent/impl/SyncDistributionAgentFactory.java   |   5 +-
 .../impl/DefaultDistributionComponentProvider.java |  36 ++---
 .../DefaultDistributionConfigurationManager.java   |   4 -
 .../component/impl/DistributionComponentKind.java  | 174 +++++++++++----------
 .../impl/DistributionComponentProvider.java        |   5 +-
 .../component/impl/OsgiConfigurationManager.java   |  28 ++--
 .../distribution/component/impl/SettingsUtils.java |   1 +
 .../log/impl/DefaultDistributionLog.java           |   2 +-
 .../DistributionConfigurationResourceProvider.java |   4 -
 .../impl/DistributionServiceResourceProvider.java  |  14 +-
 ...xtendedDistributionServiceResourceProvider.java |   4 +-
 .../distribution/resources/impl/OsgiUtils.java     |   2 +-
 .../common/AbstractReadableResourceProvider.java   |   1 +
 .../impl/common/SimpleModifiableResource.java      |   4 +-
 .../impl/common/SimpleReadableResource.java        |   6 +-
 .../DefaultDistributionPackageBuilderProvider.java |   6 +-
 .../servlet/DistributionAgentLogServlet.java       |   1 +
 .../servlet/DistributionAgentQueueServlet.java     |   2 +-
 .../servlet/DistributionAgentServlet.java          |   1 +
 .../DistributionPackageExporterServlet.java        |   1 +
 .../DistributionPackageImporterServlet.java        |   3 +-
 .../servlet/DistributionTriggerServlet.java        |   1 +
 .../distribution/servlet/ServletJsonUtils.java     |   3 +
 .../transport/impl/HttpTransportUtils.java         |   4 -
 ...entialsDistributionTransportSecretProvider.java |   8 -
 .../impl/PersistedJcrEventDistributionTrigger.java |   3 +-
 .../impl/FileBackedMemoryOutputStreamTest.java     |  77 +++++++++
 31 files changed, 238 insertions(+), 173 deletions(-)

commit 5e5917fb2a4aaa3a80a5e80470b4f301b83dece7
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Jul 28 14:25:06 2016 +0000

    SLING-5695 - minor refactoring and testing
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1754417 13f79535-47bb-0310-9956-ffa450edef68

 .../packaging/impl/FileDistributionPackage.java    |   4 +-
 .../packaging/impl/ReferencePackage.java           |  12 +-
 .../impl/ResourceDistributionPackage.java          |   4 +-
 .../packaging/impl/SharedDistributionPackage.java  |   4 +-
 .../packaging/impl/SimpleDistributionPackage.java  |   4 +-
 .../importer/LocalDistributionPackageImporter.java |  24 ++--
 .../jobhandling/JobHandlingDistributionQueue.java  |  19 +--
 .../packaging/impl/ReferencePackageTest.java       | 153 +++++++++++++++++++++
 .../impl/AsyncDeliveryDispatchingStrategyTest.java | 114 +++++++++++++++
 9 files changed, 306 insertions(+), 32 deletions(-)

commit 0682f65065b2d347f09cb49c7ad20956d5adbae6
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Jul 28 10:28:52 2016 +0000

    SLING-5695 - create an unsorted queue for async delivery
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1754389 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      |  5 ++-
 .../JobHandlingDistributionQueueProvider.java      | 41 +++++++++++++++-------
 2 files changed, 32 insertions(+), 14 deletions(-)

commit c32fb73f526645dd3715aec8e6a224fa7affa427
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Jul 28 10:23:49 2016 +0000

    SLING-5695 - fixed local importer
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1754387 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/importer/LocalDistributionPackageImporter.java      | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 1908a4945de51e3fbfbc3290dabff30606413fcf
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Jul 28 10:10:00 2016 +0000

    SLING-5695 - fixed local importer, minor fixes, reduced too loud logs
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1754385 13f79535-47bb-0310-9956-ffa450edef68

 .../packaging/impl/ResourceDistributionPackageBuilder.java          | 5 +----
 .../packaging/impl/importer/LocalDistributionPackageImporter.java   | 2 +-
 .../distribution/queue/impl/AsyncDeliveryDispatchingStrategy.java   | 6 +++---
 .../queue/impl/simple/SimpleDistributionQueueProvider.java          | 2 +-
 .../serialization/impl/vlt/FileVaultContentSerializer.java          | 1 -
 5 files changed, 6 insertions(+), 10 deletions(-)

commit 7a32a2155b705111343ff95482072d6393a2afa3
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Jul 28 08:18:29 2016 +0000

    SLING-5730 - applied patch from Simone Tripodi for writing packages in memory below a certain size
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1754361 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ResourceDistributionPackageBuilder.java   |  34 +++---
 .../impl/DistributionPackageBuilderFactory.java    |  13 ++-
 .../VaultDistributionPackageBuilderFactory.java    |  15 ++-
 .../util/impl/FileBackedMemoryOutputStream.java    | 119 +++++++++++++++++++++
 4 files changed, 158 insertions(+), 23 deletions(-)

commit 99f7902701fec46423fff5ab19c0e61fa8b948ca
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Jul 27 14:27:54 2016 +0000

    SLING-5695 - async delivery when normal queue has too many items
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1754277 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      |  30 ++--
 .../agent/impl/SimpleDistributionAgent.java        |   2 +-
 .../DefaultDistributionConfigurationManager.java   |   8 +-
 .../packaging/DistributionPackage.java             |   1 -
 .../impl/AbstractDistributionPackageBuilder.java   |  25 +++-
 .../packaging/impl/DistributionPackageUtils.java   |  29 ++--
 .../impl/FileDistributionPackageBuilder.java       |  21 ++-
 .../packaging/impl/ReferencePackage.java           | 101 ++++++++++++++
 .../impl/ResourceDistributionPackageBuilder.java   |  74 +++++++---
 .../exporter/AgentDistributionPackageExporter.java |   3 +-
 .../importer/LocalDistributionPackageImporter.java |  62 ++++++++-
 .../RemoteDistributionPackageImporter.java         |   1 -
 .../distribution/queue/DistributionQueue.java      |  11 +-
 .../queue/DistributionQueueProvider.java           |  11 +-
 .../distribution/queue/DistributionQueueType.java  |  36 +++++
 .../impl/AsyncDeliveryDispatchingStrategy.java     | 153 +++++++++++++++++++++
 .../queue/impl/CachingDistributionQueue.java       |  18 +--
 .../impl/MultipleQueueDispatchingStrategy.java     |   3 +-
 .../queue/impl/SimpleAgentDistributionQueue.java   |   6 +
 .../jobhandling/JobHandlingDistributionQueue.java  |  17 ++-
 .../JobHandlingDistributionQueueProvider.java      |  50 +++++--
 .../queue/impl/jobhandling/JobHandlingUtils.java   |  12 +-
 .../queue/impl/simple/SimpleDistributionQueue.java |   6 +
 .../simple/SimpleDistributionQueueCheckpoint.java  |   1 -
 .../simple/SimpleDistributionQueueProvider.java    |   7 +-
 .../DistributionConfigurationResourceProvider.java |   1 -
 ...xtendedDistributionServiceResourceProvider.java |   3 +-
 .../common/SimpleReadableResourceIterator.java     |   3 +-
 .../transport/impl/HttpTransportUtils.java         |   2 -
 .../impl/SimpleHttpDistributionTransport.java      |  14 +-
 .../JobHandlingDistributionQueueTest.java          |   5 +-
 31 files changed, 595 insertions(+), 121 deletions(-)

commit ee004e916ad2c6d320b9265114ed2721ee6e62c5
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Jul 20 14:46:38 2016 +0000

    This closes #154
    commit d24ef381afdc4d4c93378694772c9afe53e45ba9
    Author: tmaret <tmaret@adobe.com>
    Date: 2016-07-20T07:02:52Z
    SLING-5872 - Management of agent configurations must identify configurations by name
    Remove the agents with the same name wich are not bind to the same factory
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1753527 13f79535-47bb-0310-9956-ffa450edef68

 .../component/impl/OsgiConfigurationManager.java   | 30 +++++++++++++++++-----
 1 file changed, 23 insertions(+), 7 deletions(-)

commit ac1c941b3118353cf2c5d07c2043a53b2b56e1cf
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Jul 20 13:56:59 2016 +0000

    This closes #155
    commit 419d686f1ab0828171e0a9eb245a026e5b443875
    Author: tmaret <tmaret@adobe.com>
    Date: 2016-07-20T07:11:58Z
    SLING-5875 - Distribution resource configuration manager does update resources
    Use the content resource node if it exists already
    Fix the infinite recursion of commit calls
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1753517 13f79535-47bb-0310-9956-ffa450edef68

 .../component/impl/ResourceConfigurationManager.java         | 12 +++++++-----
 .../impl/common/AbstractModifyingResourceProvider.java       |  1 +
 2 files changed, 8 insertions(+), 5 deletions(-)

commit 7b78a34fd1e4af0fe9be4a0ee32513760a6c860a
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Jul 19 07:20:24 2016 +0000

    This closes #152
    commit 4151cda6cb741ceaa0975ec0180fedf7ce75434c
    Author: tmaret <tmaret@adobe.com>
    Date: 2016-07-15T14:42:35Z
    SLING-5849 - Inconsistent event handling between local package importer and its factory
    Generate Package Events in the package importer instead of the factory
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1753341 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ReverseDistributionAgentFactory.java      | 10 +--------
 .../importer/LocalDistributionPackageImporter.java | 25 ++++++++++++++++++++--
 .../LocalDistributionPackageImporterFactory.java   | 20 +++--------------
 .../LocalDistributionPackageImporterTest.java      |  5 ++++-
 4 files changed, 31 insertions(+), 29 deletions(-)

commit 319b5e7d1b621507d4dd451cea22e6759cbc0a43
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Mon Jun 27 14:11:06 2016 +0000

    SLING-5815 - moving DistributionPackage and related APIs in packaging package
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1750344 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/DistributionRequestAuthorizationStrategy.java |  2 +-
 .../agent/impl/ForwardDistributionAgentFactory.java          |  2 +-
 .../agent/impl/QueueDistributionAgentFactory.java            |  2 +-
 .../agent/impl/ReverseDistributionAgentFactory.java          |  2 +-
 .../distribution/agent/impl/SimpleDistributionAgent.java     |  2 +-
 .../agent/impl/SyncDistributionAgentFactory.java             |  2 +-
 .../component/impl/DefaultDistributionComponentProvider.java |  2 +-
 .../component/impl/DistributionComponentKind.java            |  2 +-
 .../event/impl/DefaultDistributionEventFactory.java          |  2 +-
 .../distribution/event/impl/DistributionEventFactory.java    |  2 +-
 .../{serialization => packaging}/DistributionPackage.java    |  2 +-
 .../DistributionPackageBuilder.java                          |  2 +-
 .../DistributionPackageBuilderProvider.java                  |  2 +-
 .../distribution/packaging/DistributionPackageExporter.java  |  1 -
 .../distribution/packaging/DistributionPackageImporter.java  |  2 --
 .../DistributionPackageInfo.java                             |  2 +-
 .../distribution/packaging/DistributionPackageProcessor.java |  2 --
 .../impl/AbstractDistributionPackage.java                    |  6 +++---
 .../impl/AbstractDistributionPackageBuilder.java             | 11 +++++------
 .../packaging/impl/DistributionPackageUtils.java             |  5 ++---
 .../impl/DistributionPackageWrapper.java                     |  6 +++---
 .../impl/FileDistributionPackage.java                        |  7 +++----
 .../impl/FileDistributionPackageBuilder.java                 |  7 ++++---
 .../impl/ResourceDistributionPackage.java                    |  7 +++----
 .../impl/ResourceDistributionPackageBuilder.java             |  5 ++---
 .../impl/SharedDistributionPackage.java                      |  4 ++--
 .../impl/SimpleDistributionPackage.java                      |  6 +++---
 .../impl/exporter/AgentDistributionPackageExporter.java      | 12 ++++++------
 .../exporter/AgentDistributionPackageExporterFactory.java    |  4 ++--
 .../impl/exporter/LocalDistributionPackageExporter.java      |  4 ++--
 .../exporter/LocalDistributionPackageExporterFactory.java    |  4 ++--
 .../impl/exporter/RemoteDistributionPackageExporter.java     |  4 ++--
 .../exporter/RemoteDistributionPackageExporterFactory.java   |  4 ++--
 .../impl/importer/LocalDistributionPackageImporter.java      |  6 +++---
 .../importer/LocalDistributionPackageImporterFactory.java    |  6 +++---
 .../impl/importer/RemoteDistributionPackageImporter.java     |  4 ++--
 .../importer/RemoteDistributionPackageImporterFactory.java   |  4 ++--
 .../impl/importer/RepositoryDistributionPackageImporter.java |  4 ++--
 .../RepositoryDistributionPackageImporterFactory.java        |  4 ++--
 .../apache/sling/distribution/queue/DistributionQueue.java   |  2 +-
 .../sling/distribution/queue/DistributionQueueItem.java      |  2 +-
 .../queue/impl/DistributionQueueDispatchingStrategy.java     |  2 +-
 .../queue/impl/ErrorQueueDispatchingStrategy.java            |  2 +-
 .../queue/impl/MultipleQueueDispatchingStrategy.java         |  4 ++--
 .../queue/impl/PriorityQueueDispatchingStrategy.java         |  2 +-
 .../impl/ExtendedDistributionServiceResourceProvider.java    |  2 +-
 .../serialization/DistributionContentSerializer.java         |  2 +-
 .../impl/DefaultDistributionPackageBuilderProvider.java      |  4 ++--
 .../impl/DistributionPackageBuilderFactory.java              |  8 +++++---
 .../serialization/impl/vlt/FileVaultContentSerializer.java   |  2 +-
 .../impl/vlt/VaultDistributionPackageBuilderFactory.java     | 10 +++++-----
 .../distribution/servlet/DistributionAgentQueueServlet.java  |  8 ++++----
 .../servlet/DistributionPackageExporterServlet.java          |  3 +--
 .../servlet/DistributionPackageImporterServlet.java          |  2 +-
 .../transport/impl/DefaultRemoteDistributionPackage.java     |  2 +-
 .../distribution/transport/impl/DistributionTransport.java   |  2 +-
 .../transport/impl/RemoteDistributionPackage.java            |  2 +-
 .../transport/impl/SimpleHttpDistributionTransport.java      |  6 ++----
 .../distribution/agent/impl/SimpleDistributionAgentTest.java |  4 ++--
 .../impl/SimpleDistributionPackageTest.java                  |  3 ++-
 .../impl/exporter/AgentDistributionPackageExporterTest.java  |  4 ++--
 .../impl/exporter/LocalDistributionPackageExporterTest.java  |  4 ++--
 .../impl/exporter/RemoteDistributionPackageExporterTest.java |  5 ++---
 .../impl/importer/LocalDistributionPackageImporterTest.java  |  4 ++--
 .../impl/importer/RemoteDistributionPackageImporterTest.java |  4 ++--
 .../importer/RepositoryDistributionPackageImporterTest.java  |  2 +-
 .../queue/impl/PriorityQueueDispatchingStrategyTest.java     |  6 +++---
 .../queue/impl/SingleQueueDistributionStrategyTest.java      |  2 +-
 .../impl/jobhandling/JobHandlingDistributionQueueTest.java   |  3 +--
 .../queue/impl/jobhandling/JobHandlingUtilsTest.java         |  3 +--
 .../transport/impl/SimpleHttpDistributionTransportTest.java  |  6 +++---
 71 files changed, 131 insertions(+), 143 deletions(-)

commit e6d8c8bbaeb697c4aa0e36b0ffeaca5180df4d9d
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Jun 15 12:02:35 2016 +0000

    SLING-5789 - checkpointing directories should be pruned at the end of the tests
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1748564 13f79535-47bb-0310-9956-ffa450edef68

 .../SimpleDistributionQueueProviderTest.java       | 109 +++++++++++++--------
 1 file changed, 66 insertions(+), 43 deletions(-)

commit 850326d22fa3905b66d169eaacaee8dbfc1784be
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Jun 15 11:20:25 2016 +0000

    SLING-5785: allow to store some distribution properties in content
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1748558 13f79535-47bb-0310-9956-ffa450edef68

 .../DefaultDistributionConfigurationManager.java   | 265 ++++++++++-----------
 .../impl/DistributionConfigurationManager.java     |  10 +-
 .../component/impl/OsgiConfigurationManager.java   | 257 ++++++++++++++++++++
 .../impl/ResourceConfigurationManager.java         | 195 +++++++++++++++
 .../DistributionConfigurationResourceProvider.java |  51 +++-
 .../impl/DistributionServiceResourceProvider.java  |   9 +-
 .../common/AbstractModifyingResourceProvider.java  |  39 +--
 .../common/AbstractReadableResourceProvider.java   |  28 ++-
 8 files changed, 665 insertions(+), 189 deletions(-)

commit 6f237ccb320aaa5707d6bd0a5aefe34b1c64254d
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Jun 3 09:05:19 2016 +0000

    SLING-5759: fix creation and deletion of distribution resources
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1746692 13f79535-47bb-0310-9956-ffa450edef68

 .../common/AbstractModifyingResourceProvider.java     | 19 ++++++++++++-------
 .../impl/common/AbstractReadableResourceProvider.java |  8 +++++++-
 2 files changed, 19 insertions(+), 8 deletions(-)

commit a30cf47580ad6223dd8650afe26061253b60ddf2
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue May 31 10:56:06 2016 +0000

    SLING-5752 - re-enabled SimpleHttpDistributionTransportTest
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1746263 13f79535-47bb-0310-9956-ffa450edef68

 .../transport/impl/SimpleHttpDistributionTransport.java   |  6 ------
 .../impl/SimpleHttpDistributionTransportTest.java         | 15 ++++++++++-----
 2 files changed, 10 insertions(+), 11 deletions(-)

commit 57467dee32544c1a915c1c158c93f9cb9ab7c5e5
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue May 31 07:36:58 2016 +0000

    This closes #144
    commit e876de40c51cbcbc2f0aac41f3e0607b7c0c6ca2
    Author: tmaret <tmaret@adobe.com>
    Date: 2016-05-30T15:34:30Z
    SLING-5752 - SimpleHttpDistributionTransport does not leverage configured scheme from distribution endpoint
    Pass scheme from distribution endpoint when building Executor's HttpHost
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1746247 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/transport/impl/SimpleHttpDistributionTransport.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 290d74aee550c4e9a26a5c719e12babf38e2960b
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue May 24 14:30:08 2016 +0000

    SLING-5737 - fix checkpointing with String[], added more proper testing of the reloaded item
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1745367 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/simple/SimpleDistributionQueueCheckpoint.java  | 13 ++++++++++++-
 .../impl/simple/SimpleDistributionQueueProvider.java    | 13 ++++++++++++-
 .../simple/SimpleDistributionQueueCheckpointTest.java   |  2 ++
 .../simple/SimpleDistributionQueueProviderTest.java     | 17 +++++++++++++++++
 src/test/resources/dummy-agent-checkpoint               |  2 +-
 5 files changed, 44 insertions(+), 3 deletions(-)

commit 57e6fb6b54edaabd60271ac77e1f576276e36556
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue May 24 14:01:51 2016 +0000

    SLING-5711 - adjusted some more javadocs
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1745364 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/common/DistributionException.java |  2 +-
 .../packaging/DistributionPackageExporter.java     | 19 ++++++++--------
 .../packaging/DistributionPackageImporter.java     | 11 ++++-----
 .../importer/LocalDistributionPackageImporter.java |  8 +++----
 .../queue/impl/CachingDistributionQueue.java       |  4 +++-
 .../impl/DistributionQueueDispatchingStrategy.java |  1 -
 .../DistributionContentSerializer.java             |  4 +++-
 .../DistributionPackageBuilderProvider.java        | 11 ++++++---
 .../impl/FileDistributionPackageBuilder.java       | 26 +++++++++++-----------
 .../DistributionPackageExporterServlet.java        |  1 -
 10 files changed, 47 insertions(+), 40 deletions(-)

commit 37266177f8a77c905b74299b43c0c9713973187a
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue May 24 13:55:53 2016 +0000

    SLING-5748 - checkpointing memory queue made optional, updated forward agent factory
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1745362 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |   9 ++
 .../impl/ForwardDistributionAgentFactory.java      |  15 +--
 .../simple/SimpleDistributionQueueProvider.java    | 120 +++++++++++----------
 .../SimpleDistributionQueueProviderTest.java       |  60 ++++++++++-
 src/test/resources/dummy-agent-checkpoint          |   1 +
 5 files changed, 141 insertions(+), 64 deletions(-)

commit 2c784330288aa5c0f0eaf2c85ea0782421e105fc
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue May 24 12:53:13 2016 +0000

    SLING-5737 - log an error if checkpointing fails, no runtime exception
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1745354 13f79535-47bb-0310-9956-ffa450edef68

 .../queue/impl/simple/SimpleDistributionQueueCheckpoint.java            | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f389f7f177b4cafb7524c1090ae5d97221c7aedc
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue May 24 12:39:30 2016 +0000

    SLING-5737 - added entries to the map in the test
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1745353 13f79535-47bb-0310-9956-ffa450edef68

 .../queue/impl/simple/SimpleDistributionQueueCheckpointTest.java     | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit c2301fda41656a6e0624823a662065819cc6bb0e
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue May 24 12:36:51 2016 +0000

    SLING-5737 - added light file based checkpointing
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1745352 13f79535-47bb-0310-9956-ffa450edef68

 .../queue/impl/simple/SimpleDistributionQueue.java |  2 +-
 .../simple/SimpleDistributionQueueCheckpoint.java  | 88 ++++++++++++++++++++
 ....java => SimpleDistributionQueueProcessor.java} |  6 +-
 .../simple/SimpleDistributionQueueProvider.java    | 94 +++++++++++++++++++---
 .../SimpleDistributionQueueCheckpointTest.java     | 71 ++++++++++++++++
 ...a => SimpleDistributionQueueProcessorTest.java} | 16 ++--
 6 files changed, 256 insertions(+), 21 deletions(-)

commit 9850220422d62ebfa6ac0cc9875532f3ac412f21
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue May 24 12:07:03 2016 +0000

    SLING-5734 - fixed property description
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1745346 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/agent/impl/ForwardDistributionAgentFactory.java     | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit d10a8fd7df46c4cd75cec15b71ede3077eb0d259
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed May 18 12:40:31 2016 +0000

    SLING-5734 - added support for using both in-memory and jobs queues
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1744404 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      | 25 ++++++++++++++++++++--
 .../JobHandlingDistributionQueueProvider.java      |  3 +++
 .../simple/SimpleDistributionQueueProvider.java    |  2 ++
 3 files changed, 28 insertions(+), 2 deletions(-)

commit 4aac75e4a721d7e706f86ec1786e80ead2d2a4f1
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed May 18 09:27:35 2016 +0000

    SLING-4075 - added test for getPackage on remote exporter
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1744367 13f79535-47bb-0310-9956-ffa450edef68

 .../RemoteDistributionPackageExporterTest.java         | 18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

commit a41ceaac1714810b87fae8a79a39f73142a86463
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed May 18 08:49:17 2016 +0000

    SLING-4075 - added test for getPackage on local exporter
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1744362 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/exporter/LocalDistributionPackageExporterTest.java  | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit fe7cee0de1ad164e9bfdba6744dc5f99983e2c5d
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed May 18 08:13:50 2016 +0000

    SLING-5733 - adjusted processor task test
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1744358 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/simple/ScheduledDistributionQueueProcessorTaskTest.java  | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit cdcf52cfa77adea6c0334eba9c54ee28c7b7f813
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed May 18 08:12:16 2016 +0000

    SLING-5733 - one processor per in memory queue, triggered every second
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1744357 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/queue/DistributionQueue.java      |  4 +--
 .../queue/impl/CachingDistributionQueue.java       |  1 +
 .../ScheduledDistributionQueueProcessorTask.java   | 23 ++++++++---------
 .../queue/impl/simple/SimpleDistributionQueue.java | 19 ++++++++++----
 .../simple/SimpleDistributionQueueProvider.java    | 29 ++++++++++++++--------
 ...cheduledDistributionQueueProcessorTaskTest.java |  8 +++---
 .../SimpleDistributionQueueProviderTest.java       |  4 +--
 7 files changed, 51 insertions(+), 37 deletions(-)

commit 3295bd0af08f3adb06456d83afeee71d950b4cc7
Author: Marius Petria <mpetria@apache.org>
Date:   Mon May 16 10:33:02 2016 +0000

    SLING-5711: fix wrong commit of unfinished work
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1744018 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      | 23 +++-------------------
 1 file changed, 3 insertions(+), 20 deletions(-)

commit 0940d52d0aa8a5208f6a435aa2d0bf408ba3ed1a
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue May 10 15:24:40 2016 +0000

    SLING-5717 - added unit test for PrivilegeDistributionRequestAuthorizationStrategy
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1743213 13f79535-47bb-0310-9956-ffa450edef68

 ...geDistributionRequestAuthorizationStrategy.java |   4 +
 ...stributionRequestAuthorizationStrategyTest.java | 173 +++++++++++++++++++++
 2 files changed, 177 insertions(+)

commit 5cf848327142fe08fb856fd768ffc65dc2b11142
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed May 4 14:38:50 2016 +0000

    SLING-5711 - adjust wrong / misleading javadocs
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1742293 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/agent/DistributionAgent.java      |  2 -
 .../impl/ForwardDistributionAgentFactory.java      | 23 ++++++++--
 ...geDistributionRequestAuthorizationStrategy.java |  3 ++
 ...ibutionRequestAuthorizationStrategyFactory.java |  3 ++
 .../agent/impl/QueueDistributionAgentFactory.java  |  5 ++-
 .../impl/ReverseDistributionAgentFactory.java      |  4 +-
 .../agent/impl/SimpleDistributionAgent.java        | 52 +++++++++++-----------
 .../agent/impl/SimpleDistributionAgentFactory.java |  1 -
 .../agent/impl/SyncDistributionAgentFactory.java   |  4 +-
 .../common/RecoverableDistributionException.java   |  2 +-
 .../impl/DefaultDistributionComponentProvider.java |  3 ++
 .../exporter/AgentDistributionPackageExporter.java |  4 ++
 .../AgentDistributionPackageExporterFactory.java   |  3 ++
 .../exporter/LocalDistributionPackageExporter.java |  4 +-
 .../LocalDistributionPackageExporterFactory.java   |  3 +-
 .../RemoteDistributionPackageExporter.java         |  2 -
 .../RemoteDistributionPackageExporterFactory.java  |  2 +-
 .../LocalDistributionPackageImporterFactory.java   |  3 +-
 .../RemoteDistributionPackageImporter.java         |  3 --
 .../RemoteDistributionPackageImporterFactory.java  |  2 +-
 ...positoryDistributionPackageImporterFactory.java |  2 +-
 .../impl/FileDistributionPackage.java              |  1 -
 .../servlet/DistributionAgentServlet.java          |  4 +-
 .../DistributionPackageImporterServlet.java        |  4 +-
 .../distribution/servlet/ServletJsonUtils.java     | 10 ++++-
 25 files changed, 92 insertions(+), 57 deletions(-)

commit 8c7b5956798147fa8be590f7d0c4a656ec7f1ebd
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Apr 27 16:23:07 2016 +0000

    SLING-5696 - minor fixes (imports and javadoc)
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1741285 13f79535-47bb-0310-9956-ffa450edef68

 .../sling/distribution/agent/impl/SimpleDistributionAgent.java       | 3 ---
 .../packaging/impl/exporter/RemoteDistributionPackageExporter.java   | 2 +-
 .../packaging/impl/importer/LocalDistributionPackageImporter.java    | 5 ++---
 .../distribution/queue/impl/MultipleQueueDispatchingStrategy.java    | 2 --
 .../sling/distribution/queue/impl/SimpleAgentDistributionQueue.java  | 2 --
 .../queue/impl/jobhandling/DistributionAgentJobConsumer.java         | 1 -
 .../resources/impl/ExtendedDistributionServiceResourceProvider.java  | 1 -
 .../resources/impl/common/AbstractReadableResourceProvider.java      | 3 +--
 .../distribution/serialization/impl/FileDistributionPackage.java     | 1 -
 .../serialization/impl/vlt/FileVaultContentSerializer.java           | 2 +-
 10 files changed, 5 insertions(+), 17 deletions(-)

commit 0fe2ca730ace7f157573042a2cb02979f645195c
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Apr 25 14:20:12 2016 +0000

    SLING-5686: pass remote.package.id through package info
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1740843 13f79535-47bb-0310-9956-ffa450edef68

 .../packaging/impl/DistributionPackageUtils.java   | 42 ++++++++++++++++++++--
 .../RemoteDistributionPackageExporter.java         |  6 ++--
 .../DistributionPackageExporterServlet.java        |  2 --
 ....java => DefaultRemoteDistributionPackage.java} | 11 +++---
 .../transport/impl/DistributionTransport.java      |  2 +-
 .../transport/impl/HttpTransportUtils.java         | 17 +--------
 ...geProxy.java => RemoteDistributionPackage.java} |  6 ++--
 .../impl/SimpleHttpDistributionTransport.java      | 13 ++-----
 .../impl/SimpleHttpDistributionTransportTest.java  |  4 +--
 9 files changed, 59 insertions(+), 44 deletions(-)

commit edd0068bb7a7263ce85cc7f194c86dbabc632d2c
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Apr 15 07:46:10 2016 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1739244 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 20d5c1b507a5c48127e5d18fe440b58067acca01
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Apr 15 07:45:53 2016 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.1.18
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1739242 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a1bb7c10a4a56a3d2b40e2e79ebd67cbc81a0c36
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Apr 13 11:42:52 2016 +0000

    SLING-5576: optimizations for distribution queue items listings
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1738924 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        | 15 +---
 .../queue/impl/CachingDistributionQueue.java       | 87 ++++++++++++++++++++++
 .../queue/impl/DistributionQueueWrapper.java       |  2 +-
 .../queue/impl/SimpleAgentDistributionQueue.java   | 56 ++++++++++++++
 .../jobhandling/DistributionAgentJobConsumer.java  |  1 -
 .../JobHandlingDistributionQueueProvider.java      |  5 +-
 ...xtendedDistributionServiceResourceProvider.java | 60 +++++++++++++--
 .../common/AbstractReadableResourceProvider.java   | 30 ++++----
 .../common/SimpleReadableResourceIterator.java     | 61 +++++++++++++++
 9 files changed, 280 insertions(+), 37 deletions(-)

commit 53907b72f0fec56ed434a5f9298d6a7e1fadc544
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Apr 11 16:18:57 2016 +0000

    SLING-5577: the local importer should install streams  without persistening them
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1738599 13f79535-47bb-0310-9956-ffa450edef68

 .../importer/LocalDistributionPackageImporter.java | 15 +-----
 .../serialization/DistributionPackageBuilder.java  | 12 +++++
 .../impl/AbstractDistributionPackageBuilder.java   | 55 +++++++++++++++++++++-
 .../impl/DistributionPackageBuilderFactory.java    |  7 +++
 .../impl/FileDistributionPackageBuilder.java       |  8 ++--
 .../impl/ResourceDistributionPackageBuilder.java   |  7 +--
 .../VaultDistributionPackageBuilderFactory.java    |  7 +++
 7 files changed, 86 insertions(+), 25 deletions(-)

commit ae211f677548e505a52cbda5a5f143bf345a8bdf
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Apr 11 09:40:03 2016 +0000

    SLING-5657: refactor shared packages to enable file storage
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1738560 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      |   3 +-
 .../agent/impl/QueueDistributionAgentFactory.java  |   3 +-
 .../impl/ReverseDistributionAgentFactory.java      |   2 -
 .../agent/impl/SimpleDistributionAgent.java        |   4 +-
 .../agent/impl/SyncDistributionAgentFactory.java   |   3 +-
 .../monitor/DistributionQueueHealthCheck.java      |   4 +-
 .../packaging/impl/DistributionPackageUtils.java   | 119 +++++++++++
 .../exporter/AgentDistributionPackageExporter.java |  23 ++-
 .../LocalDistributionPackageExporterFactory.java   |   3 +-
 .../RemoteDistributionPackageExporterFactory.java  |   3 +-
 .../LocalDistributionPackageImporterFactory.java   |   1 -
 .../distribution/queue/DistributionQueueEntry.java |   7 +-
 .../distribution/queue/DistributionQueueItem.java  |  12 +-
 .../jobhandling/DistributionAgentJobConsumer.java  |   4 +-
 .../jobhandling/JobHandlingDistributionQueue.java  |  27 +--
 .../queue/impl/jobhandling/JobHandlingUtils.java   |  40 ++--
 .../ScheduledDistributionQueueProcessorTask.java   |   4 +-
 .../queue/impl/simple/SimpleDistributionQueue.java |  10 +-
 ...xtendedDistributionServiceResourceProvider.java |   6 +-
 .../impl/AbstractDistributionPackage.java          |   2 +-
 .../DefaultDistributionPackageBuilderProvider.java |   2 +-
 .../impl/DefaultSharedDistributionPackage.java     | 208 -------------------
 .../DefaultSharedDistributionPackageBuilder.java   | 229 ---------------------
 .../impl/FileDistributionPackage.java              |  57 +++--
 .../impl/ResourceDistributionPackage.java          |  57 +++--
 .../impl/SimpleDistributionPackage.java            |  12 +-
 .../servlet/DistributionAgentQueueServlet.java     |  13 +-
 .../monitor/DistributionQueueHealthCheckTest.java  |   8 +-
 .../impl/SingleQueueDistributionStrategyTest.java  |   6 +-
 .../JobHandlingDistributionQueueTest.java          |   4 +-
 .../impl/jobhandling/JobHandlingUtilsTest.java     |  10 -
 ...cheduledDistributionQueueProcessorTaskTest.java |   2 +-
 .../impl/simple/SimpleDistributionQueueTest.java   |  12 +-
 33 files changed, 310 insertions(+), 590 deletions(-)

commit 9d086e379b0f4f6ac6938ce82471f98f9cced006
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Apr 11 09:17:33 2016 +0000

    SLING-5577: refactor content serialization to be independent of persistence
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1738558 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |   4 +-
 .../agent/impl/SimpleDistributionAgent.java        |   9 +-
 .../packaging/impl/DistributionPackageUtils.java   | 112 +++++++++
 .../exporter/AgentDistributionPackageExporter.java |   6 +-
 .../DistributionContentSerializer.java             |  55 +++++
 .../impl/AbstractDistributionPackageBuilder.java   |   7 +
 .../impl/DistributionPackageBuilderFactory.java    | 128 ++++++++++
 ...onPackage.java => FileDistributionPackage.java} |  79 ++++---
 .../impl/FileDistributionPackageBuilder.java       | 115 +++++++++
 .../impl/ResourceDistributionPackage.java          | 105 ++++++++
 .../impl/ResourceDistributionPackageBuilder.java   | 162 +++++++++++++
 .../impl/vlt/FileVaultContentSerializer.java       | 174 ++++++++++++++
 .../vlt/FileVaultDistributionPackageBuilder.java   | 168 -------------
 .../impl/vlt/JcrVaultDistributionPackage.java      | 102 --------
 .../vlt/JcrVaultDistributionPackageBuilder.java    | 263 ---------------------
 .../VaultDistributionPackageBuilderFactory.java    |  13 +-
 .../DistributionPackageExporterServlet.java        |   3 +-
 .../impl/SimpleHttpDistributionTransport.java      |   5 +-
 .../impl/DistributionPackageUtilsTest.java         | 106 +++++++++
 .../impl/SimpleDistributionPackageTest.java        |   2 +
 .../FileVaultDistributionPackageBuilderTest.java   | 179 --------------
 .../impl/vlt/FileVaultDistributionPackageTest.java | 104 --------
 22 files changed, 1041 insertions(+), 860 deletions(-)

commit f834846d6909fb6fd674818859e3502ff483c8b8
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Mar 31 14:05:34 2016 +0000

    SLING-5633: allow configuration of autosave threshold
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1737243 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/vlt/FileVaultDistributionPackageBuilder.java         |  7 +++++--
 .../impl/vlt/JcrVaultDistributionPackageBuilder.java          |  7 +++++--
 .../impl/vlt/VaultDistributionPackageBuilderFactory.java      | 11 ++++++++---
 .../sling/distribution/serialization/impl/vlt/VltUtils.java   |  6 +++++-
 .../impl/vlt/FileVaultDistributionPackageBuilderTest.java     | 10 +++++-----
 5 files changed, 28 insertions(+), 13 deletions(-)

commit 3ea05ae5a1b9757f1a8f8437fb1c91e2438b156d
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Mar 31 13:33:51 2016 +0000

    SLING-5633: install jcr packages from file
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1737238 13f79535-47bb-0310-9956-ffa450edef68

 .../serialization/impl/vlt/JcrVaultDistributionPackageBuilder.java | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit a582bc64ca3cbe337d57f75e3e211ba62d1c616b
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Mar 31 11:02:21 2016 +0000

    SLING-5633: tweak imports to allow core to install with jcr.api 2.2.0
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1737221 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 31a4514434761825f92dbd4118a81a63bc2a9c92
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Mar 18 13:54:41 2016 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1735606 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 4faff31c43609d5ce6739e9eb45d8073ef337721
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Mar 18 13:54:22 2016 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.1.16
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1735604 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e4da689369fe906e4826e15727ef477311f46a20
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Mar 18 07:51:31 2016 +0000

    SLING-5619: revert changes for SLING-5576
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1735543 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        | 15 +++-
 .../queue/impl/DistributionQueueWrapper.java       |  2 +-
 .../queue/impl/SimpleAgentDistributionQueue.java   | 88 ----------------------
 ...xtendedDistributionServiceResourceProvider.java | 59 ++-------------
 .../common/AbstractReadableResourceProvider.java   | 30 ++++----
 .../common/SimpleReadableResourceIterator.java     | 61 ---------------
 6 files changed, 35 insertions(+), 220 deletions(-)

commit b91821fd8386c772b5a3a5a36d5a47b35aacb2d1
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Mar 3 15:47:44 2016 +0000

    SLING-5576: improve queue items listing performance by using iterators
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1733486 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        | 15 +---
 .../queue/impl/DistributionQueueWrapper.java       |  2 +-
 .../queue/impl/SimpleAgentDistributionQueue.java   | 88 ++++++++++++++++++++++
 ...xtendedDistributionServiceResourceProvider.java | 59 +++++++++++++--
 .../common/AbstractReadableResourceProvider.java   | 30 ++++----
 .../common/SimpleReadableResourceIterator.java     | 61 +++++++++++++++
 6 files changed, 220 insertions(+), 35 deletions(-)

commit b931722a28f1d3b9f7074445a170b35cc346b075
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Mar 3 15:16:10 2016 +0000

    SLING-5581 - added a comment about intended usage of http client API
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1733478 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/transport/impl/SimpleHttpDistributionTransport.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5be9ccebcc76bf259091eb83fadcf7ca8472bc61
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Mar 3 15:13:17 2016 +0000

    SLING-5581 - switching back to returnContent which already does what we need
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1733477 13f79535-47bb-0310-9956-ffa450edef68

 .../transport/impl/SimpleHttpDistributionTransport.java     | 13 ++-----------
 1 file changed, 2 insertions(+), 11 deletions(-)

commit 589a1bc1ab0acf8e322bcab4beaec90eff363ede
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Mar 3 14:13:39 2016 +0000

    SLING-5581 - throw an error in transport if response status != 200
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1733468 13f79535-47bb-0310-9956-ffa450edef68

 .../transport/impl/SimpleHttpDistributionTransport.java  | 16 +++++++++++++---
 1 file changed, 13 insertions(+), 3 deletions(-)

commit b2afc60176175f10bf6fb7685727cf592ea03c2c
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Feb 23 10:14:06 2016 +0000

    SLING-5550: optimize acquiring of distribution packages
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1731829 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        | 18 ++++++----
 .../packaging/impl/DistributionPackageUtils.java   | 30 +++++++++++-----
 .../LocalDistributionPackageImporterFactory.java   |  2 +-
 .../impl/MultipleQueueDispatchingStrategy.java     | 41 ++++++++++------------
 .../impl/DefaultSharedDistributionPackage.java     | 40 ++++++++++++---------
 .../impl/SharedDistributionPackage.java            |  4 +--
 6 files changed, 76 insertions(+), 59 deletions(-)

commit c5453f15f090746fb9dbd2f441420b7f6f86a654
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Feb 4 12:57:54 2016 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1728457 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit c4cf861890452ba6cbdb560c4c283dad163c7e47
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Feb 4 12:57:34 2016 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.1.14
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1728455 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit b65fa6d7481bcc6429a452c450e89f279098153f
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Feb 1 15:36:33 2016 +0000

    SLING-5473: reduce locking for shared distribution packages
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1727953 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        | 17 +++--
 .../impl/AbstractDistributionPackageBuilder.java   |  4 +-
 .../impl/DefaultSharedDistributionPackage.java     | 80 +++++++++-------------
 .../DefaultSharedDistributionPackageBuilder.java   | 26 ++++++-
 .../vlt/JcrVaultDistributionPackageBuilder.java    | 24 +++++--
 .../DistributionPackageImporterServlet.java        |  4 +-
 6 files changed, 95 insertions(+), 60 deletions(-)

commit d9d91be3869cc276e60afbaa9fc3553f7fb13642
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Feb 1 14:09:26 2016 +0000

    SLING-5472: fix distribution package leak
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1727938 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/sling/distribution/agent/impl/SimpleDistributionAgent.java  | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3edc1c61fecc856bad053aa96305188c46fd37ac
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Jan 28 15:19:15 2016 +0000

    SLING-5432: expose configuration option for binaryless distribution
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1727381 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/vlt/FileVaultDistributionPackageBuilder.java          |  7 ++++---
 .../impl/vlt/JcrVaultDistributionPackageBuilder.java           |  6 ++++--
 .../impl/vlt/VaultDistributionPackageBuilderFactory.java       | 10 +++++++---
 .../sling/distribution/serialization/impl/vlt/VltUtils.java    |  5 ++++-
 .../impl/vlt/FileVaultDistributionPackageBuilderTest.java      | 10 +++++-----
 5 files changed, 24 insertions(+), 14 deletions(-)

commit ce180f4ca53883f8d9c45e1a23e3c15a853b3f11
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Jan 21 15:27:44 2016 +0000

    SLING-5446 - DefaultSharedDistributionPackageBuilder should not be tight to the VLT builder only
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1725986 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/ForwardDistributionAgentFactory.java    |  3 ++-
 .../agent/impl/QueueDistributionAgentFactory.java      |  3 ++-
 .../agent/impl/ReverseDistributionAgentFactory.java    |  2 ++
 .../agent/impl/SyncDistributionAgentFactory.java       |  3 ++-
 .../AgentDistributionPackageExporterFactory.java       |  1 -
 .../LocalDistributionPackageExporterFactory.java       |  3 ++-
 .../RemoteDistributionPackageExporterFactory.java      |  3 ++-
 .../LocalDistributionPackageImporterFactory.java       |  3 ++-
 .../RemoteDistributionPackageImporterFactory.java      |  1 -
 .../DefaultDistributionPackageBuilderProvider.java     |  2 +-
 .../impl/DefaultSharedDistributionPackageBuilder.java  | 18 ++++++------------
 .../serialization/impl/SharedDistributionPackage.java  |  3 ++-
 .../vlt/VaultDistributionPackageBuilderFactory.java    |  4 ++--
 13 files changed, 25 insertions(+), 24 deletions(-)

commit 21326ecc41c318fe7ddc3582aba312a0861f794a
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Jan 21 08:13:15 2016 +0000

    SLING-5444: display namehints in webconsole for distribution factories
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1725880 13f79535-47bb-0310-9956-ffa450edef68

 .../sling/distribution/agent/impl/ForwardDistributionAgentFactory.java | 1 +
 .../impl/PrivilegeDistributionRequestAuthorizationStrategyFactory.java | 1 +
 .../sling/distribution/agent/impl/QueueDistributionAgentFactory.java   | 1 +
 .../sling/distribution/agent/impl/ReverseDistributionAgentFactory.java | 1 +
 .../sling/distribution/agent/impl/SimpleDistributionAgentFactory.java  | 1 +
 .../sling/distribution/agent/impl/SyncDistributionAgentFactory.java    | 1 +
 .../impl/exporter/AgentDistributionPackageExporterFactory.java         | 1 +
 .../impl/exporter/LocalDistributionPackageExporterFactory.java         | 1 +
 .../impl/exporter/RemoteDistributionPackageExporterFactory.java        | 1 +
 .../impl/importer/LocalDistributionPackageImporterFactory.java         | 1 +
 .../impl/importer/RemoteDistributionPackageImporterFactory.java        | 1 +
 .../impl/importer/RepositoryDistributionPackageImporterFactory.java    | 3 ++-
 .../impl/DistributionConfigurationResourceProviderFactory.java         | 1 +
 .../resources/impl/DistributionServiceResourceProviderFactory.java     | 1 +
 .../serialization/impl/vlt/VaultDistributionPackageBuilderFactory.java | 1 +
 .../impl/UserCredentialsDistributionTransportSecretProvider.java       | 1 +
 .../impl/DistributionEventDistributeDistributionTriggerFactory.java    | 1 +
 .../distribution/trigger/impl/JcrEventDistributionTriggerFactory.java  | 1 +
 .../trigger/impl/PersistedJcrEventDistributionTriggerFactory.java      | 1 +
 .../trigger/impl/RemoteEventDistributionTriggerFactory.java            | 1 +
 .../trigger/impl/ResourceEventDistributionTriggerFactory.java          | 1 +
 .../distribution/trigger/impl/ScheduledDistributionTriggerFactory.java | 1 +
 22 files changed, 23 insertions(+), 1 deletion(-)

commit b28d5487865470d60ab00a1875aefca694aa44fe
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Jan 19 14:41:44 2016 +0000

    SLING-5440 - only get DistributionQueueEntry from Job
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1725533 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/sling/distribution/queue/DistributionQueueEntry.java | 6 +++++-
 .../queue/impl/jobhandling/DistributionAgentJobConsumer.java        | 2 +-
 .../sling/distribution/queue/impl/jobhandling/JobHandlingUtils.java | 2 +-
 3 files changed, 7 insertions(+), 3 deletions(-)

commit 3dbd68928f26ebadda5c29741b511a592f34b309
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Mon Jan 18 16:38:45 2016 +0000

    SLING-5439 - HTTP entity / Content should be discarded
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1725303 13f79535-47bb-0310-9956-ffa450edef68

 .../transport/impl/SimpleHttpDistributionTransport.java           | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e3efe158d325d3efad281e3e0b181261d2a53b91
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Mon Jan 18 16:34:18 2016 +0000

    SLING-5438 - using the internal JcrPackage during installation
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1725302 13f79535-47bb-0310-9956-ffa450edef68

 .../serialization/impl/vlt/JcrVaultDistributionPackage.java           | 4 ++++
 .../serialization/impl/vlt/JcrVaultDistributionPackageBuilder.java    | 4 +---
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 3621b9cf04d6c135b164b72aa3603a0c3e8f806f
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Jan 18 15:21:08 2016 +0000

    SLING-5436: do not move distribution packages to error queues on connection errors
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1725287 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        | 94 +++++++++++-----------
 .../packaging/impl/DistributionPackageUtils.java   | 23 ++++--
 .../DistributionPackageImporterServlet.java        |  6 +-
 .../impl/SimpleHttpDistributionTransport.java      | 20 +++--
 4 files changed, 81 insertions(+), 62 deletions(-)

commit 8ee70fe22a3e681ef2cd3be422bf6c66553fbbe3
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Mon Jan 18 11:29:58 2016 +0000

    SLING-3553 - committed findbugs fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1725236 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionAgentFactory.java     | 19 +++--
 .../impl/ForwardDistributionAgentFactory.java      | 15 ++--
 ...ibutionRequestAuthorizationStrategyFactory.java |  4 +-
 .../agent/impl/QueueDistributionAgentFactory.java  |  4 +-
 .../impl/ReverseDistributionAgentFactory.java      |  9 +--
 .../agent/impl/SimpleDistributionAgent.java        | 83 ++++++++++++----------
 .../agent/impl/SimpleDistributionAgentFactory.java |  4 +-
 .../agent/impl/SyncDistributionAgentFactory.java   | 18 ++---
 .../impl/DefaultDistributionComponentProvider.java | 18 ++---
 .../DefaultDistributionConfigurationManager.java   |  5 +-
 .../component/impl/DistributionComponentKind.java  |  4 +-
 .../distribution/component/impl/SettingsUtils.java |  4 +-
 .../distribution/impl/DefaultDistributor.java      |  1 +
 .../log/impl/DefaultDistributionLog.java           | 14 ++--
 .../monitor/DistributionQueueHealthCheck.java      |  2 +-
 .../packaging/DistributionPackageExporter.java     |  8 +--
 .../packaging/DistributionPackageProcessor.java    |  8 ++-
 .../packaging/impl/DistributionPackageUtils.java   | 14 ++--
 .../exporter/AgentDistributionPackageExporter.java | 10 +--
 .../AgentDistributionPackageExporterFactory.java   |  4 +-
 .../exporter/LocalDistributionPackageExporter.java |  4 --
 .../LocalDistributionPackageExporterFactory.java   |  2 -
 .../RemoteDistributionPackageExporter.java         |  8 +--
 .../RemoteDistributionPackageExporterFactory.java  | 15 ++--
 .../LocalDistributionPackageImporterFactory.java   |  2 +-
 .../RemoteDistributionPackageImporter.java         |  2 +-
 .../RemoteDistributionPackageImporterFactory.java  |  6 +-
 .../RepositoryDistributionPackageImporter.java     |  1 +
 .../queue/DistributionQueueProcessor.java          |  2 +-
 .../queue/DistributionQueueStatus.java             |  4 +-
 .../queue/impl/DistributionQueueWrapper.java       |  2 +-
 .../impl/PriorityQueueDispatchingStrategy.java     |  8 +--
 .../jobhandling/DistributionAgentJobConsumer.java  | 16 +++--
 .../queue/impl/jobhandling/JobHandlingUtils.java   | 10 +--
 .../queue/impl/simple/SimpleDistributionQueue.java |  3 +-
 .../DistributionConfigurationResourceProvider.java |  6 +-
 ...butionConfigurationResourceProviderFactory.java |  3 +-
 .../impl/DistributionServiceResourceProvider.java  | 18 ++---
 ...DistributionServiceResourceProviderFactory.java |  3 +-
 ...xtendedDistributionServiceResourceProvider.java |  4 +-
 .../common/AbstractModifyingResourceProvider.java  |  2 +-
 .../common/AbstractReadableResourceProvider.java   |  2 +-
 .../serialization/DistributionPackageInfo.java     |  9 ++-
 .../impl/AbstractDistributionPackageBuilder.java   |  1 -
 .../DefaultDistributionPackageBuilderProvider.java |  1 +
 .../impl/DefaultSharedDistributionPackage.java     |  5 +-
 .../DefaultSharedDistributionPackageBuilder.java   |  3 +-
 .../impl/DistributionPackageWrapper.java           |  2 +-
 .../impl/SharedDistributionPackage.java            |  1 -
 .../impl/SimpleDistributionPackage.java            |  4 +-
 .../impl/vlt/FileVaultDistributionPackage.java     |  2 +-
 .../vlt/FileVaultDistributionPackageBuilder.java   |  5 +-
 .../impl/vlt/JcrVaultDistributionPackage.java      |  9 +--
 .../vlt/JcrVaultDistributionPackageBuilder.java    |  7 +-
 .../VaultDistributionPackageBuilderFactory.java    | 14 ++--
 .../serialization/impl/vlt/VltUtils.java           | 18 ++---
 .../servlet/DistributionAgentQueueServlet.java     | 14 ++--
 .../DistributionPackageExporterServlet.java        |  5 +-
 .../distribution/servlet/ServletJsonUtils.java     |  2 +-
 .../impl/DefaultDistributionPackageProxy.java      |  2 +-
 .../transport/impl/HttpTransportUtils.java         |  6 +-
 .../impl/SimpleHttpDistributionTransport.java      | 30 +++-----
 ...entialsDistributionTransportSecretProvider.java |  4 +-
 .../trigger/impl/AbstractJcrEventTrigger.java      |  6 +-
 ...nEventDistributeDistributionTriggerFactory.java |  4 +-
 .../trigger/impl/JcrEventDistributionTrigger.java  |  2 +-
 .../impl/JcrEventDistributionTriggerFactory.java   |  8 +--
 .../impl/PersistedJcrEventDistributionTrigger.java |  1 -
 ...ersistedJcrEventDistributionTriggerFactory.java |  8 +--
 .../impl/RemoteEventDistributionTrigger.java       |  2 +-
 .../RemoteEventDistributionTriggerFactory.java     |  5 +-
 .../ResourceEventDistributionTriggerFactory.java   |  4 +-
 .../trigger/impl/ScheduledDistributionTrigger.java |  4 +-
 .../impl/ScheduledDistributionTriggerFactory.java  | 10 +--
 .../distribution/util/impl/DistributionUtils.java  |  4 +-
 .../agent/impl/SimpleDistributionAgentTest.java    | 12 ++--
 .../LocalDistributionPackageExporterTest.java      |  1 -
 .../impl/PriorityQueueDispatchingStrategyTest.java |  4 +-
 .../DistributionAgentJobConsumerTest.java          |  1 -
 .../JobHandlingDistributionQueueTest.java          |  1 -
 ...cheduledDistributionQueueProcessorTaskTest.java |  1 -
 .../impl/SimpleHttpDistributionTransportTest.java  |  3 -
 82 files changed, 277 insertions(+), 319 deletions(-)

commit 0cba1fe5018080590be3fca9861da454670d0931
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Jan 15 09:02:27 2016 +0000

    SLING-5430: allow move between distribution queues
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1724744 13f79535-47bb-0310-9956-ffa450edef68

 .../queue/impl/ErrorQueueDispatchingStrategy.java      |  2 +-
 .../ExtendedDistributionServiceResourceProvider.java   |  6 ++++++
 .../servlet/DistributionAgentQueueServlet.java         | 18 ++++++++++++++++++
 3 files changed, 25 insertions(+), 1 deletion(-)

commit f5190e66db2425f854b4e468f312f7d291609d6a
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Jan 14 14:42:19 2016 +0000

    SLING-5429: do not require root access for storing jcr packages
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1724625 13f79535-47bb-0310-9956-ffa450edef68

 .../vlt/JcrVaultDistributionPackageBuilder.java    | 49 ++++++++++------------
 1 file changed, 21 insertions(+), 28 deletions(-)

commit c4a45c7371a17ed8749da874fa939a4a8116e018
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Jan 12 13:50:03 2016 +0000

    SLING-5426: expose size for distribution packages
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1724235 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |  4 +-
 .../agent/impl/SimpleDistributionAgent.java        | 43 +++++++++++++---------
 .../impl/CompositeDistributionResponse.java        |  8 +++-
 .../queue/impl/jobhandling/JobHandlingUtils.java   | 23 +++++++++---
 .../serialization/DistributionPackage.java         |  7 ++++
 .../impl/DefaultSharedDistributionPackage.java     |  5 +++
 .../impl/DistributionPackageWrapper.java           |  5 +++
 .../impl/SimpleDistributionPackage.java            |  7 ++++
 .../impl/vlt/FileVaultDistributionPackage.java     |  5 +++
 .../impl/vlt/JcrVaultDistributionPackage.java      |  5 +++
 .../impl/SimpleHttpDistributionTransport.java      |  4 +-
 11 files changed, 87 insertions(+), 29 deletions(-)

commit 71d46b3130d8d9042269e0a4e3ea48dcd9e1ce22
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Jan 7 11:44:33 2016 +0000

    SLING-5399: log only start and end of a distribution request at info level
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1723521 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |  4 +-
 .../agent/impl/SimpleDistributionAgent.java        | 76 +++++++++++++++++-----
 .../impl/CompositeDistributionResponse.java        | 21 +++++-
 .../packaging/impl/DistributionPackageUtils.java   |  6 ++
 .../agent/impl/SimpleDistributionAgentTest.java    |  4 +-
 5 files changed, 90 insertions(+), 21 deletions(-)

commit a09b27bea61d921ea1330d2fe3ab6671afc7d2b4
Author: Carsten Ziegeler <cziegeler@apache.org>
Date:   Sun Jan 3 14:07:46 2016 +0000

    Switch to parent pom 26
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1722720 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cd77e64cddcc4d6d6af1a618bf4b623019597d40
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Dec 22 14:03:41 2015 +0000

    SLING-5399 - moving hidden transport interfaces to impl
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1721407 13f79535-47bb-0310-9956-ffa450edef68

 .../packaging/impl/exporter/RemoteDistributionPackageExporter.java  | 6 +++---
 .../packaging/impl/importer/RemoteDistributionPackageImporter.java  | 4 ++--
 .../transport/impl/DefaultDistributionPackageProxy.java             | 1 -
 .../distribution/transport/{ => impl}/DistributionPackageProxy.java | 6 +++---
 .../distribution/transport/{ => impl}/DistributionTransport.java    | 2 +-
 .../transport/{ => impl}/DistributionTransportContext.java          | 6 +++---
 .../transport/impl/SimpleHttpDistributionTransport.java             | 3 ---
 .../transport/impl/SimpleHttpDistributionTransportTest.java         | 2 --
 8 files changed, 12 insertions(+), 18 deletions(-)

commit 4c454746a66074ef3cb817581042663edeb0a5d2
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Dec 22 13:05:15 2015 +0000

    SLING-5399 - cleared logging, first iteration, minor refactorings
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1721391 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/agent/impl/SimpleDistributionAgent.java     |  6 +++---
 .../impl/exporter/AgentDistributionPackageExporter.java      |  2 +-
 .../impl/exporter/RemoteDistributionPackageExporter.java     |  6 +++---
 .../impl/importer/RemoteDistributionPackageImporter.java     |  4 ++--
 .../impl/importer/RepositoryDistributionPackageImporter.java |  2 +-
 .../queue/impl/jobhandling/DistributionAgentJobConsumer.java |  4 ++--
 .../queue/impl/jobhandling/JobHandlingDistributionQueue.java |  4 ++--
 .../impl/simple/ScheduledDistributionQueueProcessorTask.java |  2 +-
 .../queue/impl/simple/SimpleDistributionQueue.java           |  4 ++--
 .../queue/impl/simple/SimpleDistributionQueueProvider.java   |  4 ++--
 .../impl/DefaultSharedDistributionPackageBuilder.java        | 12 ++++++------
 .../servlet/DistributionPackageExporterServlet.java          |  4 ++--
 .../servlet/DistributionPackageImporterServlet.java          |  2 +-
 .../transport/{core => }/DistributionPackageProxy.java       |  2 +-
 .../transport/{core => }/DistributionTransport.java          |  2 +-
 .../transport/{core => }/DistributionTransportContext.java   |  2 +-
 .../transport/impl/DefaultDistributionPackageProxy.java      |  2 +-
 .../transport/impl/SimpleHttpDistributionTransport.java      | 10 +++++-----
 .../transport/impl/SimpleHttpDistributionTransportTest.java  |  4 ++--
 19 files changed, 39 insertions(+), 39 deletions(-)

commit a2741cbaf6026f52bad33c7abe547a9bd15141bc
Author: asf-sync-process <asf-sync-process@unknown>
Date:   Tue Dec 22 11:30:22 2015 +0000

    SLING-5396: use single transport context per exporter/importer
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1721363 13f79535-47bb-0310-9956-ffa450edef68

 .../exporter/RemoteDistributionPackageExporter.java   |  5 +++--
 .../importer/RemoteDistributionPackageImporter.java   |  8 +++++---
 .../transport/core/DistributionTransport.java         |  4 ++--
 ...Context.java => DistributionTransportContext.java} |  4 ++--
 .../impl/SimpleHttpDistributionTransport.java         | 19 +++++++++++--------
 .../impl/SimpleHttpDistributionTransportTest.java     |  8 ++++----
 6 files changed, 27 insertions(+), 21 deletions(-)

commit 3900180aba8b6eba9085663e90a156a86fb6851f
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Dec 22 11:25:53 2015 +0000

    SLING-5397: adding missing files
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1721358 13f79535-47bb-0310-9956-ffa450edef68

 ....java => PriorityQueueDispatchingStrategy.java} | 16 ++++-------
 ...a => PriorityQueueDispatchingStrategyTest.java} | 33 ++++++++++++----------
 2 files changed, 24 insertions(+), 25 deletions(-)

commit 0f6f41e31581a5fd1875b4b4d37be9e4e360b33f
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Dec 22 11:02:26 2015 +0000

    SLING-5397: change selectiveQueues to priorityQueues
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1721343 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/ForwardDistributionAgentFactory.java   | 17 ++++++++---------
 .../agent/impl/QueueDistributionAgentFactory.java     | 19 ++++++++-----------
 2 files changed, 16 insertions(+), 20 deletions(-)

commit e2e8364d8232745f007144a834845bd54779d1c9
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Dec 22 08:40:03 2015 +0000

    SLING-5396: delete remote package after it is enqueued
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1721316 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      |  44 ++---
 .../impl/ReverseDistributionAgentFactory.java      |   4 +-
 .../agent/impl/SimpleDistributionAgent.java        |  53 ++++--
 .../agent/impl/SyncDistributionAgentFactory.java   |  34 +---
 .../packaging/DistributionPackageExporter.java     |   3 +-
 .../DistributionPackageProcessor.java}             |  15 +-
 .../packaging/impl/DistributionPackageUtils.java   |  14 +-
 .../exporter/AgentDistributionPackageExporter.java |  20 +-
 .../AgentDistributionPackageExporterFactory.java   |   5 +-
 .../exporter/LocalDistributionPackageExporter.java |  13 +-
 .../LocalDistributionPackageExporterFactory.java   |   5 +-
 .../RemoteDistributionPackageExporter.java         |  48 +++--
 .../RemoteDistributionPackageExporterFactory.java  |  27 +--
 .../AdvancedRemoteDistributionPackageImporter.java | 154 ----------------
 .../RemoteDistributionPackageImporter.java         |  28 +--
 .../RemoteDistributionPackageImporterFactory.java  |  22 +--
 .../impl/MultipleQueueDispatchingStrategy.java     |   2 +-
 ....java => DefaultSharedDistributionPackage.java} |   5 +-
 ...> DefaultSharedDistributionPackageBuilder.java} |  28 ++-
 .../impl/DistributionPackageWrapper.java           |  24 ++-
 .../impl}/SharedDistributionPackage.java           |   5 +-
 .../VaultDistributionPackageBuilderFactory.java    |   6 +-
 .../DistributionPackageExporterServlet.java        |  75 ++++----
 .../transport/core/DistributionContext.java        |  31 ++++
 .../transport/core/DistributionPackageProxy.java   |  28 +++
 .../transport/core/DistributionTransport.java      |   7 +-
 .../impl/AdvancedHttpDistributionTransport.java    | 180 ------------------
 .../impl/DefaultDistributionPackageProxy.java      |  64 +++++++
 .../MultipleEndpointDistributionTransport.java     | 125 -------------
 .../impl/SimpleHttpDistributionTransport.java      |  85 +++++----
 .../agent/impl/SimpleDistributionAgentTest.java    |  78 ++++++--
 .../AgentDistributionPackageExporterTest.java      |  10 +-
 .../LocalDistributionPackageExporterTest.java      |  13 +-
 .../RemoteDistributionPackageExporterTest.java     |  26 ++-
 .../RemoteDistributionPackageImporterTest.java     |  18 +-
 .../SelectiveQueueDispatchingStrategyTest.java     |   2 +-
 .../AdvancedHttpDistributionTransportTest.java     |  79 --------
 .../MultipleEndpointDistributionTransportTest.java | 204 ---------------------
 .../impl/SimpleHttpDistributionTransportTest.java  |  27 ++-
 39 files changed, 524 insertions(+), 1087 deletions(-)

commit cd6b8b7521d563517e6b88c676896889d5830786
Author: Oliver Lietz <olli@apache.org>
Date:   Tue Dec 15 13:34:04 2015 +0000

    use org.apache.sling.distribution.api 0.3.1-SNAPSHOT to fix build (0.3.0 under vote)
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1720156 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bc3ca36d50628b3d11789c6b898da76f3d735548
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Dec 15 11:57:56 2015 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1720135 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit af16529c827ea4880d7c935e6ba21c2661308115
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Dec 15 11:57:38 2015 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.1.12
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1720133 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 08c183576a35a9eb0d125bb687e44e401a1e2eec
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Dec 15 11:56:12 2015 +0000

    use released dependencies for distribution api
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1720132 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1ffc50f9398b6e24cf24ad36c282cd756c90678a
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Dec 10 14:23:47 2015 +0000

    SLING-5346: return passive state for queues that do not process items
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1719086 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        | 27 +++++++-
 .../common/RecoverableDistributionException.java   | 37 +++++++++++
 .../AgentDistributionPackageExporterFactory.java   |  3 +-
 .../distribution/queue/DistributionQueueState.java |  9 ++-
 .../queue/impl/DistributionQueueWrapper.java       | 73 ++++++++++++++++++++++
 .../jobhandling/JobHandlingDistributionQueue.java  |  2 +-
 .../impl/SimpleHttpDistributionTransport.java      |  7 ++-
 .../agent/impl/SimpleDistributionAgentTest.java    | 25 --------
 8 files changed, 149 insertions(+), 34 deletions(-)

commit 78b7e5a584329c8a478a2c3135c0d05ae1c283a0
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Dec 10 08:46:44 2015 +0000

    SLING-5368: make distribution.core work with Sling Event 4.0.0
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1719030 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 366286e4f4aa7c78612f8f6ed09ae862dc56face
Author: asf-sync-process <asf-sync-process@unknown>
Date:   Wed Dec 9 15:47:06 2015 +0000

    SLING-5367: allow distribution request filters
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1718890 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |  2 +-
 .../serialization/DistributionPackageInfo.java     |  1 -
 .../vlt/FileVaultDistributionPackageBuilder.java   |  3 +-
 .../vlt/JcrVaultDistributionPackageBuilder.java    |  3 +-
 .../serialization/impl/vlt/VltUtils.java           | 87 +++++++++++++++++-----
 .../sling/distribution/util/RequestUtils.java      |  4 +
 6 files changed, 76 insertions(+), 24 deletions(-)

commit 6680b5c317426c6045a39de9fe7fdc63ac35f612
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Nov 27 15:21:03 2015 +0000

    SLING-5336: log an error if a distribution item cannot be added to queue
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1716885 13f79535-47bb-0310-9956-ffa450edef68

 .../queue/impl/ErrorQueueDispatchingStrategy.java           | 13 +++++++++----
 .../queue/impl/MultipleQueueDispatchingStrategy.java        |  1 +
 2 files changed, 10 insertions(+), 4 deletions(-)

commit 6897c8882f8ace96cb771cc14cfe40a3a18b4c45
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Nov 27 14:38:24 2015 +0000

    SLING-5336: always return the created distribution queue entry
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1716880 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4815bc18ca809411ced045b585c109e7b463fb46
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Nov 27 14:36:28 2015 +0000

    SLING-5336: always return the created distribution queue entry
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1716879 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                                        |  2 +-
 .../sling/distribution/agent/impl/SimpleDistributionAgent.java |  4 ++--
 .../org/apache/sling/distribution/queue/DistributionQueue.java |  5 ++---
 .../distribution/queue/impl/ErrorQueueDispatchingStrategy.java |  3 ++-
 .../queue/impl/MultipleQueueDispatchingStrategy.java           |  7 +++++--
 .../queue/impl/jobhandling/JobHandlingDistributionQueue.java   |  8 ++++----
 .../queue/impl/simple/SimpleDistributionQueue.java             |  9 +++++++--
 .../impl/ResourceSharedDistributionPackageBuilder.java         |  4 ++--
 .../queue/impl/SingleQueueDistributionStrategyTest.java        | 10 ++++------
 .../impl/jobhandling/JobHandlingDistributionQueueTest.java     |  4 ++--
 .../queue/impl/simple/SimpleDistributionQueueTest.java         |  6 +++---
 11 files changed, 34 insertions(+), 28 deletions(-)

commit a54d0ca9b13b2705bd3d3bbccf44264499b6def5
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Nov 27 11:51:41 2015 +0000

    SLING-5336: improve logging for shared packages
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1716851 13f79535-47bb-0310-9956-ffa450edef68

 .../serialization/impl/ResourceSharedDistributionPackageBuilder.java | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit ea6a4e73427d63a4b8058032bb7bd9621bafdd00
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Nov 27 09:52:50 2015 +0000

    SLING-5336: improve shared distribution packages concurrency
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1716813 13f79535-47bb-0310-9956-ffa450edef68

 .../jobhandling/JobHandlingDistributionQueue.java  |  4 ++--
 .../ResourceSharedDistributionPackageBuilder.java  | 24 ++++++++++++++--------
 2 files changed, 18 insertions(+), 10 deletions(-)

commit 0d2ad337259842ab05a99a833190ce92d439a298
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Nov 20 11:33:10 2015 +0000

    SLING-5316: expose userid in distribution queues
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1715339 13f79535-47bb-0310-9956-ffa450edef68

 ...ExtendedDistributionServiceResourceProvider.java |  2 +-
 .../servlet/DistributionAgentQueueServlet.java      | 21 ++++++++++-----------
 2 files changed, 11 insertions(+), 12 deletions(-)

commit 15c4c64ec6508a9b2e5002e0d8a18973faac7b83
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Nov 18 14:04:13 2015 +0000

    SLING-5179: fix some logging and exports
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1714995 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |  2 +-
 .../agent/impl/SimpleDistributionAgent.java        | 17 ++++++++--------
 .../packaging/impl/DistributionPackageUtils.java   | 23 ++++++++++++++++++++++
 .../serialization/DistributionPackageInfo.java     | 11 +++++++++--
 .../impl/AbstractDistributionPackageBuilder.java   |  4 ++--
 .../impl/SimpleHttpDistributionTransport.java      | 10 +++-------
 6 files changed, 47 insertions(+), 20 deletions(-)

commit 521df66dd17c82ec32a69e38d6c32c5b194a3802
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Nov 17 11:18:27 2015 +0000

    SLING-5179: fix extension bundle by linking it to core
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1714754 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |  2 +-
 .../distribution/agent/DistributionAgent.java      |  2 +-
 .../DistributionRequestAuthorizationStrategy.java  |  2 +-
 ...geDistributionRequestAuthorizationStrategy.java |  2 +-
 ...ibutionRequestAuthorizationStrategyFactory.java |  2 +-
 .../agent/impl/SimpleDistributionAgent.java        |  2 +-
 .../{impl => common}/DistributionException.java    |  2 +-
 .../sling/distribution/common/package-info.java    | 24 ++++++++++++++++++++++
 .../distribution/impl/DefaultDistributor.java      |  1 +
 .../packaging/DistributionPackageExporter.java     |  2 +-
 .../packaging/DistributionPackageImporter.java     |  2 +-
 .../exporter/AgentDistributionPackageExporter.java |  2 +-
 .../AgentDistributionPackageExporterFactory.java   |  2 +-
 .../exporter/LocalDistributionPackageExporter.java |  2 +-
 .../LocalDistributionPackageExporterFactory.java   |  2 +-
 .../RemoteDistributionPackageExporter.java         |  2 +-
 .../RemoteDistributionPackageExporterFactory.java  |  2 +-
 .../AdvancedRemoteDistributionPackageImporter.java |  2 +-
 .../importer/LocalDistributionPackageImporter.java |  2 +-
 .../LocalDistributionPackageImporterFactory.java   |  2 +-
 .../RemoteDistributionPackageImporter.java         |  2 +-
 .../RemoteDistributionPackageImporterFactory.java  |  2 +-
 .../RepositoryDistributionPackageImporter.java     |  2 +-
 ...positoryDistributionPackageImporterFactory.java |  2 +-
 .../queue/DistributionQueueProvider.java           |  2 +-
 .../impl/DistributionQueueDispatchingStrategy.java |  2 +-
 .../queue/impl/ErrorQueueDispatchingStrategy.java  |  2 +-
 .../impl/MultipleQueueDispatchingStrategy.java     |  2 +-
 .../impl/SelectiveQueueDispatchingStrategy.java    |  2 +-
 .../JobHandlingDistributionQueueProvider.java      |  2 +-
 .../serialization/DistributionPackageBuilder.java  |  4 ++--
 .../impl/AbstractDistributionPackageBuilder.java   |  2 +-
 .../ResourceSharedDistributionPackageBuilder.java  |  2 +-
 .../vlt/FileVaultDistributionPackageBuilder.java   |  2 +-
 .../vlt/JcrVaultDistributionPackageBuilder.java    |  2 +-
 .../VaultDistributionPackageBuilderFactory.java    |  2 +-
 .../servlet/DistributionAgentQueueServlet.java     |  2 +-
 .../DistributionPackageExporterServlet.java        |  2 +-
 .../servlet/DistributionTriggerServlet.java        |  2 +-
 .../transport/core/DistributionTransport.java      |  2 +-
 .../impl/AdvancedHttpDistributionTransport.java    |  2 +-
 .../MultipleEndpointDistributionTransport.java     |  2 +-
 .../impl/SimpleHttpDistributionTransport.java      |  2 +-
 .../distribution/trigger/DistributionTrigger.java  |  2 +-
 .../trigger/impl/AbstractJcrEventTrigger.java      |  2 +-
 ...ributionEventDistributeDistributionTrigger.java |  2 +-
 ...nEventDistributeDistributionTriggerFactory.java |  2 +-
 .../impl/JcrEventDistributionTriggerFactory.java   |  2 +-
 ...ersistedJcrEventDistributionTriggerFactory.java |  2 +-
 .../impl/RemoteEventDistributionTrigger.java       |  2 +-
 .../RemoteEventDistributionTriggerFactory.java     |  2 +-
 .../impl/ResourceEventDistributionTrigger.java     |  2 +-
 .../ResourceEventDistributionTriggerFactory.java   |  2 +-
 .../trigger/impl/ScheduledDistributionTrigger.java |  2 +-
 .../impl/ScheduledDistributionTriggerFactory.java  |  2 +-
 .../RepositoryDistributionPackageImporterTest.java |  2 +-
 56 files changed, 80 insertions(+), 55 deletions(-)

commit 086589315976d11c51a70ac7f081da831c4e7e1d
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Nov 16 15:50:28 2015 +0000

    SLING-5300: enable defaults for distribution components
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1714609 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/agent/impl/ForwardDistributionAgentFactory.java    | 6 +++---
 .../distribution/agent/impl/QueueDistributionAgentFactory.java      | 4 ++--
 .../distribution/agent/impl/ReverseDistributionAgentFactory.java    | 6 +++---
 .../sling/distribution/agent/impl/SyncDistributionAgentFactory.java | 6 +++---
 .../org/apache/sling/distribution/component/impl/SettingsUtils.java | 1 +
 .../impl/exporter/RemoteDistributionPackageExporterFactory.java     | 4 ++--
 .../impl/importer/LocalDistributionPackageImporterFactory.java      | 3 ++-
 7 files changed, 16 insertions(+), 14 deletions(-)

commit 1967f70ce73b305c24475124186b993fa7d8ecce
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Nov 16 12:31:41 2015 +0000

    SLING-5295: use slingRepository.loginFromService to impersonate calling user
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1714574 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            | 10 +++++++--
 .../impl/ForwardDistributionAgentFactory.java      |  7 ++++++-
 .../agent/impl/QueueDistributionAgentFactory.java  |  7 ++++++-
 .../impl/ReverseDistributionAgentFactory.java      |  6 +++++-
 .../agent/impl/SimpleDistributionAgent.java        | 23 +++++++++++++++------
 .../agent/impl/SimpleDistributionAgentFactory.java |  8 ++++++--
 .../agent/impl/SyncDistributionAgentFactory.java   |  6 +++++-
 .../servlet/DistributionAgentQueueServlet.java     | 18 +++++++++++-----
 .../trigger/impl/AbstractJcrEventTrigger.java      |  2 +-
 .../trigger/impl/ScheduledDistributionTrigger.java |  2 +-
 .../distribution/util/impl/DistributionUtils.java  | 19 ++++++++++++++---
 .../agent/impl/SimpleDistributionAgentTest.java    | 24 ++++++++++++++--------
 12 files changed, 100 insertions(+), 32 deletions(-)

commit c46dcb5b1f417eacefbdb9c52e1b54f00b3afd27
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Nov 11 12:45:14 2015 +0000

    Update distribution dependencies to snapshots
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1713831 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3a904e2cf13ba5ca0bede5a1bc9e4a0df1500f6b
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Nov 11 12:25:15 2015 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1713825 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit bf0d8d01be1f5bb9afd1b4ad35ca24a835f32465
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Nov 11 12:24:57 2015 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.1.10
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1713823 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 627d1972f0ed047f84f5432a7a5e0617f9bc3905
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Nov 11 12:15:32 2015 +0000

    SLING-5179: move also distributionexception to an impl package
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1713821 13f79535-47bb-0310-9956-ffa450edef68

 .../java/org/apache/sling/distribution/agent/DistributionAgent.java  | 2 +-
 .../agent/impl/DistributionRequestAuthorizationStrategy.java         | 2 +-
 .../impl/PrivilegeDistributionRequestAuthorizationStrategy.java      | 2 +-
 .../PrivilegeDistributionRequestAuthorizationStrategyFactory.java    | 2 +-
 .../sling/distribution/agent/impl/SimpleDistributionAgent.java       | 2 +-
 .../java/org/apache/sling/distribution/impl/DefaultDistributor.java  | 1 -
 .../apache/sling/distribution/{ => impl}/DistributionException.java  | 2 +-
 .../sling/distribution/packaging/DistributionPackageExporter.java    | 2 +-
 .../sling/distribution/packaging/DistributionPackageImporter.java    | 2 +-
 .../packaging/impl/exporter/AgentDistributionPackageExporter.java    | 2 +-
 .../impl/exporter/AgentDistributionPackageExporterFactory.java       | 2 +-
 .../packaging/impl/exporter/LocalDistributionPackageExporter.java    | 2 +-
 .../impl/exporter/LocalDistributionPackageExporterFactory.java       | 2 +-
 .../packaging/impl/exporter/RemoteDistributionPackageExporter.java   | 2 +-
 .../impl/exporter/RemoteDistributionPackageExporterFactory.java      | 2 +-
 .../impl/importer/AdvancedRemoteDistributionPackageImporter.java     | 2 +-
 .../packaging/impl/importer/LocalDistributionPackageImporter.java    | 2 +-
 .../impl/importer/LocalDistributionPackageImporterFactory.java       | 2 +-
 .../packaging/impl/importer/RemoteDistributionPackageImporter.java   | 2 +-
 .../impl/importer/RemoteDistributionPackageImporterFactory.java      | 2 +-
 .../impl/importer/RepositoryDistributionPackageImporter.java         | 2 +-
 .../impl/importer/RepositoryDistributionPackageImporterFactory.java  | 2 +-
 .../apache/sling/distribution/queue/DistributionQueueProvider.java   | 2 +-
 .../queue/impl/DistributionQueueDispatchingStrategy.java             | 2 +-
 .../sling/distribution/queue/impl/ErrorQueueDispatchingStrategy.java | 2 +-
 .../distribution/queue/impl/MultipleQueueDispatchingStrategy.java    | 2 +-
 .../distribution/queue/impl/SelectiveQueueDispatchingStrategy.java   | 2 +-
 .../queue/impl/jobhandling/JobHandlingDistributionQueueProvider.java | 2 +-
 .../sling/distribution/serialization/DistributionPackageBuilder.java | 2 +-
 .../serialization/impl/AbstractDistributionPackageBuilder.java       | 2 +-
 .../serialization/impl/ResourceSharedDistributionPackageBuilder.java | 2 +-
 .../serialization/impl/vlt/FileVaultDistributionPackageBuilder.java  | 2 +-
 .../serialization/impl/vlt/JcrVaultDistributionPackageBuilder.java   | 2 +-
 .../impl/vlt/VaultDistributionPackageBuilderFactory.java             | 3 +--
 .../sling/distribution/servlet/DistributionAgentQueueServlet.java    | 2 +-
 .../distribution/servlet/DistributionPackageExporterServlet.java     | 2 +-
 .../sling/distribution/servlet/DistributionTriggerServlet.java       | 2 +-
 .../sling/distribution/transport/core/DistributionTransport.java     | 2 +-
 .../transport/impl/AdvancedHttpDistributionTransport.java            | 2 +-
 .../transport/impl/MultipleEndpointDistributionTransport.java        | 2 +-
 .../distribution/transport/impl/SimpleHttpDistributionTransport.java | 3 +--
 .../org/apache/sling/distribution/trigger/DistributionTrigger.java   | 2 +-
 .../sling/distribution/trigger/impl/AbstractJcrEventTrigger.java     | 2 +-
 .../trigger/impl/DistributionEventDistributeDistributionTrigger.java | 2 +-
 .../impl/DistributionEventDistributeDistributionTriggerFactory.java  | 2 +-
 .../trigger/impl/JcrEventDistributionTriggerFactory.java             | 2 +-
 .../trigger/impl/PersistedJcrEventDistributionTriggerFactory.java    | 2 +-
 .../distribution/trigger/impl/RemoteEventDistributionTrigger.java    | 2 +-
 .../trigger/impl/RemoteEventDistributionTriggerFactory.java          | 2 +-
 .../distribution/trigger/impl/ResourceEventDistributionTrigger.java  | 2 +-
 .../trigger/impl/ResourceEventDistributionTriggerFactory.java        | 2 +-
 .../distribution/trigger/impl/ScheduledDistributionTrigger.java      | 5 +----
 .../trigger/impl/ScheduledDistributionTriggerFactory.java            | 4 +---
 .../impl/importer/RepositoryDistributionPackageImporterTest.java     | 2 +-
 54 files changed, 53 insertions(+), 61 deletions(-)

commit 78b7facd6e2bb62d5b4e9eee8373b152501e500e
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Nov 11 11:58:22 2015 +0000

    Cancel release for distribution.core-0.1.10
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1713816 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7c6459fffba834783fa8349e152f23ef104e773d
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Nov 10 14:50:23 2015 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1713657 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 097148e01606d67727ebf9b97fbb5d83a00913fe
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Nov 10 14:50:04 2015 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.1.10
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1713655 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 45f6b67d970adaf9d56257352493e04916c69180
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Nov 10 14:46:08 2015 +0000

    SLING-5179: move package package api to core to ease release of new core version
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1713652 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |   2 +-
 .../sling/distribution/DistributionException.java  |  37 +++++++
 .../serialization/DistributionPackage.java         |  79 +++++++++++++++
 .../serialization/DistributionPackageBuilder.java  |  85 ++++++++++++++++
 .../serialization/DistributionPackageInfo.java     | 112 +++++++++++++++++++++
 .../distribution/serialization/package-info.java   |  24 +++++
 .../MultipleEndpointDistributionTransport.java     |   1 -
 7 files changed, 338 insertions(+), 2 deletions(-)

commit e40f612fa1d2cd1754ffb848dc2777f00476cd58
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Nov 9 14:48:53 2015 +0000

    SLING-5283: allow copy of items between distribution queues
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1713450 13f79535-47bb-0310-9956-ffa450edef68

 .../servlet/DistributionAgentQueueServlet.java     | 33 ++++++++++++++++++++--
 1 file changed, 31 insertions(+), 2 deletions(-)

commit 2d242a2bedc32e4c5948e10f8980df7d7e3ad628
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Nov 9 13:41:52 2015 +0000

    SLING-5281: allow execution with calling user session
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1713432 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionAgentFactory.java     |  3 +-
 .../agent/impl/SimpleDistributionAgent.java        | 87 ++++++++++++++--------
 .../packaging/impl/DistributionPackageUtils.java   |  6 ++
 .../vlt/JcrVaultDistributionPackageBuilder.java    |  2 +-
 .../servlet/DistributionTriggerServlet.java        |  4 +-
 .../trigger/DistributionRequestHandler.java        |  4 +-
 .../trigger/impl/AbstractJcrEventTrigger.java      | 22 +++++-
 ...ributionEventDistributeDistributionTrigger.java |  2 +-
 .../trigger/impl/JcrEventDistributionTrigger.java  |  5 +-
 .../impl/JcrEventDistributionTriggerFactory.java   |  8 +-
 .../impl/PersistedJcrEventDistributionTrigger.java |  6 +-
 ...ersistedJcrEventDistributionTriggerFactory.java |  9 ++-
 .../impl/RemoteEventDistributionTrigger.java       |  2 +-
 .../impl/ResourceEventDistributionTrigger.java     |  2 +-
 .../trigger/impl/ScheduledDistributionTrigger.java | 27 ++++++-
 .../impl/ScheduledDistributionTriggerFactory.java  | 10 ++-
 .../distribution/util/impl/DistributionUtils.java  | 47 ++++++++++++
 .../impl/JcrEventDistributionTriggerTest.java      |  7 +-
 .../PersistingJcrEventDistributionTriggerTest.java | 15 +++-
 .../impl/ScheduledDistributionTriggerTest.java     |  5 +-
 20 files changed, 214 insertions(+), 59 deletions(-)

commit f59c5a2addcffc8611fe19e3b64ac348ef981f5c
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Oct 28 15:20:51 2015 +0000

    SLING-5209: have all distribution package data under a common tree
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1711029 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionPackage.java             |  3 +++
 .../ResourceSharedDistributionPackageBuilder.java     | 19 +++++++++++--------
 .../impl/vlt/JcrVaultDistributionPackageBuilder.java  | 10 ++++++----
 .../vlt/VaultDistributionPackageBuilderFactory.java   | 10 ++--------
 4 files changed, 22 insertions(+), 20 deletions(-)

commit 8491d097b2963190d00ff679619ffd02964e649d
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Oct 22 12:44:36 2015 +0000

    SLING-5180: cleaned DistributionPackageInfo
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1710007 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java           |  4 ++--
 .../packaging/impl/DistributionPackageUtils.java      | 19 ++++++++++++++++++-
 .../queue/impl/ErrorQueueDispatchingStrategy.java     |  2 +-
 .../impl/MultipleEndpointDistributionTransport.java   |  4 +++-
 .../impl/SimpleHttpDistributionTransport.java         | 10 ++++++++--
 .../impl/SelectiveQueueDispatchingStrategyTest.java   |  6 ++----
 6 files changed, 34 insertions(+), 11 deletions(-)

commit 8b012196c0f75ba4f595f2aa2961d0e286de80f4
Author: asf-sync-process <asf-sync-process@unknown>
Date:   Thu Oct 22 11:20:12 2015 +0000

    SLING-5181 - added missing @Nonnull @CheckForNull annotations
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1709990 13f79535-47bb-0310-9956-ffa450edef68

 .../serialization/impl/ResourceSharedDistributionPackageBuilder.java  | 2 ++
 .../impl/vlt/VaultDistributionPackageBuilderFactory.java              | 4 ++++
 2 files changed, 6 insertions(+)

commit f5bfa1fb7e03bcfa947594da63fc0bede364eba9
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Oct 22 10:00:55 2015 +0000

    SLING-5179 - expose package (builder) API
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1709974 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |   2 +-
 .../distribution/agent/DistributionAgent.java      |   2 +-
 .../DistributionRequestAuthorizationStrategy.java  |   5 +-
 .../impl/ForwardDistributionAgentFactory.java      |  15 +--
 ...geDistributionRequestAuthorizationStrategy.java |   2 +-
 ...ibutionRequestAuthorizationStrategyFactory.java |   2 +-
 .../agent/impl/SimpleDistributionAgent.java        |  37 +++---
 .../impl/DefaultDistributionEventFactory.java      |   2 +-
 .../event/impl/DistributionEventFactory.java       |   2 +-
 .../distribution/impl/DefaultDistributor.java      |   1 +
 .../distribution/impl/DistributionException.java   |  35 -----
 .../packaging/DistributionPackage.java             |  80 ------------
 .../packaging/DistributionPackageExporter.java     |   5 +-
 .../packaging/DistributionPackageImporter.java     |   4 +-
 .../packaging/DistributionPackageInfo.java         | 145 ---------------------
 .../packaging/SharedDistributionPackage.java       |   1 +
 .../packaging/impl/DistributionPackageUtils.java   |   4 +-
 .../exporter/AgentDistributionPackageExporter.java |   6 +-
 .../AgentDistributionPackageExporterFactory.java   |   4 +-
 .../exporter/LocalDistributionPackageExporter.java |   6 +-
 .../LocalDistributionPackageExporterFactory.java   |   6 +-
 .../RemoteDistributionPackageExporter.java         |   4 +-
 .../RemoteDistributionPackageExporterFactory.java  |   4 +-
 .../AdvancedRemoteDistributionPackageImporter.java |   6 +-
 .../importer/LocalDistributionPackageImporter.java |   8 +-
 .../LocalDistributionPackageImporterFactory.java   |   8 +-
 .../RemoteDistributionPackageImporter.java         |   6 +-
 .../RemoteDistributionPackageImporterFactory.java  |   6 +-
 .../RepositoryDistributionPackageImporter.java     |   8 +-
 ...positoryDistributionPackageImporterFactory.java |   6 +-
 .../distribution/queue/DistributionQueue.java      |   5 +-
 .../distribution/queue/DistributionQueueItem.java  |   5 +-
 .../queue/DistributionQueueProvider.java           |   2 +-
 .../impl/DistributionQueueDispatchingStrategy.java |  14 +-
 .../queue/impl/ErrorQueueDispatchingStrategy.java  |   5 +-
 .../impl/MultipleQueueDispatchingStrategy.java     |   4 +-
 .../impl/SelectiveQueueDispatchingStrategy.java    |   4 +-
 .../JobHandlingDistributionQueueProvider.java      |   2 +-
 ...xtendedDistributionServiceResourceProvider.java |   2 +-
 .../serialization/DistributionPackageBuilder.java  |  84 ------------
 .../DistributionPackageBuilderProvider.java        |   1 -
 .../impl/AbstractDistributionPackage.java          |   6 +-
 .../impl/AbstractDistributionPackageBuilder.java   |   6 +-
 .../impl/DistributionPackageWrapper.java           |   4 +-
 .../impl/ResourceSharedDistributionPackage.java    |   4 +-
 .../ResourceSharedDistributionPackageBuilder.java  |   4 +-
 .../impl/SimpleDistributionPackage.java            |   6 +-
 .../impl/vlt/FileVaultDistributionPackage.java     |   6 +-
 .../vlt/FileVaultDistributionPackageBuilder.java   |   6 +-
 .../impl/vlt/JcrVaultDistributionPackage.java      |   6 +-
 .../vlt/JcrVaultDistributionPackageBuilder.java    |   6 +-
 .../VaultDistributionPackageBuilderFactory.java    |   4 +-
 .../servlet/DistributionAgentQueueServlet.java     |   6 +-
 .../DistributionPackageExporterServlet.java        |   4 +-
 .../DistributionPackageImporterServlet.java        |   2 +-
 .../servlet/DistributionTriggerServlet.java        |   2 +-
 .../transport/core/DistributionTransport.java      |  16 +--
 .../impl/AdvancedHttpDistributionTransport.java    |   4 +-
 .../MultipleEndpointDistributionTransport.java     |   6 +-
 .../impl/SimpleHttpDistributionTransport.java      |   6 +-
 .../distribution/trigger/DistributionTrigger.java  |   2 +-
 .../trigger/impl/AbstractJcrEventTrigger.java      |   2 +-
 ...ributionEventDistributeDistributionTrigger.java |   2 +-
 ...nEventDistributeDistributionTriggerFactory.java |   2 +-
 .../impl/JcrEventDistributionTriggerFactory.java   |   2 +-
 ...ersistedJcrEventDistributionTriggerFactory.java |   2 +-
 .../impl/RemoteEventDistributionTrigger.java       |   2 +-
 .../RemoteEventDistributionTriggerFactory.java     |   2 +-
 .../impl/ResourceEventDistributionTrigger.java     |   2 +-
 .../ResourceEventDistributionTriggerFactory.java   |   2 +-
 .../trigger/impl/ScheduledDistributionTrigger.java |   2 +-
 .../impl/ScheduledDistributionTriggerFactory.java  |   2 +-
 .../agent/impl/SimpleDistributionAgentTest.java    |   5 +-
 .../AgentDistributionPackageExporterTest.java      |   2 +-
 .../LocalDistributionPackageExporterTest.java      |   2 +-
 .../RemoteDistributionPackageExporterTest.java     |   2 +-
 .../LocalDistributionPackageImporterTest.java      |   3 +-
 .../RemoteDistributionPackageImporterTest.java     |   5 +-
 .../RepositoryDistributionPackageImporterTest.java |   4 +-
 .../SelectiveQueueDispatchingStrategyTest.java     |   4 +-
 .../impl/SingleQueueDistributionStrategyTest.java  |   2 +-
 .../JobHandlingDistributionQueueTest.java          |   2 +-
 .../impl/jobhandling/JobHandlingUtilsTest.java     |   2 +-
 .../FileVaultDistributionPackageBuilderTest.java   |   5 +-
 .../MultipleEndpointDistributionTransportTest.java |   5 +-
 .../impl/SimpleHttpDistributionTransportTest.java  |   4 +-
 86 files changed, 188 insertions(+), 537 deletions(-)

commit 4770012f0682434d9e7b2430e46e17430eea9869
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Oct 22 08:11:33 2015 +0000

    SLING-5183: use a single distribution exception to simplify exception handling
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1709958 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/agent/DistributionAgent.java      |  8 +--
 .../DistributionRequestAuthorizationException.java | 28 --------
 .../DistributionRequestAuthorizationStrategy.java  |  5 +-
 ...geDistributionRequestAuthorizationStrategy.java | 13 ++--
 ...ibutionRequestAuthorizationStrategyFactory.java |  3 +-
 .../agent/impl/SimpleDistributionAgent.java        | 83 +++++++++-------------
 .../distribution/impl/DefaultDistributor.java      |  5 +-
 .../DistributionException.java}                    | 17 ++---
 .../DistributionPackageExportException.java        | 34 ---------
 .../packaging/DistributionPackageExporter.java     |  5 +-
 .../DistributionPackageImportException.java        | 38 ----------
 .../packaging/DistributionPackageImporter.java     |  9 +--
 .../exporter/AgentDistributionPackageExporter.java |  6 +-
 .../AgentDistributionPackageExporterFactory.java   |  6 +-
 .../exporter/LocalDistributionPackageExporter.java | 20 ++----
 .../LocalDistributionPackageExporterFactory.java   |  6 +-
 .../RemoteDistributionPackageExporter.java         | 19 ++---
 .../RemoteDistributionPackageExporterFactory.java  |  6 +-
 .../AdvancedRemoteDistributionPackageImporter.java |  6 +-
 .../importer/LocalDistributionPackageImporter.java | 21 ++----
 .../LocalDistributionPackageImporterFactory.java   |  6 +-
 .../RemoteDistributionPackageImporter.java         | 14 ++--
 .../RemoteDistributionPackageImporterFactory.java  |  6 +-
 .../RepositoryDistributionPackageImporter.java     | 10 +--
 ...positoryDistributionPackageImporterFactory.java |  6 +-
 .../queue/DistributionQueueException.java          | 34 ---------
 .../queue/DistributionQueueProvider.java           |  8 +--
 .../impl/DistributionQueueDispatchingStrategy.java |  6 +-
 .../queue/impl/ErrorQueueDispatchingStrategy.java  |  4 +-
 .../impl/MultipleQueueDispatchingStrategy.java     |  6 +-
 .../impl/SelectiveQueueDispatchingStrategy.java    |  4 +-
 .../JobHandlingDistributionQueueProvider.java      |  8 +--
 .../simple/SimpleDistributionQueueProvider.java    |  4 +-
 ...xtendedDistributionServiceResourceProvider.java | 21 +++---
 .../serialization/DistributionPackageBuilder.java  | 20 +++---
 .../DistributionPackageBuildingException.java      | 34 ---------
 .../DistributionPackageReadingException.java       | 39 ----------
 .../impl/AbstractDistributionPackageBuilder.java   | 34 ++++-----
 .../ResourceSharedDistributionPackageBuilder.java  | 21 +++---
 .../vlt/FileVaultDistributionPackageBuilder.java   | 19 +++--
 .../vlt/JcrVaultDistributionPackageBuilder.java    | 16 ++---
 .../VaultDistributionPackageBuilderFactory.java    | 11 ++-
 .../servlet/DistributionAgentQueueServlet.java     | 13 ++--
 .../DistributionPackageExporterServlet.java        |  4 +-
 .../servlet/DistributionTriggerServlet.java        |  4 +-
 .../transport/core/DistributionTransport.java      |  9 +--
 .../core/DistributionTransportException.java       | 35 ---------
 .../impl/AdvancedHttpDistributionTransport.java    |  8 +--
 .../MultipleEndpointDistributionTransport.java     |  6 +-
 .../impl/SimpleHttpDistributionTransport.java      | 10 +--
 .../distribution/trigger/DistributionTrigger.java  |  9 +--
 .../trigger/DistributionTriggerException.java      | 33 ---------
 .../trigger/impl/AbstractJcrEventTrigger.java      | 10 +--
 ...ributionEventDistributeDistributionTrigger.java |  9 ++-
 ...nEventDistributeDistributionTriggerFactory.java |  6 +-
 .../impl/JcrEventDistributionTriggerFactory.java   |  6 +-
 ...ersistedJcrEventDistributionTriggerFactory.java |  6 +-
 .../impl/RemoteEventDistributionTrigger.java       |  8 +--
 .../RemoteEventDistributionTriggerFactory.java     |  6 +-
 .../impl/ResourceEventDistributionTrigger.java     |  8 +--
 .../ResourceEventDistributionTriggerFactory.java   |  6 +-
 .../trigger/impl/ScheduledDistributionTrigger.java |  8 +--
 .../impl/ScheduledDistributionTriggerFactory.java  |  6 +-
 .../agent/impl/SimpleDistributionAgentTest.java    | 15 ++--
 .../LocalDistributionPackageExporterTest.java      |  3 +-
 .../RepositoryDistributionPackageImporterTest.java |  6 +-
 66 files changed, 295 insertions(+), 608 deletions(-)

commit 99eff528ff6a51e1672ffa0045d9ca1a0f02d4cc
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Oct 15 10:58:54 2015 +0000

    SLING-5150: use selective queues for forward and queue agents
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1708787 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionAgentFactory.java     |   2 +-
 .../impl/ForwardDistributionAgentFactory.java      |  21 ++-
 .../agent/impl/QueueDistributionAgentFactory.java  |  28 +++-
 .../distribution/component/impl/SettingsUtils.java |  36 +++++
 .../packaging/DistributionPackageInfo.java         |   1 -
 .../impl/PriorityPathQueueDispatchingStrategy.java | 108 -------------
 .../impl/SelectiveQueueDispatchingStrategy.java    | 111 +++++++++++++
 .../vlt/JcrVaultDistributionPackageBuilder.java    |  15 +-
 .../PriorityPathQueueDistributionStrategyTest.java | 177 ---------------------
 .../SelectiveQueueDispatchingStrategyTest.java     | 174 ++++++++++++++++++++
 10 files changed, 375 insertions(+), 298 deletions(-)

commit 9aa83978fe6dabe7b9e953d6c85554af208ac2f6
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Oct 5 14:58:10 2015 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1706846 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 4ca16d4c54ba3e91136f792c0df6704a9f588e5a
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Oct 5 14:57:52 2015 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.1.8
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1706844 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 181dbb147477d9971fedce79e0a7c407deae6c66
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Oct 5 14:56:37 2015 +0000

    updating to released api bundle
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1706843 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a6935d3933a5069e21ea1b10e5775521ae1af29d
Author: Robert Munteanu <rombert@apache.org>
Date:   Mon Oct 5 10:04:15 2015 +0000

    Update the contrib reactor to parent 25
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1706781 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fe0f3101f6a8ae815bab88a71b8052f9b371ff62
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Sep 29 13:44:00 2015 +0000

    SLING-5073: some minor changes for improved logging
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1705862 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/AbstractDistributionAgentFactory.java          | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 0cea1928403e8a161e3d910fe04bc61a449a3bef
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Sep 29 12:54:54 2015 +0000

    SLING-5073: some minor changes for improved logging
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1705852 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java            | 12 ++++++++++--
 .../packaging/DistributionPackageInfo.java             |  4 ++--
 .../exporter/AgentDistributionPackageExporter.java     | 18 ++++++++++++++++--
 .../AgentDistributionPackageExporterFactory.java       |  4 +++-
 .../queue/impl/jobhandling/JobHandlingUtils.java       |  5 ++++-
 .../exporter/AgentDistributionPackageExporterTest.java |  2 +-
 6 files changed, 36 insertions(+), 9 deletions(-)

commit f0e06915b57342f04307f7ee710f71a6bdcf1068
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Sep 29 10:17:44 2015 +0000

    SLING-5073: guard against null passive queues
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1705832 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/ForwardDistributionAgentFactory.java            |  2 +-
 .../distribution/agent/impl/SyncDistributionAgentFactory.java  |  2 +-
 .../sling/distribution/component/impl/SettingsUtils.java       | 10 ++++++++++
 3 files changed, 12 insertions(+), 2 deletions(-)

commit 67e41fe202235fef08a3a836e3014039695c30ba
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Sep 24 12:07:01 2015 +0000

    SLING-5056: fix distribution response isSuccessful method
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1705041 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                                              | 4 ++--
 .../sling/distribution/impl/CompositeDistributionResponse.java       | 5 +----
 .../java/org/apache/sling/distribution/impl/DefaultDistributor.java  | 4 ++--
 .../apache/sling/distribution/impl/SimpleDistributionResponse.java   | 2 +-
 4 files changed, 6 insertions(+), 9 deletions(-)

commit c125de0f06705adabd4ad651b3ff4729616fef38
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Sep 22 12:35:56 2015 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1704608 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit f71539333f8ba9d80b58da83c33e2ac266b2702a
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Sep 22 12:35:31 2015 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.1.8
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1704605 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit ac4e5bf553dc4eafb366e9bd4cf16962105ccbfb
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Sep 22 12:34:32 2015 +0000

    Updating distribution/core/pom.xml to a released api version
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1704603 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 469bd5f228f3dd9c43b18f056698e7495d91a4ca
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Sep 21 11:35:14 2015 +0000

    SLING-5048: always distribute the entire rep:policy node
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1704271 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionPackageBuilder.java   |  6 +++-
 .../serialization/impl/vlt/VltUtils.java           | 42 ++++++++++++++++++++++
 2 files changed, 47 insertions(+), 1 deletion(-)

commit 8568cbc62d593da3f69e5fd5cc8580e70a72b187
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Sep 21 09:00:02 2015 +0000

    SLING-5047: specific request state for failed executions vs non existing agents
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1704238 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                                                 | 2 +-
 .../java/org/apache/sling/distribution/impl/DefaultDistributor.java     | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 5fd2e05247a813ecc21757b2f4f5c76172ae2ab5
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Sep 9 13:15:40 2015 +0000

    SLING-5008 - fixed prioritPath dispatching strategy init and tests wrongly assuming package.getInfo could be null
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1702000 13f79535-47bb-0310-9956-ffa450edef68

 .../queue/impl/PriorityPathQueueDispatchingStrategy.java             | 5 +++--
 .../impl/importer/RemoteDistributionPackageImporterTest.java         | 5 +++++
 .../transport/impl/MultipleEndpointDistributionTransportTest.java    | 5 +++++
 3 files changed, 13 insertions(+), 2 deletions(-)

commit 34e1b38175d0ec2344590b6b2f4c023729ab7600
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Sep 9 12:58:06 2015 +0000

    SLING-5009 - AbstractJcrEventTrigger uses a service user
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1701994 13f79535-47bb-0310-9956-ffa450edef68

 .../sling/distribution/trigger/impl/AbstractJcrEventTrigger.java       | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 9957b08fed54007ce486ac7a2a28cc5722f9787d
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Sep 9 12:09:19 2015 +0000

    SLING-5008 - applied fixes related to static code analysis report
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1701984 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/agent/DistributionAgent.java      |  1 -
 .../impl/AbstractDistributionAgentFactory.java     | 29 ++++++--------
 .../impl/ForwardDistributionAgentFactory.java      | 20 +++++-----
 ...geDistributionRequestAuthorizationStrategy.java | 20 +++++-----
 .../agent/impl/QueueDistributionAgentFactory.java  | 18 ++++-----
 .../impl/ReverseDistributionAgentFactory.java      | 17 ++++----
 .../agent/impl/SimpleDistributionAgent.java        | 38 ++++++++----------
 .../agent/impl/SimpleDistributionAgentFactory.java | 11 ++----
 .../agent/impl/SyncDistributionAgentFactory.java   | 28 ++++++--------
 .../impl/DefaultDistributionComponentProvider.java | 15 ++++----
 .../DefaultDistributionConfigurationManager.java   | 27 +++++++------
 .../impl/DistributionComponentConstants.java       |  7 ----
 .../component/impl/DistributionComponentKind.java  | 14 +++----
 .../distribution/component/impl/SettingsUtils.java | 21 +++++-----
 .../impl/DefaultDistributionEventFactory.java      |  3 +-
 .../impl/CompositeDistributionResponse.java        | 10 +++--
 .../distribution/impl/DefaultDistributor.java      |  4 +-
 .../sling/distribution/log/DistributionLog.java    | 11 +++++-
 .../log/impl/DefaultDistributionLog.java           | 19 ++++-----
 .../packaging/DistributionPackageImporter.java     |  1 -
 .../packaging/DistributionPackageInfo.java         |  1 -
 .../packaging/SharedDistributionPackage.java       |  1 -
 .../packaging/impl/DistributionPackageUtils.java   | 45 ++++++++++++++++------
 .../exporter/AgentDistributionPackageExporter.java |  2 +-
 .../AgentDistributionPackageExporterFactory.java   |  4 +-
 .../LocalDistributionPackageExporterFactory.java   |  1 -
 .../RemoteDistributionPackageExporter.java         |  4 +-
 .../RemoteDistributionPackageExporterFactory.java  |  2 +-
 .../AdvancedRemoteDistributionPackageImporter.java |  6 +--
 .../importer/LocalDistributionPackageImporter.java |  3 +-
 .../LocalDistributionPackageImporterFactory.java   |  8 ++--
 .../RemoteDistributionPackageImporter.java         | 11 +-----
 .../RemoteDistributionPackageImporterFactory.java  |  5 ++-
 .../RepositoryDistributionPackageImporter.java     |  2 +-
 ...positoryDistributionPackageImporterFactory.java |  3 +-
 .../distribution/queue/DistributionQueueEntry.java | 16 ++++++--
 .../distribution/queue/DistributionQueueItem.java  |  6 +--
 .../queue/DistributionQueueItemStatus.java         |  3 +-
 .../queue/DistributionQueueStatus.java             | 17 +++++++-
 .../queue/impl/DistributionQueueUtils.java         | 11 +++++-
 .../queue/impl/ErrorQueueDispatchingStrategy.java  | 15 ++++----
 .../impl/MultipleQueueDispatchingStrategy.java     | 31 +++++++--------
 .../impl/PriorityPathQueueDispatchingStrategy.java | 20 +++++-----
 .../queue/impl/SingleQueueDispatchingStrategy.java |  2 +-
 .../jobhandling/JobHandlingDistributionQueue.java  |  5 +--
 .../JobHandlingDistributionQueueProvider.java      |  9 +----
 .../queue/impl/jobhandling/JobHandlingUtils.java   |  6 +--
 .../ScheduledDistributionQueueProcessorTask.java   |  1 -
 .../queue/impl/simple/SimpleDistributionQueue.java |  3 +-
 .../simple/SimpleDistributionQueueProvider.java    |  2 -
 .../resources/DistributionResourceTypes.java       |  4 --
 .../DistributionConfigurationResourceProvider.java |  9 +----
 ...butionConfigurationResourceProviderFactory.java |  8 ++--
 .../impl/DistributionServiceResourceProvider.java  | 15 ++------
 ...DistributionServiceResourceProviderFactory.java |  9 +++--
 ...xtendedDistributionServiceResourceProvider.java | 26 ++++++-------
 .../distribution/resources/impl/OsgiUtils.java     | 10 ++---
 .../common/AbstractModifyingResourceProvider.java  | 10 ++---
 .../common/AbstractReadableResourceProvider.java   | 10 ++---
 .../impl/common/SimpleReadableResource.java        |  1 -
 .../impl/AbstractDistributionPackageBuilder.java   |  2 +-
 .../DefaultDistributionPackageBuilderProvider.java |  9 +----
 .../impl/DistributionPackageWrapper.java           |  8 ++--
 .../impl/ResourceSharedDistributionPackage.java    | 13 +++----
 .../ResourceSharedDistributionPackageBuilder.java  | 14 +++----
 .../impl/SimpleDistributionPackage.java            | 24 ++++--------
 .../impl/vlt/FileVaultDistributionPackage.java     |  2 -
 .../vlt/FileVaultDistributionPackageBuilder.java   |  8 +---
 .../impl/vlt/JcrVaultDistributionPackage.java      |  7 ++--
 .../vlt/JcrVaultDistributionPackageBuilder.java    | 36 +++++++----------
 .../VaultDistributionPackageBuilderFactory.java    | 13 +++----
 .../serialization/impl/vlt/VltUtils.java           | 42 ++++++++------------
 .../servlet/DistributionAgentLogServlet.java       | 12 ++----
 .../servlet/DistributionAgentQueueServlet.java     | 16 +++-----
 .../servlet/DistributionAgentServlet.java          |  2 +-
 .../DistributionPackageExporterServlet.java        |  6 +--
 .../DistributionPackageImporterServlet.java        |  2 -
 .../distribution/servlet/ServletJsonUtils.java     |  4 +-
 .../transport/core/DistributionTransport.java      |  2 -
 .../impl/AdvancedHttpDistributionTransport.java    | 10 ++---
 .../transport/impl/HttpTransportUtils.java         | 19 +++------
 .../MultipleEndpointDistributionTransport.java     | 19 +++------
 .../impl/SimpleHttpDistributionTransport.java      | 27 +++++--------
 .../impl/TransportEndpointStrategyType.java        |  3 ++
 .../trigger/impl/AbstractJcrEventTrigger.java      | 15 ++++----
 ...ributionEventDistributeDistributionTrigger.java |  3 --
 ...nEventDistributeDistributionTriggerFactory.java |  8 ++--
 .../impl/JcrEventDistributionTriggerFactory.java   |  9 ++---
 ...ersistedJcrEventDistributionTriggerFactory.java | 11 +++---
 .../RemoteEventDistributionTriggerFactory.java     |  7 ++--
 .../impl/ResourceEventDistributionTrigger.java     |  2 +-
 .../ResourceEventDistributionTriggerFactory.java   |  7 ++--
 .../trigger/impl/ScheduledDistributionTrigger.java |  8 ++--
 .../impl/ScheduledDistributionTriggerFactory.java  | 10 ++---
 .../sling/distribution/util/RequestUtils.java      |  6 +--
 .../sling/distribution/util/package-info.java      |  3 +-
 96 files changed, 450 insertions(+), 600 deletions(-)

commit c2c3769747d7520f64b92a4b9fc3979f705b9ab9
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Aug 25 11:41:36 2015 +0000

    SLING-3966: error queue strategy should be executed after import fails
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1697652 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      |  41 +++++-
 .../agent/impl/QueueDistributionAgentFactory.java  |  14 +-
 .../impl/ReverseDistributionAgentFactory.java      |  22 +--
 .../agent/impl/SimpleDistributionAgent.java        | 100 ++++++++-----
 .../agent/impl/SimpleDistributionAgentFactory.java |  22 +--
 .../agent/impl/SyncDistributionAgentFactory.java   |  40 +++++-
 .../impl/ErrorAwareQueueDispatchingStrategy.java   | 135 ------------------
 .../queue/impl/ErrorQueueDispatchingStrategy.java  |  94 ++++++++++++
 .../jobhandling/JobHandlingDistributionQueue.java  |   4 +
 .../agent/impl/SimpleDistributionAgentTest.java    |  30 ++--
 .../ErrorAwareQueueDistributionStrategyTest.java   | 157 ---------------------
 11 files changed, 283 insertions(+), 376 deletions(-)

commit 7e1692a9c71fb920d2dcfae1bcf495a20b754336
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Aug 24 12:06:14 2015 +0000

    Optimize distribution queue API for minimizing job queries
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1697359 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        | 28 ++-----
 .../monitor/DistributionQueueHealthCheck.java      |  8 +-
 .../exporter/AgentDistributionPackageExporter.java | 13 ++--
 .../distribution/queue/DistributionQueue.java      | 36 ++-------
 .../distribution/queue/DistributionQueueEntry.java | 42 ++++++++++
 .../queue/DistributionQueueItemState.java          | 35 +++++++++
 .../queue/DistributionQueueItemStatus.java         | 26 ++-----
 .../queue/DistributionQueueProcessor.java          |  4 +-
 .../queue/DistributionQueueStatus.java             | 46 +++++++++++
 .../queue/impl/DistributionQueueUtils.java         | 15 +---
 .../impl/ErrorAwareQueueDispatchingStrategy.java   | 13 ++--
 .../impl/MultipleQueueDispatchingStrategy.java     |  7 +-
 .../impl/PriorityPathQueueDispatchingStrategy.java |  5 +-
 .../jobhandling/DistributionAgentJobConsumer.java  | 10 ++-
 .../jobhandling/JobHandlingDistributionQueue.java  | 89 +++++++++-------------
 .../queue/impl/jobhandling/JobHandlingUtils.java   | 21 +++--
 .../ScheduledDistributionQueueProcessorTask.java   | 20 +++--
 .../queue/impl/simple/SimpleDistributionQueue.java | 63 ++++++++-------
 .../impl/DistributionServiceResourceProvider.java  |  2 +-
 ...xtendedDistributionServiceResourceProvider.java | 73 +++++++++++-------
 .../common/AbstractReadableResourceProvider.java   | 25 +++++-
 .../servlet/DistributionAgentQueueServlet.java     |  8 +-
 .../agent/impl/SimpleDistributionAgentTest.java    | 10 +--
 .../monitor/DistributionQueueHealthCheckTest.java  | 10 ++-
 .../ErrorAwareQueueDistributionStrategyTest.java   | 22 +++---
 .../PriorityPathQueueDistributionStrategyTest.java |  9 ++-
 .../impl/SingleQueueDistributionStrategyTest.java  |  8 +-
 .../DistributionAgentJobConsumerTest.java          |  5 +-
 .../JobHandlingDistributionQueueTest.java          | 13 ++--
 ...cheduledDistributionQueueProcessorTaskTest.java |  7 +-
 .../impl/simple/SimpleDistributionQueueTest.java   | 24 +++---
 31 files changed, 404 insertions(+), 293 deletions(-)

commit f1b23040941fc31128409287ae39fd5eecd4b364
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Jul 29 13:39:44 2015 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1693264 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 921bcd85ca0ebafd11e0614098a631c24d56bd53
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Jul 29 13:39:27 2015 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.1.6
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1693262 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 6a8e181d42faa908e2a0f0a617ca1de8ab5fe2cf
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Jul 29 12:17:10 2015 +0000

    SLING-4916: refactoring distributionqueueitems
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1693250 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        |   6 +-
 .../packaging/DistributionPackageInfo.java         | 133 ++++++++++++---------
 .../packaging/impl/DistributionPackageUtils.java   |  12 ++
 .../exporter/AgentDistributionPackageExporter.java |  17 ++-
 .../distribution/queue/DistributionQueue.java      |  12 +-
 .../distribution/queue/DistributionQueueItem.java  |  26 ++--
 .../impl/ErrorAwareQueueDispatchingStrategy.java   |   5 +-
 .../impl/MultipleQueueDispatchingStrategy.java     |   4 +-
 .../impl/PriorityPathQueueDispatchingStrategy.java |  11 +-
 .../jobhandling/JobHandlingDistributionQueue.java  |   8 +-
 .../queue/impl/jobhandling/JobHandlingUtils.java   |  57 ++++-----
 ...xtendedDistributionServiceResourceProvider.java |   9 +-
 .../impl/AbstractDistributionPackage.java          |  18 ++-
 .../impl/AbstractDistributionPackageBuilder.java   |   7 +-
 .../impl/SimpleDistributionPackage.java            |  27 ++---
 .../impl/vlt/FileVaultDistributionPackage.java     |  23 +---
 .../impl/vlt/JcrVaultDistributionPackage.java      |  20 +---
 .../servlet/DistributionAgentQueueServlet.java     |   4 +-
 .../impl/SimpleHttpDistributionTransport.java      |   3 +-
 .../agent/impl/SimpleDistributionAgentTest.java    |  10 +-
 .../PriorityPathQueueDistributionStrategyTest.java |  22 ++--
 .../JobHandlingDistributionQueueTest.java          |  19 ++-
 .../impl/jobhandling/JobHandlingUtilsTest.java     |  28 ++---
 .../FileVaultDistributionPackageBuilderTest.java   |  12 +-
 .../impl/SimpleHttpDistributionTransportTest.java  |   4 +-
 25 files changed, 256 insertions(+), 241 deletions(-)

commit 8af509d22f90d27d4cb3092937ecc4424e19b292
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Jul 29 09:14:26 2015 +0000

    SLING-4913: support include and exclude patterns for distribution packages
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1693222 13f79535-47bb-0310-9956-ffa450edef68

 .../vlt/FileVaultDistributionPackageBuilder.java   | 12 +++--
 .../vlt/JcrVaultDistributionPackageBuilder.java    |  8 ++-
 .../VaultDistributionPackageBuilderFactory.java    | 12 ++++-
 .../serialization/impl/vlt/VltUtils.java           | 59 ++++++++++++++++++++--
 .../FileVaultDistributionPackageBuilderTest.java   | 10 ++--
 5 files changed, 85 insertions(+), 16 deletions(-)

commit a185901a57ff72591d68c63e4e5706475a55e9a3
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Jul 15 15:00:04 2015 +0000

    SLING-4651: fix error in if else statement for package exporter
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1691233 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/servlet/DistributionPackageExporterServlet.java  | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit c1752e9f5a21033c7673473f3a6f8ee28e8d8784
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Jul 14 13:15:17 2015 +0000

    SLING-4651: delete remote package only after it is fetched
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1690924 13f79535-47bb-0310-9956-ffa450edef68

 .../DistributionPackageExporterServlet.java        |  67 +++++++++++++-
 .../transport/impl/HttpTransportUtils.java         | 101 +++++++++++++++++++++
 .../impl/SimpleHttpDistributionTransport.java      |  40 ++++----
 3 files changed, 188 insertions(+), 20 deletions(-)

commit 55883777b27cd2f22f6fe98057d1092652e3fe38
Author: Oliver Lietz <olli@apache.org>
Date:   Tue Jul 7 07:36:29 2015 +0000

    set parent version to 24 and add empty relativePath where missing
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1689588 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bcf516cc6cb719d97ccbceda3a03197f0c407ac2
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Jun 25 18:45:08 2015 +0000

    SLING-4834: jcr trigger should distribute asyncronously to avoid observation limits
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1687606 13f79535-47bb-0310-9956-ffa450edef68

 .../trigger/impl/AbstractJcrEventTrigger.java      | 40 +++++++++++++++++++---
 .../trigger/impl/JcrEventDistributionTrigger.java  |  8 ++---
 .../impl/JcrEventDistributionTriggerFactory.java   |  6 +++-
 .../impl/PersistedJcrEventDistributionTrigger.java |  5 +--
 ...ersistedJcrEventDistributionTriggerFactory.java |  6 +++-
 .../impl/JcrEventDistributionTriggerTest.java      |  9 +++--
 .../PersistingJcrEventDistributionTriggerTest.java | 15 +++++---
 7 files changed, 70 insertions(+), 19 deletions(-)

commit 7a87a8957db7f73e6cf20ac66cce2ba80a72b5c3
Author: Robert Munteanu <rombert@apache.org>
Date:   Thu Jun 25 13:10:59 2015 +0000

    Update contrib modules to Parent 23
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1687503 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a60f14a7a08b6f436510717fb44b5be3440c18d4
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Jun 22 13:37:39 2015 +0000

    SLING-4818: distribute entire group (deep true) if rep:members is changed
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1686869 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/serialization/impl/vlt/VltUtils.java | 15 +++++++++++++++
 .../trigger/impl/JcrEventDistributionTrigger.java     | 19 ++++++++++++-------
 2 files changed, 27 insertions(+), 7 deletions(-)

commit 8cf466320c16b903fd8b49b6afd9627a34763d84
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Jun 18 11:24:59 2015 +0000

    SLING-4818: always replicate the entire group if the members have changed
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1686190 13f79535-47bb-0310-9956-ffa450edef68

 .../trigger/impl/AbstractJcrEventTrigger.java            | 16 ++++++++++++++++
 .../trigger/impl/JcrEventDistributionTrigger.java        |  9 +++++++--
 2 files changed, 23 insertions(+), 2 deletions(-)

commit 1eb334fe05f60372e5b9da5fa7162618a2dcc2fd
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Jun 16 08:38:35 2015 +0000

    SLING-4808: treat empty config values as null
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1685733 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/component/impl/SettingsUtils.java | 28 +++++++++++++++++++---
 .../VaultDistributionPackageBuilderFactory.java    | 17 +++++++------
 2 files changed, 33 insertions(+), 12 deletions(-)

commit 7f6e2ac11c156494bb62f1cb4c66155f310f310e
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Jun 4 08:32:51 2015 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1683488 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 8600ebc1015ae549ad91700d3442770a3f799b11
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Jun 4 08:31:43 2015 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.1.4
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1683485 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit aad40b07315aac94929e66eacb049613e57eb155
Author: Marius Petria <mpetria@apache.org>
Date:   Mon May 25 15:07:20 2015 +0000

    SLING-4745: do not drop already retrieved packages when a transport error occurs
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1681592 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/SimpleHttpDistributionTransport.java      | 60 ++++++++++------------
 1 file changed, 28 insertions(+), 32 deletions(-)

commit 5bae5645a7bb104f0014e40c76f4a50f5d2c65db
Author: Marius Petria <mpetria@apache.org>
Date:   Tue May 19 14:57:35 2015 +0000

    SLING-4727: add customization options for temp folders in vlt package builders
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1680309 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/vlt/FileVaultDistributionPackage.java     |   8 +-
 .../vlt/FileVaultDistributionPackageBuilder.java   |  38 ++++---
 .../impl/vlt/JcrVaultDistributionPackage.java      |   6 +-
 .../vlt/JcrVaultDistributionPackageBuilder.java    | 112 ++++++++++++++++++---
 .../VaultDistributionPackageBuilderFactory.java    |  23 ++++-
 .../serialization/impl/vlt/VltUtils.java           |  81 +++++++++++++++
 .../FileVaultDistributionPackageBuilderTest.java   |  21 ++--
 7 files changed, 231 insertions(+), 58 deletions(-)

commit 1455f191ded8b1336b007259bd7fee7d93c549f8
Author: Marius Petria <mpetria@apache.org>
Date:   Tue May 19 10:59:02 2015 +0000

    SLING-4716: delete distribution packages that are not imported correctly by importStream
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1680244 13f79535-47bb-0310-9956-ffa450edef68

 .../packaging/DistributionPackageImporter.java     |  6 +--
 .../packaging/impl/DistributionPackageUtils.java   | 13 +++++-
 .../exporter/AgentDistributionPackageExporter.java |  2 +
 .../AdvancedRemoteDistributionPackageImporter.java |  3 +-
 .../importer/LocalDistributionPackageImporter.java | 24 +++++++---
 .../LocalDistributionPackageImporterFactory.java   | 11 +++--
 .../RemoteDistributionPackageImporter.java         |  3 +-
 .../RemoteDistributionPackageImporterFactory.java  |  3 +-
 .../RepositoryDistributionPackageImporter.java     |  3 +-
 ...positoryDistributionPackageImporterFactory.java |  3 +-
 .../ResourceSharedDistributionPackageBuilder.java  | 53 +++++++++++++---------
 .../DistributionPackageImporterServlet.java        | 16 +++----
 12 files changed, 89 insertions(+), 51 deletions(-)

commit 73df4c74f109027e372e955fcf2eea38d35df694
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu May 14 14:39:41 2015 +0000

    This closes #90
    commit 514ce5913ccbad9e1fdd1010a392f904806cb64b
    Author: Maciej Dybek <maciej.dybek@cognifide.com>
    Date: 2015-05-14T12:04:16Z
    SLING-4715 - Event filter in ResourceEventDistributionTrigger is wrongly configured
    
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1679386 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/trigger/impl/ResourceEventDistributionTrigger.java    | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 75c943361ba99ec4a05ed757c87219b323c1c587
Author: Marius Petria <mpetria@apache.org>
Date:   Tue May 12 15:02:33 2015 +0000

    Distribute entire rep:policy node on a change
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1678968 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/vlt/VaultDistributionPackageBuilderFactory.java    |  8 ++++----
 .../distribution/trigger/impl/AbstractJcrEventTrigger.java  |  4 +++-
 .../trigger/impl/JcrEventDistributionTrigger.java           | 13 +++++++++++--
 3 files changed, 18 insertions(+), 7 deletions(-)

commit 27b35846c0822f4e53b32e9b9b05b32ba59340df
Author: Marius Petria <mpetria@apache.org>
Date:   Mon May 11 10:44:57 2015 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1678721 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 5ac0755dafb571838a625d794156d47ad163788a
Author: Marius Petria <mpetria@apache.org>
Date:   Mon May 11 10:43:31 2015 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.1.2
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1678719 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 36aeafcb1390c7c90998af034e39ef4ae4219a58
Author: Marius Petria <mpetria@apache.org>
Date:   Thu May 7 11:23:21 2015 +0000

    Fixing concurrency problems for shared distribution packages in multiple queues
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1678168 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/MultipleQueueDispatchingStrategy.java     | 33 +++++---
 .../impl/ResourceSharedDistributionPackage.java    | 87 +++++++++++++++-------
 .../ResourceSharedDistributionPackageBuilder.java  | 53 +++++++------
 3 files changed, 112 insertions(+), 61 deletions(-)

commit ba5d3989132ba2772addd64646bdf9aeffdfaafe
Author: Marius Petria <mpetria@apache.org>
Date:   Mon May 4 14:23:20 2015 +0000

    Allow certain paths to be ignored by jcrtrigger
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1677602 13f79535-47bb-0310-9956-ffa450edef68

 .../trigger/impl/AbstractJcrEventTrigger.java      | 45 +++++++++++++++++++++-
 .../trigger/impl/JcrEventDistributionTrigger.java  | 38 +++++++++++++-----
 .../impl/JcrEventDistributionTriggerFactory.java   | 14 ++++++-
 .../impl/JcrEventDistributionTriggerTest.java      |  4 +-
 4 files changed, 85 insertions(+), 16 deletions(-)

commit 41c69c3e7aa570144ad0571fd424037eebf615f0
Author: Marius Petria <mpetria@apache.org>
Date:   Mon May 4 14:17:25 2015 +0000

    Release shared packages that are exported from an agent
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1677600 13f79535-47bb-0310-9956-ffa450edef68

 .../packaging/impl/exporter/AgentDistributionPackageExporter.java      | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 066c2d3e42cc32a994dc0d0200e5e11b354e55fd
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Apr 30 07:34:37 2015 +0000

    SLING-4682 - added missing jsr305 annotations to DistributionQueue and AbstractDistributionPackageBuilder, minor fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1676913 13f79535-47bb-0310-9956-ffa450edef68

 .../packaging/impl/DistributionPackageUtils.java    | 13 +++++--------
 .../sling/distribution/queue/DistributionQueue.java |  3 +++
 .../jobhandling/JobHandlingDistributionQueue.java   |  1 +
 .../queue/impl/simple/SimpleDistributionQueue.java  |  5 +++++
 .../impl/AbstractDistributionPackageBuilder.java    | 21 +++++++++++----------
 .../impl/ResourceSharedDistributionPackage.java     |  2 +-
 .../vlt/FileVaultDistributionPackageBuilder.java    | 10 ++++++----
 .../vlt/JcrVaultDistributionPackageBuilder.java     |  9 +++++----
 .../FileVaultDistributionPackageBuilderTest.java    |  2 +-
 9 files changed, 38 insertions(+), 28 deletions(-)

commit a8a77d76aeeb3889055351ebde18971443453eef
Author: Carsten Ziegeler <cziegeler@apache.org>
Date:   Tue Apr 28 06:39:02 2015 +0000

    Add missing licence headers
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1676414 13f79535-47bb-0310-9956-ffa450edef68

 .../DistributionPackageBuilderProvider.java        | 18 +++++++++++
 .../impl/vlt/JcrVaultDistributionPackage.java      | 33 +++++++++++++++-----
 .../vlt/JcrVaultDistributionPackageBuilder.java    | 36 +++++++++++++++-------
 3 files changed, 69 insertions(+), 18 deletions(-)

commit 499ac7af6df6db34a4fb26bf6957d503d0da3e91
Author: Carsten Ziegeler <cziegeler@apache.org>
Date:   Tue Apr 28 06:37:32 2015 +0000

    Remove unused label
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1676413 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/event/impl/DefaultDistributionEventFactory.java     | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 3e7e94f7dd22439385959301572ccb507fee6461
Author: Carsten Ziegeler <cziegeler@apache.org>
Date:   Mon Apr 27 16:34:19 2015 +0000

    Use latest parent pom
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1676331 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2570462313f0f62d8a70a1f70cdee1a21f3abce1
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Apr 23 12:03:40 2015 +0000

    SLING-4647: using maxPullItems only for PULL requests
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1675577 13f79535-47bb-0310-9956-ffa450edef68

 .../transport/impl/SimpleHttpDistributionTransport.java           | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 27dcfcbf5d8ec9633b31dccb723f83fdb6d9891b
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Apr 22 16:03:59 2015 +0000

    SLING-4650 - fixed ImportMode property parsing
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1675397 13f79535-47bb-0310-9956-ffa450edef68

 .../serialization/impl/vlt/VaultDistributionPackageBuilderFactory.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 85607a6e03c1115b8ce933ff521fb2bf67284bb0
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Apr 21 16:39:34 2015 +0000

    SLING-4646 - null checks on DefaultDistributionEventFactory
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1675154 13f79535-47bb-0310-9956-ffa450edef68

 .../event/impl/DefaultDistributionEventFactory.java           | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 0a6508e42034721a97eb2f86f9ede591f09db7fe
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Apr 20 13:27:20 2015 +0000

    SLING-4629: allow configuration of passive queues, for which processing is not enabled
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1674843 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      | 21 ++++++++++---
 .../agent/impl/QueueDistributionAgentFactory.java  |  4 +--
 .../impl/ReverseDistributionAgentFactory.java      | 10 +++++--
 .../agent/impl/SimpleDistributionAgent.java        | 18 ++++++++++--
 .../agent/impl/SimpleDistributionAgentFactory.java | 11 +++++--
 .../agent/impl/SyncDistributionAgentFactory.java   | 24 ++++++++++++---
 .../queue/DistributionQueueProvider.java           |  2 +-
 .../jobhandling/JobHandlingDistributionQueue.java  | 11 +++++--
 .../JobHandlingDistributionQueueProvider.java      | 34 ++++++++++++++++++----
 .../simple/SimpleDistributionQueueProvider.java    |  2 +-
 ...xtendedDistributionServiceResourceProvider.java | 10 +------
 .../agent/impl/SimpleDistributionAgentTest.java    | 16 +++++-----
 .../JobHandlingDistributionQueueTest.java          |  4 +--
 13 files changed, 123 insertions(+), 44 deletions(-)

commit f171363c9433a71e5596e0bdf6301d2974fdf574
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Apr 16 11:15:45 2015 +0000

    SLING-4583: specify the package root explicitly
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1674043 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        | 10 ++++-
 .../packaging/DistributionPackage.java             |  5 +++
 .../impl/DistributionPackageWrapper.java           |  4 ++
 .../impl/ResourceSharedDistributionPackage.java    |  4 ++
 .../impl/SimpleDistributionPackage.java            |  5 +++
 .../impl/vlt/FileVaultDistributionPackage.java     |  6 ++-
 .../vlt/FileVaultDistributionPackageBuilder.java   |  6 ++-
 .../impl/vlt/JcrVaultDistributionPackage.java      | 12 ++++--
 .../vlt/JcrVaultDistributionPackageBuilder.java    |  6 ++-
 .../VaultDistributionPackageBuilderFactory.java    | 15 +++++--
 .../serialization/impl/vlt/VltUtils.java           | 46 ++++++++++++----------
 .../FileVaultDistributionPackageBuilderTest.java   | 10 ++---
 12 files changed, 91 insertions(+), 38 deletions(-)

commit 6f790b4cf98fb7aa1c82a83353e1acf28d4b4b24
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Apr 7 11:11:26 2015 +0000

    SLING-4583: requiring less privileges to distribute a subtree
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1671804 13f79535-47bb-0310-9956-ffa450edef68

 .../vlt/FileVaultDistributionPackageBuilder.java   |  4 ---
 .../impl/vlt/JcrVaultDistributionPackage.java      |  1 +
 .../vlt/JcrVaultDistributionPackageBuilder.java    | 21 +++++++-----
 .../serialization/impl/vlt/VltUtils.java           | 39 +++++++++++++++++++++-
 4 files changed, 51 insertions(+), 14 deletions(-)

commit 2e0b2aeb4c09452d5856cd8774cae9c1a01d507f
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Mar 31 08:56:49 2015 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1670277 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit d6bd3b818ec505f5b01cda76564c2ff474c33e8c
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Mar 31 08:56:41 2015 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.1.1
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1670275 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 2f3df4753ef9615eb99d90d569821eb1ac4f58c5
Author: Marius Petria <mpetria@apache.org>
Date:   Sat Mar 28 12:29:18 2015 +0000

    SLING-4550: do not drop last distribution package in a pull series
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1669754 13f79535-47bb-0310-9956-ffa450edef68

 .../transport/impl/SimpleHttpDistributionTransport.java            | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 2c698af3a18f07e929134b3703882157a2c35ce1
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Mar 25 11:55:00 2015 +0000

    Adding pull items configuration to distribution sync agents + depending on snapshots until release
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1669098 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                                        |  2 +-
 .../agent/impl/ReverseDistributionAgentFactory.java            |  6 +++---
 .../distribution/agent/impl/SyncDistributionAgentFactory.java  | 10 +++++++++-
 3 files changed, 13 insertions(+), 5 deletions(-)

commit c6bcc3cf131b6d45f84951cbe2bf27e2be6e2a80
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Mar 24 13:42:15 2015 +0000

    [maven-release-plugin] prepare for next development iteration
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1668896 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 022462769062ea0106cae80fdfedea618c512266
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Mar 24 13:42:02 2015 +0000

    [maven-release-plugin] prepare release org.apache.sling.distribution.core-0.1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1668894 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit 819047470f3ae46f175660e6920f6a3f0ca5deba
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Feb 26 11:07:54 2015 +0000

    SLING-4459: cleaning empty entries in distribution config string arrays
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1662421 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/ForwardDistributionAgentFactory.java      |  1 +
 .../agent/impl/QueueDistributionAgentFactory.java        |  3 +++
 .../agent/impl/ReverseDistributionAgentFactory.java      |  3 +++
 .../agent/impl/SyncDistributionAgentFactory.java         |  2 ++
 .../sling/distribution/component/impl/SettingsUtils.java | 16 ++++++++++++++++
 .../RemoteDistributionPackageExporterFactory.java        |  3 +++
 .../AdvancedRemoteDistributionPackageImporter.java       |  5 +++++
 7 files changed, 33 insertions(+)

commit 3de3d7ed6b1e809a7e12776c64ab6d13538e4c32
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Feb 18 12:44:01 2015 +0000

    SLING-4430: prefix all distribution config labels with Apache
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1660613 13f79535-47bb-0310-9956-ffa450edef68

 .../resources/impl/DistributionConfigurationResourceProviderFactory.java | 1 +
 1 file changed, 1 insertion(+)

commit 59158111f3ab66d14f352f101dc53b02abfdd2e1
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Feb 18 11:44:49 2015 +0000

    SLING-4430: prefix all distribution config labels with Apache
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1660600 13f79535-47bb-0310-9956-ffa450edef68

 .../sling/distribution/agent/impl/ForwardDistributionAgentFactory.java | 2 +-
 .../impl/PrivilegeDistributionRequestAuthorizationStrategyFactory.java | 2 +-
 .../sling/distribution/agent/impl/QueueDistributionAgentFactory.java   | 2 +-
 .../sling/distribution/agent/impl/ReverseDistributionAgentFactory.java | 2 +-
 .../sling/distribution/agent/impl/SimpleDistributionAgentFactory.java  | 2 +-
 .../sling/distribution/agent/impl/SyncDistributionAgentFactory.java    | 2 +-
 .../impl/exporter/AgentDistributionPackageExporterFactory.java         | 2 +-
 .../impl/exporter/LocalDistributionPackageExporterFactory.java         | 2 +-
 .../impl/exporter/RemoteDistributionPackageExporterFactory.java        | 2 +-
 .../impl/importer/LocalDistributionPackageImporterFactory.java         | 2 +-
 .../impl/importer/RemoteDistributionPackageImporterFactory.java        | 2 +-
 .../impl/importer/RepositoryDistributionPackageImporterFactory.java    | 2 +-
 .../impl/DistributionConfigurationResourceProviderFactory.java         | 3 ++-
 .../resources/impl/DistributionServiceResourceProviderFactory.java     | 3 ++-
 .../serialization/impl/vlt/VaultDistributionPackageBuilderFactory.java | 2 +-
 .../impl/UserCredentialsDistributionTransportSecretProvider.java       | 2 +-
 .../impl/DistributionEventDistributeDistributionTriggerFactory.java    | 2 +-
 .../distribution/trigger/impl/JcrEventDistributionTriggerFactory.java  | 2 +-
 .../trigger/impl/PersistedJcrEventDistributionTriggerFactory.java      | 2 +-
 .../trigger/impl/RemoteEventDistributionTriggerFactory.java            | 2 +-
 .../trigger/impl/ResourceEventDistributionTriggerFactory.java          | 2 +-
 .../distribution/trigger/impl/ScheduledDistributionTriggerFactory.java | 2 +-
 22 files changed, 24 insertions(+), 22 deletions(-)

commit 359f5fb4a2c75840960c2afba9d2548328c91bff
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Feb 17 09:08:35 2015 +0000

    SLING-4426: making distribution triggers cluster aware
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1660327 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                                             | 6 ++++++
 .../sling/distribution/trigger/impl/AbstractJcrEventTrigger.java    | 4 ++--
 .../distribution/trigger/impl/RemoteEventDistributionTrigger.java   | 2 ++
 .../distribution/trigger/impl/ResourceEventDistributionTrigger.java | 3 +++
 .../distribution/trigger/impl/ScheduledDistributionTrigger.java     | 1 +
 5 files changed, 14 insertions(+), 2 deletions(-)

commit bf4133fc23bca6da83057c979f29a92be498c37f
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Feb 16 14:48:29 2015 +0000

    SLING-4422: using commons.json to build distribution servlet responses
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1660129 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |  6 ++
 .../impl/ForwardDistributionAgentFactory.java      |  2 +-
 .../agent/impl/QueueDistributionAgentFactory.java  |  2 +-
 .../servlet/DistributionAgentRootServlet.java      | 86 ----------------------
 .../servlet/DistributionAgentServlet.java          | 23 ++----
 .../DistributionPackageImporterServlet.java        | 11 ++-
 .../distribution/servlet/ServletJsonUtils.java     | 74 +++++++++++++++++++
 7 files changed, 93 insertions(+), 111 deletions(-)

commit 74e898c6c8f6e3bd289a0aa87eb75a7ed0d90ec7
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Feb 11 11:44:24 2015 +0000

    SLING-4404: making sure agent exporter export TEST packages
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1658935 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      |  8 +--
 .../agent/impl/QueueDistributionAgentFactory.java  |  8 +--
 .../agent/impl/SimpleDistributionAgent.java        | 18 ++++--
 .../exporter/AgentDistributionPackageExporter.java | 69 ++++++++++++++++++++--
 .../impl/AbstractDistributionPackageBuilder.java   | 10 +++-
 .../DefaultDistributionPackageBuilderProvider.java | 19 ++++++
 .../impl/DistributionPackageWrapper.java           | 65 ++++++++++++++++++++
 .../impl/SimpleDistributionPackage.java            | 21 +++----
 .../impl/SimpleHttpDistributionTransport.java      |  4 +-
 .../sling/distribution/util/RequestUtils.java      |  7 +++
 .../agent/impl/SimpleDistributionAgentTest.java    |  4 +-
 .../AgentDistributionPackageExporterTest.java      | 52 ++++++++++++++++
 .../impl/SimpleDistributionPackageTest.java        |  2 +-
 .../FileVaultDistributionPackageBuilderTest.java   |  2 +
 14 files changed, 252 insertions(+), 37 deletions(-)

commit 3031c43b78ed5de23c186f6bb8e6f755a19653ea
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Feb 4 12:20:22 2015 +0000

    SLING-4393: permit path restrictions for agents via allowed.root property
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1657138 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      |  8 +-
 .../agent/impl/QueueDistributionAgentFactory.java  |  8 +-
 .../impl/ReverseDistributionAgentFactory.java      |  2 +-
 .../agent/impl/SimpleDistributionAgent.java        | 28 ++++++-
 .../agent/impl/SimpleDistributionAgentFactory.java |  2 +-
 .../agent/impl/SyncDistributionAgentFactory.java   |  2 +-
 .../agent/impl/SimpleDistributionAgentTest.java    | 95 ++++++++++++++++++++--
 7 files changed, 133 insertions(+), 12 deletions(-)

commit fec96897e82eb12c77797c6a2e141f3df6e29b16
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Feb 4 11:25:29 2015 +0000

    SLING-4392: removing mechanism for generating osgi configs from jcr descriptions
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1657123 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionAgentFactory.java     |   7 +-
 .../impl/ForwardDistributionAgentFactory.java      |   4 +-
 ...ibutionRequestAuthorizationStrategyFactory.java |   4 +-
 .../agent/impl/QueueDistributionAgentFactory.java  |   5 +-
 .../impl/ReverseDistributionAgentFactory.java      |   4 +-
 .../agent/impl/SimpleDistributionAgentFactory.java |   4 +-
 .../agent/impl/SyncDistributionAgentFactory.java   |   5 +-
 .../impl/DefaultDistributionComponentManager.java  | 190 ---------
 .../impl/DefaultDistributionComponentProvider.java |   3 +-
 .../DefaultDistributionConfigurationManager.java   |  14 +-
 ...er.java => DistributionComponentConstants.java} |  33 +-
 .../component/impl/DistributionComponentUtils.java | 194 ---------
 .../ResourceBasedDistributionComponentFactory.java | 449 ---------------------
 .../AgentDistributionPackageExporterFactory.java   |   5 +-
 .../LocalDistributionPackageExporterFactory.java   |   4 +-
 .../RemoteDistributionPackageExporterFactory.java  |   5 +-
 .../AdvancedRemoteDistributionPackageImporter.java |   4 +-
 .../LocalDistributionPackageImporterFactory.java   |   4 +-
 .../RemoteDistributionPackageImporterFactory.java  |   5 +-
 ...positoryDistributionPackageImporterFactory.java |   4 +-
 ...butionConfigurationResourceProviderFactory.java |   4 +-
 .../impl/DistributionServiceResourceProvider.java  |   4 +-
 ...DistributionServiceResourceProviderFactory.java |   4 +-
 .../DefaultDistributionPackageBuilderProvider.java |   1 -
 .../VaultDistributionPackageBuilderFactory.java    |   6 +-
 ...entialsDistributionTransportSecretProvider.java |   4 +-
 ...nEventDistributeDistributionTriggerFactory.java |   4 +-
 .../impl/JcrEventDistributionTriggerFactory.java   |   6 +-
 ...ersistedJcrEventDistributionTriggerFactory.java |   6 +-
 .../RemoteEventDistributionTriggerFactory.java     |   6 +-
 .../ResourceEventDistributionTriggerFactory.java   |   6 +-
 .../impl/ScheduledDistributionTriggerFactory.java  |   4 +-
 .../impl/DistributionComponentUtilsTest.java       | 121 ------
 33 files changed, 77 insertions(+), 1046 deletions(-)

commit dd6d509ddcbf8b8f8bdb26b6899d0925bf9f2c82
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Feb 4 10:01:48 2015 +0000

    SLING-4391: changing distribution event api to contain constants
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1657075 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java          | 12 ++++++------
 .../event/impl/DefaultDistributionEventFactory.java  | 20 ++++++++++----------
 .../event/impl/DistributionEventFactory.java         |  3 +--
 .../LocalDistributionPackageImporterFactory.java     |  6 +++---
 ...stributionEventDistributeDistributionTrigger.java | 11 ++++++-----
 5 files changed, 26 insertions(+), 26 deletions(-)

commit 730eddec8ea0e3843d252c0325023a677c1567e9
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Feb 4 09:23:46 2015 +0000

    SLING-4389: Adding a trivial request type TEST for testing connectivity of a distribution agent
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1657034 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      |  4 +-
 .../impl/ReverseDistributionAgentFactory.java      |  2 +-
 .../agent/impl/SimpleDistributionAgent.java        | 28 +++++------
 .../agent/impl/SyncDistributionAgentFactory.java   |  6 +--
 .../packaging/impl/DistributionPackageUtils.java   | 57 ++++++++++++++++++++++
 .../RemoteDistributionPackageExporter.java         |  8 +--
 .../RemoteDistributionPackageExporterFactory.java  | 12 ++++-
 .../AdvancedRemoteDistributionPackageImporter.java | 19 +++++++-
 .../importer/LocalDistributionPackageImporter.java |  2 +-
 .../RemoteDistributionPackageImporter.java         |  8 +--
 .../RemoteDistributionPackageImporterFactory.java  | 10 +++-
 .../impl/MultipleQueueDispatchingStrategy.java     | 15 +++---
 .../impl/AbstractDistributionPackageBuilder.java   |  9 +++-
 .../servlet/DistributionAgentQueueServlet.java     | 13 +----
 .../impl/AdvancedHttpDistributionTransport.java    |  6 +--
 .../impl/SimpleHttpDistributionTransport.java      | 25 +++++++---
 .../impl/PersistedJcrEventDistributionTrigger.java |  2 +-
 .../RemoteDistributionPackageExporterTest.java     |  3 +-
 .../RemoteDistributionPackageImporterTest.java     |  3 +-
 .../impl/SimpleHttpDistributionTransportTest.java  |  7 +--
 20 files changed, 172 insertions(+), 67 deletions(-)

commit 4d37f0424fa9f781219eeedb0b644544de303f1d
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Feb 2 16:16:51 2015 +0000

    SLING-4367: fixing package imported event after distribution
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1656509 13f79535-47bb-0310-9956-ffa450edef68

 .../event/impl/DefaultDistributionEventFactory.java    | 18 ++++++++++++------
 .../LocalDistributionPackageImporterFactory.java       |  9 ++++++++-
 2 files changed, 20 insertions(+), 7 deletions(-)

commit 6b6f5035fcb7a573b9586c40a1b482f363376a2e
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Jan 30 14:26:37 2015 +0000

    SLING-4375: exposing agent state via api
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1656026 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/agent/DistributionAgent.java      |  9 +++++
 .../distribution/agent/DistributionAgentState.java | 46 ++++++++++++++++++++++
 .../impl/ForwardDistributionAgentFactory.java      |  7 ++++
 .../agent/impl/QueueDistributionAgentFactory.java  |  7 ++++
 .../impl/ReverseDistributionAgentFactory.java      |  6 +++
 .../agent/impl/SimpleDistributionAgent.java        | 42 +++++++++++++++++++-
 .../agent/impl/SimpleDistributionAgentFactory.java |  7 ++++
 .../agent/impl/SyncDistributionAgentFactory.java   |  6 +++
 ...xtendedDistributionServiceResourceProvider.java | 23 ++++++++++-
 .../servlet/DistributionAgentLogServlet.java       |  2 +-
 .../servlet/DistributionAgentServlet.java          |  7 ++--
 11 files changed, 155 insertions(+), 7 deletions(-)

commit 3aaa14336219d126a9930cb156b552ddb2f0284b
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Jan 29 13:20:55 2015 +0000

    SLING-4368: transport secret providers should receive the transport uri
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1655647 13f79535-47bb-0310-9956-ffa450edef68

 .../RemoteDistributionPackageExporter.java         |  4 +--
 .../AdvancedRemoteDistributionPackageImporter.java |  4 +--
 .../RemoteDistributionPackageImporter.java         |  4 +--
 .../transport/core/DistributionTransport.java      | 11 ++----
 .../impl/AdvancedHttpDistributionTransport.java    | 10 +++---
 .../MultipleEndpointDistributionTransport.java     | 15 ++++----
 .../impl/SimpleHttpDistributionTransport.java      | 13 ++++---
 ...entialsDistributionTransportSecretProvider.java |  3 +-
 .../impl/RemoteEventDistributionTrigger.java       |  2 +-
 .../MultipleEndpointDistributionTransportTest.java | 42 +++++++++-------------
 .../impl/SimpleHttpDistributionTransportTest.java  | 23 ++++++++----
 11 files changed, 68 insertions(+), 63 deletions(-)

commit 57a673b2270e447c41fdb4a33ba9502cdcb2671a
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Jan 29 12:59:29 2015 +0000

    SLING-4367: trigger package imported event after succesful import
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1655640 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      |  5 ++-
 .../agent/impl/QueueDistributionAgentFactory.java  |  5 ++-
 .../impl/ReverseDistributionAgentFactory.java      |  5 ++-
 .../agent/impl/SimpleDistributionAgent.java        | 44 ++++++++++++++++++----
 .../agent/impl/SimpleDistributionAgentFactory.java |  2 +-
 .../agent/impl/SyncDistributionAgentFactory.java   |  5 ++-
 .../impl/DefaultDistributionEventFactory.java      | 12 +++---
 .../event/impl/DistributionEventFactory.java       |  4 +-
 .../LocalDistributionPackageImporterFactory.java   | 14 ++++++-
 ...ributionEventDistributeDistributionTrigger.java |  4 +-
 .../agent/impl/SimpleDistributionAgentTest.java    | 12 +++---
 11 files changed, 83 insertions(+), 29 deletions(-)

commit 19d234ff8d62542379d6dc1e367820dc9d0d534c
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Jan 26 12:24:21 2015 +0000

    SLING-4351: exposing log information over http api
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1654776 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/agent/DistributionAgent.java      |  13 +-
 .../impl/AbstractDistributionAgentFactory.java     |  19 ++-
 .../impl/ForwardDistributionAgentFactory.java      |  14 +-
 .../agent/impl/QueueDistributionAgentFactory.java  |  14 +-
 .../impl/ReverseDistributionAgentFactory.java      |  14 +-
 .../agent/impl/SimpleDistributionAgent.java        | 182 +++++++++------------
 .../agent/impl/SimpleDistributionAgentFactory.java |  14 +-
 .../agent/impl/SyncDistributionAgentFactory.java   |  18 +-
 .../DefaultDistributionConfigurationManager.java   |   2 +
 .../impl/CompositeDistributionResponse.java        | 101 ++++++++++++
 .../impl/SimpleDistributionResponse.java           |  10 ++
 .../sling/distribution/log/DistributionLog.java    |  29 ++++
 .../log/impl/DefaultDistributionLog.java           | 159 ++++++++++++++++++
 .../RemoteDistributionPackageImporter.java         |   2 +-
 .../resources/DistributionResourceTypes.java       |   2 +-
 ...xtendedDistributionServiceResourceProvider.java |  18 +-
 .../impl/SimpleDistributionPackage.java            |   8 +-
 .../impl/vlt/FileVaultDistributionPackage.java     |   7 +-
 .../vlt/FileVaultDistributionPackageBuilder.java   |   6 +-
 .../impl/vlt/JcrVaultDistributionPackage.java      |   2 +-
 .../vlt/JcrVaultDistributionPackageBuilder.java    |   5 +-
 .../servlet/DistributionAgentLogServlet.java       |  71 ++++++++
 .../servlet/DistributionAgentRootServlet.java      |   2 +-
 .../servlet/DistributionAgentServlet.java          |   1 -
 .../DistributionPackageExporterServlet.java        |   4 +-
 .../DistributionPackageImporterServlet.java        |   4 +-
 .../impl/SimpleHttpDistributionTransport.java      |   9 +-
 .../agent/impl/SimpleDistributionAgentTest.java    |  13 +-
 28 files changed, 601 insertions(+), 142 deletions(-)

commit d1a22a9a9652ba0952d1ab92f403e09a67c24de0
Author: Marius Petria <mpetria@apache.org>
Date:   Sat Jan 24 07:01:59 2015 +0000

    SLING-4348: enabling queue processing for sync agents
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1654477 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/agent/impl/SyncDistributionAgentFactory.java      | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit d60f66a0256e74ae3f224c3d97b15541003c65c6
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Jan 22 15:32:44 2015 +0000

    SLING-4341: removing package also when a package is deleted from queue
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1653915 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/DefaultDistributionComponentProvider.java |  21 ++-
 .../exporter/AgentDistributionPackageExporter.java |  26 ++--
 .../AgentDistributionPackageExporterFactory.java   |   9 +-
 .../JobHandlingDistributionQueueProvider.java      |   2 +-
 .../serialization/DistributionPackageBuilder.java  |   6 +
 .../DistributionPackageBuilderProvider.java        |  16 ++
 .../impl/AbstractDistributionPackageBuilder.java   |  40 ++---
 .../DefaultDistributionPackageBuilderProvider.java |  52 +++++++
 .../ResourceSharedDistributionPackageBuilder.java  |   8 +-
 .../impl/SimpleDistributionPackage.java            | 166 +++++++++++++++++++++
 .../impl/VoidDistributionPackage.java              | 121 ---------------
 .../impl/VoidDistributionPackageBuilder.java       |  70 ---------
 .../impl/vlt/FileVaultDistributionPackage.java     |   6 +-
 .../vlt/FileVaultDistributionPackageBuilder.java   |  16 +-
 .../vlt/JcrVaultDistributionPackageBuilder.java    |  13 +-
 .../VaultDistributionPackageBuilderFactory.java    |  12 +-
 .../servlet/DistributionAgentQueueServlet.java     |  51 ++++++-
 ...est.java => SimpleDistributionPackageTest.java} |   8 +-
 .../impl/VoidDistributionPackageBuilderTest.java   | 114 --------------
 .../FileVaultDistributionPackageBuilderTest.java   |  10 +-
 .../impl/vlt/FileVaultDistributionPackageTest.java |  14 +-
 21 files changed, 392 insertions(+), 389 deletions(-)

commit 9e336af1b642cc9f39454be7c91654281233f9ca
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Jan 21 13:23:19 2015 +0000

    SLING-4324: fixing jcr triggers temporarily until SLING-4312 is fixed
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1653534 13f79535-47bb-0310-9956-ffa450edef68

 .../sling/distribution/trigger/impl/AbstractJcrEventTrigger.java      | 4 +++-
 .../trigger/impl/PersistedJcrEventDistributionTrigger.java            | 2 +-
 .../trigger/impl/PersistingJcrEventDistributionTriggerTest.java       | 2 ++
 3 files changed, 6 insertions(+), 2 deletions(-)

commit 25a63df1b5d7e109be8a02acd0cf609e4637f8a3
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Jan 21 12:32:56 2015 +0000

    SLING-4324: the persisted jcr triggers are not initialized correctly
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1653501 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/ReverseDistributionAgentFactory.java            |  2 +-
 .../serialization/impl/vlt/JcrVaultDistributionPackage.java    | 10 +++++-----
 .../trigger/impl/JcrEventDistributionTriggerFactory.java       |  1 +
 .../impl/PersistedJcrEventDistributionTriggerFactory.java      |  1 +
 4 files changed, 8 insertions(+), 6 deletions(-)

commit c5618ec45249cfc1ffa03fbb7e558f68accb93be
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Jan 19 14:46:02 2015 +0000

    SLING-4331: adding labels and descriptions to osgi factories
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1653016 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionAgentFactory.java     | 36 ++++++++++++++-----
 .../impl/ForwardDistributionAgentFactory.java      | 42 +++++++++++++++-------
 ...ibutionRequestAuthorizationStrategyFactory.java | 12 +++----
 .../agent/impl/QueueDistributionAgentFactory.java  | 24 +++++++------
 .../impl/ReverseDistributionAgentFactory.java      | 39 +++++++++++++-------
 .../agent/impl/SimpleDistributionAgent.java        | 10 +++---
 .../agent/impl/SimpleDistributionAgentFactory.java | 34 +++++++++++-------
 .../agent/impl/SyncDistributionAgentFactory.java   | 28 +++++++++------
 .../ResourceBasedDistributionComponentFactory.java |  3 +-
 .../AgentDistributionPackageExporterFactory.java   | 15 ++++----
 .../LocalDistributionPackageExporterFactory.java   | 11 +++---
 .../RemoteDistributionPackageExporterFactory.java  | 26 ++++++++------
 .../LocalDistributionPackageImporterFactory.java   | 10 +++---
 .../RemoteDistributionPackageImporterFactory.java  | 21 ++++++-----
 ...positoryDistributionPackageImporterFactory.java |  2 +-
 ...butionConfigurationResourceProviderFactory.java |  7 ++--
 ...DistributionServiceResourceProviderFactory.java |  5 ++-
 .../VaultDistributionPackageBuilderFactory.java    | 37 ++++++++++++-------
 ...entialsDistributionTransportSecretProvider.java |  8 ++---
 ...ributionEventDistributeDistributionTrigger.java |  2 --
 ...nEventDistributeDistributionTriggerFactory.java |  8 +++--
 .../impl/JcrEventDistributionTriggerFactory.java   | 13 +++----
 .../impl/PersistedJcrEventDistributionTrigger.java |  2 +-
 ...ersistedJcrEventDistributionTriggerFactory.java | 10 +++++-
 .../RemoteEventDistributionTriggerFactory.java     | 10 +++---
 .../ResourceEventDistributionTriggerFactory.java   |  9 +++--
 .../trigger/impl/ScheduledDistributionTrigger.java |  1 +
 .../impl/ScheduledDistributionTriggerFactory.java  | 12 ++++---
 28 files changed, 269 insertions(+), 168 deletions(-)

commit 74bbdda7e50fff228c0daa6566805d22bc63a584
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Jan 16 14:19:13 2015 +0000

    SLING-4324: spliting LocalDistributionTriggerFactory in specific factories
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1652413 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionAgentFactory.java     |  15 +-
 .../impl/ForwardDistributionAgentFactory.java      |   2 +-
 .../agent/impl/QueueDistributionAgentFactory.java  |   2 +-
 .../impl/ReverseDistributionAgentFactory.java      |   2 +-
 .../agent/impl/SimpleDistributionAgent.java        |  27 +--
 .../agent/impl/SimpleDistributionAgentFactory.java |   2 +-
 .../agent/impl/SyncDistributionAgentFactory.java   |   2 +-
 .../component/impl/DistributionComponentKind.java  |  16 +-
 .../trigger/impl/AbstractJcrEventTrigger.java      |  15 ++
 ...ibutionEventDistributeDistributionTrigger.java} |   9 +-
 ...nEventDistributeDistributionTriggerFactory.java |  74 ++++++++
 .../impl/JcrEventDistributionTriggerFactory.java   |  97 +++++++++++
 .../impl/LocalDistributionTriggerFactory.java      | 192 ---------------------
 ...a => PersistedJcrEventDistributionTrigger.java} |  11 +-
 ...ersistedJcrEventDistributionTriggerFactory.java |  95 ++++++++++
 .../impl/RemoteEventDistributionTrigger.java       |  12 +-
 .../RemoteEventDistributionTriggerFactory.java     |  95 ++++++++++
 .../impl/ResourceEventDistributionTrigger.java     |   7 +-
 .../ResourceEventDistributionTriggerFactory.java   |  80 +++++++++
 .../trigger/impl/ScheduledDistributionTrigger.java |  13 +-
 .../impl/ScheduledDistributionTriggerFactory.java  |  99 +++++++++++
 .../agent/impl/SimpleDistributionAgentTest.java    |  12 +-
 .../trigger/impl/ChainDistributionTriggerTest.java |  15 +-
 .../PersistingJcrEventDistributionTriggerTest.java |  10 +-
 24 files changed, 634 insertions(+), 270 deletions(-)

commit 8ba5d7d5da301e8ad4170df19d1c1c4301f20a47
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Jan 16 08:03:33 2015 +0000

    SLING-4292: exposing queue and queue items as resources
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1652356 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionAgentFactory.java     |   4 -
 .../distribution/queue/DistributionQueue.java      |  36 ++++-
 .../distribution/queue/DistributionQueueState.java |  46 ++++++
 .../queue/impl/DistributionQueueUtils.java         |  51 +++++++
 .../jobhandling/JobHandlingDistributionQueue.java  |  25 ++++
 .../queue/impl/simple/SimpleDistributionQueue.java |  24 ++-
 ...nstants.java => DistributionResourceTypes.java} |  25 +++-
 .../DistributionConfigurationResourceProvider.java |  59 ++++++--
 ...butionConfigurationResourceProviderFactory.java |  25 +---
 .../impl/DistributionServiceResourceProvider.java  |  92 +++++++++++-
 ...DistributionServiceResourceProviderFactory.java |  24 +--
 ...xtendedDistributionServiceResourceProvider.java | 161 +++++++++++++++++++++
 .../common/AbstractModifyingResourceProvider.java  |  22 ++-
 .../common/AbstractReadableResourceProvider.java   | 127 ++++++++--------
 .../impl/ResourceSharedDistributionPackage.java    |   8 +-
 .../ResourceSharedDistributionPackageBuilder.java  |  38 +++--
 .../servlet/DistributionAgentQueueServlet.java     | 111 ++++----------
 .../servlet/DistributionAgentRootServlet.java      |   4 +-
 .../servlet/DistributionAgentServlet.java          |   4 +-
 .../DistributionPackageExporterServlet.java        |   4 +-
 .../DistributionPackageImporterServlet.java        |   4 +-
 .../servlet/DistributionTriggerServlet.java        |   3 +-
 22 files changed, 623 insertions(+), 274 deletions(-)

commit 80d4e19688d5d396640c9c8ab087375a0b1deb78
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Jan 14 14:33:54 2015 +0000

    SLING-4308: change resourceprovidersfactory to resourceprovider
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1651683 13f79535-47bb-0310-9956-ffa450edef68

 ...DistributionServiceResourceProviderFactory.java | 24 ++++++++++++++--------
 1 file changed, 16 insertions(+), 8 deletions(-)

commit 7c2517b304a46fbdccef183540e9a5f0a6a42b4e
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Jan 13 15:32:45 2015 +0000

    SLING-4306: fixing trigger disabling
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1651383 13f79535-47bb-0310-9956-ffa450edef68

 .../sling/distribution/agent/impl/SimpleDistributionAgent.java | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit c22f65f5e6eba25d7e59ab9d20a1258fc173685b
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Jan 9 10:34:01 2015 +0000

    SLING-4290 - set cardinality defaults to 100
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1650494 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/ForwardDistributionAgentFactory.java      |  2 +-
 .../agent/impl/ReverseDistributionAgentFactory.java      |  3 +--
 .../agent/impl/SyncDistributionAgentFactory.java         | 16 +++++++++-------
 3 files changed, 11 insertions(+), 10 deletions(-)

commit bbd09928f30c4345ced6d778f2a170d02c8383ed
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Jan 8 14:56:56 2015 +0000

    SLING-3553 - applied some findbugs fix
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1650303 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionAgentFactory.java      | 19 -------------------
 .../agent/impl/ForwardDistributionAgentFactory.java |  3 ++-
 .../agent/impl/SimpleDistributionAgent.java         |  4 ++--
 .../agent/impl/SyncDistributionAgentFactory.java    |  3 ++-
 .../DefaultDistributionConfigurationManager.java    |  1 -
 .../component/impl/DistributionComponentUtils.java  | 21 ---------------------
 .../distribution/component/impl/SettingsUtils.java  |  4 ++--
 .../event/impl/DistributionEventFactory.java        |  2 --
 .../importer/LocalDistributionPackageImporter.java  |  4 ----
 .../LocalDistributionPackageImporterFactory.java    |  2 --
 .../importer/RemoteDistributionPackageImporter.java |  2 --
 .../RemoteDistributionPackageImporterFactory.java   |  1 -
 .../sling/distribution/queue/DistributionQueue.java |  1 -
 .../queue/impl/SingleQueueDispatchingStrategy.java  | 13 -------------
 .../DistributionConfigurationResourceProvider.java  |  7 -------
 .../impl/DistributionServiceResourceProvider.java   | 10 ----------
 .../common/AbstractReadableResourceProvider.java    |  1 -
 .../impl/AbstractDistributionPackageBuilder.java    |  4 ----
 .../impl/vlt/FileVaultDistributionPackage.java      |  5 -----
 .../vlt/FileVaultDistributionPackageBuilder.java    |  5 -----
 .../vlt/JcrVaultDistributionPackageBuilder.java     |  2 --
 .../vlt/VaultDistributionPackageBuilderFactory.java |  1 -
 .../core/DistributionTransportException.java        |  2 +-
 .../impl/MultipleEndpointDistributionTransport.java |  5 ++---
 ...dentialsDistributionTransportSecretProvider.java |  1 -
 .../impl/ChainDistributeDistributionTrigger.java    |  1 -
 .../impl/PersistingJcrEventDistributionTrigger.java | 14 +++++++-------
 .../impl/ResourceEventDistributionTrigger.java      |  1 -
 .../trigger/impl/ScheduledDistributionTrigger.java  |  3 ---
 29 files changed, 18 insertions(+), 124 deletions(-)

commit 1758b93109a82c09f35441014f2dcdc5c1dec4ae
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Jan 8 08:45:15 2015 +0000

    SLING-4009: making multiple queue delivery option explicit via osgi config
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1650232 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/ForwardDistributionAgentFactory.java      | 23 +++++++++++++++++-----
 .../agent/impl/SyncDistributionAgentFactory.java   | 22 +++++++++++++++++++--
 2 files changed, 38 insertions(+), 7 deletions(-)

commit 0a85a6bfd237d02bcd709cbd4f08fe7c6a0f08b1
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Jan 7 16:38:21 2015 +0000

    SLING-4289: fixing trigger binding to be selective by default
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1650112 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionAgentFactory.java     |  2 ++
 .../impl/ForwardDistributionAgentFactory.java      | 14 +++--------
 .../agent/impl/QueueDistributionAgentFactory.java  | 28 ++++++----------------
 .../impl/ReverseDistributionAgentFactory.java      |  7 +++---
 .../agent/impl/SimpleDistributionAgentFactory.java | 13 ++++------
 .../agent/impl/SyncDistributionAgentFactory.java   | 17 +++----------
 6 files changed, 22 insertions(+), 59 deletions(-)

commit 0341aed46184a4c63f0c41d4201e98d9ad0f0a80
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Jan 7 11:02:33 2015 +0000

    SLING-4289: refactoring the resourceproviders for osgi configs and osgi services
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1650034 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionAgentFactory.java     |   4 +-
 .../agent/impl/SyncDistributionAgentFactory.java   | 107 ++-------
 .../impl/DefaultDistributionComponentProvider.java | 141 +++++------
 .../DefaultDistributionConfigurationManager.java   | 259 +++++++++++++++++++++
 .../component/impl/DistributionComponent.java      |  58 +++++
 .../component/impl/DistributionComponentKind.java  | 195 ++++++++++++++++
 .../impl/DistributionComponentProvider.java        |  35 +++
 .../component/impl/DistributionComponentUtils.java |  82 ++-----
 .../component/impl/DistributionConfiguration.java  |  54 +++++
 .../impl/DistributionConfigurationManager.java     |  36 +++
 .../distribution/impl/DefaultDistributor.java      |   6 +-
 .../DistributionConfigurationResourceProvider.java | 127 ++++++++++
 ...butionConfigurationResourceProviderFactory.java | 113 +++++++++
 .../impl/DistributionServiceResourceProvider.java  | 103 ++++++++
 ...istributionServiceResourceProviderFactory.java} |  78 ++-----
 .../impl/OsgiConfigurationResourceProvider.java    | 259 ---------------------
 .../OsgiServicePropertiesResourceProvider.java     | 148 ------------
 .../distribution/resources/impl/OsgiUtils.java     |  11 +-
 .../common/AbstractModifyingResourceProvider.java  |   2 -
 .../common/AbstractReadableResourceProvider.java   | 108 +--------
 20 files changed, 1131 insertions(+), 795 deletions(-)

commit 771157c19016bf7021dc56a79942a1e1abb6c638
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Jan 5 15:04:11 2015 +0000

    SLING-4281: returning tracked agents from component provider
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1649541 13f79535-47bb-0310-9956-ffa450edef68

 .../component/impl/DefaultDistributionComponentProvider.java          | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d527f8a3b368c99756638fd1bb5758f5e78300c9
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Jan 5 10:40:33 2015 +0000

    SLING-4009: implementing multiple queue dispatch strategy to have one queue per receiving endpoint
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1649499 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/AbstractDistributionAgentFactory.java     | 157 +++++++++++++++++++
 .../impl/ForwardDistributionAgentFactory.java      | 167 ++++++++++++++++++++
 .../agent/impl/QueueDistributionAgentFactory.java  |  93 +++---------
 .../impl/ReverseDistributionAgentFactory.java      | 168 +++++++++++++++++++++
 .../agent/impl/SimpleDistributionAgent.java        |   1 +
 .../agent/impl/SimpleDistributionAgentFactory.java |  95 +++---------
 .../agent/impl/SyncDistributionAgentFactory.java   |   6 +-
 .../component/impl/DistributionComponentUtils.java |   4 +
 .../distribution/component/impl/SettingsUtils.java |  24 +++
 .../packaging/DistributionPackageInfo.java         |   9 ++
 .../RemoteDistributionPackageImporter.java         |  12 +-
 .../RemoteDistributionPackageImporterFactory.java  |   3 +-
 .../impl/MultipleQueueDispatchingStrategy.java     |  91 +++++++++++
 .../queue/impl/SingleQueueDispatchingStrategy.java |  28 +---
 .../MultipleEndpointDistributionTransport.java     |  97 ++++++++----
 .../RemoteDistributionPackageImporterTest.java     |   5 +-
 16 files changed, 746 insertions(+), 214 deletions(-)

commit 722867407ae9960e956c75801112fa75fdbc6e68
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Dec 17 11:28:36 2014 +0000

    SLING-4153 - minor log fix
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1646203 13f79535-47bb-0310-9956-ffa450edef68

 .../sling/distribution/agent/impl/SimpleDistributionAgent.java       | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit ee5211b5c353a9afb6f4d088427f2da089030153
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Dec 16 16:48:14 2014 +0000

    SLING-4252 - added config factory for repository importer
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1646005 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/QueueDistributionAgentFactory.java  |   2 -
 .../agent/impl/SimpleDistributionAgent.java        |   1 -
 .../importer/LocalDistributionPackageImporter.java |  10 +-
 .../LocalDistributionPackageImporterFactory.java   |  11 +-
 .../RemoteDistributionPackageImporterFactory.java  |   8 +-
 .../RepositoryDistributionPackageImporter.java     |  62 +++++------
 ...positoryDistributionPackageImporterFactory.java |  91 ++++++++++++++++
 .../LocalDistributionPackageImporterTest.java      |   3 +-
 .../RepositoryDistributionPackageImporterTest.java | 121 +++++++++++++++++++++
 9 files changed, 248 insertions(+), 61 deletions(-)

commit 577e455201eeec4aaba4bdb8bed1be04d13a22cf
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Dec 16 10:40:49 2014 +0000

    SLING-4153 - moved communication to root distribution package
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1645902 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/sling/distribution/agent/DistributionAgent.java | 14 +++++++-------
 .../impl/DistributionRequestAuthorizationException.java    |  2 +-
 .../impl/DistributionRequestAuthorizationStrategy.java     |  4 ++--
 .../PrivilegeDistributionRequestAuthorizationStrategy.java |  4 ++--
 ...egeDistributionRequestAuthorizationStrategyFactory.java |  2 +-
 .../distribution/agent/impl/SimpleDistributionAgent.java   | 10 +++++-----
 .../{communication => }/impl/DefaultDistributor.java       | 13 +++++--------
 .../{communication => }/impl/DistributionParameter.java    |  2 +-
 .../impl/SimpleDistributionResponse.java                   |  6 +++---
 .../packaging/DistributionPackageExporter.java             |  4 ++--
 .../distribution/packaging/DistributionPackageInfo.java    |  2 +-
 .../impl/exporter/AgentDistributionPackageExporter.java    |  2 +-
 .../exporter/AgentDistributionPackageExporterFactory.java  |  2 +-
 .../impl/exporter/LocalDistributionPackageExporter.java    |  2 +-
 .../exporter/LocalDistributionPackageExporterFactory.java  |  2 +-
 .../impl/exporter/RemoteDistributionPackageExporter.java   |  2 +-
 .../exporter/RemoteDistributionPackageExporterFactory.java |  2 +-
 .../apache/sling/distribution/queue/DistributionQueue.java |  2 +-
 .../queue/impl/jobhandling/JobHandlingUtils.java           |  2 +-
 .../serialization/DistributionPackageBuilder.java          |  6 +++---
 .../impl/AbstractDistributionPackageBuilder.java           |  4 ++--
 .../impl/ResourceSharedDistributionPackageBuilder.java     |  2 +-
 .../serialization/impl/VoidDistributionPackage.java        |  6 +++---
 .../serialization/impl/VoidDistributionPackageBuilder.java |  2 +-
 .../impl/vlt/FileVaultDistributionPackage.java             |  2 +-
 .../impl/vlt/FileVaultDistributionPackageBuilder.java      |  2 +-
 .../impl/vlt/JcrVaultDistributionPackage.java              |  2 +-
 .../impl/vlt/JcrVaultDistributionPackageBuilder.java       |  2 +-
 .../impl/vlt/VaultDistributionPackageBuilderFactory.java   |  2 +-
 .../distribution/serialization/impl/vlt/VltUtils.java      |  2 +-
 .../servlet/DistributionAgentQueueServlet.java             |  2 +-
 .../distribution/servlet/DistributionAgentRootServlet.java |  6 +++---
 .../distribution/servlet/DistributionAgentServlet.java     |  4 ++--
 .../servlet/DistributionPackageExporterServlet.java        |  2 +-
 .../distribution/servlet/DistributionTriggerServlet.java   |  2 +-
 .../distribution/transport/core/DistributionTransport.java |  6 +++---
 .../impl/MultipleEndpointDistributionTransport.java        |  2 +-
 .../transport/impl/SimpleHttpDistributionTransport.java    |  2 +-
 .../distribution/trigger/DistributionRequestHandler.java   |  4 ++--
 .../sling/distribution/trigger/DistributionTrigger.java    |  2 +-
 .../distribution/trigger/impl/AbstractJcrEventTrigger.java |  6 +++---
 .../trigger/impl/ChainDistributeDistributionTrigger.java   |  6 +++---
 .../trigger/impl/JcrEventDistributionTrigger.java          |  6 +++---
 .../trigger/impl/LocalDistributionTriggerFactory.java      |  2 +-
 .../impl/PersistingJcrEventDistributionTrigger.java        |  6 +++---
 .../trigger/impl/RemoteEventDistributionTrigger.java       |  6 +++---
 .../trigger/impl/ResourceEventDistributionTrigger.java     |  6 +++---
 .../trigger/impl/ScheduledDistributionTrigger.java         |  6 +++---
 .../org/apache/sling/distribution/util/RequestUtils.java   |  8 ++++----
 .../agent/impl/SimpleDistributionAgentTest.java            | 10 +++++-----
 .../exporter/LocalDistributionPackageExporterTest.java     |  6 +++---
 .../exporter/RemoteDistributionPackageExporterTest.java    |  6 +++---
 .../impl/jobhandling/JobHandlingDistributionQueueTest.java |  2 +-
 .../queue/impl/jobhandling/JobHandlingUtilsTest.java       |  2 +-
 .../impl/VoidDistributionPackageBuilderTest.java           |  6 +++---
 .../serialization/impl/VoidDistributionPackageTest.java    |  6 +++---
 .../impl/vlt/FileVaultDistributionPackageBuilderTest.java  |  6 +++---
 .../impl/MultipleEndpointDistributionTransportTest.java    |  6 +++---
 .../impl/SimpleHttpDistributionTransportTest.java          |  6 +++---
 .../trigger/impl/JcrEventDistributionTriggerTest.java      |  2 +-
 .../impl/PersistingJcrEventDistributionTriggerTest.java    |  2 +-
 .../trigger/impl/ScheduledDistributionTriggerTest.java     |  2 +-
 62 files changed, 127 insertions(+), 130 deletions(-)

commit 2b7c1e03e281aa7a1529dfe8b1abec46a774ff66
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Mon Dec 15 16:22:43 2014 +0000

    SLING-4153 - fixed request states, removed useless asStream method in transport secret
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1645689 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        | 33 +++++++++++-----------
 .../communication/impl/DefaultDistributor.java     |  7 +++--
 .../impl/SimpleDistributionResponse.java           |  5 +++-
 .../servlet/DistributionAgentServlet.java          |  4 +--
 ...entialsDistributionTransportSecretProvider.java |  4 ---
 .../agent/impl/SimpleDistributionAgentTest.java    |  3 ++
 6 files changed, 30 insertions(+), 26 deletions(-)

commit 651b2d0d14557cea9541d2758ebe1e9046228021
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Dec 15 12:51:50 2014 +0000

    SLING-4153: moving all extensions API from api package to core
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1645643 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/agent/DistributionAgent.java      |  77 ++++++++++++++
 .../agent/DistributionAgentException.java          |  34 ++++++
 .../packaging/DistributionPackage.java             |  75 ++++++++++++++
 .../DistributionPackageExportException.java        |  34 ++++++
 .../packaging/DistributionPackageExporter.java     |  67 ++++++++++++
 .../DistributionPackageImportException.java        |  38 +++++++
 .../packaging/DistributionPackageImporter.java     |  55 ++++++++++
 .../packaging/DistributionPackageInfo.java         | 115 +++++++++++++++++++++
 .../packaging/SharedDistributionPackage.java       |  43 ++++++++
 .../RemoteDistributionPackageExporter.java         |   2 +-
 .../AdvancedRemoteDistributionPackageImporter.java |   2 +-
 .../RemoteDistributionPackageImporter.java         |   2 +-
 .../distribution/queue/DistributionQueue.java      | 102 ++++++++++++++++++
 .../queue/DistributionQueueException.java          |  34 ++++++
 .../distribution/queue/DistributionQueueItem.java  |  69 +++++++++++++
 .../queue/DistributionQueueItemStatus.java         |  85 +++++++++++++++
 .../queue/DistributionQueueProcessor.java          |  39 +++++++
 .../queue/DistributionQueueProvider.java           |  54 ++++++++++
 .../{ => core}/DistributionTransport.java          |   3 +-
 .../{ => core}/DistributionTransportException.java |   2 +-
 .../impl/AdvancedHttpDistributionTransport.java    |   4 +-
 .../MultipleEndpointDistributionTransport.java     |   6 +-
 .../impl/SimpleHttpDistributionTransport.java      |   4 +-
 .../trigger/DistributionRequestHandler.java        |  40 +++++++
 .../distribution/trigger/DistributionTrigger.java  |  50 +++++++++
 .../trigger/DistributionTriggerException.java      |  33 ++++++
 .../MultipleEndpointDistributionTransportTest.java |   3 +-
 27 files changed, 1058 insertions(+), 14 deletions(-)

commit c5a21b33c73e5ef5cb8203d1c3ab67e8a8173e0a
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Dec 15 12:16:35 2014 +0000

    SLING-4153: changing distribution response to a provider interface
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1645630 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        | 12 +++--
 .../communication/impl/DefaultDistributor.java     | 23 +++++++++-
 .../impl/SimpleDistributionResponse.java           | 51 ++++++++++++++++++++++
 3 files changed, 81 insertions(+), 5 deletions(-)

commit 01e0d689963458e9e94c32e147b9a5d204c2c691
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Dec 15 08:35:48 2014 +0000

    SLING-4153: adding distributor type and making DistributionRequest and interface
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1645598 13f79535-47bb-0310-9956-ffa450edef68

 .../communication/impl/DefaultDistributor.java     | 49 ++++++++++++++++++++++
 .../communication/impl/DistributionParameter.java  | 42 +++++++++++++++++++
 .../impl/DefaultDistributionComponentProvider.java |  2 +
 .../jobhandling/JobHandlingDistributionQueue.java  |  9 ++--
 .../queue/impl/simple/SimpleDistributionQueue.java |  3 +-
 .../impl/VoidDistributionPackage.java              |  3 +-
 .../vlt/FileVaultDistributionPackageBuilder.java   |  3 +-
 .../vlt/JcrVaultDistributionPackageBuilder.java    |  3 +-
 .../serialization/impl/vlt/VltUtils.java           |  6 ++-
 .../servlet/DistributionAgentQueueServlet.java     |  4 +-
 .../servlet/DistributionAgentRootServlet.java      |  3 +-
 .../impl/ChainDistributeDistributionTrigger.java   |  3 +-
 .../trigger/impl/JcrEventDistributionTrigger.java  |  3 +-
 .../PersistingJcrEventDistributionTrigger.java     |  3 +-
 .../impl/RemoteEventDistributionTrigger.java       |  3 +-
 .../impl/ResourceEventDistributionTrigger.java     |  3 +-
 .../trigger/impl/ScheduledDistributionTrigger.java |  3 +-
 .../sling/distribution/util/RequestUtils.java      | 12 ++----
 .../agent/impl/SimpleDistributionAgentTest.java    |  7 ++--
 .../LocalDistributionPackageExporterTest.java      |  3 +-
 .../RemoteDistributionPackageExporterTest.java     |  3 +-
 .../impl/VoidDistributionPackageBuilderTest.java   |  7 ++--
 .../impl/VoidDistributionPackageTest.java          |  3 +-
 .../FileVaultDistributionPackageBuilderTest.java   |  3 +-
 .../MultipleEndpointDistributionTransportTest.java | 13 +++---
 .../impl/SimpleHttpDistributionTransportTest.java  |  5 ++-
 26 files changed, 151 insertions(+), 50 deletions(-)

commit b2c673b0881bca6494f0ccacbe61c7a734640c57
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Dec 11 13:00:37 2014 +0000

    SLING-4153 - renamed QueueItemState to QueueItemStatus
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1644622 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        | 11 +++---
 .../monitor/DistributionQueueHealthCheck.java      |  4 +--
 .../impl/DistributionQueueDispatchingStrategy.java |  6 ++--
 .../impl/ErrorAwareQueueDispatchingStrategy.java   | 10 +++---
 .../impl/PriorityPathQueueDispatchingStrategy.java |  8 ++---
 .../queue/impl/SingleQueueDispatchingStrategy.java |  8 ++---
 .../jobhandling/JobHandlingDistributionQueue.java  | 10 +++---
 .../queue/impl/simple/SimpleDistributionQueue.java | 20 +++++------
 .../servlet/DistributionAgentQueueServlet.java     |  6 ++--
 .../agent/impl/SimpleDistributionAgentTest.java    |  6 ++--
 .../monitor/DistributionQueueHealthCheckTest.java  | 10 +++---
 .../ErrorAwareQueueDistributionStrategyTest.java   | 40 ++++++++++-----------
 .../PriorityPathQueueDistributionStrategyTest.java | 42 +++++++++++-----------
 .../impl/SingleQueueDistributionStrategyTest.java  | 26 +++++++-------
 .../JobHandlingDistributionQueueTest.java          |  6 ++--
 .../impl/simple/SimpleDistributionQueueTest.java   |  6 ++--
 16 files changed, 109 insertions(+), 110 deletions(-)

commit e6eafb924b4f1591cc50f09c9fd069cce318ba12
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Dec 10 08:41:42 2014 +0000

    SLING-4153 - improved queue's javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1644350 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/monitor/DistributionQueueHealthCheck.java    |  2 +-
 .../queue/impl/ErrorAwareQueueDispatchingStrategy.java        |  5 ++---
 .../queue/impl/PriorityPathQueueDispatchingStrategy.java      |  3 +--
 .../queue/impl/SingleQueueDispatchingStrategy.java            |  3 +--
 .../queue/impl/jobhandling/JobHandlingDistributionQueue.java  |  2 +-
 .../queue/impl/simple/SimpleDistributionQueue.java            |  2 +-
 .../distribution/servlet/DistributionAgentQueueServlet.java   |  2 +-
 .../monitor/DistributionQueueHealthCheckTest.java             |  4 ++--
 .../queue/impl/ErrorAwareQueueDistributionStrategyTest.java   | 11 +++++------
 .../queue/impl/PriorityPathQueueDistributionStrategyTest.java |  9 ++++-----
 .../queue/impl/SingleQueueDistributionStrategyTest.java       |  7 +++----
 .../impl/jobhandling/JobHandlingDistributionQueueTest.java    |  2 +-
 .../queue/impl/simple/SimpleDistributionQueueTest.java        |  4 ++--
 13 files changed, 25 insertions(+), 31 deletions(-)

commit 0e59e64e9ff301dfbbcbafb3100e9d902d9097fe
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Dec 8 16:11:24 2014 +0000

    SLING-4060: creating dedicated factories for sync and queue agents
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1643847 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/QueueDistributionAgentFactory.java  | 208 +++++++++++++++++++
 .../agent/impl/SimpleDistributionAgent.java        |  28 ++-
 .../agent/impl/SimpleDistributionAgentFactory.java |  10 +-
 .../agent/impl/SyncDistributionAgentFactory.java   | 231 +++++++++++++++++++++
 .../impl/DefaultDistributionComponentManager.java  |   6 +-
 .../impl/DefaultDistributionComponentProvider.java |   2 +-
 .../component/impl/DistributionComponentUtils.java |   4 +
 .../ResourceBasedDistributionComponentFactory.java |  38 ++--
 .../exporter/AgentDistributionPackageExporter.java |   2 +-
 .../RemoteDistributionPackageExporter.java         |   9 +-
 .../RemoteDistributionPackageExporterFactory.java  |   5 +-
 .../RemoteDistributionPackageImporter.java         |   4 +-
 .../RemoteDistributionPackageImporterFactory.java  |   4 +-
 .../DistributionQueueDispatchingStrategy.java      |  11 +-
 .../impl/ErrorAwareQueueDispatchingStrategy.java   |   2 +-
 .../impl/PriorityPathQueueDispatchingStrategy.java |   2 +-
 .../queue/impl/SingleQueueDispatchingStrategy.java |   2 +-
 .../jobhandling/JobHandlingDistributionQueue.java  |   2 +-
 .../servlet/DistributionAgentQueueServlet.java     |   2 +-
 .../DistributionPackageExporterServlet.java        |   8 +-
 .../impl/SimpleHttpDistributionTransport.java      |   2 +
 .../impl/LocalDistributionTriggerFactory.java      |   8 +
 .../trigger/impl/ScheduledDistributionTrigger.java |  41 +++-
 .../agent/impl/SimpleDistributionAgentTest.java    |   2 +-
 .../RemoteDistributionPackageExporterTest.java     |   2 +-
 .../RemoteDistributionPackageImporterTest.java     |   2 +-
 .../ErrorAwareQueueDistributionStrategyTest.java   |   2 +-
 .../PriorityPathQueueDistributionStrategyTest.java |   2 +-
 .../impl/SingleQueueDistributionStrategyTest.java  |   2 +-
 29 files changed, 583 insertions(+), 60 deletions(-)

commit 456a87c8509d8b4a3cef24bca1598c0a4b1c15bd
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Dec 5 14:40:03 2014 +0000

    SLING-4054: adding package builder based on jcr packages
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1643296 13f79535-47bb-0310-9956-ffa450edef68

 .../component/impl/DistributionComponentUtils.java |   6 +-
 .../ResourceSharedDistributionPackageBuilder.java  |  11 +-
 .../impl/vlt/FileVaultDistributionPackage.java     |  17 +--
 .../vlt/FileVaultDistributionPackageBuilder.java   |  13 +-
 .../impl/vlt/JcrVaultDistributionPackage.java      |  79 +++++++++++
 .../vlt/JcrVaultDistributionPackageBuilder.java    | 148 +++++++++++++++++++++
 ...=> VaultDistributionPackageBuilderFactory.java} |  36 +++--
 .../serialization/impl/vlt/VltUtils.java           |  20 +++
 ...entialsDistributionTransportSecretProvider.java |   3 +-
 .../FileVaultDistributionPackageBuilderTest.java   |  16 +--
 .../impl/vlt/FileVaultDistributionPackageTest.java |   2 +-
 11 files changed, 304 insertions(+), 47 deletions(-)

commit f26cd5ea7fc1a8d1b955ec3c4f0481eb20711248
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Dec 5 13:24:00 2014 +0000

    SLING-4153: changing events to be controlled by agent + some name changes for settings
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1643266 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        | 26 +++++-----
 .../component/impl/DistributionComponentUtils.java | 12 ++---
 .../impl/DefaultDistributionEventFactory.java      | 10 ++++
 .../event/impl/DistributionEventFactory.java       |  6 ++-
 .../RemoteDistributionPackageExporter.java         |  5 ++
 .../RemoteDistributionPackageExporterFactory.java  |  4 +-
 .../AdvancedRemoteDistributionPackageImporter.java |  4 +-
 .../importer/LocalDistributionPackageImporter.java |  5 --
 .../RemoteDistributionPackageImporterFactory.java  |  4 +-
 .../RepositoryDistributionPackageImporter.java     |  3 --
 .../DistributionQueueDispatchingStrategy.java      | 60 ++++++++++++++++++++++
 .../impl/AbstractDistributionPackageBuilder.java   | 18 +------
 .../vlt/FileVaultDistributionPackageBuilder.java   |  8 +--
 ...FileVaultDistributionPackageBuilderFactory.java |  7 +--
 .../impl/ChainDistributeDistributionTrigger.java   |  2 +-
 .../FileVaultDistributionPackageBuilderTest.java   | 16 ++----
 16 files changed, 116 insertions(+), 74 deletions(-)

commit d60e6daa3fe97db2e508924e1bea8207e2018ce7
Author: Marius Petria <mpetria@apache.org>
Date:   Fri Dec 5 09:55:53 2014 +0000

    SLING-3836: adding shallow distribution option to requests
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1643219 13f79535-47bb-0310-9956-ffa450edef68

 .../vlt/FileVaultDistributionPackageBuilder.java   |  41 ++-------
 .../serialization/impl/vlt/VltUtils.java           | 101 +++++++++++++++++++++
 .../DistributionPackageExporterServlet.java        |   1 +
 .../sling/distribution/util/RequestUtils.java      |  13 ++-
 4 files changed, 122 insertions(+), 34 deletions(-)

commit 8116fc972c7f1bd604b4abb394889ff9739994c1
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Dec 5 09:19:24 2014 +0000

    SLING-4153 - fixed transport API to just expose the secret
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1643201 13f79535-47bb-0310-9956-ffa450edef68

 .../transport/DistributionTransport.java           |  67 +++++++
 .../impl/AdvancedHttpDistributionTransport.java    | 180 ++++++++++++++++++
 .../MultipleEndpointDistributionTransport.java     |  92 +++++++++
 .../impl/SimpleHttpDistributionTransport.java      | 185 ++++++++++++++++++
 ...entialsDistributionTransportSecretProvider.java |  87 +++++++++
 .../AdvancedHttpDistributionTransportTest.java     |  79 ++++++++
 .../MultipleEndpointDistributionTransportTest.java | 208 +++++++++++++++++++++
 .../impl/SimpleHttpDistributionTransportTest.java  | 142 ++++++++++++++
 8 files changed, 1040 insertions(+)

commit fb919133c3e685a2f5f3dc3ecd3f57ef01784654
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Dec 5 08:08:59 2014 +0000

    SLING-4153 - fixed transport API to just expose the secret
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1643180 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |   2 +-
 .../agent/impl/SimpleDistributionAgent.java        |   3 +-
 .../impl/DefaultDistributionComponentProvider.java |  18 +-
 .../component/impl/DistributionComponentUtils.java |   8 +-
 .../AgentDistributionPackageExporterFactory.java   |   2 +-
 .../RemoteDistributionPackageExporter.java         |  27 +--
 .../RemoteDistributionPackageExporterFactory.java  |  21 +--
 .../AdvancedRemoteDistributionPackageImporter.java |  28 ++-
 .../RemoteDistributionPackageImporter.java         |  27 +--
 .../RemoteDistributionPackageImporterFactory.java  |  10 +-
 .../RepositoryDistributionPackageImporter.java     |  26 ++-
 .../transport/DistributionTransportHandler.java    |  56 ------
 .../impl/NopTransportAuthenticationProvider.java   |  39 -----
 .../RepositoryTransportAuthenticationProvider.java |  77 ---------
 ...CredentialsTransportAuthenticationProvider.java |  84 ---------
 ...ialsTransportAuthenticationProviderFactory.java |  79 ---------
 .../AdvancedHttpDistributionTransportHandler.java  | 190 --------------------
 ...ltipleEndpointDistributionTransportHandler.java |  85 ---------
 .../SimpleHttpDistributionTransportHandler.java    | 192 ---------------------
 .../impl/RemoteEventDistributionTrigger.java       |  93 +++++-----
 .../RemoteDistributionPackageExporterTest.java     |   6 +-
 .../RemoteDistributionPackageImporterTest.java     |   6 +-
 ...ositoryTransportAuthenticationProviderTest.java |  97 -----------
 ...entialsTransportAuthenticationProviderTest.java |  84 ---------
 ...vancedHttpDistributionTransportHandlerTest.java |  79 ---------
 ...leEndpointDistributionTransportHandlerTest.java | 189 --------------------
 ...SimpleHttpDistributionTransportHandlerTest.java | 133 --------------
 .../impl/RemoteEventDistributionTriggerTest.java   |  13 +-
 28 files changed, 149 insertions(+), 1525 deletions(-)

commit 0d6781b7b1c8239749582b4bdd98166ac0d7c113
Author: Marius Petria <mpetria@apache.org>
Date:   Thu Nov 27 14:11:39 2014 +0000

    SLING-4154: making also importers and exporters to be picked up by content based factory
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1642158 13f79535-47bb-0310-9956-ffa450edef68

 ...ibutionRequestAuthorizationStrategyFactory.java |   2 +-
 .../agent/impl/SimpleDistributionAgentFactory.java |  11 +-
 .../impl/DefaultDistributionComponentManager.java  | 120 +++++---
 .../impl/DefaultDistributionComponentProvider.java |  30 +-
 .../impl/DistributionComponentManager.java         |  12 +-
 .../component/impl/DistributionComponentUtils.java | 230 ++++++++-------
 .../ResourceBasedDistributionComponentFactory.java | 314 ++++++++++++++++-----
 .../distribution/component/impl/SettingsUtils.java |   4 +
 .../AgentDistributionPackageExporterFactory.java   |   2 +-
 .../LocalDistributionPackageExporterFactory.java   |   2 +-
 .../RemoteDistributionPackageExporterFactory.java  |   2 +-
 .../AdvancedRemoteDistributionPackageImporter.java |   6 +-
 .../LocalDistributionPackageImporterFactory.java   |   2 +-
 .../RemoteDistributionPackageImporterFactory.java  |   2 +-
 .../distribution/resources/impl/OsgiUtils.java     |  18 ++
 ...FileVaultDistributionPackageBuilderFactory.java |   2 +-
 ...ialsTransportAuthenticationProviderFactory.java |   2 +-
 .../impl/LocalDistributionTriggerFactory.java      |   2 +-
 .../impl/DistributionComponentUtilsTest.java       |  58 ++--
 19 files changed, 533 insertions(+), 288 deletions(-)

commit b4e411c2eac0879550cb8f9ac1960b8c32ba9e8b
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Nov 26 13:08:10 2014 +0000

    SLING-4153: hiding authorization strategy and request time
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1641803 13f79535-47bb-0310-9956-ffa450edef68

 .../DistributionRequestAuthorizationException.java | 28 +++++++++++++++
 .../DistributionRequestAuthorizationStrategy.java  | 42 ++++++++++++++++++++++
 ...geDistributionRequestAuthorizationStrategy.java | 19 ++++++++--
 ...ibutionRequestAuthorizationStrategyFactory.java |  2 --
 .../agent/impl/SimpleDistributionAgent.java        |  7 ++--
 .../agent/impl/SimpleDistributionAgentFactory.java |  1 -
 .../component/impl/DistributionComponentUtils.java |  2 +-
 .../impl/VoidDistributionPackage.java              |  6 ++--
 .../vlt/FileVaultDistributionPackageBuilder.java   |  3 +-
 .../servlet/DistributionTriggerServlet.java        |  5 ++-
 .../agent/impl/SimpleDistributionAgentTest.java    |  1 -
 .../impl/VoidDistributionPackageTest.java          | 11 ++----
 12 files changed, 100 insertions(+), 27 deletions(-)

commit c71df1e77f5864633e5e33fd2e9628891f3b777f
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Nov 26 10:06:06 2014 +0000

    SLING-4153 - fixed AL headers and imports
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1641788 13f79535-47bb-0310-9956-ffa450edef68

 ...geDistributionRequestAuthorizationStrategy.java |  2 +-
 ...ibutionRequestAuthorizationStrategyFactory.java | 12 ++++---
 .../agent/impl/SimpleDistributionAgentFactory.java | 14 ++++++--
 .../impl/DefaultDistributionComponentManager.java  | 33 +++++++++++++-----
 .../impl/DefaultDistributionComponentProvider.java |  1 -
 .../component/impl/DistributionComponentUtils.java | 26 +++++++++++---
 .../ResourceBasedDistributionComponentFactory.java | 26 +++++++++-----
 .../exporter/AgentDistributionPackageExporter.java |  2 --
 .../AgentDistributionPackageExporterFactory.java   |  1 -
 .../RemoteDistributionPackageExporterFactory.java  |  2 +-
 .../AdvancedRemoteDistributionPackageImporter.java |  1 -
 .../RemoteDistributionPackageImporterFactory.java  |  2 +-
 .../impl/OsgiConfigurationResourceProvider.java    |  2 --
 .../distribution/resources/impl/OsgiUtils.java     |  8 +++--
 .../impl/VoidDistributionPackage.java              |  1 -
 .../impl/vlt/FileVaultDistributionPackage.java     |  1 -
 ...FileVaultDistributionPackageBuilderFactory.java | 40 ++++++++++++++++------
 .../servlet/DistributionAgentRootServlet.java      |  2 +-
 ...ialsTransportAuthenticationProviderFactory.java |  6 +++-
 .../impl/ChainDistributeDistributionTrigger.java   |  2 +-
 .../trigger/impl/JcrEventDistributionTrigger.java  |  2 +-
 .../impl/LocalDistributionTriggerFactory.java      | 30 +++++++++++++---
 .../PersistingJcrEventDistributionTrigger.java     |  2 +-
 .../impl/RemoteEventDistributionTrigger.java       |  2 +-
 .../impl/ResourceEventDistributionTrigger.java     |  2 +-
 .../trigger/impl/ScheduledDistributionTrigger.java |  2 +-
 .../sling/distribution/util/RequestUtils.java      |  2 +-
 .../agent/impl/SimpleDistributionAgentTest.java    |  3 +-
 .../impl/DistributionComponentUtilsTest.java       | 24 +++++++++++--
 .../component/impl/SettingsUtilsTest.java          | 18 ++++++++++
 .../LocalDistributionPackageExporterTest.java      |  2 +-
 .../RemoteDistributionPackageExporterTest.java     |  2 +-
 .../LocalDistributionPackageImporterTest.java      |  1 -
 .../RemoteDistributionPackageImporterTest.java     |  1 -
 .../impl/SingleQueueDistributionStrategyTest.java  |  1 -
 .../impl/VoidDistributionPackageBuilderTest.java   |  2 +-
 .../FileVaultDistributionPackageBuilderTest.java   |  2 +-
 ...leEndpointDistributionTransportHandlerTest.java |  2 +-
 ...SimpleHttpDistributionTransportHandlerTest.java |  2 +-
 39 files changed, 209 insertions(+), 77 deletions(-)

commit ddf8f52a5debb34a1ec06ada20ba276fdbe9b6c4
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Nov 25 10:32:36 2014 +0000

    SLING-4153 - prevent timing based test failures for void package test
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1641563 13f79535-47bb-0310-9956-ffa450edef68

 .../component/impl/ResourceBasedDistributionComponentFactory.java       | 2 +-
 .../serialization/impl/vlt/FileVaultDistributionPackageBuilder.java     | 2 ++
 .../distribution/serialization/impl/VoidDistributionPackageTest.java    | 2 +-
 3 files changed, 4 insertions(+), 2 deletions(-)

commit 3991cf7e6b8c114cb71cc7d46608c716f1683558
Author: Marius Petria <mpetria@apache.org>
Date:   Tue Nov 25 10:16:08 2014 +0000

    SLING-4514: Generating OSGI configs from content and starting services using osgi services
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1641561 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/CoordinatingDistributionAgentFactory.java | 207 -----------
 ...ibutionRequestAuthorizationStrategyFactory.java |  68 ++++
 .../agent/impl/SimpleDistributionAgent.java        |  22 +-
 .../agent/impl/SimpleDistributionAgentFactory.java | 168 ++++-----
 .../impl/DefaultDistributionComponentFactory.java  | 412 ---------------------
 ...faultDistributionComponentFactoryConstants.java | 312 ----------------
 .../impl/DefaultDistributionComponentManager.java  | 129 +++++++
 .../impl/DefaultDistributionComponentProvider.java |  11 +-
 .../impl/DistributionComponentFactoryManager.java  | 132 -------
 .../impl/DistributionComponentManager.java         |  28 +-
 .../component/impl/DistributionComponentUtils.java | 215 +++++++++++
 .../impl/GenericDistributionComponentFactory.java  | 201 ----------
 .../ResourceBasedDistributionComponentFactory.java |  46 +--
 .../exporter/AgentDistributionPackageExporter.java |   7 +-
 .../AgentDistributionPackageExporterFactory.java   |  47 +--
 .../LocalDistributionPackageExporterFactory.java   |  30 +-
 .../RemoteDistributionPackageExporterFactory.java  |  75 ++--
 .../AdvancedRemoteDistributionPackageImporter.java |   6 +-
 .../LocalDistributionPackageImporterFactory.java   |  30 +-
 .../RemoteDistributionPackageImporterFactory.java  |  56 ++-
 .../resources/DistributionConstants.java           |   2 +
 .../impl/OsgiConfigurationResourceProvider.java    |  30 +-
 .../OsgiServicePropertiesResourceProvider.java     |  21 +-
 .../distribution/resources/impl/OsgiUtils.java     |  75 +++-
 ...FileVaultDistributionPackageBuilderFactory.java |  88 +++++
 ...ialsTransportAuthenticationProviderFactory.java |  31 +-
 .../trigger/impl/AbstractJcrEventTrigger.java      |   3 +-
 .../impl/ChainDistributeDistributionTrigger.java   |   3 +-
 .../impl/LocalDistributionTriggerFactory.java      | 162 ++++++++
 .../PersistingJcrEventDistributionTrigger.java     |   3 +-
 .../impl/ResourceEventDistributionTrigger.java     |   3 +-
 .../CoordinatingDistributionAgentFactoryTest.java  | 102 -----
 .../DefaultDistributionComponentFactoryTest.java   | 113 ------
 .../impl/DistributionComponentUtilsTest.java       | 115 ++++++
 34 files changed, 1109 insertions(+), 1844 deletions(-)

commit efcbfa4884a66634f63e7438207a7716834226ff
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Mon Nov 24 17:09:18 2014 +0000

    SLING-4153 - avoiding test failures due to difference in the encapsulating request time
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1641425 13f79535-47bb-0310-9956-ffa450edef68

 .../serialization/impl/VoidDistributionPackageTest.java        | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit e19ff1497cac3c2a481319db68e56361cf96e444
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Mon Nov 24 11:31:15 2014 +0000

    SLING-4153 - Queue#remove returns the removed item, Importer#importPackage returns void
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1641370 13f79535-47bb-0310-9956-ffa450edef68

 .../exporter/AgentDistributionPackageExporter.java |  5 +++--
 .../AdvancedRemoteDistributionPackageImporter.java |  5 +----
 .../importer/LocalDistributionPackageImporter.java | 13 ++++---------
 .../LocalDistributionPackageImporterFactory.java   |  4 ++--
 .../RemoteDistributionPackageImporter.java         |  3 +--
 .../RemoteDistributionPackageImporterFactory.java  |  4 ++--
 .../RepositoryDistributionPackageImporter.java     |  4 ++--
 .../impl/ErrorAwareQueueDispatchingStrategy.java   |  5 +++--
 .../jobhandling/DistributionAgentJobConsumer.java  |  2 +-
 .../jobhandling/JobHandlingDistributionQueue.java  | 22 ++++++++++++++--------
 .../queue/impl/jobhandling/JobHandlingUtils.java   |  2 +-
 .../ScheduledDistributionQueueProcessorTask.java   |  6 +++---
 .../queue/impl/simple/SimpleDistributionQueue.java | 11 ++++++++---
 .../servlet/DistributionAgentQueueServlet.java     | 13 ++++++++++++-
 .../LocalDistributionPackageImporterTest.java      |  3 +--
 .../RemoteDistributionPackageImporterTest.java     |  3 +--
 .../impl/simple/SimpleDistributionQueueTest.java   |  4 ++--
 .../impl/VoidDistributionPackageTest.java          |  2 +-
 18 files changed, 62 insertions(+), 49 deletions(-)

commit ea061cdec379e251176d7dc827239258cc148fd5
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Nov 21 16:34:28 2014 +0000

    SLING-4153 - moved paths and request type into package's packageinfo
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1640955 13f79535-47bb-0310-9956-ffa450edef68

 ...geDistributionRequestAuthorizationStrategy.java |  6 +--
 .../agent/impl/SimpleDistributionAgent.java        |  7 ++--
 .../impl/DefaultDistributionComponentFactory.java  |  4 +-
 .../importer/LocalDistributionPackageImporter.java |  6 +--
 .../RepositoryDistributionPackageImporter.java     |  2 +-
 .../impl/ErrorAwareQueueDispatchingStrategy.java   |  2 -
 .../impl/PriorityPathQueueDispatchingStrategy.java | 25 ++++++-----
 .../queue/impl/SingleQueueDispatchingStrategy.java |  2 -
 .../queue/impl/jobhandling/JobHandlingUtils.java   | 21 ++++++----
 .../ScheduledDistributionQueueProcessorTask.java   |  4 +-
 .../impl/AbstractDistributionPackageBuilder.java   | 48 ++++++++++++----------
 .../impl/ResourceSharedDistributionPackage.java    | 14 -------
 .../ResourceSharedDistributionPackageBuilder.java  |  6 +--
 .../impl/VoidDistributionPackage.java              | 40 +++++-------------
 .../impl/vlt/FileVaultDistributionPackage.java     | 29 ++-----------
 .../servlet/DistributionAgentQueueServlet.java     |  6 +--
 .../servlet/DistributionAgentRootServlet.java      |  4 +-
 .../DistributionPackageImporterServlet.java        |  4 +-
 .../servlet/DistributionTriggerServlet.java        |  4 +-
 .../AdvancedHttpDistributionTransportHandler.java  |  5 ++-
 .../SimpleHttpDistributionTransportHandler.java    |  2 +-
 .../impl/ChainDistributeDistributionTrigger.java   |  4 +-
 .../trigger/impl/JcrEventDistributionTrigger.java  |  4 +-
 .../PersistingJcrEventDistributionTrigger.java     |  4 +-
 .../impl/RemoteEventDistributionTrigger.java       |  6 +--
 .../impl/ResourceEventDistributionTrigger.java     |  6 +--
 .../trigger/impl/ScheduledDistributionTrigger.java |  6 +--
 .../sling/distribution/util/RequestUtils.java      |  6 +--
 .../agent/impl/SimpleDistributionAgentTest.java    | 16 ++++----
 .../LocalDistributionPackageExporterTest.java      |  4 +-
 .../RemoteDistributionPackageExporterTest.java     |  4 +-
 .../PriorityPathQueueDistributionStrategyTest.java | 24 ++++++++---
 .../JobHandlingDistributionQueueTest.java          | 20 ++++++---
 .../impl/jobhandling/JobHandlingUtilsTest.java     | 14 +++++--
 .../impl/VoidDistributionPackageBuilderTest.java   |  8 ++--
 .../impl/VoidDistributionPackageTest.java          | 11 +++--
 .../FileVaultDistributionPackageBuilderTest.java   | 17 +++++---
 .../impl/vlt/FileVaultDistributionPackageTest.java | 19 +++------
 ...leEndpointDistributionTransportHandlerTest.java | 14 +++----
 ...SimpleHttpDistributionTransportHandlerTest.java |  6 +--
 .../impl/ScheduledDistributionTriggerTest.java     |  6 +--
 41 files changed, 209 insertions(+), 231 deletions(-)

commit 6651f96ece7fa87f9c04e8ca79df2223e4310f5b
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Nov 21 14:51:51 2014 +0000

    SLING-4153 - improve javadoc, added distribution request state, minor fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1640924 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        | 96 +++++++++++++++++-----
 .../impl/DefaultDistributionComponentFactory.java  |  8 +-
 ...faultDistributionComponentFactoryConstants.java |  4 +-
 .../RemoteDistributionPackageExporter.java         |  4 +-
 .../RemoteDistributionPackageExporterFactory.java  |  4 +-
 .../importer/LocalDistributionPackageImporter.java |  2 +-
 .../impl/ErrorAwareQueueDispatchingStrategy.java   |  2 +-
 .../impl/PriorityPathQueueDispatchingStrategy.java |  2 +-
 .../queue/impl/SingleQueueDispatchingStrategy.java |  2 +-
 .../queue/impl/jobhandling/JobHandlingUtils.java   |  3 +-
 .../impl/AbstractDistributionPackageBuilder.java   |  8 +-
 .../impl/ResourceSharedDistributionPackage.java    |  4 +-
 .../ResourceSharedDistributionPackageBuilder.java  |  2 +-
 .../impl/VoidDistributionPackage.java              |  2 +-
 .../impl/vlt/FileVaultDistributionPackage.java     |  2 +-
 .../servlet/DistributionAgentRootServlet.java      |  1 -
 .../servlet/DistributionAgentServlet.java          | 40 +++------
 .../AdvancedHttpDistributionTransportHandler.java  |  2 +-
 .../SimpleHttpDistributionTransportHandler.java    | 17 ++--
 .../impl/RemoteEventDistributionTrigger.java       |  4 +-
 .../sling/distribution/util/RequestUtils.java      |  2 +-
 .../agent/impl/SimpleDistributionAgentTest.java    |  1 -
 .../LocalDistributionPackageExporterTest.java      |  3 +-
 .../RemoteDistributionPackageExporterTest.java     |  3 +-
 .../impl/VoidDistributionPackageBuilderTest.java   |  8 +-
 .../impl/VoidDistributionPackageTest.java          |  2 +-
 .../FileVaultDistributionPackageBuilderTest.java   |  4 +-
 .../impl/vlt/FileVaultDistributionPackageTest.java |  2 +-
 ...leEndpointDistributionTransportHandlerTest.java | 13 +--
 ...SimpleHttpDistributionTransportHandlerTest.java |  6 +-
 30 files changed, 144 insertions(+), 109 deletions(-)

commit 4a6c2a66e1cdbf5bd35a49847f577e3b4f239911
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Thu Nov 20 13:20:13 2014 +0000

    SLING-4145, SLING-4190 - dispatching strategy returning item states instead of boolean, removed explicit time from request, status in response is now a message
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1640737 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        |  39 ++++----
 .../impl/ErrorAwareQueueDispatchingStrategy.java   |  13 ++-
 .../impl/PriorityPathQueueDispatchingStrategy.java |  16 +---
 .../queue/impl/SingleQueueDispatchingStrategy.java |   9 +-
 .../jobhandling/JobHandlingDistributionQueue.java  |   4 +-
 .../queue/impl/simple/SimpleDistributionQueue.java |   6 +-
 .../impl/VoidDistributionPackage.java              |   3 +-
 .../servlet/DistributionAgentRootServlet.java      |   3 +-
 .../servlet/DistributionAgentServlet.java          |   8 +-
 .../impl/ChainDistributeDistributionTrigger.java   |   2 +-
 .../trigger/impl/JcrEventDistributionTrigger.java  |   2 +-
 .../PersistingJcrEventDistributionTrigger.java     |   2 +-
 .../impl/RemoteEventDistributionTrigger.java       |   2 +-
 .../impl/ResourceEventDistributionTrigger.java     |   2 +-
 .../trigger/impl/ScheduledDistributionTrigger.java |   2 +-
 .../sling/distribution/util/RequestUtils.java      |   4 +-
 .../agent/impl/SimpleDistributionAgentTest.java    |  22 +++--
 .../ErrorAwareQueueDistributionStrategyTest.java   |  59 +++++++-----
 .../PriorityPathQueueDistributionStrategyTest.java | 105 +++++++++++----------
 .../impl/SingleQueueDistributionStrategyTest.java  |  43 +++++----
 .../impl/VoidDistributionPackageTest.java          |   5 +-
 21 files changed, 187 insertions(+), 164 deletions(-)

commit 14536534fb6b2cf9c1e6f30171bbcd959d21375a
Author: Marius Petria <mpetria@apache.org>
Date:   Wed Nov 19 11:42:32 2014 +0000

    SLING-4153: Making DistributionComponentFactory delegate creation of subcomponents
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1640532 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/CoordinatingDistributionAgentFactory.java |   7 +-
 .../agent/impl/SimpleDistributionAgentFactory.java |   8 +-
 .../impl/DefaultDistributionComponentFactory.java  | 137 ++++++++++-----------
 ...faultDistributionComponentFactoryConstants.java |   5 -
 .../impl/DistributionComponentFactoryManager.java  |  68 +++++++++-
 .../impl/DistributionComponentManager.java         |  42 +++++++
 .../impl/GenericDistributionComponentFactory.java  |   7 +-
 .../ResourceBasedDistributionComponentFactory.java |   2 +-
 .../AgentDistributionPackageExporterFactory.java   |   7 +-
 .../LocalDistributionPackageExporterFactory.java   |   6 +-
 .../RemoteDistributionPackageExporterFactory.java  |   7 +-
 .../LocalDistributionPackageImporterFactory.java   |   4 +-
 .../RemoteDistributionPackageImporterFactory.java  |   8 +-
 ...ialsTransportAuthenticationProviderFactory.java |   6 +-
 .../CoordinatingDistributionAgentFactoryTest.java  |   7 +-
 .../DefaultDistributionComponentFactoryTest.java   | 133 +++++++++-----------
 16 files changed, 255 insertions(+), 199 deletions(-)

commit d45e59499f67a045accb8baa3dd585f67639e8f0
Author: Marius Petria <mpetria@apache.org>
Date:   Mon Nov 17 16:00:18 2014 +0000

    SLING-4153: Cleaning DistributionComponentFactory of all constants and making it a ConsumerType
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1640176 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/CoordinatingDistributionAgentFactory.java |  30 +-
 .../agent/impl/SimpleDistributionAgentFactory.java |  31 +-
 .../impl/DefaultDistributionComponentFactory.java  |  19 +-
 ...faultDistributionComponentFactoryConstants.java | 317 +++++++++++++++++++++
 .../impl/DistributionComponentFactoryManager.java  |  72 +++++
 .../impl/GenericDistributionComponentFactory.java  |  19 +-
 .../ResourceBasedDistributionComponentFactory.java |   8 +-
 .../AgentDistributionPackageExporterFactory.java   |  16 +-
 .../LocalDistributionPackageExporterFactory.java   |  15 +-
 .../RemoteDistributionPackageExporterFactory.java  |  22 +-
 .../AdvancedRemoteDistributionPackageImporter.java |   4 +-
 .../LocalDistributionPackageImporterFactory.java   |  16 +-
 .../RemoteDistributionPackageImporterFactory.java  |  23 +-
 ...ialsTransportAuthenticationProviderFactory.java |  16 +-
 .../CoordinatingDistributionAgentFactoryTest.java  |  15 +-
 .../DefaultDistributionComponentFactoryTest.java   |  18 +-
 16 files changed, 529 insertions(+), 112 deletions(-)

commit 4991833fa6b4b3b4c2d669f30e01a8f3bbb0f154
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Wed Nov 12 10:28:06 2014 +0000

    SLING-4153 - ManagedDC extending from DC, renaming DQueueDistributionStrategy to DQueueDispatchingStrategy
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1638734 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/CoordinatingDistributionAgentFactory.java |  8 +++---
 .../agent/impl/SimpleDistributionAgent.java        |  8 +++---
 .../agent/impl/SimpleDistributionAgentFactory.java |  8 +++---
 .../impl/DefaultDistributionComponentFactory.java  | 17 ++++++------
 .../impl/DefaultDistributionComponentProvider.java | 14 +++++-----
 ...ava => ErrorAwareQueueDispatchingStrategy.java} |  4 +--
 ...a => PriorityPathQueueDispatchingStrategy.java} |  6 ++---
 ...gy.java => SingleQueueDispatchingStrategy.java} |  4 +--
 .../servlet/DistributionAgentQueueServlet.java     |  4 +--
 .../trigger/impl/AbstractJcrEventTrigger.java      | 24 ++++++++++++-----
 .../impl/ResourceEventDistributionTrigger.java     |  3 +++
 .../agent/impl/SimpleDistributionAgentTest.java    | 22 ++++++++--------
 .../ErrorAwareQueueDistributionStrategyTest.java   | 30 +++++++++++-----------
 .../PriorityPathQueueDistributionStrategyTest.java | 28 ++++++++++----------
 .../impl/SingleQueueDistributionStrategyTest.java  | 20 +++++++--------
 15 files changed, 107 insertions(+), 93 deletions(-)

commit 4b64085c73c5a578719affa5743cb6098553f6e8
Author: mpetria <mpetria@unknown>
Date:   Tue Nov 11 14:16:02 2014 +0000

    SLING-4149: renaming factory to resource based & adding defaults
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1638116 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/DefaultDistributionComponentFactory.java  | 14 ++---
 ...ResourceBasedDistributionComponentFactory.java} | 60 ++++++++++++++++------
 2 files changed, 52 insertions(+), 22 deletions(-)

commit 4e06b12a42de41d2f8e7125f5c15b36cb425bcb3
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Tue Nov 11 10:12:29 2014 +0000

    SLING-4153 - removed serializable, made request constructors consistent, adjusted jsr305 annotations
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1638060 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/PrivilegeDistributionRequestAuthorizationStrategy.java   | 4 ++--
 .../sling/distribution/agent/impl/SimpleDistributionAgent.java    | 5 +++--
 .../impl/jobhandling/JobHandlingDistributionQueueProvider.java    | 1 +
 .../serialization/impl/AbstractDistributionPackageBuilder.java    | 8 ++++----
 .../distribution/serialization/impl/VoidDistributionPackage.java  | 4 ++--
 .../sling/distribution/servlet/DistributionAgentQueueServlet.java | 3 ++-
 .../sling/distribution/servlet/DistributionTriggerServlet.java    | 4 ++--
 .../transport/impl/AdvancedHttpDistributionTransportHandler.java  | 1 -
 .../distribution/trigger/impl/RemoteEventDistributionTrigger.java | 2 +-
 .../java/org/apache/sling/distribution/util/RequestUtils.java     | 2 +-
 .../distribution/agent/impl/SimpleDistributionAgentTest.java      | 2 +-
 .../serialization/impl/VoidDistributionPackageBuilderTest.java    | 2 +-
 12 files changed, 20 insertions(+), 18 deletions(-)

commit 1679aa2203a36a2b91c14178d266f7deb1a6111f
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Mon Nov 10 20:26:37 2014 +0000

    SLING-4150 - throw an exception if remote importer transport fails
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1637975 13f79535-47bb-0310-9956-ffa450edef68

 .../impl/importer/RemoteDistributionPackageImporter.java          | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit 0bb9c4f90d8dffda1f51f2009243e5cf46f514f2
Author: mpetria <mpetria@unknown>
Date:   Mon Nov 10 16:10:46 2014 +0000

    SLING-4149: adding component factories based on resources
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1637904 13f79535-47bb-0310-9956-ffa450edef68

 .../ContentBasedDistributionComponentFactory.java  | 272 +++++++++++++++++++++
 1 file changed, 272 insertions(+)

commit 6e1016e57f176357c3216949ca42623028fda750
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Mon Nov 10 12:22:08 2014 +0000

    SLING-4145 - removing DistributionEvent subclass of Event, moving getTopic to DistributionEventType
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1637825 13f79535-47bb-0310-9956-ffa450edef68

 .../distribution/event/impl/DefaultDistributionEventFactory.java   | 7 +++----
 .../trigger/impl/ChainDistributeDistributionTrigger.java           | 3 +--
 2 files changed, 4 insertions(+), 6 deletions(-)

commit b19e433f383885f8f9d89397f63493c58b3e4aeb
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Mon Nov 10 11:59:47 2014 +0000

    SLING-3891 - moved readme under contrib/extensions/distribution, minor javadoc fix
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1637823 13f79535-47bb-0310-9956-ffa450edef68

 README.md                                          | 177 ---------------------
 .../JobHandlingDistributionQueueProvider.java      |   3 +-
 2 files changed, 1 insertion(+), 179 deletions(-)

commit 06d5878caf5b61b77c3fa39f230431cf3868633b
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Sat Nov 8 15:30:30 2014 +0000

    SLING-3553 - varius minor fixes (final modifiers, visibility issues, etc.)
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1637573 13f79535-47bb-0310-9956-ffa450edef68

 .../agent/impl/SimpleDistributionAgent.java        |  2 +-
 .../impl/DefaultDistributionComponentFactory.java  | 16 ++++++-------
 .../impl/DefaultDistributionComponentProvider.java | 12 +++++-----
 .../distribution/component/impl/SettingsUtils.java |  8 +++----
 .../exporter/AgentDistributionPackageExporter.java |  4 ++--
 .../AgentDistributionPackageExporterFactory.java   |  2 +-
 .../exporter/LocalDistributionPackageExporter.java |  2 +-
 .../LocalDistributionPackageExporterFactory.java   |  2 +-
 .../RemoteDistributionPackageExporter.java         |  5 +----
 .../RemoteDistributionPackageExporterFactory.java  |  4 ++--
 .../AdvancedRemoteDistributionPackageImporter.java |  2 +-
 .../LocalDistributionPackageImporterFactory.java   |  2 +-
 .../RemoteDistributionPackageImporterFactory.java  |  2 +-
 .../impl/ErrorAwareQueueDistributionStrategy.java  |  2 +-
 .../impl/SingleQueueDistributionStrategy.java      |  2 +-
 .../jobhandling/DistributionAgentJobConsumer.java  |  2 +-
 .../jobhandling/JobHandlingDistributionQueue.java  |  2 +-
 .../ScheduledDistributionQueueProcessorTask.java   |  2 +-
 .../simple/SimpleDistributionQueueProvider.java    |  2 +-
 .../resources/DistributionConstants.java           |  6 ++---
 .../impl/OsgiConfigurationResourceProvider.java    |  6 ++---
 .../OsgiPropertiesResourceProviderFactory.java     |  2 +-
 .../common/AbstractModifyingResourceProvider.java  |  6 ++---
 .../common/AbstractReadableResourceProvider.java   | 26 +++++++++++-----------
 .../impl/common/SimpleModifiableValueMap.java      |  2 +-
 .../resources/impl/common/SimplePathInfo.java      |  4 ++--
 .../impl/common/SimpleReadableResource.java        |  2 +-
 .../impl/AbstractDistributionPackageBuilder.java   |  2 +-
 .../impl/ResourceSharedDistributionPackage.java    |  4 ++--
 .../ResourceSharedDistributionPackageBuilder.java  | 10 ++++-----
 .../vlt/FileVaultDistributionPackageBuilder.java   |  4 ++--
 .../DistributionPackageImporterServlet.java        |  2 +-
 ...ltipleEndpointDistributionTransportHandler.java |  6 ++---
 .../trigger/impl/AbstractJcrEventTrigger.java      |  8 +++----
 .../PersistingJcrEventDistributionTrigger.java     |  2 +-
 .../impl/RemoteEventDistributionTrigger.java       |  2 +-
 .../agent/impl/SimpleDistributionAgentTest.java    |  6 ++---
 .../DefaultDistributionComponentFactoryTest.java   |  4 +---
 .../component/impl/SettingsUtilsTest.java          |  3 ++-
 .../monitor/DistributionQueueHealthCheckTest.java  |  2 +-
 .../JobHandlingDistributionQueueProviderTest.java  |  2 --
 .../impl/RemoteEventDistributionTriggerTest.java   |  1 -
 42 files changed, 90 insertions(+), 97 deletions(-)

commit 75685183201efbacebf1b6b13d1836608b6b8c2c
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Nov 7 16:09:27 2014 +0000

    SLING-4144 - split distribution api and core bundles
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1637396 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |  3 +++
 .../sling/distribution/util/package-info.java      | 24 ++++++++++++++++++++++
 2 files changed, 27 insertions(+)

commit a6d588f5d0393c609e31d205b4f83eabff127c04
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Nov 7 15:52:52 2014 +0000

    SLING-4144 - split distribution api and core bundles
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1637392 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml                                            |  20 +-
 .../distribution/agent/DistributionAgent.java      |  70 -----
 .../agent/DistributionAgentException.java          |  34 ---
 .../DistributionRequestAuthorizationException.java |  28 --
 .../DistributionRequestAuthorizationStrategy.java  |  43 ---
 .../impl/CoordinatingDistributionAgentFactory.java |   4 +-
 .../agent/impl/SimpleDistributionAgent.java        |  18 +-
 .../agent/impl/SimpleDistributionAgentFactory.java |   9 +-
 .../sling/distribution/agent/package-info.java     |  24 --
 .../communication/DistributionActionType.java      |  83 ------
 .../communication/DistributionParameter.java       |  41 ---
 .../communication/DistributionRequest.java         |  80 -----
 .../communication/DistributionResponse.java        |  47 ---
 .../distribution/communication/package-info.java   |  24 --
 .../component/DistributionComponent.java           |  31 --
 .../component/DistributionComponentFactory.java    | 331 ---------------------
 .../component/DistributionComponentProvider.java   |  48 ---
 .../component/ManagedDistributionComponent.java    |  40 ---
 .../impl/DefaultDistributionComponentFactory.java  |   4 +-
 .../impl/GenericDistributionComponentFactory.java  |   2 +-
 .../sling/distribution/component/package-info.java |  24 --
 .../distribution/event/DistributionEvent.java      |  45 ---
 .../distribution/event/DistributionEventType.java  |  66 ----
 .../sling/distribution/event/package-info.java     |  24 --
 .../monitor/DistributionQueueHealthCheck.java      |  10 +-
 .../packaging/DistributionPackage.java             | 101 -------
 .../DistributionPackageExportException.java        |  34 ---
 .../packaging/DistributionPackageExporter.java     |  60 ----
 .../DistributionPackageImportException.java        |  40 ---
 .../packaging/DistributionPackageImporter.java     |  57 ----
 .../packaging/DistributionPackageInfo.java         |  56 ----
 .../packaging/SharedDistributionPackage.java       |  43 ---
 .../AgentDistributionPackageExporterFactory.java   |   7 +-
 .../exporter/LocalDistributionPackageExporter.java |  10 +-
 .../LocalDistributionPackageExporterFactory.java   |   6 +-
 .../RemoteDistributionPackageExporter.java         |  10 +-
 .../RemoteDistributionPackageExporterFactory.java  |   6 +-
 .../AdvancedRemoteDistributionPackageImporter.java |   8 +-
 .../importer/LocalDistributionPackageImporter.java |   2 +-
 .../LocalDistributionPackageImporterFactory.java   |   2 +-
 .../RemoteDistributionPackageImporter.java         |   4 +-
 .../RemoteDistributionPackageImporterFactory.java  |   2 +-
 .../RepositoryDistributionPackageImporter.java     |   6 +-
 .../sling/distribution/packaging/package-info.java |  24 --
 .../distribution/queue/DistributionQueue.java      |  92 ------
 .../DistributionQueueDistributionStrategy.java     |  56 ----
 .../queue/DistributionQueueException.java          |  34 ---
 .../distribution/queue/DistributionQueueItem.java  |  69 -----
 .../queue/DistributionQueueItemSelector.java       |  53 ----
 .../queue/DistributionQueueItemState.java          |  77 -----
 .../queue/DistributionQueueProcessor.java          |  39 ---
 .../queue/DistributionQueueProvider.java           |  55 ----
 .../impl/SingleQueueDistributionStrategy.java      |   5 +-
 .../jobhandling/DistributionAgentJobConsumer.java  |   4 +-
 .../jobhandling/JobHandlingDistributionQueue.java  |   8 +-
 .../JobHandlingDistributionQueueProvider.java      |   4 +-
 .../queue/impl/jobhandling/JobHandlingUtils.java   |   2 +-
 .../simple/SimpleDistributionQueueProvider.java    |   7 +-
 .../sling/distribution/queue/package-info.java     |  24 --
 .../impl/ResourceSharedDistributionPackage.java    |  11 +-
 .../ResourceSharedDistributionPackageBuilder.java  |  17 +-
 .../DistributionPackageImporterServlet.java        |   2 +-
 .../TransportAuthenticationContext.java            |  40 ---
 .../TransportAuthenticationException.java          |  35 ---
 .../TransportAuthenticationProvider.java           |  58 ----
 .../RepositoryTransportAuthenticationProvider.java |   2 +-
 ...CredentialsTransportAuthenticationProvider.java |   2 +-
 .../transport/authentication/package-info.java     |  24 --
 .../SimpleHttpDistributionTransportHandler.java    |   2 +-
 .../trigger/DistributionRequestHandler.java        |  40 ---
 .../distribution/trigger/DistributionTrigger.java  |  51 ----
 .../trigger/DistributionTriggerException.java      |  33 --
 .../trigger/impl/AbstractJcrEventTrigger.java      |   2 +-
 .../trigger/impl/JcrEventDistributionTrigger.java  |   2 +-
 .../PersistingJcrEventDistributionTrigger.java     |   2 +-
 .../impl/RemoteEventDistributionTrigger.java       |   2 +-
 .../sling/distribution/trigger/package-info.java   |  24 --
 .../sling/distribution/util/RequestUtils.java      |   2 +-
 .../sling/distribution/util/package-info.java      |  24 --
 .../agent/impl/SimpleDistributionAgentTest.java    |   2 +-
 .../DefaultDistributionComponentFactoryTest.java   |   1 -
 .../component/impl/SettingsUtilsTest.java          |   4 +-
 .../monitor/DistributionQueueHealthCheckTest.java  |   6 +-
 .../ErrorAwareQueueDistributionStrategyTest.java   |   8 +-
 .../PriorityPathQueueDistributionStrategyTest.java |   8 +-
 .../impl/SingleQueueDistributionStrategyTest.java  |   8 +-
 .../DistributionAgentJobConsumerTest.java          |   4 +-
 .../JobHandlingDistributionQueueProviderTest.java  |   4 +-
 .../JobHandlingDistributionQueueTest.java          |   6 +-
 ...ositoryTransportAuthenticationProviderTest.java |   2 +-
 ...entialsTransportAuthenticationProviderTest.java |   2 +-
 .../impl/JcrEventDistributionTriggerTest.java      |   2 +-
 .../PersistingJcrEventDistributionTriggerTest.java |   2 +-
 93 files changed, 147 insertions(+), 2444 deletions(-)

commit 575e712d7b21509511a6ca73af552d1edf63a859
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Nov 7 10:45:49 2014 +0000

    SLING-4140 - renamed and moved Sling Replication to Sling Content Distribution
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1637339 13f79535-47bb-0310-9956-ffa450edef68

 README.md                                                |  2 +-
 .../distribution/agent/impl/SimpleDistributionAgent.java |  2 +-
 .../sling/distribution/event/DistributionEventType.java  |  2 +-
 .../distribution/packaging/DistributionPackage.java      |  2 +-
 .../sling/distribution/queue/DistributionQueue.java      |  2 +-
 .../impl/AbstractDistributionPackageBuilder.java         |  2 +-
 .../impl/ResourceSharedDistributionPackageBuilder.java   |  2 +-
 .../distribution/servlet/DistributionAgentServlet.java   |  2 +-
 .../trigger/impl/ChainDistributeDistributionTrigger.java |  2 +-
 .../trigger/impl/JcrEventDistributionTrigger.java        |  2 +-
 .../trigger/impl/ResourceEventDistributionTrigger.java   |  4 ++--
 .../sling/distribution/util/DistributionJcrUtils.java    | 14 +++++++-------
 .../trigger/impl/ChainDistributionTriggerTest.java       | 16 ++++++++--------
 13 files changed, 27 insertions(+), 27 deletions(-)

commit 94beead6f34aea3b293cd2e082d88d6d96384e5d
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Nov 7 10:43:38 2014 +0000

    SLING-4140 - renamed and moved Sling Replication to Sling Content Distribution
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1637338 13f79535-47bb-0310-9956-ffa450edef68

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f94d2f62185d1fa4e096c3c53686205b91816a2c
Author: Tommaso Teofili <tommaso@apache.org>
Date:   Fri Nov 7 10:28:02 2014 +0000

    SLING-4140 - renamed and moved Sling Replication to Sling Content Distribution
    
    git-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1637333 13f79535-47bb-0310-9956-ffa450edef68

 README.md                                          | 177 +++++++++
 pom.xml                                            | 244 ++++++++++++
 .../distribution/agent/DistributionAgent.java      |  70 ++++
 .../agent/DistributionAgentException.java          |  34 ++
 .../DistributionRequestAuthorizationException.java |  28 ++
 .../DistributionRequestAuthorizationStrategy.java  |  43 +++
 .../impl/CoordinatingDistributionAgentFactory.java | 206 ++++++++++
 ...geDistributionRequestAuthorizationStrategy.java |  90 +++++
 .../agent/impl/SimpleDistributionAgent.java        | 387 +++++++++++++++++++
 .../agent/impl/SimpleDistributionAgentFactory.java | 227 +++++++++++
 .../sling/distribution/agent/package-info.java     |  24 ++
 .../communication/DistributionActionType.java      |  83 ++++
 .../communication/DistributionParameter.java       |  41 ++
 .../communication/DistributionRequest.java         |  80 ++++
 .../communication/DistributionResponse.java        |  47 +++
 .../distribution/communication/package-info.java   |  24 ++
 .../component/DistributionComponent.java           |  31 ++
 .../component/DistributionComponentFactory.java    | 331 ++++++++++++++++
 .../component/DistributionComponentProvider.java   |  48 +++
 .../component/ManagedDistributionComponent.java    |  40 ++
 .../impl/DefaultDistributionComponentFactory.java  | 425 +++++++++++++++++++++
 .../impl/DefaultDistributionComponentProvider.java | 194 ++++++++++
 .../impl/GenericDistributionComponentFactory.java  | 201 ++++++++++
 .../distribution/component/impl/SettingsUtils.java | 154 ++++++++
 .../sling/distribution/component/package-info.java |  24 ++
 .../distribution/event/DistributionEvent.java      |  45 +++
 .../distribution/event/DistributionEventType.java  |  66 ++++
 .../impl/DefaultDistributionEventFactory.java      |  51 +++
 .../event/impl/DistributionEventFactory.java       |  38 ++
 .../sling/distribution/event/package-info.java     |  24 ++
 .../monitor/DistributionQueueHealthCheck.java      | 146 +++++++
 .../packaging/DistributionPackage.java             | 101 +++++
 .../DistributionPackageExportException.java        |  34 ++
 .../packaging/DistributionPackageExporter.java     |  60 +++
 .../DistributionPackageImportException.java        |  40 ++
 .../packaging/DistributionPackageImporter.java     |  57 +++
 .../packaging/DistributionPackageInfo.java         |  56 +++
 .../packaging/SharedDistributionPackage.java       |  43 +++
 .../exporter/AgentDistributionPackageExporter.java |  89 +++++
 .../AgentDistributionPackageExporterFactory.java   | 105 +++++
 .../exporter/LocalDistributionPackageExporter.java |  58 +++
 .../LocalDistributionPackageExporterFactory.java   |  90 +++++
 .../RemoteDistributionPackageExporter.java         |  87 +++++
 .../RemoteDistributionPackageExporterFactory.java  | 134 +++++++
 .../AdvancedRemoteDistributionPackageImporter.java | 147 +++++++
 .../importer/LocalDistributionPackageImporter.java | 103 +++++
 .../LocalDistributionPackageImporterFactory.java   |  89 +++++
 .../RemoteDistributionPackageImporter.java         |  88 +++++
 .../RemoteDistributionPackageImporterFactory.java  | 117 ++++++
 .../RepositoryDistributionPackageImporter.java     | 114 ++++++
 .../sling/distribution/packaging/package-info.java |  24 ++
 .../distribution/queue/DistributionQueue.java      |  92 +++++
 .../DistributionQueueDistributionStrategy.java     |  56 +++
 .../queue/DistributionQueueException.java          |  34 ++
 .../distribution/queue/DistributionQueueItem.java  |  69 ++++
 .../queue/DistributionQueueItemSelector.java       |  53 +++
 .../queue/DistributionQueueItemState.java          |  77 ++++
 .../queue/DistributionQueueProcessor.java          |  39 ++
 .../queue/DistributionQueueProvider.java           |  55 +++
 .../impl/ErrorAwareQueueDistributionStrategy.java  | 132 +++++++
 .../impl/PriorityPathDistributionStrategy.java     | 115 ++++++
 .../impl/SingleQueueDistributionStrategy.java      |  65 ++++
 .../jobhandling/DistributionAgentJobConsumer.java  |  52 +++
 .../jobhandling/JobHandlingDistributionQueue.java  | 178 +++++++++
 .../JobHandlingDistributionQueueProvider.java      |  94 +++++
 .../queue/impl/jobhandling/JobHandlingUtils.java   |  86 +++++
 .../ScheduledDistributionQueueProcessorTask.java   |  67 ++++
 .../queue/impl/simple/SimpleDistributionQueue.java | 126 ++++++
 .../simple/SimpleDistributionQueueProvider.java    |  95 +++++
 .../sling/distribution/queue/package-info.java     |  24 ++
 .../resources/DistributionConstants.java           |  38 ++
 .../impl/OsgiConfigurationResourceProvider.java    | 283 ++++++++++++++
 .../OsgiPropertiesResourceProviderFactory.java     | 164 ++++++++
 .../OsgiServicePropertiesResourceProvider.java     | 131 +++++++
 .../distribution/resources/impl/OsgiUtils.java     |  65 ++++
 .../common/AbstractModifyingResourceProvider.java  | 169 ++++++++
 .../common/AbstractReadableResourceProvider.java   | 266 +++++++++++++
 .../impl/common/SimpleModifiableResource.java      |  53 +++
 .../impl/common/SimpleModifiableValueMap.java      |  81 ++++
 .../resources/impl/common/SimplePathInfo.java      | 119 ++++++
 .../impl/common/SimpleReadableResource.java        | 126 ++++++
 .../serialization/DistributionPackageBuilder.java  |  76 ++++
 .../DistributionPackageBuildingException.java      |  34 ++
 .../DistributionPackageReadingException.java       |  39 ++
 .../impl/AbstractDistributionPackage.java          |  37 ++
 .../impl/AbstractDistributionPackageBuilder.java   | 199 ++++++++++
 .../impl/ResourceSharedDistributionPackage.java    | 190 +++++++++
 .../ResourceSharedDistributionPackageBuilder.java  | 155 ++++++++
 .../impl/VoidDistributionPackage.java              | 142 +++++++
 .../impl/VoidDistributionPackageBuilder.java       |  70 ++++
 .../impl/vlt/FileVaultDistributionPackage.java     | 126 ++++++
 .../vlt/FileVaultDistributionPackageBuilder.java   | 200 ++++++++++
 .../servlet/DistributionAgentQueueServlet.java     | 132 +++++++
 .../servlet/DistributionAgentRootServlet.java      |  87 +++++
 .../servlet/DistributionAgentServlet.java          | 104 +++++
 .../DistributionPackageExporterServlet.java        | 109 ++++++
 .../DistributionPackageImporterServlet.java        |  78 ++++
 .../servlet/DistributionTriggerServlet.java        | 116 ++++++
 .../transport/DistributionTransportException.java  |  35 ++
 .../transport/DistributionTransportHandler.java    |  56 +++
 .../TransportAuthenticationContext.java            |  40 ++
 .../TransportAuthenticationException.java          |  35 ++
 .../TransportAuthenticationProvider.java           |  58 +++
 .../impl/NopTransportAuthenticationProvider.java   |  39 ++
 .../RepositoryTransportAuthenticationProvider.java |  77 ++++
 ...CredentialsTransportAuthenticationProvider.java |  84 ++++
 ...ialsTransportAuthenticationProviderFactory.java |  74 ++++
 .../transport/authentication/package-info.java     |  24 ++
 .../AdvancedHttpDistributionTransportHandler.java  | 190 +++++++++
 .../transport/impl/DistributionEndpoint.java       |  67 ++++
 ...ltipleEndpointDistributionTransportHandler.java |  85 +++++
 .../SimpleHttpDistributionTransportHandler.java    | 193 ++++++++++
 .../impl/TransportEndpointStrategyType.java        |  24 ++
 .../trigger/DistributionRequestHandler.java        |  40 ++
 .../distribution/trigger/DistributionTrigger.java  |  51 +++
 .../trigger/DistributionTriggerException.java      |  33 ++
 .../trigger/impl/AbstractJcrEventTrigger.java      | 144 +++++++
 .../impl/ChainDistributeDistributionTrigger.java   | 130 +++++++
 .../trigger/impl/JcrEventDistributionTrigger.java  |  59 +++
 .../PersistingJcrEventDistributionTrigger.java     | 141 +++++++
 .../impl/RemoteEventDistributionTrigger.java       | 204 ++++++++++
 .../impl/ResourceEventDistributionTrigger.java     | 126 ++++++
 .../trigger/impl/ScheduledDistributionTrigger.java |  88 +++++
 .../sling/distribution/trigger/package-info.java   |  24 ++
 .../distribution/util/DistributionJcrUtils.java    |  64 ++++
 .../sling/distribution/util/RequestUtils.java      |  53 +++
 .../sling/distribution/util/package-info.java      |  24 ++
 .../CoordinatingDistributionAgentFactoryTest.java  | 100 +++++
 .../agent/impl/SimpleDistributionAgentTest.java    | 210 ++++++++++
 .../DefaultDistributionComponentFactoryTest.java   | 129 +++++++
 .../component/impl/SettingsUtilsTest.java          |  63 +++
 .../monitor/DistributionQueueHealthCheckTest.java  | 119 ++++++
 .../LocalDistributionPackageExporterTest.java      |  48 +++
 .../RemoteDistributionPackageExporterTest.java     |  55 +++
 .../LocalDistributionPackageImporterTest.java      |  45 +++
 .../RemoteDistributionPackageImporterTest.java     |  48 +++
 .../ErrorAwareQueueDistributionStrategyTest.java   | 149 ++++++++
 .../PriorityPathQueueDistributionStrategyTest.java | 158 ++++++++
 .../impl/SingleQueueDistributionStrategyTest.java  |  91 +++++
 .../DistributionAgentJobConsumerTest.java          |  59 +++
 .../JobHandlingDistributionQueueProviderTest.java  |  78 ++++
 .../JobHandlingDistributionQueueTest.java          |  86 +++++
 .../impl/jobhandling/JobHandlingUtilsTest.java     |  60 +++
 ...cheduledDistributionQueueProcessorTaskTest.java |  76 ++++
 .../SimpleDistributionQueueProviderTest.java       |  68 ++++
 .../impl/simple/SimpleDistributionQueueTest.java   |  77 ++++
 .../impl/VoidDistributionPackageBuilderTest.java   | 117 ++++++
 .../impl/VoidDistributionPackageTest.java          |  49 +++
 .../FileVaultDistributionPackageBuilderTest.java   | 175 +++++++++
 .../impl/vlt/FileVaultDistributionPackageTest.java | 113 ++++++
 ...ositoryTransportAuthenticationProviderTest.java |  97 +++++
 ...entialsTransportAuthenticationProviderTest.java |  84 ++++
 ...vancedHttpDistributionTransportHandlerTest.java |  79 ++++
 ...leEndpointDistributionTransportHandlerTest.java | 188 +++++++++
 ...SimpleHttpDistributionTransportHandlerTest.java | 133 +++++++
 .../trigger/impl/ChainDistributionTriggerTest.java |  65 ++++
 .../impl/JcrEventDistributionTriggerTest.java      |  59 +++
 .../PersistingJcrEventDistributionTriggerTest.java | 152 ++++++++
 .../impl/RemoteEventDistributionTriggerTest.java   |  63 +++
 .../impl/ResourceEventDistributionTriggerTest.java |  72 ++++
 .../impl/ScheduledDistributionTriggerTest.java     |  61 +++
 161 files changed, 15645 insertions(+)

